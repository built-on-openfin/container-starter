/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../../node_modules/@openfin/cloud-interop/out/index.js":
/*!*****************************************************************!*\
  !*** ../../../node_modules/@openfin/cloud-interop/out/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cloudInteropOverride: () => (/* binding */ cloudInteropOverride)
/* harmony export */ });
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ "../../../node_modules/buffer/index.js");


function bind(fn, thisArg) {
  return function wrap() {
    return fn.apply(thisArg, arguments);
  };
}

// utils is a library of generic helper functions non-specific to axios

const {toString} = Object.prototype;
const {getPrototypeOf} = Object;

const kindOf = (cache => thing => {
    const str = toString.call(thing);
    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());
})(Object.create(null));

const kindOfTest = (type) => {
  type = type.toLowerCase();
  return (thing) => kindOf(thing) === type
};

const typeOfTest = type => thing => typeof thing === type;

/**
 * Determine if a value is an Array
 *
 * @param {Object} val The value to test
 *
 * @returns {boolean} True if value is an Array, otherwise false
 */
const {isArray} = Array;

/**
 * Determine if a value is undefined
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if the value is undefined, otherwise false
 */
const isUndefined = typeOfTest('undefined');

/**
 * Determine if a value is a Buffer
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Buffer, otherwise false
 */
function isBuffer(val) {
  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)
    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);
}

/**
 * Determine if a value is an ArrayBuffer
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is an ArrayBuffer, otherwise false
 */
const isArrayBuffer = kindOfTest('ArrayBuffer');


/**
 * Determine if a value is a view on an ArrayBuffer
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
 */
function isArrayBufferView(val) {
  let result;
  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {
    result = ArrayBuffer.isView(val);
  } else {
    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));
  }
  return result;
}

/**
 * Determine if a value is a String
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a String, otherwise false
 */
const isString = typeOfTest('string');

/**
 * Determine if a value is a Function
 *
 * @param {*} val The value to test
 * @returns {boolean} True if value is a Function, otherwise false
 */
const isFunction = typeOfTest('function');

/**
 * Determine if a value is a Number
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Number, otherwise false
 */
const isNumber = typeOfTest('number');

/**
 * Determine if a value is an Object
 *
 * @param {*} thing The value to test
 *
 * @returns {boolean} True if value is an Object, otherwise false
 */
const isObject = (thing) => thing !== null && typeof thing === 'object';

/**
 * Determine if a value is a Boolean
 *
 * @param {*} thing The value to test
 * @returns {boolean} True if value is a Boolean, otherwise false
 */
const isBoolean = thing => thing === true || thing === false;

/**
 * Determine if a value is a plain Object
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a plain Object, otherwise false
 */
const isPlainObject = (val) => {
  if (kindOf(val) !== 'object') {
    return false;
  }

  const prototype = getPrototypeOf(val);
  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);
};

/**
 * Determine if a value is a Date
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Date, otherwise false
 */
const isDate = kindOfTest('Date');

/**
 * Determine if a value is a File
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a File, otherwise false
 */
const isFile = kindOfTest('File');

/**
 * Determine if a value is a Blob
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Blob, otherwise false
 */
const isBlob = kindOfTest('Blob');

/**
 * Determine if a value is a FileList
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a File, otherwise false
 */
const isFileList = kindOfTest('FileList');

/**
 * Determine if a value is a Stream
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Stream, otherwise false
 */
const isStream = (val) => isObject(val) && isFunction(val.pipe);

/**
 * Determine if a value is a FormData
 *
 * @param {*} thing The value to test
 *
 * @returns {boolean} True if value is an FormData, otherwise false
 */
const isFormData = (thing) => {
  let kind;
  return thing && (
    (typeof FormData === 'function' && thing instanceof FormData) || (
      isFunction(thing.append) && (
        (kind = kindOf(thing)) === 'formdata' ||
        // detect form-data instance
        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')
      )
    )
  )
};

/**
 * Determine if a value is a URLSearchParams object
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a URLSearchParams object, otherwise false
 */
const isURLSearchParams = kindOfTest('URLSearchParams');

const [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);

/**
 * Trim excess whitespace off the beginning and end of a string
 *
 * @param {String} str The String to trim
 *
 * @returns {String} The String freed of excess whitespace
 */
const trim = (str) => str.trim ?
  str.trim() : str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');

/**
 * Iterate over an Array or an Object invoking a function for each item.
 *
 * If `obj` is an Array callback will be called passing
 * the value, index, and complete array for each item.
 *
 * If 'obj' is an Object callback will be called passing
 * the value, key, and complete object for each property.
 *
 * @param {Object|Array} obj The object to iterate
 * @param {Function} fn The callback to invoke for each item
 *
 * @param {Boolean} [allOwnKeys = false]
 * @returns {any}
 */
function forEach(obj, fn, {allOwnKeys = false} = {}) {
  // Don't bother if no value provided
  if (obj === null || typeof obj === 'undefined') {
    return;
  }

  let i;
  let l;

  // Force an array if not already something iterable
  if (typeof obj !== 'object') {
    /*eslint no-param-reassign:0*/
    obj = [obj];
  }

  if (isArray(obj)) {
    // Iterate over array values
    for (i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    // Iterate over object keys
    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);
    const len = keys.length;
    let key;

    for (i = 0; i < len; i++) {
      key = keys[i];
      fn.call(null, obj[key], key, obj);
    }
  }
}

function findKey(obj, key) {
  key = key.toLowerCase();
  const keys = Object.keys(obj);
  let i = keys.length;
  let _key;
  while (i-- > 0) {
    _key = keys[i];
    if (key === _key.toLowerCase()) {
      return _key;
    }
  }
  return null;
}

const _global = (() => {
  /*eslint no-undef:0*/
  if (typeof globalThis !== "undefined") return globalThis;
  return typeof self !== "undefined" ? self : (typeof window !== 'undefined' ? window : __webpack_require__.g)
})();

const isContextDefined = (context) => !isUndefined(context) && context !== _global;

/**
 * Accepts varargs expecting each argument to be an object, then
 * immutably merges the properties of each object and returns result.
 *
 * When multiple objects contain the same key the later object in
 * the arguments list will take precedence.
 *
 * Example:
 *
 * ```js
 * var result = merge({foo: 123}, {foo: 456});
 * console.log(result.foo); // outputs 456
 * ```
 *
 * @param {Object} obj1 Object to merge
 *
 * @returns {Object} Result of all merge properties
 */
function merge(/* obj1, obj2, obj3, ... */) {
  const {caseless} = isContextDefined(this) && this || {};
  const result = {};
  const assignValue = (val, key) => {
    const targetKey = caseless && findKey(result, key) || key;
    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {
      result[targetKey] = merge(result[targetKey], val);
    } else if (isPlainObject(val)) {
      result[targetKey] = merge({}, val);
    } else if (isArray(val)) {
      result[targetKey] = val.slice();
    } else {
      result[targetKey] = val;
    }
  };

  for (let i = 0, l = arguments.length; i < l; i++) {
    arguments[i] && forEach(arguments[i], assignValue);
  }
  return result;
}

/**
 * Extends object a by mutably adding to it the properties of object b.
 *
 * @param {Object} a The object to be extended
 * @param {Object} b The object to copy properties from
 * @param {Object} thisArg The object to bind function to
 *
 * @param {Boolean} [allOwnKeys]
 * @returns {Object} The resulting value of object a
 */
const extend = (a, b, thisArg, {allOwnKeys}= {}) => {
  forEach(b, (val, key) => {
    if (thisArg && isFunction(val)) {
      a[key] = bind(val, thisArg);
    } else {
      a[key] = val;
    }
  }, {allOwnKeys});
  return a;
};

/**
 * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)
 *
 * @param {string} content with BOM
 *
 * @returns {string} content value without BOM
 */
const stripBOM = (content) => {
  if (content.charCodeAt(0) === 0xFEFF) {
    content = content.slice(1);
  }
  return content;
};

/**
 * Inherit the prototype methods from one constructor into another
 * @param {function} constructor
 * @param {function} superConstructor
 * @param {object} [props]
 * @param {object} [descriptors]
 *
 * @returns {void}
 */
const inherits = (constructor, superConstructor, props, descriptors) => {
  constructor.prototype = Object.create(superConstructor.prototype, descriptors);
  constructor.prototype.constructor = constructor;
  Object.defineProperty(constructor, 'super', {
    value: superConstructor.prototype
  });
  props && Object.assign(constructor.prototype, props);
};

/**
 * Resolve object with deep prototype chain to a flat object
 * @param {Object} sourceObj source object
 * @param {Object} [destObj]
 * @param {Function|Boolean} [filter]
 * @param {Function} [propFilter]
 *
 * @returns {Object}
 */
const toFlatObject = (sourceObj, destObj, filter, propFilter) => {
  let props;
  let i;
  let prop;
  const merged = {};

  destObj = destObj || {};
  // eslint-disable-next-line no-eq-null,eqeqeq
  if (sourceObj == null) return destObj;

  do {
    props = Object.getOwnPropertyNames(sourceObj);
    i = props.length;
    while (i-- > 0) {
      prop = props[i];
      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {
        destObj[prop] = sourceObj[prop];
        merged[prop] = true;
      }
    }
    sourceObj = filter !== false && getPrototypeOf(sourceObj);
  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);

  return destObj;
};

/**
 * Determines whether a string ends with the characters of a specified string
 *
 * @param {String} str
 * @param {String} searchString
 * @param {Number} [position= 0]
 *
 * @returns {boolean}
 */
const endsWith = (str, searchString, position) => {
  str = String(str);
  if (position === undefined || position > str.length) {
    position = str.length;
  }
  position -= searchString.length;
  const lastIndex = str.indexOf(searchString, position);
  return lastIndex !== -1 && lastIndex === position;
};


/**
 * Returns new array from array like object or null if failed
 *
 * @param {*} [thing]
 *
 * @returns {?Array}
 */
const toArray = (thing) => {
  if (!thing) return null;
  if (isArray(thing)) return thing;
  let i = thing.length;
  if (!isNumber(i)) return null;
  const arr = new Array(i);
  while (i-- > 0) {
    arr[i] = thing[i];
  }
  return arr;
};

/**
 * Checking if the Uint8Array exists and if it does, it returns a function that checks if the
 * thing passed in is an instance of Uint8Array
 *
 * @param {TypedArray}
 *
 * @returns {Array}
 */
// eslint-disable-next-line func-names
const isTypedArray = (TypedArray => {
  // eslint-disable-next-line func-names
  return thing => {
    return TypedArray && thing instanceof TypedArray;
  };
})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));

/**
 * For each entry in the object, call the function with the key and value.
 *
 * @param {Object<any, any>} obj - The object to iterate over.
 * @param {Function} fn - The function to call for each entry.
 *
 * @returns {void}
 */
const forEachEntry = (obj, fn) => {
  const generator = obj && obj[Symbol.iterator];

  const iterator = generator.call(obj);

  let result;

  while ((result = iterator.next()) && !result.done) {
    const pair = result.value;
    fn.call(obj, pair[0], pair[1]);
  }
};

/**
 * It takes a regular expression and a string, and returns an array of all the matches
 *
 * @param {string} regExp - The regular expression to match against.
 * @param {string} str - The string to search.
 *
 * @returns {Array<boolean>}
 */
const matchAll = (regExp, str) => {
  let matches;
  const arr = [];

  while ((matches = regExp.exec(str)) !== null) {
    arr.push(matches);
  }

  return arr;
};

/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */
const isHTMLForm = kindOfTest('HTMLFormElement');

const toCamelCase = str => {
  return str.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,
    function replacer(m, p1, p2) {
      return p1.toUpperCase() + p2;
    }
  );
};

/* Creating a function that will check if an object has a property. */
const hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);

/**
 * Determine if a value is a RegExp object
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a RegExp object, otherwise false
 */
const isRegExp = kindOfTest('RegExp');

const reduceDescriptors = (obj, reducer) => {
  const descriptors = Object.getOwnPropertyDescriptors(obj);
  const reducedDescriptors = {};

  forEach(descriptors, (descriptor, name) => {
    let ret;
    if ((ret = reducer(descriptor, name, obj)) !== false) {
      reducedDescriptors[name] = ret || descriptor;
    }
  });

  Object.defineProperties(obj, reducedDescriptors);
};

/**
 * Makes all methods read-only
 * @param {Object} obj
 */

const freezeMethods = (obj) => {
  reduceDescriptors(obj, (descriptor, name) => {
    // skip restricted props in strict mode
    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {
      return false;
    }

    const value = obj[name];

    if (!isFunction(value)) return;

    descriptor.enumerable = false;

    if ('writable' in descriptor) {
      descriptor.writable = false;
      return;
    }

    if (!descriptor.set) {
      descriptor.set = () => {
        throw Error('Can not rewrite read-only method \'' + name + '\'');
      };
    }
  });
};

const toObjectSet = (arrayOrString, delimiter) => {
  const obj = {};

  const define = (arr) => {
    arr.forEach(value => {
      obj[value] = true;
    });
  };

  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));

  return obj;
};

const noop = () => {};

const toFiniteNumber = (value, defaultValue) => {
  return value != null && Number.isFinite(value = +value) ? value : defaultValue;
};

const ALPHA = 'abcdefghijklmnopqrstuvwxyz';

const DIGIT = '0123456789';

const ALPHABET = {
  DIGIT,
  ALPHA,
  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT
};

const generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {
  let str = '';
  const {length} = alphabet;
  while (size--) {
    str += alphabet[Math.random() * length|0];
  }

  return str;
};

/**
 * If the thing is a FormData object, return true, otherwise return false.
 *
 * @param {unknown} thing - The thing to check.
 *
 * @returns {boolean}
 */
function isSpecCompliantForm(thing) {
  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);
}

const toJSONObject = (obj) => {
  const stack = new Array(10);

  const visit = (source, i) => {

    if (isObject(source)) {
      if (stack.indexOf(source) >= 0) {
        return;
      }

      if(!('toJSON' in source)) {
        stack[i] = source;
        const target = isArray(source) ? [] : {};

        forEach(source, (value, key) => {
          const reducedValue = visit(value, i + 1);
          !isUndefined(reducedValue) && (target[key] = reducedValue);
        });

        stack[i] = undefined;

        return target;
      }
    }

    return source;
  };

  return visit(obj, 0);
};

const isAsyncFn = kindOfTest('AsyncFunction');

const isThenable = (thing) =>
  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);

// original code
// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34

const _setImmediate = ((setImmediateSupported, postMessageSupported) => {
  if (setImmediateSupported) {
    return setImmediate;
  }

  return postMessageSupported ? ((token, callbacks) => {
    _global.addEventListener("message", ({source, data}) => {
      if (source === _global && data === token) {
        callbacks.length && callbacks.shift()();
      }
    }, false);

    return (cb) => {
      callbacks.push(cb);
      _global.postMessage(token, "*");
    }
  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);
})(
  typeof setImmediate === 'function',
  isFunction(_global.postMessage)
);

const asap = typeof queueMicrotask !== 'undefined' ?
  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);

// *********************

var utils$1 = {
  isArray,
  isArrayBuffer,
  isBuffer,
  isFormData,
  isArrayBufferView,
  isString,
  isNumber,
  isBoolean,
  isObject,
  isPlainObject,
  isReadableStream,
  isRequest,
  isResponse,
  isHeaders,
  isUndefined,
  isDate,
  isFile,
  isBlob,
  isRegExp,
  isFunction,
  isStream,
  isURLSearchParams,
  isTypedArray,
  isFileList,
  forEach,
  merge,
  extend,
  trim,
  stripBOM,
  inherits,
  toFlatObject,
  kindOf,
  kindOfTest,
  endsWith,
  toArray,
  forEachEntry,
  matchAll,
  isHTMLForm,
  hasOwnProperty,
  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection
  reduceDescriptors,
  freezeMethods,
  toObjectSet,
  toCamelCase,
  noop,
  toFiniteNumber,
  findKey,
  global: _global,
  isContextDefined,
  ALPHABET,
  generateString,
  isSpecCompliantForm,
  toJSONObject,
  isAsyncFn,
  isThenable,
  setImmediate: _setImmediate,
  asap
};

/**
 * Create an Error with the specified message, config, error code, request and response.
 *
 * @param {string} message The error message.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 * @param {Object} [config] The config.
 * @param {Object} [request] The request.
 * @param {Object} [response] The response.
 *
 * @returns {Error} The created error.
 */
function AxiosError$1(message, code, config, request, response) {
  Error.call(this);

  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, this.constructor);
  } else {
    this.stack = (new Error()).stack;
  }

  this.message = message;
  this.name = 'AxiosError';
  code && (this.code = code);
  config && (this.config = config);
  request && (this.request = request);
  if (response) {
    this.response = response;
    this.status = response.status ? response.status : null;
  }
}

utils$1.inherits(AxiosError$1, Error, {
  toJSON: function toJSON() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: utils$1.toJSONObject(this.config),
      code: this.code,
      status: this.status
    };
  }
});

const prototype$1 = AxiosError$1.prototype;
const descriptors = {};

[
  'ERR_BAD_OPTION_VALUE',
  'ERR_BAD_OPTION',
  'ECONNABORTED',
  'ETIMEDOUT',
  'ERR_NETWORK',
  'ERR_FR_TOO_MANY_REDIRECTS',
  'ERR_DEPRECATED',
  'ERR_BAD_RESPONSE',
  'ERR_BAD_REQUEST',
  'ERR_CANCELED',
  'ERR_NOT_SUPPORT',
  'ERR_INVALID_URL'
// eslint-disable-next-line func-names
].forEach(code => {
  descriptors[code] = {value: code};
});

Object.defineProperties(AxiosError$1, descriptors);
Object.defineProperty(prototype$1, 'isAxiosError', {value: true});

// eslint-disable-next-line func-names
AxiosError$1.from = (error, code, config, request, response, customProps) => {
  const axiosError = Object.create(prototype$1);

  utils$1.toFlatObject(error, axiosError, function filter(obj) {
    return obj !== Error.prototype;
  }, prop => {
    return prop !== 'isAxiosError';
  });

  AxiosError$1.call(axiosError, error.message, code, config, request, response);

  axiosError.cause = error;

  axiosError.name = error.name;

  customProps && Object.assign(axiosError, customProps);

  return axiosError;
};

// eslint-disable-next-line strict
var httpAdapter = null;

/**
 * Determines if the given thing is a array or js object.
 *
 * @param {string} thing - The object or array to be visited.
 *
 * @returns {boolean}
 */
function isVisitable(thing) {
  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);
}

/**
 * It removes the brackets from the end of a string
 *
 * @param {string} key - The key of the parameter.
 *
 * @returns {string} the key without the brackets.
 */
function removeBrackets(key) {
  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;
}

/**
 * It takes a path, a key, and a boolean, and returns a string
 *
 * @param {string} path - The path to the current key.
 * @param {string} key - The key of the current object being iterated over.
 * @param {string} dots - If true, the key will be rendered with dots instead of brackets.
 *
 * @returns {string} The path to the current key.
 */
function renderKey(path, key, dots) {
  if (!path) return key;
  return path.concat(key).map(function each(token, i) {
    // eslint-disable-next-line no-param-reassign
    token = removeBrackets(token);
    return !dots && i ? '[' + token + ']' : token;
  }).join(dots ? '.' : '');
}

/**
 * If the array is an array and none of its elements are visitable, then it's a flat array.
 *
 * @param {Array<any>} arr - The array to check
 *
 * @returns {boolean}
 */
function isFlatArray(arr) {
  return utils$1.isArray(arr) && !arr.some(isVisitable);
}

const predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {
  return /^is[A-Z]/.test(prop);
});

/**
 * Convert a data object to FormData
 *
 * @param {Object} obj
 * @param {?Object} [formData]
 * @param {?Object} [options]
 * @param {Function} [options.visitor]
 * @param {Boolean} [options.metaTokens = true]
 * @param {Boolean} [options.dots = false]
 * @param {?Boolean} [options.indexes = false]
 *
 * @returns {Object}
 **/

/**
 * It converts an object into a FormData object
 *
 * @param {Object<any, any>} obj - The object to convert to form data.
 * @param {string} formData - The FormData object to append to.
 * @param {Object<string, any>} options
 *
 * @returns
 */
function toFormData$1(obj, formData, options) {
  if (!utils$1.isObject(obj)) {
    throw new TypeError('target must be an object');
  }

  // eslint-disable-next-line no-param-reassign
  formData = formData || new (FormData)();

  // eslint-disable-next-line no-param-reassign
  options = utils$1.toFlatObject(options, {
    metaTokens: true,
    dots: false,
    indexes: false
  }, false, function defined(option, source) {
    // eslint-disable-next-line no-eq-null,eqeqeq
    return !utils$1.isUndefined(source[option]);
  });

  const metaTokens = options.metaTokens;
  // eslint-disable-next-line no-use-before-define
  const visitor = options.visitor || defaultVisitor;
  const dots = options.dots;
  const indexes = options.indexes;
  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;
  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);

  if (!utils$1.isFunction(visitor)) {
    throw new TypeError('visitor must be a function');
  }

  function convertValue(value) {
    if (value === null) return '';

    if (utils$1.isDate(value)) {
      return value.toISOString();
    }

    if (!useBlob && utils$1.isBlob(value)) {
      throw new AxiosError$1('Blob is not supported. Use a Buffer instead.');
    }

    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {
      return useBlob && typeof Blob === 'function' ? new Blob([value]) : buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(value);
    }

    return value;
  }

  /**
   * Default visitor.
   *
   * @param {*} value
   * @param {String|Number} key
   * @param {Array<String|Number>} path
   * @this {FormData}
   *
   * @returns {boolean} return true to visit the each prop of the value recursively
   */
  function defaultVisitor(value, key, path) {
    let arr = value;

    if (value && !path && typeof value === 'object') {
      if (utils$1.endsWith(key, '{}')) {
        // eslint-disable-next-line no-param-reassign
        key = metaTokens ? key : key.slice(0, -2);
        // eslint-disable-next-line no-param-reassign
        value = JSON.stringify(value);
      } else if (
        (utils$1.isArray(value) && isFlatArray(value)) ||
        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))
        )) {
        // eslint-disable-next-line no-param-reassign
        key = removeBrackets(key);

        arr.forEach(function each(el, index) {
          !(utils$1.isUndefined(el) || el === null) && formData.append(
            // eslint-disable-next-line no-nested-ternary
            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),
            convertValue(el)
          );
        });
        return false;
      }
    }

    if (isVisitable(value)) {
      return true;
    }

    formData.append(renderKey(path, key, dots), convertValue(value));

    return false;
  }

  const stack = [];

  const exposedHelpers = Object.assign(predicates, {
    defaultVisitor,
    convertValue,
    isVisitable
  });

  function build(value, path) {
    if (utils$1.isUndefined(value)) return;

    if (stack.indexOf(value) !== -1) {
      throw Error('Circular reference detected in ' + path.join('.'));
    }

    stack.push(value);

    utils$1.forEach(value, function each(el, key) {
      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(
        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers
      );

      if (result === true) {
        build(el, path ? path.concat(key) : [key]);
      }
    });

    stack.pop();
  }

  if (!utils$1.isObject(obj)) {
    throw new TypeError('data must be an object');
  }

  build(obj);

  return formData;
}

/**
 * It encodes a string by replacing all characters that are not in the unreserved set with
 * their percent-encoded equivalents
 *
 * @param {string} str - The string to encode.
 *
 * @returns {string} The encoded string.
 */
function encode$1(str) {
  const charMap = {
    '!': '%21',
    "'": '%27',
    '(': '%28',
    ')': '%29',
    '~': '%7E',
    '%20': '+',
    '%00': '\x00'
  };
  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {
    return charMap[match];
  });
}

/**
 * It takes a params object and converts it to a FormData object
 *
 * @param {Object<string, any>} params - The parameters to be converted to a FormData object.
 * @param {Object<string, any>} options - The options object passed to the Axios constructor.
 *
 * @returns {void}
 */
function AxiosURLSearchParams(params, options) {
  this._pairs = [];

  params && toFormData$1(params, this, options);
}

const prototype = AxiosURLSearchParams.prototype;

prototype.append = function append(name, value) {
  this._pairs.push([name, value]);
};

prototype.toString = function toString(encoder) {
  const _encode = encoder ? function(value) {
    return encoder.call(this, value, encode$1);
  } : encode$1;

  return this._pairs.map(function each(pair) {
    return _encode(pair[0]) + '=' + _encode(pair[1]);
  }, '').join('&');
};

/**
 * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their
 * URI encoded counterparts
 *
 * @param {string} val The value to be encoded.
 *
 * @returns {string} The encoded value.
 */
function encode(val) {
  return encodeURIComponent(val).
    replace(/%3A/gi, ':').
    replace(/%24/g, '$').
    replace(/%2C/gi, ',').
    replace(/%20/g, '+').
    replace(/%5B/gi, '[').
    replace(/%5D/gi, ']');
}

/**
 * Build a URL by appending params to the end
 *
 * @param {string} url The base of the url (e.g., http://www.google.com)
 * @param {object} [params] The params to be appended
 * @param {?object} options
 *
 * @returns {string} The formatted url
 */
function buildURL(url, params, options) {
  /*eslint no-param-reassign:0*/
  if (!params) {
    return url;
  }
  
  const _encode = options && options.encode || encode;

  const serializeFn = options && options.serialize;

  let serializedParams;

  if (serializeFn) {
    serializedParams = serializeFn(params, options);
  } else {
    serializedParams = utils$1.isURLSearchParams(params) ?
      params.toString() :
      new AxiosURLSearchParams(params, options).toString(_encode);
  }

  if (serializedParams) {
    const hashmarkIndex = url.indexOf("#");

    if (hashmarkIndex !== -1) {
      url = url.slice(0, hashmarkIndex);
    }
    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
  }

  return url;
}

class InterceptorManager {
  constructor() {
    this.handlers = [];
  }

  /**
   * Add a new interceptor to the stack
   *
   * @param {Function} fulfilled The function to handle `then` for a `Promise`
   * @param {Function} rejected The function to handle `reject` for a `Promise`
   *
   * @return {Number} An ID used to remove interceptor later
   */
  use(fulfilled, rejected, options) {
    this.handlers.push({
      fulfilled,
      rejected,
      synchronous: options ? options.synchronous : false,
      runWhen: options ? options.runWhen : null
    });
    return this.handlers.length - 1;
  }

  /**
   * Remove an interceptor from the stack
   *
   * @param {Number} id The ID that was returned by `use`
   *
   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
   */
  eject(id) {
    if (this.handlers[id]) {
      this.handlers[id] = null;
    }
  }

  /**
   * Clear all interceptors from the stack
   *
   * @returns {void}
   */
  clear() {
    if (this.handlers) {
      this.handlers = [];
    }
  }

  /**
   * Iterate over all the registered interceptors
   *
   * This method is particularly useful for skipping over any
   * interceptors that may have become `null` calling `eject`.
   *
   * @param {Function} fn The function to call for each interceptor
   *
   * @returns {void}
   */
  forEach(fn) {
    utils$1.forEach(this.handlers, function forEachHandler(h) {
      if (h !== null) {
        fn(h);
      }
    });
  }
}

var transitionalDefaults = {
  silentJSONParsing: true,
  forcedJSONParsing: true,
  clarifyTimeoutError: false
};

var URLSearchParams$1 = typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;

var FormData$1 = typeof FormData !== 'undefined' ? FormData : null;

var Blob$1 = typeof Blob !== 'undefined' ? Blob : null;

var platform$1 = {
  isBrowser: true,
  classes: {
    URLSearchParams: URLSearchParams$1,
    FormData: FormData$1,
    Blob: Blob$1
  },
  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']
};

const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';

const _navigator = typeof navigator === 'object' && navigator || undefined;

/**
 * Determine if we're running in a standard browser environment
 *
 * This allows axios to run in a web worker, and react-native.
 * Both environments support XMLHttpRequest, but not fully standard globals.
 *
 * web workers:
 *  typeof window -> undefined
 *  typeof document -> undefined
 *
 * react-native:
 *  navigator.product -> 'ReactNative'
 * nativescript
 *  navigator.product -> 'NativeScript' or 'NS'
 *
 * @returns {boolean}
 */
const hasStandardBrowserEnv = hasBrowserEnv &&
  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);

/**
 * Determine if we're running in a standard browser webWorker environment
 *
 * Although the `isStandardBrowserEnv` method indicates that
 * `allows axios to run in a web worker`, the WebWorker will still be
 * filtered out due to its judgment standard
 * `typeof window !== 'undefined' && typeof document !== 'undefined'`.
 * This leads to a problem when axios post `FormData` in webWorker
 */
const hasStandardBrowserWebWorkerEnv = (() => {
  return (
    typeof WorkerGlobalScope !== 'undefined' &&
    // eslint-disable-next-line no-undef
    self instanceof WorkerGlobalScope &&
    typeof self.importScripts === 'function'
  );
})();

const origin = hasBrowserEnv && window.location.href || 'http://localhost';

var utils = /*#__PURE__*/Object.freeze({
  __proto__: null,
  hasBrowserEnv: hasBrowserEnv,
  hasStandardBrowserEnv: hasStandardBrowserEnv,
  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,
  navigator: _navigator,
  origin: origin
});

var platform = {
  ...utils,
  ...platform$1
};

function toURLEncodedForm(data, options) {
  return toFormData$1(data, new platform.classes.URLSearchParams(), Object.assign({
    visitor: function(value, key, path, helpers) {
      if (platform.isNode && utils$1.isBuffer(value)) {
        this.append(key, value.toString('base64'));
        return false;
      }

      return helpers.defaultVisitor.apply(this, arguments);
    }
  }, options));
}

/**
 * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']
 *
 * @param {string} name - The name of the property to get.
 *
 * @returns An array of strings.
 */
function parsePropPath(name) {
  // foo[x][y][z]
  // foo.x.y.z
  // foo-x-y-z
  // foo x y z
  return utils$1.matchAll(/\w+|\[(\w*)]/g, name).map(match => {
    return match[0] === '[]' ? '' : match[1] || match[0];
  });
}

/**
 * Convert an array to an object.
 *
 * @param {Array<any>} arr - The array to convert to an object.
 *
 * @returns An object with the same keys and values as the array.
 */
function arrayToObject(arr) {
  const obj = {};
  const keys = Object.keys(arr);
  let i;
  const len = keys.length;
  let key;
  for (i = 0; i < len; i++) {
    key = keys[i];
    obj[key] = arr[key];
  }
  return obj;
}

/**
 * It takes a FormData object and returns a JavaScript object
 *
 * @param {string} formData The FormData object to convert to JSON.
 *
 * @returns {Object<string, any> | null} The converted object.
 */
function formDataToJSON(formData) {
  function buildPath(path, value, target, index) {
    let name = path[index++];

    if (name === '__proto__') return true;

    const isNumericKey = Number.isFinite(+name);
    const isLast = index >= path.length;
    name = !name && utils$1.isArray(target) ? target.length : name;

    if (isLast) {
      if (utils$1.hasOwnProp(target, name)) {
        target[name] = [target[name], value];
      } else {
        target[name] = value;
      }

      return !isNumericKey;
    }

    if (!target[name] || !utils$1.isObject(target[name])) {
      target[name] = [];
    }

    const result = buildPath(path, value, target[name], index);

    if (result && utils$1.isArray(target[name])) {
      target[name] = arrayToObject(target[name]);
    }

    return !isNumericKey;
  }

  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {
    const obj = {};

    utils$1.forEachEntry(formData, (name, value) => {
      buildPath(parsePropPath(name), value, obj, 0);
    });

    return obj;
  }

  return null;
}

/**
 * It takes a string, tries to parse it, and if it fails, it returns the stringified version
 * of the input
 *
 * @param {any} rawValue - The value to be stringified.
 * @param {Function} parser - A function that parses a string into a JavaScript object.
 * @param {Function} encoder - A function that takes a value and returns a string.
 *
 * @returns {string} A stringified version of the rawValue.
 */
function stringifySafely(rawValue, parser, encoder) {
  if (utils$1.isString(rawValue)) {
    try {
      (parser || JSON.parse)(rawValue);
      return utils$1.trim(rawValue);
    } catch (e) {
      if (e.name !== 'SyntaxError') {
        throw e;
      }
    }
  }

  return (0, JSON.stringify)(rawValue);
}

const defaults = {

  transitional: transitionalDefaults,

  adapter: ['xhr', 'http', 'fetch'],

  transformRequest: [function transformRequest(data, headers) {
    const contentType = headers.getContentType() || '';
    const hasJSONContentType = contentType.indexOf('application/json') > -1;
    const isObjectPayload = utils$1.isObject(data);

    if (isObjectPayload && utils$1.isHTMLForm(data)) {
      data = new FormData(data);
    }

    const isFormData = utils$1.isFormData(data);

    if (isFormData) {
      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;
    }

    if (utils$1.isArrayBuffer(data) ||
      utils$1.isBuffer(data) ||
      utils$1.isStream(data) ||
      utils$1.isFile(data) ||
      utils$1.isBlob(data) ||
      utils$1.isReadableStream(data)
    ) {
      return data;
    }
    if (utils$1.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils$1.isURLSearchParams(data)) {
      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);
      return data.toString();
    }

    let isFileList;

    if (isObjectPayload) {
      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {
        return toURLEncodedForm(data, this.formSerializer).toString();
      }

      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {
        const _FormData = this.env && this.env.FormData;

        return toFormData$1(
          isFileList ? {'files[]': data} : data,
          _FormData && new _FormData(),
          this.formSerializer
        );
      }
    }

    if (isObjectPayload || hasJSONContentType ) {
      headers.setContentType('application/json', false);
      return stringifySafely(data);
    }

    return data;
  }],

  transformResponse: [function transformResponse(data) {
    const transitional = this.transitional || defaults.transitional;
    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;
    const JSONRequested = this.responseType === 'json';

    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {
      return data;
    }

    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {
      const silentJSONParsing = transitional && transitional.silentJSONParsing;
      const strictJSONParsing = !silentJSONParsing && JSONRequested;

      try {
        return JSON.parse(data);
      } catch (e) {
        if (strictJSONParsing) {
          if (e.name === 'SyntaxError') {
            throw AxiosError$1.from(e, AxiosError$1.ERR_BAD_RESPONSE, this, null, this.response);
          }
          throw e;
        }
      }
    }

    return data;
  }],

  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,

  xsrfCookieName: 'XSRF-TOKEN',
  xsrfHeaderName: 'X-XSRF-TOKEN',

  maxContentLength: -1,
  maxBodyLength: -1,

  env: {
    FormData: platform.classes.FormData,
    Blob: platform.classes.Blob
  },

  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  },

  headers: {
    common: {
      'Accept': 'application/json, text/plain, */*',
      'Content-Type': undefined
    }
  }
};

utils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {
  defaults.headers[method] = {};
});

// RawAxiosHeaders whose duplicates are ignored by node
// c.f. https://nodejs.org/api/http.html#http_message_headers
const ignoreDuplicateOf = utils$1.toObjectSet([
  'age', 'authorization', 'content-length', 'content-type', 'etag',
  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',
  'last-modified', 'location', 'max-forwards', 'proxy-authorization',
  'referer', 'retry-after', 'user-agent'
]);

/**
 * Parse headers into an object
 *
 * ```
 * Date: Wed, 27 Aug 2014 08:58:49 GMT
 * Content-Type: application/json
 * Connection: keep-alive
 * Transfer-Encoding: chunked
 * ```
 *
 * @param {String} rawHeaders Headers needing to be parsed
 *
 * @returns {Object} Headers parsed into an object
 */
var parseHeaders = rawHeaders => {
  const parsed = {};
  let key;
  let val;
  let i;

  rawHeaders && rawHeaders.split('\n').forEach(function parser(line) {
    i = line.indexOf(':');
    key = line.substring(0, i).trim().toLowerCase();
    val = line.substring(i + 1).trim();

    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {
      return;
    }

    if (key === 'set-cookie') {
      if (parsed[key]) {
        parsed[key].push(val);
      } else {
        parsed[key] = [val];
      }
    } else {
      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;
    }
  });

  return parsed;
};

const $internals = Symbol('internals');

function normalizeHeader(header) {
  return header && String(header).trim().toLowerCase();
}

function normalizeValue(value) {
  if (value === false || value == null) {
    return value;
  }

  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);
}

function parseTokens(str) {
  const tokens = Object.create(null);
  const tokensRE = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let match;

  while ((match = tokensRE.exec(str))) {
    tokens[match[1]] = match[2];
  }

  return tokens;
}

const isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());

function matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {
  if (utils$1.isFunction(filter)) {
    return filter.call(this, value, header);
  }

  if (isHeaderNameFilter) {
    value = header;
  }

  if (!utils$1.isString(value)) return;

  if (utils$1.isString(filter)) {
    return value.indexOf(filter) !== -1;
  }

  if (utils$1.isRegExp(filter)) {
    return filter.test(value);
  }
}

function formatHeader(header) {
  return header.trim()
    .toLowerCase().replace(/([a-z\d])(\w*)/g, (w, char, str) => {
      return char.toUpperCase() + str;
    });
}

function buildAccessors(obj, header) {
  const accessorName = utils$1.toCamelCase(' ' + header);

  ['get', 'set', 'has'].forEach(methodName => {
    Object.defineProperty(obj, methodName + accessorName, {
      value: function(arg1, arg2, arg3) {
        return this[methodName].call(this, header, arg1, arg2, arg3);
      },
      configurable: true
    });
  });
}

let AxiosHeaders$1 = class AxiosHeaders {
  constructor(headers) {
    headers && this.set(headers);
  }

  set(header, valueOrRewrite, rewrite) {
    const self = this;

    function setHeader(_value, _header, _rewrite) {
      const lHeader = normalizeHeader(_header);

      if (!lHeader) {
        throw new Error('header name must be a non-empty string');
      }

      const key = utils$1.findKey(self, lHeader);

      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {
        self[key || _header] = normalizeValue(_value);
      }
    }

    const setHeaders = (headers, _rewrite) =>
      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));

    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {
      setHeaders(header, valueOrRewrite);
    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {
      setHeaders(parseHeaders(header), valueOrRewrite);
    } else if (utils$1.isHeaders(header)) {
      for (const [key, value] of header.entries()) {
        setHeader(value, key, rewrite);
      }
    } else {
      header != null && setHeader(valueOrRewrite, header, rewrite);
    }

    return this;
  }

  get(header, parser) {
    header = normalizeHeader(header);

    if (header) {
      const key = utils$1.findKey(this, header);

      if (key) {
        const value = this[key];

        if (!parser) {
          return value;
        }

        if (parser === true) {
          return parseTokens(value);
        }

        if (utils$1.isFunction(parser)) {
          return parser.call(this, value, key);
        }

        if (utils$1.isRegExp(parser)) {
          return parser.exec(value);
        }

        throw new TypeError('parser must be boolean|regexp|function');
      }
    }
  }

  has(header, matcher) {
    header = normalizeHeader(header);

    if (header) {
      const key = utils$1.findKey(this, header);

      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));
    }

    return false;
  }

  delete(header, matcher) {
    const self = this;
    let deleted = false;

    function deleteHeader(_header) {
      _header = normalizeHeader(_header);

      if (_header) {
        const key = utils$1.findKey(self, _header);

        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {
          delete self[key];

          deleted = true;
        }
      }
    }

    if (utils$1.isArray(header)) {
      header.forEach(deleteHeader);
    } else {
      deleteHeader(header);
    }

    return deleted;
  }

  clear(matcher) {
    const keys = Object.keys(this);
    let i = keys.length;
    let deleted = false;

    while (i--) {
      const key = keys[i];
      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {
        delete this[key];
        deleted = true;
      }
    }

    return deleted;
  }

  normalize(format) {
    const self = this;
    const headers = {};

    utils$1.forEach(this, (value, header) => {
      const key = utils$1.findKey(headers, header);

      if (key) {
        self[key] = normalizeValue(value);
        delete self[header];
        return;
      }

      const normalized = format ? formatHeader(header) : String(header).trim();

      if (normalized !== header) {
        delete self[header];
      }

      self[normalized] = normalizeValue(value);

      headers[normalized] = true;
    });

    return this;
  }

  concat(...targets) {
    return this.constructor.concat(this, ...targets);
  }

  toJSON(asStrings) {
    const obj = Object.create(null);

    utils$1.forEach(this, (value, header) => {
      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);
    });

    return obj;
  }

  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }

  toString() {
    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\n');
  }

  get [Symbol.toStringTag]() {
    return 'AxiosHeaders';
  }

  static from(thing) {
    return thing instanceof this ? thing : new this(thing);
  }

  static concat(first, ...targets) {
    const computed = new this(first);

    targets.forEach((target) => computed.set(target));

    return computed;
  }

  static accessor(header) {
    const internals = this[$internals] = (this[$internals] = {
      accessors: {}
    });

    const accessors = internals.accessors;
    const prototype = this.prototype;

    function defineAccessor(_header) {
      const lHeader = normalizeHeader(_header);

      if (!accessors[lHeader]) {
        buildAccessors(prototype, _header);
        accessors[lHeader] = true;
      }
    }

    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);

    return this;
  }
};

AxiosHeaders$1.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);

// reserved names hotfix
utils$1.reduceDescriptors(AxiosHeaders$1.prototype, ({value}, key) => {
  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`
  return {
    get: () => value,
    set(headerValue) {
      this[mapped] = headerValue;
    }
  }
});

utils$1.freezeMethods(AxiosHeaders$1);

/**
 * Transform the data for a request or a response
 *
 * @param {Array|Function} fns A single function or Array of functions
 * @param {?Object} response The response object
 *
 * @returns {*} The resulting transformed data
 */
function transformData(fns, response) {
  const config = this || defaults;
  const context = response || config;
  const headers = AxiosHeaders$1.from(context.headers);
  let data = context.data;

  utils$1.forEach(fns, function transform(fn) {
    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);
  });

  headers.normalize();

  return data;
}

function isCancel$1(value) {
  return !!(value && value.__CANCEL__);
}

/**
 * A `CanceledError` is an object that is thrown when an operation is canceled.
 *
 * @param {string=} message The message.
 * @param {Object=} config The config.
 * @param {Object=} request The request.
 *
 * @returns {CanceledError} The created error.
 */
function CanceledError$1(message, config, request) {
  // eslint-disable-next-line no-eq-null,eqeqeq
  AxiosError$1.call(this, message == null ? 'canceled' : message, AxiosError$1.ERR_CANCELED, config, request);
  this.name = 'CanceledError';
}

utils$1.inherits(CanceledError$1, AxiosError$1, {
  __CANCEL__: true
});

/**
 * Resolve or reject a Promise based on response status.
 *
 * @param {Function} resolve A function that resolves the promise.
 * @param {Function} reject A function that rejects the promise.
 * @param {object} response The response.
 *
 * @returns {object} The response.
 */
function settle(resolve, reject, response) {
  const validateStatus = response.config.validateStatus;
  if (!response.status || !validateStatus || validateStatus(response.status)) {
    resolve(response);
  } else {
    reject(new AxiosError$1(
      'Request failed with status code ' + response.status,
      [AxiosError$1.ERR_BAD_REQUEST, AxiosError$1.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],
      response.config,
      response.request,
      response
    ));
  }
}

function parseProtocol(url) {
  const match = /^([-+\w]{1,25})(:?\/\/|:)/.exec(url);
  return match && match[1] || '';
}

/**
 * Calculate data maxRate
 * @param {Number} [samplesCount= 10]
 * @param {Number} [min= 1000]
 * @returns {Function}
 */
function speedometer(samplesCount, min) {
  samplesCount = samplesCount || 10;
  const bytes = new Array(samplesCount);
  const timestamps = new Array(samplesCount);
  let head = 0;
  let tail = 0;
  let firstSampleTS;

  min = min !== undefined ? min : 1000;

  return function push(chunkLength) {
    const now = Date.now();

    const startedAt = timestamps[tail];

    if (!firstSampleTS) {
      firstSampleTS = now;
    }

    bytes[head] = chunkLength;
    timestamps[head] = now;

    let i = tail;
    let bytesCount = 0;

    while (i !== head) {
      bytesCount += bytes[i++];
      i = i % samplesCount;
    }

    head = (head + 1) % samplesCount;

    if (head === tail) {
      tail = (tail + 1) % samplesCount;
    }

    if (now - firstSampleTS < min) {
      return;
    }

    const passed = startedAt && now - startedAt;

    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;
  };
}

/**
 * Throttle decorator
 * @param {Function} fn
 * @param {Number} freq
 * @return {Function}
 */
function throttle(fn, freq) {
  let timestamp = 0;
  let threshold = 1000 / freq;
  let lastArgs;
  let timer;

  const invoke = (args, now = Date.now()) => {
    timestamp = now;
    lastArgs = null;
    if (timer) {
      clearTimeout(timer);
      timer = null;
    }
    fn.apply(null, args);
  };

  const throttled = (...args) => {
    const now = Date.now();
    const passed = now - timestamp;
    if ( passed >= threshold) {
      invoke(args, now);
    } else {
      lastArgs = args;
      if (!timer) {
        timer = setTimeout(() => {
          timer = null;
          invoke(lastArgs);
        }, threshold - passed);
      }
    }
  };

  const flush = () => lastArgs && invoke(lastArgs);

  return [throttled, flush];
}

const progressEventReducer = (listener, isDownloadStream, freq = 3) => {
  let bytesNotified = 0;
  const _speedometer = speedometer(50, 250);

  return throttle(e => {
    const loaded = e.loaded;
    const total = e.lengthComputable ? e.total : undefined;
    const progressBytes = loaded - bytesNotified;
    const rate = _speedometer(progressBytes);
    const inRange = loaded <= total;

    bytesNotified = loaded;

    const data = {
      loaded,
      total,
      progress: total ? (loaded / total) : undefined,
      bytes: progressBytes,
      rate: rate ? rate : undefined,
      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,
      event: e,
      lengthComputable: total != null,
      [isDownloadStream ? 'download' : 'upload']: true
    };

    listener(data);
  }, freq);
};

const progressEventDecorator = (total, throttled) => {
  const lengthComputable = total != null;

  return [(loaded) => throttled[0]({
    lengthComputable,
    total,
    loaded
  }), throttled[1]];
};

const asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));

var isURLSameOrigin = platform.hasStandardBrowserEnv ?

// Standard browser envs have full support of the APIs needed to test
// whether the request URL is of the same origin as current location.
  (function standardBrowserEnv() {
    const msie = platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent);
    const urlParsingNode = document.createElement('a');
    let originURL;

    /**
    * Parse a URL to discover its components
    *
    * @param {String} url The URL to be parsed
    * @returns {Object}
    */
    function resolveURL(url) {
      let href = url;

      if (msie) {
        // IE needs attribute set twice to normalize properties
        urlParsingNode.setAttribute('href', href);
        href = urlParsingNode.href;
      }

      urlParsingNode.setAttribute('href', href);

      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
      return {
        href: urlParsingNode.href,
        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',
        host: urlParsingNode.host,
        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '',
        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',
        hostname: urlParsingNode.hostname,
        port: urlParsingNode.port,
        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?
          urlParsingNode.pathname :
          '/' + urlParsingNode.pathname
      };
    }

    originURL = resolveURL(window.location.href);

    /**
    * Determine if a URL shares the same origin as the current location
    *
    * @param {String} requestURL The URL to test
    * @returns {boolean} True if URL shares the same origin, otherwise false
    */
    return function isURLSameOrigin(requestURL) {
      const parsed = (utils$1.isString(requestURL)) ? resolveURL(requestURL) : requestURL;
      return (parsed.protocol === originURL.protocol &&
          parsed.host === originURL.host);
    };
  })() :

  // Non standard browser envs (web workers, react-native) lack needed support.
  (function nonStandardBrowserEnv() {
    return function isURLSameOrigin() {
      return true;
    };
  })();

var cookies = platform.hasStandardBrowserEnv ?

  // Standard browser envs support document.cookie
  {
    write(name, value, expires, path, domain, secure) {
      const cookie = [name + '=' + encodeURIComponent(value)];

      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());

      utils$1.isString(path) && cookie.push('path=' + path);

      utils$1.isString(domain) && cookie.push('domain=' + domain);

      secure === true && cookie.push('secure');

      document.cookie = cookie.join('; ');
    },

    read(name) {
      const match = document.cookie.match(new RegExp('(^|;\\s*)(' + name + ')=([^;]*)'));
      return (match ? decodeURIComponent(match[3]) : null);
    },

    remove(name) {
      this.write(name, '', Date.now() - 86400000);
    }
  }

  :

  // Non-standard browser env (web workers, react-native) lack needed support.
  {
    write() {},
    read() {
      return null;
    },
    remove() {}
  };

/**
 * Determines whether the specified URL is absolute
 *
 * @param {string} url The URL to test
 *
 * @returns {boolean} True if the specified URL is absolute, otherwise false
 */
function isAbsoluteURL(url) {
  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
  // by any combination of letters, digits, plus, period, or hyphen.
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
}

/**
 * Creates a new URL by combining the specified URLs
 *
 * @param {string} baseURL The base URL
 * @param {string} relativeURL The relative URL
 *
 * @returns {string} The combined URL
 */
function combineURLs(baseURL, relativeURL) {
  return relativeURL
    ? baseURL.replace(/\/?\/$/, '') + '/' + relativeURL.replace(/^\/+/, '')
    : baseURL;
}

/**
 * Creates a new URL by combining the baseURL with the requestedURL,
 * only when the requestedURL is not already an absolute URL.
 * If the requestURL is absolute, this function returns the requestedURL untouched.
 *
 * @param {string} baseURL The base URL
 * @param {string} requestedURL Absolute or relative URL to combine
 *
 * @returns {string} The combined full path
 */
function buildFullPath(baseURL, requestedURL) {
  if (baseURL && !isAbsoluteURL(requestedURL)) {
    return combineURLs(baseURL, requestedURL);
  }
  return requestedURL;
}

const headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;

/**
 * Config-specific merge-function which creates a new config-object
 * by merging two configuration objects together.
 *
 * @param {Object} config1
 * @param {Object} config2
 *
 * @returns {Object} New object resulting from merging config2 to config1
 */
function mergeConfig$1(config1, config2) {
  // eslint-disable-next-line no-param-reassign
  config2 = config2 || {};
  const config = {};

  function getMergedValue(target, source, caseless) {
    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {
      return utils$1.merge.call({caseless}, target, source);
    } else if (utils$1.isPlainObject(source)) {
      return utils$1.merge({}, source);
    } else if (utils$1.isArray(source)) {
      return source.slice();
    }
    return source;
  }

  // eslint-disable-next-line consistent-return
  function mergeDeepProperties(a, b, caseless) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(a, b, caseless);
    } else if (!utils$1.isUndefined(a)) {
      return getMergedValue(undefined, a, caseless);
    }
  }

  // eslint-disable-next-line consistent-return
  function valueFromConfig2(a, b) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(undefined, b);
    }
  }

  // eslint-disable-next-line consistent-return
  function defaultToConfig2(a, b) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(undefined, b);
    } else if (!utils$1.isUndefined(a)) {
      return getMergedValue(undefined, a);
    }
  }

  // eslint-disable-next-line consistent-return
  function mergeDirectKeys(a, b, prop) {
    if (prop in config2) {
      return getMergedValue(a, b);
    } else if (prop in config1) {
      return getMergedValue(undefined, a);
    }
  }

  const mergeMap = {
    url: valueFromConfig2,
    method: valueFromConfig2,
    data: valueFromConfig2,
    baseURL: defaultToConfig2,
    transformRequest: defaultToConfig2,
    transformResponse: defaultToConfig2,
    paramsSerializer: defaultToConfig2,
    timeout: defaultToConfig2,
    timeoutMessage: defaultToConfig2,
    withCredentials: defaultToConfig2,
    withXSRFToken: defaultToConfig2,
    adapter: defaultToConfig2,
    responseType: defaultToConfig2,
    xsrfCookieName: defaultToConfig2,
    xsrfHeaderName: defaultToConfig2,
    onUploadProgress: defaultToConfig2,
    onDownloadProgress: defaultToConfig2,
    decompress: defaultToConfig2,
    maxContentLength: defaultToConfig2,
    maxBodyLength: defaultToConfig2,
    beforeRedirect: defaultToConfig2,
    transport: defaultToConfig2,
    httpAgent: defaultToConfig2,
    httpsAgent: defaultToConfig2,
    cancelToken: defaultToConfig2,
    socketPath: defaultToConfig2,
    responseEncoding: defaultToConfig2,
    validateStatus: mergeDirectKeys,
    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)
  };

  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {
    const merge = mergeMap[prop] || mergeDeepProperties;
    const configValue = merge(config1[prop], config2[prop], prop);
    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);
  });

  return config;
}

var resolveConfig = (config) => {
  const newConfig = mergeConfig$1({}, config);

  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;

  newConfig.headers = headers = AxiosHeaders$1.from(headers);

  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);

  // HTTP basic authentication
  if (auth) {
    headers.set('Authorization', 'Basic ' +
      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))
    );
  }

  let contentType;

  if (utils$1.isFormData(data)) {
    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {
      headers.setContentType(undefined); // Let the browser set it
    } else if ((contentType = headers.getContentType()) !== false) {
      // fix semicolon duplication issue for ReactNative FormData implementation
      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];
      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));
    }
  }

  // Add xsrf header
  // This is only done if running in a standard browser environment.
  // Specifically not if we're in a web worker, or react-native.

  if (platform.hasStandardBrowserEnv) {
    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));

    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {
      // Add xsrf header
      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);

      if (xsrfValue) {
        headers.set(xsrfHeaderName, xsrfValue);
      }
    }
  }

  return newConfig;
};

const isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';

var xhrAdapter = isXHRAdapterSupported && function (config) {
  return new Promise(function dispatchXhrRequest(resolve, reject) {
    const _config = resolveConfig(config);
    let requestData = _config.data;
    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();
    let {responseType, onUploadProgress, onDownloadProgress} = _config;
    let onCanceled;
    let uploadThrottled, downloadThrottled;
    let flushUpload, flushDownload;

    function done() {
      flushUpload && flushUpload(); // flush events
      flushDownload && flushDownload(); // flush events

      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);

      _config.signal && _config.signal.removeEventListener('abort', onCanceled);
    }

    let request = new XMLHttpRequest();

    request.open(_config.method.toUpperCase(), _config.url, true);

    // Set the request timeout in MS
    request.timeout = _config.timeout;

    function onloadend() {
      if (!request) {
        return;
      }
      // Prepare the response
      const responseHeaders = AxiosHeaders$1.from(
        'getAllResponseHeaders' in request && request.getAllResponseHeaders()
      );
      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?
        request.responseText : request.response;
      const response = {
        data: responseData,
        status: request.status,
        statusText: request.statusText,
        headers: responseHeaders,
        config,
        request
      };

      settle(function _resolve(value) {
        resolve(value);
        done();
      }, function _reject(err) {
        reject(err);
        done();
      }, response);

      // Clean up request
      request = null;
    }

    if ('onloadend' in request) {
      // Use onloadend if available
      request.onloadend = onloadend;
    } else {
      // Listen for ready state to emulate onloadend
      request.onreadystatechange = function handleLoad() {
        if (!request || request.readyState !== 4) {
          return;
        }

        // The request errored out and we didn't get a response, this will be
        // handled by onerror instead
        // With one exception: request that using file: protocol, most browsers
        // will return status as 0 even though it's a successful request
        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {
          return;
        }
        // readystate handler is calling before onerror or ontimeout handlers,
        // so we should call onloadend on the next 'tick'
        setTimeout(onloadend);
      };
    }

    // Handle browser request cancellation (as opposed to a manual cancellation)
    request.onabort = function handleAbort() {
      if (!request) {
        return;
      }

      reject(new AxiosError$1('Request aborted', AxiosError$1.ECONNABORTED, config, request));

      // Clean up request
      request = null;
    };

    // Handle low level network errors
    request.onerror = function handleError() {
      // Real errors are hidden from us by the browser
      // onerror should only fire if it's a network error
      reject(new AxiosError$1('Network Error', AxiosError$1.ERR_NETWORK, config, request));

      // Clean up request
      request = null;
    };

    // Handle timeout
    request.ontimeout = function handleTimeout() {
      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';
      const transitional = _config.transitional || transitionalDefaults;
      if (_config.timeoutErrorMessage) {
        timeoutErrorMessage = _config.timeoutErrorMessage;
      }
      reject(new AxiosError$1(
        timeoutErrorMessage,
        transitional.clarifyTimeoutError ? AxiosError$1.ETIMEDOUT : AxiosError$1.ECONNABORTED,
        config,
        request));

      // Clean up request
      request = null;
    };

    // Remove Content-Type if data is undefined
    requestData === undefined && requestHeaders.setContentType(null);

    // Add headers to the request
    if ('setRequestHeader' in request) {
      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {
        request.setRequestHeader(key, val);
      });
    }

    // Add withCredentials to request if needed
    if (!utils$1.isUndefined(_config.withCredentials)) {
      request.withCredentials = !!_config.withCredentials;
    }

    // Add responseType to request if needed
    if (responseType && responseType !== 'json') {
      request.responseType = _config.responseType;
    }

    // Handle progress if needed
    if (onDownloadProgress) {
      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));
      request.addEventListener('progress', downloadThrottled);
    }

    // Not all browsers support upload events
    if (onUploadProgress && request.upload) {
      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));

      request.upload.addEventListener('progress', uploadThrottled);

      request.upload.addEventListener('loadend', flushUpload);
    }

    if (_config.cancelToken || _config.signal) {
      // Handle cancellation
      // eslint-disable-next-line func-names
      onCanceled = cancel => {
        if (!request) {
          return;
        }
        reject(!cancel || cancel.type ? new CanceledError$1(null, config, request) : cancel);
        request.abort();
        request = null;
      };

      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);
      if (_config.signal) {
        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);
      }
    }

    const protocol = parseProtocol(_config.url);

    if (protocol && platform.protocols.indexOf(protocol) === -1) {
      reject(new AxiosError$1('Unsupported protocol ' + protocol + ':', AxiosError$1.ERR_BAD_REQUEST, config));
      return;
    }


    // Send the request
    request.send(requestData || null);
  });
};

const composeSignals = (signals, timeout) => {
  const {length} = (signals = signals ? signals.filter(Boolean) : []);

  if (timeout || length) {
    let controller = new AbortController();

    let aborted;

    const onabort = function (reason) {
      if (!aborted) {
        aborted = true;
        unsubscribe();
        const err = reason instanceof Error ? reason : this.reason;
        controller.abort(err instanceof AxiosError$1 ? err : new CanceledError$1(err instanceof Error ? err.message : err));
      }
    };

    let timer = timeout && setTimeout(() => {
      timer = null;
      onabort(new AxiosError$1(`timeout ${timeout} of ms exceeded`, AxiosError$1.ETIMEDOUT));
    }, timeout);

    const unsubscribe = () => {
      if (signals) {
        timer && clearTimeout(timer);
        timer = null;
        signals.forEach(signal => {
          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);
        });
        signals = null;
      }
    };

    signals.forEach((signal) => signal.addEventListener('abort', onabort));

    const {signal} = controller;

    signal.unsubscribe = () => utils$1.asap(unsubscribe);

    return signal;
  }
};

const streamChunk = function* (chunk, chunkSize) {
  let len = chunk.byteLength;

  if (len < chunkSize) {
    yield chunk;
    return;
  }

  let pos = 0;
  let end;

  while (pos < len) {
    end = pos + chunkSize;
    yield chunk.slice(pos, end);
    pos = end;
  }
};

const readBytes = async function* (iterable, chunkSize) {
  for await (const chunk of readStream(iterable)) {
    yield* streamChunk(chunk, chunkSize);
  }
};

const readStream = async function* (stream) {
  if (stream[Symbol.asyncIterator]) {
    yield* stream;
    return;
  }

  const reader = stream.getReader();
  try {
    for (;;) {
      const {done, value} = await reader.read();
      if (done) {
        break;
      }
      yield value;
    }
  } finally {
    await reader.cancel();
  }
};

const trackStream = (stream, chunkSize, onProgress, onFinish) => {
  const iterator = readBytes(stream, chunkSize);

  let bytes = 0;
  let done;
  let _onFinish = (e) => {
    if (!done) {
      done = true;
      onFinish && onFinish(e);
    }
  };

  return new ReadableStream({
    async pull(controller) {
      try {
        const {done, value} = await iterator.next();

        if (done) {
         _onFinish();
          controller.close();
          return;
        }

        let len = value.byteLength;
        if (onProgress) {
          let loadedBytes = bytes += len;
          onProgress(loadedBytes);
        }
        controller.enqueue(new Uint8Array(value));
      } catch (err) {
        _onFinish(err);
        throw err;
      }
    },
    cancel(reason) {
      _onFinish(reason);
      return iterator.return();
    }
  }, {
    highWaterMark: 2
  })
};

const isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';
const isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';

// used only inside the fetch adapter
const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?
    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :
    async (str) => new Uint8Array(await new Response(str).arrayBuffer())
);

const test = (fn, ...args) => {
  try {
    return !!fn(...args);
  } catch (e) {
    return false
  }
};

const supportsRequestStream = isReadableStreamSupported && test(() => {
  let duplexAccessed = false;

  const hasContentType = new Request(platform.origin, {
    body: new ReadableStream(),
    method: 'POST',
    get duplex() {
      duplexAccessed = true;
      return 'half';
    },
  }).headers.has('Content-Type');

  return duplexAccessed && !hasContentType;
});

const DEFAULT_CHUNK_SIZE = 64 * 1024;

const supportsResponseStream = isReadableStreamSupported &&
  test(() => utils$1.isReadableStream(new Response('').body));


const resolvers = {
  stream: supportsResponseStream && ((res) => res.body)
};

isFetchSupported && (((res) => {
  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {
    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :
      (_, config) => {
        throw new AxiosError$1(`Response type '${type}' is not supported`, AxiosError$1.ERR_NOT_SUPPORT, config);
      });
  });
})(new Response));

const getBodyLength = async (body) => {
  if (body == null) {
    return 0;
  }

  if(utils$1.isBlob(body)) {
    return body.size;
  }

  if(utils$1.isSpecCompliantForm(body)) {
    const _request = new Request(platform.origin, {
      method: 'POST',
      body,
    });
    return (await _request.arrayBuffer()).byteLength;
  }

  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {
    return body.byteLength;
  }

  if(utils$1.isURLSearchParams(body)) {
    body = body + '';
  }

  if(utils$1.isString(body)) {
    return (await encodeText(body)).byteLength;
  }
};

const resolveBodyLength = async (headers, body) => {
  const length = utils$1.toFiniteNumber(headers.getContentLength());

  return length == null ? getBodyLength(body) : length;
};

var fetchAdapter = isFetchSupported && (async (config) => {
  let {
    url,
    method,
    data,
    signal,
    cancelToken,
    timeout,
    onDownloadProgress,
    onUploadProgress,
    responseType,
    headers,
    withCredentials = 'same-origin',
    fetchOptions
  } = resolveConfig(config);

  responseType = responseType ? (responseType + '').toLowerCase() : 'text';

  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);

  let request;

  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {
      composedSignal.unsubscribe();
  });

  let requestContentLength;

  try {
    if (
      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&
      (requestContentLength = await resolveBodyLength(headers, data)) !== 0
    ) {
      let _request = new Request(url, {
        method: 'POST',
        body: data,
        duplex: "half"
      });

      let contentTypeHeader;

      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {
        headers.setContentType(contentTypeHeader);
      }

      if (_request.body) {
        const [onProgress, flush] = progressEventDecorator(
          requestContentLength,
          progressEventReducer(asyncDecorator(onUploadProgress))
        );

        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);
      }
    }

    if (!utils$1.isString(withCredentials)) {
      withCredentials = withCredentials ? 'include' : 'omit';
    }

    // Cloudflare Workers throws when credentials are defined
    // see https://github.com/cloudflare/workerd/issues/902
    const isCredentialsSupported = "credentials" in Request.prototype;
    request = new Request(url, {
      ...fetchOptions,
      signal: composedSignal,
      method: method.toUpperCase(),
      headers: headers.normalize().toJSON(),
      body: data,
      duplex: "half",
      credentials: isCredentialsSupported ? withCredentials : undefined
    });

    let response = await fetch(request);

    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');

    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {
      const options = {};

      ['status', 'statusText', 'headers'].forEach(prop => {
        options[prop] = response[prop];
      });

      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));

      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(
        responseContentLength,
        progressEventReducer(asyncDecorator(onDownloadProgress), true)
      ) || [];

      response = new Response(
        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {
          flush && flush();
          unsubscribe && unsubscribe();
        }),
        options
      );
    }

    responseType = responseType || 'text';

    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);

    !isStreamResponse && unsubscribe && unsubscribe();

    return await new Promise((resolve, reject) => {
      settle(resolve, reject, {
        data: responseData,
        headers: AxiosHeaders$1.from(response.headers),
        status: response.status,
        statusText: response.statusText,
        config,
        request
      });
    })
  } catch (err) {
    unsubscribe && unsubscribe();

    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {
      throw Object.assign(
        new AxiosError$1('Network Error', AxiosError$1.ERR_NETWORK, config, request),
        {
          cause: err.cause || err
        }
      )
    }

    throw AxiosError$1.from(err, err && err.code, config, request);
  }
});

const knownAdapters = {
  http: httpAdapter,
  xhr: xhrAdapter,
  fetch: fetchAdapter
};

utils$1.forEach(knownAdapters, (fn, value) => {
  if (fn) {
    try {
      Object.defineProperty(fn, 'name', {value});
    } catch (e) {
      // eslint-disable-next-line no-empty
    }
    Object.defineProperty(fn, 'adapterName', {value});
  }
});

const renderReason = (reason) => `- ${reason}`;

const isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;

var adapters = {
  getAdapter: (adapters) => {
    adapters = utils$1.isArray(adapters) ? adapters : [adapters];

    const {length} = adapters;
    let nameOrAdapter;
    let adapter;

    const rejectedReasons = {};

    for (let i = 0; i < length; i++) {
      nameOrAdapter = adapters[i];
      let id;

      adapter = nameOrAdapter;

      if (!isResolvedHandle(nameOrAdapter)) {
        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];

        if (adapter === undefined) {
          throw new AxiosError$1(`Unknown adapter '${id}'`);
        }
      }

      if (adapter) {
        break;
      }

      rejectedReasons[id || '#' + i] = adapter;
    }

    if (!adapter) {

      const reasons = Object.entries(rejectedReasons)
        .map(([id, state]) => `adapter ${id} ` +
          (state === false ? 'is not supported by the environment' : 'is not available in the build')
        );

      let s = length ?
        (reasons.length > 1 ? 'since :\n' + reasons.map(renderReason).join('\n') : ' ' + renderReason(reasons[0])) :
        'as no adapter specified';

      throw new AxiosError$1(
        `There is no suitable adapter to dispatch the request ` + s,
        'ERR_NOT_SUPPORT'
      );
    }

    return adapter;
  },
  adapters: knownAdapters
};

/**
 * Throws a `CanceledError` if cancellation has been requested.
 *
 * @param {Object} config The config that is to be used for the request
 *
 * @returns {void}
 */
function throwIfCancellationRequested(config) {
  if (config.cancelToken) {
    config.cancelToken.throwIfRequested();
  }

  if (config.signal && config.signal.aborted) {
    throw new CanceledError$1(null, config);
  }
}

/**
 * Dispatch a request to the server using the configured adapter.
 *
 * @param {object} config The config that is to be used for the request
 *
 * @returns {Promise} The Promise to be fulfilled
 */
function dispatchRequest(config) {
  throwIfCancellationRequested(config);

  config.headers = AxiosHeaders$1.from(config.headers);

  // Transform request data
  config.data = transformData.call(
    config,
    config.transformRequest
  );

  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {
    config.headers.setContentType('application/x-www-form-urlencoded', false);
  }

  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);

  return adapter(config).then(function onAdapterResolution(response) {
    throwIfCancellationRequested(config);

    // Transform response data
    response.data = transformData.call(
      config,
      config.transformResponse,
      response
    );

    response.headers = AxiosHeaders$1.from(response.headers);

    return response;
  }, function onAdapterRejection(reason) {
    if (!isCancel$1(reason)) {
      throwIfCancellationRequested(config);

      // Transform response data
      if (reason && reason.response) {
        reason.response.data = transformData.call(
          config,
          config.transformResponse,
          reason.response
        );
        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);
      }
    }

    return Promise.reject(reason);
  });
}

const VERSION$1 = "1.7.7";

const validators$1 = {};

// eslint-disable-next-line func-names
['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {
  validators$1[type] = function validator(thing) {
    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;
  };
});

const deprecatedWarnings = {};

/**
 * Transitional option validator
 *
 * @param {function|boolean?} validator - set to false if the transitional option has been removed
 * @param {string?} version - deprecated version / removed since version
 * @param {string?} message - some message with additional info
 *
 * @returns {function}
 */
validators$1.transitional = function transitional(validator, version, message) {
  function formatMessage(opt, desc) {
    return '[Axios v' + VERSION$1 + '] Transitional option \'' + opt + '\'' + desc + (message ? '. ' + message : '');
  }

  // eslint-disable-next-line func-names
  return (value, opt, opts) => {
    if (validator === false) {
      throw new AxiosError$1(
        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),
        AxiosError$1.ERR_DEPRECATED
      );
    }

    if (version && !deprecatedWarnings[opt]) {
      deprecatedWarnings[opt] = true;
      // eslint-disable-next-line no-console
      console.warn(
        formatMessage(
          opt,
          ' has been deprecated since v' + version + ' and will be removed in the near future'
        )
      );
    }

    return validator ? validator(value, opt, opts) : true;
  };
};

/**
 * Assert object's properties type
 *
 * @param {object} options
 * @param {object} schema
 * @param {boolean?} allowUnknown
 *
 * @returns {object}
 */

function assertOptions(options, schema, allowUnknown) {
  if (typeof options !== 'object') {
    throw new AxiosError$1('options must be an object', AxiosError$1.ERR_BAD_OPTION_VALUE);
  }
  const keys = Object.keys(options);
  let i = keys.length;
  while (i-- > 0) {
    const opt = keys[i];
    const validator = schema[opt];
    if (validator) {
      const value = options[opt];
      const result = value === undefined || validator(value, opt, options);
      if (result !== true) {
        throw new AxiosError$1('option ' + opt + ' must be ' + result, AxiosError$1.ERR_BAD_OPTION_VALUE);
      }
      continue;
    }
    if (allowUnknown !== true) {
      throw new AxiosError$1('Unknown option ' + opt, AxiosError$1.ERR_BAD_OPTION);
    }
  }
}

var validator = {
  assertOptions,
  validators: validators$1
};

const validators = validator.validators;

/**
 * Create a new instance of Axios
 *
 * @param {Object} instanceConfig The default config for the instance
 *
 * @return {Axios} A new instance of Axios
 */
let Axios$1 = class Axios {
  constructor(instanceConfig) {
    this.defaults = instanceConfig;
    this.interceptors = {
      request: new InterceptorManager(),
      response: new InterceptorManager()
    };
  }

  /**
   * Dispatch a request
   *
   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)
   * @param {?Object} config
   *
   * @returns {Promise} The Promise to be fulfilled
   */
  async request(configOrUrl, config) {
    try {
      return await this._request(configOrUrl, config);
    } catch (err) {
      if (err instanceof Error) {
        let dummy;

        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());

        // slice off the Error: ... line
        const stack = dummy.stack ? dummy.stack.replace(/^.+\n/, '') : '';
        try {
          if (!err.stack) {
            err.stack = stack;
            // match without the 2 top stack lines
          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\n.+\n/, ''))) {
            err.stack += '\n' + stack;
          }
        } catch (e) {
          // ignore the case where "stack" is an un-writable property
        }
      }

      throw err;
    }
  }

  _request(configOrUrl, config) {
    /*eslint no-param-reassign:0*/
    // Allow for axios('example/url'[, config]) a la fetch API
    if (typeof configOrUrl === 'string') {
      config = config || {};
      config.url = configOrUrl;
    } else {
      config = configOrUrl || {};
    }

    config = mergeConfig$1(this.defaults, config);

    const {transitional, paramsSerializer, headers} = config;

    if (transitional !== undefined) {
      validator.assertOptions(transitional, {
        silentJSONParsing: validators.transitional(validators.boolean),
        forcedJSONParsing: validators.transitional(validators.boolean),
        clarifyTimeoutError: validators.transitional(validators.boolean)
      }, false);
    }

    if (paramsSerializer != null) {
      if (utils$1.isFunction(paramsSerializer)) {
        config.paramsSerializer = {
          serialize: paramsSerializer
        };
      } else {
        validator.assertOptions(paramsSerializer, {
          encode: validators.function,
          serialize: validators.function
        }, true);
      }
    }

    // Set config.method
    config.method = (config.method || this.defaults.method || 'get').toLowerCase();

    // Flatten headers
    let contextHeaders = headers && utils$1.merge(
      headers.common,
      headers[config.method]
    );

    headers && utils$1.forEach(
      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],
      (method) => {
        delete headers[method];
      }
    );

    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);

    // filter out skipped interceptors
    const requestInterceptorChain = [];
    let synchronousRequestInterceptors = true;
    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {
        return;
      }

      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;

      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
    });

    const responseInterceptorChain = [];
    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
    });

    let promise;
    let i = 0;
    let len;

    if (!synchronousRequestInterceptors) {
      const chain = [dispatchRequest.bind(this), undefined];
      chain.unshift.apply(chain, requestInterceptorChain);
      chain.push.apply(chain, responseInterceptorChain);
      len = chain.length;

      promise = Promise.resolve(config);

      while (i < len) {
        promise = promise.then(chain[i++], chain[i++]);
      }

      return promise;
    }

    len = requestInterceptorChain.length;

    let newConfig = config;

    i = 0;

    while (i < len) {
      const onFulfilled = requestInterceptorChain[i++];
      const onRejected = requestInterceptorChain[i++];
      try {
        newConfig = onFulfilled(newConfig);
      } catch (error) {
        onRejected.call(this, error);
        break;
      }
    }

    try {
      promise = dispatchRequest.call(this, newConfig);
    } catch (error) {
      return Promise.reject(error);
    }

    i = 0;
    len = responseInterceptorChain.length;

    while (i < len) {
      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);
    }

    return promise;
  }

  getUri(config) {
    config = mergeConfig$1(this.defaults, config);
    const fullPath = buildFullPath(config.baseURL, config.url);
    return buildURL(fullPath, config.params, config.paramsSerializer);
  }
};

// Provide aliases for supported request methods
utils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {
  /*eslint func-names:0*/
  Axios$1.prototype[method] = function(url, config) {
    return this.request(mergeConfig$1(config || {}, {
      method,
      url,
      data: (config || {}).data
    }));
  };
});

utils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  /*eslint func-names:0*/

  function generateHTTPMethod(isForm) {
    return function httpMethod(url, data, config) {
      return this.request(mergeConfig$1(config || {}, {
        method,
        headers: isForm ? {
          'Content-Type': 'multipart/form-data'
        } : {},
        url,
        data
      }));
    };
  }

  Axios$1.prototype[method] = generateHTTPMethod();

  Axios$1.prototype[method + 'Form'] = generateHTTPMethod(true);
});

/**
 * A `CancelToken` is an object that can be used to request cancellation of an operation.
 *
 * @param {Function} executor The executor function.
 *
 * @returns {CancelToken}
 */
let CancelToken$1 = class CancelToken {
  constructor(executor) {
    if (typeof executor !== 'function') {
      throw new TypeError('executor must be a function.');
    }

    let resolvePromise;

    this.promise = new Promise(function promiseExecutor(resolve) {
      resolvePromise = resolve;
    });

    const token = this;

    // eslint-disable-next-line func-names
    this.promise.then(cancel => {
      if (!token._listeners) return;

      let i = token._listeners.length;

      while (i-- > 0) {
        token._listeners[i](cancel);
      }
      token._listeners = null;
    });

    // eslint-disable-next-line func-names
    this.promise.then = onfulfilled => {
      let _resolve;
      // eslint-disable-next-line func-names
      const promise = new Promise(resolve => {
        token.subscribe(resolve);
        _resolve = resolve;
      }).then(onfulfilled);

      promise.cancel = function reject() {
        token.unsubscribe(_resolve);
      };

      return promise;
    };

    executor(function cancel(message, config, request) {
      if (token.reason) {
        // Cancellation has already been requested
        return;
      }

      token.reason = new CanceledError$1(message, config, request);
      resolvePromise(token.reason);
    });
  }

  /**
   * Throws a `CanceledError` if cancellation has been requested.
   */
  throwIfRequested() {
    if (this.reason) {
      throw this.reason;
    }
  }

  /**
   * Subscribe to the cancel signal
   */

  subscribe(listener) {
    if (this.reason) {
      listener(this.reason);
      return;
    }

    if (this._listeners) {
      this._listeners.push(listener);
    } else {
      this._listeners = [listener];
    }
  }

  /**
   * Unsubscribe from the cancel signal
   */

  unsubscribe(listener) {
    if (!this._listeners) {
      return;
    }
    const index = this._listeners.indexOf(listener);
    if (index !== -1) {
      this._listeners.splice(index, 1);
    }
  }

  toAbortSignal() {
    const controller = new AbortController();

    const abort = (err) => {
      controller.abort(err);
    };

    this.subscribe(abort);

    controller.signal.unsubscribe = () => this.unsubscribe(abort);

    return controller.signal;
  }

  /**
   * Returns an object that contains a new `CancelToken` and a function that, when called,
   * cancels the `CancelToken`.
   */
  static source() {
    let cancel;
    const token = new CancelToken(function executor(c) {
      cancel = c;
    });
    return {
      token,
      cancel
    };
  }
};

/**
 * Syntactic sugar for invoking a function and expanding an array for arguments.
 *
 * Common use case would be to use `Function.prototype.apply`.
 *
 *  ```js
 *  function f(x, y, z) {}
 *  var args = [1, 2, 3];
 *  f.apply(null, args);
 *  ```
 *
 * With `spread` this example can be re-written.
 *
 *  ```js
 *  spread(function(x, y, z) {})([1, 2, 3]);
 *  ```
 *
 * @param {Function} callback
 *
 * @returns {Function}
 */
function spread$1(callback) {
  return function wrap(arr) {
    return callback.apply(null, arr);
  };
}

/**
 * Determines whether the payload is an error thrown by Axios
 *
 * @param {*} payload The value to test
 *
 * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false
 */
function isAxiosError$1(payload) {
  return utils$1.isObject(payload) && (payload.isAxiosError === true);
}

const HttpStatusCode$1 = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511,
};

Object.entries(HttpStatusCode$1).forEach(([key, value]) => {
  HttpStatusCode$1[value] = key;
});

/**
 * Create an instance of Axios
 *
 * @param {Object} defaultConfig The default config for the instance
 *
 * @returns {Axios} A new instance of Axios
 */
function createInstance(defaultConfig) {
  const context = new Axios$1(defaultConfig);
  const instance = bind(Axios$1.prototype.request, context);

  // Copy axios.prototype to instance
  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});

  // Copy context to instance
  utils$1.extend(instance, context, null, {allOwnKeys: true});

  // Factory for creating new instances
  instance.create = function create(instanceConfig) {
    return createInstance(mergeConfig$1(defaultConfig, instanceConfig));
  };

  return instance;
}

// Create the default instance to be exported
const axios = createInstance(defaults);

// Expose Axios class to allow class inheritance
axios.Axios = Axios$1;

// Expose Cancel & CancelToken
axios.CanceledError = CanceledError$1;
axios.CancelToken = CancelToken$1;
axios.isCancel = isCancel$1;
axios.VERSION = VERSION$1;
axios.toFormData = toFormData$1;

// Expose AxiosError class
axios.AxiosError = AxiosError$1;

// alias for CanceledError for backward compatibility
axios.Cancel = axios.CanceledError;

// Expose all/spread
axios.all = function all(promises) {
  return Promise.all(promises);
};

axios.spread = spread$1;

// Expose isAxiosError
axios.isAxiosError = isAxiosError$1;

// Expose mergeConfig
axios.mergeConfig = mergeConfig$1;

axios.AxiosHeaders = AxiosHeaders$1;

axios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);

axios.getAdapter = adapters.getAdapter;

axios.HttpStatusCode = HttpStatusCode$1;

axios.default = axios;

// This module is intended to unwrap Axios default export as named.
// Keep top-level export same with static properties
// so that it can keep same with es module or cjs
const {
  Axios,
  AxiosError,
  CanceledError,
  isCancel,
  CancelToken,
  VERSION,
  all,
  Cancel,
  isAxiosError,
  spread,
  toFormData,
  AxiosHeaders,
  HttpStatusCode,
  formToJSON,
  getAdapter,
  mergeConfig
} = axios;

var ys=Object.defineProperty;var Kg=Object.getOwnPropertyDescriptor;var Gg=Object.getOwnPropertyNames;var Qg=Object.prototype.hasOwnProperty;var _e=(t,e)=>()=>(t&&(e=t(t=0)),e);var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Jt=(t,e)=>{for(var r in e)ys(t,r,{get:e[r],enumerable:!0});},Yg=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Gg(e))!Qg.call(t,n)&&n!==r&&ys(t,n,{get:()=>e[n],enumerable:!(i=Kg(e,n))||i.enumerable});return t};var X=t=>Yg(ys({},"__esModule",{value:!0}),t);var _=_e(()=>{});var B={};Jt(B,{_debugEnd:()=>yu,_debugProcess:()=>gu,_events:()=>Ou,_eventsCount:()=>xu,_exiting:()=>Yl,_fatalExceptions:()=>cu,_getActiveHandles:()=>eu,_getActiveRequests:()=>Zl,_kill:()=>ru,_linkedBinding:()=>Gl,_maxListeners:()=>ku,_preload_modules:()=>Cu,_rawDebug:()=>zl,_startProfilerIdleNotifier:()=>bu,_stopProfilerIdleNotifier:()=>wu,_tickCallback:()=>pu,abort:()=>Eu,addListener:()=>Mu,allowedNodeEnvironmentFlags:()=>lu,arch:()=>xl,argv:()=>Ul,argv0:()=>Ru,assert:()=>uu,binding:()=>Fl,chdir:()=>Hl,config:()=>Jl,cpuUsage:()=>$i,cwd:()=>$l,debugPort:()=>Tu,default:()=>$u,dlopen:()=>Xl,domain:()=>Ql,emit:()=>Du,emitWarning:()=>jl,env:()=>Ll,execArgv:()=>Nl,execPath:()=>Iu,exit:()=>ou,features:()=>fu,hasUncaughtExceptionCaptureCallback:()=>du,hrtime:()=>Wi,kill:()=>su,listeners:()=>Wu,memoryUsage:()=>nu,moduleLoadList:()=>Kl,nextTick:()=>Pl,off:()=>Uu,on:()=>wt,once:()=>Lu,openStdin:()=>au,pid:()=>Su,platform:()=>Ml,ppid:()=>Au,prependListener:()=>ju,prependOnceListener:()=>Fu,reallyExit:()=>tu,release:()=>Vl,removeAllListeners:()=>qu,removeListener:()=>Nu,resourceUsage:()=>iu,setSourceMapsEnabled:()=>Bu,setUncaughtExceptionCaptureCallback:()=>hu,stderr:()=>mu,stdin:()=>vu,stdout:()=>_u,title:()=>Ol,umask:()=>Wl,uptime:()=>Pu,version:()=>ql,versions:()=>Dl});function _s(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Jg(){!Lr||!Xt||(Lr=!1,Xt.length?bt=Xt.concat(bt):Fi=-1,bt.length&&Bl());}function Bl(){if(!Lr){var t=setTimeout(Jg,0);Lr=!0;for(var e=bt.length;e;){for(Xt=bt,bt=[];++Fi<e;)Xt&&Xt[Fi].run();Fi=-1,e=bt.length;}Xt=null,Lr=!1,clearTimeout(t);}}function Pl(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];bt.push(new kl(t,e)),bt.length===1&&!Lr&&setTimeout(Bl,0);}function kl(t,e){this.fun=t,this.array=e;}function Ee(){}function Gl(t){_s("_linkedBinding");}function Xl(t){_s("dlopen");}function Zl(){return []}function eu(){return []}function uu(t,e){if(!t)throw new Error(e||"assertion error")}function du(){return !1}function Pu(){return Lt.now()/1e3}function Wi(t){var e=Math.floor((Date.now()-Lt.now())*.001),r=Lt.now()*.001,i=Math.floor(r)+e,n=Math.floor(r%1*1e9);return t&&(i=i-t[0],n=n-t[1],n<0&&(i--,n+=ws)),[i,n]}function wt(){return $u}function Wu(t){return []}var bt,Lr,Xt,Fi,Ol,xl,Ml,Ll,Ul,Nl,ql,Dl,jl,Fl,Wl,$l,Hl,Vl,zl,Kl,Ql,Yl,Jl,tu,ru,$i,iu,nu,su,ou,au,lu,fu,cu,hu,pu,gu,yu,bu,wu,_u,mu,vu,Eu,Su,Au,Iu,Tu,Ru,Cu,Bu,Lt,bs,ws,ku,Ou,xu,Mu,Lu,Uu,Nu,qu,Du,ju,Fu,$u,Hu=_e(()=>{_();v();m();bt=[],Lr=!1,Fi=-1;kl.prototype.run=function(){this.fun.apply(null,this.array);};Ol="browser",xl="x64",Ml="browser",Ll={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Ul=["/usr/bin/node"],Nl=[],ql="v16.8.0",Dl={},jl=function(t,e){console.warn((e?e+": ":"")+t);},Fl=function(t){_s("binding");},Wl=function(t){return 0},$l=function(){return "/"},Hl=function(t){},Vl={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};zl=Ee,Kl=[];Ql={},Yl=!1,Jl={};tu=Ee,ru=Ee,$i=function(){return {}},iu=$i,nu=$i,su=Ee,ou=Ee,au=Ee,lu={};fu={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},cu=Ee,hu=Ee;pu=Ee,gu=Ee,yu=Ee,bu=Ee,wu=Ee,_u=void 0,mu=void 0,vu=void 0,Eu=Ee,Su=2,Au=1,Iu="/bin/usr/node",Tu=9229,Ru="node",Cu=[],Bu=Ee,Lt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};Lt.now===void 0&&(bs=Date.now(),Lt.timing&&Lt.timing.navigationStart&&(bs=Lt.timing.navigationStart),Lt.now=()=>Date.now()-bs);ws=1e9;Wi.bigint=function(t){var e=Wi(t);return typeof BigInt>"u"?e[0]*ws+e[1]:BigInt(e[0]*ws)+BigInt(e[1])};ku=10,Ou={},xu=0;Mu=wt,Lu=wt,Uu=wt,Nu=wt,qu=wt,Du=Ee,ju=wt,Fu=wt;$u={version:ql,versions:Dl,arch:xl,platform:Ml,release:Vl,_rawDebug:zl,moduleLoadList:Kl,binding:Fl,_linkedBinding:Gl,_events:Ou,_eventsCount:xu,_maxListeners:ku,on:wt,addListener:Mu,once:Lu,off:Uu,removeListener:Nu,removeAllListeners:qu,emit:Du,prependListener:ju,prependOnceListener:Fu,listeners:Wu,domain:Ql,_exiting:Yl,config:Jl,dlopen:Xl,uptime:Pu,_getActiveRequests:Zl,_getActiveHandles:eu,reallyExit:tu,_kill:ru,cpuUsage:$i,resourceUsage:iu,memoryUsage:nu,kill:su,exit:ou,openStdin:au,allowedNodeEnvironmentFlags:lu,assert:uu,features:fu,_fatalExceptions:cu,setUncaughtExceptionCaptureCallback:hu,hasUncaughtExceptionCaptureCallback:du,emitWarning:jl,nextTick:Pl,_tickCallback:pu,_debugProcess:gu,_debugEnd:yu,_startProfilerIdleNotifier:bu,_stopProfilerIdleNotifier:wu,stdout:_u,stdin:vu,stderr:mu,abort:Eu,umask:Wl,chdir:Hl,cwd:$l,env:Ll,title:Ol,argv:Ul,execArgv:Nl,pid:Su,ppid:Au,execPath:Iu,debugPort:Tu,hrtime:Wi,argv0:Ru,_preload_modules:Cu,setSourceMapsEnabled:Bu};});var m=_e(()=>{Hu();});var me={};Jt(me,{Buffer:()=>x,INSPECT_MAX_BYTES:()=>ty,default:()=>Ut,kMaxLength:()=>ry});function Xg(){if(Vu)return ci;Vu=!0,ci.byteLength=a,ci.toByteArray=c,ci.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=i.length;n<o;++n)t[n]=i[n],e[i.charCodeAt(n)]=n;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function s(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=y.indexOf("=");S===-1&&(S=w);var E=S===w?0:4-S%4;return [S,E]}function a(y){var w=s(y),S=w[0],E=w[1];return (S+E)*3/4-E}function l(y,w,S){return (w+S)*3/4-S}function c(y){var w,S=s(y),E=S[0],I=S[1],C=new r(l(y,E,I)),R=0,U=I>0?E-4:E,N;for(N=0;N<U;N+=4)w=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],C[R++]=w>>16&255,C[R++]=w>>8&255,C[R++]=w&255;return I===2&&(w=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,C[R++]=w&255),I===1&&(w=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,C[R++]=w>>8&255,C[R++]=w&255),C}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function d(y,w,S){for(var E,I=[],C=w;C<S;C+=3)E=(y[C]<<16&16711680)+(y[C+1]<<8&65280)+(y[C+2]&255),I.push(h(E));return I.join("")}function g(y){for(var w,S=y.length,E=S%3,I=[],C=16383,R=0,U=S-E;R<U;R+=C)I.push(d(y,R,R+C>U?U:R+C));return E===1?(w=y[S-1],I.push(t[w>>2]+t[w<<4&63]+"==")):E===2&&(w=(y[S-2]<<8)+y[S-1],I.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),I.join("")}return ci}function Zg(){if(zu)return Hi;zu=!0;return Hi.read=function(t,e,r,i,n){var o,s,a=n*8-i-1,l=(1<<a)-1,c=l>>1,h=-7,d=r?n-1:0,g=r?-1:1,y=t[e+d];for(d+=g,o=y&(1<<-h)-1,y>>=-h,h+=a;h>0;o=o*256+t[e+d],d+=g,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=s*256+t[e+d],d+=g,h-=8);if(o===0)o=1-c;else {if(o===l)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-c;}return (y?-1:1)*s*Math.pow(2,o-i)},Hi.write=function(t,e,r,i,n,o){var s,a,l,c=o*8-n-1,h=(1<<c)-1,d=h>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:o-1,w=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=g/l:e+=g*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(e*l-1)*Math.pow(2,n),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+y]=a&255,y+=w,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;t[r+y]=s&255,y+=w,s/=256,c-=8);t[r+y-w]|=S*128;},Hi}function ey(){if(Ku)return Zt;Ku=!0;let t=Xg(),e=Zg(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Zt.Buffer=s,Zt.SlowBuffer=I,Zt.INSPECT_MAX_BYTES=50;let i=2147483647;Zt.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=n(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{let p=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(p,u),p.foo()===42}catch{return !1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');let u=new Uint8Array(p);return Object.setPrototypeOf(u,s.prototype),u}function s(p,u,f){if(typeof p=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(p)}return a(p,u,f)}s.poolSize=8192;function a(p,u,f){if(typeof p=="string")return d(p,u);if(ArrayBuffer.isView(p))return y(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Ye(p,ArrayBuffer)||p&&Ye(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(p,SharedArrayBuffer)||p&&Ye(p.buffer,SharedArrayBuffer)))return w(p,u,f);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let b=p.valueOf&&p.valueOf();if(b!=null&&b!==p)return s.from(b,u,f);let A=S(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return s.from(p[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}s.from=function(p,u,f){return a(p,u,f)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function c(p,u,f){return l(p),p<=0?o(p):u!==void 0?typeof f=="string"?o(p).fill(u,f):o(p).fill(u):o(p)}s.alloc=function(p,u,f){return c(p,u,f)};function h(p){return l(p),o(p<0?0:E(p)|0)}s.allocUnsafe=function(p){return h(p)},s.allocUnsafeSlow=function(p){return h(p)};function d(p,u){if((typeof u!="string"||u==="")&&(u="utf8"),!s.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let f=C(p,u)|0,b=o(f),A=b.write(p,u);return A!==f&&(b=b.slice(0,A)),b}function g(p){let u=p.length<0?0:E(p.length)|0,f=o(u);for(let b=0;b<u;b+=1)f[b]=p[b]&255;return f}function y(p){if(Ye(p,Uint8Array)){let u=new Uint8Array(p);return w(u.buffer,u.byteOffset,u.byteLength)}return g(p)}function w(p,u,f){if(u<0||p.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');let b;return u===void 0&&f===void 0?b=new Uint8Array(p):f===void 0?b=new Uint8Array(p,u):b=new Uint8Array(p,u,f),Object.setPrototypeOf(b,s.prototype),b}function S(p){if(s.isBuffer(p)){let u=E(p.length)|0,f=o(u);return f.length===0||p.copy(f,0,0,u),f}if(p.length!==void 0)return typeof p.length!="number"||gs(p.length)?o(0):g(p);if(p.type==="Buffer"&&Array.isArray(p.data))return g(p.data)}function E(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function I(p){return +p!=p&&(p=0),s.alloc(+p)}s.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==s.prototype},s.compare=function(u,f){if(Ye(u,Uint8Array)&&(u=s.from(u,u.offset,u.byteLength)),Ye(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),!s.isBuffer(u)||!s.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;let b=u.length,A=f.length;for(let T=0,P=Math.min(b,A);T<P;++T)if(u[T]!==f[T]){b=u[T],A=f[T];break}return b<A?-1:A<b?1:0},s.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},s.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return s.alloc(0);let b;if(f===void 0)for(f=0,b=0;b<u.length;++b)f+=u[b].length;let A=s.allocUnsafe(f),T=0;for(b=0;b<u.length;++b){let P=u[b];if(Ye(P,Uint8Array))T+P.length>A.length?(s.isBuffer(P)||(P=s.from(P)),P.copy(A,T)):Uint8Array.prototype.set.call(A,P,T);else if(s.isBuffer(P))P.copy(A,T);else throw new TypeError('"list" argument must be an Array of Buffers');T+=P.length;}return A};function C(p,u){if(s.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Ye(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);let f=p.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&f===0)return 0;let A=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return ps(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Cl(p).length;default:if(A)return b?-1:ps(p).length;u=(""+u).toLowerCase(),A=!0;}}s.byteLength=C;function R(p,u,f){let b=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return "";for(p||(p="utf8");;)switch(p){case"hex":return qg(this,u,f);case"utf8":case"utf-8":return Pr(this,u,f);case"ascii":return hs(this,u,f);case"latin1":case"binary":return Ng(this,u,f);case"base64":return ge(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dg(this,u,f);default:if(b)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),b=!0;}}s.prototype._isBuffer=!0;function U(p,u,f){let b=p[u];p[u]=p[f],p[f]=b;}s.prototype.swap16=function(){let u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<u;f+=2)U(this,f,f+1);return this},s.prototype.swap32=function(){let u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<u;f+=4)U(this,f,f+3),U(this,f+1,f+2);return this},s.prototype.swap64=function(){let u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<u;f+=8)U(this,f,f+7),U(this,f+1,f+6),U(this,f+2,f+5),U(this,f+3,f+4);return this},s.prototype.toString=function(){let u=this.length;return u===0?"":arguments.length===0?Pr(this,0,u):R.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(u){if(!s.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:s.compare(this,u)===0},s.prototype.inspect=function(){let u="",f=Zt.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(u,f,b,A,T){if(Ye(u,Uint8Array)&&(u=s.from(u,u.offset,u.byteLength)),!s.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),b===void 0&&(b=u?u.length:0),A===void 0&&(A=0),T===void 0&&(T=this.length),f<0||b>u.length||A<0||T>this.length)throw new RangeError("out of range index");if(A>=T&&f>=b)return 0;if(A>=T)return -1;if(f>=b)return 1;if(f>>>=0,b>>>=0,A>>>=0,T>>>=0,this===u)return 0;let P=T-A,$=b-f,se=Math.min(P,$),te=this.slice(A,T),oe=u.slice(f,b);for(let J=0;J<se;++J)if(te[J]!==oe[J]){P=te[J],$=oe[J];break}return P<$?-1:$<P?1:0};function N(p,u,f,b,A){if(p.length===0)return -1;if(typeof f=="string"?(b=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,gs(f)&&(f=A?0:p.length-1),f<0&&(f=p.length+f),f>=p.length){if(A)return -1;f=p.length-1;}else if(f<0)if(A)f=0;else return -1;if(typeof u=="string"&&(u=s.from(u,b)),s.isBuffer(u))return u.length===0?-1:W(p,u,f,b,A);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,u,f):Uint8Array.prototype.lastIndexOf.call(p,u,f):W(p,[u],f,b,A);throw new TypeError("val must be string, number or Buffer")}function W(p,u,f,b,A){let T=1,P=p.length,$=u.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(p.length<2||u.length<2)return -1;T=2,P/=2,$/=2,f/=2;}function se(oe,J){return T===1?oe[J]:oe.readUInt16BE(J*T)}let te;if(A){let oe=-1;for(te=f;te<P;te++)if(se(p,te)===se(u,oe===-1?0:te-oe)){if(oe===-1&&(oe=te),te-oe+1===$)return oe*T}else oe!==-1&&(te-=te-oe),oe=-1;}else for(f+$>P&&(f=P-$),te=f;te>=0;te--){let oe=!0;for(let J=0;J<$;J++)if(se(p,te+J)!==se(u,J)){oe=!1;break}if(oe)return te}return -1}s.prototype.includes=function(u,f,b){return this.indexOf(u,f,b)!==-1},s.prototype.indexOf=function(u,f,b){return N(this,u,f,b,!0)},s.prototype.lastIndexOf=function(u,f,b){return N(this,u,f,b,!1)};function K(p,u,f,b){f=Number(f)||0;let A=p.length-f;b?(b=Number(b),b>A&&(b=A)):b=A;let T=u.length;b>T/2&&(b=T/2);let P;for(P=0;P<b;++P){let $=parseInt(u.substr(P*2,2),16);if(gs($))return P;p[f+P]=$;}return P}function z(p,u,f,b){return ji(ps(u,p.length-f),p,f,b)}function Q(p,u,f,b){return ji($g(u),p,f,b)}function pe(p,u,f,b){return ji(Cl(u),p,f,b)}function Yt(p,u,f,b){return ji(Hg(u,p.length-f),p,f,b)}s.prototype.write=function(u,f,b,A){if(f===void 0)A="utf8",b=this.length,f=0;else if(b===void 0&&typeof f=="string")A=f,b=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(b)?(b=b>>>0,A===void 0&&(A="utf8")):(A=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let T=this.length-f;if((b===void 0||b>T)&&(b=T),u.length>0&&(b<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let P=!1;for(;;)switch(A){case"hex":return K(this,u,f,b);case"utf8":case"utf-8":return z(this,u,f,b);case"ascii":case"latin1":case"binary":return Q(this,u,f,b);case"base64":return pe(this,u,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yt(this,u,f,b);default:if(P)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),P=!0;}},s.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ge(p,u,f){return u===0&&f===p.length?t.fromByteArray(p):t.fromByteArray(p.slice(u,f))}function Pr(p,u,f){f=Math.min(p.length,f);let b=[],A=u;for(;A<f;){let T=p[A],P=null,$=T>239?4:T>223?3:T>191?2:1;if(A+$<=f){let se,te,oe,J;switch($){case 1:T<128&&(P=T);break;case 2:se=p[A+1],(se&192)===128&&(J=(T&31)<<6|se&63,J>127&&(P=J));break;case 3:se=p[A+1],te=p[A+2],(se&192)===128&&(te&192)===128&&(J=(T&15)<<12|(se&63)<<6|te&63,J>2047&&(J<55296||J>57343)&&(P=J));break;case 4:se=p[A+1],te=p[A+2],oe=p[A+3],(se&192)===128&&(te&192)===128&&(oe&192)===128&&(J=(T&15)<<18|(se&63)<<12|(te&63)<<6|oe&63,J>65535&&J<1114112&&(P=J));}}P===null?(P=65533,$=1):P>65535&&(P-=65536,b.push(P>>>10&1023|55296),P=56320|P&1023),b.push(P),A+=$;}return Or(b)}let kr=4096;function Or(p){let u=p.length;if(u<=kr)return String.fromCharCode.apply(String,p);let f="",b=0;for(;b<u;)f+=String.fromCharCode.apply(String,p.slice(b,b+=kr));return f}function hs(p,u,f){let b="";f=Math.min(p.length,f);for(let A=u;A<f;++A)b+=String.fromCharCode(p[A]&127);return b}function Ng(p,u,f){let b="";f=Math.min(p.length,f);for(let A=u;A<f;++A)b+=String.fromCharCode(p[A]);return b}function qg(p,u,f){let b=p.length;(!u||u<0)&&(u=0),(!f||f<0||f>b)&&(f=b);let A="";for(let T=u;T<f;++T)A+=Vg[p[T]];return A}function Dg(p,u,f){let b=p.slice(u,f),A="";for(let T=0;T<b.length-1;T+=2)A+=String.fromCharCode(b[T]+b[T+1]*256);return A}s.prototype.slice=function(u,f){let b=this.length;u=~~u,f=f===void 0?b:~~f,u<0?(u+=b,u<0&&(u=0)):u>b&&(u=b),f<0?(f+=b,f<0&&(f=0)):f>b&&(f=b),f<u&&(f=u);let A=this.subarray(u,f);return Object.setPrototypeOf(A,s.prototype),A};function ye(p,u,f){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+u>f)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=this[u],T=1,P=0;for(;++P<f&&(T*=256);)A+=this[u+P]*T;return A},s.prototype.readUintBE=s.prototype.readUIntBE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=this[u+--f],T=1;for(;f>0&&(T*=256);)A+=this[u+--f]*T;return A},s.prototype.readUint8=s.prototype.readUInt8=function(u,f){return u=u>>>0,f||ye(u,1,this.length),this[u]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||ye(u,2,this.length),this[u]|this[u+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||ye(u,2,this.length),this[u]<<8|this[u+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},s.prototype.readBigUInt64LE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,T=this[++u]+this[++u]*2**8+this[++u]*2**16+b*2**24;return BigInt(A)+(BigInt(T)<<BigInt(32))}),s.prototype.readBigUInt64BE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=f*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],T=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+b;return (BigInt(A)<<BigInt(32))+BigInt(T)}),s.prototype.readIntLE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=this[u],T=1,P=0;for(;++P<f&&(T*=256);)A+=this[u+P]*T;return T*=128,A>=T&&(A-=Math.pow(2,8*f)),A},s.prototype.readIntBE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=f,T=1,P=this[u+--A];for(;A>0&&(T*=256);)P+=this[u+--A]*T;return T*=128,P>=T&&(P-=Math.pow(2,8*f)),P},s.prototype.readInt8=function(u,f){return u=u>>>0,f||ye(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},s.prototype.readInt16LE=function(u,f){u=u>>>0,f||ye(u,2,this.length);let b=this[u]|this[u+1]<<8;return b&32768?b|4294901760:b},s.prototype.readInt16BE=function(u,f){u=u>>>0,f||ye(u,2,this.length);let b=this[u+1]|this[u]<<8;return b&32768?b|4294901760:b},s.prototype.readInt32LE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},s.prototype.readInt32BE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},s.prototype.readBigInt64LE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(b<<24);return (BigInt(A)<<BigInt(32))+BigInt(f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),s.prototype.readBigInt64BE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=(f<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return (BigInt(A)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+b)}),s.prototype.readFloatLE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),e.read(this,u,!0,23,4)},s.prototype.readFloatBE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),e.read(this,u,!1,23,4)},s.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||ye(u,8,this.length),e.read(this,u,!0,52,8)},s.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||ye(u,8,this.length),e.read(this,u,!1,52,8)};function Ce(p,u,f,b,A,T){if(!s.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>A||u<T)throw new RangeError('"value" argument is out of bounds');if(f+b>p.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(u,f,b,A){if(u=+u,f=f>>>0,b=b>>>0,!A){let $=Math.pow(2,8*b)-1;Ce(this,u,f,b,$,0);}let T=1,P=0;for(this[f]=u&255;++P<b&&(T*=256);)this[f+P]=u/T&255;return f+b},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(u,f,b,A){if(u=+u,f=f>>>0,b=b>>>0,!A){let $=Math.pow(2,8*b)-1;Ce(this,u,f,b,$,0);}let T=b-1,P=1;for(this[f+T]=u&255;--T>=0&&(P*=256);)this[f+T]=u/P&255;return f+b},s.prototype.writeUint8=s.prototype.writeUInt8=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,1,255,0),this[f]=u&255,f+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function vl(p,u,f,b,A){Rl(u,b,A,p,f,7);let T=Number(u&BigInt(4294967295));p[f++]=T,T=T>>8,p[f++]=T,T=T>>8,p[f++]=T,T=T>>8,p[f++]=T;let P=Number(u>>BigInt(32)&BigInt(4294967295));return p[f++]=P,P=P>>8,p[f++]=P,P=P>>8,p[f++]=P,P=P>>8,p[f++]=P,f}function El(p,u,f,b,A){Rl(u,b,A,p,f,7);let T=Number(u&BigInt(4294967295));p[f+7]=T,T=T>>8,p[f+6]=T,T=T>>8,p[f+5]=T,T=T>>8,p[f+4]=T;let P=Number(u>>BigInt(32)&BigInt(4294967295));return p[f+3]=P,P=P>>8,p[f+2]=P,P=P>>8,p[f+1]=P,P=P>>8,p[f]=P,f+8}s.prototype.writeBigUInt64LE=Mt(function(u,f=0){return vl(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Mt(function(u,f=0){return El(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(u,f,b,A){if(u=+u,f=f>>>0,!A){let se=Math.pow(2,8*b-1);Ce(this,u,f,b,se-1,-se);}let T=0,P=1,$=0;for(this[f]=u&255;++T<b&&(P*=256);)u<0&&$===0&&this[f+T-1]!==0&&($=1),this[f+T]=(u/P>>0)-$&255;return f+b},s.prototype.writeIntBE=function(u,f,b,A){if(u=+u,f=f>>>0,!A){let se=Math.pow(2,8*b-1);Ce(this,u,f,b,se-1,-se);}let T=b-1,P=1,$=0;for(this[f+T]=u&255;--T>=0&&(P*=256);)u<0&&$===0&&this[f+T+1]!==0&&($=1),this[f+T]=(u/P>>0)-$&255;return f+b},s.prototype.writeInt8=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},s.prototype.writeInt16LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},s.prototype.writeInt16BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},s.prototype.writeInt32LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},s.prototype.writeInt32BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},s.prototype.writeBigInt64LE=Mt(function(u,f=0){return vl(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Mt(function(u,f=0){return El(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Sl(p,u,f,b,A,T){if(f+b>p.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function Al(p,u,f,b,A){return u=+u,f=f>>>0,A||Sl(p,u,f,4),e.write(p,u,f,b,23,4),f+4}s.prototype.writeFloatLE=function(u,f,b){return Al(this,u,f,!0,b)},s.prototype.writeFloatBE=function(u,f,b){return Al(this,u,f,!1,b)};function Il(p,u,f,b,A){return u=+u,f=f>>>0,A||Sl(p,u,f,8),e.write(p,u,f,b,52,8),f+8}s.prototype.writeDoubleLE=function(u,f,b){return Il(this,u,f,!0,b)},s.prototype.writeDoubleBE=function(u,f,b){return Il(this,u,f,!1,b)},s.prototype.copy=function(u,f,b,A){if(!s.isBuffer(u))throw new TypeError("argument should be a Buffer");if(b||(b=0),!A&&A!==0&&(A=this.length),f>=u.length&&(f=u.length),f||(f=0),A>0&&A<b&&(A=b),A===b||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),u.length-f<A-b&&(A=u.length-f+b);let T=A-b;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,b,A):Uint8Array.prototype.set.call(u,this.subarray(b,A),f),T},s.prototype.fill=function(u,f,b,A){if(typeof u=="string"){if(typeof f=="string"?(A=f,f=0,b=this.length):typeof b=="string"&&(A=b,b=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!s.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(u.length===1){let P=u.charCodeAt(0);(A==="utf8"&&P<128||A==="latin1")&&(u=P);}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<b)throw new RangeError("Out of range index");if(b<=f)return this;f=f>>>0,b=b===void 0?this.length:b>>>0,u||(u=0);let T;if(typeof u=="number")for(T=f;T<b;++T)this[T]=u;else {let P=s.isBuffer(u)?u:s.from(u,A),$=P.length;if($===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(T=0;T<b-f;++T)this[T+f]=P[T%$];}return this};let xr={};function ds(p,u,f){xr[p]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name;}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0});}toString(){return `${this.name} [${p}]: ${this.message}`}};}ds("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ds("ERR_INVALID_ARG_TYPE",function(p,u){return `The "${p}" argument must be of type number. Received type ${typeof u}`},TypeError),ds("ERR_OUT_OF_RANGE",function(p,u,f){let b=`The value of "${p}" is out of range.`,A=f;return Number.isInteger(f)&&Math.abs(f)>2**32?A=Tl(String(f)):typeof f=="bigint"&&(A=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(A=Tl(A)),A+="n"),b+=` It must be ${u}. Received ${A}`,b},RangeError);function Tl(p){let u="",f=p.length,b=p[0]==="-"?1:0;for(;f>=b+4;f-=3)u=`_${p.slice(f-3,f)}${u}`;return `${p.slice(0,f)}${u}`}function jg(p,u,f){Mr(u,"offset"),(p[u]===void 0||p[u+f]===void 0)&&fi(u,p.length-(f+1));}function Rl(p,u,f,b,A,T){if(p>f||p<u){let P=typeof u=="bigint"?"n":"",$;throw u===0||u===BigInt(0)?$=`>= 0${P} and < 2${P} ** ${(T+1)*8}${P}`:$=`>= -(2${P} ** ${(T+1)*8-1}${P}) and < 2 ** ${(T+1)*8-1}${P}`,new xr.ERR_OUT_OF_RANGE("value",$,p)}jg(b,A,T);}function Mr(p,u){if(typeof p!="number")throw new xr.ERR_INVALID_ARG_TYPE(u,"number",p)}function fi(p,u,f){throw Math.floor(p)!==p?(Mr(p,f),new xr.ERR_OUT_OF_RANGE("offset","an integer",p)):u<0?new xr.ERR_BUFFER_OUT_OF_BOUNDS:new xr.ERR_OUT_OF_RANGE("offset",`>= ${0} and <= ${u}`,p)}let Fg=/[^+/0-9A-Za-z-_]/g;function Wg(p){if(p=p.split("=")[0],p=p.trim().replace(Fg,""),p.length<2)return "";for(;p.length%4!==0;)p=p+"=";return p}function ps(p,u){u=u||1/0;let f,b=p.length,A=null,T=[];for(let P=0;P<b;++P){if(f=p.charCodeAt(P),f>55295&&f<57344){if(!A){if(f>56319){(u-=3)>-1&&T.push(239,191,189);continue}else if(P+1===b){(u-=3)>-1&&T.push(239,191,189);continue}A=f;continue}if(f<56320){(u-=3)>-1&&T.push(239,191,189),A=f;continue}f=(A-55296<<10|f-56320)+65536;}else A&&(u-=3)>-1&&T.push(239,191,189);if(A=null,f<128){if((u-=1)<0)break;T.push(f);}else if(f<2048){if((u-=2)<0)break;T.push(f>>6|192,f&63|128);}else if(f<65536){if((u-=3)<0)break;T.push(f>>12|224,f>>6&63|128,f&63|128);}else if(f<1114112){if((u-=4)<0)break;T.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128);}else throw new Error("Invalid code point")}return T}function $g(p){let u=[];for(let f=0;f<p.length;++f)u.push(p.charCodeAt(f)&255);return u}function Hg(p,u){let f,b,A,T=[];for(let P=0;P<p.length&&!((u-=2)<0);++P)f=p.charCodeAt(P),b=f>>8,A=f%256,T.push(A),T.push(b);return T}function Cl(p){return t.toByteArray(Wg(p))}function ji(p,u,f,b){let A;for(A=0;A<b&&!(A+f>=u.length||A>=p.length);++A)u[A+f]=p[A];return A}function Ye(p,u){return p instanceof u||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===u.name}function gs(p){return p!==p}let Vg=function(){let p="0123456789abcdef",u=new Array(256);for(let f=0;f<16;++f){let b=f*16;for(let A=0;A<16;++A)u[b+A]=p[f]+p[A];}return u}();function Mt(p){return typeof BigInt>"u"?zg:p}function zg(){throw new Error("BigInt not supported")}return Zt}var ci,Vu,Hi,zu,Zt,Ku,Ut,x,ty,ry,be=_e(()=>{_();v();m();ci={},Vu=!1;Hi={},zu=!1;Zt={},Ku=!1;Ut=ey();Ut.Buffer;Ut.SlowBuffer;Ut.INSPECT_MAX_BYTES;Ut.kMaxLength;x=Ut.Buffer,ty=Ut.INSPECT_MAX_BYTES,ry=Ut.kMaxLength;});var v=_e(()=>{be();});var Gu=M(vs=>{_();v();m();Object.defineProperty(vs,"__esModule",{value:!0});var ms=class{constructor(e){this.aliasToTopic={},this.max=e;}put(e,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={};}};vs.default=ms;});var ce=M((xA,Qu)=>{_();v();m();Qu.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array};});var Je=M(($A,Ss)=>{_();v();m();var iy=(be(),X(me)),ny=Object.getPrototypeOf(async function(){}).constructor,Yu=globalThis.Blob||iy.Blob,sy=typeof Yu<"u"?function(e){return e instanceof Yu}:function(e){return !1},Es=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e;}};Ss.exports={AggregateError:Es,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r));}},createDeferredPromise:function(){let t,e;return {promise:new Promise((i,n)=>{t=i,e=n;}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n));})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return `\`${t}\``}else return `"${t}"`;return `'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return `${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return "{}"}},types:{isAsyncFunction(t){return t instanceof ny},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:sy};Ss.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom");});var zi=M((ZA,Vi)=>{_();v();m();var{AbortController:Ju,AbortSignal:oy}=typeof self<"u"?self:typeof window<"u"?window:void 0;Vi.exports=Ju;Vi.exports.AbortSignal=oy;Vi.exports.default=Ju;});var Ae=M((uI,ef)=>{_();v();m();var{format:ay,inspect:Ki,AggregateError:ly}=Je(),uy=globalThis.AggregateError||ly,fy=Symbol("kIsNodeError"),cy=["string","function","number","object","Function","Object","boolean","bigint","symbol"],hy=/^([A-Z][a-z0-9]*)+$/,dy="__node_internal_",Gi={};function er(t,e){if(!t)throw new Gi.ERR_INTERNAL_ASSERTION(e)}function Xu(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return `${t.slice(0,r)}${e}`}function py(t,e,r){if(typeof e=="function")return er(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return er(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:ay(e,...r)}function ve(t,e,r){r||(r=Error);class i extends r{constructor(...o){super(py(t,e,o));}toString(){return `${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return `${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[fy]=!0,Gi[t]=i;}function Zu(t){let e=dy+t.name;return Object.defineProperty(t,"name",{value:e}),t}function gy(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new uy([e,t],e.message);return r.code=e.code,r}return t||e}var As=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Gi.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError";}};ve("ERR_ASSERTION","%s",Error);ve("ERR_INVALID_ARG_TYPE",(t,e,r)=>{er(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],o=[],s=[];for(let l of e)er(typeof l=="string","All expected entries have to be of type string"),cy.includes(l)?n.push(l.toLowerCase()):hy.test(l)?o.push(l):(er(l!=="object",'The value "object" should be written as "Object"'),s.push(l));if(o.length>0){let l=n.indexOf("object");l!==-1&&(n.splice(n,l,1),o.push("Object"));}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let l=n.pop();i+=`one of type ${n.join(", ")}, or ${l}`;}}(o.length>0||s.length>0)&&(i+=" or ");}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();i+=`an instance of ${o.join(", ")}, or ${l}`;}}s.length>0&&(i+=" or ");}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(i+="an "),i+=`${s[0]}`;break;case 2:i+=`one of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();i+=`one of ${s.join(", ")}, or ${l}`;}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)i+=`. Received an instance of ${r.constructor.name}`;else {let l=Ki(r,{depth:-1});i+=`. Received ${l}`;}}else {let l=Ki(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),i+=`. Received type ${typeof r} (${l})`;}return i},TypeError);ve("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=Ki(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);ve("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return `Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);ve("ERR_MISSING_ARGS",(...t)=>{er(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`;}break}return `${e} must be specified`},TypeError);ve("ERR_OUT_OF_RANGE",(t,e,r)=>{er(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Xu(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=Xu(i)),i+="n"):i=Ki(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);ve("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ve("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ve("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ve("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ve("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ve("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ve("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ve("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ve("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ve("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ve("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);ef.exports={AbortError:As,aggregateTwoErrors:Zu(gy),hideStackFrames:Zu,codes:Gi};});var hi=M((_I,ff)=>{_();v();m();var{ArrayIsArray:Ts,ArrayPrototypeIncludes:sf,ArrayPrototypeJoin:of,ArrayPrototypeMap:yy,NumberIsInteger:Rs,NumberIsNaN:by,NumberMAX_SAFE_INTEGER:wy,NumberMIN_SAFE_INTEGER:_y,NumberParseInt:my,ObjectPrototypeHasOwnProperty:vy,RegExpPrototypeExec:af,String:Ey,StringPrototypeToUpperCase:Sy,StringPrototypeTrim:Ay}=ce(),{hideStackFrames:Ue,codes:{ERR_SOCKET_BAD_PORT:Iy,ERR_INVALID_ARG_TYPE:Ie,ERR_INVALID_ARG_VALUE:Ur,ERR_OUT_OF_RANGE:tr,ERR_UNKNOWN_SIGNAL:tf}}=Ae(),{normalizeEncoding:Ty}=Je(),{isAsyncFunction:Ry,isArrayBufferView:Cy}=Je().types,rf={};function By(t){return t===(t|0)}function Py(t){return t===t>>>0}var ky=/^[0-7]+$/,Oy="must be a 32-bit unsigned integer or an octal string";function xy(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(af(ky,t)===null)throw new Ur(e,t,Oy);t=my(t,8);}return lf(t,e),t}var My=Ue((t,e,r=_y,i=wy)=>{if(typeof t!="number")throw new Ie(e,"number",t);if(!Rs(t))throw new tr(e,"an integer",t);if(t<r||t>i)throw new tr(e,`>= ${r} && <= ${i}`,t)}),Ly=Ue((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new Ie(e,"number",t);if(!Rs(t))throw new tr(e,"an integer",t);if(t<r||t>i)throw new tr(e,`>= ${r} && <= ${i}`,t)}),lf=Ue((t,e,r=!1)=>{if(typeof t!="number")throw new Ie(e,"number",t);if(!Rs(t))throw new tr(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new tr(e,`>= ${i} && <= ${n}`,t)});function Cs(t,e){if(typeof t!="string")throw new Ie(e,"string",t)}function Uy(t,e,r=void 0,i){if(typeof t!="number")throw new Ie(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&by(t))throw new tr(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var Ny=Ue((t,e,r)=>{if(!sf(r,t)){let n="must be one of: "+of(yy(r,o=>typeof o=="string"?`'${o}'`:Ey(o)),", ");throw new Ur(e,t,n)}});function uf(t,e){if(typeof t!="boolean")throw new Ie(e,"boolean",t)}function Is(t,e,r){return t==null||!vy(t,e)?r:t[e]}var qy=Ue((t,e,r=null)=>{let i=Is(r,"allowArray",!1),n=Is(r,"allowFunction",!1);if(!Is(r,"nullable",!1)&&t===null||!i&&Ts(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new Ie(e,"Object",t)}),Dy=Ue((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Ie(e,"a dictionary",t)}),Bs=Ue((t,e,r=0)=>{if(!Ts(t))throw new Ie(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new Ur(e,t,i)}});function jy(t,e){Bs(t,e);for(let r=0;r<t.length;r++)Cs(t[r],`${e}[${r}]`);}function Fy(t,e){Bs(t,e);for(let r=0;r<t.length;r++)uf(t[r],`${e}[${r}]`);}function Wy(t,e="signal"){if(Cs(t,e),rf[t]===void 0)throw rf[Sy(t)]!==void 0?new tf(t+" (signals must use all capital letters)"):new tf(t)}var $y=Ue((t,e="buffer")=>{if(!Cy(t))throw new Ie(e,["Buffer","TypedArray","DataView"],t)});function Hy(t,e){let r=Ty(e),i=t.length;if(r==="hex"&&i%2!==0)throw new Ur("encoding",e,`is invalid for data of length ${i}`)}function Vy(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Ay(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Iy(e,t,r);return t|0}var zy=Ue((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ie(e,"AbortSignal",t)}),Ky=Ue((t,e)=>{if(typeof t!="function")throw new Ie(e,"Function",t)}),Gy=Ue((t,e)=>{if(typeof t!="function"||Ry(t))throw new Ie(e,"Function",t)}),Qy=Ue((t,e)=>{if(t!==void 0)throw new Ie(e,"undefined",t)});function Yy(t,e,r){if(!sf(r,t))throw new Ie(e,`('${of(r,"|")}')`,t)}var Jy=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function nf(t,e){if(typeof t>"u"||!af(Jy,t))throw new Ur(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Xy(t){if(typeof t=="string")return nf(t,"hints"),t;if(Ts(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];nf(n,"hints"),r+=n,i!==e-1&&(r+=", ");}return r}throw new Ur("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ff.exports={isInt32:By,isUint32:Py,parseFileMode:xy,validateArray:Bs,validateStringArray:jy,validateBooleanArray:Fy,validateBoolean:uf,validateBuffer:$y,validateDictionary:Dy,validateEncoding:Hy,validateFunction:Ky,validateInt32:Ly,validateInteger:My,validateNumber:Uy,validateObject:qy,validateOneOf:Ny,validatePlainFunction:Gy,validatePort:Vy,validateSignalName:Wy,validateString:Cs,validateUint32:lf,validateUndefined:Qy,validateUnion:Yy,validateAbortSignal:zy,validateLinkHeaderValue:Xy};});var Nt=M((BI,pf)=>{_();v();m();var ae=pf.exports={},Xe,Ze;function Ps(){throw new Error("setTimeout has not been defined")}function ks(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Xe=setTimeout:Xe=Ps;}catch{Xe=Ps;}try{typeof clearTimeout=="function"?Ze=clearTimeout:Ze=ks;}catch{Ze=ks;}})();function cf(t){if(Xe===setTimeout)return setTimeout(t,0);if((Xe===Ps||!Xe)&&setTimeout)return Xe=setTimeout,setTimeout(t,0);try{return Xe(t,0)}catch{try{return Xe.call(null,t,0)}catch{return Xe.call(this,t,0)}}}function Zy(t){if(Ze===clearTimeout)return clearTimeout(t);if((Ze===ks||!Ze)&&clearTimeout)return Ze=clearTimeout,clearTimeout(t);try{return Ze(t)}catch{try{return Ze.call(null,t)}catch{return Ze.call(this,t)}}}var _t=[],Nr=!1,rr,Qi=-1;function eb(){!Nr||!rr||(Nr=!1,rr.length?_t=rr.concat(_t):Qi=-1,_t.length&&hf());}function hf(){if(!Nr){var t=cf(eb);Nr=!0;for(var e=_t.length;e;){for(rr=_t,_t=[];++Qi<e;)rr&&rr[Qi].run();Qi=-1,e=_t.length;}rr=null,Nr=!1,Zy(t);}}ae.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];_t.push(new df(t,e)),_t.length===1&&!Nr&&cf(hf);};function df(t,e){this.fun=t,this.array=e;}df.prototype.run=function(){this.fun.apply(null,this.array);};ae.title="browser";ae.browser=!0;ae.env={};ae.argv=[];ae.version="";ae.versions={};function mt(){}ae.on=mt;ae.addListener=mt;ae.once=mt;ae.off=mt;ae.removeListener=mt;ae.removeAllListeners=mt;ae.emit=mt;ae.prependListener=mt;ae.prependOnceListener=mt;ae.listeners=function(t){return []};ae.binding=function(t){throw new Error("process.binding is not supported")};ae.cwd=function(){return "/"};ae.chdir=function(t){throw new Error("process.chdir is not supported")};ae.umask=function(){return 0};});var tt=M((DI,Pf)=>{_();v();m();var{Symbol:Yi,SymbolAsyncIterator:gf,SymbolIterator:yf,SymbolFor:bf}=ce(),wf=Yi("kDestroyed"),_f=Yi("kIsErrored"),Os=Yi("kIsReadable"),mf=Yi("kIsDisturbed"),tb=bf("nodejs.webstream.isClosedPromise"),rb=bf("nodejs.webstream.controllerErrorFunction");function Ji(t,e=!1){var r;return !!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Xi(t){var e;return !!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function ib(t){return !!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function et(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function vf(t){return !!(t&&!et(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Ef(t){return !!(t&&!et(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Sf(t){return !!(t&&!et(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function nb(t){return vf(t)||Ef(t)||Sf(t)}function sb(t,e){return t==null?!1:e===!0?typeof t[gf]=="function":e===!1?typeof t[yf]=="function":typeof t[gf]=="function"||typeof t[yf]=="function"}function Zi(t){if(!et(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return !!(t.destroyed||t[wf]||i!=null&&i.destroyed)}function Af(t){if(!Xi(t))return null;if(t.writableEnded===!0)return !0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ob(t,e){if(!Xi(t))return null;if(t.writableFinished===!0)return !0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function ab(t){if(!Ji(t))return null;if(t.readableEnded===!0)return !0;let e=t._readableState;return !e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function If(t,e){if(!Ji(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Tf(t){return t&&t[Os]!=null?t[Os]:typeof t?.readable!="boolean"?null:Zi(t)?!1:Ji(t)&&t.readable&&!If(t)}function Rf(t){return typeof t?.writable!="boolean"?null:Zi(t)?!1:Xi(t)&&t.writable&&!Af(t)}function lb(t,e){return et(t)?Zi(t)?!0:!(e?.readable!==!1&&Tf(t)||e?.writable!==!1&&Rf(t)):null}function ub(t){var e,r;return et(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function fb(t){var e,r;return et(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function cb(t){if(!et(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Cf(t)?t._closed:null}function Cf(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Bf(t){return typeof t._sent100=="boolean"&&Cf(t)}function hb(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function db(t){if(!et(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return !i&&Bf(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function pb(t){var e;return !!(t&&((e=t[mf])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function gb(t){var e,r,i,n,o,s,a,l,c,h;return !!(t&&((e=(r=(i=(n=(o=(s=t[_f])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&i!==void 0?i:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((h=t._writableState)===null||h===void 0)&&h.errored))}Pf.exports={kDestroyed:wf,isDisturbed:pb,kIsDisturbed:mf,isErrored:gb,kIsErrored:_f,isReadable:Tf,kIsReadable:Os,kIsClosedPromise:tb,kControllerErrorFunction:rb,isClosed:cb,isDestroyed:Zi,isDuplexNodeStream:ib,isFinished:lb,isIterable:sb,isReadableNodeStream:Ji,isReadableStream:vf,isReadableEnded:ab,isReadableFinished:If,isReadableErrored:fb,isNodeStream:et,isWebStream:nb,isWritable:Rf,isWritableNodeStream:Xi,isWritableStream:Ef,isWritableEnded:Af,isWritableFinished:ob,isWritableErrored:ub,isServerRequest:hb,isServerResponse:Bf,willEmitClose:db,isTransformStream:Sf};});var vt=M((QI,Ns)=>{_();v();m();var qt=Nt(),{AbortError:Df,codes:yb}=Ae(),{ERR_INVALID_ARG_TYPE:bb,ERR_STREAM_PREMATURE_CLOSE:kf}=yb,{kEmptyObject:Ms,once:Ls}=Je(),{validateAbortSignal:wb,validateFunction:_b,validateObject:mb,validateBoolean:vb}=hi(),{Promise:Eb,PromisePrototypeThen:Sb}=ce(),{isClosed:Ab,isReadable:Of,isReadableNodeStream:xs,isReadableStream:Ib,isReadableFinished:xf,isReadableErrored:Mf,isWritable:Lf,isWritableNodeStream:Uf,isWritableStream:Tb,isWritableFinished:Nf,isWritableErrored:qf,isNodeStream:Rb,willEmitClose:Cb,kIsClosedPromise:Bb}=tt();function Pb(t){return t.setHeader&&typeof t.abort=="function"}var Us=()=>{};function jf(t,e,r){var i,n;if(arguments.length===2?(r=e,e=Ms):e==null?e=Ms:mb(e,"options"),_b(r,"callback"),wb(e.signal,"options.signal"),r=Ls(r),Ib(t)||Tb(t))return kb(t,e,r);if(!Rb(t))throw new bb("stream",["ReadableStream","WritableStream","Stream"],t);let o=(i=e.readable)!==null&&i!==void 0?i:xs(t),s=(n=e.writable)!==null&&n!==void 0?n:Uf(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||g();},h=Cb(t)&&xs(t)===o&&Uf(t)===s,d=Nf(t,!1),g=()=>{d=!0,t.destroyed&&(h=!1),!(h&&(!t.readable||o))&&(!o||y)&&r.call(t);},y=xf(t,!1),w=()=>{y=!0,t.destroyed&&(h=!1),!(h&&(!t.writable||s))&&(!s||d)&&r.call(t);},S=N=>{r.call(t,N);},E=Ab(t),I=()=>{E=!0;let N=qf(t)||Mf(t);if(N&&typeof N!="boolean")return r.call(t,N);if(o&&!y&&xs(t,!0)&&!xf(t,!1))return r.call(t,new kf);if(s&&!d&&!Nf(t,!1))return r.call(t,new kf);r.call(t);},C=()=>{E=!0;let N=qf(t)||Mf(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t);},R=()=>{t.req.on("finish",g);};Pb(t)?(t.on("complete",g),h||t.on("abort",I),t.req?R():t.on("request",R)):s&&!a&&(t.on("end",c),t.on("close",c)),!h&&typeof t.aborted=="boolean"&&t.on("aborted",I),t.on("end",w),t.on("finish",g),e.error!==!1&&t.on("error",S),t.on("close",I),E?qt.nextTick(I):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?h||qt.nextTick(C):(!o&&(!h||Of(t))&&(d||Lf(t)===!1)||!s&&(!h||Lf(t))&&(y||Of(t)===!1)||l&&t.req&&t.aborted)&&qt.nextTick(C);let U=()=>{r=Us,t.removeListener("aborted",I),t.removeListener("complete",g),t.removeListener("abort",I),t.removeListener("request",R),t.req&&t.req.removeListener("finish",g),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",g),t.removeListener("end",w),t.removeListener("error",S),t.removeListener("close",I);};if(e.signal&&!E){let N=()=>{let W=r;U(),W.call(t,new Df(void 0,{cause:e.signal.reason}));};if(e.signal.aborted)qt.nextTick(N);else {let W=r;r=Ls((...K)=>{e.signal.removeEventListener("abort",N),W.apply(t,K);}),e.signal.addEventListener("abort",N);}}return U}function kb(t,e,r){let i=!1,n=Us;if(e.signal)if(n=()=>{i=!0,r.call(t,new Df(void 0,{cause:e.signal.reason}));},e.signal.aborted)qt.nextTick(n);else {let s=r;r=Ls((...a)=>{e.signal.removeEventListener("abort",n),s.apply(t,a);}),e.signal.addEventListener("abort",n);}let o=(...s)=>{i||qt.nextTick(()=>r.apply(t,s));};return Sb(t[Bb].promise,o,o),Us}function Ob(t,e){var r;let i=!1;return e===null&&(e=Ms),(r=e)!==null&&r!==void 0&&r.cleanup&&(vb(e.cleanup,"cleanup"),i=e.cleanup),new Eb((n,o)=>{let s=jf(t,e,a=>{i&&s(),a?o(a):n();});})}Ns.exports=jf;Ns.exports.finished=Ob;});var ir=M((sT,Gf)=>{_();v();m();var rt=Nt(),{aggregateTwoErrors:xb,codes:{ERR_MULTIPLE_CALLBACK:Mb},AbortError:Lb}=Ae(),{Symbol:$f}=ce(),{kDestroyed:Ub,isDestroyed:Nb,isFinished:qb,isServerRequest:Db}=tt(),Hf=$f("kDestroy"),qs=$f("kConstruct");function Vf(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t));}function jb(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Vf(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?Ff(this,t,e):this.once(Hf,function(o){Ff(this,xb(o,t),e);}),this)}function Ff(t,e,r){let i=!1;function n(o){if(i)return;i=!0;let s=t._readableState,a=t._writableState;Vf(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?rt.nextTick(Fb,t,o):rt.nextTick(zf,t);}try{t._destroy(e||null,n);}catch(o){n(o);}}function Fb(t,e){Ds(t,e),zf(t);}function zf(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close");}function Ds(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e));}function Wb(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1);}function js(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?rt.nextTick(Ds,t,e):Ds(t,e));}function $b(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(qs,e),!(t.listenerCount(qs)>1)&&rt.nextTick(Hb,t);}function Hb(t){let e=!1;function r(i){if(e){js(t,i??new Mb);return}e=!0;let n=t._readableState,o=t._writableState,s=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(Hf,i):i?js(t,i,!0):rt.nextTick(Vb,t);}try{t._construct(i=>{rt.nextTick(r,i);});}catch(i){rt.nextTick(r,i);}}function Vb(t){t.emit(qs);}function Wf(t){return t?.setHeader&&typeof t.abort=="function"}function Kf(t){t.emit("close");}function zb(t,e){t.emit("error",e),rt.nextTick(Kf,t);}function Kb(t,e){!t||Nb(t)||(!e&&!qb(t)&&(e=new Lb),Db(t)?(t.socket=null,t.destroy(e)):Wf(t)?t.abort():Wf(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?rt.nextTick(zb,t,e):rt.nextTick(Kf,t),t.destroyed||(t[Ub]=!0));}Gf.exports={construct:$b,destroyer:Kb,destroy:jb,undestroy:Wb,errorOrDestroy:js};});function Y(){Y.init.call(this);}function en(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function nc(t){return t._maxListeners===void 0?Y.defaultMaxListeners:t._maxListeners}function Xf(t,e,r,i){var n,o,s,a;if(en(r),(o=t._events)===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=nc(t))>0&&s.length>n&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a=l,console&&console.warn&&console.warn(a);}return t}function Gb(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Zf(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Gb.bind(i);return n.listener=r,i.wrapFn=n,n}function ec(t,e,r){var i=t._events;if(i===void 0)return [];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(n):sc(n,n.length)}function tc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function sc(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}var rc,ic,qr,Qf,Yf,Jf,Be,Fs=_e(()=>{_();v();m();qr=typeof Reflect=="object"?Reflect:null,Qf=qr&&typeof qr.apply=="function"?qr.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};ic=qr&&typeof qr.ownKeys=="function"?qr.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};Yf=Number.isNaN||function(t){return t!=t};rc=Y,Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;Jf=10;Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return Jf},set:function(t){if(typeof t!="number"||t<0||Yf(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Jf=t;}}),Y.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0;},Y.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Yf(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Y.prototype.getMaxListeners=function(){return nc(this)},Y.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=t==="error",n=this._events;if(n!==void 0)i=i&&n.error===void 0;else if(!i)return !1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=n[t];if(a===void 0)return !1;if(typeof a=="function")Qf(a,this,e);else {var l=a.length,c=sc(a,l);for(r=0;r<l;++r)Qf(c[r],this,e);}return !0},Y.prototype.addListener=function(t,e){return Xf(this,t,e,!1)},Y.prototype.on=Y.prototype.addListener,Y.prototype.prependListener=function(t,e){return Xf(this,t,e,!0)},Y.prototype.once=function(t,e){return en(e),this.on(t,Zf(this,t,e)),this},Y.prototype.prependOnceListener=function(t,e){return en(e),this.prependListener(t,Zf(this,t,e)),this},Y.prototype.removeListener=function(t,e){var r,i,n,o,s;if(en(e),(i=this._events)===void 0)return this;if((r=i[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,n=o;break}if(n<0)return this;n===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop();}(r,n),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||e);}return this},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(t){var e,r,i;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var n,o=Object.keys(r);for(i=0;i<o.length;++i)(n=o[i])!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},Y.prototype.listeners=function(t){return ec(this,t,!0)},Y.prototype.rawListeners=function(t){return ec(this,t,!1)},Y.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):tc.call(t,e)},Y.prototype.listenerCount=tc,Y.prototype.eventNames=function(){return this._eventsCount>0?ic(this._events):[]};Be=rc;Be.EventEmitter;Be.defaultMaxListeners;Be.init;Be.listenerCount;Be.EventEmitter;Be.defaultMaxListeners;Be.init;Be.listenerCount;});var nr={};Jt(nr,{EventEmitter:()=>Qb,default:()=>Be,defaultMaxListeners:()=>Yb,init:()=>Jb,listenerCount:()=>Xb,on:()=>Zb,once:()=>ew});var Qb,Yb,Jb,Xb,Zb,ew,sr=_e(()=>{_();v();m();Fs();Fs();Be.once=function(t,e){return new Promise((r,i)=>{function n(...s){o!==void 0&&t.removeListener("error",o),r(s);}let o;e!=="error"&&(o=s=>{t.removeListener(name,n),i(s);},t.once("error",o)),t.once(e,n);})};Be.on=function(t,e){let r=[],i=[],n=null,o=!1,s={async next(){let c=r.shift();if(c)return createIterResult(c,!1);if(n){let h=Promise.reject(n);return n=null,h}return o?createIterResult(void 0,!0):new Promise((h,d)=>i.push({resolve:h,reject:d}))},async return(){t.removeListener(e,a),t.removeListener("error",l),o=!0;for(let c of i)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){n=c,t.removeListener(e,a),t.removeListener("error",l);},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",l),s;function a(...c){let h=i.shift();h?h.resolve(createIterResult(c,!1)):r.push(c);}function l(c){o=!0;let h=i.shift();h?h.reject(c):n=c,s.return();}};({EventEmitter:Qb,defaultMaxListeners:Yb,init:Jb,listenerCount:Xb,on:Zb,once:ew}=Be);});var nn=M((UT,ac)=>{_();v();m();var{ArrayIsArray:tw,ObjectSetPrototypeOf:oc}=ce(),{EventEmitter:tn}=(sr(),X(nr));function rn(t){tn.call(this,t);}oc(rn.prototype,tn.prototype);oc(rn,tn);rn.prototype.pipe=function(t,e){let r=this;function i(h){t.writable&&t.write(h)===!1&&r.pause&&r.pause();}r.on("data",i);function n(){r.readable&&r.resume&&r.resume();}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));let o=!1;function s(){o||(o=!0,t.end());}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy());}function l(h){c(),tn.listenerCount(this,"error")===0&&this.emit("error",h);}Ws(r,"error",l),Ws(t,"error",l);function c(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c);}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Ws(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):tw(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]];}ac.exports={Stream:rn,prependListener:Ws};});var di=M((zT,sn)=>{_();v();m();var{AbortError:lc,codes:rw}=Ae(),{isNodeStream:uc,isWebStream:iw,kControllerErrorFunction:nw}=tt(),sw=vt(),{ERR_INVALID_ARG_TYPE:fc}=rw,ow=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new fc(e,"AbortSignal",t)};sn.exports.addAbortSignal=function(e,r){if(ow(e,"signal"),!uc(r)&&!iw(r))throw new fc("stream",["ReadableStream","WritableStream","Stream"],r);return sn.exports.addAbortSignalNoValidate(e,r)};sn.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=uc(e)?()=>{e.destroy(new lc(void 0,{cause:t.reason}));}:()=>{e[nw](new lc(void 0,{cause:t.reason}));};return t.aborted?r():(t.addEventListener("abort",r),sw(e,()=>t.removeEventListener("abort",r))),e};});var dc=M((i2,hc)=>{_();v();m();var{StringPrototypeSlice:cc,SymbolIterator:aw,TypedArrayPrototypeSet:on,Uint8Array:lw}=ce(),{Buffer:$s}=(be(),X(me)),{inspect:uw}=Je();hc.exports=class{constructor(){this.head=null,this.tail=null,this.length=0;}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length;}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length;}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0;}join(e){if(this.length===0)return "";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return $s.alloc(0);let r=$s.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)on(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[aw](){for(let e=this.head;e;e=e.next)yield e.data;}_getString(e){let r="",i=this.head,n=0;do{let o=i.data;if(e>o.length)r+=o,e-=o.length;else {e===o.length?(r+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=cc(o,0,e),this.head=i,i.data=cc(o,e));break}++n;}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=$s.allocUnsafe(e),i=e,n=this.head,o=0;do{let s=n.data;if(e>s.length)on(r,s,i-e),e-=s.length;else {e===s.length?(on(r,s,i-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(on(r,new lw(s.buffer,s.byteOffset,e),i-e),this.head=n,n.data=s.slice(e));break}++o;}while((n=n.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return uw(this,{...r,depth:0,customInspect:!1})}};});var an=M((d2,gc)=>{_();v();m();var{MathFloor:fw,NumberIsInteger:cw}=ce(),{ERR_INVALID_ARG_VALUE:hw}=Ae().codes;function dw(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function pc(t){return t?16:16*1024}function pw(t,e,r,i){let n=dw(e,i,r);if(n!=null){if(!cw(n)||n<0){let o=i?`options.${r}`:"options.highWaterMark";throw new hw(o,n)}return fw(n)}return pc(t.objectMode)}gc.exports={getHighWaterMark:pw,getDefaultHighWaterMark:pc};});function wc(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=e),[r,r===e?0:4-r%4]}function gw(t,e,r){for(var i,n,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push($e[(n=i)>>18&63]+$e[n>>12&63]+$e[n>>6&63]+$e[63&n]);return o.join("")}function Et(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,O.prototype),e}function O(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ks(t)}return Cc(t,e,r)}function Cc(t,e,r){if(typeof t=="string")return function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!O.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|Pc(o,s),l=Et(a),c=l.write(o,s);return c!==a&&(l=l.slice(0,c)),l}(t,e);if(ArrayBuffer.isView(t))return Hs(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(St(t,ArrayBuffer)||t&&St(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(St(t,SharedArrayBuffer)||t&&St(t.buffer,SharedArrayBuffer)))return mc(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return O.from(i,e,r);var n=function(o){if(O.isBuffer(o)){var s=0|Ys(o.length),a=Et(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||Js(o.length)?Et(0):Hs(o);if(o.type==="Buffer"&&Array.isArray(o.data))return Hs(o.data)}(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return O.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function Bc(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Ks(t){return Bc(t),Et(t<0?0:0|Ys(t))}function Hs(t){for(var e=t.length<0?0:0|Ys(t.length),r=Et(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function mc(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(i,O.prototype),i}function Ys(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|t}function Pc(t,e){if(O.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||St(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Gs(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Mc(t).length;default:if(n)return i?-1:Gs(t).length;e=(""+e).toLowerCase(),n=!0;}}function bw(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return "";for(t||(t="utf8");;)switch(t){case"hex":return Tw(this,e,r);case"utf8":case"utf-8":return Oc(this,e,r);case"ascii":return Aw(this,e,r);case"latin1":case"binary":return Iw(this,e,r);case"base64":return Sw(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rw(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0;}}function ar(t,e,r){var i=t[e];t[e]=t[r],t[r]=i;}function vc(t,e,r,i,n){if(t.length===0)return -1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Js(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return -1;r=t.length-1;}else if(r<0){if(!n)return -1;r=0;}if(typeof e=="string"&&(e=O.from(e,i)),O.isBuffer(e))return e.length===0?-1:Ec(t,e,r,i,n);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Ec(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function Ec(t,e,r,i,n){var o,s=1,a=t.length,l=e.length;if(i!==void 0&&((i=String(i).toLowerCase())==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return -1;s=2,a/=2,l/=2,r/=2;}function c(y,w){return s===1?y[w]:y.readUInt16BE(w*s)}if(n){var h=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,h===-1?0:o-h)){if(h===-1&&(h=o),o-h+1===l)return h*s}else h!==-1&&(o-=o-h),h=-1;}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var d=!0,g=0;g<l;g++)if(c(t,o+g)!==c(e,g)){d=!1;break}if(d)return o}return -1}function ww(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(Js(a))return s;t[r+s]=a;}return s}function _w(t,e,r,i){return cn(Gs(e,t.length-r),t,r,i)}function kc(t,e,r,i){return cn(function(n){for(var o=[],s=0;s<n.length;++s)o.push(255&n.charCodeAt(s));return o}(e),t,r,i)}function mw(t,e,r,i){return kc(t,e,r,i)}function vw(t,e,r,i){return cn(Mc(e),t,r,i)}function Ew(t,e,r,i){return cn(function(n,o){for(var s,a,l,c=[],h=0;h<n.length&&!((o-=2)<0);++h)s=n.charCodeAt(h),a=s>>8,l=s%256,c.push(l),c.push(a);return c}(e,t.length-r),t,r,i)}function Sw(t,e,r){return e===0&&r===t.length?zs.fromByteArray(t):zs.fromByteArray(t.slice(e,r))}function Oc(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,l,c=t[n],h=null,d=c>239?4:c>223?3:c>191?2:1;if(n+d<=r)switch(d){case 1:c<128&&(h=c);break;case 2:(192&(o=t[n+1]))==128&&(l=(31&c)<<6|63&o)>127&&(h=l);break;case 3:o=t[n+1],s=t[n+2],(192&o)==128&&(192&s)==128&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(h=l);}h===null?(h=65533,d=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),n+=d;}return function(g){var y=g.length;if(y<=4096)return String.fromCharCode.apply(String,g);for(var w="",S=0;S<y;)w+=String.fromCharCode.apply(String,g.slice(S,S+=4096));return w}(i)}function Aw(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function Iw(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function Tw(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=Bw[t[o]];return n}function Rw(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function we(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Pe(t,e,r,i,n,o){if(!O.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function xc(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Sc(t,e,r,i,n){return e=+e,r>>>=0,n||xc(t,0,r,4),Dr.write(t,e,r,i,23,4),r+4}function Ac(t,e,r,i,n){return e=+e,r>>>=0,n||xc(t,0,r,8),Dr.write(t,e,r,i,52,8),r+8}function Gs(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320);}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r);}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128);}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128);}else {if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128);}}return o}function Mc(t){return zs.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Cw,"")).length<2)return "";for(;e.length%4!=0;)e+="=";return e}(t))}function cn(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function St(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Js(t){return t!=t}function Ic(t,e){for(var r in t)e[r]=t[r];}function lr(t,e,r){return it(t,e,r)}function pi(t){var e;switch(this.encoding=function(r){var i=function(n){if(!n)return "utf8";for(var o;;)switch(n){case"utf8":case"utf-8":return "utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return "utf16le";case"latin1":case"binary":return "latin1";case"base64":case"ascii":case"hex":return n;default:if(o)return;n=(""+n).toLowerCase(),o=!0;}}(r);if(typeof i!="string"&&(Qs.isEncoding===Tc||!Tc(r)))throw new Error("Unknown encoding: "+r);return i||r}(t),this.encoding){case"utf16le":this.text=Ow,this.end=xw,e=4;break;case"utf8":this.fillLast=kw,e=4;break;case"base64":this.text=Mw,this.end=Lw,e=3;break;default:return this.write=Uw,this.end=Nw,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Qs.allocUnsafe(e);}function Vs(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function kw(t){var e=this.lastTotal-this.lastNeed,r=function(i,n,o){if((192&n[0])!=128)return i.lastNeed=0,"\uFFFD";if(i.lastNeed>1&&n.length>1){if((192&n[1])!=128)return i.lastNeed=1,"\uFFFD";if(i.lastNeed>2&&n.length>2&&(192&n[2])!=128)return i.lastNeed=2,"\uFFFD"}}(this,t);return r!==void 0?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function Ow(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function xw(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Mw(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Lw(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Uw(t){return t.toString(this.encoding)}function Nw(t){return t&&t.length?this.write(t):""}var Rc,$e,Oe,yc,ln,or,bc,yw,At,zs,Dr,_c,Cw,Bw,un,fn,it,Pw,ur,Qs,Tc,Xs=_e(()=>{_();v();m();for(Rc={byteLength:function(t){var e=wc(t),r=e[0],i=e[1];return 3*(r+i)/4-i},toByteArray:function(t){var e,r,i=wc(t),n=i[0],o=i[1],s=new yc(function(c,h,d){return 3*(h+d)/4-d}(0,n,o)),a=0,l=o>0?n-4:n;for(r=0;r<l;r+=4)e=Oe[t.charCodeAt(r)]<<18|Oe[t.charCodeAt(r+1)]<<12|Oe[t.charCodeAt(r+2)]<<6|Oe[t.charCodeAt(r+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return o===2&&(e=Oe[t.charCodeAt(r)]<<2|Oe[t.charCodeAt(r+1)]>>4,s[a++]=255&e),o===1&&(e=Oe[t.charCodeAt(r)]<<10|Oe[t.charCodeAt(r+1)]<<4|Oe[t.charCodeAt(r+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},fromByteArray:function(t){for(var e,r=t.length,i=r%3,n=[],o=0,s=r-i;o<s;o+=16383)n.push(gw(t,o,o+16383>s?s:o+16383));return i===1?(e=t[r-1],n.push($e[e>>2]+$e[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push($e[e>>10]+$e[e>>4&63]+$e[e<<2&63]+"=")),n.join("")}},$e=[],Oe=[],yc=typeof Uint8Array<"u"?Uint8Array:Array,ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",or=0,bc=ln.length;or<bc;++or)$e[or]=ln[or],Oe[ln.charCodeAt(or)]=or;Oe["-".charCodeAt(0)]=62,Oe["_".charCodeAt(0)]=63;yw={read:function(t,e,r,i,n){var o,s,a=8*n-i-1,l=(1<<a)-1,c=l>>1,h=-7,d=r?n-1:0,g=r?-1:1,y=t[e+d];for(d+=g,o=y&(1<<-h)-1,y>>=-h,h+=a;h>0;o=256*o+t[e+d],d+=g,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=256*s+t[e+d],d+=g,h-=8);if(o===0)o=1-c;else {if(o===l)return s?NaN:1/0*(y?-1:1);s+=Math.pow(2,i),o-=c;}return (y?-1:1)*s*Math.pow(2,o-i)},write:function(t,e,r,i,n,o){var s,a,l,c=8*o-n-1,h=(1<<c)-1,d=h>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:o-1,w=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+d>=1?g/l:g*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(e*l-1)*Math.pow(2,n),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+y]=255&a,y+=w,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;t[r+y]=255&s,y+=w,s/=256,c-=8);t[r+y-w]|=128*S;}},At={},zs=Rc,Dr=yw,_c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;At.Buffer=O,At.SlowBuffer=function(t){return +t!=t&&(t=0),O.alloc(+t)},At.INSPECT_MAX_BYTES=50;At.kMaxLength=2147483647,O.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return !1}}(),O.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}}),Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}}),O.poolSize=8192,O.from=function(t,e,r){return Cc(t,e,r)},Object.setPrototypeOf(O.prototype,Uint8Array.prototype),Object.setPrototypeOf(O,Uint8Array),O.alloc=function(t,e,r){return function(i,n,o){return Bc(i),i<=0?Et(i):n!==void 0?typeof o=="string"?Et(i).fill(n,o):Et(i).fill(n):Et(i)}(t,e,r)},O.allocUnsafe=function(t){return Ks(t)},O.allocUnsafeSlow=function(t){return Ks(t)},O.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==O.prototype},O.compare=function(t,e){if(St(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),St(e,Uint8Array)&&(e=O.from(e,e.offset,e.byteLength)),!O.isBuffer(t)||!O.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},O.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},O.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return O.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=O.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(St(o,Uint8Array)&&(o=O.from(o)),!O.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length;}return i},O.byteLength=Pc,O.prototype._isBuffer=!0,O.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ar(this,e,e+1);return this},O.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ar(this,e,e+3),ar(this,e+1,e+2);return this},O.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ar(this,e,e+7),ar(this,e+1,e+6),ar(this,e+2,e+5),ar(this,e+3,e+4);return this},O.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Oc(this,0,t):bw.apply(this,arguments)},O.prototype.toLocaleString=O.prototype.toString,O.prototype.equals=function(t){if(!O.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||O.compare(this,t)===0},O.prototype.inspect=function(){var t="",e=At.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},_c&&(O.prototype[_c]=O.prototype.inspect),O.prototype.compare=function(t,e,r,i,n){if(St(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),!O.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),i===void 0&&(i=0),n===void 0&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return -1;if(e>=r)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(i,n),c=t.slice(e,r),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},O.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},O.prototype.indexOf=function(t,e,r){return vc(this,t,e,r,!0)},O.prototype.lastIndexOf=function(t,e,r){return vc(this,t,e,r,!1)},O.prototype.write=function(t,e,r,i){if(e===void 0)i="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")i=e,r=this.length,e=0;else {if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,i===void 0&&(i="utf8")):(i=r,r=void 0);}var n=this.length-e;if((r===void 0||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return ww(this,t,e,r);case"utf8":case"utf-8":return _w(this,t,e,r);case"ascii":return kc(this,t,e,r);case"latin1":case"binary":return mw(this,t,e,r);case"base64":return vw(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ew(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0;}},O.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};O.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,O.prototype),i},O.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},O.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},O.prototype.readUInt8=function(t,e){return t>>>=0,e||we(t,1,this.length),this[t]},O.prototype.readUInt16LE=function(t,e){return t>>>=0,e||we(t,2,this.length),this[t]|this[t+1]<<8},O.prototype.readUInt16BE=function(t,e){return t>>>=0,e||we(t,2,this.length),this[t]<<8|this[t+1]},O.prototype.readUInt32LE=function(t,e){return t>>>=0,e||we(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},O.prototype.readUInt32BE=function(t,e){return t>>>=0,e||we(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},O.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},O.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},O.prototype.readInt8=function(t,e){return t>>>=0,e||we(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},O.prototype.readInt16LE=function(t,e){t>>>=0,e||we(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},O.prototype.readInt16BE=function(t,e){t>>>=0,e||we(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},O.prototype.readInt32LE=function(t,e){return t>>>=0,e||we(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},O.prototype.readInt32BE=function(t,e){return t>>>=0,e||we(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},O.prototype.readFloatLE=function(t,e){return t>>>=0,e||we(t,4,this.length),Dr.read(this,t,!0,23,4)},O.prototype.readFloatBE=function(t,e){return t>>>=0,e||we(t,4,this.length),Dr.read(this,t,!1,23,4)},O.prototype.readDoubleLE=function(t,e){return t>>>=0,e||we(t,8,this.length),Dr.read(this,t,!0,52,8)},O.prototype.readDoubleBE=function(t,e){return t>>>=0,e||we(t,8,this.length),Dr.read(this,t,!1,52,8)},O.prototype.writeUIntLE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||Pe(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},O.prototype.writeUIntBE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||Pe(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},O.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,1,255,0),this[e]=255&t,e+1},O.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},O.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},O.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},O.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},O.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);Pe(this,t,e,r,n-1,-n);}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&a===0&&this[e+o-1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},O.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);Pe(this,t,e,r,n-1,-n);}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&a===0&&this[e+o+1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},O.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},O.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},O.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},O.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},O.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},O.prototype.writeFloatLE=function(t,e,r){return Sc(this,t,e,!0,r)},O.prototype.writeFloatBE=function(t,e,r){return Sc(this,t,e,!1,r)},O.prototype.writeDoubleLE=function(t,e,r){return Ac(this,t,e,!0,r)},O.prototype.writeDoubleBE=function(t,e,r){return Ac(this,t,e,!1,r)},O.prototype.copy=function(t,e,r,i){if(!O.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||i===0||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n=i-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,i);else if(this===t&&r<e&&e<i)for(var o=n-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),e);return n},O.prototype.fill=function(t,e,r,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!O.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var n=t.charCodeAt(0);(i==="utf8"&&n<128||i==="latin1")&&(t=n);}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(o=e;o<r;++o)this[o]=t;else {var s=O.isBuffer(t)?t:O.from(t,i),a=s.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a];}return this};Cw=/[^+/0-9A-Za-z-_]/g;Bw=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,i=0;i<16;++i)t[r+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t}();At.Buffer;At.INSPECT_MAX_BYTES;At.kMaxLength;un={},fn=At,it=fn.Buffer;it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?un=fn:(Ic(fn,un),un.Buffer=lr),lr.prototype=Object.create(it.prototype),Ic(it,lr),lr.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return it(t,e,r)},lr.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=it(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i},lr.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return it(t)},lr.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return fn.SlowBuffer(t)};Pw=un,ur={},Qs=Pw.Buffer,Tc=Qs.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return !0;default:return !1}};ur.StringDecoder=pi,pi.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},pi.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e},pi.prototype.text=function(t,e){var r=function(n,o,s){var a=o.length-1;if(a<s)return 0;var l=Vs(o[a]);return l>=0?(l>0&&(n.lastNeed=l-1),l):--a<s||l===-2?0:(l=Vs(o[a]))>=0?(l>0&&(n.lastNeed=l-2),l):--a<s||l===-2?0:(l=Vs(o[a]))>=0?(l>0&&(l===2?l=0:n.lastNeed=l-3),l):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},pi.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};ur.StringDecoder;ur.StringDecoder;});var Lc={};Jt(Lc,{StringDecoder:()=>qw,default:()=>ur});var qw,Uc=_e(()=>{_();v();m();Xs();Xs();qw=ur.StringDecoder;});var Zs=M((H2,jc)=>{_();v();m();var Nc=Nt(),{PromisePrototypeThen:Dw,SymbolAsyncIterator:qc,SymbolIterator:Dc}=ce(),{Buffer:jw}=(be(),X(me)),{ERR_INVALID_ARG_TYPE:Fw,ERR_STREAM_NULL_VALUES:Ww}=Ae().codes;function $w(t,e,r){let i;if(typeof e=="string"||e instanceof jw)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null);}});let n;if(e&&e[qc])n=!0,i=e[qc]();else if(e&&e[Dc])n=!1,i=e[Dc]();else throw new Fw("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,l());},o._destroy=function(c,h){Dw(a(c),()=>Nc.nextTick(h,c),d=>Nc.nextTick(h,d||c));};async function a(c){let h=c!=null,d=typeof i.throw=="function";if(h&&d){let{value:g,done:y}=await i.throw(c);if(await g,y)return}if(typeof i.return=="function"){let{value:g}=await i.return();await g;}}async function l(){for(;;){try{let{value:c,done:h}=n?await i.next():i.next();if(h)o.push(null);else {let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw s=!1,new Ww;if(o.push(d))continue;s=!1;}}catch(c){o.destroy(c);}break}}return o}jc.exports=$w;});var gi=M((eR,Zc)=>{_();v();m();var He=Nt(),{ArrayPrototypeIndexOf:Hw,NumberIsInteger:Vw,NumberIsNaN:zw,NumberParseInt:Kw,ObjectDefineProperties:$c,ObjectKeys:Gw,ObjectSetPrototypeOf:Hc,Promise:Qw,SafeSet:Yw,SymbolAsyncIterator:Jw,Symbol:Xw}=ce();Zc.exports=F;F.ReadableState=so;var{EventEmitter:Zw}=(sr(),X(nr)),{Stream:Dt,prependListener:e_}=nn(),{Buffer:eo}=(be(),X(me)),{addAbortSignal:t_}=di(),r_=vt(),H=Je().debuglog("stream",t=>{H=t;}),i_=dc(),Fr=ir(),{getHighWaterMark:n_,getDefaultHighWaterMark:s_}=an(),{aggregateTwoErrors:Fc,codes:{ERR_INVALID_ARG_TYPE:o_,ERR_METHOD_NOT_IMPLEMENTED:a_,ERR_OUT_OF_RANGE:l_,ERR_STREAM_PUSH_AFTER_EOF:u_,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f_}}=Ae(),{validateObject:c_}=hi(),fr=Xw("kPaused"),{StringDecoder:Vc}=(Uc(),X(Lc)),h_=Zs();Hc(F.prototype,Dt.prototype);Hc(F,Dt);var to=()=>{},{errorOrDestroy:jr}=Fr;function so(t,e,r){typeof r!="boolean"&&(r=e instanceof nt()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?n_(this,t,"readableHighWaterMark",r):s_(!1),this.buffer=new i_,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[fr]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Vc(t.encoding),this.encoding=t.encoding);}function F(t){if(!(this instanceof F))return new F(t);let e=this instanceof nt();this._readableState=new so(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&t_(t.signal,this)),Dt.call(this,t),Fr.construct(this,()=>{this._readableState.needReadable&&hn(this,this._readableState);});}F.prototype.destroy=Fr.destroy;F.prototype._undestroy=Fr.undestroy;F.prototype._destroy=function(t,e){e(t);};F.prototype[Zw.captureRejectionSymbol]=function(t){this.destroy(t);};F.prototype.push=function(t,e){return zc(this,t,e,!1)};F.prototype.unshift=function(t,e){return zc(this,t,e,!0)};function zc(t,e,r,i){H("readableAddChunk",e);let n=t._readableState,o;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=eo.from(e,r).toString(n.encoding):(e=eo.from(e,r),r=""))):e instanceof eo?r="":Dt._isUint8Array(e)?(e=Dt._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new o_("chunk",["string","Buffer","Uint8Array"],e))),o)jr(t,o);else if(e===null)n.reading=!1,g_(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)jr(t,new f_);else {if(n.destroyed||n.errored)return !1;ro(t,n,e,!0);}else if(n.ended)jr(t,new u_);else {if(n.destroyed||n.errored)return !1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?ro(t,n,e,!1):hn(t,n)):ro(t,n,e,!1);}else i||(n.reading=!1,hn(t,n));return !n.ended&&(n.length<n.highWaterMark||n.length===0)}function ro(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&dn(t)),hn(t,e);}F.prototype.isPaused=function(){let t=this._readableState;return t[fr]===!0||t.flowing===!1};F.prototype.setEncoding=function(t){let e=new Vc(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var d_=1073741824;function p_(t){if(t>d_)throw new l_("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Wc(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:zw(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}F.prototype.read=function(t){H("read",t),t===void 0?t=NaN:Vw(t)||(t=Kw(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=p_(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return H("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?io(this):dn(this),null;if(t=Wc(t,e),t===0&&e.ended)return e.length===0&&io(this),null;let i=e.needReadable;if(H("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,H("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,H("reading, ended or constructing",i);else if(i){H("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark);}catch(o){jr(this,o);}e.sync=!1,e.reading||(t=Wc(r,e));}let n;return t>0?n=Jc(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&io(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function g_(t,e){if(H("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length);}e.ended=!0,e.sync?dn(t):(e.needReadable=!1,e.emittedReadable=!0,Kc(t));}}function dn(t){let e=t._readableState;H("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(H("emitReadable",e.flowing),e.emittedReadable=!0,He.nextTick(Kc,t));}function Kc(t){let e=t._readableState;H("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Qc(t);}function hn(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,He.nextTick(y_,t,e));}function y_(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(H("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1;}F.prototype._read=function(t){throw new a_("_read()")};F.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new Yw(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),H("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&t!==He.stdout&&t!==He.stderr?a:E;i.endEmitted?He.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){H("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,h());}function a(){H("onend"),t.end();}let l,c=!1;function h(){H("cleanup"),t.removeListener("close",w),t.removeListener("finish",S),l&&t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",g),c=!0,l&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l();}function d(){c||(i.pipes.length===1&&i.pipes[0]===t?(H("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(H("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),l||(l=b_(r,t),t.on("drain",l));}r.on("data",g);function g(I){H("ondata");let C=t.write(I);H("dest.write",C),C===!1&&d();}function y(I){if(H("onerror",I),E(),t.removeListener("error",y),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?jr(t,I):t.emit("error",I);}}e_(t,"error",y);function w(){t.removeListener("finish",S),E();}t.once("close",w);function S(){H("onfinish"),t.removeListener("close",w),E();}t.once("finish",S);function E(){H("unpipe"),r.unpipe(t);}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&d():i.flowing||(H("pipe resume"),r.resume()),t};function b_(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(H("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(H("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume();}}F.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=Hw(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};F.prototype.on=function(t,e){let r=Dt.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,H("on readable",i.length,i.reading),i.length?dn(this):i.reading||He.nextTick(w_,this)),r};F.prototype.addListener=F.prototype.on;F.prototype.removeListener=function(t,e){let r=Dt.prototype.removeListener.call(this,t,e);return t==="readable"&&He.nextTick(Gc,this),r};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(t){let e=Dt.prototype.removeAllListeners.apply(this,arguments);return (t==="readable"||t===void 0)&&He.nextTick(Gc,this),e};function Gc(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[fr]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null);}function w_(t){H("readable nexttick read 0"),t.read(0);}F.prototype.resume=function(){let t=this._readableState;return t.flowing||(H("resume"),t.flowing=!t.readableListening,__(this,t)),t[fr]=!1,this};function __(t,e){e.resumeScheduled||(e.resumeScheduled=!0,He.nextTick(m_,t,e));}function m_(t,e){H("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Qc(t),e.flowing&&!e.reading&&t.read(0);}F.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[fr]=!0,this};function Qc(t){let e=t._readableState;for(H("flow",e.flowing);e.flowing&&t.read()!==null;);}F.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause());}),t.on("end",()=>{this.push(null);}),t.on("error",i=>{jr(this,i);}),t.on("close",()=>{this.destroy();}),t.on("destroy",()=>{this.destroy();}),this._read=()=>{e&&t.resume&&(e=!1,t.resume());};let r=Gw(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t));}return this};F.prototype[Jw]=function(){return Yc(this)};F.prototype.iterator=function(t){return t!==void 0&&c_(t,"options"),Yc(this,t)};function Yc(t,e){typeof t.read!="function"&&(t=F.wrap(t,{objectMode:!0}));let r=v_(t,e);return r.stream=t,r}async function*v_(t,e){let r=to;function i(s){this===t?(r(),r=to):r=s;}t.on("readable",i);let n,o=r_(t,{writable:!1},s=>{n=s?Fc(n,s):null,r(),r=to;});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else {if(n)throw n;if(n===null)return;await new Qw(i);}}}catch(s){throw n=Fc(n,s),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?Fr.destroyer(t,null):(t.off("readable",i),o());}}$c(F.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return !!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t);}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return !!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t);}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t);}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});$c(so.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[fr]!==!1},set(t){this[fr]=!!t;}}});F._fromList=Jc;function Jc(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function io(t){let e=t._readableState;H("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,He.nextTick(E_,e,t));}function E_(t,e){if(H("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)He.nextTick(S_,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy();}}}function S_(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end();}F.from=function(t,e){return h_(F,t,e)};var no;function Xc(){return no===void 0&&(no={}),no}F.fromWeb=function(t,e){return Xc().newStreamReadableFromReadableStream(t,e)};F.toWeb=function(t,e){return Xc().newReadableStreamFromStreamReadable(t,e)};F.wrap=function(t,e){var r,i;return new F({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,o){Fr.destroyer(t,n),o(n);}}).wrap(t)};});var ho=M((fR,ch)=>{_();v();m();var cr=Nt(),{ArrayPrototypeSlice:rh,Error:A_,FunctionPrototypeSymbolHasInstance:ih,ObjectDefineProperty:nh,ObjectDefineProperties:I_,ObjectSetPrototypeOf:sh,StringPrototypeToLowerCase:T_,Symbol:R_,SymbolHasInstance:C_}=ce();ch.exports=ie;ie.WritableState=wi;var{EventEmitter:B_}=(sr(),X(nr)),yi=nn().Stream,{Buffer:pn}=(be(),X(me)),bn=ir(),{addAbortSignal:P_}=di(),{getHighWaterMark:k_,getDefaultHighWaterMark:O_}=an(),{ERR_INVALID_ARG_TYPE:x_,ERR_METHOD_NOT_IMPLEMENTED:M_,ERR_MULTIPLE_CALLBACK:oh,ERR_STREAM_CANNOT_PIPE:L_,ERR_STREAM_DESTROYED:bi,ERR_STREAM_ALREADY_FINISHED:U_,ERR_STREAM_NULL_VALUES:N_,ERR_STREAM_WRITE_AFTER_END:q_,ERR_UNKNOWN_ENCODING:ah}=Ae().codes,{errorOrDestroy:Wr}=bn;sh(ie.prototype,yi.prototype);sh(ie,yi);function lo(){}var $r=R_("kOnFinished");function wi(t,e,r){typeof r!="boolean"&&(r=e instanceof nt()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?k_(this,t,"writableHighWaterMark",r):O_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j_.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,yn(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[$r]=[];}function yn(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0;}wi.prototype.getBuffer=function(){return rh(this.buffered,this.bufferedIndex)};nh(wi.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(t){let e=this instanceof nt();if(!e&&!ih(ie,this))return new ie(t);this._writableState=new wi(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&P_(t.signal,this)),yi.call(this,t),bn.construct(this,()=>{let r=this._writableState;r.writing||fo(this,r),co(this,r);});}nh(ie,C_,{__proto__:null,value:function(t){return ih(this,t)?!0:this!==ie?!1:t&&t._writableState instanceof wi}});ie.prototype.pipe=function(){Wr(this,new L_);};function lh(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else {if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!pn.isEncoding(r))throw new ah(r);typeof i!="function"&&(i=lo);}if(e===null)throw new N_;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=pn.from(e,r),r="buffer");else if(e instanceof pn)r="buffer";else if(yi._isUint8Array(e))e=yi._uint8ArrayToBuffer(e),r="buffer";else throw new x_("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new q_:n.destroyed&&(o=new bi("write")),o?(cr.nextTick(i,o),Wr(t,o,!0),o):(n.pendingcb++,D_(t,n,e,r,i))}ie.prototype.write=function(t,e,r){return lh(this,t,e,r)===!0};ie.prototype.cork=function(){this._writableState.corked++;};ie.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||fo(this,t));};ie.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=T_(e)),!pn.isEncoding(e))throw new ah(e);return this._writableState.defaultEncoding=e,this};function D_(t,e,r,i,n){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==lo&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function eh(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new bi("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1;}function th(t,e,r,i){--e.pendingcb,i(r),uo(e),Wr(t,r);}function j_(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){Wr(t,new oh);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?cr.nextTick(th,t,r,e,n):th(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&fo(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},cr.nextTick(F_,r.afterWriteTickInfo)):uh(t,r,1,n));}function F_({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,uh(t,e,r,i)}function uh(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&uo(e),co(t,e);}function uo(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:s}=t.buffered[n],a=t.objectMode?1:o.length;t.length-=a,s((e=t.errored)!==null&&e!==void 0?e:new bi("write"));}let r=t[$r].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new bi("end"));}yn(t);}function fo(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,o=r.length-i;if(!o)return;let s=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let a=e.allNoop?lo:c=>{for(let h=s;h<r.length;++h)r[h].callback(c);},l=e.allNoop&&s===0?r:rh(r,s);l.allBuffers=e.allBuffers,eh(t,e,!0,e.length,l,"",a),yn(e);}else {do{let{chunk:a,encoding:l,callback:c}=r[s];r[s++]=null;let h=n?1:a.length;eh(t,e,!1,h,a,l,c);}while(s<r.length&&!e.writing);s===r.length?yn(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s;}e.bufferProcessing=!1;}ie.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new M_("_write()")};ie.prototype._writev=null;ie.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let o=lh(this,t,e);o instanceof A_&&(n=o);}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,co(this,i,!0),i.ended=!0):i.finished?n=new U_("end"):i.destroyed&&(n=new bi("end"))),typeof r=="function"&&(n||i.finished?cr.nextTick(r,n):i[$r].push(r)),this};function gn(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function W_(t,e){let r=!1;function i(n){if(r){Wr(t,n??oh());return}if(r=!0,e.pendingcb--,n){let o=e[$r].splice(0);for(let s=0;s<o.length;s++)o[s](n);Wr(t,n,e.sync);}else gn(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,cr.nextTick(ao,t,e));}e.sync=!0,e.pendingcb++;try{t._final(i);}catch(n){i(n);}e.sync=!1;}function $_(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,W_(t,e)):(e.prefinished=!0,t.emit("prefinish")));}function co(t,e,r){gn(e)&&($_(t,e),e.pendingcb===0&&(r?(e.pendingcb++,cr.nextTick((i,n)=>{gn(n)?ao(i,n):n.pendingcb--;},t,e)):gn(e)&&(e.pendingcb++,ao(t,e))));}function ao(t,e){e.pendingcb--,e.finished=!0;let r=e[$r].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy();}}I_(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t);}},writable:{__proto__:null,get(){let t=this._writableState;return !!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t);}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return !!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var H_=bn.destroy;ie.prototype.destroy=function(t,e){let r=this._writableState;return !r.destroyed&&(r.bufferedIndex<r.buffered.length||r[$r].length)&&cr.nextTick(uo,r),H_.call(this,t,e),this};ie.prototype._undestroy=bn.undestroy;ie.prototype._destroy=function(t,e){e(t);};ie.prototype[B_.captureRejectionSymbol]=function(t){this.destroy(t);};var oo;function fh(){return oo===void 0&&(oo={}),oo}ie.fromWeb=function(t,e){return fh().newStreamWritableFromWritableStream(t,e)};ie.toWeb=function(t){return fh().newWritableStreamFromStreamWritable(t)};});var Sh=M((mR,Eh)=>{_();v();m();var po=Nt(),V_=(be(),X(me)),{isReadable:z_,isWritable:K_,isIterable:hh,isNodeStream:G_,isReadableNodeStream:dh,isWritableNodeStream:ph,isDuplexNodeStream:Q_}=tt(),gh=vt(),{AbortError:vh,codes:{ERR_INVALID_ARG_TYPE:Y_,ERR_INVALID_RETURN_VALUE:yh}}=Ae(),{destroyer:Hr}=ir(),J_=nt(),X_=gi(),{createDeferredPromise:bh}=Je(),wh=Zs(),_h=globalThis.Blob||V_.Blob,Z_=typeof _h<"u"?function(e){return e instanceof _h}:function(e){return !1},e0=globalThis.AbortController||zi().AbortController,{FunctionPrototypeCall:mh}=ce(),hr=class extends J_{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0);}};Eh.exports=function t(e,r){if(Q_(e))return e;if(dh(e))return wn({readable:e});if(ph(e))return wn({writable:e});if(G_(e))return wn({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:o,final:s,destroy:a}=t0(e);if(hh(n))return wh(hr,n,{objectMode:!0,write:o,final:s,destroy:a});let l=n?.then;if(typeof l=="function"){let c,h=mh(l,n,d=>{if(d!=null)throw new yh("nully","body",d)},d=>{Hr(c,d);});return c=new hr({objectMode:!0,readable:!1,write:o,final(d){s(async()=>{try{await h,po.nextTick(d,null);}catch(g){po.nextTick(d,g);}});},destroy:a})}throw new yh("Iterable, AsyncIterable or AsyncFunction",r,n)}if(Z_(e))return t(e.arrayBuffer());if(hh(e))return wh(hr,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?dh(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?ph(e?.writable)?e?.writable:t(e.writable):void 0;return wn({readable:n,writable:o})}let i=e?.then;if(typeof i=="function"){let n;return mh(i,e,o=>{o!=null&&n.push(o),n.push(null);},o=>{Hr(n,o);}),n=new hr({objectMode:!0,writable:!1,read(){}})}throw new Y_(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function t0(t){let{promise:e,resolve:r}=bh(),i=new e0,n=i.signal;return {value:t(async function*(){for(;;){let s=e;e=null;let{chunk:a,done:l,cb:c}=await s;if(po.nextTick(c),l)return;if(n.aborted)throw new vh(void 0,{cause:n.reason});((({promise:e,resolve:r}=bh()))),yield a;}}(),{signal:n}),write(s,a,l){let c=r;r=null,c({chunk:s,done:!1,cb:l});},final(s){let a=r;r=null,a({done:!0,cb:s});},destroy(s,a){i.abort(),a(s);}}}function wn(t){let e=t.readable&&typeof t.readable.read!="function"?X_.wrap(t.readable):t.readable,r=t.writable,i=!!z_(e),n=!!K_(r),o,s,a,l,c;function h(d){let g=l;l=null,g?g(d):d&&c.destroy(d);}return c=new hr({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(gh(r,d=>{n=!1,d&&Hr(e,d),h(d);}),c._write=function(d,g,y){r.write(d,g)?y():o=y;},c._final=function(d){r.end(),s=d;},r.on("drain",function(){if(o){let d=o;o=null,d();}}),r.on("finish",function(){if(s){let d=s;s=null,d();}})),i&&(gh(e,d=>{i=!1,d&&Hr(e,d),h(d);}),e.on("readable",function(){if(a){let d=a;a=null,d();}}),e.on("end",function(){c.push(null);}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,g){!d&&l!==null&&(d=new vh),a=null,o=null,s=null,l===null?g(d):(l=g,Hr(r,d),Hr(e,d));},c}});var nt=M((PR,Th)=>{_();v();m();var{ObjectDefineProperties:r0,ObjectGetOwnPropertyDescriptor:It,ObjectKeys:i0,ObjectSetPrototypeOf:Ah}=ce();Th.exports=Ve;var bo=gi(),Ne=ho();Ah(Ve.prototype,bo.prototype);Ah(Ve,bo);{let t=i0(Ne.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ve.prototype[r]||(Ve.prototype[r]=Ne.prototype[r]);}}function Ve(t){if(!(this instanceof Ve))return new Ve(t);bo.call(this,t),Ne.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0;}r0(Ve.prototype,{writable:{__proto__:null,...It(Ne.prototype,"writable")},writableHighWaterMark:{__proto__:null,...It(Ne.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...It(Ne.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...It(Ne.prototype,"writableBuffer")},writableLength:{__proto__:null,...It(Ne.prototype,"writableLength")},writableFinished:{__proto__:null,...It(Ne.prototype,"writableFinished")},writableCorked:{__proto__:null,...It(Ne.prototype,"writableCorked")},writableEnded:{__proto__:null,...It(Ne.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...It(Ne.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t);}}});var go;function Ih(){return go===void 0&&(go={}),go}Ve.fromWeb=function(t,e){return Ih().newStreamDuplexFromReadableWritablePair(t,e)};Ve.toWeb=function(t){return Ih().newReadableWritablePairFromDuplex(t)};var yo;Ve.from=function(t){return yo||(yo=Sh()),yo(t,"body")};});var mo=M((jR,Ch)=>{_();v();m();var{ObjectSetPrototypeOf:Rh,Symbol:n0}=ce();Ch.exports=Tt;var{ERR_METHOD_NOT_IMPLEMENTED:s0}=Ae().codes,_o=nt(),{getHighWaterMark:o0}=an();Rh(Tt.prototype,_o.prototype);Rh(Tt,_o);var _i=n0("kCallback");function Tt(t){if(!(this instanceof Tt))return new Tt(t);let e=t?o0(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),_o.call(this,t),this._readableState.sync=!1,this[_i]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",a0);}function wo(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t();}):(this.push(null),t&&t());}function a0(){this._final!==wo&&wo.call(this);}Tt.prototype._final=wo;Tt.prototype._transform=function(t,e,r){throw new s0("_transform()")};Tt.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,(s,a)=>{if(s){r(s);return}a!=null&&this.push(a),n.ended||o===i.length||i.length<i.highWaterMark?r():this[_i]=r;});};Tt.prototype._read=function(){if(this[_i]){let t=this[_i];this[_i]=null,t();}};});var Eo=M((YR,Ph)=>{_();v();m();var{ObjectSetPrototypeOf:Bh}=ce();Ph.exports=Vr;var vo=mo();Bh(Vr.prototype,vo.prototype);Bh(Vr,vo);function Vr(t){if(!(this instanceof Vr))return new Vr(t);vo.call(this,t);}Vr.prototype._transform=function(t,e,r){r(null,t);};});var En=M((oC,Lh)=>{_();v();m();var mi=Nt(),{ArrayIsArray:l0,Promise:u0,SymbolAsyncIterator:f0}=ce(),vn=vt(),{once:c0}=Je(),h0=ir(),kh=nt(),{aggregateTwoErrors:d0,codes:{ERR_INVALID_ARG_TYPE:Po,ERR_INVALID_RETURN_VALUE:So,ERR_MISSING_ARGS:p0,ERR_STREAM_DESTROYED:g0,ERR_STREAM_PREMATURE_CLOSE:y0},AbortError:b0}=Ae(),{validateFunction:w0,validateAbortSignal:_0}=hi(),{isIterable:dr,isReadable:Ao,isReadableNodeStream:mn,isNodeStream:Oh,isTransformStream:zr,isWebStream:m0,isReadableStream:Io,isReadableEnded:v0}=tt(),E0=globalThis.AbortController||zi().AbortController,To,Ro;function xh(t,e,r){let i=!1;t.on("close",()=>{i=!0;});let n=vn(t,{readable:e,writable:r},o=>{i=!o;});return {destroy:o=>{i||(i=!0,h0.destroyer(t,o||new g0("pipe")));},cleanup:n}}function S0(t){return w0(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Co(t){if(dr(t))return t;if(mn(t))return A0(t);throw new Po("val",["Readable","Iterable","AsyncIterable"],t)}async function*A0(t){Ro||(Ro=gi()),yield*Ro.prototype[f0].call(t);}async function _n(t,e,r,{end:i}){let n,o=null,s=c=>{if(c&&(n=c),o){let h=o;o=null,h();}},a=()=>new u0((c,h)=>{n?h(n):o=()=>{n?h(n):c();};});e.on("drain",s);let l=vn(e,{readable:!1},s);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();i&&e.end(),await a(),r();}catch(c){r(n!==c?d0(n,c):c);}finally{l(),e.off("drain",s);}}async function Bo(t,e,r,{end:i}){zr(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,i&&await n.close(),r();}catch(o){try{await n.abort(o),r(o);}catch(s){r(s);}}}function I0(...t){return Mh(t,c0(S0(t)))}function Mh(t,e,r){if(t.length===1&&l0(t[0])&&(t=t[0]),t.length<2)throw new p0("streams");let i=new E0,n=i.signal,o=r?.signal,s=[];_0(o,"options.signal");function a(){y(new b0);}o?.addEventListener("abort",a);let l,c,h=[],d=0;function g(C){y(C,--d===0);}function y(C,R){if(C&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=C),!(!l&&!R)){for(;h.length;)h.shift()(l);o?.removeEventListener("abort",a),i.abort(),R&&(l||s.forEach(U=>U()),mi.nextTick(e,l,c));}}let w;for(let C=0;C<t.length;C++){let R=t[C],U=C<t.length-1,N=C>0,W=U||r?.end!==!1,K=C===t.length-1;if(Oh(R)){let z=function(Q){Q&&Q.name!=="AbortError"&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"&&g(Q);};if(W){let{destroy:Q,cleanup:pe}=xh(R,U,N);h.push(Q),Ao(R)&&K&&s.push(pe);}R.on("error",z),Ao(R)&&K&&s.push(()=>{R.removeListener("error",z);});}if(C===0)if(typeof R=="function"){if(w=R({signal:n}),!dr(w))throw new So("Iterable, AsyncIterable or Stream","source",w)}else dr(R)||mn(R)||zr(R)?w=R:w=kh.from(R);else if(typeof R=="function"){if(zr(w)){var S;w=Co((S=w)===null||S===void 0?void 0:S.readable);}else w=Co(w);if(w=R(w,{signal:n}),U){if(!dr(w,!0))throw new So("AsyncIterable",`transform[${C-1}]`,w)}else {var E;To||(To=Eo());let z=new To({objectMode:!0}),Q=(E=w)===null||E===void 0?void 0:E.then;if(typeof Q=="function")d++,Q.call(w,ge=>{c=ge,ge!=null&&z.write(ge),W&&z.end(),mi.nextTick(g);},ge=>{z.destroy(ge),mi.nextTick(g,ge);});else if(dr(w,!0))d++,_n(w,z,g,{end:W});else if(Io(w)||zr(w)){let ge=w.readable||w;d++,_n(ge,z,g,{end:W});}else throw new So("AsyncIterable or Promise","destination",w);w=z;let{destroy:pe,cleanup:Yt}=xh(w,!1,!0);h.push(pe),K&&s.push(Yt);}}else if(Oh(R)){if(mn(w)){d+=2;let z=T0(w,R,g,{end:W});Ao(R)&&K&&s.push(z);}else if(zr(w)||Io(w)){let z=w.readable||w;d++,_n(z,R,g,{end:W});}else if(dr(w))d++,_n(w,R,g,{end:W});else throw new Po("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=R;}else if(m0(R)){if(mn(w))d++,Bo(Co(w),R,g,{end:W});else if(Io(w)||dr(w))d++,Bo(w,R,g,{end:W});else if(zr(w))d++,Bo(w.readable,R,g,{end:W});else throw new Po("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=R;}else w=kh.from(R);}return (n!=null&&n.aborted||o!=null&&o.aborted)&&mi.nextTick(a),w}function T0(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new y0);}),t.pipe(e,{end:!1}),i){let s=function(){n=!0,e.end();};v0(t)?mi.nextTick(s):t.once("end",s);}else r();return vn(t,{readable:!0,writable:!1},s=>{let a=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(s);}),vn(e,{readable:!1,writable:!0},r)}Lh.exports={pipelineImpl:Mh,pipeline:I0};});var Oo=M((yC,Fh)=>{_();v();m();var{pipeline:R0}=En(),Sn=nt(),{destroyer:C0}=ir(),{isNodeStream:An,isReadable:Uh,isWritable:Nh,isWebStream:ko,isTransformStream:pr,isWritableStream:qh,isReadableStream:Dh}=tt(),{AbortError:B0,codes:{ERR_INVALID_ARG_VALUE:jh,ERR_MISSING_ARGS:P0}}=Ae(),k0=vt();Fh.exports=function(...e){if(e.length===0)throw new P0("streams");if(e.length===1)return Sn.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Sn.from(e[0])),typeof e[e.length-1]=="function"){let y=e.length-1;e[y]=Sn.from(e[y]);}for(let y=0;y<e.length;++y)if(!(!An(e[y])&&!ko(e[y]))){if(y<e.length-1&&!(Uh(e[y])||Dh(e[y])||pr(e[y])))throw new jh(`streams[${y}]`,r[y],"must be readable");if(y>0&&!(Nh(e[y])||qh(e[y])||pr(e[y])))throw new jh(`streams[${y}]`,r[y],"must be writable")}let i,n,o,s,a;function l(y){let w=s;s=null,w?w(y):y?a.destroy(y):!g&&!d&&a.destroy();}let c=e[0],h=R0(e,l),d=!!(Nh(c)||qh(c)||pr(c)),g=!!(Uh(h)||Dh(h)||pr(h));if(a=new Sn({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(h!=null&&h.writableObjectMode),writable:d,readable:g}),d){if(An(c))a._write=function(w,S,E){c.write(w,S)?E():i=E;},a._final=function(w){c.end(),n=w;},c.on("drain",function(){if(i){let w=i;i=null,w();}});else if(ko(c)){let S=(pr(c)?c.writable:c).getWriter();a._write=async function(E,I,C){try{await S.ready,S.write(E).catch(()=>{}),C();}catch(R){C(R);}},a._final=async function(E){try{await S.ready,S.close().catch(()=>{}),n=E;}catch(I){E(I);}};}let y=pr(h)?h.readable:h;k0(y,()=>{if(n){let w=n;n=null,w();}});}if(g){if(An(h))h.on("readable",function(){if(o){let y=o;o=null,y();}}),h.on("end",function(){a.push(null);}),a._read=function(){for(;;){let y=h.read();if(y===null){o=a._read;return}if(!a.push(y))return}};else if(ko(h)){let w=(pr(h)?h.readable:h).getReader();a._read=async function(){for(;;)try{let{value:S,done:E}=await w.read();if(!a.push(S))return;if(E){a.push(null);return}}catch{return}};}}return a._destroy=function(y,w){!y&&s!==null&&(y=new B0),o=null,i=null,n=null,s===null?w(y):(s=w,An(h)&&C0(h,y));},a};});var Qh=M((TC,Lo)=>{_();v();m();var Vh=globalThis.AbortController||zi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:O0,ERR_INVALID_ARG_TYPE:vi,ERR_MISSING_ARGS:x0,ERR_OUT_OF_RANGE:M0},AbortError:st}=Ae(),{validateAbortSignal:gr,validateInteger:L0,validateObject:yr}=hi(),U0=ce().Symbol("kWeak"),{finished:N0}=vt(),q0=Oo(),{addAbortSignalNoValidate:D0}=di(),{isWritable:j0,isNodeStream:F0}=tt(),{ArrayPrototypePush:W0,MathFloor:$0,Number:H0,NumberIsNaN:V0,Promise:Wh,PromiseReject:$h,PromisePrototypeThen:z0,Symbol:zh}=ce(),In=zh("kEmpty"),Hh=zh("kEof");function K0(t,e){if(e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal"),F0(t)&&!j0(t))throw new O0("stream",t,"must be writable");let r=q0(this,t);return e!=null&&e.signal&&D0(e.signal,r),r}function Tn(t,e){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=$0(e.concurrency)),L0(r,"concurrency",1),async function*(){var n,o;let s=new Vh,a=this,l=[],c=s.signal,h={signal:c},d=()=>s.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&d(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",d);let g,y,w=!1;function S(){w=!0;}async function E(){try{for await(let R of a){var I;if(w)return;if(c.aborted)throw new st;try{R=t(R,h);}catch(U){R=$h(U);}R!==In&&(typeof((I=R)===null||I===void 0?void 0:I.catch)=="function"&&R.catch(S),l.push(R),g&&(g(),g=null),!w&&l.length&&l.length>=r&&await new Wh(U=>{y=U;}));}l.push(Hh);}catch(R){let U=$h(R);z0(U,void 0,S),l.push(U);}finally{var C;w=!0,g&&(g(),g=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",d);}}E();try{for(;;){for(;l.length>0;){let I=await l[0];if(I===Hh)return;if(c.aborted)throw new st;I!==In&&(yield I),l.shift(),y&&(y(),y=null);}await new Wh(I=>{g=I;});}}finally{s.abort(),w=!0,y&&(y(),y=null);}}.call(this)}function G0(t=void 0){return t!=null&&yr(t,"options"),t?.signal!=null&&gr(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new st({cause:t.signal.reason});yield [r++,n];}}.call(this)}async function Kh(t,e=void 0){for await(let r of Mo.call(this,t,e))return !0;return !1}async function Q0(t,e=void 0){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);return !await Kh.call(this,async(...r)=>!await t(...r),e)}async function Y0(t,e){for await(let r of Mo.call(this,t,e))return r}async function J0(t,e){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),In}for await(let i of Tn.call(this,r,e));}function Mo(t,e){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:In}return Tn.call(this,r,e)}var xo=class extends x0{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value";}};async function X0(t,e,r){var i;if(typeof t!="function")throw new vi("reducer",["Function","AsyncFunction"],t);r!=null&&yr(r,"options"),r?.signal!=null&&gr(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let c=new st(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await N0(this.destroy(c)),c}let o=new Vh,s=o.signal;if(r!=null&&r.signal){let c={once:!0,[U0]:this};r.signal.addEventListener("abort",()=>o.abort(),c);}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new st;n?e=await t(e,c,{signal:s}):(e=c,n=!0);}if(!a&&!n)throw new xo}finally{o.abort();}return e}async function Z0(t){t!=null&&yr(t,"options"),t?.signal!=null&&gr(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new st(void 0,{cause:t.signal.reason});W0(e,i);}return e}function em(t,e){let r=Tn.call(this,t,e);return async function*(){for await(let n of r)yield*n;}.call(this)}function Gh(t){if(t=H0(t),V0(t))return 0;if(t<0)throw new M0("number",">= 0",t);return t}function tm(t,e=void 0){return e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal"),t=Gh(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new st;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new st;t--<=0&&(yield o);}}.call(this)}function rm(t,e=void 0){return e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal"),t=Gh(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new st;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new st;if(t-- >0)yield o;else return}}.call(this)}Lo.exports.streamReturningOperators={asIndexedPairs:G0,drop:tm,filter:Mo,flatMap:em,map:Tn,take:rm,compose:K0};Lo.exports.promiseReturningOperators={every:Q0,forEach:J0,reduce:X0,toArray:Z0,some:Kh,find:Y0};});var Uo=M((UC,Yh)=>{_();v();m();var{ArrayPrototypePop:im,Promise:nm}=ce(),{isIterable:sm,isNodeStream:om,isWebStream:am}=tt(),{pipelineImpl:lm}=En(),{finished:um}=vt();No();function fm(...t){return new nm((e,r)=>{let i,n,o=t[t.length-1];if(o&&typeof o=="object"&&!om(o)&&!sm(o)&&!am(o)){let s=im(t);i=s.signal,n=s.end;}lm(t,(s,a)=>{s?r(s):e(a);},{signal:i,end:n});})}Yh.exports={finished:um,pipeline:fm};});var No=M((zC,sd)=>{_();v();m();var{Buffer:cm}=(be(),X(me)),{ObjectDefineProperty:Rt,ObjectKeys:Zh,ReflectApply:ed}=ce(),{promisify:{custom:td}}=Je(),{streamReturningOperators:Jh,promiseReturningOperators:Xh}=Qh(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:rd}}=Ae(),hm=Oo(),{pipeline:id}=En(),{destroyer:dm}=ir(),nd=vt(),qo=Uo(),Do=tt(),le=sd.exports=nn().Stream;le.isDisturbed=Do.isDisturbed;le.isErrored=Do.isErrored;le.isReadable=Do.isReadable;le.Readable=gi();for(let t of Zh(Jh)){let r=function(...i){if(new.target)throw rd();return le.Readable.from(ed(e,this,i))};let e=Jh[t];Rt(r,"name",{__proto__:null,value:e.name}),Rt(r,"length",{__proto__:null,value:e.length}),Rt(le.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0});}for(let t of Zh(Xh)){let r=function(...n){if(new.target)throw rd();return ed(e,this,n)};let e=Xh[t];Rt(r,"name",{__proto__:null,value:e.name}),Rt(r,"length",{__proto__:null,value:e.length}),Rt(le.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0});}le.Writable=ho();le.Duplex=nt();le.Transform=mo();le.PassThrough=Eo();le.pipeline=id;var{addAbortSignal:pm}=di();le.addAbortSignal=pm;le.finished=nd;le.destroy=dm;le.compose=hm;Rt(le,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return qo}});Rt(id,td,{__proto__:null,enumerable:!0,get(){return qo.pipeline}});Rt(nd,td,{__proto__:null,enumerable:!0,get(){return qo.finished}});le.Stream=le;le._isUint8Array=function(e){return e instanceof Uint8Array};le._uint8ArrayToBuffer=function(e){return cm.from(e.buffer,e.byteOffset,e.byteLength)};});var jt=M((rB,ue)=>{_();v();m();var he=No(),gm=Uo(),ym=he.Readable.destroy;ue.exports=he.Readable;ue.exports._uint8ArrayToBuffer=he._uint8ArrayToBuffer;ue.exports._isUint8Array=he._isUint8Array;ue.exports.isDisturbed=he.isDisturbed;ue.exports.isErrored=he.isErrored;ue.exports.isReadable=he.isReadable;ue.exports.Readable=he.Readable;ue.exports.Writable=he.Writable;ue.exports.Duplex=he.Duplex;ue.exports.Transform=he.Transform;ue.exports.PassThrough=he.PassThrough;ue.exports.addAbortSignal=he.addAbortSignal;ue.exports.finished=he.finished;ue.exports.destroy=he.destroy;ue.exports.destroy=ym;ue.exports.pipeline=he.pipeline;ue.exports.compose=he.compose;Object.defineProperty(he,"promises",{configurable:!0,enumerable:!0,get(){return gm}});ue.exports.Stream=he.Stream;ue.exports.default=ue.exports;});var od=M((hB,Fo)=>{_();v();m();typeof Object.create=="function"?Fo.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}));}:Fo.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e;}};});var ud=M((EB,ld)=>{_();v();m();var{Buffer:ze}=(be(),X(me)),ad=Symbol.for("BufferList");function ee(t){if(!(this instanceof ee))return new ee(t);ee._init.call(this,t);}ee._init=function(e){Object.defineProperty(this,ad,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e);};ee.prototype._new=function(e){return new ee(e)};ee.prototype._offset=function(e){if(e===0)return [0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return [i,e-r];r=n;}};ee.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};ee.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};ee.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};ee.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||ze.alloc(0);let o=!!e,s=this._offset(i),a=n-i,l=a,c=o&&r||0,h=s[1];if(i===0&&n===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:ze.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,c),c+=this._bufs[d].length;return e}if(l<=this._bufs[s[0]].length-h)return o?this._bufs[s[0]].copy(e,r,h,h+l):this._bufs[s[0]].slice(h,h+l);o||(e=ze.allocUnsafe(a));for(let d=s[0];d<this._bufs.length;d++){let g=this._bufs[d].length-h;if(l>g)this._bufs[d].copy(e,c,h),c+=g;else {this._bufs[d].copy(e,c,h,h+l),c+=g;break}l-=g,h&&(h=0);}return e.length>c?e.slice(0,c):e};ee.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),o=this._bufs.slice(i[0],n[0]+1);return n[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),i[1]!==0&&(o[0]=o[0].slice(i[1])),this._new(o)};ee.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};ee.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else {this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};ee.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};ee.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(ze.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(ze.from(e));return this};ee.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length;};ee.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=ze.from([t]):typeof t=="string"?t=ze.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=ze.from(t.buffer,t.byteOffset,t.byteLength):ze.isBuffer(t)||(t=ze.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],o=i[1];for(;n<this._bufs.length;n++){let s=this._bufs[n];for(;o<s.length;)if(s.length-o>=t.length){let l=s.indexOf(t,o);if(l!==-1)return this._reverseOffset([n,l]);o=s.length-t.length+1;}else {let l=this._reverseOffset([n,o]);if(this._match(l,t))return l;o++;}o=0;}return -1};ee.prototype._match=function(t,e){if(this.length-t<e.length)return !1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return !1;return !0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?ee.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:ee.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)};})(e);})();ee.prototype._isBufferList=function(e){return e instanceof ee||ee.isBufferList(e)};ee.isBufferList=function(e){return e!=null&&e[ad]};ld.exports=ee;});var fd=M((OB,Rn)=>{_();v();m();var Wo=jt().Duplex,bm=od(),Ei=ud();function Se(t){if(!(this instanceof Se))return new Se(t);if(typeof t=="function"){this._callback=t;let e=function(i){this._callback&&(this._callback(i),this._callback=null);}.bind(this);this.on("pipe",function(i){i.on("error",e);}),this.on("unpipe",function(i){i.removeListener("error",e);}),t=null;}Ei._init.call(this,t),Wo.call(this);}bm(Se,Wo);Object.assign(Se.prototype,Ei.prototype);Se.prototype._new=function(e){return new Se(e)};Se.prototype._write=function(e,r,i){this._appendBuffer(e),typeof i=="function"&&i();};Se.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e);};Se.prototype.end=function(e){Wo.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null);};Se.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e);};Se.prototype._isBufferList=function(e){return e instanceof Se||e instanceof Ei||Se.isBufferList(e)};Se.isBufferList=Ei.isBufferList;Rn.exports=Se;Rn.exports.BufferListStream=Se;Rn.exports.BufferList=Ei;});var hd=M((WB,cd)=>{_();v();m();var $o=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null;}};cd.exports=$o;});var Ho=M((XB,dd)=>{_();v();m();var L=dd.exports,{Buffer:ke}=(be(),X(me));L.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"};L.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0};L.requiredHeaderFlagsErrors={};for(let t in L.requiredHeaderFlags){let e=L.requiredHeaderFlags[t];L.requiredHeaderFlagsErrors[t]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+L.types[t]+" packet";}L.codes={};for(let t in L.types){let e=L.types[t];L.codes[e]=t;}L.CMD_SHIFT=4;L.CMD_MASK=240;L.DUP_MASK=8;L.QOS_MASK=3;L.QOS_SHIFT=1;L.RETAIN_MASK=1;L.VARBYTEINT_MASK=127;L.VARBYTEINT_FIN_MASK=128;L.VARBYTEINT_MAX=268435455;L.SESSIONPRESENT_MASK=1;L.SESSIONPRESENT_HEADER=ke.from([L.SESSIONPRESENT_MASK]);L.CONNACK_HEADER=ke.from([L.codes.connack<<L.CMD_SHIFT]);L.USERNAME_MASK=128;L.PASSWORD_MASK=64;L.WILL_RETAIN_MASK=32;L.WILL_QOS_MASK=24;L.WILL_QOS_SHIFT=3;L.WILL_FLAG_MASK=4;L.CLEAN_SESSION_MASK=2;L.CONNECT_HEADER=ke.from([L.codes.connect<<L.CMD_SHIFT]);L.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11};L.propertiesCodes={};for(let t in L.properties){let e=L.properties[t];L.propertiesCodes[e]=t;}L.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function Ft(t){return [0,1,2].map(e=>[0,1].map(r=>[0,1].map(i=>{let n=ke.alloc(1);return n.writeUInt8(L.codes[t]<<L.CMD_SHIFT|(r?L.DUP_MASK:0)|e<<L.QOS_SHIFT|i,0,!0),n})))}L.PUBLISH_HEADER=Ft("publish");L.SUBSCRIBE_HEADER=Ft("subscribe");L.SUBSCRIBE_OPTIONS_QOS_MASK=3;L.SUBSCRIBE_OPTIONS_NL_MASK=1;L.SUBSCRIBE_OPTIONS_NL_SHIFT=2;L.SUBSCRIBE_OPTIONS_RAP_MASK=1;L.SUBSCRIBE_OPTIONS_RAP_SHIFT=3;L.SUBSCRIBE_OPTIONS_RH_MASK=3;L.SUBSCRIBE_OPTIONS_RH_SHIFT=4;L.SUBSCRIBE_OPTIONS_RH=[0,16,32];L.SUBSCRIBE_OPTIONS_NL=4;L.SUBSCRIBE_OPTIONS_RAP=8;L.SUBSCRIBE_OPTIONS_QOS=[0,1,2];L.UNSUBSCRIBE_HEADER=Ft("unsubscribe");L.ACKS={unsuback:Ft("unsuback"),puback:Ft("puback"),pubcomp:Ft("pubcomp"),pubrel:Ft("pubrel"),pubrec:Ft("pubrec")};L.SUBACK_HEADER=ke.from([L.codes.suback<<L.CMD_SHIFT]);L.VERSION3=ke.from([3]);L.VERSION4=ke.from([4]);L.VERSION5=ke.from([5]);L.VERSION131=ke.from([131]);L.VERSION132=ke.from([132]);L.QOS=[0,1,2].map(t=>ke.from([t]));L.EMPTY={pingreq:ke.from([L.codes.pingreq<<4,0]),pingresp:ke.from([L.codes.pingresp<<4,0]),disconnect:ke.from([L.codes.disconnect<<4,0])};L.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"};L.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"};L.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};L.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"};L.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};L.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"};});var gd=M((lP,pd)=>{_();v();m();var Kr=1e3,Gr=Kr*60,Qr=Gr*60,br=Qr*24,wm=br*7,_m=br*365.25;pd.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return mm(t);if(r==="number"&&isFinite(t))return e.long?Em(t):vm(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function mm(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*_m;case"weeks":case"week":case"w":return r*wm;case"days":case"day":case"d":return r*br;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Gr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Kr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function vm(t){var e=Math.abs(t);return e>=br?Math.round(t/br)+"d":e>=Qr?Math.round(t/Qr)+"h":e>=Gr?Math.round(t/Gr)+"m":e>=Kr?Math.round(t/Kr)+"s":t+"ms"}function Em(t){var e=Math.abs(t);return e>=br?Cn(t,e,br,"day"):e>=Qr?Cn(t,e,Qr,"hour"):e>=Gr?Cn(t,e,Gr,"minute"):e>=Kr?Cn(t,e,Kr,"second"):t+" ms"}function Cn(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var bd=M((wP,yd)=>{_();v();m();function Sm(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=n,r.enabled=s,r.humanize=gd(),r.destroy=c,Object.keys(t).forEach(h=>{r[h]=t[h];}),r.names=[],r.skips=[],r.formatters={};function e(h){let d=0;for(let g=0;g<h.length;g++)d=(d<<5)-d+h.charCodeAt(g),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(h){let d,g=null,y,w;function S(...E){if(!S.enabled)return;let I=S,C=Number(new Date),R=C-(d||C);I.diff=R,I.prev=d,I.curr=C,d=C,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let U=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(W,K)=>{if(W==="%%")return "%";U++;let z=r.formatters[K];if(typeof z=="function"){let Q=E[U];W=z.call(I,Q),E.splice(U,1),U--;}return W}),r.formatArgs.call(I,E),(I.log||r.log).apply(I,E);}return S.namespace=h,S.useColors=r.useColors(),S.color=r.selectColor(h),S.extend=i,S.destroy=r.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,w=r.enabled(h)),w),set:E=>{g=E;}}),typeof r.init=="function"&&r.init(S),S}function i(h,d){let g=r(this.namespace+(typeof d>"u"?":":d)+h);return g.log=this.log,g}function n(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let d,g=(typeof h=="string"?h:"").split(/[\s,]+/),y=g.length;for(d=0;d<y;d++)g[d]&&(h=g[d].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")));}function o(){let h=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),h}function s(h){if(h[h.length-1]==="*")return !0;let d,g;for(d=0,g=r.skips.length;d<g;d++)if(r.skips[d].test(h))return !1;for(d=0,g=r.names.length;d<g;d++)if(r.names[d].test(h))return !0;return !1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function l(h){return h instanceof Error?h.stack||h.message:h}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return r.enable(r.load()),r}yd.exports=Sm;});var ot=M((xe,Bn)=>{_();v();m();xe.formatArgs=Im;xe.save=Tm;xe.load=Rm;xe.useColors=Am;xe.storage=Cm();xe.destroy=(()=>{let t=!1;return ()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));}})();xe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Am(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Im(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Bn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r));}),t.splice(i,0,e);}xe.log=console.debug||console.log||(()=>{});function Tm(t){try{t?xe.storage.setItem("debug",t):xe.storage.removeItem("debug");}catch{}}function Rm(){let t;try{t=xe.storage.getItem("debug");}catch{}return !t&&typeof B<"u"&&"env"in B&&(t=B.env.DEBUG),t}function Cm(){try{return localStorage}catch{}}Bn.exports=bd()(xe);var{formatters:Bm}=Bn.exports;Bm.j=function(t){try{return JSON.stringify(t)}catch(e){return "[UnexpectedJSONParseError]: "+e.message}};});var md=M((NP,_d)=>{_();v();m();var Pm=fd(),{EventEmitter:km}=(sr(),X(nr)),wd=hd(),V=Ho(),D=ot()("mqtt-packet:parser"),Vo=class t extends km{constructor(){super(),this.parser=this.constructor.parser;}static parser(e){return this instanceof t?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new t().parser(e)}_resetState(){D("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new wd,this.error=null,this._list=Pm(),this._stateCounter=0;}parse(e){for(this.error&&this._resetState(),this._list.append(e),D("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,D("parse: state complete. _stateCounter is now: %d",this._stateCounter),D("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return D("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let e=this._list.readUInt8(0),r=e>>V.CMD_SHIFT;this.packet.cmd=V.types[r];let i=e&15,n=V.requiredHeaderFlags[r];return n!=null&&i!==n?this._emitError(new Error(V.requiredHeaderFlagsErrors[r])):(this.packet.retain=(e&V.RETAIN_MASK)!==0,this.packet.qos=e>>V.QOS_SHIFT&V.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(e&V.DUP_MASK)!==0,D("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),D("_parseLength %d",e.value),!!e}_parsePayload(){D("_parsePayload: payload %O",this._list);let e=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"));}e=!0;}return D("_parsePayload complete result: %s",e),e}_parseConnect(){D("_parseConnect");let e,r,i,n,o={},s=this.packet,a=this._parseString();if(a===null)return this._emitError(new Error("Cannot parse protocolId"));if(a!=="MQTT"&&a!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(s.protocolId=a,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(s.protocolVersion=this._list.readUInt8(this._pos),s.protocolVersion>=128&&(s.bridgeMode=!0,s.protocolVersion=s.protocolVersion-128),s.protocolVersion!==3&&s.protocolVersion!==4&&s.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));o.username=this._list.readUInt8(this._pos)&V.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&V.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&V.WILL_FLAG_MASK;let l=!!(this._list.readUInt8(this._pos)&V.WILL_RETAIN_MASK),c=(this._list.readUInt8(this._pos)&V.WILL_QOS_MASK)>>V.WILL_QOS_SHIFT;if(o.will)s.will={},s.will.retain=l,s.will.qos=c;else {if(l)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(c)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(s.clean=(this._list.readUInt8(this._pos)&V.CLEAN_SESSION_MASK)!==0,this._pos++,s.keepalive=this._parseNum(),s.keepalive===-1)return this._emitError(new Error("Packet too short"));if(s.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(s.properties=d);}let h=this._parseString();if(h===null)return this._emitError(new Error("Packet too short"));if(s.clientId=h,D("_parseConnect: packet.clientId: %s",s.clientId),o.will){if(s.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(s.will.properties=d);}if(e=this._parseString(),e===null)return this._emitError(new Error("Cannot parse will topic"));if(s.will.topic=e,D("_parseConnect: packet.will.topic: %s",s.will.topic),r=this._parseBuffer(),r===null)return this._emitError(new Error("Cannot parse will payload"));s.will.payload=r,D("_parseConnect: packet.will.paylaod: %s",s.will.payload);}if(o.username){if(n=this._parseString(),n===null)return this._emitError(new Error("Cannot parse username"));s.username=n,D("_parseConnect: packet.username: %s",s.username);}if(o.password){if(i=this._parseBuffer(),i===null)return this._emitError(new Error("Cannot parse password"));s.password=i;}return this.settings=s,D("_parseConnect: complete"),s}_parseConnack(){D("_parseConnack");let e=this.packet;if(this._list.length<1)return null;let r=this._list.readUInt8(this._pos++);if(r>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(r&V.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else {if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++);}if(e.returnCode===-1||e.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(e.properties=i);}D("_parseConnack: complete");}_parsePublish(){D("_parsePublish");let e=this.packet;if(e.topic=this._parseString(),e.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}e.payload=this._list.slice(this._pos,e.length),D("_parsePublish: payload from buffer list: %o",e.payload);}}_parseSubscribe(){D("_parseSubscribe");let e=this.packet,r,i,n,o,s,a,l;if(e.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(e.properties=c);}if(e.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<e.length;){if(r=this._parseString(),r===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(i=this._parseByte(),this.settings.protocolVersion===5){if(i&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(i&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(n=i&V.SUBSCRIBE_OPTIONS_QOS_MASK,n>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(a=(i>>V.SUBSCRIBE_OPTIONS_NL_SHIFT&V.SUBSCRIBE_OPTIONS_NL_MASK)!==0,s=(i>>V.SUBSCRIBE_OPTIONS_RAP_SHIFT&V.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,o=i>>V.SUBSCRIBE_OPTIONS_RH_SHIFT&V.SUBSCRIBE_OPTIONS_RH_MASK,o>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));l={topic:r,qos:n},this.settings.protocolVersion===5?(l.nl=a,l.rap=s,l.rh=o):this.settings.bridgeMode&&(l.rh=0,l.rap=!0,l.nl=!0),D("_parseSubscribe: push subscription `%s` to subscription",l),e.subscriptions.push(l);}}}_parseSuback(){D("_parseSuback");let e=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}if(e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let r=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!V.MQTT5_SUBACK_CODES[r])return this._emitError(new Error("Invalid suback code"))}else if(r>2&&r!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(r);}}}_parseUnsubscribe(){D("_parseUnsubscribe");let e=this.packet;if(e.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}if(e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){let r=this._parseString();if(r===null)return this._emitError(new Error("Cannot parse topic"));D("_parseUnsubscribe: push topic `%s` to unsubscriptions",r),e.unsubscriptions.push(r);}}}_parseUnsuback(){D("_parseUnsuback");let e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&e.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let r=this._parseProperties();for(Object.getOwnPropertyNames(r).length&&(e.properties=r),e.granted=[];this._pos<this.packet.length;){let i=this._list.readUInt8(this._pos++);if(!V.MQTT5_UNSUBACK_CODES[i])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(i);}}}_parseConfirmation(){D("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let e=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(e.length>2){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!V.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!V.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}D("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode);}else e.reasonCode=0;if(e.length>3){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}}return !0}_parseDisconnect(){let e=this.packet;if(D("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(e.reasonCode=this._parseByte(),V.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0;let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}return D("_parseDisconnect result: true"),!0}_parseAuth(){D("_parseAuth");let e=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!V.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let r=this._parseProperties();return Object.getOwnPropertyNames(r).length&&(e.properties=r),D("_parseAuth: result: true"),!0}_parseMessageId(){let e=this.packet;return e.messageId=this._parseNum(),e.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(D("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){let r=this._parseNum(),i=r+this._pos;if(r===-1||i>this._list.length||i>this.packet.length)return null;let n=this._list.toString("utf8",this._pos,i);return this._pos+=r,D("_parseString: result: %s",n),n}_parseStringPair(){return D("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let e=this._parseNum(),r=e+this._pos;if(e===-1||r>this._list.length||r>this.packet.length)return null;let i=this._list.slice(this._pos,r);return this._pos+=e,D("_parseBuffer: result: %o",i),i}_parseNum(){if(this._list.length-this._pos<2)return -1;let e=this._list.readUInt16BE(this._pos);return this._pos+=2,D("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return -1;let e=this._list.readUInt32BE(this._pos);return this._pos+=4,D("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){D("_parseVarByteNum");let r=4,i=0,n=1,o=0,s=!1,a,l=this._pos?this._pos:0;for(;i<r&&l+i<this._list.length;){if(a=this._list.readUInt8(l+i++),o+=n*(a&V.VARBYTEINT_MASK),n*=128,!(a&V.VARBYTEINT_FIN_MASK)){s=!0;break}if(this._list.length<=i)break}return !s&&i===r&&this._list.length>=i&&this._emitError(new Error("Invalid variable byte integer")),l&&(this._pos+=i),s?e?s={bytes:i,value:o}:s=o:s=!1,D("_parseVarByteNum: result: %o",s),s}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),D("_parseByte: result: %o",e),e}_parseByType(e){switch(D("_parseByType: type: %s",e),e){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){D("_parseProperties");let e=this._parseVarByteNum(),i=this._pos+e,n={};for(;this._pos<i;){let o=this._parseByte();if(!o)return this._emitError(new Error("Cannot parse property code type")),!1;let s=V.propertiesCodes[o];if(!s)return this._emitError(new Error("Unknown property")),!1;if(s==="userProperties"){n[s]||(n[s]=Object.create(null));let a=this._parseByType(V.propertiesTypes[s]);if(n[s][a.name])if(Array.isArray(n[s][a.name]))n[s][a.name].push(a.value);else {let l=n[s][a.name];n[s][a.name]=[l],n[s][a.name].push(a.value);}else n[s][a.name]=a.value;continue}n[s]?Array.isArray(n[s])?n[s].push(this._parseByType(V.propertiesTypes[s])):(n[s]=[n[s]],n[s].push(this._parseByType(V.propertiesTypes[s]))):n[s]=this._parseByType(V.propertiesTypes[s]);}return n}_newPacket(){return D("_newPacket"),this.packet&&(this._list.consume(this.packet.length),D("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),D("_newPacket: new packet"),this.packet=new wd,this._pos=0,!0}_emitError(e){D("_emitError",e),this.error=e,this.emit("error",e);}};_d.exports=Vo;});var Ad=M((KP,Sd)=>{_();v();m();var{Buffer:Si}=(be(),X(me)),Om=65536,vd={},xm=Si.isBuffer(Si.from([1,2]).subarray(0,1));function Ed(t){let e=Si.allocUnsafe(2);return e.writeUInt8(t>>8,0),e.writeUInt8(t&255,0+1),e}function Mm(){for(let t=0;t<Om;t++)vd[t]=Ed(t);}function Lm(t){let r=0,i=0,n=Si.allocUnsafe(4);do r=t%128|0,t=t/128|0,t>0&&(r=r|128),n.writeUInt8(r,i++);while(t>0&&i<4);return t>0&&(i=0),xm?n.subarray(0,i):n.slice(0,i)}function Um(t){let e=Si.allocUnsafe(4);return e.writeUInt32BE(t,0),e}Sd.exports={cache:vd,generateCache:Mm,generateNumber:Ed,genBufVariableByteInt:Lm,generate4ByteBuffer:Um};});var Id=M((ik,zo)=>{_();v();m();typeof B>"u"||!B.version||B.version.indexOf("v0.")===0||B.version.indexOf("v1.")===0&&B.version.indexOf("v1.8.")!==0?zo.exports={nextTick:Nm}:zo.exports=B;function Nm(t,e,r,i){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,o,s;switch(n){case 0:case 1:return B.nextTick(t);case 2:return B.nextTick(function(){t.call(null,e);});case 3:return B.nextTick(function(){t.call(null,e,r);});case 4:return B.nextTick(function(){t.call(null,e,r,i);});default:for(o=new Array(n-1),s=0;s<o.length;)o[s++]=arguments[s];return B.nextTick(function(){t.apply(null,o);})}}});var Qo=M((dk,xd)=>{_();v();m();var j=Ho(),{Buffer:q}=(be(),X(me)),qm=q.allocUnsafe(0),Dm=q.from([0]),Ai=Ad(),jm=Id().nextTick,qe=ot()("mqtt-packet:writeToStream"),Pn=Ai.cache,Fm=Ai.generateNumber,Wm=Ai.generateCache,Ko=Ai.genBufVariableByteInt,$m=Ai.generate4ByteBuffer,Te=Go,kn=!0;function kd(t,e,r){switch(qe("generate called"),e.cork&&(e.cork(),jm(Hm,e)),kn&&(kn=!1,Wm()),qe("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return Vm(t,e);case"connack":return zm(t,e,r);case"publish":return Km(t,e,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return Gm(t,e,r);case"subscribe":return Qm(t,e,r);case"suback":return Ym(t,e,r);case"unsubscribe":return Jm(t,e,r);case"unsuback":return Xm(t,e,r);case"pingreq":case"pingresp":return Zm(t,e);case"disconnect":return e1(t,e,r);case"auth":return t1(t,e,r);default:return e.destroy(new Error("Unknown command")),!1}}Object.defineProperty(kd,"cacheNumbers",{get(){return Te===Go},set(t){t?((!Pn||Object.keys(Pn).length===0)&&(kn=!0),Te=Go):(kn=!1,Te=r1);}});function Hm(t){t.uncork();}function Vm(t,e,r){let i=t||{},n=i.protocolId||"MQTT",o=i.protocolVersion||4,s=i.will,a=i.clean,l=i.keepalive||0,c=i.clientId||"",h=i.username,d=i.password,g=i.properties;a===void 0&&(a=!0);let y=0;if(!n||typeof n!="string"&&!q.isBuffer(n))return e.destroy(new Error("Invalid protocolId")),!1;if(y+=n.length+2,o!==3&&o!==4&&o!==5)return e.destroy(new Error("Invalid protocol version")),!1;if(y+=1,(typeof c=="string"||q.isBuffer(c))&&(c||o>=4)&&(c||a))y+=q.byteLength(c)+2;else {if(o<4)return e.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(a*1===0)return e.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof l!="number"||l<0||l>65535||l%1!==0)return e.destroy(new Error("Invalid keepalive")),!1;y+=2,y+=1;let w,S;if(o===5){if(w=Wt(e,g),!w)return !1;y+=w.length;}if(s){if(typeof s!="object")return e.destroy(new Error("Invalid will")),!1;if(!s.topic||typeof s.topic!="string")return e.destroy(new Error("Invalid will topic")),!1;if(y+=q.byteLength(s.topic)+2,y+=2,s.payload)if(s.payload.length>=0)typeof s.payload=="string"?y+=q.byteLength(s.payload):y+=s.payload.length;else return e.destroy(new Error("Invalid will payload")),!1;if(S={},o===5){if(S=Wt(e,s.properties),!S)return !1;y+=S.length;}}let E=!1;if(h!=null)if(Pd(h))E=!0,y+=q.byteLength(h)+2;else return e.destroy(new Error("Invalid username")),!1;if(d!=null){if(!E)return e.destroy(new Error("Username is required to use password")),!1;if(Pd(d))y+=Od(d)+2;else return e.destroy(new Error("Invalid password")),!1}e.write(j.CONNECT_HEADER),De(e,y),Yr(e,n),i.bridgeMode&&(o+=128),e.write(o===131?j.VERSION131:o===132?j.VERSION132:o===4?j.VERSION4:o===5?j.VERSION5:j.VERSION3);let I=0;return I|=h!=null?j.USERNAME_MASK:0,I|=d!=null?j.PASSWORD_MASK:0,I|=s&&s.retain?j.WILL_RETAIN_MASK:0,I|=s&&s.qos?s.qos<<j.WILL_QOS_SHIFT:0,I|=s?j.WILL_FLAG_MASK:0,I|=a?j.CLEAN_SESSION_MASK:0,e.write(q.from([I])),Te(e,l),o===5&&w.write(),Yr(e,c),s&&(o===5&&S.write(),wr(e,s.topic),Yr(e,s.payload)),h!=null&&Yr(e,h),d!=null&&Yr(e,d),!0}function zm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=i===5?n.reasonCode:n.returnCode,s=n.properties,a=2;if(typeof o!="number")return e.destroy(new Error("Invalid return code")),!1;let l=null;if(i===5){if(l=Wt(e,s),!l)return !1;a+=l.length;}return e.write(j.CONNACK_HEADER),De(e,a),e.write(n.sessionPresent?j.SESSIONPRESENT_HEADER:Dm),e.write(q.from([o])),l?.write(),!0}function Km(t,e,r){qe("publish: packet: %o",t);let i=r?r.protocolVersion:4,n=t||{},o=n.qos||0,s=n.retain?j.RETAIN_MASK:0,a=n.topic,l=n.payload||qm,c=n.messageId,h=n.properties,d=0;if(typeof a=="string")d+=q.byteLength(a)+2;else if(q.isBuffer(a))d+=a.length+2;else return e.destroy(new Error("Invalid topic")),!1;if(q.isBuffer(l)?d+=l.length:d+=q.byteLength(l),o&&typeof c!="number")return e.destroy(new Error("Invalid messageId")),!1;o&&(d+=2);let g=null;if(i===5){if(g=Wt(e,h),!g)return !1;d+=g.length;}return e.write(j.PUBLISH_HEADER[o][n.dup?1:0][s?1:0]),De(e,d),Te(e,Od(a)),e.write(a),o>0&&Te(e,c),g?.write(),qe("publish: payload: %o",l),e.write(l)}function Gm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.cmd||"puback",s=n.messageId,a=n.dup&&o==="pubrel"?j.DUP_MASK:0,l=0,c=n.reasonCode,h=n.properties,d=i===5?3:2;if(o==="pubrel"&&(l=1),typeof s!="number")return e.destroy(new Error("Invalid messageId")),!1;let g=null;if(i===5&&typeof h=="object"){if(g=Ii(e,h,r,d),!g)return !1;d+=g.length;}return e.write(j.ACKS[o][l][a][0]),d===3&&(d+=c!==0?1:-1),De(e,d),Te(e,s),i===5&&d!==2&&e.write(q.from([c])),g!==null?g.write():d===4&&e.write(q.from([0])),!0}function Qm(t,e,r){qe("subscribe: packet: ");let i=r?r.protocolVersion:4,n=t||{},o=n.dup?j.DUP_MASK:0,s=n.messageId,a=n.subscriptions,l=n.properties,c=0;if(typeof s!="number")return e.destroy(new Error("Invalid messageId")),!1;c+=2;let h=null;if(i===5){if(h=Wt(e,l),!h)return !1;c+=h.length;}if(typeof a=="object"&&a.length)for(let g=0;g<a.length;g+=1){let y=a[g].topic,w=a[g].qos;if(typeof y!="string")return e.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof w!="number")return e.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(i===5){if(typeof(a[g].nl||!1)!="boolean")return e.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(a[g].rap||!1)!="boolean")return e.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let I=a[g].rh||0;if(typeof I!="number"||I>2)return e.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}c+=q.byteLength(y)+2+1;}else return e.destroy(new Error("Invalid subscriptions")),!1;qe("subscribe: writing to stream: %o",j.SUBSCRIBE_HEADER),e.write(j.SUBSCRIBE_HEADER[1][o?1:0][0]),De(e,c),Te(e,s),h!==null&&h.write();let d=!0;for(let g of a){let y=g.topic,w=g.qos,S=+g.nl,E=+g.rap,I=g.rh,C;wr(e,y),C=j.SUBSCRIBE_OPTIONS_QOS[w],i===5&&(C|=S?j.SUBSCRIBE_OPTIONS_NL:0,C|=E?j.SUBSCRIBE_OPTIONS_RAP:0,C|=I?j.SUBSCRIBE_OPTIONS_RH[I]:0),d=e.write(q.from([C]));}return d}function Ym(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.granted,a=n.properties,l=0;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(l+=2,typeof s=="object"&&s.length)for(let h=0;h<s.length;h+=1){if(typeof s[h]!="number")return e.destroy(new Error("Invalid qos vector")),!1;l+=1;}else return e.destroy(new Error("Invalid qos vector")),!1;let c=null;if(i===5){if(c=Ii(e,a,r,l),!c)return !1;l+=c.length;}return e.write(j.SUBACK_HEADER),De(e,l),Te(e,o),c!==null&&c.write(),e.write(q.from(s))}function Jm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.dup?j.DUP_MASK:0,a=n.unsubscriptions,l=n.properties,c=0;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(c+=2,typeof a=="object"&&a.length)for(let g=0;g<a.length;g+=1){if(typeof a[g]!="string")return e.destroy(new Error("Invalid unsubscriptions")),!1;c+=q.byteLength(a[g])+2;}else return e.destroy(new Error("Invalid unsubscriptions")),!1;let h=null;if(i===5){if(h=Wt(e,l),!h)return !1;c+=h.length;}e.write(j.UNSUBSCRIBE_HEADER[1][s?1:0][0]),De(e,c),Te(e,o),h!==null&&h.write();let d=!0;for(let g=0;g<a.length;g++)d=wr(e,a[g]);return d}function Xm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.dup?j.DUP_MASK:0,a=n.granted,l=n.properties,c=n.cmd,h=0,d=2;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(i===5)if(typeof a=="object"&&a.length)for(let y=0;y<a.length;y+=1){if(typeof a[y]!="number")return e.destroy(new Error("Invalid qos vector")),!1;d+=1;}else return e.destroy(new Error("Invalid qos vector")),!1;let g=null;if(i===5){if(g=Ii(e,l,r,d),!g)return !1;d+=g.length;}return e.write(j.ACKS[c][h][s][0]),De(e,d),Te(e,o),g!==null&&g.write(),i===5&&e.write(q.from(a)),!0}function Zm(t,e,r){return e.write(j.EMPTY[t.cmd])}function e1(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.reasonCode,s=n.properties,a=i===5?1:0,l=null;if(i===5){if(l=Ii(e,s,r,a),!l)return !1;a+=l.length;}return e.write(q.from([j.codes.disconnect<<4])),De(e,a),i===5&&e.write(q.from([o])),l!==null&&l.write(),!0}function t1(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.reasonCode,s=n.properties,a=i===5?1:0;i!==5&&e.destroy(new Error("Invalid mqtt version for auth packet"));let l=Ii(e,s,r,a);return l?(a+=l.length,e.write(q.from([j.codes.auth<<4])),De(e,a),e.write(q.from([o])),l!==null&&l.write(),!0):!1}var Td={};function De(t,e){if(e>j.VARBYTEINT_MAX)return t.destroy(new Error(`Invalid variable byte integer: ${e}`)),!1;let r=Td[e];return r||(r=Ko(e),e<16384&&(Td[e]=r)),qe("writeVarByteInt: writing to stream: %o",r),t.write(r)}function wr(t,e){let r=q.byteLength(e);return Te(t,r),qe("writeString: %s",e),t.write(e,"utf8")}function Rd(t,e,r){wr(t,e),wr(t,r);}function Go(t,e){return qe("writeNumberCached: number: %d",e),qe("writeNumberCached: %o",Pn[e]),t.write(Pn[e])}function r1(t,e){let r=Fm(e);return qe("writeNumberGenerated: %o",r),t.write(r)}function i1(t,e){let r=$m(e);return qe("write4ByteNumber: %o",r),t.write(r)}function Yr(t,e){typeof e=="string"?wr(t,e):e?(Te(t,e.length),t.write(e)):Te(t,0);}function Wt(t,e){if(typeof e!="object"||e.length!=null)return {length:1,write(){Bd(t,{},0);}};let r=0;function i(o,s){let a=j.propertiesTypes[o],l=0;switch(a){case"byte":{if(typeof s!="boolean")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+1;break}case"int8":{if(typeof s!="number"||s<0||s>255)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+1;break}case"binary":{if(s&&s===null)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+q.byteLength(s)+2;break}case"int16":{if(typeof s!="number"||s<0||s>65535)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+2;break}case"int32":{if(typeof s!="number"||s<0||s>4294967295)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+4;break}case"var":{if(typeof s!="number"||s<0||s>268435455)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+q.byteLength(Ko(s));break}case"string":{if(typeof s!="string")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+2+q.byteLength(s.toString());break}case"pair":{if(typeof s!="object")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=Object.getOwnPropertyNames(s).reduce((c,h)=>{let d=s[h];return Array.isArray(d)?c+=d.reduce((g,y)=>(g+=1+2+q.byteLength(h.toString())+2+q.byteLength(y.toString()),g),0):c+=1+2+q.byteLength(h.toString())+2+q.byteLength(s[h].toString()),c},0);break}default:return t.destroy(new Error(`Invalid property ${o}: ${s}`)),!1}return l}if(e)for(let o in e){let s=0,a=0,l=e[o];if(Array.isArray(l))for(let c=0;c<l.length;c++){if(a=i(o,l[c]),!a)return !1;s+=a;}else {if(a=i(o,l),!a)return !1;s=a;}if(!s)return !1;r+=s;}return {length:q.byteLength(Ko(r))+r,write(){Bd(t,e,r);}}}function Ii(t,e,r,i){let n=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=Wt(t,e);if(o)for(;i+s.length>o;){let a=n.shift();if(a&&e[a])delete e[a],s=Wt(t,e);else return !1}return s}function Cd(t,e,r){switch(j.propertiesTypes[e]){case"byte":{t.write(q.from([j.properties[e]])),t.write(q.from([+r]));break}case"int8":{t.write(q.from([j.properties[e]])),t.write(q.from([r]));break}case"binary":{t.write(q.from([j.properties[e]])),Yr(t,r);break}case"int16":{t.write(q.from([j.properties[e]])),Te(t,r);break}case"int32":{t.write(q.from([j.properties[e]])),i1(t,r);break}case"var":{t.write(q.from([j.properties[e]])),De(t,r);break}case"string":{t.write(q.from([j.properties[e]])),wr(t,r);break}case"pair":{Object.getOwnPropertyNames(r).forEach(n=>{let o=r[n];Array.isArray(o)?o.forEach(s=>{t.write(q.from([j.properties[e]])),Rd(t,n.toString(),s.toString());}):(t.write(q.from([j.properties[e]])),Rd(t,n.toString(),o.toString()));});break}default:return t.destroy(new Error(`Invalid property ${e} value: ${r}`)),!1}}function Bd(t,e,r){De(t,r);for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==null){let n=e[i];if(Array.isArray(n))for(let o=0;o<n.length;o++)Cd(t,i,n[o]);else Cd(t,i,n);}}function Od(t){return t?t instanceof q?t.length:q.byteLength(t):0}function Pd(t){return typeof t=="string"||t instanceof q}xd.exports=kd;});var Ud=M((Sk,Ld)=>{_();v();m();var n1=Qo(),{EventEmitter:s1}=(sr(),X(nr)),{Buffer:Md}=(be(),X(me));function o1(t,e){let r=new Yo;return n1(t,r,e),r.concat()}var Yo=class extends s1{constructor(){super(),this._array=new Array(20),this._i=0;}write(e){return this._array[this._i++]=e,!0}concat(){let e=0,r=new Array(this._array.length),i=this._array,n=0,o;for(o=0;o<i.length&&i[o]!==void 0;o++)typeof i[o]!="string"?r[o]=i[o].length:r[o]=Md.byteLength(i[o]),e+=r[o];let s=Md.allocUnsafe(e);for(o=0;o<i.length&&i[o]!==void 0;o++)typeof i[o]!="string"?(i[o].copy(s,n),n+=r[o]):(s.write(i[o],n),n+=r[o]);return s}destroy(e){e&&this.emit("error",e);}};Ld.exports=o1;});var Nd=M(On=>{_();v();m();On.parser=md().parser;On.generate=Ud();On.writeToStream=Qo();});var Zo=M(Xo=>{_();v();m();Object.defineProperty(Xo,"__esModule",{value:!0});var Jo=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535));}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return !0}deallocate(e){}clear(){}};Xo.default=Jo;});var Dd=M((Zk,qd)=>{_();v();m();qd.exports=a1;function Jr(t){return t instanceof x?x.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function a1(t){if(t=t||{},t.circles)return l1(t);return t.proto?i:r;function e(n,o){for(var s=Object.keys(n),a=new Array(s.length),l=0;l<s.length;l++){var c=s[l],h=n[c];typeof h!="object"||h===null?a[c]=h:h instanceof Date?a[c]=new Date(h):ArrayBuffer.isView(h)?a[c]=Jr(h):a[c]=o(h);}return a}function r(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,r);if(n instanceof Map)return new Map(e(Array.from(n),r));if(n instanceof Set)return new Set(e(Array.from(n),r));var o={};for(var s in n)if(Object.hasOwnProperty.call(n,s)!==!1){var a=n[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),r)):a instanceof Set?o[s]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?o[s]=Jr(a):o[s]=r(a);}return o}function i(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,i);if(n instanceof Map)return new Map(e(Array.from(n),i));if(n instanceof Set)return new Set(e(Array.from(n),i));var o={};for(var s in n){var a=n[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),i)):a instanceof Set?o[s]=new Set(e(Array.from(a),i)):ArrayBuffer.isView(a)?o[s]=Jr(a):o[s]=i(a);}return o}}function l1(t){var e=[],r=[];return t.proto?o:n;function i(s,a){for(var l=Object.keys(s),c=new Array(l.length),h=0;h<l.length;h++){var d=l[h],g=s[d];if(typeof g!="object"||g===null)c[d]=g;else if(g instanceof Date)c[d]=new Date(g);else if(ArrayBuffer.isView(g))c[d]=Jr(g);else {var y=e.indexOf(g);y!==-1?c[d]=r[y]:c[d]=a(g);}}return c}function n(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return i(s,n);if(s instanceof Map)return new Map(i(Array.from(s),n));if(s instanceof Set)return new Set(i(Array.from(s),n));var a={};e.push(s),r.push(a);for(var l in s)if(Object.hasOwnProperty.call(s,l)!==!1){var c=s[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(i(Array.from(c),n));else if(c instanceof Set)a[l]=new Set(i(Array.from(c),n));else if(ArrayBuffer.isView(c))a[l]=Jr(c);else {var h=e.indexOf(c);h!==-1?a[l]=r[h]:a[l]=n(c);}}return e.pop(),r.pop(),a}function o(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return i(s,o);if(s instanceof Map)return new Map(i(Array.from(s),o));if(s instanceof Set)return new Set(i(Array.from(s),o));var a={};e.push(s),r.push(a);for(var l in s){var c=s[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(i(Array.from(c),o));else if(c instanceof Set)a[l]=new Set(i(Array.from(c),o));else if(ArrayBuffer.isView(c))a[l]=Jr(c);else {var h=e.indexOf(c);h!==-1?a[l]=r[h]:a[l]=o(c);}}return e.pop(),r.pop(),a}}});var Fd=M((uO,jd)=>{_();v();m();jd.exports=Dd()();});var $d=M(Xr=>{_();v();m();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.validateTopics=Xr.validateTopic=void 0;function Wd(t){let e=t.split("/");for(let r=0;r<e.length;r++)if(e[r]!=="+"){if(e[r]==="#")return r===e.length-1;if(e[r].indexOf("+")!==-1||e[r].indexOf("#")!==-1)return !1}return !0}Xr.validateTopic=Wd;function u1(t){if(t.length===0)return "empty_topic_list";for(let e=0;e<t.length;e++)if(!Wd(t[e]))return t[e];return null}Xr.validateTopics=u1;});var ra=M(ta=>{_();v();m();Object.defineProperty(ta,"__esModule",{value:!0});var f1=jt(),c1={objectMode:!0},h1={clean:!0},ea=class{constructor(e){this.options=e||{},this.options=Object.assign(Object.assign({},h1),e),this._inflights=new Map;}put(e,r){return this._inflights.set(e.messageId,e),r&&r(),this}createStream(){let e=new f1.Readable(c1),r=[],i=!1,n=0;return this._inflights.forEach((o,s)=>{r.push(o);}),e._read=()=>{!i&&n<r.length?e.push(r[n++]):e.push(null);},e.destroy=o=>{if(!i)return i=!0,setTimeout(()=>{e.emit("close");},0),e},e}del(e,r){let i=this._inflights.get(e.messageId);return i?(this._inflights.delete(e.messageId),r(null,i)):r&&r(new Error("missing packet")),this}get(e,r){let i=this._inflights.get(e.messageId);return i?r(null,i):r&&r(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e();}};ta.default=ea;});var Vd=M(ia=>{_();v();m();Object.defineProperty(ia,"__esModule",{value:!0});var Hd=[0,16,128,131,135,144,145,151,153],d1=(t,e,r)=>{t.log("handlePublish: packet %o",e),r=typeof r<"u"?r:t.noop;let i=e.topic.toString(),n=e.payload,{qos:o}=e,{messageId:s}=e,{options:a}=t;if(t.options.protocolVersion===5){let l;if(e.properties&&(l=e.properties.topicAlias),typeof l<"u")if(i.length===0)if(l>0&&l<=65535){let c=t.topicAliasRecv.getTopicByAlias(l);if(c)i=c,t.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,l);else {t.log("handlePublish :: unregistered topic alias. alias: %d",l),t.emit("error",new Error("Received unregistered Topic Alias"));return}}else {t.log("handlePublish :: topic alias out of range. alias: %d",l),t.emit("error",new Error("Received Topic Alias is out of range"));return}else if(t.topicAliasRecv.put(i,l))t.log("handlePublish :: registered topic: %s - alias: %d",i,l);else {t.log("handlePublish :: topic alias out of range. alias: %d",l),t.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(t.log("handlePublish: qos %d",o),o){case 2:{a.customHandleAcks(i,n,e,(l,c)=>{if(typeof l=="number"&&(c=l,l=null),l)return t.emit("error",l);if(Hd.indexOf(c)===-1)return t.emit("error",new Error("Wrong reason code for pubrec"));c?t._sendPacket({cmd:"pubrec",messageId:s,reasonCode:c},r):t.incomingStore.put(e,()=>{t._sendPacket({cmd:"pubrec",messageId:s},r);});});break}case 1:{a.customHandleAcks(i,n,e,(l,c)=>{if(typeof l=="number"&&(c=l,l=null),l)return t.emit("error",l);if(Hd.indexOf(c)===-1)return t.emit("error",new Error("Wrong reason code for puback"));c||t.emit("message",i,n,e),t.handleMessage(e,h=>{if(h)return r&&r(h);t._sendPacket({cmd:"puback",messageId:s,reasonCode:c},r);});});break}case 0:t.emit("message",i,n,e),t.handleMessage(e,r);break;default:t.log("handlePublish: unknown QoS. Doing nothing.");break}};ia.default=d1;});var zd=M((QO,p1)=>{p1.exports={version:"5.10.1"};});var _r=M(at=>{_();v();m();Object.defineProperty(at,"__esModule",{value:!0});at.MQTTJS_VERSION=at.nextTick=at.applyMixin=at.ErrorWithReasonCode=void 0;var na=class t extends Error{constructor(e,r){super(e),this.code=r,Object.setPrototypeOf(this,t.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode";}};at.ErrorWithReasonCode=na;function g1(t,e,r=!1){var i;let n=[e];for(;;){let o=n[0],s=Object.getPrototypeOf(o);if(s?.prototype)n.unshift(s);else break}for(let o of n)for(let s of Object.getOwnPropertyNames(o.prototype))(r||s!=="constructor")&&Object.defineProperty(t.prototype,s,(i=Object.getOwnPropertyDescriptor(o.prototype,s))!==null&&i!==void 0?i:Object.create(null));}at.applyMixin=g1;at.nextTick=typeof(B===null||B===void 0?void 0:B.nextTick)=="function"?B.nextTick:t=>{setTimeout(t,0);};at.MQTTJS_VERSION=zd().version;});var Ti=M($t=>{_();v();m();Object.defineProperty($t,"__esModule",{value:!0});$t.ReasonCodes=void 0;var Kd=_r();$t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var y1=(t,e)=>{let{messageId:r}=e,i=e.cmd,n=null,o=t.outgoing[r]?t.outgoing[r].cb:null,s=null;if(!o){t.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(t.log("_handleAck :: packet type",i),i){case"pubcomp":case"puback":{let a=e.reasonCode;a&&a>0&&a!==16?(s=new Kd.ErrorWithReasonCode(`Publish error: ${$t.ReasonCodes[a]}`,a),t._removeOutgoingAndStoreMessage(r,()=>{o(s,e);})):t._removeOutgoingAndStoreMessage(r,o);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:r};let a=e.reasonCode;a&&a>0&&a!==16?(s=new Kd.ErrorWithReasonCode(`Publish error: ${$t.ReasonCodes[a]}`,a),t._removeOutgoingAndStoreMessage(r,()=>{o(s,e);})):t._sendPacket(n);break}case"suback":{delete t.outgoing[r],t.messageIdProvider.deallocate(r);let a=e.granted;for(let l=0;l<a.length;l++){let c=a[l];if(c&128){s=new Error(`Subscribe error: ${$t.ReasonCodes[c]}`),s.code=c;let h=t.messageIdToTopic[r];h&&h.forEach(d=>{delete t._resubscribeTopics[d];});}}delete t.messageIdToTopic[r],t._invokeStoreProcessingQueue(),o(s,e);break}case"unsuback":{delete t.outgoing[r],t.messageIdProvider.deallocate(r),t._invokeStoreProcessingQueue(),o(null,e);break}default:t.emit("error",new Error("unrecognized packet type"));}t.disconnecting&&Object.keys(t.outgoing).length===0&&t.emit("outgoingEmpty");};$t.default=y1;});var Qd=M(sa=>{_();v();m();Object.defineProperty(sa,"__esModule",{value:!0});var Gd=_r(),b1=Ti(),w1=(t,e)=>{let{options:r}=t,i=r.protocolVersion,n=i===5?e.reasonCode:e.returnCode;if(i!==5){let o=new Gd.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${i}`,n);t.emit("error",o);return}t.handleAuth(e,(o,s)=>{if(o){t.emit("error",o);return}if(n===24)t.reconnecting=!1,t._sendPacket(s);else {let a=new Gd.ErrorWithReasonCode(`Connection refused: ${b1.ReasonCodes[n]}`,n);t.emit("error",a);}});};sa.default=w1;});var ep=M(Mn=>{_();v();m();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.LRUCache=void 0;var Ri=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Jd=new Set,oa=typeof B=="object"&&B?B:{},Xd=(t,e,r,i)=>{typeof oa.emitWarning=="function"?oa.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`);},xn=globalThis.AbortController,Yd=globalThis.AbortSignal;if(typeof xn>"u"){Yd=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n);}},xn=class{constructor(){e();}signal=new Yd;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i);}}};let t=oa.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,Xd("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e));};}var _1=t=>!Jd.has(t),Ht=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Zd=t=>Ht(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Zr:null:null,Zr=class extends Array{constructor(e){super(e),this.fill(0);}},aa=class t{heap;length;static#l=!1;static create(e){let r=Zd(e);if(!r)return [];t.#l=!0;let i=new t(e,r);return t.#l=!1,i}constructor(e,r){if(!t.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0;}push(e){this.heap[this.length++]=e;}pop(){return this.heap[--this.length]}},la=class t{#l;#c;#p;#g;#B;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#n;#r;#e;#u;#h;#a;#s;#b;#o;#E;#S;#w;#_;#I;#f;static unsafeExposeInternals(e){return {starts:e.#S,ttls:e.#w,sizes:e.#E,keyMap:e.#n,keyList:e.#r,valList:e.#e,next:e.#u,prev:e.#h,get head(){return e.#a},get tail(){return e.#s},free:e.#b,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,i,n,o)=>e.#O(r,i,n,o),moveToTail:r=>e.#C(r),indexes:r=>e.#m(r),rindexes:r=>e.#v(r),isStale:r=>e.#d(r)}}get max(){return this.#l}get maxSize(){return this.#c}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#B}get dispose(){return this.#p}get disposeAfter(){return this.#g}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:h,noDisposeOnSet:d,noUpdateTTL:g,maxSize:y=0,maxEntrySize:w=0,sizeCalculation:S,fetchMethod:E,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:U,ignoreFetchAbort:N}=e;if(r!==0&&!Ht(r))throw new TypeError("max option must be a nonnegative integer");let W=r?Zd(r):Array;if(!W)throw new Error("invalid max value: "+r);if(this.#l=r,this.#c=y,this.maxEntrySize=w||this.#c,this.sizeCalculation=S,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#B=E,this.#I=!!E,this.#n=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#u=new W(r),this.#h=new W(r),this.#a=0,this.#s=0,this.#b=aa.create(r),this.#i=0,this.#y=0,typeof c=="function"&&(this.#p=c),typeof h=="function"?(this.#g=h,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#_=!!this.#p,this.#f=!!this.#g,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!U,this.ignoreFetchAbort=!!N,this.maxEntrySize!==0){if(this.#c!==0&&!Ht(this.#c))throw new TypeError("maxSize must be a positive integer if specified");if(!Ht(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#q();}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!a,this.ttlResolution=Ht(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!Ht(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#x();}if(this.#l===0&&this.ttl===0&&this.#c===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#c){let K="LRU_CACHE_UNBOUNDED";_1(K)&&(Jd.add(K),Xd("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",K,t));}}getRemainingTTL(e){return this.#n.has(e)?1/0:0}#x(){let e=new Zr(this.#l),r=new Zr(this.#l);this.#w=e,this.#S=r,this.#M=(o,s,a=Ri.now())=>{if(r[o]=s!==0?a:0,e[o]=s,s!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#d(o)&&this.delete(this.#r[o]);},s+1);l.unref&&l.unref();}},this.#T=o=>{r[o]=e[o]!==0?Ri.now():0;},this.#A=(o,s)=>{if(e[s]){let a=e[s],l=r[s];o.ttl=a,o.start=l,o.now=i||n();let c=o.now-l;o.remainingTTL=a-c;}};let i=0,n=()=>{let o=Ri.now();if(this.ttlResolution>0){i=o;let s=setTimeout(()=>i=0,this.ttlResolution);s.unref&&s.unref();}return o};this.getRemainingTTL=o=>{let s=this.#n.get(o);if(s===void 0)return 0;let a=e[s],l=r[s];if(a===0||l===0)return 1/0;let c=(i||n())-l;return a-c},this.#d=o=>e[o]!==0&&r[o]!==0&&(i||n())-r[o]>e[o];}#T=()=>{};#A=()=>{};#M=()=>{};#d=()=>!1;#q(){let e=new Zr(this.#l);this.#y=0,this.#E=e,this.#R=r=>{this.#y-=e[r],e[r]=0;},this.#L=(r,i,n,o)=>{if(this.#t(i))return 0;if(!Ht(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,r),!Ht(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#P=(r,i,n)=>{if(e[r]=i,this.#c){let o=this.#c-e[r];for(;this.#y>o;)this.#k(!0);}this.#y+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#y);};}#R=e=>{};#P=(e,r,i)=>{};#L=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#m({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#s;!(!this.#U(r)||((e||!this.#d(r))&&(yield r),r===this.#a));)r=this.#h[r];}*#v({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#a;!(!this.#U(r)||((e||!this.#d(r))&&(yield r),r===this.#s));)r=this.#u[r];}#U(e){return e!==void 0&&this.#n.get(this.#r[e])===e}*entries(){for(let e of this.#m())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*rentries(){for(let e of this.#v())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*keys(){for(let e of this.#m()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*rkeys(){for(let e of this.#v()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*values(){for(let e of this.#m())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}*rvalues(){for(let e of this.#v())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.#m()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;if(o!==void 0&&e(o,this.#r[i],this))return this.get(this.#r[i],r)}}forEach(e,r=this){for(let i of this.#m()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this);}}rforEach(e,r=this){for(let i of this.#v()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this);}}purgeStale(){let e=!1;for(let r of this.#v({allowStale:!0}))this.#d(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#m({allowStale:!0})){let i=this.#r[r],n=this.#e[r],o=this.#t(n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;let s={value:o};if(this.#w&&this.#S){s.ttl=this.#w[r];let a=Ri.now()-this.#S[r];s.start=Math.floor(Date.now()-a);}this.#E&&(s.size=this.#E[r]),e.unshift([i,s]);}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=Ri.now()-n;}this.set(r,i.value,i);}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:o,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i,{noUpdateTTL:c=this.noUpdateTTL}=i,h=this.#L(e,r,i.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let d=this.#i===0?void 0:this.#n.get(e);if(d===void 0)d=this.#i===0?this.#s:this.#b.length!==0?this.#b.pop():this.#i===this.#l?this.#k(!1):this.#i,this.#r[d]=e,this.#e[d]=r,this.#n.set(e,d),this.#u[this.#s]=d,this.#h[d]=this.#s,this.#s=d,this.#i++,this.#P(d,h,l),l&&(l.set="add"),c=!1;else {this.#C(d);let g=this.#e[d];if(r!==g){if(this.#I&&this.#t(g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:y}=g;y!==void 0&&!s&&(this.#_&&this.#p?.(y,e,"set"),this.#f&&this.#o?.push([y,e,"set"]));}else s||(this.#_&&this.#p?.(g,e,"set"),this.#f&&this.#o?.push([g,e,"set"]));if(this.#R(d),this.#P(d,h,l),this.#e[d]=r,l){l.set="replace";let y=g&&this.#t(g)?g.__staleWhileFetching:g;y!==void 0&&(l.oldValue=y);}}else l&&(l.set="update");}if(n!==0&&!this.#w&&this.#x(),this.#w&&(c||this.#M(d,n,o),l&&this.#A(l,d)),!s&&this.#f&&this.#o){let g=this.#o,y;for(;y=g?.shift();)this.#g?.(...y);}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#a];if(this.#k(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#f&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#g?.(...r);}}}#k(e){let r=this.#a,i=this.#r[r],n=this.#e[r];return this.#I&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#_||this.#f)&&(this.#_&&this.#p?.(n,i,"evict"),this.#f&&this.#o?.push([n,i,"evict"])),this.#R(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#b.push(r)),this.#i===1?(this.#a=this.#s=0,this.#b.length=0):this.#a=this.#u[r],this.#n.delete(i),this.#i--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,o=this.#n.get(e);if(o!==void 0){let s=this.#e[o];if(this.#t(s)&&s.__staleWhileFetching===void 0)return !1;if(this.#d(o))n&&(n.has="stale",this.#A(n,o));else return i&&this.#T(o),n&&(n.has="hit",this.#A(n,o)),!0}else n&&(n.has="miss");return !1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#n.get(e);if(n!==void 0&&(i||!this.#d(n))){let o=this.#e[n];return this.#t(o)?o.__staleWhileFetching:o}}#O(e,r,i,n){let o=r===void 0?void 0:this.#e[r];if(this.#t(o))return o;let s=new xn,{signal:a}=i;a?.addEventListener("abort",()=>s.abort(a.reason),{signal:s.signal});let l={signal:s.signal,options:i,context:n},c=(S,E=!1)=>{let{aborted:I}=s.signal,C=i.ignoreFetchAbort&&S!==void 0;if(i.status&&(I&&!E?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,C&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),I&&!C&&!E)return d(s.signal.reason);let R=y;return this.#e[r]===y&&(S===void 0?R.__staleWhileFetching?this.#e[r]=R.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,S,l.options))),S},h=S=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=S),d(S)),d=S=>{let{aborted:E}=s.signal,I=E&&i.allowStaleOnFetchAbort,C=I||i.allowStaleOnFetchRejection,R=C||i.noDeleteOnFetchRejection,U=y;if(this.#e[r]===y&&(!R||U.__staleWhileFetching===void 0?this.delete(e):I||(this.#e[r]=U.__staleWhileFetching)),C)return i.status&&U.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),U.__staleWhileFetching;if(U.__returned===U)throw S},g=(S,E)=>{let I=this.#B?.(e,o,l);I&&I instanceof Promise&&I.then(C=>S(C===void 0?void 0:C),E),s.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(S(void 0),i.allowStaleOnFetchAbort&&(S=C=>c(C,!0)));});};i.status&&(i.status.fetchDispatched=!0);let y=new Promise(g).then(c,h),w=Object.assign(y,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,w,{...l.options,status:void 0}),r=this.#n.get(e)):this.#e[r]=w,w}#t(e){if(!this.#I)return !1;let r=e;return !!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof xn}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:w=this.allowStaleOnFetchAbort,context:S,forceRefresh:E=!1,status:I,signal:C}=r;if(!this.#I)return I&&(I.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:I});let R={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:h,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:w,ignoreFetchAbort:y,status:I,signal:C},U=this.#n.get(e);if(U===void 0){I&&(I.fetch="miss");let N=this.#O(e,U,R,S);return N.__returned=N}else {let N=this.#e[U];if(this.#t(N)){let pe=i&&N.__staleWhileFetching!==void 0;return I&&(I.fetch="inflight",pe&&(I.returnedStale=!0)),pe?N.__staleWhileFetching:N.__returned=N}let W=this.#d(U);if(!E&&!W)return I&&(I.fetch="hit"),this.#C(U),n&&this.#T(U),I&&this.#A(I,U),N;let K=this.#O(e,U,R,S),Q=K.__staleWhileFetching!==void 0&&i;return I&&(I.fetch=W?"stale":"refresh",Q&&W&&(I.returnedStale=!0)),Q?K.__staleWhileFetching:K.__returned=K}}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=r,a=this.#n.get(e);if(a!==void 0){let l=this.#e[a],c=this.#t(l);return s&&this.#A(s,a),this.#d(a)?(s&&(s.get="stale"),c?(s&&i&&l.__staleWhileFetching!==void 0&&(s.returnedStale=!0),i?l.__staleWhileFetching:void 0):(o||this.delete(e),s&&i&&(s.returnedStale=!0),i?l:void 0)):(s&&(s.get="hit"),c?l.__staleWhileFetching:(this.#C(a),n&&this.#T(a),l))}else s&&(s.get="miss");}#N(e,r){this.#h[r]=e,this.#u[e]=r;}#C(e){e!==this.#s&&(e===this.#a?this.#a=this.#u[e]:this.#N(this.#h[e],this.#u[e]),this.#N(this.#s,e),this.#s=e);}delete(e){let r=!1;if(this.#i!==0){let i=this.#n.get(e);if(i!==void 0)if(r=!0,this.#i===1)this.clear();else {this.#R(i);let n=this.#e[i];this.#t(n)?n.__abortController.abort(new Error("deleted")):(this.#_||this.#f)&&(this.#_&&this.#p?.(n,e,"delete"),this.#f&&this.#o?.push([n,e,"delete"])),this.#n.delete(e),this.#r[i]=void 0,this.#e[i]=void 0,i===this.#s?this.#s=this.#h[i]:i===this.#a?this.#a=this.#u[i]:(this.#u[this.#h[i]]=this.#u[i],this.#h[this.#u[i]]=this.#h[i]),this.#i--,this.#b.push(i);}}if(this.#f&&this.#o?.length){let i=this.#o,n;for(;n=i?.shift();)this.#g?.(...n);}return r}clear(){for(let e of this.#v({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else {let i=this.#r[e];this.#_&&this.#p?.(r,i,"delete"),this.#f&&this.#o?.push([r,i,"delete"]);}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#w&&this.#S&&(this.#w.fill(0),this.#S.fill(0)),this.#E&&this.#E.fill(0),this.#a=0,this.#s=0,this.#b.length=0,this.#y=0,this.#i=0,this.#f&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#g?.(...r);}}};Mn.LRUCache=la;});var lt=M(Vt=>{_();v();m();Object.defineProperty(Vt,"t",{value:!0});Vt.ContainerIterator=Vt.Container=Vt.Base=void 0;var ua=class{constructor(e=0){this.iteratorType=e;}equals(e){return this.o===e.o}};Vt.ContainerIterator=ua;var Ln=class{constructor(){this.i=0;}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};Vt.Base=Ln;var fa=class extends Ln{};Vt.Container=fa;});var tp=M(Un=>{_();v();m();Object.defineProperty(Un,"t",{value:!0});Un.default=void 0;var m1=lt(),ca=class extends m1.Base{constructor(e=[]){super(),this.S=[];let r=this;e.forEach(function(i){r.push(i);});}clear(){this.i=0,this.S=[];}push(e){return this.S.push(e),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},v1=ca;Un.default=v1;});var rp=M(Nn=>{_();v();m();Object.defineProperty(Nn,"t",{value:!0});Nn.default=void 0;var E1=lt(),ha=class extends E1.Base{constructor(e=[]){super(),this.j=0,this.q=[];let r=this;e.forEach(function(i){r.push(i);});}clear(){this.q=[],this.i=this.j=0;}push(e){let r=this.q.length;if(this.j/r>.5&&this.j+this.i>=r&&r>4096){let i=this.i;for(let n=0;n<i;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=e;}else this.q[this.j+this.i]=e;return ++this.i}pop(){if(this.i===0)return;let e=this.q[this.j++];return this.i-=1,e}front(){if(this.i!==0)return this.q[this.j]}},S1=ha;Nn.default=S1;});var ip=M(qn=>{_();v();m();Object.defineProperty(qn,"t",{value:!0});qn.default=void 0;var A1=lt(),da=class extends A1.Base{constructor(e=[],r=function(n,o){return n>o?-1:n<o?1:0},i=!0){if(super(),this.v=r,Array.isArray(e))this.C=i?[...e]:e;else {this.C=[];let o=this;e.forEach(function(s){o.C.push(s);});}this.i=this.C.length;let n=this.i>>1;for(let o=this.i-1>>1;o>=0;--o)this.k(o,n);}m(e){let r=this.C[e];for(;e>0;){let i=e-1>>1,n=this.C[i];if(this.v(n,r)<=0)break;this.C[e]=n,e=i;}this.C[e]=r;}k(e,r){let i=this.C[e];for(;e<r;){let n=e<<1|1,o=n+1,s=this.C[n];if(o<this.i&&this.v(s,this.C[o])>0&&(n=o,s=this.C[o]),this.v(s,i)>=0)break;this.C[e]=s,e=n;}this.C[e]=i;}clear(){this.i=0,this.C.length=0;}push(e){this.C.push(e),this.m(this.i),this.i+=1;}pop(){if(this.i===0)return;let e=this.C[0],r=this.C.pop();return this.i-=1,this.i&&(this.C[0]=r,this.k(0,this.i>>1)),e}top(){return this.C[0]}find(e){return this.C.indexOf(e)>=0}remove(e){let r=this.C.indexOf(e);return r<0?!1:(r===0?this.pop():r===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(r,1,this.C.pop()),this.i-=1,this.m(r),this.k(r,this.i>>1)),!0)}updateItem(e){let r=this.C.indexOf(e);return r<0?!1:(this.m(r),this.k(r,this.i>>1),!0)}toArray(){return [...this.C]}},I1=da;qn.default=I1;});var jn=M(Dn=>{_();v();m();Object.defineProperty(Dn,"t",{value:!0});Dn.default=void 0;var T1=lt(),pa=class extends T1.Container{},R1=pa;Dn.default=R1;});var ut=M(ga=>{_();v();m();Object.defineProperty(ga,"t",{value:!0});ga.throwIteratorAccessError=C1;function C1(){throw new RangeError("Iterator access denied!")}});var ba=M(Wn=>{_();v();m();Object.defineProperty(Wn,"t",{value:!0});Wn.RandomIterator=void 0;var B1=lt(),Fn=ut(),ya=class extends B1.ContainerIterator{constructor(e,r){super(r),this.o=e,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0, Fn.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0, Fn.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0, Fn.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0, Fn.throwIteratorAccessError)(),this.o-=1,this});}get pointer(){return this.container.getElementByPos(this.o)}set pointer(e){this.container.setElementByPos(this.o,e);}};Wn.RandomIterator=ya;});var np=M($n=>{_();v();m();Object.defineProperty($n,"t",{value:!0});$n.default=void 0;var P1=O1(jn()),k1=ba();function O1(t){return t&&t.t?t:{default:t}}var mr=class t extends k1.RandomIterator{constructor(e,r,i){super(e,i),this.container=r;}copy(){return new t(this.o,this.container,this.iteratorType)}},wa=class extends P1.default{constructor(e=[],r=!0){if(super(),Array.isArray(e))this.J=r?[...e]:e,this.i=e.length;else {this.J=[];let i=this;e.forEach(function(n){i.pushBack(n);});}}clear(){this.i=0,this.J.length=0;}begin(){return new mr(0,this)}end(){return new mr(this.i,this)}rBegin(){return new mr(this.i-1,this,1)}rEnd(){return new mr(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),this.i-=1,this.i}eraseElementByValue(e){let r=0;for(let i=0;i<this.i;++i)this.J[i]!==e&&(this.J[r++]=this.J[i]);return this.i=this.J.length=r,this.i}eraseElementByIterator(e){let r=e.o;return e=e.next(),this.eraseElementByPos(r),e}pushBack(e){return this.J.push(e),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;return this.J.splice(e,0,...new Array(i).fill(r)),this.i+=i,this.i}find(e){for(let r=0;r<this.i;++r)if(this.J[r]===e)return new mr(r,this);return this.end()}reverse(){this.J.reverse();}unique(){let e=1;for(let r=1;r<this.i;++r)this.J[r]!==this.J[r-1]&&(this.J[e++]=this.J[r]);return this.i=this.J.length=e,this.i}sort(e){this.J.sort(e);}forEach(e){for(let r=0;r<this.i;++r)e(this.J[r],r,this);}[Symbol.iterator](){return function*(){yield*this.J;}.bind(this)()}},x1=wa;$n.default=x1;});var sp=M(Hn=>{_();v();m();Object.defineProperty(Hn,"t",{value:!0});Hn.default=void 0;var M1=U1(jn()),L1=lt(),vr=ut();function U1(t){return t&&t.t?t:{default:t}}var Er=class t extends L1.ContainerIterator{constructor(e,r,i,n){super(n),this.o=e,this.h=r,this.container=i,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.L,this});}get pointer(){return this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o.l}set pointer(e){this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o.l=e;}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},_a=class extends M1.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let r=this;e.forEach(function(i){r.pushBack(i);});}V(e){let{L:r,B:i}=e;r.B=i,i.L=r,e===this.p&&(this.p=i),e===this._&&(this._=r),this.i-=1;}G(e,r){let i=r.B,n={l:e,L:r,B:i};r.B=n,i.L=n,r===this.h&&(this.p=n),i===this.h&&(this._=n),this.i+=1;}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h;}begin(){return new Er(this.p,this.h,this)}end(){return new Er(this.h,this.h,this)}rBegin(){return new Er(this._,this.h,this,1)}rEnd(){return new Er(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return r.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return this.V(r),this.i}eraseElementByValue(e){let r=this.p;for(;r!==this.h;)r.l===e&&this.V(r),r=r.B;return this.i}eraseElementByIterator(e){let r=e.o;return r===this.h&&(0, vr.throwIteratorAccessError)(),e=e.next(),this.V(r),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;i.l=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;if(i<=0)return this.i;if(e===0)for(;i--;)this.pushFront(r);else if(e===this.i)for(;i--;)this.pushBack(r);else {let n=this.p;for(let s=1;s<e;++s)n=n.B;let o=n.B;for(this.i+=i;i--;)n.B={l:r,L:n},n.B.L=n,n=n.B;n.B=o,o.L=n;}return this.i}find(e){let r=this.p;for(;r!==this.h;){if(r.l===e)return new Er(r,this.h,this);r=r.B;}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,r=this._,i=0;for(;i<<1<this.i;){let n=e.l;e.l=r.l,r.l=n,e=e.B,r=r.L,i+=1;}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let r=e;for(;r.B!==this.h&&r.l===r.B.l;)r=r.B,this.i-=1;e.B=r.B,e.B.L=e,e=e.B;}return this.i}sort(e){if(this.i<=1)return;let r=[];this.forEach(function(n){r.push(n);}),r.sort(e);let i=this.p;r.forEach(function(n){i.l=n,i=i.B;});}merge(e){let r=this;if(this.i===0)e.forEach(function(i){r.pushBack(i);});else {let i=this.p;e.forEach(function(n){for(;i!==r.h&&i.l<=n;)i=i.B;r.G(n,i.L);});}return this.i}forEach(e){let r=this.p,i=0;for(;r!==this.h;)e(r.l,i++,this),r=r.B;}[Symbol.iterator](){return function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B;}.bind(this)()}},N1=_a;Hn.default=N1;});var op=M(Vn=>{_();v();m();Object.defineProperty(Vn,"t",{value:!0});Vn.default=void 0;var q1=j1(jn()),D1=ba();function j1(t){return t&&t.t?t:{default:t}}var Sr=class t extends D1.RandomIterator{constructor(e,r,i){super(e,i),this.container=r;}copy(){return new t(this.o,this.container,this.iteratorType)}},ma=class extends q1.default{constructor(e=[],r=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.size=="function")return e.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=r,this.P=Math.max(Math.ceil(i/this.F),1);for(let s=0;s<this.P;++s)this.A.push(new Array(this.F));let n=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(n>>1),this.D=this.N=this.F-i%this.F>>1;let o=this;e.forEach(function(s){o.pushBack(s);});}T(){let e=[],r=Math.max(this.P>>1,1);for(let i=0;i<r;++i)e[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)e[e.length]=this.A[i];for(let i=0;i<this.R;++i)e[e.length]=this.A[i];e[e.length]=[...this.A[this.R]],this.j=r,this.R=e.length-1;for(let i=0;i<r;++i)e[e.length]=new Array(this.F);this.A=e,this.P=e.length;}O(e){let r=this.D+e+1,i=r%this.F,n=i-1,o=this.j+(r-i)/this.F;return i===0&&(o-=1),o%=this.P,n<0&&(n+=this.F),{curNodeBucketIndex:o,curNodePointerIndex:n}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1;}begin(){return new Sr(0,this)}end(){return new Sr(this.i,this)}rBegin(){return new Sr(this.i-1,this,1)}rEnd(){return new Sr(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(e){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}popBack(){if(this.i===0)return;let e=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,e}pushFront(e){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}popFront(){if(this.i===0)return;let e=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,e}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:r,curNodePointerIndex:i}=this.O(e);return this.A[r][i]}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:n}=this.O(e);this.A[i][n]=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;if(e===0)for(;i--;)this.pushFront(r);else if(e===this.i)for(;i--;)this.pushBack(r);else {let n=[];for(let o=e;o<this.i;++o)n.push(this.getElementByPos(o));this.cut(e-1);for(let o=0;o<i;++o)this.pushBack(r);for(let o=0;o<n.length;++o)this.pushBack(n[o]);}return this.i}cut(e){if(e<0)return this.clear(),0;let{curNodeBucketIndex:r,curNodePointerIndex:i}=this.O(e);return this.R=r,this.N=i,this.i=e+1,this.i}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;if(e===0)this.popFront();else if(e===this.i-1)this.popBack();else {let r=[];for(let n=e+1;n<this.i;++n)r.push(this.getElementByPos(n));this.cut(e),this.popBack();let i=this;r.forEach(function(n){i.pushBack(n);});}return this.i}eraseElementByValue(e){if(this.i===0)return 0;let r=[];for(let n=0;n<this.i;++n){let o=this.getElementByPos(n);o!==e&&r.push(o);}let i=r.length;for(let n=0;n<i;++n)this.setElementByPos(n,r[n]);return this.cut(i-1)}eraseElementByIterator(e){let r=e.o;return this.eraseElementByPos(r),e=e.next(),e}find(e){for(let r=0;r<this.i;++r)if(this.getElementByPos(r)===e)return new Sr(r,this);return this.end()}reverse(){let e=0,r=this.i-1;for(;e<r;){let i=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(r)),this.setElementByPos(r,i),e+=1,r-=1;}}unique(){if(this.i<=1)return this.i;let e=1,r=this.getElementByPos(0);for(let i=1;i<this.i;++i){let n=this.getElementByPos(i);n!==r&&(r=n,this.setElementByPos(e++,n));}for(;this.i>e;)this.popBack();return this.i}sort(e){let r=[];for(let i=0;i<this.i;++i)r.push(this.getElementByPos(i));r.sort(e);for(let i=0;i<this.i;++i)this.setElementByPos(i,r[i]);}shrinkToFit(){if(this.i===0)return;let e=[];this.forEach(function(r){e.push(r);}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let r=0;r<this.P;++r)this.A.push(new Array(this.F));for(let r=0;r<e.length;++r)this.pushBack(e[r]);}forEach(e){for(let r=0;r<this.i;++r)e(this.getElementByPos(r),r,this);}[Symbol.iterator](){return function*(){for(let e=0;e<this.i;++e)yield this.getElementByPos(e);}.bind(this)()}},F1=ma;Vn.default=F1;});var ap=M(ei=>{_();v();m();Object.defineProperty(ei,"t",{value:!0});ei.TreeNodeEnableIndex=ei.TreeNode=void 0;var zn=class{constructor(e,r){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=e,this.l=r;}L(){let e=this;if(e.ee===1&&e.tt.tt===e)e=e.W;else if(e.U)for(e=e.U;e.W;)e=e.W;else {let r=e.tt;for(;r.U===e;)e=r,r=e.tt;e=r;}return e}B(){let e=this;if(e.W){for(e=e.W;e.U;)e=e.U;return e}else {let r=e.tt;for(;r.W===e;)e=r,r=e.tt;return e.W!==r?r:e}}te(){let e=this.tt,r=this.W,i=r.U;return e.tt===this?e.tt=r:e.U===this?e.U=r:e.W=r,r.tt=e,r.U=this,this.tt=r,this.W=i,i&&(i.tt=this),r}se(){let e=this.tt,r=this.U,i=r.W;return e.tt===this?e.tt=r:e.U===this?e.U=r:e.W=r,r.tt=e,r.W=this,this.tt=r,this.U=i,i&&(i.tt=this),r}};ei.TreeNode=zn;var va=class extends zn{constructor(){super(...arguments),this.rt=1;}te(){let e=super.te();return this.ie(),e.ie(),e}se(){let e=super.se();return this.ie(),e.ie(),e}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt);}};ei.TreeNodeEnableIndex=va;});var Sa=M(Kn=>{_();v();m();Object.defineProperty(Kn,"t",{value:!0});Kn.default=void 0;var lp=ap(),W1=lt(),up=ut(),Ea=class extends W1.Container{constructor(e=function(i,n){return i<n?-1:i>n?1:0},r=!1){super(),this.Y=void 0,this.v=e,r?(this.re=lp.TreeNodeEnableIndex,this.M=function(i,n,o){let s=this.ne(i,n,o);if(s){let a=s.tt;for(;a!==this.h;)a.rt+=1,a=a.tt;let l=this.he(s);if(l){let{parentNode:c,grandParent:h,curNode:d}=l;c.ie(),h.ie(),d.ie();}}return this.i},this.V=function(i){let n=this.fe(i);for(;n!==this.h;)n.rt-=1,n=n.tt;}):(this.re=lp.TreeNode,this.M=function(i,n,o){let s=this.ne(i,n,o);return s&&this.he(s),this.i},this.V=this.fe),this.h=new this.re;}X(e,r){let i=this.h;for(;e;){let n=this.v(e.u,r);if(n<0)e=e.W;else if(n>0)i=e,e=e.U;else return e}return i}Z(e,r){let i=this.h;for(;e;)this.v(e.u,r)<=0?e=e.W:(i=e,e=e.U);return i}$(e,r){let i=this.h;for(;e;){let n=this.v(e.u,r);if(n<0)i=e,e=e.W;else if(n>0)e=e.U;else return e}return i}rr(e,r){let i=this.h;for(;e;)this.v(e.u,r)<0?(i=e,e=e.W):e=e.U;return i}ue(e){for(;;){let r=e.tt;if(r===this.h)return;if(e.ee===1){e.ee=0;return}if(e===r.U){let i=r.W;if(i.ee===1)i.ee=0,r.ee=1,r===this.Y?this.Y=r.te():r.te();else if(i.W&&i.W.ee===1){i.ee=r.ee,r.ee=0,i.W.ee=0,r===this.Y?this.Y=r.te():r.te();return}else i.U&&i.U.ee===1?(i.ee=1,i.U.ee=0,i.se()):(i.ee=1,e=r);}else {let i=r.U;if(i.ee===1)i.ee=0,r.ee=1,r===this.Y?this.Y=r.se():r.se();else if(i.U&&i.U.ee===1){i.ee=r.ee,r.ee=0,i.U.ee=0,r===this.Y?this.Y=r.se():r.se();return}else i.W&&i.W.ee===1?(i.ee=1,i.W.ee=0,i.te()):(i.ee=1,e=r);}}}fe(e){if(this.i===1)return this.clear(),this.h;let r=e;for(;r.U||r.W;){if(r.W)for(r=r.W;r.U;)r=r.U;else r=r.U;[e.u,r.u]=[r.u,e.u],[e.l,r.l]=[r.l,e.l],e=r;}this.h.U===r?this.h.U=r.tt:this.h.W===r&&(this.h.W=r.tt),this.ue(r);let i=r.tt;return r===i.U?i.U=void 0:i.W=void 0,this.i-=1,this.Y.ee=0,i}oe(e,r){return e===void 0?!1:this.oe(e.U,r)||r(e)?!0:this.oe(e.W,r)}he(e){for(;;){let r=e.tt;if(r.ee===0)return;let i=r.tt;if(r===i.U){let n=i.W;if(n&&n.ee===1){if(n.ee=r.ee=0,i===this.Y)return;i.ee=1,e=i;continue}else if(e===r.W){if(e.ee=0,e.U&&(e.U.tt=r),e.W&&(e.W.tt=i),r.W=e.U,i.U=e.W,e.U=r,e.W=i,i===this.Y)this.Y=e,this.h.tt=e;else {let o=i.tt;o.U===i?o.U=e:o.W=e;}return e.tt=i.tt,r.tt=e,i.tt=e,i.ee=1,{parentNode:r,grandParent:i,curNode:e}}else r.ee=0,i===this.Y?this.Y=i.se():i.se(),i.ee=1;}else {let n=i.U;if(n&&n.ee===1){if(n.ee=r.ee=0,i===this.Y)return;i.ee=1,e=i;continue}else if(e===r.U){if(e.ee=0,e.U&&(e.U.tt=i),e.W&&(e.W.tt=r),i.W=e.U,r.U=e.W,e.U=i,e.W=r,i===this.Y)this.Y=e,this.h.tt=e;else {let o=i.tt;o.U===i?o.U=e:o.W=e;}return e.tt=i.tt,r.tt=e,i.tt=e,i.ee=1,{parentNode:r,grandParent:i,curNode:e}}else r.ee=0,i===this.Y?this.Y=i.te():i.te(),i.ee=1;}return}}ne(e,r,i){if(this.Y===void 0){this.i+=1,this.Y=new this.re(e,r),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let n,o=this.h.U,s=this.v(o.u,e);if(s===0){o.l=r;return}else if(s>0)o.U=new this.re(e,r),o.U.tt=o,n=o.U,this.h.U=n;else {let a=this.h.W,l=this.v(a.u,e);if(l===0){a.l=r;return}else if(l<0)a.W=new this.re(e,r),a.W.tt=a,n=a.W,this.h.W=n;else {if(i!==void 0){let c=i.o;if(c!==this.h){let h=this.v(c.u,e);if(h===0){c.l=r;return}else if(h>0){let d=c.L(),g=this.v(d.u,e);if(g===0){d.l=r;return}else g<0&&(n=new this.re(e,r),d.W===void 0?(d.W=n,n.tt=d):(c.U=n,n.tt=c));}}}if(n===void 0)for(n=this.Y;;){let c=this.v(n.u,e);if(c>0){if(n.U===void 0){n.U=new this.re(e,r),n.U.tt=n,n=n.U;break}n=n.U;}else if(c<0){if(n.W===void 0){n.W=new this.re(e,r),n.W.tt=n,n=n.W;break}n=n.W;}else {n.l=r;return}}}}return this.i+=1,n}I(e,r){for(;e;){let i=this.v(e.u,r);if(i<0)e=e.W;else if(i>0)e=e.U;else return e}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0;}updateKeyByIterator(e,r){let i=e.o;if(i===this.h&&(0, up.throwIteratorAccessError)(),this.i===1)return i.u=r,!0;if(i===this.h.U)return this.v(i.B().u,r)>0?(i.u=r,!0):!1;if(i===this.h.W)return this.v(i.L().u,r)<0?(i.u=r,!0):!1;let n=i.L().u;if(this.v(n,r)>=0)return !1;let o=i.B().u;return this.v(o,r)<=0?!1:(i.u=r,!0)}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=0,i=this;return this.oe(this.Y,function(n){return e===r?(i.V(n),!0):(r+=1,!1)}),this.i}eraseElementByKey(e){if(this.i===0)return !1;let r=this.I(this.Y,e);return r===this.h?!1:(this.V(r),!0)}eraseElementByIterator(e){let r=e.o;r===this.h&&(0, up.throwIteratorAccessError)();let i=r.W===void 0;return e.iteratorType===0?i&&e.next():(!i||r.U===void 0)&&e.next(),this.V(r),e}forEach(e){let r=0;for(let i of this)e(i,r++,this);}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r,i=0;for(let n of this){if(i===e){r=n;break}i+=1;}return r}getHeight(){if(this.i===0)return 0;let e=function(r){return r?Math.max(e(r.U),e(r.W))+1:0};return e(this.Y)}},$1=Ea;Kn.default=$1;});var Ia=M(Qn=>{_();v();m();Object.defineProperty(Qn,"t",{value:!0});Qn.default=void 0;var H1=lt(),Gn=ut(),Aa=class extends H1.ContainerIterator{constructor(e,r,i){super(i),this.o=e,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.L(),this});}get index(){let e=this.o,r=this.h.tt;if(e===this.h)return r?r.rt-1:0;let i=0;for(e.U&&(i+=e.U.rt);e!==r;){let n=e.tt;e===n.W&&(i+=1,n.U&&(i+=n.U.rt)),e=n;}return i}},V1=Aa;Qn.default=V1;});var cp=M(Yn=>{_();v();m();Object.defineProperty(Yn,"t",{value:!0});Yn.default=void 0;var z1=fp(Sa()),K1=fp(Ia()),G1=ut();function fp(t){return t&&t.t?t:{default:t}}var Ke=class t extends K1.default{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){return this.o===this.h&&(0, G1.throwIteratorAccessError)(),this.o.u}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Ta=class extends z1.default{constructor(e=[],r,i){super(r,i);let n=this;e.forEach(function(o){n.insert(o);});}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W));}begin(){return new Ke(this.h.U||this.h,this.h,this)}end(){return new Ke(this.h,this.h,this)}rBegin(){return new Ke(this.h.W||this.h,this.h,this,1)}rEnd(){return new Ke(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,r){return this.M(e,void 0,r)}find(e){let r=this.I(this.Y,e);return new Ke(r,this.h,this)}lowerBound(e){let r=this.X(this.Y,e);return new Ke(r,this.h,this)}upperBound(e){let r=this.Z(this.Y,e);return new Ke(r,this.h,this)}reverseLowerBound(e){let r=this.$(this.Y,e);return new Ke(r,this.h,this)}reverseUpperBound(e){let r=this.rr(this.Y,e);return new Ke(r,this.h,this)}union(e){let r=this;return e.forEach(function(i){r.insert(i);}),this.i}[Symbol.iterator](){return this.K(this.Y)}},Q1=Ta;Yn.default=Q1;});var dp=M(Jn=>{_();v();m();Object.defineProperty(Jn,"t",{value:!0});Jn.default=void 0;var Y1=hp(Sa()),J1=hp(Ia()),X1=ut();function hp(t){return t&&t.t?t:{default:t}}var Ge=class t extends J1.default{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){this.o===this.h&&(0, X1.throwIteratorAccessError)();let e=this;return new Proxy([],{get(r,i){if(i==="0")return e.o.u;if(i==="1")return e.o.l},set(r,i,n){if(i!=="1")throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Ra=class extends Y1.default{constructor(e=[],r,i){super(r,i);let n=this;e.forEach(function(o){n.setElement(o[0],o[1]);});}*K(e){e!==void 0&&(yield*this.K(e.U),yield [e.u,e.l],yield*this.K(e.W));}begin(){return new Ge(this.h.U||this.h,this.h,this)}end(){return new Ge(this.h,this.h,this)}rBegin(){return new Ge(this.h.W||this.h,this.h,this,1)}rEnd(){return new Ge(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return [e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return [e.u,e.l]}lowerBound(e){let r=this.X(this.Y,e);return new Ge(r,this.h,this)}upperBound(e){let r=this.Z(this.Y,e);return new Ge(r,this.h,this)}reverseLowerBound(e){let r=this.$(this.Y,e);return new Ge(r,this.h,this)}reverseUpperBound(e){let r=this.rr(this.Y,e);return new Ge(r,this.h,this)}setElement(e,r,i){return this.M(e,r,i)}find(e){let r=this.I(this.Y,e);return new Ge(r,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let r=this;return e.forEach(function(i){r.setElement(i[0],i[1]);}),this.i}[Symbol.iterator](){return this.K(this.Y)}},Z1=Ra;Jn.default=Z1;});var Ba=M(Ca=>{_();v();m();Object.defineProperty(Ca,"t",{value:!0});Ca.default=ev;function ev(t){let e=typeof t;return e==="object"&&t!==null||e==="function"}});var xa=M(ti=>{_();v();m();Object.defineProperty(ti,"t",{value:!0});ti.HashContainerIterator=ti.HashContainer=void 0;var pp=lt(),Pa=tv(Ba()),Ci=ut();function tv(t){return t&&t.t?t:{default:t}}var ka=class extends pp.ContainerIterator{constructor(e,r,i){super(i),this.o=e,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.L,this});}};ti.HashContainerIterator=ka;var Oa=class extends pp.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h;}V(e){let{L:r,B:i}=e;r.B=i,i.L=r,e===this.p&&(this.p=i),e===this._&&(this._=r),this.i-=1;}M(e,r,i){i===void 0&&(i=(0, Pa.default)(e));let n;if(i){let o=e[this.HASH_TAG];if(o!==void 0)return this.H[o].l=r,this.i;Object.defineProperty(e,this.HASH_TAG,{value:this.H.length,configurable:!0}),n={u:e,l:r,L:this._,B:this.h},this.H.push(n);}else {let o=this.g[e];if(o)return o.l=r,this.i;n={u:e,l:r,L:this._,B:this.h},this.g[e]=n;}return this.i===0?(this.p=n,this.h.B=n):this._.B=n,this._=n,this.h.L=n,++this.i}I(e,r){if(r===void 0&&(r=(0, Pa.default)(e)),r){let i=e[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[e]||this.h}clear(){let e=this.HASH_TAG;this.H.forEach(function(r){delete r.u[e];}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h;}eraseElementByKey(e,r){let i;if(r===void 0&&(r=(0, Pa.default)(e)),r){let n=e[this.HASH_TAG];if(n===void 0)return !1;delete e[this.HASH_TAG],i=this.H[n],delete this.H[n];}else {if(i=this.g[e],i===void 0)return !1;delete this.g[e];}return this.V(i),!0}eraseElementByIterator(e){let r=e.o;return r===this.h&&(0, Ci.throwIteratorAccessError)(),this.V(r),e.next()}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return this.V(r),this.i}};ti.HashContainer=Oa;});var yp=M(Xn=>{_();v();m();Object.defineProperty(Xn,"t",{value:!0});Xn.default=void 0;var gp=xa(),rv=ut(),Ar=class t extends gp.HashContainerIterator{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){return this.o===this.h&&(0, rv.throwIteratorAccessError)(),this.o.u}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Ma=class extends gp.HashContainer{constructor(e=[]){super();let r=this;e.forEach(function(i){r.insert(i);});}begin(){return new Ar(this.p,this.h,this)}end(){return new Ar(this.h,this.h,this)}rBegin(){return new Ar(this._,this.h,this,1)}rEnd(){return new Ar(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,r){return this.M(e,void 0,r)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return r.u}find(e,r){let i=this.I(e,r);return new Ar(i,this.h,this)}forEach(e){let r=0,i=this.p;for(;i!==this.h;)e(i.u,r++,this),i=i.B;}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B;}.bind(this)()}},iv=Ma;Xn.default=iv;});var wp=M(Zn=>{_();v();m();Object.defineProperty(Zn,"t",{value:!0});Zn.default=void 0;var bp=xa(),nv=ov(Ba()),sv=ut();function ov(t){return t&&t.t?t:{default:t}}var Ir=class t extends bp.HashContainerIterator{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){this.o===this.h&&(0, sv.throwIteratorAccessError)();let e=this;return new Proxy([],{get(r,i){if(i==="0")return e.o.u;if(i==="1")return e.o.l},set(r,i,n){if(i!=="1")throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},La=class extends bp.HashContainer{constructor(e=[]){super();let r=this;e.forEach(function(i){r.setElement(i[0],i[1]);});}begin(){return new Ir(this.p,this.h,this)}end(){return new Ir(this.h,this.h,this)}rBegin(){return new Ir(this._,this.h,this,1)}rEnd(){return new Ir(this.h,this.h,this,1)}front(){if(this.i!==0)return [this.p.u,this.p.l]}back(){if(this.i!==0)return [this._.u,this._.l]}setElement(e,r,i){return this.M(e,r,i)}getElementByKey(e,r){if(r===void 0&&(r=(0, nv.default)(e)),r){let n=e[this.HASH_TAG];return n!==void 0?this.H[n].l:void 0}let i=this.g[e];return i?i.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return [r.u,r.l]}find(e,r){let i=this.I(e,r);return new Ir(i,this.h,this)}forEach(e){let r=0,i=this.p;for(;i!==this.h;)e([i.u,i.l],r++,this),i=i.B;}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield [e.u,e.l],e=e.B;}.bind(this)()}},av=La;Zn.default=av;});var _p=M(je=>{_();v();m();Object.defineProperty(je,"t",{value:!0});Object.defineProperty(je,"Deque",{enumerable:!0,get:function(){return dv.default}});Object.defineProperty(je,"HashMap",{enumerable:!0,get:function(){return bv.default}});Object.defineProperty(je,"HashSet",{enumerable:!0,get:function(){return yv.default}});Object.defineProperty(je,"LinkList",{enumerable:!0,get:function(){return hv.default}});Object.defineProperty(je,"OrderedMap",{enumerable:!0,get:function(){return gv.default}});Object.defineProperty(je,"OrderedSet",{enumerable:!0,get:function(){return pv.default}});Object.defineProperty(je,"PriorityQueue",{enumerable:!0,get:function(){return fv.default}});Object.defineProperty(je,"Queue",{enumerable:!0,get:function(){return uv.default}});Object.defineProperty(je,"Stack",{enumerable:!0,get:function(){return lv.default}});Object.defineProperty(je,"Vector",{enumerable:!0,get:function(){return cv.default}});var lv=ft(tp()),uv=ft(rp()),fv=ft(ip()),cv=ft(np()),hv=ft(sp()),dv=ft(op()),pv=ft(cp()),gv=ft(dp()),yv=ft(yp()),bv=ft(wp());function ft(t){return t&&t.t?t:{default:t}}});var vp=M((AN,mp)=>{_();v();m();var wv=_p().OrderedSet,ct=ot()("number-allocator:trace"),_v=ot()("number-allocator:error");function Re(t,e){this.low=t,this.high=e;}Re.prototype.equals=function(t){return this.low===t.low&&this.high===t.high};Re.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function ht(t,e){if(!(this instanceof ht))return new ht(t,e);this.min=t,this.max=e,this.ss=new wv([],(r,i)=>r.compare(i)),ct("Create"),this.clear();}ht.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low};ht.prototype.alloc=function(){if(this.ss.size()===0)return ct("alloc():empty"),null;let t=this.ss.begin(),e=t.pointer.low,r=t.pointer.high,i=e;return i+1<=r?this.ss.updateKeyByIterator(t,new Re(e+1,r)):this.ss.eraseElementByPos(0),ct("alloc():"+i),i};ht.prototype.use=function(t){let e=new Re(t,t),r=this.ss.lowerBound(e);if(!r.equals(this.ss.end())){let i=r.pointer.low,n=r.pointer.high;return r.pointer.equals(e)?(this.ss.eraseElementByIterator(r),ct("use():"+t),!0):i>t?!1:i===t?(this.ss.updateKeyByIterator(r,new Re(i+1,n)),ct("use():"+t),!0):n===t?(this.ss.updateKeyByIterator(r,new Re(i,n-1)),ct("use():"+t),!0):(this.ss.updateKeyByIterator(r,new Re(t+1,n)),this.ss.insert(new Re(i,t-1)),ct("use():"+t),!0)}return ct("use():failed"),!1};ht.prototype.free=function(t){if(t<this.min||t>this.max){_v("free():"+t+" is out of range");return}let e=new Re(t,t),r=this.ss.upperBound(e);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin())){this.ss.insert(e);return}r.pre();let i=r.pointer.high;r.pointer.high+1===t?this.ss.updateKeyByIterator(r,new Re(i,t)):this.ss.insert(e);}else if(r.equals(this.ss.begin()))if(t+1===r.pointer.low){let i=r.pointer.high;this.ss.updateKeyByIterator(r,new Re(t,i));}else this.ss.insert(e);else {let i=r.pointer.low,n=r.pointer.high;r.pre();let o=r.pointer.low;r.pointer.high+1===t?t+1===i?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new Re(o,n))):this.ss.updateKeyByIterator(r,new Re(o,t)):t+1===i?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new Re(t,n))):this.ss.insert(e);}ct("free():"+t);};ht.prototype.clear=function(){ct("clear()"),this.ss.clear(),this.ss.insert(new Re(this.min,this.max));};ht.prototype.intervalCount=function(){return this.ss.size()};ht.prototype.dump=function(){console.log("length:"+this.ss.size());for(let t of this.ss)console.log(t);};mp.exports=ht;});var Ua=M((MN,Ep)=>{_();v();m();var mv=vp();Ep.exports.NumberAllocator=mv;});var Sp=M(qa=>{_();v();m();Object.defineProperty(qa,"__esModule",{value:!0});var vv=ep(),Ev=Ua(),Na=class{constructor(e){e>0&&(this.aliasToTopic=new vv.LRUCache({max:e}),this.topicToAlias={},this.numberAllocator=new Ev.NumberAllocator(1,e),this.max=e,this.length=0);}put(e,r){if(r===0||r>this.max)return !1;let i=this.aliasToTopic.get(r);return i&&delete this.topicToAlias[i],this.aliasToTopic.set(r,e),this.topicToAlias[e]=r,this.numberAllocator.use(r),this.length=this.aliasToTopic.size,!0}getTopicByAlias(e){return this.aliasToTopic.get(e)}getAliasByTopic(e){let r=this.topicToAlias[e];return typeof r<"u"&&this.aliasToTopic.get(r),r}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0;}getLruAlias(){let e=this.numberAllocator.firstVacant();return e||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};qa.default=Na;});var Ap=M(Bi=>{_();v();m();var Sv=Bi&&Bi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});var Av=Ti(),Iv=Sv(Sp()),Tv=_r(),Rv=(t,e)=>{t.log("_handleConnack");let{options:r}=t,n=r.protocolVersion===5?e.reasonCode:e.returnCode;if(clearTimeout(t.connackTimer),delete t.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535){t.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}e.properties.topicAliasMaximum>0&&(t.topicAliasSend=new Iv.default(e.properties.topicAliasMaximum));}e.properties.serverKeepAlive&&r.keepalive&&(r.keepalive=e.properties.serverKeepAlive),e.properties.maximumPacketSize&&(r.properties||(r.properties={}),r.properties.maximumPacketSize=e.properties.maximumPacketSize);}if(n===0)t.reconnecting=!1,t._onConnect(e);else if(n>0){let o=new Tv.ErrorWithReasonCode(`Connection refused: ${Av.ReasonCodes[n]}`,n);t.emit("error",o);}};Bi.default=Rv;});var Ip=M(Da=>{_();v();m();Object.defineProperty(Da,"__esModule",{value:!0});var Cv=(t,e,r)=>{t.log("handling pubrel packet");let i=typeof r<"u"?r:t.noop,{messageId:n}=e,o={cmd:"pubcomp",messageId:n};t.incomingStore.get(e,(s,a)=>{s?t._sendPacket(o,i):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,l=>{if(l)return i(l);t.incomingStore.del(a,t.noop),t._sendPacket(o,i);}));});};Da.default=Cv;});var Tp=M(Pi=>{_();v();m();var ki=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});var Bv=ki(Vd()),Pv=ki(Qd()),kv=ki(Ap()),Ov=ki(Ti()),xv=ki(Ip()),Mv=(t,e,r)=>{let{options:i}=t;if(i.protocolVersion===5&&i.properties&&i.properties.maximumPacketSize&&i.properties.maximumPacketSize<e.length)return t.emit("error",new Error(`exceeding packets size ${e.cmd}`)),t.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),t;switch(t.log("_handlePacket :: emitting packetreceive"),t.emit("packetreceive",e),e.cmd){case"publish":(0, Bv.default)(t,e,r);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":t.reschedulePing(),(0, Ov.default)(t,e),r();break;case"pubrel":t.reschedulePing(),(0, xv.default)(t,e,r);break;case"connack":(0, kv.default)(t,e),r();break;case"auth":t.reschedulePing(),(0, Pv.default)(t,e),r();break;case"pingresp":t.log("_handlePacket :: received pingresp"),t.reschedulePing(!0),r();break;case"disconnect":t.emit("disconnect",e),r();break;default:t.log("_handlePacket :: unknown command"),r();break}};Pi.default=Mv;});var Rp=M(ri=>{_();v();m();var Lv=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ri,"__esModule",{value:!0});ri.TypedEventEmitter=void 0;var Uv=Lv((sr(),X(nr))),Nv=_r(),es=class{};ri.TypedEventEmitter=es;(0, Nv.applyMixin)(es,Uv.default);});var Oi=M(Tr=>{_();v();m();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isReactNativeBrowser=Tr.isWebWorker=void 0;var qv=()=>{var t;return typeof window<"u"?typeof navigator<"u"&&((t=navigator.userAgent)===null||t===void 0?void 0:t.toLowerCase().indexOf(" electron/"))>-1&&(!(B===null||B===void 0)&&B.versions)?!Object.prototype.hasOwnProperty.call(B.versions,"electron"):typeof window.document<"u":!1},Cp=()=>{var t,e;return !!(typeof self=="object"&&(!((e=(t=self?.constructor)===null||t===void 0?void 0:t.name)===null||e===void 0)&&e.includes("WorkerGlobalScope")))},Bp=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dv=qv()||Cp()||Bp();Tr.isWebWorker=Cp();Tr.isReactNativeBrowser=Bp();Tr.default=Dv;});var kp=M((ts,Pp)=>{_();v();m();(function(t,e){typeof ts=="object"&&typeof Pp<"u"?e(ts):typeof define=="function"&&__webpack_require__.amdO?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.fastUniqueNumbers={}));})(ts,function(t){var e=function(g){return function(y){var w=g(y);return y.add(w),w}},r=function(g){return function(y,w){return g.set(y,w),w}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,o=n*2,s=function(g,y){return function(w){var S=y.get(w),E=S===void 0?w.size:S<o?S+1:0;if(!w.has(E))return g(w,E);if(w.size<n){for(;w.has(E);)E=Math.floor(Math.random()*o);return g(w,E)}if(w.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;w.has(E);)E=Math.floor(Math.random()*i);return g(w,E)}},a=new WeakMap,l=r(a),c=s(l,a),h=e(c);t.addUniqueNumber=h,t.generateUniqueNumber=c;});});var xp=M((rs,Op)=>{_();v();m();(function(t,e){typeof rs=="object"&&typeof Op<"u"?e(rs,kp()):typeof define=="function"&&__webpack_require__.amdO?define(["exports","fast-unique-numbers"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.workerTimersBroker={},t.fastUniqueNumbers));})(rs,function(t,e){var r=function(s){return s.method!==void 0&&s.method==="call"},i=function(s){return s.error===null&&typeof s.id=="number"},n=function(s){var a=new Map([[0,function(){}]]),l=new Map([[0,function(){}]]),c=new Map,h=new Worker(s);h.addEventListener("message",function(S){var E=S.data;if(r(E)){var I=E.params,C=I.timerId,R=I.timerType;if(R==="interval"){var U=a.get(C);if(typeof U=="number"){var N=c.get(U);if(N===void 0||N.timerId!==C||N.timerType!==R)throw new Error("The timer is in an undefined state.")}else if(typeof U<"u")U();else throw new Error("The timer is in an undefined state.")}else if(R==="timeout"){var W=l.get(C);if(typeof W=="number"){var K=c.get(W);if(K===void 0||K.timerId!==C||K.timerType!==R)throw new Error("The timer is in an undefined state.")}else if(typeof W<"u")W(),l.delete(C);else throw new Error("The timer is in an undefined state.")}}else if(i(E)){var z=E.id,Q=c.get(z);if(Q===void 0)throw new Error("The timer is in an undefined state.");var pe=Q.timerId,Yt=Q.timerType;c.delete(z),Yt==="interval"?a.delete(pe):l.delete(pe);}else {var ge=E.error.message;throw new Error(ge)}});var d=function(E){var I=e.generateUniqueNumber(c);c.set(I,{timerId:E,timerType:"interval"}),a.set(E,I),h.postMessage({id:I,method:"clear",params:{timerId:E,timerType:"interval"}});},g=function(E){var I=e.generateUniqueNumber(c);c.set(I,{timerId:E,timerType:"timeout"}),l.set(E,I),h.postMessage({id:I,method:"clear",params:{timerId:E,timerType:"timeout"}});},y=function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=e.generateUniqueNumber(a);return a.set(C,function(){E(),typeof a.get(C)=="function"&&h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"interval"}});}),h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"interval"}}),C},w=function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=e.generateUniqueNumber(l);return l.set(C,E),h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"timeout"}}),C};return {clearInterval:d,clearTimeout:g,setInterval:y,setTimeout:w}};t.load=n;});});var Lp=M((is,Mp)=>{_();v();m();(function(t,e){typeof is=="object"&&typeof Mp<"u"?e(is,xp()):typeof define=="function"&&__webpack_require__.amdO?define(["exports","worker-timers-broker"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.workerTimers={},t.workerTimersBroker));})(is,function(t,e){var r=function(h,d){var g=null;return function(){if(g!==null)return g;var y=new Blob([d],{type:"application/javascript; charset=utf-8"}),w=URL.createObjectURL(y);return g=h(w),setTimeout(function(){return URL.revokeObjectURL(w)}),g}},i=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,n=r(e.load,i),o=function(h){return n().clearInterval(h)},s=function(h){return n().clearTimeout(h)},a=function(){var h;return (h=n()).setInterval.apply(h,arguments)},l=function(){var h;return (h=n()).setTimeout.apply(h,arguments)};t.clearInterval=o,t.clearTimeout=s,t.setInterval=a,t.setTimeout=l;});});var Dp=M(Ct=>{_();v();m();var jv=Ct&&Ct.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),Fv=Ct&&Ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),Wv=Ct&&Ct.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jv(e,t,r);return Fv(e,t),e};Object.defineProperty(Ct,"__esModule",{value:!0});var ja=Wv(Oi()),Up=Lp(),Np={set:Up.setInterval,clear:Up.clearInterval},qp={set:(t,e)=>setInterval(t,e),clear:t=>clearInterval(t)},$v=t=>{switch(t){case"native":return qp;case"worker":return Np;case"auto":default:return ja.default&&!ja.isWebWorker&&!ja.isReactNativeBrowser?Np:qp}};Ct.default=$v;});var Wa=M(xi=>{_();v();m();var Hv=xi&&xi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});var Vv=Hv(Dp()),Fa=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(e,r){this.destroyed=!1,this.client=e,this.timer=typeof r=="object"&&"set"in r&&"clear"in r?r:(0, Vv.default)(r),this.setKeepalive(e.options.keepalive);}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null);}setKeepalive(e){if(e*=1e3,isNaN(e)||e<=0||e>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${e}`);this._keepalive=e,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${e}ms`);}destroy(){this.clear(),this.destroyed=!0;}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let e=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+e,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout());},this._intervalEvery);}};xi.default=Fa;});var os=M(Qe=>{_();v();m();var zv=Qe&&Qe.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),Kv=Qe&&Qe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),Hp=Qe&&Qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zv(e,t,r);return Kv(e,t),e},zt=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qe,"__esModule",{value:!0});var Gv=zt(Gu()),$a=zt(Nd()),Qv=zt(Zo()),Yv=jt(),jp=zt(Fd()),Fp=Hp($d()),Jv=zt(ot()),ii=zt(ra()),Xv=zt(Tp()),ns=_r(),Zv=Rp(),eE=zt(Wa()),Wp=Hp(Oi()),Ha=globalThis.setImmediate||((...t)=>{let e=t.shift();(0, ns.nextTick)(()=>{e(...t);});}),$p={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},ss=class t extends Zv.TypedEventEmitter{static defaultId(){return `mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(e,r){super(),this.options=r||{};for(let i in $p)typeof this.options[i]>"u"?this.options[i]=$p[i]:this.options[i]=r[i];this.log=this.options.log||(0, Jv.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",t.VERSION),Wp.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",Wp.default?"browser":"node"),this.log("MqttClient :: options.protocol",r.protocol),this.log("MqttClient :: options.protocolVersion",r.protocolVersion),this.log("MqttClient :: options.username",r.username),this.log("MqttClient :: options.keepalive",r.keepalive),this.log("MqttClient :: options.reconnectPeriod",r.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",r.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",r.properties?r.properties.topicAliasMaximum:void 0),this.options.clientId=typeof r.clientId=="string"?r.clientId:t.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=r.protocolVersion===5&&r.customHandleAcks?r.customHandleAcks:(...i)=>{i[3](null,0);},this.options.writeCache||($a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=e,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new Qv.default:this.options.messageIdProvider,this.outgoingStore=r.outgoingStore||new ii.default,this.incomingStore=r.incomingStore||new ii.default,this.queueQoSZero=r.queueQoSZero===void 0?!0:r.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,r.properties&&r.properties.topicAliasMaximum>0&&(r.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new Gv.default(r.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:i}=this,n=()=>{let o=i.shift();this.log("deliver :: entry %o",o);let s=null;if(!o){this._resubscribe();return}s=o.packet,this.log("deliver :: call _sendPacket for %o",s);let a=!0;s.messageId&&s.messageId!==0&&(this.messageIdProvider.register(s.messageId)||(a=!1)),a?this._sendPacket(s,l=>{o.cb&&o.cb(l),n();}):(this.log("messageId: %d has already used. The message is skipped and removed.",s.messageId),n());};this.log("connect :: sending queued packets"),n();}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect();}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect());}handleAuth(e,r){r();}handleMessage(e,r){r();}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var e;let r=new Yv.Writable,i=$a.default.parser(this.options),n=null,o=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new ii.default,this.outgoingStore=this.options.outgoingStore||new ii.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),i.on("packet",h=>{this.log("parser :: on packet push to packets array."),o.push(h);});let s=()=>{this.log("work :: getting next packet in queue");let h=o.shift();if(h)this.log("work :: packet pulled from queue"),(0, Xv.default)(this,h,a);else {this.log("work :: no packets in queue");let d=n;n=null,this.log("work :: done flag is %s",!!d),d&&d();}},a=()=>{if(o.length)(0, ns.nextTick)(s);else {let h=n;n=null,h();}};r._write=(h,d,g)=>{n=g,this.log("writable stream :: parsing buffer"),i.parse(h),s();};let l=h=>{this.log("streamErrorHandler :: error",h.message),h.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",h)):this.noop(h);};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(r),this.stream.on("error",l),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close");}),this.log("connect: sending packet `connect`");let c={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(c.will=Object.assign(Object.assign({},this.options.will),{payload:(e=this.options.will)===null||e===void 0?void 0:e.payload})),this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(c),i.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let h=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(h);}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0);},this.options.connectTimeout),this}publish(e,r,i,n){this.log("publish :: message `%s` to topic `%s`",r,e);let{options:o}=this;typeof i=="function"&&(n=i,i=null),i=i||{},i=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),i);let{qos:a,retain:l,dup:c,properties:h,cbStorePut:d}=i;if(this._checkDisconnecting(n))return this;let g=()=>{let y=0;if((a===1||a===2)&&(y=this._nextId(),y===null))return this.log("No messageId left"),!1;let w={cmd:"publish",topic:e,payload:r,qos:a,retain:l,messageId:y,dup:c};switch(o.protocolVersion===5&&(w.properties=h),this.log("publish :: qos",a),a){case 1:case 2:this.outgoing[w.messageId]={volatile:!1,cb:n||this.noop},this.log("MqttClient:publish: packet cmd: %s",w.cmd),this._sendPacket(w,void 0,d);break;default:this.log("MqttClient:publish: packet cmd: %s",w.cmd),this._sendPacket(w,n,d);break}return !0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!g())&&this._storeProcessingQueue.push({invoke:g,cbStorePut:i.cbStorePut,callback:n}),this}publishAsync(e,r,i){return new Promise((n,o)=>{this.publish(e,r,i,(s,a)=>{s?o(s):n(a);});})}subscribe(e,r,i){let n=this.options.protocolVersion;typeof r=="function"&&(i=r),i=i||this.noop;let o=!1,s=[];typeof e=="string"?(e=[e],s=e):Array.isArray(e)?s=e:typeof e=="object"&&(o=e.resubscribe,delete e.resubscribe,s=Object.keys(e));let a=Fp.validateTopics(s);if(a!==null)return Ha(i,new Error(`Invalid topic ${a}`)),this;if(this._checkDisconnecting(i))return this.log("subscribe: discconecting true"),this;let l={qos:0};n===5&&(l.nl=!1,l.rap=!1,l.rh=0),r=Object.assign(Object.assign({},l),r);let c=r.properties,h=[],d=(y,w)=>{if(w=w||r,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,y)||this._resubscribeTopics[y].qos<w.qos||o){let S={topic:y,qos:w.qos};n===5&&(S.nl=w.nl,S.rap=w.rap,S.rh=w.rh,S.properties=c),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",S.topic,S.qos),h.push(S);}};if(Array.isArray(e)?e.forEach(y=>{this.log("subscribe: array topic %s",y),d(y);}):Object.keys(e).forEach(y=>{this.log("subscribe: object topic %s, %o",y,e[y]),d(y,e[y]);}),!h.length)return i(null,[]),this;let g=()=>{let y=this._nextId();if(y===null)return this.log("No messageId left"),!1;let w={cmd:"subscribe",subscriptions:h,messageId:y};if(c&&(w.properties=c),this.options.resubscribe){this.log("subscribe :: resubscribe true");let S=[];h.forEach(E=>{if(this.options.reconnectPeriod>0){let I={qos:E.qos};n===5&&(I.nl=E.nl||!1,I.rap=E.rap||!1,I.rh=E.rh||0,I.properties=E.properties),this._resubscribeTopics[E.topic]=I,S.push(E.topic);}}),this.messageIdToTopic[w.messageId]=S;}return this.outgoing[w.messageId]={volatile:!0,cb(S,E){if(!S){let{granted:I}=E;for(let C=0;C<I.length;C+=1)h[C].qos=I[C];}i(S,h,E);}},this.log("subscribe :: call _sendPacket"),this._sendPacket(w),!0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!g())&&this._storeProcessingQueue.push({invoke:g,callback:i}),this}subscribeAsync(e,r){return new Promise((i,n)=>{this.subscribe(e,r,(o,s)=>{o?n(o):i(s);});})}unsubscribe(e,r,i){typeof e=="string"&&(e=[e]),typeof r=="function"&&(i=r),i=i||this.noop;let n=Fp.validateTopics(e);if(n!==null)return Ha(i,new Error(`Invalid topic ${n}`)),this;if(this._checkDisconnecting(i))return this;let o=()=>{let s=this._nextId();if(s===null)return this.log("No messageId left"),!1;let a={cmd:"unsubscribe",messageId:s,unsubscriptions:[]};return typeof e=="string"?a.unsubscriptions=[e]:Array.isArray(e)&&(a.unsubscriptions=e),this.options.resubscribe&&a.unsubscriptions.forEach(l=>{delete this._resubscribeTopics[l];}),typeof r=="object"&&r.properties&&(a.properties=r.properties),this.outgoing[a.messageId]={volatile:!0,cb:i},this.log("unsubscribe: call _sendPacket"),this._sendPacket(a),!0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!o())&&this._storeProcessingQueue.push({invoke:o,callback:i}),this}unsubscribeAsync(e,r){return new Promise((i,n)=>{this.unsubscribe(e,r,(o,s)=>{o?n(o):i(s);});})}end(e,r,i){this.log("end :: (%s)",this.options.clientId),(e==null||typeof e!="boolean")&&(i=i||r,r=e,e=!1),typeof r!="object"&&(i=i||r,r=null),this.log("end :: cb? %s",!!i),(!i||typeof i!="function")&&(i=this.noop);let n=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(s=>{this.outgoingStore.close(a=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),i){let l=s||a;this.log("end :: closeStores: invoking callback with args"),i(l);}});}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1);},o=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,e),this._cleanUp(e,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0, ns.nextTick)(n);},r);};return this.disconnecting?(i(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),o()),this)}endAsync(e,r){return new Promise((i,n)=>{this.end(e,r,o=>{o?n(o):i();});})}removeOutgoingMessage(e){if(this.outgoing[e]){let{cb:r}=this.outgoing[e];this._removeOutgoingAndStoreMessage(e,()=>{r(new Error("Message removed"));});}return this}reconnect(e){this.log("client reconnect");let r=()=>{e?(this.options.incomingStore=e.incomingStore,this.options.outgoingStore=e.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new ii.default,this.outgoingStore=this.options.outgoingStore||new ii.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect();};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(e=>{this.outgoing[e].volatile&&typeof this.outgoing[e].cb=="function"&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e]);}));}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(e=>{typeof this.outgoing[e].cb=="function"&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e]);}));}_removeTopicAliasAndRecoverTopicName(e){let r;e.properties&&(r=e.properties.topicAlias);let i=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",r,i),i.length===0){if(typeof r>"u")return new Error("Unregistered Topic Alias");if(i=this.topicAliasSend.getTopicByAlias(r),typeof i>"u")return new Error("Unregistered Topic Alias");e.topic=i;}r&&delete e.properties.topicAlias;}_checkDisconnecting(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect();}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect());}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect();},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...");}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null);}_cleanUp(e,r,i={}){if(r&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",r)),this.log("_cleanUp :: forced? %s",e),e)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else {let n=Object.assign({cmd:"disconnect"},i);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(n,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),Ha(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId);});});});}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),r&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",r),r());}_storeAndSend(e,r,i){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let n=e,o;if(n.cmd==="publish"&&(n=(0, jp.default)(e),o=this._removeTopicAliasAndRecoverTopicName(n),o))return r&&r(o);this.outgoingStore.put(n,s=>{if(s)return r&&r(s);i(),this._writePacket(e,r);});}_applyTopicAlias(e){if(this.options.protocolVersion===5&&e.cmd==="publish"){let r;e.properties&&(r=e.properties.topicAlias);let i=e.topic.toString();if(this.topicAliasSend)if(r){if(i.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",i,r),!this.topicAliasSend.put(i,r)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}else i.length!==0&&(this.options.autoAssignTopicAlias?(r=this.topicAliasSend.getAliasByTopic(i),r?(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",i,r)):(r=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(i,r),e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",i,r))):this.options.autoUseTopicAlias&&(r=this.topicAliasSend.getAliasByTopic(i),r&&(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",i,r))));else if(r)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}}_noop(e){this.log("noop ::",e);}_writePacket(e,r){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this.log("_writePacket :: writing to stream");let i=$a.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",i),!i&&r&&r!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",r)):r&&(this.log("_writePacket :: invoking cb"),r());}_sendPacket(e,r,i,n){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),i=i||this.noop,r=r||this.noop;let o=this._applyTopicAlias(e);if(o){r(o);return}if(!this.connected){if(e.cmd==="auth"){this._writePacket(e,r);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(e,r,i);return}if(n){this._writePacket(e,r);return}switch(e.cmd){case"publish":break;case"pubrel":this._storeAndSend(e,r,i);return;default:this._writePacket(e,r);return}switch(e.qos){case 2:case 1:this._storeAndSend(e,r,i);break;case 0:default:this._writePacket(e,r);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId);}_storePacket(e,r,i){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!r),i=i||this.noop;let n=e;if(n.cmd==="publish"){n=(0, jp.default)(e);let s=this._removeTopicAliasAndRecoverTopicName(n);if(s)return r&&r(s)}let o=n.qos||0;o===0&&this.queueQoSZero||n.cmd!=="publish"?this.queue.push({packet:n,cb:r}):o>0?(r=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,s=>{if(s)return r&&r(s);i();})):r&&r(new Error("No connection to broker"));}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new eE.default(this,this.options.timerVariant));}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null);}reschedulePing(e=!1){this.keepaliveManager&&this.options.keepalive&&(e||this.options.reschedulePings)&&this._reschedulePing();}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule();}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"});}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0);}_resubscribe(){this.log("_resubscribe");let e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let r=0;r<e.length;r++){let i={};i[e[r]]=this._resubscribeTopics[e[r]],i.resubscribe=!0,this.subscribe(i,{properties:i[e[r]].properties});}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1;}_onConnect(e){if(this.disconnected){this.emit("connect",e);return}this.connackPacket=e,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let r=()=>{let i=this.outgoingStore.createStream(),n=()=>{i.destroy(),i=null,this._flushStoreProcessingQueue(),o();},o=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={};};this.once("close",n),i.on("error",a=>{o(),this._flushStoreProcessingQueue(),this.removeListener("close",n),this.emit("error",a);});let s=()=>{if(!i)return;let a=i.read(1),l;if(!a){i.once("readable",s);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[a.messageId]){s();return}!this.disconnecting&&!this.reconnectTimer?(l=this.outgoing[a.messageId]?this.outgoing[a.messageId].cb:null,this.outgoing[a.messageId]={volatile:!1,cb(c,h){l&&l(c,h),s();}},this._packetIdsDuringStoreProcessing[a.messageId]=!0,this.messageIdProvider.register(a.messageId)?this._sendPacket(a,void 0,void 0,!0):this.log("messageId: %d has already used.",a.messageId)):i.destroy&&i.destroy();};i.on("end",()=>{let a=!0;for(let l in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[l]){a=!1;break}this.removeListener("close",n),a?(o(),this._invokeAllStoreProcessingQueue(),this.emit("connect",e)):r();}),s();};r();}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return !1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0);}_removeOutgoingAndStoreMessage(e,r){delete this.outgoing[e],this.outgoingStore.del({messageId:e},(i,n)=>{r(i,n),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue();});}};ss.VERSION=ns.MQTTJS_VERSION;Qe.default=ss;});var Vp=M(za=>{_();v();m();Object.defineProperty(za,"__esModule",{value:!0});var tE=Ua(),Va=class{constructor(){this.numberAllocator=new tE.NumberAllocator(1,65535);}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(e){return this.numberAllocator.use(e)}deallocate(e){this.numberAllocator.free(e);}clear(){this.numberAllocator.clear();}};za.default=Va;});function Rr(t){throw new RangeError(sE[t])}function zp(t,e){let r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]);let n=function(o,s){let a=[],l=o.length;for(;l--;)a[l]=s(o[l]);return a}((t=t.replace(nE,".")).split("."),e).join(".");return i+n}function Yp(t){let e=[],r=0,i=t.length;for(;r<i;){let n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){let o=t.charCodeAt(r++);(64512&o)==56320?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),r--);}else e.push(n);}return e}var rE,iE,nE,sE,dt,Ka,Kp,Jp,Gp,Qp,Kt,Xp=_e(()=>{_();v();m();rE=/^xn--/,iE=/[^\0-\x7E]/,nE=/[\x2E\u3002\uFF0E\uFF61]/g,sE={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},dt=Math.floor,Ka=String.fromCharCode;Kp=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Jp=function(t,e,r){let i=0;for(t=r?dt(t/700):t>>1,t+=dt(t/e);t>455;i+=36)t=dt(t/35);return dt(i+36*t/(t+38))},Gp=function(t){let e=[],r=t.length,i=0,n=128,o=72,s=t.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)t.charCodeAt(l)>=128&&Rr("not-basic"),e.push(t.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let c=i;for(let d=1,g=36;;g+=36){l>=r&&Rr("invalid-input");let y=(a=t.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(y>=36||y>dt((2147483647-i)/d))&&Rr("overflow"),i+=y*d;let w=g<=o?1:g>=o+26?26:g-o;if(y<w)break;let S=36-w;d>dt(2147483647/S)&&Rr("overflow"),d*=S;}let h=e.length+1;o=Jp(i-c,h,c==0),dt(i/h)>2147483647-n&&Rr("overflow"),n+=dt(i/h),i%=h,e.splice(i++,0,n);}var a;return String.fromCodePoint(...e)},Qp=function(t){let e=[],r=(t=Yp(t)).length,i=128,n=0,o=72;for(let l of t)l<128&&e.push(Ka(l));let s=e.length,a=s;for(s&&e.push("-");a<r;){let l=2147483647;for(let h of t)h>=i&&h<l&&(l=h);let c=a+1;l-i>dt((2147483647-n)/c)&&Rr("overflow"),n+=(l-i)*c,i=l;for(let h of t)if(h<i&&++n>2147483647&&Rr("overflow"),h==i){let d=n;for(let g=36;;g+=36){let y=g<=o?1:g>=o+26?26:g-o;if(d<y)break;let w=d-y,S=36-y;e.push(Ka(Kp(y+w%S,0))),d=dt(w/S);}e.push(Ka(Kp(d,0))),o=Jp(n,c,a==s),n=0,++a;}++n,++i;}return e.join("")},Kt={version:"2.1.0",ucs2:{decode:Yp,encode:t=>String.fromCodePoint(...t)},decode:Gp,encode:Qp,toASCII:function(t){return zp(t,function(e){return iE.test(e)?"xn--"+Qp(e):e})},toUnicode:function(t){return zp(t,function(e){return rE.test(e)?Gp(e.slice(4).toLowerCase()):e})}};Kt.decode;Kt.encode;Kt.toASCII;Kt.toUnicode;Kt.ucs2;Kt.version;});function oE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var aE,Mi,lE,pt,Zp=_e(()=>{_();v();m();aE=function(t,e,r,i){e=e||"&",r=r||"=";var n={};if(typeof t!="string"||t.length===0)return n;var o=/\+/g;t=t.split(e);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var c,h,d,g,y=t[l].replace(o,"%20"),w=y.indexOf(r);w>=0?(c=y.substr(0,w),h=y.substr(w+1)):(c=y,h=""),d=decodeURIComponent(c),g=decodeURIComponent(h),oE(n,d)?Array.isArray(n[d])?n[d].push(g):n[d]=[n[d],g]:n[d]=g;}return n},Mi=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return ""}},lE=function(t,e,r,i){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(n){var o=encodeURIComponent(Mi(n))+r;return Array.isArray(t[n])?t[n].map(function(s){return o+encodeURIComponent(Mi(s))}).join(e):o+encodeURIComponent(Mi(t[n]))}).join(e):i?encodeURIComponent(Mi(i))+r+encodeURIComponent(Mi(t)):""},pt={};pt.decode=pt.parse=aE,pt.encode=pt.stringify=lE;pt.decode;pt.encode;pt.parse;pt.stringify;});function Ga(){throw new Error("setTimeout has not been defined")}function Qa(){throw new Error("clearTimeout has not been defined")}function rg(t){if(Pt===setTimeout)return setTimeout(t,0);if((Pt===Ga||!Pt)&&setTimeout)return Pt=setTimeout,setTimeout(t,0);try{return Pt(t,0)}catch{try{return Pt.call(null,t,0)}catch{return Pt.call(this||si,t,0)}}}function uE(){ni&&Cr&&(ni=!1,Cr.length?Ot=Cr.concat(Ot):as=-1,Ot.length&&ig());}function ig(){if(!ni){var t=rg(uE);ni=!0;for(var e=Ot.length;e;){for(Cr=Ot,Ot=[];++as<e;)Cr&&Cr[as].run();as=-1,e=Ot.length;}Cr=null,ni=!1,function(r){if(kt===clearTimeout)return clearTimeout(r);if((kt===Qa||!kt)&&clearTimeout)return kt=clearTimeout,clearTimeout(r);try{kt(r);}catch{try{return kt.call(null,r)}catch{return kt.call(this||si,r)}}}(t);}}function eg(t,e){(this||si).fun=t,(this||si).array=e;}function Bt(){}var tg,Pt,kt,si,fe,Cr,Ot,ni,as,ne,ng=_e(()=>{_();v();m();si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:__webpack_require__.g,fe=tg={};(function(){try{Pt=typeof setTimeout=="function"?setTimeout:Ga;}catch{Pt=Ga;}try{kt=typeof clearTimeout=="function"?clearTimeout:Qa;}catch{kt=Qa;}})();Ot=[],ni=!1,as=-1;fe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ot.push(new eg(t,e)),Ot.length!==1||ni||rg(ig);},eg.prototype.run=function(){(this||si).fun.apply(null,(this||si).array);},fe.title="browser",fe.browser=!0,fe.env={},fe.argv=[],fe.version="",fe.versions={},fe.on=Bt,fe.addListener=Bt,fe.once=Bt,fe.off=Bt,fe.removeListener=Bt,fe.removeAllListeners=Bt,fe.emit=Bt,fe.prependListener=Bt,fe.prependOnceListener=Bt,fe.listeners=function(t){return []},fe.binding=function(t){throw new Error("process.binding is not supported")},fe.cwd=function(){return "/"},fe.chdir=function(t){throw new Error("process.chdir is not supported")},fe.umask=function(){return 0};ne=tg;ne.addListener;ne.argv;ne.binding;ne.browser;ne.chdir;ne.cwd;ne.emit;ne.env;ne.listeners;ne.nextTick;ne.off;ne.on;ne.once;ne.prependListener;ne.prependOnceListener;ne.removeAllListeners;ne.removeListener;ne.title;ne.umask;ne.version;ne.versions;});function fE(){if(sg)return Ya;sg=!0;var t=Ya={},e,r;function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i;}catch{e=i;}try{typeof clearTimeout=="function"?r=clearTimeout:r=n;}catch{r=n;}})();function o(S){if(e===setTimeout)return setTimeout(S,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(S,0);try{return e(S,0)}catch{try{return e.call(null,S,0)}catch{return e.call(this||oi,S,0)}}}function s(S){if(r===clearTimeout)return clearTimeout(S);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(S);try{return r(S)}catch{try{return r.call(null,S)}catch{return r.call(this||oi,S)}}}var a=[],l=!1,c,h=-1;function d(){!l||!c||(l=!1,c.length?a=c.concat(a):h=-1,a.length&&g());}function g(){if(!l){var S=o(d);l=!0;for(var E=a.length;E;){for(c=a,a=[];++h<E;)c&&c[h].run();h=-1,E=a.length;}c=null,l=!1,s(S);}}t.nextTick=function(S){var E=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)E[I-1]=arguments[I];a.push(new y(S,E)),a.length===1&&!l&&o(g);};function y(S,E){(this||oi).fun=S,(this||oi).array=E;}y.prototype.run=function(){(this||oi).fun.apply(null,(this||oi).array);},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function w(){}return t.on=w,t.addListener=w,t.once=w,t.off=w,t.removeListener=w,t.removeAllListeners=w,t.emit=w,t.prependListener=w,t.prependOnceListener=w,t.listeners=function(S){return []},t.binding=function(S){throw new Error("process.binding is not supported")},t.cwd=function(){return "/"},t.chdir=function(S){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Ya}var Ya,sg,oi,re,Ja=_e(()=>{_();v();m();Ya={},sg=!1,oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:__webpack_require__.g;re=fE();re.platform="browser";re.addListener;re.argv;re.binding;re.browser;re.chdir;re.cwd;re.emit;re.env;re.listeners;re.nextTick;re.off;re.on;re.once;re.prependListener;re.prependOnceListener;re.removeAllListeners;re.removeListener;re.title;re.umask;re.version;re.versions;});function cE(){if(og)return Xa;og=!0;var t=re;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,c=-1,h=0,d,g=0;g<=o.length;++g){if(g<o.length)d=o.charCodeAt(g);else {if(d===47)break;d=47;}if(d===47){if(!(c===g-1||h===1))if(c!==g-1&&h===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",l=0):(a=a.slice(0,y),l=a.length-1-a.lastIndexOf("/")),c=g,h=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=g,h=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2);}else a.length>0?a+="/"+o.slice(c+1,g):a=o.slice(c+1,g),l=g-c-1;c=g,h=0;}else d===46&&h!==-1?++h:h=-1;}return a}function i(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var n={resolve:function(){for(var s="",a=!1,l,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(l===void 0&&(l=t.cwd()),h=l),e(h),h.length!==0&&(s=h+"/"+s,a=h.charCodeAt(0)===47);}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return ".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];e(l),l.length>0&&(s===void 0?s=l:s+="/"+l);}return s===void 0?".":n.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=n.resolve(s),a=n.resolve(a),s===a))return "";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var c=s.length,h=c-l,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var g=a.length,y=g-d,w=h<y?h:y,S=-1,E=0;E<=w;++E){if(E===w){if(y>w){if(a.charCodeAt(d+E)===47)return a.slice(d+E+1);if(E===0)return a.slice(d+E)}else h>w&&(s.charCodeAt(l+E)===47?S=E:E===0&&(S=0));break}var I=s.charCodeAt(l+E),C=a.charCodeAt(d+E);if(I!==C)break;I===47&&(S=E);}var R="";for(E=l+S+1;E<=c;++E)(E===c||s.charCodeAt(E)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+a.slice(d+S):(d+=S,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return ".";for(var a=s.charCodeAt(0),l=a===47,c=-1,h=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?l?"/":".":l&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var l=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return "";var g=a.length-1,y=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!h){l=d+1;break}}else y===-1&&(h=!1,y=d+1),g>=0&&(w===a.charCodeAt(g)?--g===-1&&(c=d):(g=-1,c=y));}return l===c?c=y:c===-1&&(c=s.length),s.slice(l,c)}else {for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!h){l=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":s.slice(l,c)}},extname:function(s){e(s);for(var a=-1,l=0,c=-1,h=!0,d=0,g=s.length-1;g>=0;--g){var y=s.charCodeAt(g);if(y===47){if(!h){l=g+1;break}continue}c===-1&&(h=!1,c=g+1),y===46?a===-1?a=g:d!==1&&(d=1):a!==-1&&(d=-1);}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return i("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),c=l===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,g=0,y=-1,w=!0,S=s.length-1,E=0;S>=h;--S){if(l=s.charCodeAt(S),l===47){if(!w){g=S+1;break}continue}y===-1&&(w=!1,y=S+1),l===46?d===-1?d=S:E!==1&&(E=1):d!==-1&&(E=-1);}return d===-1||y===-1||E===0||E===1&&d===y-1&&d===g+1?y!==-1&&(g===0&&c?a.base=a.name=s.slice(1,y):a.base=a.name=s.slice(g,y)):(g===0&&c?(a.name=s.slice(1,d),a.base=s.slice(1,y)):(a.name=s.slice(g,d),a.base=s.slice(g,y)),a.ext=s.slice(d,y)),g>0?a.dir=s.slice(0,g-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Xa=n,Xa}var Xa,og,Za,ag=_e(()=>{_();v();m();Ja();Xa={},og=!1;Za=cE();});var gg={};Jt(gg,{URL:()=>FE,Url:()=>UE,default:()=>Z,fileURLToPath:()=>dg,format:()=>NE,parse:()=>jE,pathToFileURL:()=>pg,resolve:()=>qE,resolveObject:()=>DE});function Fe(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null;}function Li(t,e,r){if(t&&gt.isObject(t)&&t instanceof Fe)return t;var i=new Fe;return i.parse(t,e,r),i}function _E(){if(cg)return rl;cg=!0;var t=ne;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,c=-1,h=0,d,g=0;g<=o.length;++g){if(g<o.length)d=o.charCodeAt(g);else {if(d===47)break;d=47;}if(d===47){if(!(c===g-1||h===1))if(c!==g-1&&h===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",l=0):(a=a.slice(0,y),l=a.length-1-a.lastIndexOf("/")),c=g,h=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=g,h=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2);}else a.length>0?a+="/"+o.slice(c+1,g):a=o.slice(c+1,g),l=g-c-1;c=g,h=0;}else d===46&&h!==-1?++h:h=-1;}return a}function i(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var n={resolve:function(){for(var s="",a=!1,l,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(l===void 0&&(l=t.cwd()),h=l),e(h),h.length!==0&&(s=h+"/"+s,a=h.charCodeAt(0)===47);}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return ".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];e(l),l.length>0&&(s===void 0?s=l:s+="/"+l);}return s===void 0?".":n.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=n.resolve(s),a=n.resolve(a),s===a))return "";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var c=s.length,h=c-l,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var g=a.length,y=g-d,w=h<y?h:y,S=-1,E=0;E<=w;++E){if(E===w){if(y>w){if(a.charCodeAt(d+E)===47)return a.slice(d+E+1);if(E===0)return a.slice(d+E)}else h>w&&(s.charCodeAt(l+E)===47?S=E:E===0&&(S=0));break}var I=s.charCodeAt(l+E),C=a.charCodeAt(d+E);if(I!==C)break;I===47&&(S=E);}var R="";for(E=l+S+1;E<=c;++E)(E===c||s.charCodeAt(E)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+a.slice(d+S):(d+=S,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return ".";for(var a=s.charCodeAt(0),l=a===47,c=-1,h=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?l?"/":".":l&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var l=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return "";var g=a.length-1,y=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!h){l=d+1;break}}else y===-1&&(h=!1,y=d+1),g>=0&&(w===a.charCodeAt(g)?--g===-1&&(c=d):(g=-1,c=y));}return l===c?c=y:c===-1&&(c=s.length),s.slice(l,c)}else {for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!h){l=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":s.slice(l,c)}},extname:function(s){e(s);for(var a=-1,l=0,c=-1,h=!0,d=0,g=s.length-1;g>=0;--g){var y=s.charCodeAt(g);if(y===47){if(!h){l=g+1;break}continue}c===-1&&(h=!1,c=g+1),y===46?a===-1?a=g:d!==1&&(d=1):a!==-1&&(d=-1);}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return i("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),c=l===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,g=0,y=-1,w=!0,S=s.length-1,E=0;S>=h;--S){if(l=s.charCodeAt(S),l===47){if(!w){g=S+1;break}continue}y===-1&&(w=!1,y=S+1),l===46?d===-1?d=S:E!==1&&(E=1):d!==-1&&(E=-1);}return d===-1||y===-1||E===0||E===1&&d===y-1&&d===g+1?y!==-1&&(g===0&&c?a.base=a.name=s.slice(1,y):a.base=a.name=s.slice(g,y)):(g===0&&c?(a.name=s.slice(1,d),a.base=s.slice(1,y)):(a.name=s.slice(g,d),a.base=s.slice(g,y)),a.ext=s.slice(d,y)),g>0?a.dir=s.slice(0,g-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,rl=n,rl}function kE(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return nl?OE(t):xE(t)}function OE(t){let e=t.hostname,r=t.pathname;for(let i=0;i<r.length;i++)if(r[i]==="%"){let n=r.codePointAt(i+2)||32;if(r[i+1]==="2"&&n===102||r[i+1]==="5"&&n===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(IE,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let i=r.codePointAt(1)|32,n=r[2];if(i<SE||i>AE||n!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function xE(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function ME(t){let e=hg.resolve(t),r=t.charCodeAt(t.length-1);(r===EE||nl&&r===vE)&&e[e.length-1]!==hg.sep&&(e+="/");let i=new URL("file://");return e.includes("%")&&(e=e.replace(TE,"%25")),!nl&&e.includes("\\")&&(e=e.replace(RE,"%5C")),e.includes(`
`)&&(e=e.replace(CE,"%0A")),e.includes("\r")&&(e=e.replace(BE,"%0D")),e.includes("	")&&(e=e.replace(PE,"%09")),i.pathname=e,i}function dg(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return sl?XE(t):ZE(t)}function XE(t){let e=t.hostname,r=t.pathname;for(let i=0;i<r.length;i++)if(r[i]==="%"){let n=r.codePointAt(i+2)||32;if(r[i+1]==="2"&&n===102||r[i+1]==="5"&&n===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(zE,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let i=r.codePointAt(1)|32,n=r[2];if(i<HE||i>VE||n!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function ZE(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function pg(t){let e=Za.resolve(t),r=t.charCodeAt(t.length-1);(r===$E||sl&&r===WE)&&e[e.length-1]!==Za.sep&&(e+="/");let i=new URL("file://");return e.includes("%")&&(e=e.replace(KE,"%25")),!sl&&e.includes("\\")&&(e=e.replace(GE,"%5C")),e.includes(`
`)&&(e=e.replace(QE,"%0A")),e.includes("\r")&&(e=e.replace(YE,"%0D")),e.includes("	")&&(e=e.replace(JE,"%09")),i.pathname=e,i}var Z,hE,gt,dE,pE,gE,yE,il,lg,ug,fg,bE,wE,el,ai,tl,rl,cg,hg,mE,vE,EE,SE,AE,nl,IE,TE,RE,CE,BE,PE,LE,UE,NE,qE,DE,jE,FE,WE,$E,HE,VE,sl,zE,KE,GE,QE,YE,JE,yg=_e(()=>{_();v();m();Xp();Zp();ng();ag();Ja();Z={},hE=Kt,gt={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}};Z.parse=Li,Z.resolve=function(t,e){return Li(t,!1,!0).resolve(e)},Z.resolveObject=function(t,e){return t?Li(t,!1,!0).resolveObject(e):e},Z.format=function(t){return gt.isString(t)&&(t=Li(t)),t instanceof Fe?t.format():Fe.prototype.format.call(t)},Z.Url=Fe;dE=/^([a-z0-9.+-]+:)/i,pE=/:[0-9]*$/,gE=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,yE=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),il=["'"].concat(yE),lg=["%","/","?",";","#"].concat(il),ug=["/","?","#"],fg=/^[+a-z0-9A-Z_-]{0,63}$/,bE=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,wE={javascript:!0,"javascript:":!0},el={javascript:!0,"javascript:":!0},ai={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},tl=pt;Fe.prototype.parse=function(t,e,r){if(!gt.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!r&&t.split("#").length===1){var a=gE.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?tl.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=dE.exec(s);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,s=s.substr(l.length);}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=s.substr(0,2)==="//";!h||l&&el[l]||(s=s.substr(2),this.slashes=!0);}if(!el[l]&&(h||l&&!ai[l])){for(var d,g,y=-1,w=0;w<ug.length;w++)(S=s.indexOf(ug[w]))!==-1&&(y===-1||S<y)&&(y=S);for((g=y===-1?s.lastIndexOf("@"):s.lastIndexOf("@",y))!==-1&&(d=s.slice(0,g),s=s.slice(g+1),this.auth=decodeURIComponent(d)),y=-1,w=0;w<lg.length;w++){var S;(S=s.indexOf(lg[w]))!==-1&&(y===-1||S<y)&&(y=S);}y===-1&&(y=s.length),this.host=s.slice(0,y),s=s.slice(y),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var I=this.hostname.split(/\./),C=(w=0,I.length);w<C;w++){var R=I[w];if(R&&!R.match(fg)){for(var U="",N=0,W=R.length;N<W;N++)R.charCodeAt(N)>127?U+="x":U+=R[N];if(!U.match(fg)){var K=I.slice(0,w),z=I.slice(w+1),Q=R.match(bE);Q&&(K.push(Q[1]),z.unshift(Q[2])),z.length&&(s="/"+z.join(".")+s),this.hostname=K.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=hE.toASCII(this.hostname));var pe=this.port?":"+this.port:"",Yt=this.hostname||"";this.host=Yt+pe,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s));}if(!wE[c])for(w=0,C=il.length;w<C;w++){var ge=il[w];if(s.indexOf(ge)!==-1){var Pr=encodeURIComponent(ge);Pr===ge&&(Pr=escape(ge)),s=s.split(ge).join(Pr);}}var kr=s.indexOf("#");kr!==-1&&(this.hash=s.substr(kr),s=s.slice(0,kr));var Or=s.indexOf("?");if(Or!==-1?(this.search=s.substr(Or),this.query=s.substr(Or+1),e&&(this.query=tl.parse(this.query)),s=s.slice(0,Or)):e&&(this.search="",this.query={}),s&&(this.pathname=s),ai[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){pe=this.pathname||"";var hs=this.search||"";this.path=pe+hs;}return this.href=this.format(),this},Fe.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&gt.isObject(this.query)&&Object.keys(this.query).length&&(o=tl.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ai[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),s&&s.charAt(0)!=="?"&&(s="?"+s),e+n+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},Fe.prototype.resolve=function(t){return this.resolveObject(Li(t,!1,!0)).format()},Fe.prototype.resolveObject=function(t){if(gt.isString(t)){var e=new Fe;e.parse(t,!1,!0),t=e;}for(var r=new Fe,i=Object.keys(this),n=0;n<i.length;n++){var o=i[n];r[o]=this[o];}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=t[l]);}return ai[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ai[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var d=c[h];r[d]=t[d];}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||el[t.protocol])r.pathname=t.pathname;else {for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/");}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",w=r.search||"";r.path=y+w;}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var S=r.pathname&&r.pathname.charAt(0)==="/",E=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=E||S||r.host&&t.pathname,C=I,R=r.pathname&&r.pathname.split("/")||[],U=(g=t.pathname&&t.pathname.split("/")||[],r.protocol&&!ai[r.protocol]);if(U&&(r.hostname="",r.port=null,r.host&&(R[0]===""?R[0]=r.host:R.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),I=I&&(g[0]===""||R[0]==="")),E)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,R=g;else if(g.length)R||(R=[]),R.pop(),R=R.concat(g),r.search=t.search,r.query=t.query;else if(!gt.isNullOrUndefined(t.search))return U&&(r.hostname=r.host=R.shift(),(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),r.search=t.search,r.query=t.query,gt.isNull(r.pathname)&&gt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!R.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=R.slice(-1)[0],W=(r.host||t.host||R.length>1)&&(N==="."||N==="..")||N==="",K=0,z=R.length;z>=0;z--)(N=R[z])==="."?R.splice(z,1):N===".."?(R.splice(z,1),K++):K&&(R.splice(z,1),K--);if(!I&&!C)for(;K--;K)R.unshift("..");!I||R[0]===""||R[0]&&R[0].charAt(0)==="/"||R.unshift(""),W&&R.join("/").substr(-1)!=="/"&&R.push("");var Q,pe=R[0]===""||R[0]&&R[0].charAt(0)==="/";return U&&(r.hostname=r.host=pe?"":R.length?R.shift():"",(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),(I=I||r.host&&R.length)&&!pe&&R.unshift(""),R.length?r.pathname=R.join("/"):(r.pathname=null,r.path=null),gt.isNull(r.pathname)&&gt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Fe.prototype.parseHost=function(){var t=this.host,e=pE.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t);};Z.Url;Z.format;Z.resolve;Z.resolveObject;rl={},cg=!1;hg=_E(),mE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Z.URL=typeof URL<"u"?URL:null;Z.pathToFileURL=ME;Z.fileURLToPath=kE;Z.Url;Z.format;Z.resolve;Z.resolveObject;Z.URL;vE=92,EE=47,SE=97,AE=122,nl=mE==="win32",IE=/\//g,TE=/%/g,RE=/\\/g,CE=/\n/g,BE=/\r/g,PE=/\t/g;LE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Z.URL=typeof URL<"u"?URL:null;Z.pathToFileURL=pg;Z.fileURLToPath=dg;UE=Z.Url,NE=Z.format,qE=Z.resolve,DE=Z.resolveObject,jE=Z.parse,FE=Z.URL,WE=92,$E=47,HE=97,VE=122,sl=LE==="win32",zE=/\//g,KE=/%/g,GE=/\\/g,QE=/\n/g,YE=/\r/g,JE=/\t/g;});var wg=M((m8,bg)=>{_();v();m();bg.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};});var ls=M(li=>{_();v();m();Object.defineProperty(li,"__esModule",{value:!0});li.BufferedDuplex=li.writev=void 0;var eS=jt(),_g=(be(),X(me));function mg(t,e){let r=new Array(t.length);for(let i=0;i<t.length;i++)typeof t[i].chunk=="string"?r[i]=_g.Buffer.from(t[i].chunk,"utf8"):r[i]=t[i].chunk;this._write(_g.Buffer.concat(r),"binary",e);}li.writev=mg;var ol=class extends eS.Duplex{constructor(e,r,i){super({objectMode:!0}),this.proxy=r,this.socket=i,this.writeQueue=[],e.objectMode||(this._writev=mg.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",n=>{this.destroyed||this.push(n);});}_read(e){this.proxy.read(e);}_write(e,r,i){this.isSocketOpen?this.writeToProxy(e,r,i):this.writeQueue.push({chunk:e,encoding:r,cb:i});}_final(e){this.writeQueue=[],this.proxy.end(e);}_destroy(e,r){this.writeQueue=[],this.proxy.destroy(),r(e);}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue();}writeToProxy(e,r,i){this.proxy.write(e,r)===!1?this.proxy.once("drain",i):i();}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:r,cb:i}=this.writeQueue.shift();this.writeToProxy(e,r,i);}}};li.BufferedDuplex=ol;});var Ui=M(Qt=>{_();v();m();var ll=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.streamBuilder=Qt.browserStreamBuilder=void 0;var us=(be(),X(me)),vg=ll(wg()),tS=ll(ot()),rS=jt(),iS=ll(Oi()),al=ls(),Gt=(0, tS.default)("mqttjs:ws"),nS=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function Eg(t,e){let r=`${t.protocol}://${t.hostname}:${t.port}${t.path}`;return typeof t.transformWsUrl=="function"&&(r=t.transformWsUrl(r,t,e)),r}function Sg(t){let e=t;return t.port||(t.protocol==="wss"?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),!iS.default&&!t.forceNativeWebSocket&&t.protocol==="wss"&&nS.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r]);}),e}function sS(t){let e=Sg(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let r=new URL(document.URL);e.hostname=r.hostname,e.port||(e.port=Number(r.port));}return e.objectMode===void 0&&(e.objectMode=!(e.binary===!0||e.binary===void 0)),e}function oS(t,e,r){Gt("createWebSocket"),Gt(`protocol: ${r.protocolId} ${r.protocolVersion}`);let i=r.protocolId==="MQIsdp"&&r.protocolVersion===3?"mqttv3.1":"mqtt";Gt(`creating new Websocket for url: ${e} and protocol: ${i}`);let n;return r.createWebsocket?n=r.createWebsocket(e,[i],r):n=new vg.default(e,[i],r.wsOptions),n}function aS(t,e){let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt",i=Eg(e,t),n;return e.createWebsocket?n=e.createWebsocket(i,[r],e):n=new WebSocket(i,[r]),n.binaryType="arraybuffer",n}var lS=(t,e)=>{Gt("streamBuilder");let r=Sg(e);r.hostname=r.hostname||r.host||"localhost";let i=Eg(r,t),n=oS(t,i,r),o=vg.default.createWebSocketStream(n,r.wsOptions);return o.url=i,n.on("close",()=>{o.destroy();}),o};Qt.streamBuilder=lS;var uS=(t,e)=>{Gt("browserStreamBuilder");let r,n=sS(e).browserBufferSize||1024*512,o=e.browserBufferTimeout||1e3,s=!e.objectMode,a=aS(t,e),l=h(e,S,E);e.objectMode||(l._writev=al.writev.bind(l)),l.on("close",()=>{a.close();});let c=typeof a.addEventListener<"u";a.readyState===a.OPEN?(r=l,r.socket=a):(r=new al.BufferedDuplex(e,l,a),c?a.addEventListener("open",d):a.onopen=d),c?(a.addEventListener("close",g),a.addEventListener("error",y),a.addEventListener("message",w)):(a.onclose=g,a.onerror=y,a.onmessage=w);function h(I,C,R){let U=new rS.Transform({objectMode:I.objectMode});return U._write=C,U._flush=R,U}function d(){Gt("WebSocket onOpen"),r instanceof al.BufferedDuplex&&r.socketReady();}function g(I){Gt("WebSocket onClose",I),r.end(),r.destroy();}function y(I){Gt("WebSocket onError",I);let C=new Error("WebSocket error");C.event=I,r.destroy(C);}async function w(I){let{data:C}=I;C instanceof ArrayBuffer?C=us.Buffer.from(C):C instanceof Blob?C=us.Buffer.from(await new Response(C).arrayBuffer()):C=us.Buffer.from(C,"utf8"),l&&!l.destroyed&&l.push(C);}function S(I,C,R){if(a.bufferedAmount>n){setTimeout(S,o,I,C,R);return}s&&typeof I=="string"&&(I=us.Buffer.from(I,"utf8"));try{a.send(I);}catch(U){return R(U)}R();}function E(I){a.close(),I();}return r};Qt.browserStreamBuilder=uS;});var ul={};Jt(ul,{Server:()=>Me,Socket:()=>Me,Stream:()=>Me,_createServerHandle:()=>Me,_normalizeArgs:()=>Me,_setSimultaneousAccepts:()=>Me,connect:()=>Me,createConnection:()=>Me,createServer:()=>Me,default:()=>fS,isIP:()=>Me,isIPv4:()=>Me,isIPv6:()=>Me});function Me(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var fS,fl=_e(()=>{_();v();m();fS={_createServerHandle:Me,_normalizeArgs:Me,_setSimultaneousAccepts:Me,connect:Me,createConnection:Me,createServer:Me,isIP:Me,isIPv4:Me,isIPv6:Me,Server:Me,Socket:Me,Stream:Me};});var cl=M(Ni=>{_();v();m();var Ag=Ni&&Ni.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});var cS=Ag((fl(),X(ul))),hS=Ag(ot()),dS=(0, hS.default)("mqttjs:tcp"),pS=(t,e)=>{e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";let{port:r,path:i}=e,n=e.hostname;return dS("port %d and host %s",r,n),cS.default.createConnection({port:r,host:n,path:i})};Ni.default=pS;});var Ig={};Jt(Ig,{default:()=>gS});var gS,Tg=_e(()=>{_();v();m();gS={};});var dl=M(qi=>{_();v();m();var hl=qi&&qi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});var yS=hl((Tg(),X(Ig))),bS=hl((fl(),X(ul))),wS=hl(ot()),_S=(0, wS.default)("mqttjs:tls"),mS=(t,e)=>{e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",bS.default.isIP(e.host)===0&&(e.servername=e.host),e.rejectUnauthorized=e.rejectUnauthorized!==!1,delete e.path,_S("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);let r=yS.default.connect(e);r.on("secureConnect",()=>{e.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",i);});function i(n){e.rejectUnauthorized&&t.emit("error",n),r.end();}return r.on("error",i),r};qi.default=mS;});var yl=M(gl=>{_();v();m();Object.defineProperty(gl,"__esModule",{value:!0});var Rg=(be(),X(me)),vS=jt(),ES=ls(),yt,pl,Le;function SS(){let t=new vS.Transform;return t._write=(e,r,i)=>{yt.send({data:e.buffer,success(){i();},fail(n){i(new Error(n));}});},t._flush=e=>{yt.close({success(){e();}});},t}function AS(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={});}function IS(t,e){let r=t.protocol==="wxs"?"wss":"ws",i=`${r}://${t.hostname}${t.path}`;return t.port&&t.port!==80&&t.port!==443&&(i=`${r}://${t.hostname}:${t.port}${t.path}`),typeof t.transformWsUrl=="function"&&(i=t.transformWsUrl(i,t,e)),i}function TS(){yt.onOpen(()=>{Le.socketReady();}),yt.onMessage(t=>{let{data:e}=t;e instanceof ArrayBuffer?e=Rg.Buffer.from(e):e=Rg.Buffer.from(e,"utf8"),pl.push(e);}),yt.onClose(()=>{Le.emit("close"),Le.end(),Le.destroy();}),yt.onError(t=>{let e=new Error(t.errMsg);Le.destroy(e);});}var RS=(t,e)=>{if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt";AS(e);let i=IS(e,t);yt=wx.connectSocket({url:i,protocols:[r]}),pl=SS(),Le=new ES.BufferedDuplex(e,pl,yt),Le._destroy=(o,s)=>{yt.close({success(){s&&s(o);}});};let n=Le.destroy;return Le.destroy=(o,s)=>(Le.destroy=n,setTimeout(()=>{yt.close({fail(){Le._destroy(o,s);}});},0),Le),TS(),Le};gl.default=RS;});var _l=M(wl=>{_();v();m();Object.defineProperty(wl,"__esModule",{value:!0});var bl=(be(),X(me)),CS=jt(),BS=ls(),xt,fs,ui,Cg=!1;function PS(){let t=new CS.Transform;return t._write=(e,r,i)=>{xt.sendSocketMessage({data:e.buffer,success(){i();},fail(){i(new Error);}});},t._flush=e=>{xt.closeSocket({success(){e();}});},t}function kS(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={});}function OS(t,e){let r=t.protocol==="alis"?"wss":"ws",i=`${r}://${t.hostname}${t.path}`;return t.port&&t.port!==80&&t.port!==443&&(i=`${r}://${t.hostname}:${t.port}${t.path}`),typeof t.transformWsUrl=="function"&&(i=t.transformWsUrl(i,t,e)),i}function xS(){Cg||(Cg=!0,xt.onSocketOpen(()=>{ui.socketReady();}),xt.onSocketMessage(t=>{if(typeof t.data=="string"){let e=bl.Buffer.from(t.data,"base64");fs.push(e);}else {let e=new FileReader;e.addEventListener("load",()=>{let r=e.result;r instanceof ArrayBuffer?r=bl.Buffer.from(r):r=bl.Buffer.from(r,"utf8"),fs.push(r);}),e.readAsArrayBuffer(t.data);}}),xt.onSocketClose(()=>{ui.end(),ui.destroy();}),xt.onSocketError(t=>{ui.destroy(t);}));}var MS=(t,e)=>{if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt";kS(e);let i=OS(e,t);return xt=e.my,xt.connectSocket({url:i,protocols:r}),fs=PS(),ui=new BS.BufferedDuplex(e,fs,xt),xS(),ui};wl.default=MS;});var kg=M(Br=>{_();v();m();var cs=Br&&Br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});Br.connectAsync=void 0;var LS=cs(ot()),US=cs((yg(),X(gg))),NS=cs(os()),qS=cs(Oi());typeof(B===null||B===void 0?void 0:B.nextTick)!="function"&&(B.nextTick=setImmediate);var Bg=(0, LS.default)("mqttjs"),de=null;function DS(t){let e;t.auth&&(e=t.auth.match(/^(.+):(.+)$/),e?(t.username=e[1],t.password=e[2]):t.username=t.auth);}function Pg(t,e){var r,i,n,o;if(Bg("connecting to an MQTT broker..."),typeof t=="object"&&!e&&(e=t,t=""),e=e||{},t&&typeof t=="string"){let l=US.default.parse(t,!0),c={};if(l.port!=null&&(c.port=Number(l.port)),c.host=l.hostname,c.query=l.query,c.auth=l.auth,c.protocol=l.protocol,c.path=l.path,c.protocol=(r=c.protocol)===null||r===void 0?void 0:r.replace(/:$/,""),e=Object.assign(Object.assign({},c),e),!e.protocol)throw new Error("Missing protocol")}if(e.unixSocket=e.unixSocket||((i=e.protocol)===null||i===void 0?void 0:i.includes("+unix")),e.unixSocket?e.protocol=e.protocol.replace("+unix",""):!(!((n=e.protocol)===null||n===void 0)&&n.startsWith("ws"))&&!(!((o=e.protocol)===null||o===void 0)&&o.startsWith("wx"))&&delete e.path,DS(e),e.query&&typeof e.query.clientId=="string"&&(e.clientId=e.query.clientId),e.cert&&e.key)if(e.protocol){if(["mqtts","wss","wxs","alis"].indexOf(e.protocol)===-1)switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${e.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(de||(de={},!qS.default&&!e.forceNativeWebSocket?(de.ws=Ui().streamBuilder,de.wss=Ui().streamBuilder,de.mqtt=cl().default,de.tcp=cl().default,de.ssl=dl().default,de.tls=de.ssl,de.mqtts=dl().default):(de.ws=Ui().browserStreamBuilder,de.wss=Ui().browserStreamBuilder,de.wx=yl().default,de.wxs=yl().default,de.ali=_l().default,de.alis=_l().default)),!de[e.protocol]){let l=["mqtts","wss"].indexOf(e.protocol)!==-1;e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((c,h)=>l&&h%2===0?!1:typeof de[c]=="function")[0];}if(e.clean===!1&&!e.clientId)throw new Error("Missing clientId for unclean clients");e.protocol&&(e.defaultProtocol=e.protocol);function s(l){return e.servers&&((!l._reconnectCount||l._reconnectCount===e.servers.length)&&(l._reconnectCount=0),e.host=e.servers[l._reconnectCount].host,e.port=e.servers[l._reconnectCount].port,e.protocol=e.servers[l._reconnectCount].protocol?e.servers[l._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,l._reconnectCount++),Bg("calling streambuilder for",e.protocol),de[e.protocol](l,e)}let a=new NS.default(s,e);return a.on("error",()=>{}),a}function jS(t,e,r=!0){return new Promise((i,n)=>{let o=Pg(t,e),s={connect:l=>{a(),i(o);},end:()=>{a(),i(o);},error:l=>{a(),o.end(),n(l);}};r===!1&&(s.close=()=>{s.error(new Error("Couldn't connect to server"));});function a(){Object.keys(s).forEach(l=>{o.off(l,s[l]);});}Object.keys(s).forEach(l=>{o.on(l,s[l]);});})}Br.connectAsync=jS;Br.default=Pg;});var ml=M(G=>{_();v();m();var Og=G&&G.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),FS=G&&G.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),WS=G&&G.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Og(e,t,r);return FS(e,t),e},xg=G&&G.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Og(e,t,r);},Di=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G,"__esModule",{value:!0});G.ReasonCodes=G.KeepaliveManager=G.UniqueMessageIdProvider=G.DefaultMessageIdProvider=G.Store=G.MqttClient=G.connectAsync=G.connect=G.Client=void 0;var Mg=Di(os());G.MqttClient=Mg.default;var $S=Di(Zo());G.DefaultMessageIdProvider=$S.default;var HS=Di(Vp());G.UniqueMessageIdProvider=HS.default;var VS=Di(ra());G.Store=VS.default;var Lg=WS(kg());G.connect=Lg.default;Object.defineProperty(G,"connectAsync",{enumerable:!0,get:function(){return Lg.connectAsync}});var zS=Di(Wa());G.KeepaliveManager=zS.default;G.Client=Mg.default;xg(os(),G);xg(_r(),G);var KS=Ti();Object.defineProperty(G,"ReasonCodes",{enumerable:!0,get:function(){return KS.ReasonCodes}});});var XS=M(We=>{_();v();m();var Ug=We&&We.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),GS=We&&We.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),QS=We&&We.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ug(e,t,r);return GS(e,t),e},YS=We&&We.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ug(e,t,r);};Object.defineProperty(We,"__esModule",{value:!0});var JS=QS(ml());We.default=JS;YS(ml(),We);});var mqtt = XS();
/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/

class CloudInteropAPIError extends Error {
    code;
    constructor(message = 'An unexpected error has occurred', code = 'UNEXPECTED_ERROR', cause) {
        super(message, { cause: cause });
        this.name = this.constructor.name;
        this.code = code;
    }
}
class AuthorizationError extends CloudInteropAPIError {
    constructor(message = 'Not authorized', code = 'ERR_UNAUTHORIZED') {
        super(message, code, undefined);
    }
}

// Error codes as defined in https://docs.emqx.com/en/cloud/latest/connect_to_deployments/mqtt_client_error_codes.html
const BadUserNamePasswordError = 134;
/**
 * Represents a single connection to a Cloud Interop service
 *
 * @export
 * @class CloudInteropAPI
 * @implements {Client}
 */
class CloudInteropAPI {
    #cloudInteropSettings;
    #sessionDetails;
    #mqttClient;
    #reconnectRetryLimit = 30;
    #keepAliveIntervalSeconds = 30;
    #logger = (level, message) => {
        console[level](message);
    };
    #reconnectRetries = 0;
    #connectionParams;
    #eventListeners = new Map();
    #attemptingToReconnect = false;
    constructor(cloudInteropSettings) {
        this.#cloudInteropSettings = cloudInteropSettings;
    }
    get sessionDetails() {
        return this.#sessionDetails;
    }
    get mqttClient() {
        return this.#mqttClient;
    }
    /**
     * Connects and creates a session on the Cloud Interop service
     *
     * @param {ConnectParameters} parameters - The parameters to use to connect
     * @return {*}  {Promise<void>}
     * @memberof CloudInteropAPI
     * @throws {CloudInteropAPIError} - If an error occurs during connection
     * @throws {AuthorizationError} - If the connection is unauthorized
     */
    async connect(parameters) {
        this.#validateConnectParams(parameters);
        this.#connectionParams = parameters;
        this.#reconnectRetryLimit = parameters.reconnectRetryLimit || this.#reconnectRetryLimit;
        this.#keepAliveIntervalSeconds = parameters.keepAliveIntervalSeconds || this.#keepAliveIntervalSeconds;
        this.#logger = parameters.logger || this.#logger;
        const { sourceId, platformId } = this.#connectionParams;
        try {
            const createSessionResponse = await axios.post(`${this.#cloudInteropSettings.url}/api/sessions`, {
                sourceId,
                platformId,
            }, {
                headers: this.#getRequestHeaders(),
            });
            if (createSessionResponse.status !== 201) {
                throw new CloudInteropAPIError(`Failed to connect to the Cloud Interop service: ${this.#cloudInteropSettings.url}`, 'ERR_CONNECT', createSessionResponse.status);
            }
            this.#sessionDetails = createSessionResponse.data;
            const sessionRootTopic = this.#sessionDetails.sessionRootTopic;
            const clientOptions = {
                keepalive: this.#keepAliveIntervalSeconds,
                clientId: this.#sessionDetails.sessionId,
                clean: true,
                protocolVersion: 5,
                // The "will" message will be published on an unexpected disconnection
                // The server can then tidy up.  So it needs every for this client to do that, the session details is perfect
                will: {
                    topic: 'interop/lastwill',
                    payload: buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(JSON.stringify(this.#sessionDetails)),
                    qos: 0,
                    retain: false,
                    properties: {
                        willDelayInterval: 10,
                    },
                },
                username: this.#sessionDetails.token,
            };
            this.#mqttClient = await mqtt.connectAsync(this.#sessionDetails.url, clientOptions);
            this.#logger('log', `Cloud Interop successfully connected to ${this.#cloudInteropSettings.url}`);
            this.#mqttClient.on('error', async (error) => {
                // We will receive errors for each failed reconnection attempt
                // We don't won't to disconnect on these else we will never reconnect
                if (!this.#attemptingToReconnect) {
                    await this.#disconnect(false);
                }
                if (error instanceof mqtt.ErrorWithReasonCode) {
                    switch (error.code) {
                        case BadUserNamePasswordError: {
                            await this.#disconnect(false);
                            this.#logger('warn', `Session expired`);
                            this.#emitEvent('session-expired');
                            return;
                        }
                        default: {
                            this.#logger('error', `Unknown Infrastructure Error Code ${error.code} : ${error.message}${this.#attemptingToReconnect ? ' during reconnection attempt' : ''}`);
                            // As we are in the middle of a reconnect, lets not emit an error to cut down on the event noise
                            if (!this.#attemptingToReconnect) {
                                this.#emitEvent('error', new CloudInteropAPIError(`Unknown Infrastructure Error Code ${error.code} : ${error.message}`, 'ERR_INFRASTRUCTURE', error));
                                break;
                            }
                        }
                    }
                }
                else {
                    this.#logger('error', `Unknown Error${this.#attemptingToReconnect ? ' during reconnection attempt' : ''}: ${error}`);
                    // As we are in the middle of a reconnect, lets not emit an error to cut down on the event noise
                    if (!this.#attemptingToReconnect) {
                        this.#emitEvent('error', new CloudInteropAPIError(`Unknown Error`, 'ERR_UNKNOWN', error));
                    }
                }
            });
            this.#mqttClient.on('reconnect', () => {
                this.#attemptingToReconnect = true;
                this.#reconnectRetries += 1;
                this.#logger('debug', `Cloud Interop attempting reconnection - ${this.#reconnectRetries}...`);
                if (this.#reconnectRetries === this.#reconnectRetryLimit) {
                    this.#logger('warn', `Cloud Interop reached max reconnection attempts - ${this.#reconnectRetryLimit}...`);
                    this.#disconnect(true);
                }
                this.#emitEvent('reconnecting', this.#reconnectRetries);
            });
            // Does not fire on initial connection, only successful reconnection attempts
            this.#mqttClient.on('connect', () => {
                this.#logger('debug', `Cloud Interop successfully reconnected after ${this.#reconnectRetries} attempts`);
                this.#reconnectRetries = 0;
                this.#attemptingToReconnect = false;
                this.#emitEvent('reconnected');
            });
            this.#mqttClient.on('message', (topic, message) => {
                if (!this.#sessionDetails) {
                    this.#logger('warn', 'Received message when session not connected');
                    return;
                }
                this.#handleCommand(topic, message, this.#sessionDetails);
            });
            // Subscribe to all context groups
            this.#mqttClient.subscribe(`${sessionRootTopic}/context-groups/#`);
            // Listen out for global commands
            this.#mqttClient.subscribe(`${sessionRootTopic}/commands`);
        }
        catch (error) {
            if (axios.isAxiosError(error)) {
                if (error.response?.status === 401 || error.response?.status === 403) {
                    throw new AuthorizationError();
                }
                throw new CloudInteropAPIError();
            }
            throw error;
        }
    }
    /**
     * Disconnects from the Cloud Interop service
     *
     * @return {*}  {Promise<void>}
     * @memberof CloudInteropAPI
     * @throws {CloudInteropAPIError} - If an error occurs during disconnection
     */
    async disconnect() {
        await this.#disconnect(true);
    }
    /**
     * Publishes a new context for the given context group to the other connected sessions
     *
     * @param {string} contextGroup - The context group to publish to
     * @param {object} context - The context to publish
     * @return {*}  {Promise<void>}
     * @memberof CloudInteropAPI
     */
    async setContext(contextGroup, context) {
        if (!this.#sessionDetails || !this.#connectionParams) {
            throw new Error('Session not connected');
        }
        const payload = {
            context,
            timestamp: Date.now(),
        };
        await axios.post(`${this.#cloudInteropSettings.url}/api/context-groups/${this.#sessionDetails.sessionId}/${contextGroup}`, payload, {
            headers: this.#getRequestHeaders(),
        });
    }
    addEventListener(type, callback) {
        const listeners = this.#eventListeners.get(type) || [];
        listeners.push(callback);
        this.#eventListeners.set(type, listeners);
    }
    removeEventListener(type, callback) {
        const listeners = this.#eventListeners.get(type) || [];
        const index = listeners.indexOf(callback);
        if (index !== -1) {
            listeners.splice(index, 1);
        }
        this.#eventListeners.set(type, listeners);
    }
    async #disconnect(fireDisconnectedEvent) {
        if (!this.#sessionDetails) {
            return;
        }
        try {
            const disconnectResponse = await axios.delete(`${this.#cloudInteropSettings.url}/api/sessions/${this.#sessionDetails.sessionId}`, {
                headers: this.#getRequestHeaders(),
            });
            if (disconnectResponse.status !== 200) {
                throw new CloudInteropAPIError('Error during session tear down - unexpected status', 'ERR_DISCONNECT', disconnectResponse.status);
            }
        }
        catch {
            throw new CloudInteropAPIError('Error during disconnection', 'ERR_DISCONNECT');
        }
        finally {
            this.#mqttClient?.removeAllListeners();
            await this.#mqttClient?.endAsync(true);
            this.#sessionDetails = undefined;
            this.#mqttClient = undefined;
            this.#reconnectRetries = 0;
            this.#attemptingToReconnect = false;
            if (fireDisconnectedEvent) {
                this.#emitEvent('disconnected');
            }
        }
    }
    #handleCommand(topic, message, sessionDetails) {
        if (message.length === 0 || !sessionDetails) {
            // Ignore clean up messages
            return;
        }
        const messageEnvelope = JSON.parse(message.toString());
        if (topic.startsWith(`${sessionDetails.sessionRootTopic}/context-groups/`)) {
            if (messageEnvelope.source.sessionId === sessionDetails.sessionId) {
                return;
            }
            const { channelName: contextGroup, payload: context, source, history } = messageEnvelope;
            this.#emitEvent('context', { contextGroup, context, source, history: { ...history, clientReceived: Date.now() } });
        }
    }
    #emitEvent(type, ...args) {
        const listeners = this.#eventListeners.get(type) || [];
        listeners.forEach((listener) => listener(...args));
    }
    #validateConnectParams = (parameters) => {
        if (!parameters) {
            throw new Error('Connect parameters must be provided');
        }
        if (parameters.authenticationType === 'jwt' &&
            (!parameters.jwtAuthenticationParameters?.jwtRequestCallback || !parameters.jwtAuthenticationParameters?.authenticationId)) {
            throw new Error('jwtAuthenticationParameters must be provided when using jwt authentication');
        }
        if (parameters.authenticationType === 'basic' &&
            (!parameters.basicAuthenticationParameters?.username || !parameters.basicAuthenticationParameters?.password)) {
            throw new Error('basicAuthenticationParameters must be provided when using basic authentication');
        }
    };
    #getRequestHeaders = () => {
        if (!this.#connectionParams) {
            throw new Error('Connect parameters must be provided');
        }
        const headers = new AxiosHeaders();
        headers['Content-Type'] = 'application/json';
        if (this.#connectionParams.authenticationType === 'jwt' && this.#connectionParams.jwtAuthenticationParameters) {
            const tokenResult = this.#connectionParams.jwtAuthenticationParameters.jwtRequestCallback();
            if (!tokenResult) {
                throw new Error('jwtRequestCallback must return a token');
            }
            headers['x-of-auth-id'] = this.#connectionParams.jwtAuthenticationParameters.authenticationId;
            headers['Authorization'] =
                typeof tokenResult === 'string' ? `Bearer ${tokenResult}` : `Bearer ${buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(JSON.stringify(tokenResult)).toString('base64')}`;
        }
        if (this.#connectionParams.authenticationType === 'basic' && this.#connectionParams.basicAuthenticationParameters) {
            const { username, password } = this.#connectionParams.basicAuthenticationParameters;
            headers['Authorization'] = `Basic ${buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(`${username}:${password}`).toString('base64')}`;
        }
        return headers;
    };
}

/* eslint-disable no-console */
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["DEBUG"] = 0] = "DEBUG";
    LogLevel[LogLevel["INFO"] = 1] = "INFO";
    LogLevel[LogLevel["WARN"] = 2] = "WARN";
    // TODO: eventually support NONE = 3
})(LogLevel || (LogLevel = {}));
const levelToStr = new Map([
    [LogLevel.DEBUG, 'debug'],
    [LogLevel.INFO, 'info'],
    [LogLevel.WARN, 'warn']
]);
const strToLevel = new Map([
    ['debug', LogLevel.DEBUG],
    ['info', LogLevel.INFO],
    ['warn', LogLevel.WARN],
    // reduce 'error' and 'log' to warn/info
    ['error', LogLevel.WARN],
    ['log', LogLevel.INFO]
]);
const getTimestamp = () => new Date().toISOString().replace('T', ' ').replace('Z', '');
/**
 * This logger retrofits on top of the CloudAPILogger function signature so it must use CloudAPILogLevel inputs
 */
class Logger {
    logLevel;
    // eslint-disable-next-line no-useless-constructor
    constructor(level = 'warn') {
        this.logLevel = strToLevel.get(level) ?? LogLevel.WARN;
    }
    log(logLevel, message, ...args) {
        const level = strToLevel.get(logLevel) ?? this.logLevel;
        if (this.logLevel <= level) {
            // always write to console.debug to avoid cluttering client logs
            // TODO(RUN-9370): Change this to console.debug after this runtime ticket is fixed
            console.log(`${getTimestamp()} | CloudInteropOverride [${levelToStr.get(level)}] ${message}`, ...args);
        }
    }
}

const isContext = (chan) => {
    const c = chan;
    return c && typeof c === 'object' && 'type' in c && !('broadcast' in c);
};

const DEFAULT_TIMEOUT = 3000;
/**
 * Enhances InteropBroker with Cloud Interop functionality
 *
 * Ensure that CloudInteropOverride comes first in the list of composable overrides, for example:
 * ```
 * const CloudInteropOverride = await cloudInteropOverride(settings);
 * await fin.Platform.init({
 *     ...,
 *     interopOverride: [
 *         CloudInteropOverride, // <--- must come first
 *         (BaseProvider) => class MyCustomProvider extends BaseProvider { ... }
 *     ]
 * });
 * ```
 *
 * @param {CloudInteropOverrideParams} config Configuration to connect to the Cloud Interop service
 */
async function cloudInteropOverride(config) {
    const { url, findIntentTimeout = DEFAULT_TIMEOUT, logLevel = 'warn', logger = new Logger(logLevel), ...settings } = config;
    const client = new CloudInteropAPI({ url });
    // create closure to use computed settings above in the CloudInteropOverride::reconnect function below
    const initConnect = async (connectParams = settings) => {
        client.connect({
            ...connectParams,
            // shim our logSink onto cloud-api logger func
            logger: (level, msg) => logger.log(level, msg)
        });
    };
    const isLocalTargetSession = (targetAppId) => {
        const target = typeof targetAppId === 'string' ? targetAppId : targetAppId.appId;
        const targetSessionId = client.parseSessionId(target);
        return !targetSessionId || targetSessionId === client.sessionDetails?.sessionId;
    };
    try {
        await initConnect();
    }
    catch (err) {
        // eslint-disable-next-line no-console
        logger.log('warn', `Failed to connect to Cloud Interop Service. Call interopBroker.cloudReconnect() to attempt reconnection`, err);
    }
    return (BaseProvider) => {
        return class CloudInteropOverride extends BaseProvider {
            contextListener;
            setContextFilter = (context) => true;
            constructor() {
                super();
                this.contextListener = (event) => {
                    const { contextGroup, context, source } = event;
                    if (this.getContextGroups()
                        .map(({ id }) => id)
                        .includes(contextGroup) &&
                        client.sessionDetails?.sessionId !== source.sessionId) {
                        super.setContextForGroup({ context: context }, contextGroup);
                    }
                };
                client.addEventListener('context', this.contextListener);
                client.addEventListener('report-intents', async ({ discoveryId, initiatingSessionId, findOptions }) => {
                    logger.log('debug', `Received report-intents request from ${initiatingSessionId}`);
                    let appIntents = [];
                    try {
                        if (findOptions.type === 'find-intent') {
                            const intent = (await super.handleInfoForIntent({
                                name: findOptions.intent,
                                metadata: { resultType: findOptions.resultType },
                                context: findOptions.context
                            }, null));
                            appIntents = [intent];
                        }
                        else {
                            appIntents = (await super.handleInfoForIntentsByContext({ context: findOptions.context, metadata: { resultType: findOptions.resultType } }, null));
                        }
                    }
                    catch (e) {
                        logger.log('warn', `Error in report-intents listener, proceeding with an empty response: ${e}`);
                    }
                    logger.log('debug', `Reporting intents :\n${JSON.stringify(appIntents, null, 2)}`);
                    await this.#maybeReconnect();
                    await client.reportAppIntents(discoveryId, appIntents);
                });
                client.addEventListener('raise-intent', async ({ initiatingSessionId, raiseOptions }) => {
                    logger.log('debug', `Received raise-intent request from ${initiatingSessionId}`);
                    if ('metadata' in raiseOptions.context && raiseOptions.context.metadata.target) {
                        raiseOptions.context.metadata.target = {
                            ...raiseOptions.context.metadata.target,
                            appId: client.parseAppId(raiseOptions.context.metadata.target)
                        };
                    }
                    let result;
                    try {
                        const intentResolution = (raiseOptions.type === 'raise-intent'
                            ? await super.handleFiredIntent({ name: raiseOptions.intent, context: raiseOptions.context }, null)
                            : await super.handleFiredIntentForContext(raiseOptions.context, null));
                        const intentResult = await intentResolution.getResult();
                        const { intent, source, version } = intentResolution;
                        result = { intent, source, version };
                        logger.log('debug', `Intent result: ${JSON.stringify(intentResult, null, 2)}`);
                        if (isContext(intentResult)) {
                            // currently only supporting Contexts as results
                            result.getResult = intentResult;
                        }
                    }
                    catch (e) {
                        logger.log('warn', `Error in raise-intent, forwarding error response to the cloud: ${e}`, e.stack);
                        result = { error: e.message };
                    }
                    logger.log('debug', `Sending intent result to ${initiatingSessionId}:\n${JSON.stringify(result, null, 2)}`);
                    await this.#maybeReconnect();
                    await client.sendIntentResult(initiatingSessionId, result);
                });
            }
            async handleInfoForIntent(options, clientIdentity) {
                logger.log('debug', `in handleInfoForIntent`, options);
                const { name, context, metadata } = options;
                const intentsPromise = super.handleInfoForIntent(options, clientIdentity);
                return this.#handleInfoForIntent(intentsPromise, name, context, metadata?.resultType);
            }
            async handleInfoForIntentsByContext(context, clientIdentity) {
                logger.log('debug', `in handleInfoForIntentsByContext`, context);
                const intentsPromise = super.handleInfoForIntentsByContext(context, clientIdentity);
                return 'type' in context
                    ? this.#handleInfoForIntent(intentsPromise, undefined, context, undefined)
                    : this.#handleInfoForIntent(intentsPromise, undefined, context.context, context.metadata?.resultType);
            }
            async handleFiredIntent(intent, clientIdentity) {
                logger.log('debug', `in handleFiredIntent`, intent);
                return this.#handleFiredIntent(clientIdentity, intent);
            }
            async handleFiredIntentForContext(contextForIntent, clientIdentity) {
                logger.log('debug', `in handleFiredIntentForContext`, contextForIntent);
                return this.#handleFiredIntent(clientIdentity, contextForIntent);
            }
            async #handleInfoForIntent(
            /**
             * Promise to execute in parallel with intent discovery
             */
            localIntentsPromise, 
            /**
             * if present -> findIntent
             */
            intent, 
            /**
             * if present -> findIntentsByContext
             */
            context, resultType) {
                logger.log('debug', `in #handleInfoForIntent`, { intent, context, resultType });
                if (!intent && !context) {
                    throw new Error('[CloudInteropOverride] #handleInfoForIntent requires intent or context');
                }
                if (context?.metadata?.target) {
                    // safeguard MQ traffic by short circuiting here
                    // if session id not parsable, it's a local intent, also if session id
                    // is parsed and matches the current session, treat it as a local findIntent action
                    if (isLocalTargetSession(context.metadata.target)) {
                        logger.log('debug', `#handleInfoForIntent received an appId for the same session, returning local intent results only`);
                        return localIntentsPromise;
                    }
                }
                await this.#maybeReconnect();
                const appIntentMap = new Map();
                const upsertToMap = ({ intent, apps }) => {
                    // merge all apps for the same intent
                    const existingApps = appIntentMap.get(intent.name) ?? [];
                    appIntentMap.set(intent.name, [...existingApps, ...apps]);
                };
                let aggregateResolve;
                const aggregatePromise = new Promise((resolve) => {
                    aggregateResolve = resolve;
                });
                client.once('aggregate-intent-details', ({ responses }) => {
                    logger.log('debug', `Received aggregate intent details, length: ${responses.length}`);
                    responses.forEach(({ intents }) => intents.forEach(upsertToMap));
                    aggregateResolve();
                });
                const options = {
                    timeout: findIntentTimeout,
                    findOptions: intent
                        ? { type: 'find-intent', intent, context, resultType }
                        : { type: 'find-intents-by-context', context: context, resultType }
                };
                logger.log('debug', 'Starting intent discovery');
                await client.startIntentDiscovery(options);
                await aggregatePromise;
                logger.log('debug', 'Intent discovery completed');
                const localAppIntents = (await localIntentsPromise
                    .then((intents) => (Array.isArray(intents) ? intents : [intents]))
                    .catch(() => []));
                localAppIntents.forEach(upsertToMap);
                const appIntents = Array.from(appIntentMap.entries()).map(([intent, apps]) => ({
                    intent: { name: intent, displayName: intent },
                    apps
                }));
                if (appIntents.length === 0) {
                    throw new Error('NoAppsFound');
                }
                return (intent ? appIntents[0] : appIntents);
            }
            async #handleFiredIntent(clientIdentity, input) {
                logger.log('debug', `in #handleFiredIntent`, { input });
                await this.#maybeReconnect();
                const targetApp = input?.metadata?.target;
                if (!targetApp) {
                    throw new Error(`[CloudInteropOverride] handleFiredIntent requires intent.metadata.target or context.metadata.target to be an appId`);
                }
                const isIntent = (input) => 'name' in input;
                // safeguard MQ traffic by short circuiting here
                // if session id not parsable, it's a local intent, also if session id
                // is parsed and matches the current session, treat it as a local intent
                if (isLocalTargetSession(targetApp)) {
                    logger.log('debug', `#handleFiredIntent received an appId for the same session, firing intent locally`);
                    return (isIntent(input)
                        ? super.handleFiredIntent(input, clientIdentity)
                        : super.handleFiredIntentForContext(input, clientIdentity));
                }
                let intentResolve;
                const intentResultPromise = new Promise((resolve) => {
                    intentResolve = resolve;
                });
                client.once('intent-result', ({ result, source }) => {
                    logger.log('debug', `Received intent-result`, JSON.stringify({ source, result }, null, 2));
                    intentResolve(result);
                });
                const raiseOptions = isIntent(input)
                    ? { type: 'raise-intent', intent: input.name, context: input.context }
                    : { type: 'raise-intent-for-context', context: input };
                await client.raiseIntent({ appId: targetApp, raiseOptions });
                // TODO: raise-intent timeout via promise.race?
                const intentResult = await intentResultPromise;
                const publishLocalResult = async (result) => {
                    // NOTE: since we aren't changing getIntentResolution in the fdc3 impl code,
                    // we "fake" a local intent result to ensure getResult resolves correctly, see:
                    // js-adapter/src/api/interop/fdc3/utils.ts::getIntentResolution::fin.InterApplicationBus.subscribe
                    const intentResolutionResultId = input.metadata?.intentResolutionResultId;
                    // skip for web/external connections
                    if (!this.fin.me.isOpenFin) {
                        return;
                    }
                    if (intentResolutionResultId) {
                        this.fin.InterApplicationBus.publish(intentResolutionResultId, result).catch(() => {
                            logger.log('warn', `#handleFiredIntent could not create an intent resolution for AppId: ${targetApp}, getResult call will not work.`, intentResult);
                        });
                    }
                };
                if ('error' in intentResult) {
                    logger.log('warn', `#handleFiredIntent could not raise intent for AppId: ${targetApp}`);
                    // matching { error: Boolean } type of js-adapter/src/api/interop/fdc3/utils.ts::IntentResultPromisePayload
                    publishLocalResult({ error: true });
                    // Presumably, the error is FDC3 compliant, so throw it as is
                    throw new Error(intentResult.error);
                }
                const source = typeof intentResult.source === 'string' ? { appId: intentResult.source } : intentResult.source;
                const finalResult = { ...intentResult, source };
                publishLocalResult(finalResult.getResult);
                return {
                    ...finalResult,
                    // Currently only supporting contexts as results
                    getResult: async () => finalResult.getResult
                };
            }
            async setContextForGroup({ context }, contextGroupId) {
                // TODO: is this right? should we attempt a reconnect instead of check connected state?
                if (this.cloudConnectionState === 'connected' && this.setContextFilter(context)) {
                    await client.setContext(contextGroupId, context);
                }
                super.setContextForGroup({ context }, contextGroupId);
            }
            /**
             * Attempts reconnection to the Cloud Interop service
             * @param {ConnectParameters} settings Parameters for connecting to the Interop Service
             * @return {*} {Promise<void>}
             * @throws {CloudInteropAPIError}
             * @throws {AuthorizationError}
             * @memberof CloudInteropOverride
             */
            async cloudReconnect(settings) {
                try {
                    if (this.cloudConnectionState === 'connected') {
                        await client.disconnect();
                    }
                    await initConnect(settings);
                }
                catch (err) {
                    logger.log('warn', `Failed reconnection to Cloud Interop Service.`, err);
                }
            }
            /**
             * Sets the listener for context events coming from the Cloud Interop service
             * @param listener Context event listener
             * @return {*} {void}
             * @memberof CloudInteropOverride
             */
            setCloudContextListener(listener) {
                client.removeEventListener('context', this.contextListener);
                this.contextListener = listener;
                client.addEventListener('context', this.contextListener);
            }
            /**
             * Sets a filter that is applied to local context before it is forwarded to the Cloud Interop service
             * @param filter
             * @return {*} {void}
             * @memberof CloudInteropOverride
             */
            setCloudSetContextFilter(filter) {
                this.setContextFilter = filter;
            }
            get cloudConnectionState() {
                if (client.mqttClient?.connected) {
                    return 'connected';
                }
                if (client.mqttClient?.reconnecting) {
                    return 'reconnecting';
                }
                return 'disconnected';
            }
            #maybeReconnect = async () => {
                // TODO: Remove this helper when SAAS-1588 is solved
                if (this.cloudConnectionState !== 'connected') {
                    await this.cloudReconnect();
                }
            };
        };
    };
}




/***/ }),

/***/ "../../../node_modules/base64-js/index.js":
/*!************************************************!*\
  !*** ../../../node_modules/base64-js/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "../../../node_modules/buffer/index.js":
/*!*********************************************!*\
  !*** ../../../node_modules/buffer/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



const base64 = __webpack_require__(/*! base64-js */ "../../../node_modules/base64-js/index.js")
const ieee754 = __webpack_require__(/*! ieee754 */ "../../../node_modules/ieee754/index.js")
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

const K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1)
    const proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0
  let buf = createBuffer(length)

  const actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0
  const buf = createBuffer(length)
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0
    const buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length
  let y = b.length

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  const buffer = Buffer.allocUnsafe(length)
  let pos = 0
  for (i = 0; i < list.length; ++i) {
    let buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)
        buf.copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length
  const mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  let loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  const i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  const length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  let str = ''
  const max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  let x = thisEnd - thisStart
  let y = end - start
  const len = Math.min(x, y)

  const thisCopy = this.slice(thisStart, thisEnd)
  const targetCopy = target.slice(start, end)

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1
  let arrLength = arr.length
  let valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i
  if (dir) {
    let foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      let found = true
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  const remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  const strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  let i
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  const res = []

  let i = start
  while (i < end) {
    const firstByte = buf[i]
    let codePoint = null
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = ''
  let i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  let out = ''
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end)
  let res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  const newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  let val = this[offset + --byteLength]
  let mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
})

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
})

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let i = byteLength
  let mul = 1
  let val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24) // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
})

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
})

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let mul = 1
  let i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let i = byteLength - 1
  let mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset + 7] = lo
  lo = lo >> 8
  buf[offset + 6] = lo
  lo = lo >> 8
  buf[offset + 5] = lo
  lo = lo >> 8
  buf[offset + 4] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset + 3] = hi
  hi = hi >> 8
  buf[offset + 2] = hi
  hi = hi >> 8
  buf[offset + 1] = hi
  hi = hi >> 8
  buf[offset] = hi
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = 0
  let mul = 1
  let sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = byteLength - 1
  let mul = 1
  let sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  const len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  let i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    const len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {}
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super()

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      })

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      })
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  }
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError)
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError)
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`
    let received = input
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input))
    } else if (typeof input === 'bigint') {
      received = String(input)
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received)
      }
      received += 'n'
    }
    msg += ` It must be ${range}. Received ${received}`
    return msg
  }, RangeError)

function addNumericalSeparator (val) {
  let res = ''
  let i = val.length
  const start = val[0] === '-' ? 1 : 0
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset')
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1))
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : ''
    let range
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength)
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type)
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  let codePoint
  const length = string.length
  let leadSurrogate = null
  const bytes = []

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef'
  const table = new Array(256)
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}


/***/ }),

/***/ "../../../node_modules/ieee754/index.js":
/*!**********************************************!*\
  !*** ../../../node_modules/ieee754/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getManifestCustomSettings: () => (/* binding */ getManifestCustomSettings)
/* harmony export */ });
/**
 * Load the customSettings section from the application manifest.
 * @returns The custom settings from the manifest.
 */
async function getManifestCustomSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    return manifest.customSettings;
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	(() => {
/******/ 		__webpack_require__.amdO = {};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_cloud_interop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/cloud-interop */ "../../../node_modules/@openfin/cloud-interop/out/index.js");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");


window.addEventListener("DOMContentLoaded", async () => {
    const customSettings = await (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getManifestCustomSettings)();
    const interopOverrides = [];
    if (customSettings?.cloudInteropProvider?.enabled) {
        const initializedCloudInteropOverride = (await (0,_openfin_cloud_interop__WEBPACK_IMPORTED_MODULE_0__.cloudInteropOverride)(customSettings?.cloudInteropProvider?.connectParams));
        interopOverrides.push(initializedCloudInteropOverride);
    }
    fin.Platform.init({ interopOverride: interopOverrides }).catch((error) => console.error(error));
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsUUFBUTtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQyxhQUFhO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLFdBQVcsY0FBYztBQUM1QixDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsYUFBYSw0QkFBNEI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQixtQkFBbUI7QUFDOUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHNEQUFzRCxNQUFNO0FBQzVELG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsU0FBUztBQUNwQjtBQUNBLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFD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RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0M7QUFDcEMsd0NBQXdDOztBQUV4Qzs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMsUUFBUTs7QUFFakI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FB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QUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsRUFBRTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixlQUFlO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLHlCQUF5QixRQUFRO0FBQ2pDO0FBQ0Esc0JBQXNCLGVBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsWUFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FB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SUFBSSxDQUFDLCtCQUErQixDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNELEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUNqRyxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ab3BlbmZpbi9jbG91ZC1pbnRlcm9wL291dC9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItc3RhcnRlci11c2UtaW50ZXJvcC0tY2xvdWQtaW50ZXJvcC8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3AvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3AvLi9jbGllbnQvc3JjL3NldHRpbmdzLnRzIiwid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wL3dlYnBhY2svcnVudGltZS9hbWQgb3B0aW9ucyIsIndlYnBhY2s6Ly9jb250YWluZXItc3RhcnRlci11c2UtaW50ZXJvcC0tY2xvdWQtaW50ZXJvcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3Avd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9jb250YWluZXItc3RhcnRlci11c2UtaW50ZXJvcC0tY2xvdWQtaW50ZXJvcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3AvLi9jbGllbnQvc3JjL3Byb3ZpZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbmNvbnN0IHt0b1N0cmluZ30gPSBPYmplY3QucHJvdG90eXBlO1xuY29uc3Qge2dldFByb3RvdHlwZU9mfSA9IE9iamVjdDtcblxuY29uc3Qga2luZE9mID0gKGNhY2hlID0+IHRoaW5nID0+IHtcbiAgICBjb25zdCBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3Qga2luZE9mVGVzdCA9ICh0eXBlKSA9PiB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAodGhpbmcpID0+IGtpbmRPZih0aGluZykgPT09IHR5cGVcbn07XG5cbmNvbnN0IHR5cGVPZlRlc3QgPSB0eXBlID0+IHRoaW5nID0+IHR5cGVvZiB0aGluZyA9PT0gdHlwZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IHtpc0FycmF5fSA9IEFycmF5O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVW5kZWZpbmVkID0gdHlwZU9mVGVzdCgndW5kZWZpbmVkJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgaXNGdW5jdGlvbih2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIpICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQXJyYXlCdWZmZXIgPSBraW5kT2ZUZXN0KCdBcnJheUJ1ZmZlcicpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgbGV0IHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmluZyA9IHR5cGVPZlRlc3QoJ3N0cmluZycpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlT2ZUZXN0KCdmdW5jdGlvbicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzTnVtYmVyID0gdHlwZU9mVGVzdCgnbnVtYmVyJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQm9vbGVhblxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQm9vbGVhbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQm9vbGVhbiA9IHRoaW5nID0+IHRoaW5nID09PSB0cnVlIHx8IHRoaW5nID09PSBmYWxzZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4ge1xuICBpZiAoa2luZE9mKHZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpID09PSBudWxsKSAmJiAhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiB2YWwpICYmICEoU3ltYm9sLml0ZXJhdG9yIGluIHZhbCk7XG59O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNEYXRlID0ga2luZE9mVGVzdCgnRGF0ZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlID0ga2luZE9mVGVzdCgnRmlsZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCbG9iID0ga2luZE9mVGVzdCgnQmxvYicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZUxpc3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZUxpc3QgPSBraW5kT2ZUZXN0KCdGaWxlTGlzdCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyZWFtID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGb3JtRGF0YSA9ICh0aGluZykgPT4ge1xuICBsZXQga2luZDtcbiAgcmV0dXJuIHRoaW5nICYmIChcbiAgICAodHlwZW9mIEZvcm1EYXRhID09PSAnZnVuY3Rpb24nICYmIHRoaW5nIGluc3RhbmNlb2YgRm9ybURhdGEpIHx8IChcbiAgICAgIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiAoXG4gICAgICAgIChraW5kID0ga2luZE9mKHRoaW5nKSkgPT09ICdmb3JtZGF0YScgfHxcbiAgICAgICAgLy8gZGV0ZWN0IGZvcm0tZGF0YSBpbnN0YW5jZVxuICAgICAgICAoa2luZCA9PT0gJ29iamVjdCcgJiYgaXNGdW5jdGlvbih0aGluZy50b1N0cmluZykgJiYgdGhpbmcudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJylcbiAgICAgIClcbiAgICApXG4gIClcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG5jb25zdCBbaXNSZWFkYWJsZVN0cmVhbSwgaXNSZXF1ZXN0LCBpc1Jlc3BvbnNlLCBpc0hlYWRlcnNdID0gWydSZWFkYWJsZVN0cmVhbScsICdSZXF1ZXN0JywgJ1Jlc3BvbnNlJywgJ0hlYWRlcnMnXS5tYXAoa2luZE9mVGVzdCk7XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmNvbnN0IHRyaW0gPSAoc3RyKSA9PiBzdHIudHJpbSA/XG4gIHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csICcnKTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXMgPSBmYWxzZV1cbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbiwge2FsbE93bktleXMgPSBmYWxzZX0gPSB7fSkge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpO1xuICBsZXQgbDtcblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAoaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IGFsbE93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwga2V5KSB7XG4gIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgbGV0IF9rZXk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgX2tleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSA9PT0gX2tleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gX2tleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IF9nbG9iYWwgPSAoKCkgPT4ge1xuICAvKmVzbGludCBuby11bmRlZjowKi9cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbClcbn0pKCk7XG5cbmNvbnN0IGlzQ29udGV4dERlZmluZWQgPSAoY29udGV4dCkgPT4gIWlzVW5kZWZpbmVkKGNvbnRleHQpICYmIGNvbnRleHQgIT09IF9nbG9iYWw7XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgY29uc3Qge2Nhc2VsZXNzfSA9IGlzQ29udGV4dERlZmluZWQodGhpcykgJiYgdGhpcyB8fCB7fTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGFzc2lnblZhbHVlID0gKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FzZWxlc3MgJiYgZmluZEtleShyZXN1bHQsIGtleSkgfHwga2V5O1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFt0YXJnZXRLZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2UocmVzdWx0W3RhcmdldEtleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsO1xuICAgIH1cbiAgfTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcmd1bWVudHNbaV0gJiYgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5c11cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuY29uc3QgZXh0ZW5kID0gKGEsIGIsIHRoaXNBcmcsIHthbGxPd25LZXlzfT0ge30pID0+IHtcbiAgZm9yRWFjaChiLCAodmFsLCBrZXkpID0+IHtcbiAgICBpZiAodGhpc0FyZyAmJiBpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSwge2FsbE93bktleXN9KTtcbiAgcmV0dXJuIGE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufTtcblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW3Byb3BzXVxuICogQHBhcmFtIHtvYmplY3R9IFtkZXNjcmlwdG9yc11cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgaW5oZXJpdHMgPSAoY29uc3RydWN0b3IsIHN1cGVyQ29uc3RydWN0b3IsIHByb3BzLCBkZXNjcmlwdG9ycykgPT4ge1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlLCBkZXNjcmlwdG9ycyk7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsICdzdXBlcicsIHtcbiAgICB2YWx1ZTogc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGVcbiAgfSk7XG4gIHByb3BzICYmIE9iamVjdC5hc3NpZ24oY29uc3RydWN0b3IucHJvdG90eXBlLCBwcm9wcyk7XG59O1xuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IFtmaWx0ZXJdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcEZpbHRlcl1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCB0b0ZsYXRPYmplY3QgPSAoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIsIHByb3BGaWx0ZXIpID0+IHtcbiAgbGV0IHByb3BzO1xuICBsZXQgaTtcbiAgbGV0IHByb3A7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgaWYgKHNvdXJjZU9iaiA9PSBudWxsKSByZXR1cm4gZGVzdE9iajtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICgoIXByb3BGaWx0ZXIgfHwgcHJvcEZpbHRlcihwcm9wLCBzb3VyY2VPYmosIGRlc3RPYmopKSAmJiAhbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IGZpbHRlciAhPT0gZmFsc2UgJiYgZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufTtcblxuXG4vKipcbiAqIFJldHVybnMgbmV3IGFycmF5IGZyb20gYXJyYXkgbGlrZSBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqXG4gKiBAcGFyYW0geyp9IFt0aGluZ11cbiAqXG4gKiBAcmV0dXJucyB7P0FycmF5fVxuICovXG5jb25zdCB0b0FycmF5ID0gKHRoaW5nKSA9PiB7XG4gIGlmICghdGhpbmcpIHJldHVybiBudWxsO1xuICBpZiAoaXNBcnJheSh0aGluZykpIHJldHVybiB0aGluZztcbiAgbGV0IGkgPSB0aGluZy5sZW5ndGg7XG4gIGlmICghaXNOdW1iZXIoaSkpIHJldHVybiBudWxsO1xuICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoaSk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgYXJyW2ldID0gdGhpbmdbaV07XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qKlxuICogQ2hlY2tpbmcgaWYgdGhlIFVpbnQ4QXJyYXkgZXhpc3RzIGFuZCBpZiBpdCBkb2VzLCBpdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gKiB0aGluZyBwYXNzZWQgaW4gaXMgYW4gaW5zdGFuY2Ugb2YgVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX1cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1R5cGVkQXJyYXkgPSAoVHlwZWRBcnJheSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiB0aGluZyA9PiB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxuLyoqXG4gKiBGb3IgZWFjaCBlbnRyeSBpbiB0aGUgb2JqZWN0LCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVudHJ5LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoRW50cnkgPSAob2JqLCBmbikgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBvYmogJiYgb2JqW1N5bWJvbC5pdGVyYXRvcl07XG5cbiAgY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0b3IuY2FsbChvYmopO1xuXG4gIGxldCByZXN1bHQ7XG5cbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkge1xuICAgIGNvbnN0IHBhaXIgPSByZXN1bHQudmFsdWU7XG4gICAgZm4uY2FsbChvYmosIHBhaXJbMF0sIHBhaXJbMV0pO1xuICB9XG59O1xuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn07XG5cbi8qIENoZWNraW5nIGlmIHRoZSBraW5kT2ZUZXN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHBhc3NlZCBhbiBIVE1MRm9ybUVsZW1lbnQuICovXG5jb25zdCBpc0hUTUxGb3JtID0ga2luZE9mVGVzdCgnSFRNTEZvcm1FbGVtZW50Jyk7XG5cbmNvbnN0IHRvQ2FtZWxDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xcc10oW2EtelxcZF0pKFxcdyopL2csXG4gICAgZnVuY3Rpb24gcmVwbGFjZXIobSwgcDEsIHAyKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKSArIHAyO1xuICAgIH1cbiAgKTtcbn07XG5cbi8qIENyZWF0aW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS4gKi9cbmNvbnN0IGhhc093blByb3BlcnR5ID0gKCh7aGFzT3duUHJvcGVydHl9KSA9PiAob2JqLCBwcm9wKSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpKE9iamVjdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNSZWdFeHAgPSBraW5kT2ZUZXN0KCdSZWdFeHAnKTtcblxuY29uc3QgcmVkdWNlRGVzY3JpcHRvcnMgPSAob2JqLCByZWR1Y2VyKSA9PiB7XG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgY29uc3QgcmVkdWNlZERlc2NyaXB0b3JzID0ge307XG5cbiAgZm9yRWFjaChkZXNjcmlwdG9ycywgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICBsZXQgcmV0O1xuICAgIGlmICgocmV0ID0gcmVkdWNlcihkZXNjcmlwdG9yLCBuYW1lLCBvYmopKSAhPT0gZmFsc2UpIHtcbiAgICAgIHJlZHVjZWREZXNjcmlwdG9yc1tuYW1lXSA9IHJldCB8fCBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCByZWR1Y2VkRGVzY3JpcHRvcnMpO1xufTtcblxuLyoqXG4gKiBNYWtlcyBhbGwgbWV0aG9kcyByZWFkLW9ubHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuXG5jb25zdCBmcmVlemVNZXRob2RzID0gKG9iaikgPT4ge1xuICByZWR1Y2VEZXNjcmlwdG9ycyhvYmosIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgLy8gc2tpcCByZXN0cmljdGVkIHByb3BzIGluIHN0cmljdCBtb2RlXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSAmJiBbJ2FyZ3VtZW50cycsICdjYWxsZXInLCAnY2FsbGVlJ10uaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IG9ialtuYW1lXTtcblxuICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybjtcblxuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCd3cml0YWJsZScgaW4gZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgXFwnJyArIG5hbWUgKyAnXFwnJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIGlzQXJyYXkoYXJyYXlPclN0cmluZykgPyBkZWZpbmUoYXJyYXlPclN0cmluZykgOiBkZWZpbmUoU3RyaW5nKGFycmF5T3JTdHJpbmcpLnNwbGl0KGRlbGltaXRlcikpO1xuXG4gIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlID0gK3ZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufTtcblxuY29uc3QgQUxQSEEgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonO1xuXG5jb25zdCBESUdJVCA9ICcwMTIzNDU2Nzg5JztcblxuY29uc3QgQUxQSEFCRVQgPSB7XG4gIERJR0lULFxuICBBTFBIQSxcbiAgQUxQSEFfRElHSVQ6IEFMUEhBICsgQUxQSEEudG9VcHBlckNhc2UoKSArIERJR0lUXG59O1xuXG5jb25zdCBnZW5lcmF0ZVN0cmluZyA9IChzaXplID0gMTYsIGFscGhhYmV0ID0gQUxQSEFCRVQuQUxQSEFfRElHSVQpID0+IHtcbiAgbGV0IHN0ciA9ICcnO1xuICBjb25zdCB7bGVuZ3RofSA9IGFscGhhYmV0O1xuICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgc3RyICs9IGFscGhhYmV0W01hdGgucmFuZG9tKCkgKiBsZW5ndGh8MF07XG4gIH1cblxuICByZXR1cm4gc3RyO1xufTtcblxuLyoqXG4gKiBJZiB0aGUgdGhpbmcgaXMgYSBGb3JtRGF0YSBvYmplY3QsIHJldHVybiB0cnVlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB7dW5rbm93bn0gdGhpbmcgLSBUaGUgdGhpbmcgdG8gY2hlY2suXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU3BlY0NvbXBsaWFudEZvcm0odGhpbmcpIHtcbiAgcmV0dXJuICEhKHRoaW5nICYmIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiB0aGluZ1tTeW1ib2wudG9TdHJpbmdUYWddID09PSAnRm9ybURhdGEnICYmIHRoaW5nW1N5bWJvbC5pdGVyYXRvcl0pO1xufVxuXG5jb25zdCB0b0pTT05PYmplY3QgPSAob2JqKSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gbmV3IEFycmF5KDEwKTtcblxuICBjb25zdCB2aXNpdCA9IChzb3VyY2UsIGkpID0+IHtcblxuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICBpZiAoc3RhY2suaW5kZXhPZihzb3VyY2UpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZighKCd0b0pTT04nIGluIHNvdXJjZSkpIHtcbiAgICAgICAgc3RhY2tbaV0gPSBzb3VyY2U7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG5cbiAgICAgICAgZm9yRWFjaChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVkdWNlZFZhbHVlID0gdmlzaXQodmFsdWUsIGkgKyAxKTtcbiAgICAgICAgICAhaXNVbmRlZmluZWQocmVkdWNlZFZhbHVlKSAmJiAodGFyZ2V0W2tleV0gPSByZWR1Y2VkVmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFja1tpXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG4gIH07XG5cbiAgcmV0dXJuIHZpc2l0KG9iaiwgMCk7XG59O1xuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbi8vIG9yaWdpbmFsIGNvZGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EaWdpdGFsQnJhaW5KUy9BeGlvc1Byb21pc2UvYmxvYi8xNmRlYWIxMzcxMGVjMDk3Nzk5MjIxMzFmM2ZhNTk1NDMyMGY4M2FiL2xpYi91dGlscy5qcyNMMTEtTDM0XG5cbmNvbnN0IF9zZXRJbW1lZGlhdGUgPSAoKHNldEltbWVkaWF0ZVN1cHBvcnRlZCwgcG9zdE1lc3NhZ2VTdXBwb3J0ZWQpID0+IHtcbiAgaWYgKHNldEltbWVkaWF0ZVN1cHBvcnRlZCkge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGU7XG4gIH1cblxuICByZXR1cm4gcG9zdE1lc3NhZ2VTdXBwb3J0ZWQgPyAoKHRva2VuLCBjYWxsYmFja3MpID0+IHtcbiAgICBfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsICh7c291cmNlLCBkYXRhfSkgPT4ge1xuICAgICAgaWYgKHNvdXJjZSA9PT0gX2dsb2JhbCAmJiBkYXRhID09PSB0b2tlbikge1xuICAgICAgICBjYWxsYmFja3MubGVuZ3RoICYmIGNhbGxiYWNrcy5zaGlmdCgpKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgcmV0dXJuIChjYikgPT4ge1xuICAgICAgY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgICAgX2dsb2JhbC5wb3N0TWVzc2FnZSh0b2tlbiwgXCIqXCIpO1xuICAgIH1cbiAgfSkoYGF4aW9zQCR7TWF0aC5yYW5kb20oKX1gLCBbXSkgOiAoY2IpID0+IHNldFRpbWVvdXQoY2IpO1xufSkoXG4gIHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicsXG4gIGlzRnVuY3Rpb24oX2dsb2JhbC5wb3N0TWVzc2FnZSlcbik7XG5cbmNvbnN0IGFzYXAgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgIT09ICd1bmRlZmluZWQnID9cbiAgcXVldWVNaWNyb3Rhc2suYmluZChfZ2xvYmFsKSA6ICggdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MubmV4dFRpY2sgfHwgX3NldEltbWVkaWF0ZSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKlxuXG52YXIgdXRpbHMkMSA9IHtcbiAgaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXIsXG4gIGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZyxcbiAgaXNOdW1iZXIsXG4gIGlzQm9vbGVhbixcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzUmVhZGFibGVTdHJlYW0sXG4gIGlzUmVxdWVzdCxcbiAgaXNSZXNwb25zZSxcbiAgaXNIZWFkZXJzLFxuICBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlLFxuICBpc0ZpbGUsXG4gIGlzQmxvYixcbiAgaXNSZWdFeHAsXG4gIGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNUeXBlZEFycmF5LFxuICBpc0ZpbGVMaXN0LFxuICBmb3JFYWNoLFxuICBtZXJnZSxcbiAgZXh0ZW5kLFxuICB0cmltLFxuICBzdHJpcEJPTSxcbiAgaW5oZXJpdHMsXG4gIHRvRmxhdE9iamVjdCxcbiAga2luZE9mLFxuICBraW5kT2ZUZXN0LFxuICBlbmRzV2l0aCxcbiAgdG9BcnJheSxcbiAgZm9yRWFjaEVudHJ5LFxuICBtYXRjaEFsbCxcbiAgaXNIVE1MRm9ybSxcbiAgaGFzT3duUHJvcGVydHksXG4gIGhhc093blByb3A6IGhhc093blByb3BlcnR5LCAvLyBhbiBhbGlhcyB0byBhdm9pZCBFU0xpbnQgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIGRldGVjdGlvblxuICByZWR1Y2VEZXNjcmlwdG9ycyxcbiAgZnJlZXplTWV0aG9kcyxcbiAgdG9PYmplY3RTZXQsXG4gIHRvQ2FtZWxDYXNlLFxuICBub29wLFxuICB0b0Zpbml0ZU51bWJlcixcbiAgZmluZEtleSxcbiAgZ2xvYmFsOiBfZ2xvYmFsLFxuICBpc0NvbnRleHREZWZpbmVkLFxuICBBTFBIQUJFVCxcbiAgZ2VuZXJhdGVTdHJpbmcsXG4gIGlzU3BlY0NvbXBsaWFudEZvcm0sXG4gIHRvSlNPTk9iamVjdCxcbiAgaXNBc3luY0ZuLFxuICBpc1RoZW5hYmxlLFxuICBzZXRJbW1lZGlhdGU6IF9zZXRJbW1lZGlhdGUsXG4gIGFzYXBcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBBeGlvc0Vycm9yJDEobWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBFcnJvci5jYWxsKHRoaXMpO1xuXG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9XG5cbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5uYW1lID0gJ0F4aW9zRXJyb3InO1xuICBjb2RlICYmICh0aGlzLmNvZGUgPSBjb2RlKTtcbiAgY29uZmlnICYmICh0aGlzLmNvbmZpZyA9IGNvbmZpZyk7XG4gIHJlcXVlc3QgJiYgKHRoaXMucmVxdWVzdCA9IHJlcXVlc3QpO1xuICBpZiAocmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXMgPyByZXNwb25zZS5zdGF0dXMgOiBudWxsO1xuICB9XG59XG5cbnV0aWxzJDEuaW5oZXJpdHMoQXhpb3NFcnJvciQxLCBFcnJvciwge1xuICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB1dGlscyQxLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSQxID0gQXhpb3NFcnJvciQxLnByb3RvdHlwZTtcbmNvbnN0IGRlc2NyaXB0b3JzID0ge307XG5cbltcbiAgJ0VSUl9CQURfT1BUSU9OX1ZBTFVFJyxcbiAgJ0VSUl9CQURfT1BUSU9OJyxcbiAgJ0VDT05OQUJPUlRFRCcsXG4gICdFVElNRURPVVQnLFxuICAnRVJSX05FVFdPUksnLFxuICAnRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUUycsXG4gICdFUlJfREVQUkVDQVRFRCcsXG4gICdFUlJfQkFEX1JFU1BPTlNFJyxcbiAgJ0VSUl9CQURfUkVRVUVTVCcsXG4gICdFUlJfQ0FOQ0VMRUQnLFxuICAnRVJSX05PVF9TVVBQT1JUJyxcbiAgJ0VSUl9JTlZBTElEX1VSTCdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5dLmZvckVhY2goY29kZSA9PiB7XG4gIGRlc2NyaXB0b3JzW2NvZGVdID0ge3ZhbHVlOiBjb2RlfTtcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhBeGlvc0Vycm9yJDEsIGRlc2NyaXB0b3JzKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUkMSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvciQxLmZyb20gPSAoZXJyb3IsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UsIGN1c3RvbVByb3BzKSA9PiB7XG4gIGNvbnN0IGF4aW9zRXJyb3IgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSQxKTtcblxuICB1dGlscyQxLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yJDEuY2FsbChheGlvc0Vycm9yLCBlcnJvci5tZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKTtcblxuICBheGlvc0Vycm9yLmNhdXNlID0gZXJyb3I7XG5cbiAgYXhpb3NFcnJvci5uYW1lID0gZXJyb3IubmFtZTtcblxuICBjdXN0b21Qcm9wcyAmJiBPYmplY3QuYXNzaWduKGF4aW9zRXJyb3IsIGN1c3RvbVByb3BzKTtcblxuICByZXR1cm4gYXhpb3NFcnJvcjtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzdHJpY3RcbnZhciBodHRwQWRhcHRlciA9IG51bGw7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gdGhpbmcgaXMgYSBhcnJheSBvciBqcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRoaW5nIC0gVGhlIG9iamVjdCBvciBhcnJheSB0byBiZSB2aXNpdGVkLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1Zpc2l0YWJsZSh0aGluZykge1xuICByZXR1cm4gdXRpbHMkMS5pc1BsYWluT2JqZWN0KHRoaW5nKSB8fCB1dGlscyQxLmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIEl0IHJlbW92ZXMgdGhlIGJyYWNrZXRzIGZyb20gdGhlIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSB3aXRob3V0IHRoZSBicmFja2V0cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnJhY2tldHMoa2V5KSB7XG4gIHJldHVybiB1dGlscyQxLmVuZHNXaXRoKGtleSwgJ1tdJykgPyBrZXkuc2xpY2UoMCwgLTIpIDoga2V5O1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGF0aCwgYSBrZXksIGFuZCBhIGJvb2xlYW4sIGFuZCByZXR1cm5zIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgY3VycmVudCBvYmplY3QgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3RzIC0gSWYgdHJ1ZSwgdGhlIGtleSB3aWxsIGJlIHJlbmRlcmVkIHdpdGggZG90cyBpbnN0ZWFkIG9mIGJyYWNrZXRzLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cykge1xuICBpZiAoIXBhdGgpIHJldHVybiBrZXk7XG4gIHJldHVybiBwYXRoLmNvbmNhdChrZXkpLm1hcChmdW5jdGlvbiBlYWNoKHRva2VuLCBpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdG9rZW4gPSByZW1vdmVCcmFja2V0cyh0b2tlbik7XG4gICAgcmV0dXJuICFkb3RzICYmIGkgPyAnWycgKyB0b2tlbiArICddJyA6IHRva2VuO1xuICB9KS5qb2luKGRvdHMgPyAnLicgOiAnJyk7XG59XG5cbi8qKlxuICogSWYgdGhlIGFycmF5IGlzIGFuIGFycmF5IGFuZCBub25lIG9mIGl0cyBlbGVtZW50cyBhcmUgdmlzaXRhYmxlLCB0aGVuIGl0J3MgYSBmbGF0IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmxhdEFycmF5KGFycikge1xuICByZXR1cm4gdXRpbHMkMS5pc0FycmF5KGFycikgJiYgIWFyci5zb21lKGlzVmlzaXRhYmxlKTtcbn1cblxuY29uc3QgcHJlZGljYXRlcyA9IHV0aWxzJDEudG9GbGF0T2JqZWN0KHV0aWxzJDEsIHt9LCBudWxsLCBmdW5jdGlvbiBmaWx0ZXIocHJvcCkge1xuICByZXR1cm4gL15pc1tBLVpdLy50ZXN0KHByb3ApO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIGRhdGEgb2JqZWN0IHRvIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHs/T2JqZWN0fSBbZm9ybURhdGFdXG4gKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmlzaXRvcl1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWV0YVRva2VucyA9IHRydWVdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRvdHMgPSBmYWxzZV1cbiAqIEBwYXJhbSB7P0Jvb2xlYW59IFtvcHRpb25zLmluZGV4ZXMgPSBmYWxzZV1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICoqL1xuXG4vKipcbiAqIEl0IGNvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gZm9ybSBkYXRhLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIC0gVGhlIEZvcm1EYXRhIG9iamVjdCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiB0b0Zvcm1EYXRhJDEob2JqLCBmb3JtRGF0YSwgb3B0aW9ucykge1xuICBpZiAoIXV0aWxzJDEuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IChGb3JtRGF0YSkoKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgb3B0aW9ucyA9IHV0aWxzJDEudG9GbGF0T2JqZWN0KG9wdGlvbnMsIHtcbiAgICBtZXRhVG9rZW5zOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGluZGV4ZXM6IGZhbHNlXG4gIH0sIGZhbHNlLCBmdW5jdGlvbiBkZWZpbmVkKG9wdGlvbiwgc291cmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgcmV0dXJuICF1dGlscyQxLmlzVW5kZWZpbmVkKHNvdXJjZVtvcHRpb25dKTtcbiAgfSk7XG5cbiAgY29uc3QgbWV0YVRva2VucyA9IG9wdGlvbnMubWV0YVRva2VucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNvbnN0IHZpc2l0b3IgPSBvcHRpb25zLnZpc2l0b3IgfHwgZGVmYXVsdFZpc2l0b3I7XG4gIGNvbnN0IGRvdHMgPSBvcHRpb25zLmRvdHM7XG4gIGNvbnN0IGluZGV4ZXMgPSBvcHRpb25zLmluZGV4ZXM7XG4gIGNvbnN0IF9CbG9iID0gb3B0aW9ucy5CbG9iIHx8IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBCbG9iO1xuICBjb25zdCB1c2VCbG9iID0gX0Jsb2IgJiYgdXRpbHMkMS5pc1NwZWNDb21wbGlhbnRGb3JtKGZvcm1EYXRhKTtcblxuICBpZiAoIXV0aWxzJDEuaXNGdW5jdGlvbih2aXNpdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Zpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJztcblxuICAgIGlmICh1dGlscyQxLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICghdXNlQmxvYiAmJiB1dGlscyQxLmlzQmxvYih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yJDEoJ0Jsb2IgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGEgQnVmZmVyIGluc3RlYWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzJDEuaXNBcnJheUJ1ZmZlcih2YWx1ZSkgfHwgdXRpbHMkMS5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMkMS5lbmRzV2l0aChrZXksICd7fScpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSBtZXRhVG9rZW5zID8ga2V5IDoga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHV0aWxzJDEuaXNBcnJheSh2YWx1ZSkgJiYgaXNGbGF0QXJyYXkodmFsdWUpKSB8fFxuICAgICAgICAoKHV0aWxzJDEuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMkMS5lbmRzV2l0aChrZXksICdbXScpKSAmJiAoYXJyID0gdXRpbHMkMS50b0FycmF5KHZhbHVlKSlcbiAgICAgICAgKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gcmVtb3ZlQnJhY2tldHMoa2V5KTtcblxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiBlYWNoKGVsLCBpbmRleCkge1xuICAgICAgICAgICEodXRpbHMkMS5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgaW5kZXhlcyA9PT0gdHJ1ZSA/IHJlbmRlcktleShba2V5XSwgaW5kZXgsIGRvdHMpIDogKGluZGV4ZXMgPT09IG51bGwgPyBrZXkgOiBrZXkgKyAnW10nKSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZShlbClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1Zpc2l0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvcm1EYXRhLmFwcGVuZChyZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSwgY29udmVydFZhbHVlKHZhbHVlKSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGFjayA9IFtdO1xuXG4gIGNvbnN0IGV4cG9zZWRIZWxwZXJzID0gT2JqZWN0LmFzc2lnbihwcmVkaWNhdGVzLCB7XG4gICAgZGVmYXVsdFZpc2l0b3IsXG4gICAgY29udmVydFZhbHVlLFxuICAgIGlzVmlzaXRhYmxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHV0aWxzJDEuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG5cbiAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXRoLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICB1dGlscyQxLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uIGVhY2goZWwsIGtleSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gISh1dGlscyQxLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgdmlzaXRvci5jYWxsKFxuICAgICAgICBmb3JtRGF0YSwgZWwsIHV0aWxzJDEuaXNTdHJpbmcoa2V5KSA/IGtleS50cmltKCkgOiBrZXksIHBhdGgsIGV4cG9zZWRIZWxwZXJzXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIGJ1aWxkKGVsLCBwYXRoID8gcGF0aC5jb25jYXQoa2V5KSA6IFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0YWNrLnBvcCgpO1xuICB9XG5cbiAgaWYgKCF1dGlscyQxLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkYXRhIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICBidWlsZChvYmopO1xuXG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxuLyoqXG4gKiBJdCBlbmNvZGVzIGEgc3RyaW5nIGJ5IHJlcGxhY2luZyBhbGwgY2hhcmFjdGVycyB0aGF0IGFyZSBub3QgaW4gdGhlIHVucmVzZXJ2ZWQgc2V0IHdpdGhcbiAqIHRoZWlyIHBlcmNlbnQtZW5jb2RlZCBlcXVpdmFsZW50c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIGVuY29kZS5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZSQxKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhJDEocGFyYW1zLCB0aGlzLCBvcHRpb25zKTtcbn1cblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlO1xuXG5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX3BhaXJzLnB1c2goW25hbWUsIHZhbHVlXSk7XG59O1xuXG5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhlbmNvZGVyKSB7XG4gIGNvbnN0IF9lbmNvZGUgPSBlbmNvZGVyID8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZW5jb2Rlci5jYWxsKHRoaXMsIHZhbHVlLCBlbmNvZGUkMSk7XG4gIH0gOiBlbmNvZGUkMTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbi8qKlxuICogSXQgcmVwbGFjZXMgYWxsIGluc3RhbmNlcyBvZiB0aGUgY2hhcmFjdGVycyBgOmAsIGAkYCwgYCxgLCBgK2AsIGBbYCwgYW5kIGBdYCB3aXRoIHRoZWlyXG4gKiBVUkkgZW5jb2RlZCBjb3VudGVycGFydHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBiZSBlbmNvZGVkLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHBhcmFtIHs/b2JqZWN0fSBvcHRpb25zXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xuZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBcbiAgY29uc3QgX2VuY29kZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGNvbnN0IHNlcmlhbGl6ZUZuID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZTtcblxuICBsZXQgc2VyaWFsaXplZFBhcmFtcztcblxuICBpZiAoc2VyaWFsaXplRm4pIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gc2VyaWFsaXplRm4ocGFyYW1zLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gdXRpbHMkMS5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpID9cbiAgICAgIHBhcmFtcy50b1N0cmluZygpIDpcbiAgICAgIG5ldyBBeGlvc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpLnRvU3RyaW5nKF9lbmNvZGUpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICBjb25zdCBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xuXG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnRlcmNlcHRvciB3YXMgcmVtb3ZlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMkMS5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICAgIGZuKGgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbnZhciB0cmFuc2l0aW9uYWxEZWZhdWx0cyA9IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcblxudmFyIFVSTFNlYXJjaFBhcmFtcyQxID0gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcblxudmFyIEZvcm1EYXRhJDEgPSB0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnID8gRm9ybURhdGEgOiBudWxsO1xuXG52YXIgQmxvYiQxID0gdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gQmxvYiA6IG51bGw7XG5cbnZhciBwbGF0Zm9ybSQxID0ge1xuICBpc0Jyb3dzZXI6IHRydWUsXG4gIGNsYXNzZXM6IHtcbiAgICBVUkxTZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtcyQxLFxuICAgIEZvcm1EYXRhOiBGb3JtRGF0YSQxLFxuICAgIEJsb2I6IEJsb2IkMVxuICB9LFxuICBwcm90b2NvbHM6IFsnaHR0cCcsICdodHRwcycsICdmaWxlJywgJ2Jsb2InLCAndXJsJywgJ2RhdGEnXVxufTtcblxuY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmNvbnN0IF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3IgfHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gaGFzQnJvd3NlckVudiAmJlxuICAoIV9uYXZpZ2F0b3IgfHwgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKF9uYXZpZ2F0b3IucHJvZHVjdCkgPCAwKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgd2ViV29ya2VyIGVudmlyb25tZW50XG4gKlxuICogQWx0aG91Z2ggdGhlIGBpc1N0YW5kYXJkQnJvd3NlckVudmAgbWV0aG9kIGluZGljYXRlcyB0aGF0XG4gKiBgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXJgLCB0aGUgV2ViV29ya2VyIHdpbGwgc3RpbGwgYmVcbiAqIGZpbHRlcmVkIG91dCBkdWUgdG8gaXRzIGp1ZGdtZW50IHN0YW5kYXJkXG4gKiBgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ2AuXG4gKiBUaGlzIGxlYWRzIHRvIGEgcHJvYmxlbSB3aGVuIGF4aW9zIHBvc3QgYEZvcm1EYXRhYCBpbiB3ZWJXb3JrZXJcbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52ID0gKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufSkoKTtcblxuY29uc3Qgb3JpZ2luID0gaGFzQnJvd3NlckVudiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbnZhciB1dGlscyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBoYXNCcm93c2VyRW52OiBoYXNCcm93c2VyRW52LFxuICBoYXNTdGFuZGFyZEJyb3dzZXJFbnY6IGhhc1N0YW5kYXJkQnJvd3NlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52OiBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYsXG4gIG5hdmlnYXRvcjogX25hdmlnYXRvcixcbiAgb3JpZ2luOiBvcmlnaW5cbn0pO1xuXG52YXIgcGxhdGZvcm0gPSB7XG4gIC4uLnV0aWxzLFxuICAuLi5wbGF0Zm9ybSQxXG59O1xuXG5mdW5jdGlvbiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRm9ybURhdGEkMShkYXRhLCBuZXcgcGxhdGZvcm0uY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgdmlzaXRvcjogZnVuY3Rpb24odmFsdWUsIGtleSwgcGF0aCwgaGVscGVycykge1xuICAgICAgaWYgKHBsYXRmb3JtLmlzTm9kZSAmJiB1dGlscyQxLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIG9wdGlvbnMpKTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZyBsaWtlIGBmb29beF1beV1bel1gIGFuZCByZXR1cm5zIGFuIGFycmF5IGxpa2UgYFsnZm9vJywgJ3gnLCAneScsICd6J11cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKlxuICogQHJldHVybnMgQW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wUGF0aChuYW1lKSB7XG4gIC8vIGZvb1t4XVt5XVt6XVxuICAvLyBmb28ueC55LnpcbiAgLy8gZm9vLXgteS16XG4gIC8vIGZvbyB4IHkgelxuICByZXR1cm4gdXRpbHMkMS5tYXRjaEFsbCgvXFx3K3xcXFsoXFx3KildL2csIG5hbWUpLm1hcChtYXRjaCA9PiB7XG4gICAgcmV0dXJuIG1hdGNoWzBdID09PSAnW10nID8gJycgOiBtYXRjaFsxXSB8fCBtYXRjaFswXTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBhcnJheSB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY29udmVydCB0byBhbiBvYmplY3QuXG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhbmQgdmFsdWVzIGFzIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb09iamVjdChhcnIpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICBsZXQgaTtcbiAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gIGxldCBrZXk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgb2JqW2tleV0gPSBhcnJba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgRm9ybURhdGEgb2JqZWN0IGFuZCByZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgVGhlIEZvcm1EYXRhIG9iamVjdCB0byBjb252ZXJ0IHRvIEpTT04uXG4gKlxuICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGFueT4gfCBudWxsfSBUaGUgY29udmVydGVkIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZm9ybURhdGFUb0pTT04oZm9ybURhdGEpIHtcbiAgZnVuY3Rpb24gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXQsIGluZGV4KSB7XG4gICAgbGV0IG5hbWUgPSBwYXRoW2luZGV4KytdO1xuXG4gICAgaWYgKG5hbWUgPT09ICdfX3Byb3RvX18nKSByZXR1cm4gdHJ1ZTtcblxuICAgIGNvbnN0IGlzTnVtZXJpY0tleSA9IE51bWJlci5pc0Zpbml0ZSgrbmFtZSk7XG4gICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPj0gcGF0aC5sZW5ndGg7XG4gICAgbmFtZSA9ICFuYW1lICYmIHV0aWxzJDEuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMkMS5oYXNPd25Qcm9wKHRhcmdldCwgbmFtZSkpIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gW3RhcmdldFtuYW1lXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W25hbWVdIHx8ICF1dGlscyQxLmlzT2JqZWN0KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0W25hbWVdLCBpbmRleCk7XG5cbiAgICBpZiAocmVzdWx0ICYmIHV0aWxzJDEuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMkMS5pc0Zvcm1EYXRhKGZvcm1EYXRhKSAmJiB1dGlscyQxLmlzRnVuY3Rpb24oZm9ybURhdGEuZW50cmllcykpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHV0aWxzJDEuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzJDEuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzJDEudHJpbShyYXdWYWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubmFtZSAhPT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoMCwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxuY29uc3QgZGVmYXVsdHMgPSB7XG5cbiAgdHJhbnNpdGlvbmFsOiB0cmFuc2l0aW9uYWxEZWZhdWx0cyxcblxuICBhZGFwdGVyOiBbJ3hocicsICdodHRwJywgJ2ZldGNoJ10sXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpIHx8ICcnO1xuICAgIGNvbnN0IGhhc0pTT05Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL2pzb24nKSA+IC0xO1xuICAgIGNvbnN0IGlzT2JqZWN0UGF5bG9hZCA9IHV0aWxzJDEuaXNPYmplY3QoZGF0YSk7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkICYmIHV0aWxzJDEuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMkMS5pc0Zvcm1EYXRhKGRhdGEpO1xuXG4gICAgaWYgKGlzRm9ybURhdGEpIHtcbiAgICAgIHJldHVybiBoYXNKU09OQ29udGVudFR5cGUgPyBKU09OLnN0cmluZ2lmeShmb3JtRGF0YVRvSlNPTihkYXRhKSkgOiBkYXRhO1xuICAgIH1cblxuICAgIGlmICh1dGlscyQxLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzJDEuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzJDEuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzJDEuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscyQxLmlzQmxvYihkYXRhKSB8fFxuICAgICAgdXRpbHMkMS5pc1JlYWRhYmxlU3RyZWFtKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzJDEuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzJDEuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzJDEuaXNGaWxlTGlzdChkYXRhKSkgfHwgY29udGVudFR5cGUuaW5kZXhPZignbXVsdGlwYXJ0L2Zvcm0tZGF0YScpID4gLTEpIHtcbiAgICAgICAgY29uc3QgX0Zvcm1EYXRhID0gdGhpcy5lbnYgJiYgdGhpcy5lbnYuRm9ybURhdGE7XG5cbiAgICAgICAgcmV0dXJuIHRvRm9ybURhdGEkMShcbiAgICAgICAgICBpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLFxuICAgICAgICAgIF9Gb3JtRGF0YSAmJiBuZXcgX0Zvcm1EYXRhKCksXG4gICAgICAgICAgdGhpcy5mb3JtU2VyaWFsaXplclxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgfHwgaGFzSlNPTkNvbnRlbnRUeXBlICkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicsIGZhbHNlKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICBjb25zdCBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgY29uc3QgSlNPTlJlcXVlc3RlZCA9IHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAodXRpbHMkMS5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzJDEuaXNSZWFkYWJsZVN0cmVhbShkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgJiYgdXRpbHMkMS5pc1N0cmluZyhkYXRhKSAmJiAoKGZvcmNlZEpTT05QYXJzaW5nICYmICF0aGlzLnJlc3BvbnNlVHlwZSkgfHwgSlNPTlJlcXVlc3RlZCkpIHtcbiAgICAgIGNvbnN0IHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICAgIGNvbnN0IHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIEpTT05SZXF1ZXN0ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yJDEuZnJvbShlLCBBeGlvc0Vycm9yJDEuRVJSX0JBRF9SRVNQT05TRSwgdGhpcywgbnVsbCwgdGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG4gIG1heEJvZHlMZW5ndGg6IC0xLFxuXG4gIGVudjoge1xuICAgIEZvcm1EYXRhOiBwbGF0Zm9ybS5jbGFzc2VzLkZvcm1EYXRhLFxuICAgIEJsb2I6IHBsYXRmb3JtLmNsYXNzZXMuQmxvYlxuICB9LFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH0sXG5cbiAgaGVhZGVyczoge1xuICAgIGNvbW1vbjoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxufTtcblxudXRpbHMkMS5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIChtZXRob2QpID0+IHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxuLy8gUmF3QXhpb3NIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xuY29uc3QgaWdub3JlRHVwbGljYXRlT2YgPSB1dGlscyQxLnRvT2JqZWN0U2V0KFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dKTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHJhd0hlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbnZhciBwYXJzZUhlYWRlcnMgPSByYXdIZWFkZXJzID0+IHtcbiAgY29uc3QgcGFyc2VkID0ge307XG4gIGxldCBrZXk7XG4gIGxldCB2YWw7XG4gIGxldCBpO1xuXG4gIHJhd0hlYWRlcnMgJiYgcmF3SGVhZGVycy5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBpKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSBsaW5lLnN1YnN0cmluZyhpICsgMSkudHJpbSgpO1xuXG4gICAgaWYgKCFrZXkgfHwgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mW2tleV0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0pIHtcbiAgICAgICAgcGFyc2VkW2tleV0ucHVzaCh2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBbdmFsXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuXG5jb25zdCAkaW50ZXJuYWxzID0gU3ltYm9sKCdpbnRlcm5hbHMnKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyKGhlYWRlcikge1xuICByZXR1cm4gaGVhZGVyICYmIFN0cmluZyhoZWFkZXIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gdXRpbHMkMS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzJDEuaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMsIHZhbHVlLCBoZWFkZXIpO1xuICB9XG5cbiAgaWYgKGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICAgIHZhbHVlID0gaGVhZGVyO1xuICB9XG5cbiAgaWYgKCF1dGlscyQxLmlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuO1xuXG4gIGlmICh1dGlscyQxLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscyQxLmlzUmVnRXhwKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLnRlc3QodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlci50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csICh3LCBjaGFyLCBzdHIpID0+IHtcbiAgICAgIHJldHVybiBjaGFyLnRvVXBwZXJDYXNlKCkgKyBzdHI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWNjZXNzb3JzKG9iaiwgaGVhZGVyKSB7XG4gIGNvbnN0IGFjY2Vzc29yTmFtZSA9IHV0aWxzJDEudG9DYW1lbENhc2UoJyAnICsgaGVhZGVyKTtcblxuICBbJ2dldCcsICdzZXQnLCAnaGFzJ10uZm9yRWFjaChtZXRob2ROYW1lID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBtZXRob2ROYW1lICsgYWNjZXNzb3JOYW1lLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICByZXR1cm4gdGhpc1ttZXRob2ROYW1lXS5jYWxsKHRoaXMsIGhlYWRlciwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0pO1xufVxuXG5sZXQgQXhpb3NIZWFkZXJzJDEgPSBjbGFzcyBBeGlvc0hlYWRlcnMge1xuICBjb25zdHJ1Y3RvcihoZWFkZXJzKSB7XG4gICAgaGVhZGVycyAmJiB0aGlzLnNldChoZWFkZXJzKTtcbiAgfVxuXG4gIHNldChoZWFkZXIsIHZhbHVlT3JSZXdyaXRlLCByZXdyaXRlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFsSGVhZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGVhZGVyIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5ID0gdXRpbHMkMS5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMkMS5mb3JFYWNoKGhlYWRlcnMsIChfdmFsdWUsIF9oZWFkZXIpID0+IHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSk7XG5cbiAgICBpZiAodXRpbHMkMS5pc1BsYWluT2JqZWN0KGhlYWRlcikgfHwgaGVhZGVyIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgc2V0SGVhZGVycyhoZWFkZXIsIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2UgaWYodXRpbHMkMS5pc1N0cmluZyhoZWFkZXIpICYmIChoZWFkZXIgPSBoZWFkZXIudHJpbSgpKSAmJiAhaXNWYWxpZEhlYWRlck5hbWUoaGVhZGVyKSkge1xuICAgICAgc2V0SGVhZGVycyhwYXJzZUhlYWRlcnMoaGVhZGVyKSwgdmFsdWVPclJld3JpdGUpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMkMS5pc0hlYWRlcnMoaGVhZGVyKSkge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaGVhZGVyLmVudHJpZXMoKSkge1xuICAgICAgICBzZXRIZWFkZXIodmFsdWUsIGtleSwgcmV3cml0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMkMS5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VyID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5zKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscyQxLmlzRnVuY3Rpb24ocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuY2FsbCh0aGlzLCB2YWx1ZSwga2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscyQxLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscyQxLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgcmV0dXJuICEhKGtleSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWxldGUoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUhlYWRlcihfaGVhZGVyKSB7XG4gICAgICBfaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoX2hlYWRlcikge1xuICAgICAgICBjb25zdCBrZXkgPSB1dGlscyQxLmZpbmRLZXkoc2VsZiwgX2hlYWRlcik7XG5cbiAgICAgICAgaWYgKGtleSAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZShzZWxmLCBzZWxmW2tleV0sIGtleSwgbWF0Y2hlcikpKSB7XG4gICAgICAgICAgZGVsZXRlIHNlbGZba2V5XTtcblxuICAgICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzJDEuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzJDEuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMkMS5maW5kS2V5KGhlYWRlcnMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgc2VsZltrZXldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICBkZWxldGUgc2VsZltoZWFkZXJdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBmb3JtYXQgPyBmb3JtYXRIZWFkZXIoaGVhZGVyKSA6IFN0cmluZyhoZWFkZXIpLnRyaW0oKTtcblxuICAgICAgaWYgKG5vcm1hbGl6ZWQgIT09IGhlYWRlcikge1xuICAgICAgICBkZWxldGUgc2VsZltoZWFkZXJdO1xuICAgICAgfVxuXG4gICAgICBzZWxmW25vcm1hbGl6ZWRdID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuXG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWRdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY29uY2F0KC4uLnRhcmdldHMpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jb25jYXQodGhpcywgLi4udGFyZ2V0cyk7XG4gIH1cblxuICB0b0pTT04oYXNTdHJpbmdzKSB7XG4gICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIHV0aWxzJDEuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzJDEuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChbaGVhZGVyLCB2YWx1ZV0pID0+IGhlYWRlciArICc6ICcgKyB2YWx1ZSkuam9pbignXFxuJyk7XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzJDEuaXNBcnJheShoZWFkZXIpID8gaGVhZGVyLmZvckVhY2goZGVmaW5lQWNjZXNzb3IpIDogZGVmaW5lQWNjZXNzb3IoaGVhZGVyKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG5BeGlvc0hlYWRlcnMkMS5hY2Nlc3NvcihbJ0NvbnRlbnQtVHlwZScsICdDb250ZW50LUxlbmd0aCcsICdBY2NlcHQnLCAnQWNjZXB0LUVuY29kaW5nJywgJ1VzZXItQWdlbnQnLCAnQXV0aG9yaXphdGlvbiddKTtcblxuLy8gcmVzZXJ2ZWQgbmFtZXMgaG90Zml4XG51dGlscyQxLnJlZHVjZURlc2NyaXB0b3JzKEF4aW9zSGVhZGVycyQxLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscyQxLmZyZWV6ZU1ldGhvZHMoQXhpb3NIZWFkZXJzJDEpO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShjb250ZXh0LmhlYWRlcnMpO1xuICBsZXQgZGF0YSA9IGNvbnRleHQuZGF0YTtcblxuICB1dGlscyQxLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4uY2FsbChjb25maWcsIGRhdGEsIGhlYWRlcnMubm9ybWFsaXplKCksIHJlc3BvbnNlID8gcmVzcG9uc2Uuc3RhdHVzIDogdW5kZWZpbmVkKTtcbiAgfSk7XG5cbiAgaGVhZGVycy5ub3JtYWxpemUoKTtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gaXNDYW5jZWwkMSh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdD19IHJlcXVlc3QgVGhlIHJlcXVlc3QuXG4gKlxuICogQHJldHVybnMge0NhbmNlbGVkRXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yJDEobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBBeGlvc0Vycm9yJDEuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvciQxLkVSUl9DQU5DRUxFRCwgY29uZmlnLCByZXF1ZXN0KTtcbiAgdGhpcy5uYW1lID0gJ0NhbmNlbGVkRXJyb3InO1xufVxuXG51dGlscyQxLmluaGVyaXRzKENhbmNlbGVkRXJyb3IkMSwgQXhpb3NFcnJvciQxLCB7XG4gIF9fQ0FOQ0VMX186IHRydWVcbn0pO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSByZXNwb25zZS5cbiAqL1xuZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yJDEoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgW0F4aW9zRXJyb3IkMS5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IkMS5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBkYXRhIG1heFJhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2FtcGxlc0NvdW50PSAxMF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbWluPSAxMDAwXVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBzcGVlZG9tZXRlcihzYW1wbGVzQ291bnQsIG1pbikge1xuICBzYW1wbGVzQ291bnQgPSBzYW1wbGVzQ291bnQgfHwgMTA7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGNvbnN0IHRpbWVzdGFtcHMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgbGV0IGhlYWQgPSAwO1xuICBsZXQgdGFpbCA9IDA7XG4gIGxldCBmaXJzdFNhbXBsZVRTO1xuXG4gIG1pbiA9IG1pbiAhPT0gdW5kZWZpbmVkID8gbWluIDogMTAwMDtcblxuICByZXR1cm4gZnVuY3Rpb24gcHVzaChjaHVua0xlbmd0aCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBjb25zdCBzdGFydGVkQXQgPSB0aW1lc3RhbXBzW3RhaWxdO1xuXG4gICAgaWYgKCFmaXJzdFNhbXBsZVRTKSB7XG4gICAgICBmaXJzdFNhbXBsZVRTID0gbm93O1xuICAgIH1cblxuICAgIGJ5dGVzW2hlYWRdID0gY2h1bmtMZW5ndGg7XG4gICAgdGltZXN0YW1wc1toZWFkXSA9IG5vdztcblxuICAgIGxldCBpID0gdGFpbDtcbiAgICBsZXQgYnl0ZXNDb3VudCA9IDA7XG5cbiAgICB3aGlsZSAoaSAhPT0gaGVhZCkge1xuICAgICAgYnl0ZXNDb3VudCArPSBieXRlc1tpKytdO1xuICAgICAgaSA9IGkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaGVhZCA9IChoZWFkICsgMSkgJSBzYW1wbGVzQ291bnQ7XG5cbiAgICBpZiAoaGVhZCA9PT0gdGFpbCkge1xuICAgICAgdGFpbCA9ICh0YWlsICsgMSkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaWYgKG5vdyAtIGZpcnN0U2FtcGxlVFMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXNzZWQgPSBzdGFydGVkQXQgJiYgbm93IC0gc3RhcnRlZEF0O1xuXG4gICAgcmV0dXJuIHBhc3NlZCA/IE1hdGgucm91bmQoYnl0ZXNDb3VudCAqIDEwMDAgLyBwYXNzZWQpIDogdW5kZWZpbmVkO1xuICB9O1xufVxuXG4vKipcbiAqIFRocm90dGxlIGRlY29yYXRvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBmcmVxXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGZyZXEpIHtcbiAgbGV0IHRpbWVzdGFtcCA9IDA7XG4gIGxldCB0aHJlc2hvbGQgPSAxMDAwIC8gZnJlcTtcbiAgbGV0IGxhc3RBcmdzO1xuICBsZXQgdGltZXI7XG5cbiAgY29uc3QgaW52b2tlID0gKGFyZ3MsIG5vdyA9IERhdGUubm93KCkpID0+IHtcbiAgICB0aW1lc3RhbXAgPSBub3c7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gIH07XG5cbiAgY29uc3QgdGhyb3R0bGVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHBhc3NlZCA9IG5vdyAtIHRpbWVzdGFtcDtcbiAgICBpZiAoIHBhc3NlZCA+PSB0aHJlc2hvbGQpIHtcbiAgICAgIGludm9rZShhcmdzLCBub3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgICBpZiAoIXRpbWVyKSB7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICAgIGludm9rZShsYXN0QXJncyk7XG4gICAgICAgIH0sIHRocmVzaG9sZCAtIHBhc3NlZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZsdXNoID0gKCkgPT4gbGFzdEFyZ3MgJiYgaW52b2tlKGxhc3RBcmdzKTtcblxuICByZXR1cm4gW3Rocm90dGxlZCwgZmx1c2hdO1xufVxuXG5jb25zdCBwcm9ncmVzc0V2ZW50UmVkdWNlciA9IChsaXN0ZW5lciwgaXNEb3dubG9hZFN0cmVhbSwgZnJlcSA9IDMpID0+IHtcbiAgbGV0IGJ5dGVzTm90aWZpZWQgPSAwO1xuICBjb25zdCBfc3BlZWRvbWV0ZXIgPSBzcGVlZG9tZXRlcig1MCwgMjUwKTtcblxuICByZXR1cm4gdGhyb3R0bGUoZSA9PiB7XG4gICAgY29uc3QgbG9hZGVkID0gZS5sb2FkZWQ7XG4gICAgY29uc3QgdG90YWwgPSBlLmxlbmd0aENvbXB1dGFibGUgPyBlLnRvdGFsIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHByb2dyZXNzQnl0ZXMgPSBsb2FkZWQgLSBieXRlc05vdGlmaWVkO1xuICAgIGNvbnN0IHJhdGUgPSBfc3BlZWRvbWV0ZXIocHJvZ3Jlc3NCeXRlcyk7XG4gICAgY29uc3QgaW5SYW5nZSA9IGxvYWRlZCA8PSB0b3RhbDtcblxuICAgIGJ5dGVzTm90aWZpZWQgPSBsb2FkZWQ7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbG9hZGVkLFxuICAgICAgdG90YWwsXG4gICAgICBwcm9ncmVzczogdG90YWwgPyAobG9hZGVkIC8gdG90YWwpIDogdW5kZWZpbmVkLFxuICAgICAgYnl0ZXM6IHByb2dyZXNzQnl0ZXMsXG4gICAgICByYXRlOiByYXRlID8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGVzdGltYXRlZDogcmF0ZSAmJiB0b3RhbCAmJiBpblJhbmdlID8gKHRvdGFsIC0gbG9hZGVkKSAvIHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBldmVudDogZSxcbiAgICAgIGxlbmd0aENvbXB1dGFibGU6IHRvdGFsICE9IG51bGwsXG4gICAgICBbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ106IHRydWVcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH0sIGZyZXEpO1xufTtcblxuY29uc3QgcHJvZ3Jlc3NFdmVudERlY29yYXRvciA9ICh0b3RhbCwgdGhyb3R0bGVkKSA9PiB7XG4gIGNvbnN0IGxlbmd0aENvbXB1dGFibGUgPSB0b3RhbCAhPSBudWxsO1xuXG4gIHJldHVybiBbKGxvYWRlZCkgPT4gdGhyb3R0bGVkWzBdKHtcbiAgICBsZW5ndGhDb21wdXRhYmxlLFxuICAgIHRvdGFsLFxuICAgIGxvYWRlZFxuICB9KSwgdGhyb3R0bGVkWzFdXTtcbn07XG5cbmNvbnN0IGFzeW5jRGVjb3JhdG9yID0gKGZuKSA9PiAoLi4uYXJncykgPT4gdXRpbHMkMS5hc2FwKCgpID0+IGZuKC4uLmFyZ3MpKTtcblxudmFyIGlzVVJMU2FtZU9yaWdpbiA9IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbi8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBoYXZlIGZ1bGwgc3VwcG9ydCBvZiB0aGUgQVBJcyBuZWVkZWQgdG8gdGVzdFxuLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgY29uc3QgbXNpZSA9IHBsYXRmb3JtLm5hdmlnYXRvciAmJiAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KHBsYXRmb3JtLm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGNvbnN0IHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxldCBvcmlnaW5VUkw7XG5cbiAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0cyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICBsZXQgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gKHV0aWxzJDEuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVSTC5ob3N0KTtcbiAgICB9O1xuICB9KSgpIDpcblxuICAvLyBOb24gc3RhbmRhcmQgYnJvd3NlciBlbnZzICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9KSgpO1xuXG52YXIgY29va2llcyA9IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKV07XG5cbiAgICAgIHV0aWxzJDEuaXNOdW1iZXIoZXhwaXJlcykgJiYgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuXG4gICAgICB1dGlscyQxLmlzU3RyaW5nKHBhdGgpICYmIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcblxuICAgICAgdXRpbHMkMS5pc1N0cmluZyhkb21haW4pICYmIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cbiAgICAgIHNlY3VyZSA9PT0gdHJ1ZSAmJiBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgfSxcblxuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xuZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLz9cXC8kLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBiYXNlVVJMIHdpdGggdGhlIHJlcXVlc3RlZFVSTCxcbiAqIG9ubHkgd2hlbiB0aGUgcmVxdWVzdGVkVVJMIGlzIG5vdCBhbHJlYWR5IGFuIGFic29sdXRlIFVSTC5cbiAqIElmIHRoZSByZXF1ZXN0VVJMIGlzIGFic29sdXRlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlcXVlc3RlZFVSTCB1bnRvdWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkVVJMIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCB0byBjb21iaW5lXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5mdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCkge1xuICBpZiAoYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpKSB7XG4gICAgcmV0dXJuIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3RlZFVSTDtcbn1cblxuY29uc3QgaGVhZGVyc1RvT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyQxID8geyAuLi50aGluZyB9IDogdGhpbmc7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xuZnVuY3Rpb24gbWVyZ2VDb25maWckMShjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgY29uc3QgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UsIGNhc2VsZXNzKSB7XG4gICAgaWYgKHV0aWxzJDEuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzJDEuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMkMS5tZXJnZS5jYWxsKHtjYXNlbGVzc30sIHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzJDEuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMkMS5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzJDEuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhhLCBiLCBjYXNlbGVzcykge1xuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIGNhc2VsZXNzKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscyQxLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhLCBjYXNlbGVzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfSBlbHNlIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhhLCBiLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXJnZU1hcCA9IHtcbiAgICB1cmw6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgbWV0aG9kOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGRhdGE6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgYmFzZVVSTDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0TWVzc2FnZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aFhTUkZUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIpID0+IG1lcmdlRGVlcFByb3BlcnRpZXMoaGVhZGVyc1RvT2JqZWN0KGEpLCBoZWFkZXJzVG9PYmplY3QoYiksIHRydWUpXG4gIH07XG5cbiAgdXRpbHMkMS5mb3JFYWNoKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZzEsIGNvbmZpZzIpKSwgZnVuY3Rpb24gY29tcHV0ZUNvbmZpZ1ZhbHVlKHByb3ApIHtcbiAgICBjb25zdCBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgY29uc3QgY29uZmlnVmFsdWUgPSBtZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdLCBwcm9wKTtcbiAgICAodXRpbHMkMS5pc1VuZGVmaW5lZChjb25maWdWYWx1ZSkgJiYgbWVyZ2UgIT09IG1lcmdlRGlyZWN0S2V5cykgfHwgKGNvbmZpZ1twcm9wXSA9IGNvbmZpZ1ZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn1cblxudmFyIHJlc29sdmVDb25maWcgPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IG5ld0NvbmZpZyA9IG1lcmdlQ29uZmlnJDEoe30sIGNvbmZpZyk7XG5cbiAgbGV0IHtkYXRhLCB3aXRoWFNSRlRva2VuLCB4c3JmSGVhZGVyTmFtZSwgeHNyZkNvb2tpZU5hbWUsIGhlYWRlcnMsIGF1dGh9ID0gbmV3Q29uZmlnO1xuXG4gIG5ld0NvbmZpZy5oZWFkZXJzID0gaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oaGVhZGVycyk7XG5cbiAgbmV3Q29uZmlnLnVybCA9IGJ1aWxkVVJMKGJ1aWxkRnVsbFBhdGgobmV3Q29uZmlnLmJhc2VVUkwsIG5ld0NvbmZpZy51cmwpLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG5cbiAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICBpZiAoYXV0aCkge1xuICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgK1xuICAgICAgYnRvYSgoYXV0aC51c2VybmFtZSB8fCAnJykgKyAnOicgKyAoYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhdXRoLnBhc3N3b3JkKSkgOiAnJykpXG4gICAgKTtcbiAgfVxuXG4gIGxldCBjb250ZW50VHlwZTtcblxuICBpZiAodXRpbHMkMS5pc0Zvcm1EYXRhKGRhdGEpKSB7XG4gICAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiB8fCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUodW5kZWZpbmVkKTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH0gZWxzZSBpZiAoKGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpKSAhPT0gZmFsc2UpIHtcbiAgICAgIC8vIGZpeCBzZW1pY29sb24gZHVwbGljYXRpb24gaXNzdWUgZm9yIFJlYWN0TmF0aXZlIEZvcm1EYXRhIGltcGxlbWVudGF0aW9uXG4gICAgICBjb25zdCBbdHlwZSwgLi4udG9rZW5zXSA9IGNvbnRlbnRUeXBlID8gY29udGVudFR5cGUuc3BsaXQoJzsnKS5tYXAodG9rZW4gPT4gdG9rZW4udHJpbSgpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoW3R5cGUgfHwgJ211bHRpcGFydC9mb3JtLWRhdGEnLCAuLi50b2tlbnNdLmpvaW4oJzsgJykpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCB4c3JmIGhlYWRlclxuICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cblxuICBpZiAocGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52KSB7XG4gICAgd2l0aFhTUkZUb2tlbiAmJiB1dGlscyQxLmlzRnVuY3Rpb24od2l0aFhTUkZUb2tlbikgJiYgKHdpdGhYU1JGVG9rZW4gPSB3aXRoWFNSRlRva2VuKG5ld0NvbmZpZykpO1xuXG4gICAgaWYgKHdpdGhYU1JGVG9rZW4gfHwgKHdpdGhYU1JGVG9rZW4gIT09IGZhbHNlICYmIGlzVVJMU2FtZU9yaWdpbihuZXdDb25maWcudXJsKSkpIHtcbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgY29uc3QgeHNyZlZhbHVlID0geHNyZkhlYWRlck5hbWUgJiYgeHNyZkNvb2tpZU5hbWUgJiYgY29va2llcy5yZWFkKHhzcmZDb29raWVOYW1lKTtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICBoZWFkZXJzLnNldCh4c3JmSGVhZGVyTmFtZSwgeHNyZlZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3Q29uZmlnO1xufTtcblxuY29uc3QgaXNYSFJBZGFwdGVyU3VwcG9ydGVkID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJztcblxudmFyIHhockFkYXB0ZXIgPSBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgJiYgZnVuY3Rpb24gKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IF9jb25maWcgPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG4gICAgbGV0IHJlcXVlc3REYXRhID0gX2NvbmZpZy5kYXRhO1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShfY29uZmlnLmhlYWRlcnMpLm5vcm1hbGl6ZSgpO1xuICAgIGxldCB7cmVzcG9uc2VUeXBlLCBvblVwbG9hZFByb2dyZXNzLCBvbkRvd25sb2FkUHJvZ3Jlc3N9ID0gX2NvbmZpZztcbiAgICBsZXQgb25DYW5jZWxlZDtcbiAgICBsZXQgdXBsb2FkVGhyb3R0bGVkLCBkb3dubG9hZFRocm90dGxlZDtcbiAgICBsZXQgZmx1c2hVcGxvYWQsIGZsdXNoRG93bmxvYWQ7XG5cbiAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgZmx1c2hVcGxvYWQgJiYgZmx1c2hVcGxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG4gICAgICBmbHVzaERvd25sb2FkICYmIGZsdXNoRG93bmxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcblxuICAgICAgX2NvbmZpZy5zaWduYWwgJiYgX2NvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKF9jb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIF9jb25maWcudXJsLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gX2NvbmZpZy50aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gb25sb2FkZW5kKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yJDEoJ1JlcXVlc3QgYWJvcnRlZCcsIEF4aW9zRXJyb3IkMS5FQ09OTkFCT1JURUQsIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvciQxKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvciQxLkVSUl9ORVRXT1JLLCBjb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgbGV0IHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBfY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgX2NvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IF9jb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yJDEoXG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgIHRyYW5zaXRpb25hbC5jbGFyaWZ5VGltZW91dEVycm9yID8gQXhpb3NFcnJvciQxLkVUSU1FRE9VVCA6IEF4aW9zRXJyb3IkMS5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgIHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQgJiYgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUobnVsbCk7XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMkMS5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLnRvSlNPTigpLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscyQxLmlzVW5kZWZpbmVkKF9jb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIV9jb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IF9jb25maWcucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAob25Eb3dubG9hZFByb2dyZXNzKSB7XG4gICAgICAoW2Rvd25sb2FkVGhyb3R0bGVkLCBmbHVzaERvd25sb2FkXSA9IHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uRG93bmxvYWRQcm9ncmVzcywgdHJ1ZSkpO1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGRvd25sb2FkVGhyb3R0bGVkKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmIChvblVwbG9hZFByb2dyZXNzICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICAoW3VwbG9hZFRocm90dGxlZCwgZmx1c2hVcGxvYWRdID0gcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25VcGxvYWRQcm9ncmVzcykpO1xuXG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHVwbG9hZFRocm90dGxlZCk7XG5cbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmbHVzaFVwbG9hZCk7XG4gICAgfVxuXG4gICAgaWYgKF9jb25maWcuY2FuY2VsVG9rZW4gfHwgX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gY2FuY2VsID0+IHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IGNhbmNlbC50eXBlID8gbmV3IENhbmNlbGVkRXJyb3IkMShudWxsLCBjb25maWcsIHJlcXVlc3QpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IF9jb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKF9jb25maWcudXJsKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IkMSgnVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yJDEuRVJSX0JBRF9SRVFVRVNULCBjb25maWcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEgfHwgbnVsbCk7XG4gIH0pO1xufTtcblxuY29uc3QgY29tcG9zZVNpZ25hbHMgPSAoc2lnbmFscywgdGltZW91dCkgPT4ge1xuICBjb25zdCB7bGVuZ3RofSA9IChzaWduYWxzID0gc2lnbmFscyA/IHNpZ25hbHMuZmlsdGVyKEJvb2xlYW4pIDogW10pO1xuXG4gIGlmICh0aW1lb3V0IHx8IGxlbmd0aCkge1xuICAgIGxldCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgbGV0IGFib3J0ZWQ7XG5cbiAgICBjb25zdCBvbmFib3J0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKCFhYm9ydGVkKSB7XG4gICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICBjb25zdCBlcnIgPSByZWFzb24gaW5zdGFuY2VvZiBFcnJvciA/IHJlYXNvbiA6IHRoaXMucmVhc29uO1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KGVyciBpbnN0YW5jZW9mIEF4aW9zRXJyb3IkMSA/IGVyciA6IG5ldyBDYW5jZWxlZEVycm9yJDEoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IGVycikpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgdGltZXIgPSB0aW1lb3V0ICYmIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgb25hYm9ydChuZXcgQXhpb3NFcnJvciQxKGB0aW1lb3V0ICR7dGltZW91dH0gb2YgbXMgZXhjZWVkZWRgLCBBeGlvc0Vycm9yJDEuRVRJTUVET1VUKSk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgIGlmIChzaWduYWxzKSB7XG4gICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgc2lnbmFscy5mb3JFYWNoKHNpZ25hbCA9PiB7XG4gICAgICAgICAgc2lnbmFsLnVuc3Vic2NyaWJlID8gc2lnbmFsLnVuc3Vic2NyaWJlKG9uYWJvcnQpIDogc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25hYm9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzaWduYWxzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2lnbmFscy5mb3JFYWNoKChzaWduYWwpID0+IHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpKTtcblxuICAgIGNvbnN0IHtzaWduYWx9ID0gY29udHJvbGxlcjtcblxuICAgIHNpZ25hbC51bnN1YnNjcmliZSA9ICgpID0+IHV0aWxzJDEuYXNhcCh1bnN1YnNjcmliZSk7XG5cbiAgICByZXR1cm4gc2lnbmFsO1xuICB9XG59O1xuXG5jb25zdCBzdHJlYW1DaHVuayA9IGZ1bmN0aW9uKiAoY2h1bmssIGNodW5rU2l6ZSkge1xuICBsZXQgbGVuID0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICBpZiAobGVuIDwgY2h1bmtTaXplKSB7XG4gICAgeWllbGQgY2h1bms7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHBvcyA9IDA7XG4gIGxldCBlbmQ7XG5cbiAgd2hpbGUgKHBvcyA8IGxlbikge1xuICAgIGVuZCA9IHBvcyArIGNodW5rU2l6ZTtcbiAgICB5aWVsZCBjaHVuay5zbGljZShwb3MsIGVuZCk7XG4gICAgcG9zID0gZW5kO1xuICB9XG59O1xuXG5jb25zdCByZWFkQnl0ZXMgPSBhc3luYyBmdW5jdGlvbiogKGl0ZXJhYmxlLCBjaHVua1NpemUpIHtcbiAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZWFkU3RyZWFtKGl0ZXJhYmxlKSkge1xuICAgIHlpZWxkKiBzdHJlYW1DaHVuayhjaHVuaywgY2h1bmtTaXplKTtcbiAgfVxufTtcblxuY29uc3QgcmVhZFN0cmVhbSA9IGFzeW5jIGZ1bmN0aW9uKiAoc3RyZWFtKSB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgeWllbGQqIHN0cmVhbTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHlpZWxkIHZhbHVlO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gIH1cbn07XG5cbmNvbnN0IHRyYWNrU3RyZWFtID0gKHN0cmVhbSwgY2h1bmtTaXplLCBvblByb2dyZXNzLCBvbkZpbmlzaCkgPT4ge1xuICBjb25zdCBpdGVyYXRvciA9IHJlYWRCeXRlcyhzdHJlYW0sIGNodW5rU2l6ZSk7XG5cbiAgbGV0IGJ5dGVzID0gMDtcbiAgbGV0IGRvbmU7XG4gIGxldCBfb25GaW5pc2ggPSAoZSkgPT4ge1xuICAgIGlmICghZG9uZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBvbkZpbmlzaCAmJiBvbkZpbmlzaChlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuXG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICBfb25GaW5pc2goKTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlbiA9IHZhbHVlLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAgICAgbGV0IGxvYWRlZEJ5dGVzID0gYnl0ZXMgKz0gbGVuO1xuICAgICAgICAgIG9uUHJvZ3Jlc3MobG9hZGVkQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShuZXcgVWludDhBcnJheSh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9vbkZpbmlzaChlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5jZWwocmVhc29uKSB7XG4gICAgICBfb25GaW5pc2gocmVhc29uKTtcbiAgICAgIHJldHVybiBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBoaWdoV2F0ZXJNYXJrOiAyXG4gIH0pXG59O1xuXG5jb25zdCBpc0ZldGNoU3VwcG9ydGVkID0gdHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgPSBpc0ZldGNoU3VwcG9ydGVkICYmIHR5cGVvZiBSZWFkYWJsZVN0cmVhbSA9PT0gJ2Z1bmN0aW9uJztcblxuLy8gdXNlZCBvbmx5IGluc2lkZSB0aGUgZmV0Y2ggYWRhcHRlclxuY29uc3QgZW5jb2RlVGV4dCA9IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgKChlbmNvZGVyKSA9PiAoc3RyKSA9PiBlbmNvZGVyLmVuY29kZShzdHIpKShuZXcgVGV4dEVuY29kZXIoKSkgOlxuICAgIGFzeW5jIChzdHIpID0+IG5ldyBVaW50OEFycmF5KGF3YWl0IG5ldyBSZXNwb25zZShzdHIpLmFycmF5QnVmZmVyKCkpXG4pO1xuXG5jb25zdCB0ZXN0ID0gKGZuLCAuLi5hcmdzKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZm4oLi4uYXJncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufTtcblxuY29uc3Qgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJiB0ZXN0KCgpID0+IHtcbiAgbGV0IGR1cGxleEFjY2Vzc2VkID0gZmFsc2U7XG5cbiAgY29uc3QgaGFzQ29udGVudFR5cGUgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICBib2R5OiBuZXcgUmVhZGFibGVTdHJlYW0oKSxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBnZXQgZHVwbGV4KCkge1xuICAgICAgZHVwbGV4QWNjZXNzZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuICdoYWxmJztcbiAgICB9LFxuICB9KS5oZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJyk7XG5cbiAgcmV0dXJuIGR1cGxleEFjY2Vzc2VkICYmICFoYXNDb250ZW50VHlwZTtcbn0pO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmXG4gIHRlc3QoKCkgPT4gdXRpbHMkMS5pc1JlYWRhYmxlU3RyZWFtKG5ldyBSZXNwb25zZSgnJykuYm9keSkpO1xuXG5cbmNvbnN0IHJlc29sdmVycyA9IHtcbiAgc3RyZWFtOiBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmICgocmVzKSA9PiByZXMuYm9keSlcbn07XG5cbmlzRmV0Y2hTdXBwb3J0ZWQgJiYgKCgocmVzKSA9PiB7XG4gIFsndGV4dCcsICdhcnJheUJ1ZmZlcicsICdibG9iJywgJ2Zvcm1EYXRhJywgJ3N0cmVhbSddLmZvckVhY2godHlwZSA9PiB7XG4gICAgIXJlc29sdmVyc1t0eXBlXSAmJiAocmVzb2x2ZXJzW3R5cGVdID0gdXRpbHMkMS5pc0Z1bmN0aW9uKHJlc1t0eXBlXSkgPyAocmVzKSA9PiByZXNbdHlwZV0oKSA6XG4gICAgICAoXywgY29uZmlnKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yJDEoYFJlc3BvbnNlIHR5cGUgJyR7dHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWRgLCBBeGlvc0Vycm9yJDEuRVJSX05PVF9TVVBQT1JULCBjb25maWcpO1xuICAgICAgfSk7XG4gIH0pO1xufSkobmV3IFJlc3BvbnNlKSk7XG5cbmNvbnN0IGdldEJvZHlMZW5ndGggPSBhc3luYyAoYm9keSkgPT4ge1xuICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZih1dGlscyQxLmlzQmxvYihib2R5KSkge1xuICAgIHJldHVybiBib2R5LnNpemU7XG4gIH1cblxuICBpZih1dGlscyQxLmlzU3BlY0NvbXBsaWFudEZvcm0oYm9keSkpIHtcbiAgICBjb25zdCBfcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHBsYXRmb3JtLm9yaWdpbiwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5LFxuICAgIH0pO1xuICAgIHJldHVybiAoYXdhaXQgX3JlcXVlc3QuYXJyYXlCdWZmZXIoKSkuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGlmKHV0aWxzJDEuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgfHwgdXRpbHMkMS5pc0FycmF5QnVmZmVyKGJvZHkpKSB7XG4gICAgcmV0dXJuIGJvZHkuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGlmKHV0aWxzJDEuaXNVUkxTZWFyY2hQYXJhbXMoYm9keSkpIHtcbiAgICBib2R5ID0gYm9keSArICcnO1xuICB9XG5cbiAgaWYodXRpbHMkMS5pc1N0cmluZyhib2R5KSkge1xuICAgIHJldHVybiAoYXdhaXQgZW5jb2RlVGV4dChib2R5KSkuYnl0ZUxlbmd0aDtcbiAgfVxufTtcblxuY29uc3QgcmVzb2x2ZUJvZHlMZW5ndGggPSBhc3luYyAoaGVhZGVycywgYm9keSkgPT4ge1xuICBjb25zdCBsZW5ndGggPSB1dGlscyQxLnRvRmluaXRlTnVtYmVyKGhlYWRlcnMuZ2V0Q29udGVudExlbmd0aCgpKTtcblxuICByZXR1cm4gbGVuZ3RoID09IG51bGwgPyBnZXRCb2R5TGVuZ3RoKGJvZHkpIDogbGVuZ3RoO1xufTtcblxudmFyIGZldGNoQWRhcHRlciA9IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKGFzeW5jIChjb25maWcpID0+IHtcbiAgbGV0IHtcbiAgICB1cmwsXG4gICAgbWV0aG9kLFxuICAgIGRhdGEsXG4gICAgc2lnbmFsLFxuICAgIGNhbmNlbFRva2VuLFxuICAgIHRpbWVvdXQsXG4gICAgb25Eb3dubG9hZFByb2dyZXNzLFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3MsXG4gICAgcmVzcG9uc2VUeXBlLFxuICAgIGhlYWRlcnMsXG4gICAgd2l0aENyZWRlbnRpYWxzID0gJ3NhbWUtb3JpZ2luJyxcbiAgICBmZXRjaE9wdGlvbnNcbiAgfSA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcblxuICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgPyAocmVzcG9uc2VUeXBlICsgJycpLnRvTG93ZXJDYXNlKCkgOiAndGV4dCc7XG5cbiAgbGV0IGNvbXBvc2VkU2lnbmFsID0gY29tcG9zZVNpZ25hbHMoW3NpZ25hbCwgY2FuY2VsVG9rZW4gJiYgY2FuY2VsVG9rZW4udG9BYm9ydFNpZ25hbCgpXSwgdGltZW91dCk7XG5cbiAgbGV0IHJlcXVlc3Q7XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSBjb21wb3NlZFNpZ25hbCAmJiBjb21wb3NlZFNpZ25hbC51bnN1YnNjcmliZSAmJiAoKCkgPT4ge1xuICAgICAgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUoKTtcbiAgfSk7XG5cbiAgbGV0IHJlcXVlc3RDb250ZW50TGVuZ3RoO1xuXG4gIHRyeSB7XG4gICAgaWYgKFxuICAgICAgb25VcGxvYWRQcm9ncmVzcyAmJiBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gJiYgbWV0aG9kICE9PSAnZ2V0JyAmJiBtZXRob2QgIT09ICdoZWFkJyAmJlxuICAgICAgKHJlcXVlc3RDb250ZW50TGVuZ3RoID0gYXdhaXQgcmVzb2x2ZUJvZHlMZW5ndGgoaGVhZGVycywgZGF0YSkpICE9PSAwXG4gICAgKSB7XG4gICAgICBsZXQgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgIGR1cGxleDogXCJoYWxmXCJcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgY29udGVudFR5cGVIZWFkZXI7XG5cbiAgICAgIGlmICh1dGlscyQxLmlzRm9ybURhdGEoZGF0YSkgJiYgKGNvbnRlbnRUeXBlSGVhZGVyID0gX3JlcXVlc3QuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSkge1xuICAgICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKGNvbnRlbnRUeXBlSGVhZGVyKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9yZXF1ZXN0LmJvZHkpIHtcbiAgICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IHByb2dyZXNzRXZlbnREZWNvcmF0b3IoXG4gICAgICAgICAgcmVxdWVzdENvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoYXN5bmNEZWNvcmF0b3Iob25VcGxvYWRQcm9ncmVzcykpXG4gICAgICAgICk7XG5cbiAgICAgICAgZGF0YSA9IHRyYWNrU3RyZWFtKF9yZXF1ZXN0LmJvZHksIERFRkFVTFRfQ0hVTktfU0laRSwgb25Qcm9ncmVzcywgZmx1c2gpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdXRpbHMkMS5pc1N0cmluZyh3aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICB3aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHMgPyAnaW5jbHVkZScgOiAnb21pdCc7XG4gICAgfVxuXG4gICAgLy8gQ2xvdWRmbGFyZSBXb3JrZXJzIHRocm93cyB3aGVuIGNyZWRlbnRpYWxzIGFyZSBkZWZpbmVkXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGZsYXJlL3dvcmtlcmQvaXNzdWVzLzkwMlxuICAgIGNvbnN0IGlzQ3JlZGVudGlhbHNTdXBwb3J0ZWQgPSBcImNyZWRlbnRpYWxzXCIgaW4gUmVxdWVzdC5wcm90b3R5cGU7XG4gICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgICAgc2lnbmFsOiBjb21wb3NlZFNpZ25hbCxcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLm5vcm1hbGl6ZSgpLnRvSlNPTigpLFxuICAgICAgYm9keTogZGF0YSxcbiAgICAgIGR1cGxleDogXCJoYWxmXCIsXG4gICAgICBjcmVkZW50aWFsczogaXNDcmVkZW50aWFsc1N1cHBvcnRlZCA/IHdpdGhDcmVkZW50aWFscyA6IHVuZGVmaW5lZFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVxdWVzdCk7XG5cbiAgICBjb25zdCBpc1N0cmVhbVJlc3BvbnNlID0gc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAocmVzcG9uc2VUeXBlID09PSAnc3RyZWFtJyB8fCByZXNwb25zZVR5cGUgPT09ICdyZXNwb25zZScpO1xuXG4gICAgaWYgKHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKG9uRG93bmxvYWRQcm9ncmVzcyB8fCAoaXNTdHJlYW1SZXNwb25zZSAmJiB1bnN1YnNjcmliZSkpKSB7XG4gICAgICBjb25zdCBvcHRpb25zID0ge307XG5cbiAgICAgIFsnc3RhdHVzJywgJ3N0YXR1c1RleHQnLCAnaGVhZGVycyddLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgIG9wdGlvbnNbcHJvcF0gPSByZXNwb25zZVtwcm9wXTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZUNvbnRlbnRMZW5ndGggPSB1dGlscyQxLnRvRmluaXRlTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpKTtcblxuICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IG9uRG93bmxvYWRQcm9ncmVzcyAmJiBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uRG93bmxvYWRQcm9ncmVzcyksIHRydWUpXG4gICAgICApIHx8IFtdO1xuXG4gICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgZmx1c2ggJiYgZmx1c2goKTtcbiAgICAgICAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgfHwgJ3RleHQnO1xuXG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscyQxLmZpbmRLZXkocmVzb2x2ZXJzLCByZXNwb25zZVR5cGUpIHx8ICd0ZXh0J10ocmVzcG9uc2UsIGNvbmZpZyk7XG5cbiAgICAhaXNTdHJlYW1SZXNwb25zZSAmJiB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuXG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBoZWFkZXJzOiBBeGlvc0hlYWRlcnMkMS5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0XG4gICAgICB9KTtcbiAgICB9KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuXG4gICAgaWYgKGVyciAmJiBlcnIubmFtZSA9PT0gJ1R5cGVFcnJvcicgJiYgL2ZldGNoL2kudGVzdChlcnIubWVzc2FnZSkpIHtcbiAgICAgIHRocm93IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIG5ldyBBeGlvc0Vycm9yJDEoJ05ldHdvcmsgRXJyb3InLCBBeGlvc0Vycm9yJDEuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXVzZTogZXJyLmNhdXNlIHx8IGVyclxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgdGhyb3cgQXhpb3NFcnJvciQxLmZyb20oZXJyLCBlcnIgJiYgZXJyLmNvZGUsIGNvbmZpZywgcmVxdWVzdCk7XG4gIH1cbn0pO1xuXG5jb25zdCBrbm93bkFkYXB0ZXJzID0ge1xuICBodHRwOiBodHRwQWRhcHRlcixcbiAgeGhyOiB4aHJBZGFwdGVyLFxuICBmZXRjaDogZmV0Y2hBZGFwdGVyXG59O1xuXG51dGlscyQxLmZvckVhY2goa25vd25BZGFwdGVycywgKGZuLCB2YWx1ZSkgPT4ge1xuICBpZiAoZm4pIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHt2YWx1ZX0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICdhZGFwdGVyTmFtZScsIHt2YWx1ZX0pO1xuICB9XG59KTtcblxuY29uc3QgcmVuZGVyUmVhc29uID0gKHJlYXNvbikgPT4gYC0gJHtyZWFzb259YDtcblxuY29uc3QgaXNSZXNvbHZlZEhhbmRsZSA9IChhZGFwdGVyKSA9PiB1dGlscyQxLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxudmFyIGFkYXB0ZXJzID0ge1xuICBnZXRBZGFwdGVyOiAoYWRhcHRlcnMpID0+IHtcbiAgICBhZGFwdGVycyA9IHV0aWxzJDEuaXNBcnJheShhZGFwdGVycykgPyBhZGFwdGVycyA6IFthZGFwdGVyc107XG5cbiAgICBjb25zdCB7bGVuZ3RofSA9IGFkYXB0ZXJzO1xuICAgIGxldCBuYW1lT3JBZGFwdGVyO1xuICAgIGxldCBhZGFwdGVyO1xuXG4gICAgY29uc3QgcmVqZWN0ZWRSZWFzb25zID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBuYW1lT3JBZGFwdGVyID0gYWRhcHRlcnNbaV07XG4gICAgICBsZXQgaWQ7XG5cbiAgICAgIGFkYXB0ZXIgPSBuYW1lT3JBZGFwdGVyO1xuXG4gICAgICBpZiAoIWlzUmVzb2x2ZWRIYW5kbGUobmFtZU9yQWRhcHRlcikpIHtcbiAgICAgICAgYWRhcHRlciA9IGtub3duQWRhcHRlcnNbKGlkID0gU3RyaW5nKG5hbWVPckFkYXB0ZXIpKS50b0xvd2VyQ2FzZSgpXTtcblxuICAgICAgICBpZiAoYWRhcHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IkMShgVW5rbm93biBhZGFwdGVyICcke2lkfSdgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmVqZWN0ZWRSZWFzb25zW2lkIHx8ICcjJyArIGldID0gYWRhcHRlcjtcbiAgICB9XG5cbiAgICBpZiAoIWFkYXB0ZXIpIHtcblxuICAgICAgY29uc3QgcmVhc29ucyA9IE9iamVjdC5lbnRyaWVzKHJlamVjdGVkUmVhc29ucylcbiAgICAgICAgLm1hcCgoW2lkLCBzdGF0ZV0pID0+IGBhZGFwdGVyICR7aWR9IGAgK1xuICAgICAgICAgIChzdGF0ZSA9PT0gZmFsc2UgPyAnaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZW52aXJvbm1lbnQnIDogJ2lzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGJ1aWxkJylcbiAgICAgICAgKTtcblxuICAgICAgbGV0IHMgPSBsZW5ndGggP1xuICAgICAgICAocmVhc29ucy5sZW5ndGggPiAxID8gJ3NpbmNlIDpcXG4nICsgcmVhc29ucy5tYXAocmVuZGVyUmVhc29uKS5qb2luKCdcXG4nKSA6ICcgJyArIHJlbmRlclJlYXNvbihyZWFzb25zWzBdKSkgOlxuICAgICAgICAnYXMgbm8gYWRhcHRlciBzcGVjaWZpZWQnO1xuXG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvciQxKFxuICAgICAgICBgVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBgICsgcyxcbiAgICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH0sXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59O1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5zaWduYWwgJiYgY29uZmlnLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgbmV3IENhbmNlbGVkRXJyb3IkMShudWxsLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKGNvbmZpZy5oZWFkZXJzKTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgIGNvbmZpZyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIGlmIChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10uaW5kZXhPZihjb25maWcubWV0aG9kKSAhPT0gLTEpIHtcbiAgICBjb25maWcuaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgZmFsc2UpO1xuICB9XG5cbiAgY29uc3QgYWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXIoY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcik7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICBjb25maWcsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVxuICAgICk7XG5cbiAgICByZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwkMShyZWFzb24pKSB7XG4gICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZVxuICAgICAgICApO1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20ocmVhc29uLnJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn1cblxuY29uc3QgVkVSU0lPTiQxID0gXCIxLjcuN1wiO1xuXG5jb25zdCB2YWxpZGF0b3JzJDEgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblsnb2JqZWN0JywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ2Z1bmN0aW9uJywgJ3N0cmluZycsICdzeW1ib2wnXS5mb3JFYWNoKCh0eXBlLCBpKSA9PiB7XG4gIHZhbGlkYXRvcnMkMVt0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbmNvbnN0IGRlcHJlY2F0ZWRXYXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIFRyYW5zaXRpb25hbCBvcHRpb24gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzJDEudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiQxICsgJ10gVHJhbnNpdGlvbmFsIG9wdGlvbiBcXCcnICsgb3B0ICsgJ1xcJycgKyBkZXNjICsgKG1lc3NhZ2UgPyAnLiAnICsgbWVzc2FnZSA6ICcnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiAodmFsdWUsIG9wdCwgb3B0cykgPT4ge1xuICAgIGlmICh2YWxpZGF0b3IgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvciQxKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKG9wdCwgJyBoYXMgYmVlbiByZW1vdmVkJyArICh2ZXJzaW9uID8gJyBpbiAnICsgdmVyc2lvbiA6ICcnKSksXG4gICAgICAgIEF4aW9zRXJyb3IkMS5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlbWFcbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGFsbG93VW5rbm93blxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IkMSgnb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IkMS5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGNvbnN0IG9wdCA9IGtleXNbaV07XG4gICAgY29uc3QgdmFsaWRhdG9yID0gc2NoZW1hW29wdF07XG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW29wdF07XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IkMSgnb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCwgQXhpb3NFcnJvciQxLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvciQxKCdVbmtub3duIG9wdGlvbiAnICsgb3B0LCBBeGlvc0Vycm9yJDEuRVJSX0JBRF9PUFRJT04pO1xuICAgIH1cbiAgfVxufVxuXG52YXIgdmFsaWRhdG9yID0ge1xuICBhc3NlcnRPcHRpb25zLFxuICB2YWxpZGF0b3JzOiB2YWxpZGF0b3JzJDFcbn07XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xubGV0IEF4aW9zJDEgPSBjbGFzcyBBeGlvcyB7XG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gY29uZmlnT3JVcmwgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICAgKiBAcGFyYW0gez9PYmplY3R9IGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gICAqL1xuICBhc3luYyByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbGV0IGR1bW15O1xuXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID8gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZHVtbXkgPSB7fSkgOiAoZHVtbXkgPSBuZXcgRXJyb3IoKSk7XG5cbiAgICAgICAgLy8gc2xpY2Ugb2ZmIHRoZSBFcnJvcjogLi4uIGxpbmVcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBkdW1teS5zdGFjayA/IGR1bW15LnN0YWNrLnJlcGxhY2UoL14uK1xcbi8sICcnKSA6ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghZXJyLnN0YWNrKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgICAgIC8vIG1hdGNoIHdpdGhvdXQgdGhlIDIgdG9wIHN0YWNrIGxpbmVzXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFjayAmJiAhU3RyaW5nKGVyci5zdGFjaykuZW5kc1dpdGgoc3RhY2sucmVwbGFjZSgvXi4rXFxuLitcXG4vLCAnJykpKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgKz0gJ1xcbicgKyBzdGFjaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpZ25vcmUgdGhlIGNhc2Ugd2hlcmUgXCJzdGFja1wiIGlzIGFuIHVuLXdyaXRhYmxlIHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIF9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gICAgaWYgKHR5cGVvZiBjb25maWdPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgIGNvbmZpZy51cmwgPSBjb25maWdPclVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnID0gY29uZmlnT3JVcmwgfHwge307XG4gICAgfVxuXG4gICAgY29uZmlnID0gbWVyZ2VDb25maWckMSh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgY29uc3Qge3RyYW5zaXRpb25hbCwgcGFyYW1zU2VyaWFsaXplciwgaGVhZGVyc30gPSBjb25maWc7XG5cbiAgICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zU2VyaWFsaXplciAhPSBudWxsKSB7XG4gICAgICBpZiAodXRpbHMkMS5pc0Z1bmN0aW9uKHBhcmFtc1NlcmlhbGl6ZXIpKSB7XG4gICAgICAgIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyID0ge1xuICAgICAgICAgIHNlcmlhbGl6ZTogcGFyYW1zU2VyaWFsaXplclxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMocGFyYW1zU2VyaWFsaXplciwge1xuICAgICAgICAgIGVuY29kZTogdmFsaWRhdG9ycy5mdW5jdGlvbixcbiAgICAgICAgICBzZXJpYWxpemU6IHZhbGlkYXRvcnMuZnVuY3Rpb25cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgICBjb25maWcubWV0aG9kID0gKGNvbmZpZy5tZXRob2QgfHwgdGhpcy5kZWZhdWx0cy5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgICBsZXQgY29udGV4dEhlYWRlcnMgPSBoZWFkZXJzICYmIHV0aWxzJDEubWVyZ2UoXG4gICAgICBoZWFkZXJzLmNvbW1vbixcbiAgICAgIGhlYWRlcnNbY29uZmlnLm1ldGhvZF1cbiAgICApO1xuXG4gICAgaGVhZGVycyAmJiB1dGlscyQxLmZvckVhY2goXG4gICAgICBbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdjb21tb24nXSxcbiAgICAgIChtZXRob2QpID0+IHtcbiAgICAgICAgZGVsZXRlIGhlYWRlcnNbbWV0aG9kXTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5jb25jYXQoY29udGV4dEhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgbGV0IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yLnJ1bldoZW4gPT09ICdmdW5jdGlvbicgJiYgaW50ZXJjZXB0b3IucnVuV2hlbihjb25maWcpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyAmJiBpbnRlcmNlcHRvci5zeW5jaHJvbm91cztcblxuICAgICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGxldCBwcm9taXNlO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuO1xuXG4gICAgaWYgKCFzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMpIHtcbiAgICAgIGNvbnN0IGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdC5iaW5kKHRoaXMpLCB1bmRlZmluZWRdO1xuICAgICAgY2hhaW4udW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgY2hhaW4ucHVzaC5hcHBseShjaGFpbiwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgY29uc3Qgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICB0cnkge1xuICAgICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb25SZWplY3RlZC5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QuY2FsbCh0aGlzLCBuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIGkgPSAwO1xuICAgIGxlbiA9IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXJpKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnJDEodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzJDEuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zJDEucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWckMShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IChjb25maWcgfHwge30pLmRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMkMS5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyQxKGNvbmZpZyB8fCB7fSwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IGlzRm9ybSA/IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgdXJsLFxuICAgICAgICBkYXRhXG4gICAgICB9KSk7XG4gICAgfTtcbiAgfVxuXG4gIEF4aW9zJDEucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcyQxLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge0NhbmNlbFRva2VufVxuICovXG5sZXQgQ2FuY2VsVG9rZW4kMSA9IGNsYXNzIENhbmNlbFRva2VuIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4oY2FuY2VsID0+IHtcbiAgICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgICBsZXQgaSA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICB0b2tlbi5fbGlzdGVuZXJzW2ldKGNhbmNlbCk7XG4gICAgICB9XG4gICAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4gPSBvbmZ1bGZpbGxlZCA9PiB7XG4gICAgICBsZXQgX3Jlc29sdmU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0b2tlbi5zdWJzY3JpYmUocmVzb2x2ZSk7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbGVkRXJyb3IkMShtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICovXG4gIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIHRvQWJvcnRTaWduYWwoKSB7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGNvbnN0IGFib3J0ID0gKGVycikgPT4ge1xuICAgICAgY29udHJvbGxlci5hYm9ydChlcnIpO1xuICAgIH07XG5cbiAgICB0aGlzLnN1YnNjcmliZShhYm9ydCk7XG5cbiAgICBjb250cm9sbGVyLnNpZ25hbC51bnN1YnNjcmliZSA9ICgpID0+IHRoaXMudW5zdWJzY3JpYmUoYWJvcnQpO1xuXG4gICAgcmV0dXJuIGNvbnRyb2xsZXIuc2lnbmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAgICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAgICovXG4gIHN0YXRpYyBzb3VyY2UoKSB7XG4gICAgbGV0IGNhbmNlbDtcbiAgICBjb25zdCB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgICBjYW5jZWwgPSBjO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbixcbiAgICAgIGNhbmNlbFxuICAgIH07XG4gIH1cbn07XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3ByZWFkJDEoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvc1xuICpcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXhpb3NFcnJvciQxKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzJDEuaXNPYmplY3QocGF5bG9hZCkgJiYgKHBheWxvYWQuaXNBeGlvc0Vycm9yID09PSB0cnVlKTtcbn1cblxuY29uc3QgSHR0cFN0YXR1c0NvZGUkMSA9IHtcbiAgQ29udGludWU6IDEwMCxcbiAgU3dpdGNoaW5nUHJvdG9jb2xzOiAxMDEsXG4gIFByb2Nlc3Npbmc6IDEwMixcbiAgRWFybHlIaW50czogMTAzLFxuICBPazogMjAwLFxuICBDcmVhdGVkOiAyMDEsXG4gIEFjY2VwdGVkOiAyMDIsXG4gIE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjogMjAzLFxuICBOb0NvbnRlbnQ6IDIwNCxcbiAgUmVzZXRDb250ZW50OiAyMDUsXG4gIFBhcnRpYWxDb250ZW50OiAyMDYsXG4gIE11bHRpU3RhdHVzOiAyMDcsXG4gIEFscmVhZHlSZXBvcnRlZDogMjA4LFxuICBJbVVzZWQ6IDIyNixcbiAgTXVsdGlwbGVDaG9pY2VzOiAzMDAsXG4gIE1vdmVkUGVybWFuZW50bHk6IDMwMSxcbiAgRm91bmQ6IDMwMixcbiAgU2VlT3RoZXI6IDMwMyxcbiAgTm90TW9kaWZpZWQ6IDMwNCxcbiAgVXNlUHJveHk6IDMwNSxcbiAgVW51c2VkOiAzMDYsXG4gIFRlbXBvcmFyeVJlZGlyZWN0OiAzMDcsXG4gIFBlcm1hbmVudFJlZGlyZWN0OiAzMDgsXG4gIEJhZFJlcXVlc3Q6IDQwMCxcbiAgVW5hdXRob3JpemVkOiA0MDEsXG4gIFBheW1lbnRSZXF1aXJlZDogNDAyLFxuICBGb3JiaWRkZW46IDQwMyxcbiAgTm90Rm91bmQ6IDQwNCxcbiAgTWV0aG9kTm90QWxsb3dlZDogNDA1LFxuICBOb3RBY2NlcHRhYmxlOiA0MDYsXG4gIFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDogNDA3LFxuICBSZXF1ZXN0VGltZW91dDogNDA4LFxuICBDb25mbGljdDogNDA5LFxuICBHb25lOiA0MTAsXG4gIExlbmd0aFJlcXVpcmVkOiA0MTEsXG4gIFByZWNvbmRpdGlvbkZhaWxlZDogNDEyLFxuICBQYXlsb2FkVG9vTGFyZ2U6IDQxMyxcbiAgVXJpVG9vTG9uZzogNDE0LFxuICBVbnN1cHBvcnRlZE1lZGlhVHlwZTogNDE1LFxuICBSYW5nZU5vdFNhdGlzZmlhYmxlOiA0MTYsXG4gIEV4cGVjdGF0aW9uRmFpbGVkOiA0MTcsXG4gIEltQVRlYXBvdDogNDE4LFxuICBNaXNkaXJlY3RlZFJlcXVlc3Q6IDQyMSxcbiAgVW5wcm9jZXNzYWJsZUVudGl0eTogNDIyLFxuICBMb2NrZWQ6IDQyMyxcbiAgRmFpbGVkRGVwZW5kZW5jeTogNDI0LFxuICBUb29FYXJseTogNDI1LFxuICBVcGdyYWRlUmVxdWlyZWQ6IDQyNixcbiAgUHJlY29uZGl0aW9uUmVxdWlyZWQ6IDQyOCxcbiAgVG9vTWFueVJlcXVlc3RzOiA0MjksXG4gIFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTogNDMxLFxuICBVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczogNDUxLFxuICBJbnRlcm5hbFNlcnZlckVycm9yOiA1MDAsXG4gIE5vdEltcGxlbWVudGVkOiA1MDEsXG4gIEJhZEdhdGV3YXk6IDUwMixcbiAgU2VydmljZVVuYXZhaWxhYmxlOiA1MDMsXG4gIEdhdGV3YXlUaW1lb3V0OiA1MDQsXG4gIEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOiA1MDUsXG4gIFZhcmlhbnRBbHNvTmVnb3RpYXRlczogNTA2LFxuICBJbnN1ZmZpY2llbnRTdG9yYWdlOiA1MDcsXG4gIExvb3BEZXRlY3RlZDogNTA4LFxuICBOb3RFeHRlbmRlZDogNTEwLFxuICBOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDogNTExLFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUkMSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gIEh0dHBTdGF0dXNDb2RlJDFbdmFsdWVdID0ga2V5O1xufSk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJucyB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgY29uc3QgY29udGV4dCA9IG5ldyBBeGlvcyQxKGRlZmF1bHRDb25maWcpO1xuICBjb25zdCBpbnN0YW5jZSA9IGJpbmQoQXhpb3MkMS5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMkMS5leHRlbmQoaW5zdGFuY2UsIEF4aW9zJDEucHJvdG90eXBlLCBjb250ZXh0LCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscyQxLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyQxKGRlZmF1bHRDb25maWcsIGluc3RhbmNlQ29uZmlnKSk7XG4gIH07XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbmNvbnN0IGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3MkMTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWxlZEVycm9yID0gQ2FuY2VsZWRFcnJvciQxO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbiQxO1xuYXhpb3MuaXNDYW5jZWwgPSBpc0NhbmNlbCQxO1xuYXhpb3MuVkVSU0lPTiA9IFZFUlNJT04kMTtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhJDE7XG5cbi8vIEV4cG9zZSBBeGlvc0Vycm9yIGNsYXNzXG5heGlvcy5BeGlvc0Vycm9yID0gQXhpb3NFcnJvciQxO1xuXG4vLyBhbGlhcyBmb3IgQ2FuY2VsZWRFcnJvciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuYXhpb3MuQ2FuY2VsID0gYXhpb3MuQ2FuY2VsZWRFcnJvcjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcblxuYXhpb3Muc3ByZWFkID0gc3ByZWFkJDE7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvciQxO1xuXG4vLyBFeHBvc2UgbWVyZ2VDb25maWdcbmF4aW9zLm1lcmdlQ29uZmlnID0gbWVyZ2VDb25maWckMTtcblxuYXhpb3MuQXhpb3NIZWFkZXJzID0gQXhpb3NIZWFkZXJzJDE7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscyQxLmlzSFRNTEZvcm0odGhpbmcpID8gbmV3IEZvcm1EYXRhKHRoaW5nKSA6IHRoaW5nKTtcblxuYXhpb3MuZ2V0QWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXI7XG5cbmF4aW9zLkh0dHBTdGF0dXNDb2RlID0gSHR0cFN0YXR1c0NvZGUkMTtcblxuYXhpb3MuZGVmYXVsdCA9IGF4aW9zO1xuXG4vLyBUaGlzIG1vZHVsZSBpcyBpbnRlbmRlZCB0byB1bndyYXAgQXhpb3MgZGVmYXVsdCBleHBvcnQgYXMgbmFtZWQuXG4vLyBLZWVwIHRvcC1sZXZlbCBleHBvcnQgc2FtZSB3aXRoIHN0YXRpYyBwcm9wZXJ0aWVzXG4vLyBzbyB0aGF0IGl0IGNhbiBrZWVwIHNhbWUgd2l0aCBlcyBtb2R1bGUgb3IgY2pzXG5jb25zdCB7XG4gIEF4aW9zLFxuICBBeGlvc0Vycm9yLFxuICBDYW5jZWxlZEVycm9yLFxuICBpc0NhbmNlbCxcbiAgQ2FuY2VsVG9rZW4sXG4gIFZFUlNJT04sXG4gIGFsbCxcbiAgQ2FuY2VsLFxuICBpc0F4aW9zRXJyb3IsXG4gIHNwcmVhZCxcbiAgdG9Gb3JtRGF0YSxcbiAgQXhpb3NIZWFkZXJzLFxuICBIdHRwU3RhdHVzQ29kZSxcbiAgZm9ybVRvSlNPTixcbiAgZ2V0QWRhcHRlcixcbiAgbWVyZ2VDb25maWdcbn0gPSBheGlvcztcblxudmFyIHlzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgS2c9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt2YXIgR2c9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7dmFyIFFnPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIF9lPSh0LGUpPT4oKT0+KHQmJihlPXQodD0wKSksZSk7dmFyIE09KHQsZSk9PigpPT4oZXx8dCgoZT17ZXhwb3J0czp7fX0pLmV4cG9ydHMsZSksZS5leHBvcnRzKSxKdD0odCxlKT0+e2Zvcih2YXIgciBpbiBlKXlzKHQscix7Z2V0OmVbcl0sZW51bWVyYWJsZTohMH0pO30sWWc9KHQsZSxyLGkpPT57aWYoZSYmdHlwZW9mIGU9PVwib2JqZWN0XCJ8fHR5cGVvZiBlPT1cImZ1bmN0aW9uXCIpZm9yKGxldCBuIG9mIEdnKGUpKSFRZy5jYWxsKHQsbikmJm4hPT1yJiZ5cyh0LG4se2dldDooKT0+ZVtuXSxlbnVtZXJhYmxlOiEoaT1LZyhlLG4pKXx8aS5lbnVtZXJhYmxlfSk7cmV0dXJuIHR9O3ZhciBYPXQ9PllnKHlzKHt9LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQpO3ZhciBfPV9lKCgpPT57fSk7dmFyIEI9e307SnQoQix7X2RlYnVnRW5kOigpPT55dSxfZGVidWdQcm9jZXNzOigpPT5ndSxfZXZlbnRzOigpPT5PdSxfZXZlbnRzQ291bnQ6KCk9Pnh1LF9leGl0aW5nOigpPT5ZbCxfZmF0YWxFeGNlcHRpb25zOigpPT5jdSxfZ2V0QWN0aXZlSGFuZGxlczooKT0+ZXUsX2dldEFjdGl2ZVJlcXVlc3RzOigpPT5abCxfa2lsbDooKT0+cnUsX2xpbmtlZEJpbmRpbmc6KCk9PkdsLF9tYXhMaXN0ZW5lcnM6KCk9Pmt1LF9wcmVsb2FkX21vZHVsZXM6KCk9PkN1LF9yYXdEZWJ1ZzooKT0+emwsX3N0YXJ0UHJvZmlsZXJJZGxlTm90aWZpZXI6KCk9PmJ1LF9zdG9wUHJvZmlsZXJJZGxlTm90aWZpZXI6KCk9Pnd1LF90aWNrQ2FsbGJhY2s6KCk9PnB1LGFib3J0OigpPT5FdSxhZGRMaXN0ZW5lcjooKT0+TXUsYWxsb3dlZE5vZGVFbnZpcm9ubWVudEZsYWdzOigpPT5sdSxhcmNoOigpPT54bCxhcmd2OigpPT5VbCxhcmd2MDooKT0+UnUsYXNzZXJ0OigpPT51dSxiaW5kaW5nOigpPT5GbCxjaGRpcjooKT0+SGwsY29uZmlnOigpPT5KbCxjcHVVc2FnZTooKT0+JGksY3dkOigpPT4kbCxkZWJ1Z1BvcnQ6KCk9PlR1LGRlZmF1bHQ6KCk9PiR1LGRsb3BlbjooKT0+WGwsZG9tYWluOigpPT5RbCxlbWl0OigpPT5EdSxlbWl0V2FybmluZzooKT0+amwsZW52OigpPT5MbCxleGVjQXJndjooKT0+TmwsZXhlY1BhdGg6KCk9Pkl1LGV4aXQ6KCk9Pm91LGZlYXR1cmVzOigpPT5mdSxoYXNVbmNhdWdodEV4Y2VwdGlvbkNhcHR1cmVDYWxsYmFjazooKT0+ZHUsaHJ0aW1lOigpPT5XaSxraWxsOigpPT5zdSxsaXN0ZW5lcnM6KCk9Pld1LG1lbW9yeVVzYWdlOigpPT5udSxtb2R1bGVMb2FkTGlzdDooKT0+S2wsbmV4dFRpY2s6KCk9PlBsLG9mZjooKT0+VXUsb246KCk9Pnd0LG9uY2U6KCk9Pkx1LG9wZW5TdGRpbjooKT0+YXUscGlkOigpPT5TdSxwbGF0Zm9ybTooKT0+TWwscHBpZDooKT0+QXUscHJlcGVuZExpc3RlbmVyOigpPT5qdSxwcmVwZW5kT25jZUxpc3RlbmVyOigpPT5GdSxyZWFsbHlFeGl0OigpPT50dSxyZWxlYXNlOigpPT5WbCxyZW1vdmVBbGxMaXN0ZW5lcnM6KCk9PnF1LHJlbW92ZUxpc3RlbmVyOigpPT5OdSxyZXNvdXJjZVVzYWdlOigpPT5pdSxzZXRTb3VyY2VNYXBzRW5hYmxlZDooKT0+QnUsc2V0VW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2s6KCk9Pmh1LHN0ZGVycjooKT0+bXUsc3RkaW46KCk9PnZ1LHN0ZG91dDooKT0+X3UsdGl0bGU6KCk9Pk9sLHVtYXNrOigpPT5XbCx1cHRpbWU6KCk9PlB1LHZlcnNpb246KCk9PnFsLHZlcnNpb25zOigpPT5EbH0pO2Z1bmN0aW9uIF9zKHQpe3Rocm93IG5ldyBFcnJvcihcIk5vZGUuanMgcHJvY2VzcyBcIit0K1wiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSlNQTSBjb3JlIG91dHNpZGUgb2YgTm9kZS5qc1wiKX1mdW5jdGlvbiBKZygpeyFMcnx8IVh0fHwoTHI9ITEsWHQubGVuZ3RoP2J0PVh0LmNvbmNhdChidCk6Rmk9LTEsYnQubGVuZ3RoJiZCbCgpKTt9ZnVuY3Rpb24gQmwoKXtpZighTHIpe3ZhciB0PXNldFRpbWVvdXQoSmcsMCk7THI9ITA7Zm9yKHZhciBlPWJ0Lmxlbmd0aDtlOyl7Zm9yKFh0PWJ0LGJ0PVtdOysrRmk8ZTspWHQmJlh0W0ZpXS5ydW4oKTtGaT0tMSxlPWJ0Lmxlbmd0aDt9WHQ9bnVsbCxMcj0hMSxjbGVhclRpbWVvdXQodCk7fX1mdW5jdGlvbiBQbCh0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO2J0LnB1c2gobmV3IGtsKHQsZSkpLGJ0Lmxlbmd0aD09PTEmJiFMciYmc2V0VGltZW91dChCbCwwKTt9ZnVuY3Rpb24ga2wodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZTt9ZnVuY3Rpb24gRWUoKXt9ZnVuY3Rpb24gR2wodCl7X3MoXCJfbGlua2VkQmluZGluZ1wiKTt9ZnVuY3Rpb24gWGwodCl7X3MoXCJkbG9wZW5cIik7fWZ1bmN0aW9uIFpsKCl7cmV0dXJuIFtdfWZ1bmN0aW9uIGV1KCl7cmV0dXJuIFtdfWZ1bmN0aW9uIHV1KHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKGV8fFwiYXNzZXJ0aW9uIGVycm9yXCIpfWZ1bmN0aW9uIGR1KCl7cmV0dXJuICExfWZ1bmN0aW9uIFB1KCl7cmV0dXJuIEx0Lm5vdygpLzFlM31mdW5jdGlvbiBXaSh0KXt2YXIgZT1NYXRoLmZsb29yKChEYXRlLm5vdygpLUx0Lm5vdygpKSouMDAxKSxyPUx0Lm5vdygpKi4wMDEsaT1NYXRoLmZsb29yKHIpK2Usbj1NYXRoLmZsb29yKHIlMSoxZTkpO3JldHVybiB0JiYoaT1pLXRbMF0sbj1uLXRbMV0sbjwwJiYoaS0tLG4rPXdzKSksW2ksbl19ZnVuY3Rpb24gd3QoKXtyZXR1cm4gJHV9ZnVuY3Rpb24gV3UodCl7cmV0dXJuIFtdfXZhciBidCxMcixYdCxGaSxPbCx4bCxNbCxMbCxVbCxObCxxbCxEbCxqbCxGbCxXbCwkbCxIbCxWbCx6bCxLbCxRbCxZbCxKbCx0dSxydSwkaSxpdSxudSxzdSxvdSxhdSxsdSxmdSxjdSxodSxwdSxndSx5dSxidSx3dSxfdSxtdSx2dSxFdSxTdSxBdSxJdSxUdSxSdSxDdSxCdSxMdCxicyx3cyxrdSxPdSx4dSxNdSxMdSxVdSxOdSxxdSxEdSxqdSxGdSwkdSxIdT1fZSgoKT0+e18oKTt2KCk7bSgpO2J0PVtdLExyPSExLEZpPS0xO2tsLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpO307T2w9XCJicm93c2VyXCIseGw9XCJ4NjRcIixNbD1cImJyb3dzZXJcIixMbD17UEFUSDpcIi91c3IvYmluXCIsTEFORzpuYXZpZ2F0b3IubGFuZ3VhZ2UrXCIuVVRGLThcIixQV0Q6XCIvXCIsSE9NRTpcIi9ob21lXCIsVE1QOlwiL3RtcFwifSxVbD1bXCIvdXNyL2Jpbi9ub2RlXCJdLE5sPVtdLHFsPVwidjE2LjguMFwiLERsPXt9LGpsPWZ1bmN0aW9uKHQsZSl7Y29uc29sZS53YXJuKChlP2UrXCI6IFwiOlwiXCIpK3QpO30sRmw9ZnVuY3Rpb24odCl7X3MoXCJiaW5kaW5nXCIpO30sV2w9ZnVuY3Rpb24odCl7cmV0dXJuIDB9LCRsPWZ1bmN0aW9uKCl7cmV0dXJuIFwiL1wifSxIbD1mdW5jdGlvbih0KXt9LFZsPXtuYW1lOlwibm9kZVwiLHNvdXJjZVVybDpcIlwiLGhlYWRlcnNVcmw6XCJcIixsaWJVcmw6XCJcIn07emw9RWUsS2w9W107UWw9e30sWWw9ITEsSmw9e307dHU9RWUscnU9RWUsJGk9ZnVuY3Rpb24oKXtyZXR1cm4ge319LGl1PSRpLG51PSRpLHN1PUVlLG91PUVlLGF1PUVlLGx1PXt9O2Z1PXtpbnNwZWN0b3I6ITEsZGVidWc6ITEsdXY6ITEsaXB2NjohMSx0bHNfYWxwbjohMSx0bHNfc25pOiExLHRsc19vY3NwOiExLHRsczohMSxjYWNoZWRfYnVpbHRpbnM6ITB9LGN1PUVlLGh1PUVlO3B1PUVlLGd1PUVlLHl1PUVlLGJ1PUVlLHd1PUVlLF91PXZvaWQgMCxtdT12b2lkIDAsdnU9dm9pZCAwLEV1PUVlLFN1PTIsQXU9MSxJdT1cIi9iaW4vdXNyL25vZGVcIixUdT05MjI5LFJ1PVwibm9kZVwiLEN1PVtdLEJ1PUVlLEx0PXtub3c6dHlwZW9mIHBlcmZvcm1hbmNlPFwidVwiP3BlcmZvcm1hbmNlLm5vdy5iaW5kKHBlcmZvcm1hbmNlKTp2b2lkIDAsdGltaW5nOnR5cGVvZiBwZXJmb3JtYW5jZTxcInVcIj9wZXJmb3JtYW5jZS50aW1pbmc6dm9pZCAwfTtMdC5ub3c9PT12b2lkIDAmJihicz1EYXRlLm5vdygpLEx0LnRpbWluZyYmTHQudGltaW5nLm5hdmlnYXRpb25TdGFydCYmKGJzPUx0LnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQpLEx0Lm5vdz0oKT0+RGF0ZS5ub3coKS1icyk7d3M9MWU5O1dpLmJpZ2ludD1mdW5jdGlvbih0KXt2YXIgZT1XaSh0KTtyZXR1cm4gdHlwZW9mIEJpZ0ludD5cInVcIj9lWzBdKndzK2VbMV06QmlnSW50KGVbMF0qd3MpK0JpZ0ludChlWzFdKX07a3U9MTAsT3U9e30seHU9MDtNdT13dCxMdT13dCxVdT13dCxOdT13dCxxdT13dCxEdT1FZSxqdT13dCxGdT13dDskdT17dmVyc2lvbjpxbCx2ZXJzaW9uczpEbCxhcmNoOnhsLHBsYXRmb3JtOk1sLHJlbGVhc2U6VmwsX3Jhd0RlYnVnOnpsLG1vZHVsZUxvYWRMaXN0OktsLGJpbmRpbmc6RmwsX2xpbmtlZEJpbmRpbmc6R2wsX2V2ZW50czpPdSxfZXZlbnRzQ291bnQ6eHUsX21heExpc3RlbmVyczprdSxvbjp3dCxhZGRMaXN0ZW5lcjpNdSxvbmNlOkx1LG9mZjpVdSxyZW1vdmVMaXN0ZW5lcjpOdSxyZW1vdmVBbGxMaXN0ZW5lcnM6cXUsZW1pdDpEdSxwcmVwZW5kTGlzdGVuZXI6anUscHJlcGVuZE9uY2VMaXN0ZW5lcjpGdSxsaXN0ZW5lcnM6V3UsZG9tYWluOlFsLF9leGl0aW5nOllsLGNvbmZpZzpKbCxkbG9wZW46WGwsdXB0aW1lOlB1LF9nZXRBY3RpdmVSZXF1ZXN0czpabCxfZ2V0QWN0aXZlSGFuZGxlczpldSxyZWFsbHlFeGl0OnR1LF9raWxsOnJ1LGNwdVVzYWdlOiRpLHJlc291cmNlVXNhZ2U6aXUsbWVtb3J5VXNhZ2U6bnUsa2lsbDpzdSxleGl0Om91LG9wZW5TdGRpbjphdSxhbGxvd2VkTm9kZUVudmlyb25tZW50RmxhZ3M6bHUsYXNzZXJ0OnV1LGZlYXR1cmVzOmZ1LF9mYXRhbEV4Y2VwdGlvbnM6Y3Usc2V0VW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2s6aHUsaGFzVW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2s6ZHUsZW1pdFdhcm5pbmc6amwsbmV4dFRpY2s6UGwsX3RpY2tDYWxsYmFjazpwdSxfZGVidWdQcm9jZXNzOmd1LF9kZWJ1Z0VuZDp5dSxfc3RhcnRQcm9maWxlcklkbGVOb3RpZmllcjpidSxfc3RvcFByb2ZpbGVySWRsZU5vdGlmaWVyOnd1LHN0ZG91dDpfdSxzdGRpbjp2dSxzdGRlcnI6bXUsYWJvcnQ6RXUsdW1hc2s6V2wsY2hkaXI6SGwsY3dkOiRsLGVudjpMbCx0aXRsZTpPbCxhcmd2OlVsLGV4ZWNBcmd2Ok5sLHBpZDpTdSxwcGlkOkF1LGV4ZWNQYXRoOkl1LGRlYnVnUG9ydDpUdSxocnRpbWU6V2ksYXJndjA6UnUsX3ByZWxvYWRfbW9kdWxlczpDdSxzZXRTb3VyY2VNYXBzRW5hYmxlZDpCdX07fSk7dmFyIG09X2UoKCk9PntIdSgpO30pO3ZhciBtZT17fTtKdChtZSx7QnVmZmVyOigpPT54LElOU1BFQ1RfTUFYX0JZVEVTOigpPT50eSxkZWZhdWx0OigpPT5VdCxrTWF4TGVuZ3RoOigpPT5yeX0pO2Z1bmN0aW9uIFhnKCl7aWYoVnUpcmV0dXJuIGNpO1Z1PSEwLGNpLmJ5dGVMZW5ndGg9YSxjaS50b0J5dGVBcnJheT1jLGNpLmZyb21CeXRlQXJyYXk9Zztmb3IodmFyIHQ9W10sZT1bXSxyPXR5cGVvZiBVaW50OEFycmF5PFwidVwiP1VpbnQ4QXJyYXk6QXJyYXksaT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixuPTAsbz1pLmxlbmd0aDtuPG87KytuKXRbbl09aVtuXSxlW2kuY2hhckNvZGVBdChuKV09bjtlW1wiLVwiLmNoYXJDb2RlQXQoMCldPTYyLGVbXCJfXCIuY2hhckNvZGVBdCgwKV09NjM7ZnVuY3Rpb24gcyh5KXt2YXIgdz15Lmxlbmd0aDtpZih3JTQ+MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciBTPXkuaW5kZXhPZihcIj1cIik7Uz09PS0xJiYoUz13KTt2YXIgRT1TPT09dz8wOjQtUyU0O3JldHVybiBbUyxFXX1mdW5jdGlvbiBhKHkpe3ZhciB3PXMoeSksUz13WzBdLEU9d1sxXTtyZXR1cm4gKFMrRSkqMy80LUV9ZnVuY3Rpb24gbCh5LHcsUyl7cmV0dXJuICh3K1MpKjMvNC1TfWZ1bmN0aW9uIGMoeSl7dmFyIHcsUz1zKHkpLEU9U1swXSxJPVNbMV0sQz1uZXcgcihsKHksRSxJKSksUj0wLFU9ST4wP0UtNDpFLE47Zm9yKE49MDtOPFU7Tis9NCl3PWVbeS5jaGFyQ29kZUF0KE4pXTw8MTh8ZVt5LmNoYXJDb2RlQXQoTisxKV08PDEyfGVbeS5jaGFyQ29kZUF0KE4rMildPDw2fGVbeS5jaGFyQ29kZUF0KE4rMyldLENbUisrXT13Pj4xNiYyNTUsQ1tSKytdPXc+PjgmMjU1LENbUisrXT13JjI1NTtyZXR1cm4gST09PTImJih3PWVbeS5jaGFyQ29kZUF0KE4pXTw8MnxlW3kuY2hhckNvZGVBdChOKzEpXT4+NCxDW1IrK109dyYyNTUpLEk9PT0xJiYodz1lW3kuY2hhckNvZGVBdChOKV08PDEwfGVbeS5jaGFyQ29kZUF0KE4rMSldPDw0fGVbeS5jaGFyQ29kZUF0KE4rMildPj4yLENbUisrXT13Pj44JjI1NSxDW1IrK109dyYyNTUpLEN9ZnVuY3Rpb24gaCh5KXtyZXR1cm4gdFt5Pj4xOCY2M10rdFt5Pj4xMiY2M10rdFt5Pj42JjYzXSt0W3kmNjNdfWZ1bmN0aW9uIGQoeSx3LFMpe2Zvcih2YXIgRSxJPVtdLEM9dztDPFM7Qys9MylFPSh5W0NdPDwxNiYxNjcxMTY4MCkrKHlbQysxXTw8OCY2NTI4MCkrKHlbQysyXSYyNTUpLEkucHVzaChoKEUpKTtyZXR1cm4gSS5qb2luKFwiXCIpfWZ1bmN0aW9uIGcoeSl7Zm9yKHZhciB3LFM9eS5sZW5ndGgsRT1TJTMsST1bXSxDPTE2MzgzLFI9MCxVPVMtRTtSPFU7Uis9QylJLnB1c2goZCh5LFIsUitDPlU/VTpSK0MpKTtyZXR1cm4gRT09PTE/KHc9eVtTLTFdLEkucHVzaCh0W3c+PjJdK3Rbdzw8NCY2M10rXCI9PVwiKSk6RT09PTImJih3PSh5W1MtMl08PDgpK3lbUy0xXSxJLnB1c2godFt3Pj4xMF0rdFt3Pj40JjYzXSt0W3c8PDImNjNdK1wiPVwiKSksSS5qb2luKFwiXCIpfXJldHVybiBjaX1mdW5jdGlvbiBaZygpe2lmKHp1KXJldHVybiBIaTt6dT0hMDtyZXR1cm4gSGkucmVhZD1mdW5jdGlvbih0LGUscixpLG4pe3ZhciBvLHMsYT1uKjgtaS0xLGw9KDE8PGEpLTEsYz1sPj4xLGg9LTcsZD1yP24tMTowLGc9cj8tMToxLHk9dFtlK2RdO2ZvcihkKz1nLG89eSYoMTw8LWgpLTEseT4+PS1oLGgrPWE7aD4wO289byoyNTYrdFtlK2RdLGQrPWcsaC09OCk7Zm9yKHM9byYoMTw8LWgpLTEsbz4+PS1oLGgrPWk7aD4wO3M9cyoyNTYrdFtlK2RdLGQrPWcsaC09OCk7aWYobz09PTApbz0xLWM7ZWxzZSB7aWYobz09PWwpcmV0dXJuIHM/TmFOOih5Py0xOjEpKigxLzApO3M9cytNYXRoLnBvdygyLGkpLG89by1jO31yZXR1cm4gKHk/LTE6MSkqcypNYXRoLnBvdygyLG8taSl9LEhpLndyaXRlPWZ1bmN0aW9uKHQsZSxyLGksbixvKXt2YXIgcyxhLGwsYz1vKjgtbi0xLGg9KDE8PGMpLTEsZD1oPj4xLGc9bj09PTIzP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCx5PWk/MDpvLTEsdz1pPzE6LTEsUz1lPDB8fGU9PT0wJiYxL2U8MD8xOjA7Zm9yKGU9TWF0aC5hYnMoZSksaXNOYU4oZSl8fGU9PT0xLzA/KGE9aXNOYU4oZSk/MTowLHM9aCk6KHM9TWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMiksZSoobD1NYXRoLnBvdygyLC1zKSk8MSYmKHMtLSxsKj0yKSxzK2Q+PTE/ZSs9Zy9sOmUrPWcqTWF0aC5wb3coMiwxLWQpLGUqbD49MiYmKHMrKyxsLz0yKSxzK2Q+PWg/KGE9MCxzPWgpOnMrZD49MT8oYT0oZSpsLTEpKk1hdGgucG93KDIsbikscz1zK2QpOihhPWUqTWF0aC5wb3coMixkLTEpKk1hdGgucG93KDIsbikscz0wKSk7bj49ODt0W3IreV09YSYyNTUseSs9dyxhLz0yNTYsbi09OCk7Zm9yKHM9czw8bnxhLGMrPW47Yz4wO3Rbcit5XT1zJjI1NSx5Kz13LHMvPTI1NixjLT04KTt0W3IreS13XXw9UyoxMjg7fSxIaX1mdW5jdGlvbiBleSgpe2lmKEt1KXJldHVybiBadDtLdT0hMDtsZXQgdD1YZygpLGU9WmcoKSxyPXR5cGVvZiBTeW1ib2w9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIFN5bWJvbC5mb3I9PVwiZnVuY3Rpb25cIj9TeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIik6bnVsbDtadC5CdWZmZXI9cyxadC5TbG93QnVmZmVyPUksWnQuSU5TUEVDVF9NQVhfQllURVM9NTA7bGV0IGk9MjE0NzQ4MzY0NztadC5rTWF4TGVuZ3RoPWkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPW4oKSwhcy5UWVBFRF9BUlJBWV9TVVBQT1JUJiZ0eXBlb2YgY29uc29sZTxcInVcIiYmdHlwZW9mIGNvbnNvbGUuZXJyb3I9PVwiZnVuY3Rpb25cIiYmY29uc29sZS5lcnJvcihcIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LlwiKTtmdW5jdGlvbiBuKCl7dHJ5e2xldCBwPW5ldyBVaW50OEFycmF5KDEpLHU9e2ZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19O3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YodSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHAsdSkscC5mb28oKT09PTQyfWNhdGNoe3JldHVybiAhMX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwicGFyZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYocy5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLFwib2Zmc2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYocy5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pO2Z1bmN0aW9uIG8ocCl7aWYocD5pKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK3ArJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpO2xldCB1PW5ldyBVaW50OEFycmF5KHApO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YodSxzLnByb3RvdHlwZSksdX1mdW5jdGlvbiBzKHAsdSxmKXtpZih0eXBlb2YgcD09XCJudW1iZXJcIil7aWYodHlwZW9mIHU9PVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gaChwKX1yZXR1cm4gYShwLHUsZil9cy5wb29sU2l6ZT04MTkyO2Z1bmN0aW9uIGEocCx1LGYpe2lmKHR5cGVvZiBwPT1cInN0cmluZ1wiKXJldHVybiBkKHAsdSk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHApKXJldHVybiB5KHApO2lmKHA9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiBwKTtpZihZZShwLEFycmF5QnVmZmVyKXx8cCYmWWUocC5idWZmZXIsQXJyYXlCdWZmZXIpfHx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8XCJ1XCImJihZZShwLFNoYXJlZEFycmF5QnVmZmVyKXx8cCYmWWUocC5idWZmZXIsU2hhcmVkQXJyYXlCdWZmZXIpKSlyZXR1cm4gdyhwLHUsZik7aWYodHlwZW9mIHA9PVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtsZXQgYj1wLnZhbHVlT2YmJnAudmFsdWVPZigpO2lmKGIhPW51bGwmJmIhPT1wKXJldHVybiBzLmZyb20oYix1LGYpO2xldCBBPVMocCk7aWYoQSlyZXR1cm4gQTtpZih0eXBlb2YgU3ltYm9sPFwidVwiJiZTeW1ib2wudG9QcmltaXRpdmUhPW51bGwmJnR5cGVvZiBwW1N5bWJvbC50b1ByaW1pdGl2ZV09PVwiZnVuY3Rpb25cIilyZXR1cm4gcy5mcm9tKHBbU3ltYm9sLnRvUHJpbWl0aXZlXShcInN0cmluZ1wiKSx1LGYpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgcCl9cy5mcm9tPWZ1bmN0aW9uKHAsdSxmKXtyZXR1cm4gYShwLHUsZil9LE9iamVjdC5zZXRQcm90b3R5cGVPZihzLnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHMsVWludDhBcnJheSk7ZnVuY3Rpb24gbChwKXtpZih0eXBlb2YgcCE9XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJyk7aWYocDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInK3ArJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpfWZ1bmN0aW9uIGMocCx1LGYpe3JldHVybiBsKHApLHA8PTA/byhwKTp1IT09dm9pZCAwP3R5cGVvZiBmPT1cInN0cmluZ1wiP28ocCkuZmlsbCh1LGYpOm8ocCkuZmlsbCh1KTpvKHApfXMuYWxsb2M9ZnVuY3Rpb24ocCx1LGYpe3JldHVybiBjKHAsdSxmKX07ZnVuY3Rpb24gaChwKXtyZXR1cm4gbChwKSxvKHA8MD8wOkUocCl8MCl9cy5hbGxvY1Vuc2FmZT1mdW5jdGlvbihwKXtyZXR1cm4gaChwKX0scy5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24ocCl7cmV0dXJuIGgocCl9O2Z1bmN0aW9uIGQocCx1KXtpZigodHlwZW9mIHUhPVwic3RyaW5nXCJ8fHU9PT1cIlwiKSYmKHU9XCJ1dGY4XCIpLCFzLmlzRW5jb2RpbmcodSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3UpO2xldCBmPUMocCx1KXwwLGI9byhmKSxBPWIud3JpdGUocCx1KTtyZXR1cm4gQSE9PWYmJihiPWIuc2xpY2UoMCxBKSksYn1mdW5jdGlvbiBnKHApe2xldCB1PXAubGVuZ3RoPDA/MDpFKHAubGVuZ3RoKXwwLGY9byh1KTtmb3IobGV0IGI9MDtiPHU7Yis9MSlmW2JdPXBbYl0mMjU1O3JldHVybiBmfWZ1bmN0aW9uIHkocCl7aWYoWWUocCxVaW50OEFycmF5KSl7bGV0IHU9bmV3IFVpbnQ4QXJyYXkocCk7cmV0dXJuIHcodS5idWZmZXIsdS5ieXRlT2Zmc2V0LHUuYnl0ZUxlbmd0aCl9cmV0dXJuIGcocCl9ZnVuY3Rpb24gdyhwLHUsZil7aWYodTwwfHxwLmJ5dGVMZW5ndGg8dSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZihwLmJ5dGVMZW5ndGg8dSsoZnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7bGV0IGI7cmV0dXJuIHU9PT12b2lkIDAmJmY9PT12b2lkIDA/Yj1uZXcgVWludDhBcnJheShwKTpmPT09dm9pZCAwP2I9bmV3IFVpbnQ4QXJyYXkocCx1KTpiPW5ldyBVaW50OEFycmF5KHAsdSxmKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoYixzLnByb3RvdHlwZSksYn1mdW5jdGlvbiBTKHApe2lmKHMuaXNCdWZmZXIocCkpe2xldCB1PUUocC5sZW5ndGgpfDAsZj1vKHUpO3JldHVybiBmLmxlbmd0aD09PTB8fHAuY29weShmLDAsMCx1KSxmfWlmKHAubGVuZ3RoIT09dm9pZCAwKXJldHVybiB0eXBlb2YgcC5sZW5ndGghPVwibnVtYmVyXCJ8fGdzKHAubGVuZ3RoKT9vKDApOmcocCk7aWYocC50eXBlPT09XCJCdWZmZXJcIiYmQXJyYXkuaXNBcnJheShwLmRhdGEpKXJldHVybiBnKHAuZGF0YSl9ZnVuY3Rpb24gRShwKXtpZihwPj1pKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2kudG9TdHJpbmcoMTYpK1wiIGJ5dGVzXCIpO3JldHVybiBwfDB9ZnVuY3Rpb24gSShwKXtyZXR1cm4gK3AhPXAmJihwPTApLHMuYWxsb2MoK3ApfXMuaXNCdWZmZXI9ZnVuY3Rpb24odSl7cmV0dXJuIHUhPW51bGwmJnUuX2lzQnVmZmVyPT09ITAmJnUhPT1zLnByb3RvdHlwZX0scy5jb21wYXJlPWZ1bmN0aW9uKHUsZil7aWYoWWUodSxVaW50OEFycmF5KSYmKHU9cy5mcm9tKHUsdS5vZmZzZXQsdS5ieXRlTGVuZ3RoKSksWWUoZixVaW50OEFycmF5KSYmKGY9cy5mcm9tKGYsZi5vZmZzZXQsZi5ieXRlTGVuZ3RoKSksIXMuaXNCdWZmZXIodSl8fCFzLmlzQnVmZmVyKGYpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZih1PT09ZilyZXR1cm4gMDtsZXQgYj11Lmxlbmd0aCxBPWYubGVuZ3RoO2ZvcihsZXQgVD0wLFA9TWF0aC5taW4oYixBKTtUPFA7KytUKWlmKHVbVF0hPT1mW1RdKXtiPXVbVF0sQT1mW1RdO2JyZWFrfXJldHVybiBiPEE/LTE6QTxiPzE6MH0scy5pc0VuY29kaW5nPWZ1bmN0aW9uKHUpe3N3aXRjaChTdHJpbmcodSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITF9fSxzLmNvbmNhdD1mdW5jdGlvbih1LGYpe2lmKCFBcnJheS5pc0FycmF5KHUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKHUubGVuZ3RoPT09MClyZXR1cm4gcy5hbGxvYygwKTtsZXQgYjtpZihmPT09dm9pZCAwKWZvcihmPTAsYj0wO2I8dS5sZW5ndGg7KytiKWYrPXVbYl0ubGVuZ3RoO2xldCBBPXMuYWxsb2NVbnNhZmUoZiksVD0wO2ZvcihiPTA7Yjx1Lmxlbmd0aDsrK2Ipe2xldCBQPXVbYl07aWYoWWUoUCxVaW50OEFycmF5KSlUK1AubGVuZ3RoPkEubGVuZ3RoPyhzLmlzQnVmZmVyKFApfHwoUD1zLmZyb20oUCkpLFAuY29weShBLFQpKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChBLFAsVCk7ZWxzZSBpZihzLmlzQnVmZmVyKFApKVAuY29weShBLFQpO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7VCs9UC5sZW5ndGg7fXJldHVybiBBfTtmdW5jdGlvbiBDKHAsdSl7aWYocy5pc0J1ZmZlcihwKSlyZXR1cm4gcC5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHApfHxZZShwLEFycmF5QnVmZmVyKSlyZXR1cm4gcC5ieXRlTGVuZ3RoO2lmKHR5cGVvZiBwIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHApO2xldCBmPXAubGVuZ3RoLGI9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl09PT0hMDtpZighYiYmZj09PTApcmV0dXJuIDA7bGV0IEE9ITE7Zm9yKDs7KXN3aXRjaCh1KXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBmO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBwcyhwKS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIGYqMjtjYXNlXCJoZXhcIjpyZXR1cm4gZj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIENsKHApLmxlbmd0aDtkZWZhdWx0OmlmKEEpcmV0dXJuIGI/LTE6cHMocCkubGVuZ3RoO3U9KFwiXCIrdSkudG9Mb3dlckNhc2UoKSxBPSEwO319cy5ieXRlTGVuZ3RoPUM7ZnVuY3Rpb24gUihwLHUsZil7bGV0IGI9ITE7aWYoKHU9PT12b2lkIDB8fHU8MCkmJih1PTApLHU+dGhpcy5sZW5ndGh8fCgoZj09PXZvaWQgMHx8Zj50aGlzLmxlbmd0aCkmJihmPXRoaXMubGVuZ3RoKSxmPD0wKXx8KGY+Pj49MCx1Pj4+PTAsZjw9dSkpcmV0dXJuIFwiXCI7Zm9yKHB8fChwPVwidXRmOFwiKTs7KXN3aXRjaChwKXtjYXNlXCJoZXhcIjpyZXR1cm4gcWcodGhpcyx1LGYpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBQcih0aGlzLHUsZik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gaHModGhpcyx1LGYpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBOZyh0aGlzLHUsZik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGdlKHRoaXMsdSxmKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gRGcodGhpcyx1LGYpO2RlZmF1bHQ6aWYoYil0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcCk7cD0ocCtcIlwiKS50b0xvd2VyQ2FzZSgpLGI9ITA7fX1zLnByb3RvdHlwZS5faXNCdWZmZXI9ITA7ZnVuY3Rpb24gVShwLHUsZil7bGV0IGI9cFt1XTtwW3VdPXBbZl0scFtmXT1iO31zLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXtsZXQgdT10aGlzLmxlbmd0aDtpZih1JTIhPT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKGxldCBmPTA7Zjx1O2YrPTIpVSh0aGlzLGYsZisxKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7bGV0IHU9dGhpcy5sZW5ndGg7aWYodSU0IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2ZvcihsZXQgZj0wO2Y8dTtmKz00KVUodGhpcyxmLGYrMyksVSh0aGlzLGYrMSxmKzIpO3JldHVybiB0aGlzfSxzLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXtsZXQgdT10aGlzLmxlbmd0aDtpZih1JTghPT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHNcIik7Zm9yKGxldCBmPTA7Zjx1O2YrPTgpVSh0aGlzLGYsZis3KSxVKHRoaXMsZisxLGYrNiksVSh0aGlzLGYrMixmKzUpLFUodGhpcyxmKzMsZis0KTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtsZXQgdT10aGlzLmxlbmd0aDtyZXR1cm4gdT09PTA/XCJcIjphcmd1bWVudHMubGVuZ3RoPT09MD9Qcih0aGlzLDAsdSk6Ui5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHMucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPXMucHJvdG90eXBlLnRvU3RyaW5nLHMucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih1KXtpZighcy5pc0J1ZmZlcih1KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PXU/ITA6cy5jb21wYXJlKHRoaXMsdSk9PT0wfSxzLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7bGV0IHU9XCJcIixmPVp0LklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB1PXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLGYpLnJlcGxhY2UoLyguezJ9KS9nLFwiJDEgXCIpLnRyaW0oKSx0aGlzLmxlbmd0aD5mJiYodSs9XCIgLi4uIFwiKSxcIjxCdWZmZXIgXCIrdStcIj5cIn0sciYmKHMucHJvdG90eXBlW3JdPXMucHJvdG90eXBlLmluc3BlY3QpLHMucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odSxmLGIsQSxUKXtpZihZZSh1LFVpbnQ4QXJyYXkpJiYodT1zLmZyb20odSx1Lm9mZnNldCx1LmJ5dGVMZW5ndGgpKSwhcy5pc0J1ZmZlcih1KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHUpO2lmKGY9PT12b2lkIDAmJihmPTApLGI9PT12b2lkIDAmJihiPXU/dS5sZW5ndGg6MCksQT09PXZvaWQgMCYmKEE9MCksVD09PXZvaWQgMCYmKFQ9dGhpcy5sZW5ndGgpLGY8MHx8Yj51Lmxlbmd0aHx8QTwwfHxUPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKEE+PVQmJmY+PWIpcmV0dXJuIDA7aWYoQT49VClyZXR1cm4gLTE7aWYoZj49YilyZXR1cm4gMTtpZihmPj4+PTAsYj4+Pj0wLEE+Pj49MCxUPj4+PTAsdGhpcz09PXUpcmV0dXJuIDA7bGV0IFA9VC1BLCQ9Yi1mLHNlPU1hdGgubWluKFAsJCksdGU9dGhpcy5zbGljZShBLFQpLG9lPXUuc2xpY2UoZixiKTtmb3IobGV0IEo9MDtKPHNlOysrSilpZih0ZVtKXSE9PW9lW0pdKXtQPXRlW0pdLCQ9b2VbSl07YnJlYWt9cmV0dXJuIFA8JD8tMTokPFA/MTowfTtmdW5jdGlvbiBOKHAsdSxmLGIsQSl7aWYocC5sZW5ndGg9PT0wKXJldHVybiAtMTtpZih0eXBlb2YgZj09XCJzdHJpbmdcIj8oYj1mLGY9MCk6Zj4yMTQ3NDgzNjQ3P2Y9MjE0NzQ4MzY0NzpmPC0yMTQ3NDgzNjQ4JiYoZj0tMjE0NzQ4MzY0OCksZj0rZixncyhmKSYmKGY9QT8wOnAubGVuZ3RoLTEpLGY8MCYmKGY9cC5sZW5ndGgrZiksZj49cC5sZW5ndGgpe2lmKEEpcmV0dXJuIC0xO2Y9cC5sZW5ndGgtMTt9ZWxzZSBpZihmPDApaWYoQSlmPTA7ZWxzZSByZXR1cm4gLTE7aWYodHlwZW9mIHU9PVwic3RyaW5nXCImJih1PXMuZnJvbSh1LGIpKSxzLmlzQnVmZmVyKHUpKXJldHVybiB1Lmxlbmd0aD09PTA/LTE6VyhwLHUsZixiLEEpO2lmKHR5cGVvZiB1PT1cIm51bWJlclwiKXJldHVybiB1PXUmMjU1LHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mPT1cImZ1bmN0aW9uXCI/QT9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocCx1LGYpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwocCx1LGYpOlcocCxbdV0sZixiLEEpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gVyhwLHUsZixiLEEpe2xldCBUPTEsUD1wLmxlbmd0aCwkPXUubGVuZ3RoO2lmKGIhPT12b2lkIDAmJihiPVN0cmluZyhiKS50b0xvd2VyQ2FzZSgpLGI9PT1cInVjczJcInx8Yj09PVwidWNzLTJcInx8Yj09PVwidXRmMTZsZVwifHxiPT09XCJ1dGYtMTZsZVwiKSl7aWYocC5sZW5ndGg8Mnx8dS5sZW5ndGg8MilyZXR1cm4gLTE7VD0yLFAvPTIsJC89MixmLz0yO31mdW5jdGlvbiBzZShvZSxKKXtyZXR1cm4gVD09PTE/b2VbSl06b2UucmVhZFVJbnQxNkJFKEoqVCl9bGV0IHRlO2lmKEEpe2xldCBvZT0tMTtmb3IodGU9Zjt0ZTxQO3RlKyspaWYoc2UocCx0ZSk9PT1zZSh1LG9lPT09LTE/MDp0ZS1vZSkpe2lmKG9lPT09LTEmJihvZT10ZSksdGUtb2UrMT09PSQpcmV0dXJuIG9lKlR9ZWxzZSBvZSE9PS0xJiYodGUtPXRlLW9lKSxvZT0tMTt9ZWxzZSBmb3IoZiskPlAmJihmPVAtJCksdGU9Zjt0ZT49MDt0ZS0tKXtsZXQgb2U9ITA7Zm9yKGxldCBKPTA7SjwkO0orKylpZihzZShwLHRlK0opIT09c2UodSxKKSl7b2U9ITE7YnJlYWt9aWYob2UpcmV0dXJuIHRlfXJldHVybiAtMX1zLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih1LGYsYil7cmV0dXJuIHRoaXMuaW5kZXhPZih1LGYsYikhPT0tMX0scy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih1LGYsYil7cmV0dXJuIE4odGhpcyx1LGYsYiwhMCl9LHMucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gTih0aGlzLHUsZixiLCExKX07ZnVuY3Rpb24gSyhwLHUsZixiKXtmPU51bWJlcihmKXx8MDtsZXQgQT1wLmxlbmd0aC1mO2I/KGI9TnVtYmVyKGIpLGI+QSYmKGI9QSkpOmI9QTtsZXQgVD11Lmxlbmd0aDtiPlQvMiYmKGI9VC8yKTtsZXQgUDtmb3IoUD0wO1A8YjsrK1Ape2xldCAkPXBhcnNlSW50KHUuc3Vic3RyKFAqMiwyKSwxNik7aWYoZ3MoJCkpcmV0dXJuIFA7cFtmK1BdPSQ7fXJldHVybiBQfWZ1bmN0aW9uIHoocCx1LGYsYil7cmV0dXJuIGppKHBzKHUscC5sZW5ndGgtZikscCxmLGIpfWZ1bmN0aW9uIFEocCx1LGYsYil7cmV0dXJuIGppKCRnKHUpLHAsZixiKX1mdW5jdGlvbiBwZShwLHUsZixiKXtyZXR1cm4gamkoQ2wodSkscCxmLGIpfWZ1bmN0aW9uIFl0KHAsdSxmLGIpe3JldHVybiBqaShIZyh1LHAubGVuZ3RoLWYpLHAsZixiKX1zLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih1LGYsYixBKXtpZihmPT09dm9pZCAwKUE9XCJ1dGY4XCIsYj10aGlzLmxlbmd0aCxmPTA7ZWxzZSBpZihiPT09dm9pZCAwJiZ0eXBlb2YgZj09XCJzdHJpbmdcIilBPWYsYj10aGlzLmxlbmd0aCxmPTA7ZWxzZSBpZihpc0Zpbml0ZShmKSlmPWY+Pj4wLGlzRmluaXRlKGIpPyhiPWI+Pj4wLEE9PT12b2lkIDAmJihBPVwidXRmOFwiKSk6KEE9YixiPXZvaWQgMCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtsZXQgVD10aGlzLmxlbmd0aC1mO2lmKChiPT09dm9pZCAwfHxiPlQpJiYoYj1UKSx1Lmxlbmd0aD4wJiYoYjwwfHxmPDApfHxmPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7QXx8KEE9XCJ1dGY4XCIpO2xldCBQPSExO2Zvcig7Oylzd2l0Y2goQSl7Y2FzZVwiaGV4XCI6cmV0dXJuIEsodGhpcyx1LGYsYik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHoodGhpcyx1LGYsYik7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gUSh0aGlzLHUsZixiKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gcGUodGhpcyx1LGYsYik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIFl0KHRoaXMsdSxmLGIpO2RlZmF1bHQ6aWYoUCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrQSk7QT0oXCJcIitBKS50b0xvd2VyQ2FzZSgpLFA9ITA7fX0scy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTtmdW5jdGlvbiBnZShwLHUsZil7cmV0dXJuIHU9PT0wJiZmPT09cC5sZW5ndGg/dC5mcm9tQnl0ZUFycmF5KHApOnQuZnJvbUJ5dGVBcnJheShwLnNsaWNlKHUsZikpfWZ1bmN0aW9uIFByKHAsdSxmKXtmPU1hdGgubWluKHAubGVuZ3RoLGYpO2xldCBiPVtdLEE9dTtmb3IoO0E8Zjspe2xldCBUPXBbQV0sUD1udWxsLCQ9VD4yMzk/NDpUPjIyMz8zOlQ+MTkxPzI6MTtpZihBKyQ8PWYpe2xldCBzZSx0ZSxvZSxKO3N3aXRjaCgkKXtjYXNlIDE6VDwxMjgmJihQPVQpO2JyZWFrO2Nhc2UgMjpzZT1wW0ErMV0sKHNlJjE5Mik9PT0xMjgmJihKPShUJjMxKTw8NnxzZSY2MyxKPjEyNyYmKFA9SikpO2JyZWFrO2Nhc2UgMzpzZT1wW0ErMV0sdGU9cFtBKzJdLChzZSYxOTIpPT09MTI4JiYodGUmMTkyKT09PTEyOCYmKEo9KFQmMTUpPDwxMnwoc2UmNjMpPDw2fHRlJjYzLEo+MjA0NyYmKEo8NTUyOTZ8fEo+NTczNDMpJiYoUD1KKSk7YnJlYWs7Y2FzZSA0OnNlPXBbQSsxXSx0ZT1wW0ErMl0sb2U9cFtBKzNdLChzZSYxOTIpPT09MTI4JiYodGUmMTkyKT09PTEyOCYmKG9lJjE5Mik9PT0xMjgmJihKPShUJjE1KTw8MTh8KHNlJjYzKTw8MTJ8KHRlJjYzKTw8NnxvZSY2MyxKPjY1NTM1JiZKPDExMTQxMTImJihQPUopKTt9fVA9PT1udWxsPyhQPTY1NTMzLCQ9MSk6UD42NTUzNSYmKFAtPTY1NTM2LGIucHVzaChQPj4+MTAmMTAyM3w1NTI5NiksUD01NjMyMHxQJjEwMjMpLGIucHVzaChQKSxBKz0kO31yZXR1cm4gT3IoYil9bGV0IGtyPTQwOTY7ZnVuY3Rpb24gT3IocCl7bGV0IHU9cC5sZW5ndGg7aWYodTw9a3IpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHApO2xldCBmPVwiXCIsYj0wO2Zvcig7Yjx1OylmKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxwLnNsaWNlKGIsYis9a3IpKTtyZXR1cm4gZn1mdW5jdGlvbiBocyhwLHUsZil7bGV0IGI9XCJcIjtmPU1hdGgubWluKHAubGVuZ3RoLGYpO2ZvcihsZXQgQT11O0E8ZjsrK0EpYis9U3RyaW5nLmZyb21DaGFyQ29kZShwW0FdJjEyNyk7cmV0dXJuIGJ9ZnVuY3Rpb24gTmcocCx1LGYpe2xldCBiPVwiXCI7Zj1NYXRoLm1pbihwLmxlbmd0aCxmKTtmb3IobGV0IEE9dTtBPGY7KytBKWIrPVN0cmluZy5mcm9tQ2hhckNvZGUocFtBXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gcWcocCx1LGYpe2xldCBiPXAubGVuZ3RoOyghdXx8dTwwKSYmKHU9MCksKCFmfHxmPDB8fGY+YikmJihmPWIpO2xldCBBPVwiXCI7Zm9yKGxldCBUPXU7VDxmOysrVClBKz1WZ1twW1RdXTtyZXR1cm4gQX1mdW5jdGlvbiBEZyhwLHUsZil7bGV0IGI9cC5zbGljZSh1LGYpLEE9XCJcIjtmb3IobGV0IFQ9MDtUPGIubGVuZ3RoLTE7VCs9MilBKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJbVF0rYltUKzFdKjI1Nik7cmV0dXJuIEF9cy5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odSxmKXtsZXQgYj10aGlzLmxlbmd0aDt1PX5+dSxmPWY9PT12b2lkIDA/Yjp+fmYsdTwwPyh1Kz1iLHU8MCYmKHU9MCkpOnU+YiYmKHU9YiksZjwwPyhmKz1iLGY8MCYmKGY9MCkpOmY+YiYmKGY9YiksZjx1JiYoZj11KTtsZXQgQT10aGlzLnN1YmFycmF5KHUsZik7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihBLHMucHJvdG90eXBlKSxBfTtmdW5jdGlvbiB5ZShwLHUsZil7aWYocCUxIT09MHx8cDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKHArdT5mKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1zLnByb3RvdHlwZS5yZWFkVWludExFPXMucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24odSxmLGIpe3U9dT4+PjAsZj1mPj4+MCxifHx5ZSh1LGYsdGhpcy5sZW5ndGgpO2xldCBBPXRoaXNbdV0sVD0xLFA9MDtmb3IoOysrUDxmJiYoVCo9MjU2KTspQSs9dGhpc1t1K1BdKlQ7cmV0dXJuIEF9LHMucHJvdG90eXBlLnJlYWRVaW50QkU9cy5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbih1LGYsYil7dT11Pj4+MCxmPWY+Pj4wLGJ8fHllKHUsZix0aGlzLmxlbmd0aCk7bGV0IEE9dGhpc1t1Ky0tZl0sVD0xO2Zvcig7Zj4wJiYoVCo9MjU2KTspQSs9dGhpc1t1Ky0tZl0qVDtyZXR1cm4gQX0scy5wcm90b3R5cGUucmVhZFVpbnQ4PXMucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsMSx0aGlzLmxlbmd0aCksdGhpc1t1XX0scy5wcm90b3R5cGUucmVhZFVpbnQxNkxFPXMucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsMix0aGlzLmxlbmd0aCksdGhpc1t1XXx0aGlzW3UrMV08PDh9LHMucHJvdG90eXBlLnJlYWRVaW50MTZCRT1zLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDIsdGhpcy5sZW5ndGgpLHRoaXNbdV08PDh8dGhpc1t1KzFdfSxzLnByb3RvdHlwZS5yZWFkVWludDMyTEU9cy5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSw0LHRoaXMubGVuZ3RoKSwodGhpc1t1XXx0aGlzW3UrMV08PDh8dGhpc1t1KzJdPDwxNikrdGhpc1t1KzNdKjE2Nzc3MjE2fSxzLnByb3RvdHlwZS5yZWFkVWludDMyQkU9cy5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSw0LHRoaXMubGVuZ3RoKSx0aGlzW3VdKjE2Nzc3MjE2Kyh0aGlzW3UrMV08PDE2fHRoaXNbdSsyXTw8OHx0aGlzW3UrM10pfSxzLnByb3RvdHlwZS5yZWFkQmlnVUludDY0TEU9TXQoZnVuY3Rpb24odSl7dT11Pj4+MCxNcih1LFwib2Zmc2V0XCIpO2xldCBmPXRoaXNbdV0sYj10aGlzW3UrN107KGY9PT12b2lkIDB8fGI9PT12b2lkIDApJiZmaSh1LHRoaXMubGVuZ3RoLTgpO2xldCBBPWYrdGhpc1srK3VdKjIqKjgrdGhpc1srK3VdKjIqKjE2K3RoaXNbKyt1XSoyKioyNCxUPXRoaXNbKyt1XSt0aGlzWysrdV0qMioqOCt0aGlzWysrdV0qMioqMTYrYioyKioyNDtyZXR1cm4gQmlnSW50KEEpKyhCaWdJbnQoVCk8PEJpZ0ludCgzMikpfSkscy5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFPU10KGZ1bmN0aW9uKHUpe3U9dT4+PjAsTXIodSxcIm9mZnNldFwiKTtsZXQgZj10aGlzW3VdLGI9dGhpc1t1KzddOyhmPT09dm9pZCAwfHxiPT09dm9pZCAwKSYmZmkodSx0aGlzLmxlbmd0aC04KTtsZXQgQT1mKjIqKjI0K3RoaXNbKyt1XSoyKioxNit0aGlzWysrdV0qMioqOCt0aGlzWysrdV0sVD10aGlzWysrdV0qMioqMjQrdGhpc1srK3VdKjIqKjE2K3RoaXNbKyt1XSoyKio4K2I7cmV0dXJuIChCaWdJbnQoQSk8PEJpZ0ludCgzMikpK0JpZ0ludChUKX0pLHMucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbih1LGYsYil7dT11Pj4+MCxmPWY+Pj4wLGJ8fHllKHUsZix0aGlzLmxlbmd0aCk7bGV0IEE9dGhpc1t1XSxUPTEsUD0wO2Zvcig7KytQPGYmJihUKj0yNTYpOylBKz10aGlzW3UrUF0qVDtyZXR1cm4gVCo9MTI4LEE+PVQmJihBLT1NYXRoLnBvdygyLDgqZikpLEF9LHMucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih1LGYsYil7dT11Pj4+MCxmPWY+Pj4wLGJ8fHllKHUsZix0aGlzLmxlbmd0aCk7bGV0IEE9ZixUPTEsUD10aGlzW3UrLS1BXTtmb3IoO0E+MCYmKFQqPTI1Nik7KVArPXRoaXNbdSstLUFdKlQ7cmV0dXJuIFQqPTEyOCxQPj1UJiYoUC09TWF0aC5wb3coMiw4KmYpKSxQfSxzLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsMSx0aGlzLmxlbmd0aCksdGhpc1t1XSYxMjg/KDI1NS10aGlzW3VdKzEpKi0xOnRoaXNbdV19LHMucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHUsZil7dT11Pj4+MCxmfHx5ZSh1LDIsdGhpcy5sZW5ndGgpO2xldCBiPXRoaXNbdV18dGhpc1t1KzFdPDw4O3JldHVybiBiJjMyNzY4P2J8NDI5NDkwMTc2MDpifSxzLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbih1LGYpe3U9dT4+PjAsZnx8eWUodSwyLHRoaXMubGVuZ3RoKTtsZXQgYj10aGlzW3UrMV18dGhpc1t1XTw8ODtyZXR1cm4gYiYzMjc2OD9ifDQyOTQ5MDE3NjA6Yn0scy5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDQsdGhpcy5sZW5ndGgpLHRoaXNbdV18dGhpc1t1KzFdPDw4fHRoaXNbdSsyXTw8MTZ8dGhpc1t1KzNdPDwyNH0scy5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDQsdGhpcy5sZW5ndGgpLHRoaXNbdV08PDI0fHRoaXNbdSsxXTw8MTZ8dGhpc1t1KzJdPDw4fHRoaXNbdSszXX0scy5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEU9TXQoZnVuY3Rpb24odSl7dT11Pj4+MCxNcih1LFwib2Zmc2V0XCIpO2xldCBmPXRoaXNbdV0sYj10aGlzW3UrN107KGY9PT12b2lkIDB8fGI9PT12b2lkIDApJiZmaSh1LHRoaXMubGVuZ3RoLTgpO2xldCBBPXRoaXNbdSs0XSt0aGlzW3UrNV0qMioqOCt0aGlzW3UrNl0qMioqMTYrKGI8PDI0KTtyZXR1cm4gKEJpZ0ludChBKTw8QmlnSW50KDMyKSkrQmlnSW50KGYrdGhpc1srK3VdKjIqKjgrdGhpc1srK3VdKjIqKjE2K3RoaXNbKyt1XSoyKioyNCl9KSxzLnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRT1NdChmdW5jdGlvbih1KXt1PXU+Pj4wLE1yKHUsXCJvZmZzZXRcIik7bGV0IGY9dGhpc1t1XSxiPXRoaXNbdSs3XTsoZj09PXZvaWQgMHx8Yj09PXZvaWQgMCkmJmZpKHUsdGhpcy5sZW5ndGgtOCk7bGV0IEE9KGY8PDI0KSt0aGlzWysrdV0qMioqMTYrdGhpc1srK3VdKjIqKjgrdGhpc1srK3VdO3JldHVybiAoQmlnSW50KEEpPDxCaWdJbnQoMzIpKStCaWdJbnQodGhpc1srK3VdKjIqKjI0K3RoaXNbKyt1XSoyKioxNit0aGlzWysrdV0qMioqOCtiKX0pLHMucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSw0LHRoaXMubGVuZ3RoKSxlLnJlYWQodGhpcyx1LCEwLDIzLDQpfSxzLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsNCx0aGlzLmxlbmd0aCksZS5yZWFkKHRoaXMsdSwhMSwyMyw0KX0scy5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSw4LHRoaXMubGVuZ3RoKSxlLnJlYWQodGhpcyx1LCEwLDUyLDgpfSxzLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDgsdGhpcy5sZW5ndGgpLGUucmVhZCh0aGlzLHUsITEsNTIsOCl9O2Z1bmN0aW9uIENlKHAsdSxmLGIsQSxUKXtpZighcy5pc0J1ZmZlcihwKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih1PkF8fHU8VCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihmK2I+cC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9cy5wcm90b3R5cGUud3JpdGVVaW50TEU9cy5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odSxmLGIsQSl7aWYodT0rdSxmPWY+Pj4wLGI9Yj4+PjAsIUEpe2xldCAkPU1hdGgucG93KDIsOCpiKS0xO0NlKHRoaXMsdSxmLGIsJCwwKTt9bGV0IFQ9MSxQPTA7Zm9yKHRoaXNbZl09dSYyNTU7KytQPGImJihUKj0yNTYpOyl0aGlzW2YrUF09dS9UJjI1NTtyZXR1cm4gZitifSxzLnByb3RvdHlwZS53cml0ZVVpbnRCRT1zLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbih1LGYsYixBKXtpZih1PSt1LGY9Zj4+PjAsYj1iPj4+MCwhQSl7bGV0ICQ9TWF0aC5wb3coMiw4KmIpLTE7Q2UodGhpcyx1LGYsYiwkLDApO31sZXQgVD1iLTEsUD0xO2Zvcih0aGlzW2YrVF09dSYyNTU7LS1UPj0wJiYoUCo9MjU2KTspdGhpc1tmK1RdPXUvUCYyNTU7cmV0dXJuIGYrYn0scy5wcm90b3R5cGUud3JpdGVVaW50OD1zLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDEsMjU1LDApLHRoaXNbZl09dSYyNTUsZisxfSxzLnByb3RvdHlwZS53cml0ZVVpbnQxNkxFPXMucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB1PSt1LGY9Zj4+PjAsYnx8Q2UodGhpcyx1LGYsMiw2NTUzNSwwKSx0aGlzW2ZdPXUmMjU1LHRoaXNbZisxXT11Pj4+OCxmKzJ9LHMucHJvdG90eXBlLndyaXRlVWludDE2QkU9cy5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih1LGYsYil7cmV0dXJuIHU9K3UsZj1mPj4+MCxifHxDZSh0aGlzLHUsZiwyLDY1NTM1LDApLHRoaXNbZl09dT4+PjgsdGhpc1tmKzFdPXUmMjU1LGYrMn0scy5wcm90b3R5cGUud3JpdGVVaW50MzJMRT1zLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2YrM109dT4+PjI0LHRoaXNbZisyXT11Pj4+MTYsdGhpc1tmKzFdPXU+Pj44LHRoaXNbZl09dSYyNTUsZis0fSxzLnByb3RvdHlwZS53cml0ZVVpbnQzMkJFPXMucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB1PSt1LGY9Zj4+PjAsYnx8Q2UodGhpcyx1LGYsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbZl09dT4+PjI0LHRoaXNbZisxXT11Pj4+MTYsdGhpc1tmKzJdPXU+Pj44LHRoaXNbZiszXT11JjI1NSxmKzR9O2Z1bmN0aW9uIHZsKHAsdSxmLGIsQSl7UmwodSxiLEEscCxmLDcpO2xldCBUPU51bWJlcih1JkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cFtmKytdPVQsVD1UPj44LHBbZisrXT1ULFQ9VD4+OCxwW2YrK109VCxUPVQ+PjgscFtmKytdPVQ7bGV0IFA9TnVtYmVyKHU+PkJpZ0ludCgzMikmQmlnSW50KDQyOTQ5NjcyOTUpKTtyZXR1cm4gcFtmKytdPVAsUD1QPj44LHBbZisrXT1QLFA9UD4+OCxwW2YrK109UCxQPVA+PjgscFtmKytdPVAsZn1mdW5jdGlvbiBFbChwLHUsZixiLEEpe1JsKHUsYixBLHAsZiw3KTtsZXQgVD1OdW1iZXIodSZCaWdJbnQoNDI5NDk2NzI5NSkpO3BbZis3XT1ULFQ9VD4+OCxwW2YrNl09VCxUPVQ+PjgscFtmKzVdPVQsVD1UPj44LHBbZis0XT1UO2xldCBQPU51bWJlcih1Pj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIHBbZiszXT1QLFA9UD4+OCxwW2YrMl09UCxQPVA+PjgscFtmKzFdPVAsUD1QPj44LHBbZl09UCxmKzh9cy5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRMRT1NdChmdW5jdGlvbih1LGY9MCl7cmV0dXJuIHZsKHRoaXMsdSxmLEJpZ0ludCgwKSxCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZcIikpfSkscy5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRT1NdChmdW5jdGlvbih1LGY9MCl7cmV0dXJuIEVsKHRoaXMsdSxmLEJpZ0ludCgwKSxCaWdJbnQoXCIweGZmZmZmZmZmZmZmZmZmZmZcIikpfSkscy5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih1LGYsYixBKXtpZih1PSt1LGY9Zj4+PjAsIUEpe2xldCBzZT1NYXRoLnBvdygyLDgqYi0xKTtDZSh0aGlzLHUsZixiLHNlLTEsLXNlKTt9bGV0IFQ9MCxQPTEsJD0wO2Zvcih0aGlzW2ZdPXUmMjU1OysrVDxiJiYoUCo9MjU2KTspdTwwJiYkPT09MCYmdGhpc1tmK1QtMV0hPT0wJiYoJD0xKSx0aGlzW2YrVF09KHUvUD4+MCktJCYyNTU7cmV0dXJuIGYrYn0scy5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbih1LGYsYixBKXtpZih1PSt1LGY9Zj4+PjAsIUEpe2xldCBzZT1NYXRoLnBvdygyLDgqYi0xKTtDZSh0aGlzLHUsZixiLHNlLTEsLXNlKTt9bGV0IFQ9Yi0xLFA9MSwkPTA7Zm9yKHRoaXNbZitUXT11JjI1NTstLVQ+PTAmJihQKj0yNTYpOyl1PDAmJiQ9PT0wJiZ0aGlzW2YrVCsxXSE9PTAmJigkPTEpLHRoaXNbZitUXT0odS9QPj4wKS0kJjI1NTtyZXR1cm4gZitifSxzLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB1PSt1LGY9Zj4+PjAsYnx8Q2UodGhpcyx1LGYsMSwxMjcsLTEyOCksdTwwJiYodT0yNTUrdSsxKSx0aGlzW2ZdPXUmMjU1LGYrMX0scy5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDIsMzI3NjcsLTMyNzY4KSx0aGlzW2ZdPXUmMjU1LHRoaXNbZisxXT11Pj4+OCxmKzJ9LHMucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih1LGYsYil7cmV0dXJuIHU9K3UsZj1mPj4+MCxifHxDZSh0aGlzLHUsZiwyLDMyNzY3LC0zMjc2OCksdGhpc1tmXT11Pj4+OCx0aGlzW2YrMV09dSYyNTUsZisyfSxzLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB1PSt1LGY9Zj4+PjAsYnx8Q2UodGhpcyx1LGYsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW2ZdPXUmMjU1LHRoaXNbZisxXT11Pj4+OCx0aGlzW2YrMl09dT4+PjE2LHRoaXNbZiszXT11Pj4+MjQsZis0fSxzLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB1PSt1LGY9Zj4+PjAsYnx8Q2UodGhpcyx1LGYsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx1PDAmJih1PTQyOTQ5NjcyOTUrdSsxKSx0aGlzW2ZdPXU+Pj4yNCx0aGlzW2YrMV09dT4+PjE2LHRoaXNbZisyXT11Pj4+OCx0aGlzW2YrM109dSYyNTUsZis0fSxzLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0TEU9TXQoZnVuY3Rpb24odSxmPTApe3JldHVybiB2bCh0aGlzLHUsZiwtQmlnSW50KFwiMHg4MDAwMDAwMDAwMDAwMDAwXCIpLEJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZlwiKSl9KSxzLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkU9TXQoZnVuY3Rpb24odSxmPTApe3JldHVybiBFbCh0aGlzLHUsZiwtQmlnSW50KFwiMHg4MDAwMDAwMDAwMDAwMDAwXCIpLEJpZ0ludChcIjB4N2ZmZmZmZmZmZmZmZmZmZlwiKSl9KTtmdW5jdGlvbiBTbChwLHUsZixiLEEsVCl7aWYoZitiPnAubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKGY8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBBbChwLHUsZixiLEEpe3JldHVybiB1PSt1LGY9Zj4+PjAsQXx8U2wocCx1LGYsNCksZS53cml0ZShwLHUsZixiLDIzLDQpLGYrNH1zLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiBBbCh0aGlzLHUsZiwhMCxiKX0scy5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gQWwodGhpcyx1LGYsITEsYil9O2Z1bmN0aW9uIElsKHAsdSxmLGIsQSl7cmV0dXJuIHU9K3UsZj1mPj4+MCxBfHxTbChwLHUsZiw4KSxlLndyaXRlKHAsdSxmLGIsNTIsOCksZis4fXMucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiBJbCh0aGlzLHUsZiwhMCxiKX0scy5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih1LGYsYil7cmV0dXJuIElsKHRoaXMsdSxmLCExLGIpfSxzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHUsZixiLEEpe2lmKCFzLmlzQnVmZmVyKHUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXJcIik7aWYoYnx8KGI9MCksIUEmJkEhPT0wJiYoQT10aGlzLmxlbmd0aCksZj49dS5sZW5ndGgmJihmPXUubGVuZ3RoKSxmfHwoZj0wKSxBPjAmJkE8YiYmKEE9YiksQT09PWJ8fHUubGVuZ3RoPT09MHx8dGhpcy5sZW5ndGg9PT0wKXJldHVybiAwO2lmKGY8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYoYjwwfHxiPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihBPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtBPnRoaXMubGVuZ3RoJiYoQT10aGlzLmxlbmd0aCksdS5sZW5ndGgtZjxBLWImJihBPXUubGVuZ3RoLWYrYik7bGV0IFQ9QS1iO3JldHVybiB0aGlzPT09dSYmdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW49PVwiZnVuY3Rpb25cIj90aGlzLmNvcHlXaXRoaW4oZixiLEEpOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHUsdGhpcy5zdWJhcnJheShiLEEpLGYpLFR9LHMucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odSxmLGIsQSl7aWYodHlwZW9mIHU9PVwic3RyaW5nXCIpe2lmKHR5cGVvZiBmPT1cInN0cmluZ1wiPyhBPWYsZj0wLGI9dGhpcy5sZW5ndGgpOnR5cGVvZiBiPT1cInN0cmluZ1wiJiYoQT1iLGI9dGhpcy5sZW5ndGgpLEEhPT12b2lkIDAmJnR5cGVvZiBBIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKHR5cGVvZiBBPT1cInN0cmluZ1wiJiYhcy5pc0VuY29kaW5nKEEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitBKTtpZih1Lmxlbmd0aD09PTEpe2xldCBQPXUuY2hhckNvZGVBdCgwKTsoQT09PVwidXRmOFwiJiZQPDEyOHx8QT09PVwibGF0aW4xXCIpJiYodT1QKTt9fWVsc2UgdHlwZW9mIHU9PVwibnVtYmVyXCI/dT11JjI1NTp0eXBlb2YgdT09XCJib29sZWFuXCImJih1PU51bWJlcih1KSk7aWYoZjwwfHx0aGlzLmxlbmd0aDxmfHx0aGlzLmxlbmd0aDxiKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKGI8PWYpcmV0dXJuIHRoaXM7Zj1mPj4+MCxiPWI9PT12b2lkIDA/dGhpcy5sZW5ndGg6Yj4+PjAsdXx8KHU9MCk7bGV0IFQ7aWYodHlwZW9mIHU9PVwibnVtYmVyXCIpZm9yKFQ9ZjtUPGI7KytUKXRoaXNbVF09dTtlbHNlIHtsZXQgUD1zLmlzQnVmZmVyKHUpP3U6cy5mcm9tKHUsQSksJD1QLmxlbmd0aDtpZigkPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInK3UrJ1wiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIicpO2ZvcihUPTA7VDxiLWY7KytUKXRoaXNbVCtmXT1QW1QlJF07fXJldHVybiB0aGlzfTtsZXQgeHI9e307ZnVuY3Rpb24gZHMocCx1LGYpe3hyW3BdPWNsYXNzIGV4dGVuZHMgZntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJtZXNzYWdlXCIse3ZhbHVlOnUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMubmFtZT1gJHt0aGlzLm5hbWV9IFske3B9XWAsdGhpcy5zdGFjayxkZWxldGUgdGhpcy5uYW1lO31nZXQgY29kZSgpe3JldHVybiBwfXNldCBjb2RlKEEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiY29kZVwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpBLHdyaXRhYmxlOiEwfSk7fXRvU3RyaW5nKCl7cmV0dXJuIGAke3RoaXMubmFtZX0gWyR7cH1dOiAke3RoaXMubWVzc2FnZX1gfX07fWRzKFwiRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTXCIsZnVuY3Rpb24ocCl7cmV0dXJuIHA/YCR7cH0gaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzYDpcIkF0dGVtcHQgdG8gYWNjZXNzIG1lbW9yeSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIn0sUmFuZ2VFcnJvciksZHMoXCJFUlJfSU5WQUxJRF9BUkdfVFlQRVwiLGZ1bmN0aW9uKHAsdSl7cmV0dXJuIGBUaGUgXCIke3B9XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiB1fWB9LFR5cGVFcnJvciksZHMoXCJFUlJfT1VUX09GX1JBTkdFXCIsZnVuY3Rpb24ocCx1LGYpe2xldCBiPWBUaGUgdmFsdWUgb2YgXCIke3B9XCIgaXMgb3V0IG9mIHJhbmdlLmAsQT1mO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKGYpJiZNYXRoLmFicyhmKT4yKiozMj9BPVRsKFN0cmluZyhmKSk6dHlwZW9mIGY9PVwiYmlnaW50XCImJihBPVN0cmluZyhmKSwoZj5CaWdJbnQoMikqKkJpZ0ludCgzMil8fGY8LShCaWdJbnQoMikqKkJpZ0ludCgzMikpKSYmKEE9VGwoQSkpLEErPVwiblwiKSxiKz1gIEl0IG11c3QgYmUgJHt1fS4gUmVjZWl2ZWQgJHtBfWAsYn0sUmFuZ2VFcnJvcik7ZnVuY3Rpb24gVGwocCl7bGV0IHU9XCJcIixmPXAubGVuZ3RoLGI9cFswXT09PVwiLVwiPzE6MDtmb3IoO2Y+PWIrNDtmLT0zKXU9YF8ke3Auc2xpY2UoZi0zLGYpfSR7dX1gO3JldHVybiBgJHtwLnNsaWNlKDAsZil9JHt1fWB9ZnVuY3Rpb24gamcocCx1LGYpe01yKHUsXCJvZmZzZXRcIiksKHBbdV09PT12b2lkIDB8fHBbdStmXT09PXZvaWQgMCkmJmZpKHUscC5sZW5ndGgtKGYrMSkpO31mdW5jdGlvbiBSbChwLHUsZixiLEEsVCl7aWYocD5mfHxwPHUpe2xldCBQPXR5cGVvZiB1PT1cImJpZ2ludFwiP1wiblwiOlwiXCIsJDt0aHJvdyB1PT09MHx8dT09PUJpZ0ludCgwKT8kPWA+PSAwJHtQfSBhbmQgPCAyJHtQfSAqKiAkeyhUKzEpKjh9JHtQfWA6JD1gPj0gLSgyJHtQfSAqKiAkeyhUKzEpKjgtMX0ke1B9KSBhbmQgPCAyICoqICR7KFQrMSkqOC0xfSR7UH1gLG5ldyB4ci5FUlJfT1VUX09GX1JBTkdFKFwidmFsdWVcIiwkLHApfWpnKGIsQSxUKTt9ZnVuY3Rpb24gTXIocCx1KXtpZih0eXBlb2YgcCE9XCJudW1iZXJcIil0aHJvdyBuZXcgeHIuRVJSX0lOVkFMSURfQVJHX1RZUEUodSxcIm51bWJlclwiLHApfWZ1bmN0aW9uIGZpKHAsdSxmKXt0aHJvdyBNYXRoLmZsb29yKHApIT09cD8oTXIocCxmKSxuZXcgeHIuRVJSX09VVF9PRl9SQU5HRShcIm9mZnNldFwiLFwiYW4gaW50ZWdlclwiLHApKTp1PDA/bmV3IHhyLkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EUzpuZXcgeHIuRVJSX09VVF9PRl9SQU5HRShcIm9mZnNldFwiLGA+PSAkezB9IGFuZCA8PSAke3V9YCxwKX1sZXQgRmc9L1teKy8wLTlBLVphLXotX10vZztmdW5jdGlvbiBXZyhwKXtpZihwPXAuc3BsaXQoXCI9XCIpWzBdLHA9cC50cmltKCkucmVwbGFjZShGZyxcIlwiKSxwLmxlbmd0aDwyKXJldHVybiBcIlwiO2Zvcig7cC5sZW5ndGglNCE9PTA7KXA9cCtcIj1cIjtyZXR1cm4gcH1mdW5jdGlvbiBwcyhwLHUpe3U9dXx8MS8wO2xldCBmLGI9cC5sZW5ndGgsQT1udWxsLFQ9W107Zm9yKGxldCBQPTA7UDxiOysrUCl7aWYoZj1wLmNoYXJDb2RlQXQoUCksZj41NTI5NSYmZjw1NzM0NCl7aWYoIUEpe2lmKGY+NTYzMTkpeyh1LT0zKT4tMSYmVC5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1lbHNlIGlmKFArMT09PWIpeyh1LT0zKT4tMSYmVC5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1BPWY7Y29udGludWV9aWYoZjw1NjMyMCl7KHUtPTMpPi0xJiZULnB1c2goMjM5LDE5MSwxODkpLEE9Zjtjb250aW51ZX1mPShBLTU1Mjk2PDwxMHxmLTU2MzIwKSs2NTUzNjt9ZWxzZSBBJiYodS09Myk+LTEmJlQucHVzaCgyMzksMTkxLDE4OSk7aWYoQT1udWxsLGY8MTI4KXtpZigodS09MSk8MClicmVhaztULnB1c2goZik7fWVsc2UgaWYoZjwyMDQ4KXtpZigodS09Mik8MClicmVhaztULnB1c2goZj4+NnwxOTIsZiY2M3wxMjgpO31lbHNlIGlmKGY8NjU1MzYpe2lmKCh1LT0zKTwwKWJyZWFrO1QucHVzaChmPj4xMnwyMjQsZj4+NiY2M3wxMjgsZiY2M3wxMjgpO31lbHNlIGlmKGY8MTExNDExMil7aWYoKHUtPTQpPDApYnJlYWs7VC5wdXNoKGY+PjE4fDI0MCxmPj4xMiY2M3wxMjgsZj4+NiY2M3wxMjgsZiY2M3wxMjgpO31lbHNlIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKX1yZXR1cm4gVH1mdW5jdGlvbiAkZyhwKXtsZXQgdT1bXTtmb3IobGV0IGY9MDtmPHAubGVuZ3RoOysrZil1LnB1c2gocC5jaGFyQ29kZUF0KGYpJjI1NSk7cmV0dXJuIHV9ZnVuY3Rpb24gSGcocCx1KXtsZXQgZixiLEEsVD1bXTtmb3IobGV0IFA9MDtQPHAubGVuZ3RoJiYhKCh1LT0yKTwwKTsrK1ApZj1wLmNoYXJDb2RlQXQoUCksYj1mPj44LEE9ZiUyNTYsVC5wdXNoKEEpLFQucHVzaChiKTtyZXR1cm4gVH1mdW5jdGlvbiBDbChwKXtyZXR1cm4gdC50b0J5dGVBcnJheShXZyhwKSl9ZnVuY3Rpb24gamkocCx1LGYsYil7bGV0IEE7Zm9yKEE9MDtBPGImJiEoQStmPj11Lmxlbmd0aHx8QT49cC5sZW5ndGgpOysrQSl1W0ErZl09cFtBXTtyZXR1cm4gQX1mdW5jdGlvbiBZZShwLHUpe3JldHVybiBwIGluc3RhbmNlb2YgdXx8cCE9bnVsbCYmcC5jb25zdHJ1Y3RvciE9bnVsbCYmcC5jb25zdHJ1Y3Rvci5uYW1lIT1udWxsJiZwLmNvbnN0cnVjdG9yLm5hbWU9PT11Lm5hbWV9ZnVuY3Rpb24gZ3MocCl7cmV0dXJuIHAhPT1wfWxldCBWZz1mdW5jdGlvbigpe2xldCBwPVwiMDEyMzQ1Njc4OWFiY2RlZlwiLHU9bmV3IEFycmF5KDI1Nik7Zm9yKGxldCBmPTA7ZjwxNjsrK2Ype2xldCBiPWYqMTY7Zm9yKGxldCBBPTA7QTwxNjsrK0EpdVtiK0FdPXBbZl0rcFtBXTt9cmV0dXJuIHV9KCk7ZnVuY3Rpb24gTXQocCl7cmV0dXJuIHR5cGVvZiBCaWdJbnQ+XCJ1XCI/emc6cH1mdW5jdGlvbiB6Zygpe3Rocm93IG5ldyBFcnJvcihcIkJpZ0ludCBub3Qgc3VwcG9ydGVkXCIpfXJldHVybiBadH12YXIgY2ksVnUsSGksenUsWnQsS3UsVXQseCx0eSxyeSxiZT1fZSgoKT0+e18oKTt2KCk7bSgpO2NpPXt9LFZ1PSExO0hpPXt9LHp1PSExO1p0PXt9LEt1PSExO1V0PWV5KCk7VXQuQnVmZmVyO1V0LlNsb3dCdWZmZXI7VXQuSU5TUEVDVF9NQVhfQllURVM7VXQua01heExlbmd0aDt4PVV0LkJ1ZmZlcix0eT1VdC5JTlNQRUNUX01BWF9CWVRFUyxyeT1VdC5rTWF4TGVuZ3RoO30pO3ZhciB2PV9lKCgpPT57YmUoKTt9KTt2YXIgR3U9TSh2cz0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh2cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbXM9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5hbGlhc1RvVG9waWM9e30sdGhpcy5tYXg9ZTt9cHV0KGUscil7cmV0dXJuIHI9PT0wfHxyPnRoaXMubWF4PyExOih0aGlzLmFsaWFzVG9Ub3BpY1tyXT1lLHRoaXMubGVuZ3RoPU9iamVjdC5rZXlzKHRoaXMuYWxpYXNUb1RvcGljKS5sZW5ndGgsITApfWdldFRvcGljQnlBbGlhcyhlKXtyZXR1cm4gdGhpcy5hbGlhc1RvVG9waWNbZV19Y2xlYXIoKXt0aGlzLmFsaWFzVG9Ub3BpYz17fTt9fTt2cy5kZWZhdWx0PW1zO30pO3ZhciBjZT1NKCh4QSxRdSk9PntfKCk7digpO20oKTtRdS5leHBvcnRzPXtBcnJheUlzQXJyYXkodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl9LEFycmF5UHJvdG90eXBlSW5jbHVkZXModCxlKXtyZXR1cm4gdC5pbmNsdWRlcyhlKX0sQXJyYXlQcm90b3R5cGVJbmRleE9mKHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlKX0sQXJyYXlQcm90b3R5cGVKb2luKHQsZSl7cmV0dXJuIHQuam9pbihlKX0sQXJyYXlQcm90b3R5cGVNYXAodCxlKXtyZXR1cm4gdC5tYXAoZSl9LEFycmF5UHJvdG90eXBlUG9wKHQsZSl7cmV0dXJuIHQucG9wKGUpfSxBcnJheVByb3RvdHlwZVB1c2godCxlKXtyZXR1cm4gdC5wdXNoKGUpfSxBcnJheVByb3RvdHlwZVNsaWNlKHQsZSxyKXtyZXR1cm4gdC5zbGljZShlLHIpfSxFcnJvcixGdW5jdGlvblByb3RvdHlwZUNhbGwodCxlLC4uLnIpe3JldHVybiB0LmNhbGwoZSwuLi5yKX0sRnVuY3Rpb25Qcm90b3R5cGVTeW1ib2xIYXNJbnN0YW5jZSh0LGUpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXS5jYWxsKHQsZSl9LE1hdGhGbG9vcjpNYXRoLmZsb29yLE51bWJlcixOdW1iZXJJc0ludGVnZXI6TnVtYmVyLmlzSW50ZWdlcixOdW1iZXJJc05hTjpOdW1iZXIuaXNOYU4sTnVtYmVyTUFYX1NBRkVfSU5URUdFUjpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixOdW1iZXJNSU5fU0FGRV9JTlRFR0VSOk51bWJlci5NSU5fU0FGRV9JTlRFR0VSLE51bWJlclBhcnNlSW50Ok51bWJlci5wYXJzZUludCxPYmplY3REZWZpbmVQcm9wZXJ0aWVzKHQsZSl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsZSl9LE9iamVjdERlZmluZVByb3BlcnR5KHQsZSxyKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSxyKX0sT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKX0sT2JqZWN0S2V5cyh0KXtyZXR1cm4gT2JqZWN0LmtleXModCl9LE9iamVjdFNldFByb3RvdHlwZU9mKHQsZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpfSxQcm9taXNlLFByb21pc2VQcm90b3R5cGVDYXRjaCh0LGUpe3JldHVybiB0LmNhdGNoKGUpfSxQcm9taXNlUHJvdG90eXBlVGhlbih0LGUscil7cmV0dXJuIHQudGhlbihlLHIpfSxQcm9taXNlUmVqZWN0KHQpe3JldHVybiBQcm9taXNlLnJlamVjdCh0KX0sUmVmbGVjdEFwcGx5OlJlZmxlY3QuYXBwbHksUmVnRXhwUHJvdG90eXBlVGVzdCh0LGUpe3JldHVybiB0LnRlc3QoZSl9LFNhZmVTZXQ6U2V0LFN0cmluZyxTdHJpbmdQcm90b3R5cGVTbGljZSh0LGUscil7cmV0dXJuIHQuc2xpY2UoZSxyKX0sU3RyaW5nUHJvdG90eXBlVG9Mb3dlckNhc2UodCl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKX0sU3RyaW5nUHJvdG90eXBlVG9VcHBlckNhc2UodCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0sU3RyaW5nUHJvdG90eXBlVHJpbSh0KXtyZXR1cm4gdC50cmltKCl9LFN5bWJvbCxTeW1ib2xGb3I6U3ltYm9sLmZvcixTeW1ib2xBc3luY0l0ZXJhdG9yOlN5bWJvbC5hc3luY0l0ZXJhdG9yLFN5bWJvbEhhc0luc3RhbmNlOlN5bWJvbC5oYXNJbnN0YW5jZSxTeW1ib2xJdGVyYXRvcjpTeW1ib2wuaXRlcmF0b3IsVHlwZWRBcnJheVByb3RvdHlwZVNldCh0LGUscil7cmV0dXJuIHQuc2V0KGUscil9LFVpbnQ4QXJyYXl9O30pO3ZhciBKZT1NKCgkQSxTcyk9PntfKCk7digpO20oKTt2YXIgaXk9KGJlKCksWChtZSkpLG55PU9iamVjdC5nZXRQcm90b3R5cGVPZihhc3luYyBmdW5jdGlvbigpe30pLmNvbnN0cnVjdG9yLFl1PWdsb2JhbFRoaXMuQmxvYnx8aXkuQmxvYixzeT10eXBlb2YgWXU8XCJ1XCI/ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBZdX06ZnVuY3Rpb24oZSl7cmV0dXJuICExfSxFcz1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIGlucHV0IHRvIGJlIGFuIEFycmF5LCBnb3QgJHt0eXBlb2YgZX1gKTtsZXQgcj1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXIrPWAgICAgJHtlW2ldLnN0YWNrfVxuYDtzdXBlcihyKSx0aGlzLm5hbWU9XCJBZ2dyZWdhdGVFcnJvclwiLHRoaXMuZXJyb3JzPWU7fX07U3MuZXhwb3J0cz17QWdncmVnYXRlRXJyb3I6RXMsa0VtcHR5T2JqZWN0Ok9iamVjdC5mcmVlemUoe30pLG9uY2UodCl7bGV0IGU9ITE7cmV0dXJuIGZ1bmN0aW9uKC4uLnIpe2V8fChlPSEwLHQuYXBwbHkodGhpcyxyKSk7fX0sY3JlYXRlRGVmZXJyZWRQcm9taXNlOmZ1bmN0aW9uKCl7bGV0IHQsZTtyZXR1cm4ge3Byb21pc2U6bmV3IFByb21pc2UoKGksbik9Pnt0PWksZT1uO30pLHJlc29sdmU6dCxyZWplY3Q6ZX19LHByb21pc2lmeSh0KXtyZXR1cm4gbmV3IFByb21pc2UoKGUscik9Pnt0KChpLC4uLm4pPT5pP3IoaSk6ZSguLi5uKSk7fSl9LGRlYnVnbG9nKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX0sZm9ybWF0KHQsLi4uZSl7cmV0dXJuIHQucmVwbGFjZSgvJShbc2RpZmpdKS9nLGZ1bmN0aW9uKC4uLltyLGldKXtsZXQgbj1lLnNoaWZ0KCk7cmV0dXJuIGk9PT1cImZcIj9uLnRvRml4ZWQoNik6aT09PVwialwiP0pTT04uc3RyaW5naWZ5KG4pOmk9PT1cInNcIiYmdHlwZW9mIG49PVwib2JqZWN0XCI/YCR7bi5jb25zdHJ1Y3RvciE9PU9iamVjdD9uLmNvbnN0cnVjdG9yLm5hbWU6XCJcIn0ge31gLnRyaW0oKTpuLnRvU3RyaW5nKCl9KX0saW5zcGVjdCh0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOmlmKHQuaW5jbHVkZXMoXCInXCIpKWlmKHQuaW5jbHVkZXMoJ1wiJykpe2lmKCF0LmluY2x1ZGVzKFwiYFwiKSYmIXQuaW5jbHVkZXMoXCIke1wiKSlyZXR1cm4gYFxcYCR7dH1cXGBgfWVsc2UgcmV0dXJuIGBcIiR7dH1cImA7cmV0dXJuIGAnJHt0fSdgO2Nhc2VcIm51bWJlclwiOnJldHVybiBpc05hTih0KT9cIk5hTlwiOk9iamVjdC5pcyh0LC0wKT9TdHJpbmcodCk6dDtjYXNlXCJiaWdpbnRcIjpyZXR1cm4gYCR7U3RyaW5nKHQpfW5gO2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gU3RyaW5nKHQpO2Nhc2VcIm9iamVjdFwiOnJldHVybiBcInt9XCJ9fSx0eXBlczp7aXNBc3luY0Z1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygbnl9LGlzQXJyYXlCdWZmZXJWaWV3KHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCl9fSxpc0Jsb2I6c3l9O1NzLmV4cG9ydHMucHJvbWlzaWZ5LmN1c3RvbT1TeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwucHJvbWlzaWZ5LmN1c3RvbVwiKTt9KTt2YXIgemk9TSgoWkEsVmkpPT57XygpO3YoKTttKCk7dmFye0Fib3J0Q29udHJvbGxlcjpKdSxBYm9ydFNpZ25hbDpveX09dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjp0eXBlb2Ygd2luZG93PFwidVwiP3dpbmRvdzp2b2lkIDA7VmkuZXhwb3J0cz1KdTtWaS5leHBvcnRzLkFib3J0U2lnbmFsPW95O1ZpLmV4cG9ydHMuZGVmYXVsdD1KdTt9KTt2YXIgQWU9TSgodUksZWYpPT57XygpO3YoKTttKCk7dmFye2Zvcm1hdDpheSxpbnNwZWN0OktpLEFnZ3JlZ2F0ZUVycm9yOmx5fT1KZSgpLHV5PWdsb2JhbFRoaXMuQWdncmVnYXRlRXJyb3J8fGx5LGZ5PVN5bWJvbChcImtJc05vZGVFcnJvclwiKSxjeT1bXCJzdHJpbmdcIixcImZ1bmN0aW9uXCIsXCJudW1iZXJcIixcIm9iamVjdFwiLFwiRnVuY3Rpb25cIixcIk9iamVjdFwiLFwiYm9vbGVhblwiLFwiYmlnaW50XCIsXCJzeW1ib2xcIl0saHk9L14oW0EtWl1bYS16MC05XSopKyQvLGR5PVwiX19ub2RlX2ludGVybmFsX1wiLEdpPXt9O2Z1bmN0aW9uIGVyKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEdpLkVSUl9JTlRFUk5BTF9BU1NFUlRJT04oZSl9ZnVuY3Rpb24gWHUodCl7bGV0IGU9XCJcIixyPXQubGVuZ3RoLGk9dFswXT09PVwiLVwiPzE6MDtmb3IoO3I+PWkrNDtyLT0zKWU9YF8ke3Quc2xpY2Uoci0zLHIpfSR7ZX1gO3JldHVybiBgJHt0LnNsaWNlKDAscil9JHtlfWB9ZnVuY3Rpb24gcHkodCxlLHIpe2lmKHR5cGVvZiBlPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGVyKGUubGVuZ3RoPD1yLmxlbmd0aCxgQ29kZTogJHt0fTsgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cyBsZW5ndGggKCR7ci5sZW5ndGh9KSBkb2VzIG5vdCBtYXRjaCB0aGUgcmVxdWlyZWQgb25lcyAoJHtlLmxlbmd0aH0pLmApLGUoLi4ucik7bGV0IGk9KGUubWF0Y2goLyVbZGZpam9Pc10vZyl8fFtdKS5sZW5ndGg7cmV0dXJuIGVyKGk9PT1yLmxlbmd0aCxgQ29kZTogJHt0fTsgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cyBsZW5ndGggKCR7ci5sZW5ndGh9KSBkb2VzIG5vdCBtYXRjaCB0aGUgcmVxdWlyZWQgb25lcyAoJHtpfSkuYCksci5sZW5ndGg9PT0wP2U6YXkoZSwuLi5yKX1mdW5jdGlvbiB2ZSh0LGUscil7cnx8KHI9RXJyb3IpO2NsYXNzIGkgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKC4uLm8pe3N1cGVyKHB5KHQsZSxvKSk7fXRvU3RyaW5nKCl7cmV0dXJuIGAke3RoaXMubmFtZX0gWyR7dH1dOiAke3RoaXMubWVzc2FnZX1gfX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLnByb3RvdHlwZSx7bmFtZTp7dmFsdWU6ci5uYW1lLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSx0b1N0cmluZzp7dmFsdWUoKXtyZXR1cm4gYCR7dGhpcy5uYW1lfSBbJHt0fV06ICR7dGhpcy5tZXNzYWdlfWB9LHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfX0pLGkucHJvdG90eXBlLmNvZGU9dCxpLnByb3RvdHlwZVtmeV09ITAsR2lbdF09aTt9ZnVuY3Rpb24gWnUodCl7bGV0IGU9ZHkrdC5uYW1lO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIm5hbWVcIix7dmFsdWU6ZX0pLHR9ZnVuY3Rpb24gZ3kodCxlKXtpZih0JiZlJiZ0IT09ZSl7aWYoQXJyYXkuaXNBcnJheShlLmVycm9ycykpcmV0dXJuIGUuZXJyb3JzLnB1c2godCksZTtsZXQgcj1uZXcgdXkoW2UsdF0sZS5tZXNzYWdlKTtyZXR1cm4gci5jb2RlPWUuY29kZSxyfXJldHVybiB0fHxlfXZhciBBcz1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGU9XCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkXCIscj12b2lkIDApe2lmKHIhPT12b2lkIDAmJnR5cGVvZiByIT1cIm9iamVjdFwiKXRocm93IG5ldyBHaS5FUlJfSU5WQUxJRF9BUkdfVFlQRShcIm9wdGlvbnNcIixcIk9iamVjdFwiLHIpO3N1cGVyKGUsciksdGhpcy5jb2RlPVwiQUJPUlRfRVJSXCIsdGhpcy5uYW1lPVwiQWJvcnRFcnJvclwiO319O3ZlKFwiRVJSX0FTU0VSVElPTlwiLFwiJXNcIixFcnJvcik7dmUoXCJFUlJfSU5WQUxJRF9BUkdfVFlQRVwiLCh0LGUscik9Pntlcih0eXBlb2YgdD09XCJzdHJpbmdcIixcIiduYW1lJyBtdXN0IGJlIGEgc3RyaW5nXCIpLEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7bGV0IGk9XCJUaGUgXCI7dC5lbmRzV2l0aChcIiBhcmd1bWVudFwiKT9pKz1gJHt0fSBgOmkrPWBcIiR7dH1cIiAke3QuaW5jbHVkZXMoXCIuXCIpP1wicHJvcGVydHlcIjpcImFyZ3VtZW50XCJ9IGAsaSs9XCJtdXN0IGJlIFwiO2xldCBuPVtdLG89W10scz1bXTtmb3IobGV0IGwgb2YgZSllcih0eXBlb2YgbD09XCJzdHJpbmdcIixcIkFsbCBleHBlY3RlZCBlbnRyaWVzIGhhdmUgdG8gYmUgb2YgdHlwZSBzdHJpbmdcIiksY3kuaW5jbHVkZXMobCk/bi5wdXNoKGwudG9Mb3dlckNhc2UoKSk6aHkudGVzdChsKT9vLnB1c2gobCk6KGVyKGwhPT1cIm9iamVjdFwiLCdUaGUgdmFsdWUgXCJvYmplY3RcIiBzaG91bGQgYmUgd3JpdHRlbiBhcyBcIk9iamVjdFwiJykscy5wdXNoKGwpKTtpZihvLmxlbmd0aD4wKXtsZXQgbD1uLmluZGV4T2YoXCJvYmplY3RcIik7bCE9PS0xJiYobi5zcGxpY2UobixsLDEpLG8ucHVzaChcIk9iamVjdFwiKSk7fWlmKG4ubGVuZ3RoPjApe3N3aXRjaChuLmxlbmd0aCl7Y2FzZSAxOmkrPWBvZiB0eXBlICR7blswXX1gO2JyZWFrO2Nhc2UgMjppKz1gb25lIG9mIHR5cGUgJHtuWzBdfSBvciAke25bMV19YDticmVhaztkZWZhdWx0OntsZXQgbD1uLnBvcCgpO2krPWBvbmUgb2YgdHlwZSAke24uam9pbihcIiwgXCIpfSwgb3IgJHtsfWA7fX0oby5sZW5ndGg+MHx8cy5sZW5ndGg+MCkmJihpKz1cIiBvciBcIik7fWlmKG8ubGVuZ3RoPjApe3N3aXRjaChvLmxlbmd0aCl7Y2FzZSAxOmkrPWBhbiBpbnN0YW5jZSBvZiAke29bMF19YDticmVhaztjYXNlIDI6aSs9YGFuIGluc3RhbmNlIG9mICR7b1swXX0gb3IgJHtvWzFdfWA7YnJlYWs7ZGVmYXVsdDp7bGV0IGw9by5wb3AoKTtpKz1gYW4gaW5zdGFuY2Ugb2YgJHtvLmpvaW4oXCIsIFwiKX0sIG9yICR7bH1gO319cy5sZW5ndGg+MCYmKGkrPVwiIG9yIFwiKTt9c3dpdGNoKHMubGVuZ3RoKXtjYXNlIDA6YnJlYWs7Y2FzZSAxOnNbMF0udG9Mb3dlckNhc2UoKSE9PXNbMF0mJihpKz1cImFuIFwiKSxpKz1gJHtzWzBdfWA7YnJlYWs7Y2FzZSAyOmkrPWBvbmUgb2YgJHtzWzBdfSBvciAke3NbMV19YDticmVhaztkZWZhdWx0OntsZXQgbD1zLnBvcCgpO2krPWBvbmUgb2YgJHtzLmpvaW4oXCIsIFwiKX0sIG9yICR7bH1gO319aWYocj09bnVsbClpKz1gLiBSZWNlaXZlZCAke3J9YDtlbHNlIGlmKHR5cGVvZiByPT1cImZ1bmN0aW9uXCImJnIubmFtZSlpKz1gLiBSZWNlaXZlZCBmdW5jdGlvbiAke3IubmFtZX1gO2Vsc2UgaWYodHlwZW9mIHI9PVwib2JqZWN0XCIpe3ZhciBhO2lmKChhPXIuY29uc3RydWN0b3IpIT09bnVsbCYmYSE9PXZvaWQgMCYmYS5uYW1lKWkrPWAuIFJlY2VpdmVkIGFuIGluc3RhbmNlIG9mICR7ci5jb25zdHJ1Y3Rvci5uYW1lfWA7ZWxzZSB7bGV0IGw9S2kocix7ZGVwdGg6LTF9KTtpKz1gLiBSZWNlaXZlZCAke2x9YDt9fWVsc2Uge2xldCBsPUtpKHIse2NvbG9yczohMX0pO2wubGVuZ3RoPjI1JiYobD1gJHtsLnNsaWNlKDAsMjUpfS4uLmApLGkrPWAuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2Ygcn0gKCR7bH0pYDt9cmV0dXJuIGl9LFR5cGVFcnJvcik7dmUoXCJFUlJfSU5WQUxJRF9BUkdfVkFMVUVcIiwodCxlLHI9XCJpcyBpbnZhbGlkXCIpPT57bGV0IGk9S2koZSk7cmV0dXJuIGkubGVuZ3RoPjEyOCYmKGk9aS5zbGljZSgwLDEyOCkrXCIuLi5cIiksYFRoZSAke3QuaW5jbHVkZXMoXCIuXCIpP1wicHJvcGVydHlcIjpcImFyZ3VtZW50XCJ9ICcke3R9JyAke3J9LiBSZWNlaXZlZCAke2l9YH0sVHlwZUVycm9yKTt2ZShcIkVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRVwiLCh0LGUscik9Pnt2YXIgaTtsZXQgbj1yIT1udWxsJiYoaT1yLmNvbnN0cnVjdG9yKSE9PW51bGwmJmkhPT12b2lkIDAmJmkubmFtZT9gaW5zdGFuY2Ugb2YgJHtyLmNvbnN0cnVjdG9yLm5hbWV9YDpgdHlwZSAke3R5cGVvZiByfWA7cmV0dXJuIGBFeHBlY3RlZCAke3R9IHRvIGJlIHJldHVybmVkIGZyb20gdGhlIFwiJHtlfVwiIGZ1bmN0aW9uIGJ1dCBnb3QgJHtufS5gfSxUeXBlRXJyb3IpO3ZlKFwiRVJSX01JU1NJTkdfQVJHU1wiLCguLi50KT0+e2VyKHQubGVuZ3RoPjAsXCJBdCBsZWFzdCBvbmUgYXJnIG5lZWRzIHRvIGJlIHNwZWNpZmllZFwiKTtsZXQgZSxyPXQubGVuZ3RoO3N3aXRjaCh0PShBcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5tYXAoaT0+YFwiJHtpfVwiYCkuam9pbihcIiBvciBcIikscil7Y2FzZSAxOmUrPWBUaGUgJHt0WzBdfSBhcmd1bWVudGA7YnJlYWs7Y2FzZSAyOmUrPWBUaGUgJHt0WzBdfSBhbmQgJHt0WzFdfSBhcmd1bWVudHNgO2JyZWFrO2RlZmF1bHQ6e2xldCBpPXQucG9wKCk7ZSs9YFRoZSAke3Quam9pbihcIiwgXCIpfSwgYW5kICR7aX0gYXJndW1lbnRzYDt9YnJlYWt9cmV0dXJuIGAke2V9IG11c3QgYmUgc3BlY2lmaWVkYH0sVHlwZUVycm9yKTt2ZShcIkVSUl9PVVRfT0ZfUkFOR0VcIiwodCxlLHIpPT57ZXIoZSwnTWlzc2luZyBcInJhbmdlXCIgYXJndW1lbnQnKTtsZXQgaTtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihyKSYmTWF0aC5hYnMocik+MioqMzI/aT1YdShTdHJpbmcocikpOnR5cGVvZiByPT1cImJpZ2ludFwiPyhpPVN0cmluZyhyKSwocj4ybioqMzJufHxyPC0oMm4qKjMybikpJiYoaT1YdShpKSksaSs9XCJuXCIpOmk9S2kociksYFRoZSB2YWx1ZSBvZiBcIiR7dH1cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgJHtlfS4gUmVjZWl2ZWQgJHtpfWB9LFJhbmdlRXJyb3IpO3ZlKFwiRVJSX01VTFRJUExFX0NBTExCQUNLXCIsXCJDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIixFcnJvcik7dmUoXCJFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRFwiLFwiVGhlICVzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWRcIixFcnJvcik7dmUoXCJFUlJfU1RSRUFNX0FMUkVBRFlfRklOSVNIRURcIixcIkNhbm5vdCBjYWxsICVzIGFmdGVyIGEgc3RyZWFtIHdhcyBmaW5pc2hlZFwiLEVycm9yKTt2ZShcIkVSUl9TVFJFQU1fQ0FOTk9UX1BJUEVcIixcIkNhbm5vdCBwaXBlLCBub3QgcmVhZGFibGVcIixFcnJvcik7dmUoXCJFUlJfU1RSRUFNX0RFU1RST1lFRFwiLFwiQ2Fubm90IGNhbGwgJXMgYWZ0ZXIgYSBzdHJlYW0gd2FzIGRlc3Ryb3llZFwiLEVycm9yKTt2ZShcIkVSUl9TVFJFQU1fTlVMTF9WQUxVRVNcIixcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIsVHlwZUVycm9yKTt2ZShcIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCIsXCJQcmVtYXR1cmUgY2xvc2VcIixFcnJvcik7dmUoXCJFUlJfU1RSRUFNX1BVU0hfQUZURVJfRU9GXCIsXCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRlwiLEVycm9yKTt2ZShcIkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlRcIixcInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50XCIsRXJyb3IpO3ZlKFwiRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkRcIixcIndyaXRlIGFmdGVyIGVuZFwiLEVycm9yKTt2ZShcIkVSUl9VTktOT1dOX0VOQ09ESU5HXCIsXCJVbmtub3duIGVuY29kaW5nOiAlc1wiLFR5cGVFcnJvcik7ZWYuZXhwb3J0cz17QWJvcnRFcnJvcjpBcyxhZ2dyZWdhdGVUd29FcnJvcnM6WnUoZ3kpLGhpZGVTdGFja0ZyYW1lczpadSxjb2RlczpHaX07fSk7dmFyIGhpPU0oKF9JLGZmKT0+e18oKTt2KCk7bSgpO3ZhcntBcnJheUlzQXJyYXk6VHMsQXJyYXlQcm90b3R5cGVJbmNsdWRlczpzZixBcnJheVByb3RvdHlwZUpvaW46b2YsQXJyYXlQcm90b3R5cGVNYXA6eXksTnVtYmVySXNJbnRlZ2VyOlJzLE51bWJlcklzTmFOOmJ5LE51bWJlck1BWF9TQUZFX0lOVEVHRVI6d3ksTnVtYmVyTUlOX1NBRkVfSU5URUdFUjpfeSxOdW1iZXJQYXJzZUludDpteSxPYmplY3RQcm90b3R5cGVIYXNPd25Qcm9wZXJ0eTp2eSxSZWdFeHBQcm90b3R5cGVFeGVjOmFmLFN0cmluZzpFeSxTdHJpbmdQcm90b3R5cGVUb1VwcGVyQ2FzZTpTeSxTdHJpbmdQcm90b3R5cGVUcmltOkF5fT1jZSgpLHtoaWRlU3RhY2tGcmFtZXM6VWUsY29kZXM6e0VSUl9TT0NLRVRfQkFEX1BPUlQ6SXksRVJSX0lOVkFMSURfQVJHX1RZUEU6SWUsRVJSX0lOVkFMSURfQVJHX1ZBTFVFOlVyLEVSUl9PVVRfT0ZfUkFOR0U6dHIsRVJSX1VOS05PV05fU0lHTkFMOnRmfX09QWUoKSx7bm9ybWFsaXplRW5jb2Rpbmc6VHl9PUplKCkse2lzQXN5bmNGdW5jdGlvbjpSeSxpc0FycmF5QnVmZmVyVmlldzpDeX09SmUoKS50eXBlcyxyZj17fTtmdW5jdGlvbiBCeSh0KXtyZXR1cm4gdD09PSh0fDApfWZ1bmN0aW9uIFB5KHQpe3JldHVybiB0PT09dD4+PjB9dmFyIGt5PS9eWzAtN10rJC8sT3k9XCJtdXN0IGJlIGEgMzItYml0IHVuc2lnbmVkIGludGVnZXIgb3IgYW4gb2N0YWwgc3RyaW5nXCI7ZnVuY3Rpb24geHkodCxlLHIpe2lmKHR5cGVvZiB0PlwidVwiJiYodD1yKSx0eXBlb2YgdD09XCJzdHJpbmdcIil7aWYoYWYoa3ksdCk9PT1udWxsKXRocm93IG5ldyBVcihlLHQsT3kpO3Q9bXkodCw4KTt9cmV0dXJuIGxmKHQsZSksdH12YXIgTXk9VWUoKHQsZSxyPV95LGk9d3kpPT57aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IEllKGUsXCJudW1iZXJcIix0KTtpZighUnModCkpdGhyb3cgbmV3IHRyKGUsXCJhbiBpbnRlZ2VyXCIsdCk7aWYodDxyfHx0PmkpdGhyb3cgbmV3IHRyKGUsYD49ICR7cn0gJiYgPD0gJHtpfWAsdCl9KSxMeT1VZSgodCxlLHI9LTIxNDc0ODM2NDgsaT0yMTQ3NDgzNjQ3KT0+e2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBJZShlLFwibnVtYmVyXCIsdCk7aWYoIVJzKHQpKXRocm93IG5ldyB0cihlLFwiYW4gaW50ZWdlclwiLHQpO2lmKHQ8cnx8dD5pKXRocm93IG5ldyB0cihlLGA+PSAke3J9ICYmIDw9ICR7aX1gLHQpfSksbGY9VWUoKHQsZSxyPSExKT0+e2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBJZShlLFwibnVtYmVyXCIsdCk7aWYoIVJzKHQpKXRocm93IG5ldyB0cihlLFwiYW4gaW50ZWdlclwiLHQpO2xldCBpPXI/MTowLG49NDI5NDk2NzI5NTtpZih0PGl8fHQ+bil0aHJvdyBuZXcgdHIoZSxgPj0gJHtpfSAmJiA8PSAke259YCx0KX0pO2Z1bmN0aW9uIENzKHQsZSl7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IEllKGUsXCJzdHJpbmdcIix0KX1mdW5jdGlvbiBVeSh0LGUscj12b2lkIDAsaSl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IEllKGUsXCJudW1iZXJcIix0KTtpZihyIT1udWxsJiZ0PHJ8fGkhPW51bGwmJnQ+aXx8KHIhPW51bGx8fGkhPW51bGwpJiZieSh0KSl0aHJvdyBuZXcgdHIoZSxgJHtyIT1udWxsP2A+PSAke3J9YDpcIlwifSR7ciE9bnVsbCYmaSE9bnVsbD9cIiAmJiBcIjpcIlwifSR7aSE9bnVsbD9gPD0gJHtpfWA6XCJcIn1gLHQpfXZhciBOeT1VZSgodCxlLHIpPT57aWYoIXNmKHIsdCkpe2xldCBuPVwibXVzdCBiZSBvbmUgb2Y6IFwiK29mKHl5KHIsbz0+dHlwZW9mIG89PVwic3RyaW5nXCI/YCcke299J2A6RXkobykpLFwiLCBcIik7dGhyb3cgbmV3IFVyKGUsdCxuKX19KTtmdW5jdGlvbiB1Zih0LGUpe2lmKHR5cGVvZiB0IT1cImJvb2xlYW5cIil0aHJvdyBuZXcgSWUoZSxcImJvb2xlYW5cIix0KX1mdW5jdGlvbiBJcyh0LGUscil7cmV0dXJuIHQ9PW51bGx8fCF2eSh0LGUpP3I6dFtlXX12YXIgcXk9VWUoKHQsZSxyPW51bGwpPT57bGV0IGk9SXMocixcImFsbG93QXJyYXlcIiwhMSksbj1JcyhyLFwiYWxsb3dGdW5jdGlvblwiLCExKTtpZighSXMocixcIm51bGxhYmxlXCIsITEpJiZ0PT09bnVsbHx8IWkmJlRzKHQpfHx0eXBlb2YgdCE9XCJvYmplY3RcIiYmKCFufHx0eXBlb2YgdCE9XCJmdW5jdGlvblwiKSl0aHJvdyBuZXcgSWUoZSxcIk9iamVjdFwiLHQpfSksRHk9VWUoKHQsZSk9PntpZih0IT1udWxsJiZ0eXBlb2YgdCE9XCJvYmplY3RcIiYmdHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgSWUoZSxcImEgZGljdGlvbmFyeVwiLHQpfSksQnM9VWUoKHQsZSxyPTApPT57aWYoIVRzKHQpKXRocm93IG5ldyBJZShlLFwiQXJyYXlcIix0KTtpZih0Lmxlbmd0aDxyKXtsZXQgaT1gbXVzdCBiZSBsb25nZXIgdGhhbiAke3J9YDt0aHJvdyBuZXcgVXIoZSx0LGkpfX0pO2Z1bmN0aW9uIGp5KHQsZSl7QnModCxlKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylDcyh0W3JdLGAke2V9WyR7cn1dYCk7fWZ1bmN0aW9uIEZ5KHQsZSl7QnModCxlKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl1Zih0W3JdLGAke2V9WyR7cn1dYCk7fWZ1bmN0aW9uIFd5KHQsZT1cInNpZ25hbFwiKXtpZihDcyh0LGUpLHJmW3RdPT09dm9pZCAwKXRocm93IHJmW1N5KHQpXSE9PXZvaWQgMD9uZXcgdGYodCtcIiAoc2lnbmFscyBtdXN0IHVzZSBhbGwgY2FwaXRhbCBsZXR0ZXJzKVwiKTpuZXcgdGYodCl9dmFyICR5PVVlKCh0LGU9XCJidWZmZXJcIik9PntpZighQ3kodCkpdGhyb3cgbmV3IEllKGUsW1wiQnVmZmVyXCIsXCJUeXBlZEFycmF5XCIsXCJEYXRhVmlld1wiXSx0KX0pO2Z1bmN0aW9uIEh5KHQsZSl7bGV0IHI9VHkoZSksaT10Lmxlbmd0aDtpZihyPT09XCJoZXhcIiYmaSUyIT09MCl0aHJvdyBuZXcgVXIoXCJlbmNvZGluZ1wiLGUsYGlzIGludmFsaWQgZm9yIGRhdGEgb2YgbGVuZ3RoICR7aX1gKX1mdW5jdGlvbiBWeSh0LGU9XCJQb3J0XCIscj0hMCl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCImJnR5cGVvZiB0IT1cInN0cmluZ1wifHx0eXBlb2YgdD09XCJzdHJpbmdcIiYmQXkodCkubGVuZ3RoPT09MHx8K3QhPT0rdD4+PjB8fHQ+NjU1MzV8fHQ9PT0wJiYhcil0aHJvdyBuZXcgSXkoZSx0LHIpO3JldHVybiB0fDB9dmFyIHp5PVVlKCh0LGUpPT57aWYodCE9PXZvaWQgMCYmKHQ9PT1udWxsfHx0eXBlb2YgdCE9XCJvYmplY3RcInx8IShcImFib3J0ZWRcImluIHQpKSl0aHJvdyBuZXcgSWUoZSxcIkFib3J0U2lnbmFsXCIsdCl9KSxLeT1VZSgodCxlKT0+e2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEllKGUsXCJGdW5jdGlvblwiLHQpfSksR3k9VWUoKHQsZSk9PntpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwifHxSeSh0KSl0aHJvdyBuZXcgSWUoZSxcIkZ1bmN0aW9uXCIsdCl9KSxReT1VZSgodCxlKT0+e2lmKHQhPT12b2lkIDApdGhyb3cgbmV3IEllKGUsXCJ1bmRlZmluZWRcIix0KX0pO2Z1bmN0aW9uIFl5KHQsZSxyKXtpZighc2Yocix0KSl0aHJvdyBuZXcgSWUoZSxgKCcke29mKHIsXCJ8XCIpfScpYCx0KX12YXIgSnk9L14oPzo8W14+XSo+KSg/Olxccyo7XFxzKlteO1wiXFxzXSsoPzo9KFwiKT9bXjtcIlxcc10qXFwxKT8pKiQvO2Z1bmN0aW9uIG5mKHQsZSl7aWYodHlwZW9mIHQ+XCJ1XCJ8fCFhZihKeSx0KSl0aHJvdyBuZXcgVXIoZSx0LCdtdXN0IGJlIGFuIGFycmF5IG9yIHN0cmluZyBvZiBmb3JtYXQgXCI8L3N0eWxlcy5jc3M+OyByZWw9cHJlbG9hZDsgYXM9c3R5bGVcIicpfWZ1bmN0aW9uIFh5KHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXJldHVybiBuZih0LFwiaGludHNcIiksdDtpZihUcyh0KSl7bGV0IGU9dC5sZW5ndGgscj1cIlwiO2lmKGU9PT0wKXJldHVybiByO2ZvcihsZXQgaT0wO2k8ZTtpKyspe2xldCBuPXRbaV07bmYobixcImhpbnRzXCIpLHIrPW4saSE9PWUtMSYmKHIrPVwiLCBcIik7fXJldHVybiByfXRocm93IG5ldyBVcihcImhpbnRzXCIsdCwnbXVzdCBiZSBhbiBhcnJheSBvciBzdHJpbmcgb2YgZm9ybWF0IFwiPC9zdHlsZXMuY3NzPjsgcmVsPXByZWxvYWQ7IGFzPXN0eWxlXCInKX1mZi5leHBvcnRzPXtpc0ludDMyOkJ5LGlzVWludDMyOlB5LHBhcnNlRmlsZU1vZGU6eHksdmFsaWRhdGVBcnJheTpCcyx2YWxpZGF0ZVN0cmluZ0FycmF5Omp5LHZhbGlkYXRlQm9vbGVhbkFycmF5OkZ5LHZhbGlkYXRlQm9vbGVhbjp1Zix2YWxpZGF0ZUJ1ZmZlcjokeSx2YWxpZGF0ZURpY3Rpb25hcnk6RHksdmFsaWRhdGVFbmNvZGluZzpIeSx2YWxpZGF0ZUZ1bmN0aW9uOkt5LHZhbGlkYXRlSW50MzI6THksdmFsaWRhdGVJbnRlZ2VyOk15LHZhbGlkYXRlTnVtYmVyOlV5LHZhbGlkYXRlT2JqZWN0OnF5LHZhbGlkYXRlT25lT2Y6TnksdmFsaWRhdGVQbGFpbkZ1bmN0aW9uOkd5LHZhbGlkYXRlUG9ydDpWeSx2YWxpZGF0ZVNpZ25hbE5hbWU6V3ksdmFsaWRhdGVTdHJpbmc6Q3MsdmFsaWRhdGVVaW50MzI6bGYsdmFsaWRhdGVVbmRlZmluZWQ6UXksdmFsaWRhdGVVbmlvbjpZeSx2YWxpZGF0ZUFib3J0U2lnbmFsOnp5LHZhbGlkYXRlTGlua0hlYWRlclZhbHVlOlh5fTt9KTt2YXIgTnQ9TSgoQkkscGYpPT57XygpO3YoKTttKCk7dmFyIGFlPXBmLmV4cG9ydHM9e30sWGUsWmU7ZnVuY3Rpb24gUHMoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGtzKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXt0eXBlb2Ygc2V0VGltZW91dD09XCJmdW5jdGlvblwiP1hlPXNldFRpbWVvdXQ6WGU9UHM7fWNhdGNoe1hlPVBzO310cnl7dHlwZW9mIGNsZWFyVGltZW91dD09XCJmdW5jdGlvblwiP1plPWNsZWFyVGltZW91dDpaZT1rczt9Y2F0Y2h7WmU9a3M7fX0pKCk7ZnVuY3Rpb24gY2YodCl7aWYoWGU9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKFhlPT09UHN8fCFYZSkmJnNldFRpbWVvdXQpcmV0dXJuIFhlPXNldFRpbWVvdXQsc2V0VGltZW91dCh0LDApO3RyeXtyZXR1cm4gWGUodCwwKX1jYXRjaHt0cnl7cmV0dXJuIFhlLmNhbGwobnVsbCx0LDApfWNhdGNoe3JldHVybiBYZS5jYWxsKHRoaXMsdCwwKX19fWZ1bmN0aW9uIFp5KHQpe2lmKFplPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKFplPT09a3N8fCFaZSkmJmNsZWFyVGltZW91dClyZXR1cm4gWmU9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7cmV0dXJuIFplKHQpfWNhdGNoe3RyeXtyZXR1cm4gWmUuY2FsbChudWxsLHQpfWNhdGNoe3JldHVybiBaZS5jYWxsKHRoaXMsdCl9fX12YXIgX3Q9W10sTnI9ITEscnIsUWk9LTE7ZnVuY3Rpb24gZWIoKXshTnJ8fCFycnx8KE5yPSExLHJyLmxlbmd0aD9fdD1yci5jb25jYXQoX3QpOlFpPS0xLF90Lmxlbmd0aCYmaGYoKSk7fWZ1bmN0aW9uIGhmKCl7aWYoIU5yKXt2YXIgdD1jZihlYik7TnI9ITA7Zm9yKHZhciBlPV90Lmxlbmd0aDtlOyl7Zm9yKHJyPV90LF90PVtdOysrUWk8ZTspcnImJnJyW1FpXS5ydW4oKTtRaT0tMSxlPV90Lmxlbmd0aDt9cnI9bnVsbCxOcj0hMSxaeSh0KTt9fWFlLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWVbci0xXT1hcmd1bWVudHNbcl07X3QucHVzaChuZXcgZGYodCxlKSksX3QubGVuZ3RoPT09MSYmIU5yJiZjZihoZik7fTtmdW5jdGlvbiBkZih0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lO31kZi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KTt9O2FlLnRpdGxlPVwiYnJvd3NlclwiO2FlLmJyb3dzZXI9ITA7YWUuZW52PXt9O2FlLmFyZ3Y9W107YWUudmVyc2lvbj1cIlwiO2FlLnZlcnNpb25zPXt9O2Z1bmN0aW9uIG10KCl7fWFlLm9uPW10O2FlLmFkZExpc3RlbmVyPW10O2FlLm9uY2U9bXQ7YWUub2ZmPW10O2FlLnJlbW92ZUxpc3RlbmVyPW10O2FlLnJlbW92ZUFsbExpc3RlbmVycz1tdDthZS5lbWl0PW10O2FlLnByZXBlbmRMaXN0ZW5lcj1tdDthZS5wcmVwZW5kT25jZUxpc3RlbmVyPW10O2FlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gW119O2FlLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9O2FlLmN3ZD1mdW5jdGlvbigpe3JldHVybiBcIi9cIn07YWUuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfTthZS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfTt9KTt2YXIgdHQ9TSgoREksUGYpPT57XygpO3YoKTttKCk7dmFye1N5bWJvbDpZaSxTeW1ib2xBc3luY0l0ZXJhdG9yOmdmLFN5bWJvbEl0ZXJhdG9yOnlmLFN5bWJvbEZvcjpiZn09Y2UoKSx3Zj1ZaShcImtEZXN0cm95ZWRcIiksX2Y9WWkoXCJrSXNFcnJvcmVkXCIpLE9zPVlpKFwia0lzUmVhZGFibGVcIiksbWY9WWkoXCJrSXNEaXN0dXJiZWRcIiksdGI9YmYoXCJub2RlanMud2Vic3RyZWFtLmlzQ2xvc2VkUHJvbWlzZVwiKSxyYj1iZihcIm5vZGVqcy53ZWJzdHJlYW0uY29udHJvbGxlckVycm9yRnVuY3Rpb25cIik7ZnVuY3Rpb24gSmkodCxlPSExKXt2YXIgcjtyZXR1cm4gISEodCYmdHlwZW9mIHQucGlwZT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5vbj09XCJmdW5jdGlvblwiJiYoIWV8fHR5cGVvZiB0LnBhdXNlPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0LnJlc3VtZT09XCJmdW5jdGlvblwiKSYmKCF0Ll93cml0YWJsZVN0YXRlfHwoKHI9dC5fcmVhZGFibGVTdGF0ZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnJlYWRhYmxlKSE9PSExKSYmKCF0Ll93cml0YWJsZVN0YXRlfHx0Ll9yZWFkYWJsZVN0YXRlKSl9ZnVuY3Rpb24gWGkodCl7dmFyIGU7cmV0dXJuICEhKHQmJnR5cGVvZiB0LndyaXRlPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0Lm9uPT1cImZ1bmN0aW9uXCImJighdC5fcmVhZGFibGVTdGF0ZXx8KChlPXQuX3dyaXRhYmxlU3RhdGUpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS53cml0YWJsZSkhPT0hMSkpfWZ1bmN0aW9uIGliKHQpe3JldHVybiAhISh0JiZ0eXBlb2YgdC5waXBlPT1cImZ1bmN0aW9uXCImJnQuX3JlYWRhYmxlU3RhdGUmJnR5cGVvZiB0Lm9uPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0LndyaXRlPT1cImZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGV0KHQpe3JldHVybiB0JiYodC5fcmVhZGFibGVTdGF0ZXx8dC5fd3JpdGFibGVTdGF0ZXx8dHlwZW9mIHQud3JpdGU9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQub249PVwiZnVuY3Rpb25cInx8dHlwZW9mIHQucGlwZT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5vbj09XCJmdW5jdGlvblwiKX1mdW5jdGlvbiB2Zih0KXtyZXR1cm4gISEodCYmIWV0KHQpJiZ0eXBlb2YgdC5waXBlVGhyb3VnaD09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5nZXRSZWFkZXI9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQuY2FuY2VsPT1cImZ1bmN0aW9uXCIpfWZ1bmN0aW9uIEVmKHQpe3JldHVybiAhISh0JiYhZXQodCkmJnR5cGVvZiB0LmdldFdyaXRlcj09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5hYm9ydD09XCJmdW5jdGlvblwiKX1mdW5jdGlvbiBTZih0KXtyZXR1cm4gISEodCYmIWV0KHQpJiZ0eXBlb2YgdC5yZWFkYWJsZT09XCJvYmplY3RcIiYmdHlwZW9mIHQud3JpdGFibGU9PVwib2JqZWN0XCIpfWZ1bmN0aW9uIG5iKHQpe3JldHVybiB2Zih0KXx8RWYodCl8fFNmKHQpfWZ1bmN0aW9uIHNiKHQsZSl7cmV0dXJuIHQ9PW51bGw/ITE6ZT09PSEwP3R5cGVvZiB0W2dmXT09XCJmdW5jdGlvblwiOmU9PT0hMT90eXBlb2YgdFt5Zl09PVwiZnVuY3Rpb25cIjp0eXBlb2YgdFtnZl09PVwiZnVuY3Rpb25cInx8dHlwZW9mIHRbeWZdPT1cImZ1bmN0aW9uXCJ9ZnVuY3Rpb24gWmkodCl7aWYoIWV0KHQpKXJldHVybiBudWxsO2xldCBlPXQuX3dyaXRhYmxlU3RhdGUscj10Ll9yZWFkYWJsZVN0YXRlLGk9ZXx8cjtyZXR1cm4gISEodC5kZXN0cm95ZWR8fHRbd2ZdfHxpIT1udWxsJiZpLmRlc3Ryb3llZCl9ZnVuY3Rpb24gQWYodCl7aWYoIVhpKHQpKXJldHVybiBudWxsO2lmKHQud3JpdGFibGVFbmRlZD09PSEwKXJldHVybiAhMDtsZXQgZT10Ll93cml0YWJsZVN0YXRlO3JldHVybiBlIT1udWxsJiZlLmVycm9yZWQ/ITE6dHlwZW9mIGU/LmVuZGVkIT1cImJvb2xlYW5cIj9udWxsOmUuZW5kZWR9ZnVuY3Rpb24gb2IodCxlKXtpZighWGkodCkpcmV0dXJuIG51bGw7aWYodC53cml0YWJsZUZpbmlzaGVkPT09ITApcmV0dXJuICEwO2xldCByPXQuX3dyaXRhYmxlU3RhdGU7cmV0dXJuIHIhPW51bGwmJnIuZXJyb3JlZD8hMTp0eXBlb2Ygcj8uZmluaXNoZWQhPVwiYm9vbGVhblwiP251bGw6ISEoci5maW5pc2hlZHx8ZT09PSExJiZyLmVuZGVkPT09ITAmJnIubGVuZ3RoPT09MCl9ZnVuY3Rpb24gYWIodCl7aWYoIUppKHQpKXJldHVybiBudWxsO2lmKHQucmVhZGFibGVFbmRlZD09PSEwKXJldHVybiAhMDtsZXQgZT10Ll9yZWFkYWJsZVN0YXRlO3JldHVybiAhZXx8ZS5lcnJvcmVkPyExOnR5cGVvZiBlPy5lbmRlZCE9XCJib29sZWFuXCI/bnVsbDplLmVuZGVkfWZ1bmN0aW9uIElmKHQsZSl7aWYoIUppKHQpKXJldHVybiBudWxsO2xldCByPXQuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHIhPW51bGwmJnIuZXJyb3JlZD8hMTp0eXBlb2Ygcj8uZW5kRW1pdHRlZCE9XCJib29sZWFuXCI/bnVsbDohIShyLmVuZEVtaXR0ZWR8fGU9PT0hMSYmci5lbmRlZD09PSEwJiZyLmxlbmd0aD09PTApfWZ1bmN0aW9uIFRmKHQpe3JldHVybiB0JiZ0W09zXSE9bnVsbD90W09zXTp0eXBlb2YgdD8ucmVhZGFibGUhPVwiYm9vbGVhblwiP251bGw6WmkodCk/ITE6SmkodCkmJnQucmVhZGFibGUmJiFJZih0KX1mdW5jdGlvbiBSZih0KXtyZXR1cm4gdHlwZW9mIHQ/LndyaXRhYmxlIT1cImJvb2xlYW5cIj9udWxsOlppKHQpPyExOlhpKHQpJiZ0LndyaXRhYmxlJiYhQWYodCl9ZnVuY3Rpb24gbGIodCxlKXtyZXR1cm4gZXQodCk/WmkodCk/ITA6IShlPy5yZWFkYWJsZSE9PSExJiZUZih0KXx8ZT8ud3JpdGFibGUhPT0hMSYmUmYodCkpOm51bGx9ZnVuY3Rpb24gdWIodCl7dmFyIGUscjtyZXR1cm4gZXQodCk/dC53cml0YWJsZUVycm9yZWQ/dC53cml0YWJsZUVycm9yZWQ6KGU9KHI9dC5fd3JpdGFibGVTdGF0ZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmVycm9yZWQpIT09bnVsbCYmZSE9PXZvaWQgMD9lOm51bGw6bnVsbH1mdW5jdGlvbiBmYih0KXt2YXIgZSxyO3JldHVybiBldCh0KT90LnJlYWRhYmxlRXJyb3JlZD90LnJlYWRhYmxlRXJyb3JlZDooZT0ocj10Ll9yZWFkYWJsZVN0YXRlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuZXJyb3JlZCkhPT1udWxsJiZlIT09dm9pZCAwP2U6bnVsbDpudWxsfWZ1bmN0aW9uIGNiKHQpe2lmKCFldCh0KSlyZXR1cm4gbnVsbDtpZih0eXBlb2YgdC5jbG9zZWQ9PVwiYm9vbGVhblwiKXJldHVybiB0LmNsb3NlZDtsZXQgZT10Ll93cml0YWJsZVN0YXRlLHI9dC5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gdHlwZW9mIGU/LmNsb3NlZD09XCJib29sZWFuXCJ8fHR5cGVvZiByPy5jbG9zZWQ9PVwiYm9vbGVhblwiP2U/LmNsb3NlZHx8cj8uY2xvc2VkOnR5cGVvZiB0Ll9jbG9zZWQ9PVwiYm9vbGVhblwiJiZDZih0KT90Ll9jbG9zZWQ6bnVsbH1mdW5jdGlvbiBDZih0KXtyZXR1cm4gdHlwZW9mIHQuX2Nsb3NlZD09XCJib29sZWFuXCImJnR5cGVvZiB0Ll9kZWZhdWx0S2VlcEFsaXZlPT1cImJvb2xlYW5cIiYmdHlwZW9mIHQuX3JlbW92ZWRDb25uZWN0aW9uPT1cImJvb2xlYW5cIiYmdHlwZW9mIHQuX3JlbW92ZWRDb250TGVuPT1cImJvb2xlYW5cIn1mdW5jdGlvbiBCZih0KXtyZXR1cm4gdHlwZW9mIHQuX3NlbnQxMDA9PVwiYm9vbGVhblwiJiZDZih0KX1mdW5jdGlvbiBoYih0KXt2YXIgZTtyZXR1cm4gdHlwZW9mIHQuX2NvbnN1bWluZz09XCJib29sZWFuXCImJnR5cGVvZiB0Ll9kdW1wZWQ9PVwiYm9vbGVhblwiJiYoKGU9dC5yZXEpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS51cGdyYWRlT3JDb25uZWN0KT09PXZvaWQgMH1mdW5jdGlvbiBkYih0KXtpZighZXQodCkpcmV0dXJuIG51bGw7bGV0IGU9dC5fd3JpdGFibGVTdGF0ZSxyPXQuX3JlYWRhYmxlU3RhdGUsaT1lfHxyO3JldHVybiAhaSYmQmYodCl8fCEhKGkmJmkuYXV0b0Rlc3Ryb3kmJmkuZW1pdENsb3NlJiZpLmNsb3NlZD09PSExKX1mdW5jdGlvbiBwYih0KXt2YXIgZTtyZXR1cm4gISEodCYmKChlPXRbbWZdKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0LnJlYWRhYmxlRGlkUmVhZHx8dC5yZWFkYWJsZUFib3J0ZWQpKX1mdW5jdGlvbiBnYih0KXt2YXIgZSxyLGksbixvLHMsYSxsLGMsaDtyZXR1cm4gISEodCYmKChlPShyPShpPShuPShvPShzPXRbX2ZdKSE9PW51bGwmJnMhPT12b2lkIDA/czp0LnJlYWRhYmxlRXJyb3JlZCkhPT1udWxsJiZvIT09dm9pZCAwP286dC53cml0YWJsZUVycm9yZWQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOihhPXQuX3JlYWRhYmxlU3RhdGUpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5lcnJvckVtaXR0ZWQpIT09bnVsbCYmaSE9PXZvaWQgMD9pOihsPXQuX3dyaXRhYmxlU3RhdGUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC5lcnJvckVtaXR0ZWQpIT09bnVsbCYmciE9PXZvaWQgMD9yOihjPXQuX3JlYWRhYmxlU3RhdGUpPT09bnVsbHx8Yz09PXZvaWQgMD92b2lkIDA6Yy5lcnJvcmVkKSE9PW51bGwmJmUhPT12b2lkIDA/ZTohKChoPXQuX3dyaXRhYmxlU3RhdGUpPT09bnVsbHx8aD09PXZvaWQgMCkmJmguZXJyb3JlZCkpfVBmLmV4cG9ydHM9e2tEZXN0cm95ZWQ6d2YsaXNEaXN0dXJiZWQ6cGIsa0lzRGlzdHVyYmVkOm1mLGlzRXJyb3JlZDpnYixrSXNFcnJvcmVkOl9mLGlzUmVhZGFibGU6VGYsa0lzUmVhZGFibGU6T3Msa0lzQ2xvc2VkUHJvbWlzZTp0YixrQ29udHJvbGxlckVycm9yRnVuY3Rpb246cmIsaXNDbG9zZWQ6Y2IsaXNEZXN0cm95ZWQ6WmksaXNEdXBsZXhOb2RlU3RyZWFtOmliLGlzRmluaXNoZWQ6bGIsaXNJdGVyYWJsZTpzYixpc1JlYWRhYmxlTm9kZVN0cmVhbTpKaSxpc1JlYWRhYmxlU3RyZWFtOnZmLGlzUmVhZGFibGVFbmRlZDphYixpc1JlYWRhYmxlRmluaXNoZWQ6SWYsaXNSZWFkYWJsZUVycm9yZWQ6ZmIsaXNOb2RlU3RyZWFtOmV0LGlzV2ViU3RyZWFtOm5iLGlzV3JpdGFibGU6UmYsaXNXcml0YWJsZU5vZGVTdHJlYW06WGksaXNXcml0YWJsZVN0cmVhbTpFZixpc1dyaXRhYmxlRW5kZWQ6QWYsaXNXcml0YWJsZUZpbmlzaGVkOm9iLGlzV3JpdGFibGVFcnJvcmVkOnViLGlzU2VydmVyUmVxdWVzdDpoYixpc1NlcnZlclJlc3BvbnNlOkJmLHdpbGxFbWl0Q2xvc2U6ZGIsaXNUcmFuc2Zvcm1TdHJlYW06U2Z9O30pO3ZhciB2dD1NKChRSSxOcyk9PntfKCk7digpO20oKTt2YXIgcXQ9TnQoKSx7QWJvcnRFcnJvcjpEZixjb2Rlczp5Yn09QWUoKSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6YmIsRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U6a2Z9PXliLHtrRW1wdHlPYmplY3Q6TXMsb25jZTpMc309SmUoKSx7dmFsaWRhdGVBYm9ydFNpZ25hbDp3Yix2YWxpZGF0ZUZ1bmN0aW9uOl9iLHZhbGlkYXRlT2JqZWN0Om1iLHZhbGlkYXRlQm9vbGVhbjp2Yn09aGkoKSx7UHJvbWlzZTpFYixQcm9taXNlUHJvdG90eXBlVGhlbjpTYn09Y2UoKSx7aXNDbG9zZWQ6QWIsaXNSZWFkYWJsZTpPZixpc1JlYWRhYmxlTm9kZVN0cmVhbTp4cyxpc1JlYWRhYmxlU3RyZWFtOkliLGlzUmVhZGFibGVGaW5pc2hlZDp4Zixpc1JlYWRhYmxlRXJyb3JlZDpNZixpc1dyaXRhYmxlOkxmLGlzV3JpdGFibGVOb2RlU3RyZWFtOlVmLGlzV3JpdGFibGVTdHJlYW06VGIsaXNXcml0YWJsZUZpbmlzaGVkOk5mLGlzV3JpdGFibGVFcnJvcmVkOnFmLGlzTm9kZVN0cmVhbTpSYix3aWxsRW1pdENsb3NlOkNiLGtJc0Nsb3NlZFByb21pc2U6QmJ9PXR0KCk7ZnVuY3Rpb24gUGIodCl7cmV0dXJuIHQuc2V0SGVhZGVyJiZ0eXBlb2YgdC5hYm9ydD09XCJmdW5jdGlvblwifXZhciBVcz0oKT0+e307ZnVuY3Rpb24gamYodCxlLHIpe3ZhciBpLG47aWYoYXJndW1lbnRzLmxlbmd0aD09PTI/KHI9ZSxlPU1zKTplPT1udWxsP2U9TXM6bWIoZSxcIm9wdGlvbnNcIiksX2IocixcImNhbGxiYWNrXCIpLHdiKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIikscj1McyhyKSxJYih0KXx8VGIodCkpcmV0dXJuIGtiKHQsZSxyKTtpZighUmIodCkpdGhyb3cgbmV3IGJiKFwic3RyZWFtXCIsW1wiUmVhZGFibGVTdHJlYW1cIixcIldyaXRhYmxlU3RyZWFtXCIsXCJTdHJlYW1cIl0sdCk7bGV0IG89KGk9ZS5yZWFkYWJsZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6eHModCkscz0obj1lLndyaXRhYmxlKSE9PW51bGwmJm4hPT12b2lkIDA/bjpVZih0KSxhPXQuX3dyaXRhYmxlU3RhdGUsbD10Ll9yZWFkYWJsZVN0YXRlLGM9KCk9Pnt0LndyaXRhYmxlfHxnKCk7fSxoPUNiKHQpJiZ4cyh0KT09PW8mJlVmKHQpPT09cyxkPU5mKHQsITEpLGc9KCk9PntkPSEwLHQuZGVzdHJveWVkJiYoaD0hMSksIShoJiYoIXQucmVhZGFibGV8fG8pKSYmKCFvfHx5KSYmci5jYWxsKHQpO30seT14Zih0LCExKSx3PSgpPT57eT0hMCx0LmRlc3Ryb3llZCYmKGg9ITEpLCEoaCYmKCF0LndyaXRhYmxlfHxzKSkmJighc3x8ZCkmJnIuY2FsbCh0KTt9LFM9Tj0+e3IuY2FsbCh0LE4pO30sRT1BYih0KSxJPSgpPT57RT0hMDtsZXQgTj1xZih0KXx8TWYodCk7aWYoTiYmdHlwZW9mIE4hPVwiYm9vbGVhblwiKXJldHVybiByLmNhbGwodCxOKTtpZihvJiYheSYmeHModCwhMCkmJiF4Zih0LCExKSlyZXR1cm4gci5jYWxsKHQsbmV3IGtmKTtpZihzJiYhZCYmIU5mKHQsITEpKXJldHVybiByLmNhbGwodCxuZXcga2YpO3IuY2FsbCh0KTt9LEM9KCk9PntFPSEwO2xldCBOPXFmKHQpfHxNZih0KTtpZihOJiZ0eXBlb2YgTiE9XCJib29sZWFuXCIpcmV0dXJuIHIuY2FsbCh0LE4pO3IuY2FsbCh0KTt9LFI9KCk9Pnt0LnJlcS5vbihcImZpbmlzaFwiLGcpO307UGIodCk/KHQub24oXCJjb21wbGV0ZVwiLGcpLGh8fHQub24oXCJhYm9ydFwiLEkpLHQucmVxP1IoKTp0Lm9uKFwicmVxdWVzdFwiLFIpKTpzJiYhYSYmKHQub24oXCJlbmRcIixjKSx0Lm9uKFwiY2xvc2VcIixjKSksIWgmJnR5cGVvZiB0LmFib3J0ZWQ9PVwiYm9vbGVhblwiJiZ0Lm9uKFwiYWJvcnRlZFwiLEkpLHQub24oXCJlbmRcIix3KSx0Lm9uKFwiZmluaXNoXCIsZyksZS5lcnJvciE9PSExJiZ0Lm9uKFwiZXJyb3JcIixTKSx0Lm9uKFwiY2xvc2VcIixJKSxFP3F0Lm5leHRUaWNrKEkpOmEhPW51bGwmJmEuZXJyb3JFbWl0dGVkfHxsIT1udWxsJiZsLmVycm9yRW1pdHRlZD9ofHxxdC5uZXh0VGljayhDKTooIW8mJighaHx8T2YodCkpJiYoZHx8TGYodCk9PT0hMSl8fCFzJiYoIWh8fExmKHQpKSYmKHl8fE9mKHQpPT09ITEpfHxsJiZ0LnJlcSYmdC5hYm9ydGVkKSYmcXQubmV4dFRpY2soQyk7bGV0IFU9KCk9PntyPVVzLHQucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydGVkXCIsSSksdC5yZW1vdmVMaXN0ZW5lcihcImNvbXBsZXRlXCIsZyksdC5yZW1vdmVMaXN0ZW5lcihcImFib3J0XCIsSSksdC5yZW1vdmVMaXN0ZW5lcihcInJlcXVlc3RcIixSKSx0LnJlcSYmdC5yZXEucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixnKSx0LnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsYyksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsYyksdC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGcpLHQucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIix3KSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixTKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixJKTt9O2lmKGUuc2lnbmFsJiYhRSl7bGV0IE49KCk9PntsZXQgVz1yO1UoKSxXLmNhbGwodCxuZXcgRGYodm9pZCAwLHtjYXVzZTplLnNpZ25hbC5yZWFzb259KSk7fTtpZihlLnNpZ25hbC5hYm9ydGVkKXF0Lm5leHRUaWNrKE4pO2Vsc2Uge2xldCBXPXI7cj1McygoLi4uSyk9PntlLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixOKSxXLmFwcGx5KHQsSyk7fSksZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsTik7fX1yZXR1cm4gVX1mdW5jdGlvbiBrYih0LGUscil7bGV0IGk9ITEsbj1VcztpZihlLnNpZ25hbClpZihuPSgpPT57aT0hMCxyLmNhbGwodCxuZXcgRGYodm9pZCAwLHtjYXVzZTplLnNpZ25hbC5yZWFzb259KSk7fSxlLnNpZ25hbC5hYm9ydGVkKXF0Lm5leHRUaWNrKG4pO2Vsc2Uge2xldCBzPXI7cj1McygoLi4uYSk9PntlLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixuKSxzLmFwcGx5KHQsYSk7fSksZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbik7fWxldCBvPSguLi5zKT0+e2l8fHF0Lm5leHRUaWNrKCgpPT5yLmFwcGx5KHQscykpO307cmV0dXJuIFNiKHRbQmJdLnByb21pc2UsbyxvKSxVc31mdW5jdGlvbiBPYih0LGUpe3ZhciByO2xldCBpPSExO3JldHVybiBlPT09bnVsbCYmKGU9TXMpLChyPWUpIT09bnVsbCYmciE9PXZvaWQgMCYmci5jbGVhbnVwJiYodmIoZS5jbGVhbnVwLFwiY2xlYW51cFwiKSxpPWUuY2xlYW51cCksbmV3IEViKChuLG8pPT57bGV0IHM9amYodCxlLGE9PntpJiZzKCksYT9vKGEpOm4oKTt9KTt9KX1Ocy5leHBvcnRzPWpmO05zLmV4cG9ydHMuZmluaXNoZWQ9T2I7fSk7dmFyIGlyPU0oKHNULEdmKT0+e18oKTt2KCk7bSgpO3ZhciBydD1OdCgpLHthZ2dyZWdhdGVUd29FcnJvcnM6eGIsY29kZXM6e0VSUl9NVUxUSVBMRV9DQUxMQkFDSzpNYn0sQWJvcnRFcnJvcjpMYn09QWUoKSx7U3ltYm9sOiRmfT1jZSgpLHtrRGVzdHJveWVkOlViLGlzRGVzdHJveWVkOk5iLGlzRmluaXNoZWQ6cWIsaXNTZXJ2ZXJSZXF1ZXN0OkRifT10dCgpLEhmPSRmKFwia0Rlc3Ryb3lcIikscXM9JGYoXCJrQ29uc3RydWN0XCIpO2Z1bmN0aW9uIFZmKHQsZSxyKXt0JiYodC5zdGFjayxlJiYhZS5lcnJvcmVkJiYoZS5lcnJvcmVkPXQpLHImJiFyLmVycm9yZWQmJihyLmVycm9yZWQ9dCkpO31mdW5jdGlvbiBqYih0LGUpe2xldCByPXRoaXMuX3JlYWRhYmxlU3RhdGUsaT10aGlzLl93cml0YWJsZVN0YXRlLG49aXx8cjtyZXR1cm4gaSE9bnVsbCYmaS5kZXN0cm95ZWR8fHIhPW51bGwmJnIuZGVzdHJveWVkPyh0eXBlb2YgZT09XCJmdW5jdGlvblwiJiZlKCksdGhpcyk6KFZmKHQsaSxyKSxpJiYoaS5kZXN0cm95ZWQ9ITApLHImJihyLmRlc3Ryb3llZD0hMCksbi5jb25zdHJ1Y3RlZD9GZih0aGlzLHQsZSk6dGhpcy5vbmNlKEhmLGZ1bmN0aW9uKG8pe0ZmKHRoaXMseGIobyx0KSxlKTt9KSx0aGlzKX1mdW5jdGlvbiBGZih0LGUscil7bGV0IGk9ITE7ZnVuY3Rpb24gbihvKXtpZihpKXJldHVybjtpPSEwO2xldCBzPXQuX3JlYWRhYmxlU3RhdGUsYT10Ll93cml0YWJsZVN0YXRlO1ZmKG8sYSxzKSxhJiYoYS5jbG9zZWQ9ITApLHMmJihzLmNsb3NlZD0hMCksdHlwZW9mIHI9PVwiZnVuY3Rpb25cIiYmcihvKSxvP3J0Lm5leHRUaWNrKEZiLHQsbyk6cnQubmV4dFRpY2soemYsdCk7fXRyeXt0Ll9kZXN0cm95KGV8fG51bGwsbik7fWNhdGNoKG8pe24obyk7fX1mdW5jdGlvbiBGYih0LGUpe0RzKHQsZSksemYodCk7fWZ1bmN0aW9uIHpmKHQpe2xldCBlPXQuX3JlYWRhYmxlU3RhdGUscj10Ll93cml0YWJsZVN0YXRlO3ImJihyLmNsb3NlRW1pdHRlZD0hMCksZSYmKGUuY2xvc2VFbWl0dGVkPSEwKSwociE9bnVsbCYmci5lbWl0Q2xvc2V8fGUhPW51bGwmJmUuZW1pdENsb3NlKSYmdC5lbWl0KFwiY2xvc2VcIik7fWZ1bmN0aW9uIERzKHQsZSl7bGV0IHI9dC5fcmVhZGFibGVTdGF0ZSxpPXQuX3dyaXRhYmxlU3RhdGU7aSE9bnVsbCYmaS5lcnJvckVtaXR0ZWR8fHIhPW51bGwmJnIuZXJyb3JFbWl0dGVkfHwoaSYmKGkuZXJyb3JFbWl0dGVkPSEwKSxyJiYoci5lcnJvckVtaXR0ZWQ9ITApLHQuZW1pdChcImVycm9yXCIsZSkpO31mdW5jdGlvbiBXYigpe2xldCB0PXRoaXMuX3JlYWRhYmxlU3RhdGUsZT10aGlzLl93cml0YWJsZVN0YXRlO3QmJih0LmNvbnN0cnVjdGVkPSEwLHQuY2xvc2VkPSExLHQuY2xvc2VFbWl0dGVkPSExLHQuZGVzdHJveWVkPSExLHQuZXJyb3JlZD1udWxsLHQuZXJyb3JFbWl0dGVkPSExLHQucmVhZGluZz0hMSx0LmVuZGVkPXQucmVhZGFibGU9PT0hMSx0LmVuZEVtaXR0ZWQ9dC5yZWFkYWJsZT09PSExKSxlJiYoZS5jb25zdHJ1Y3RlZD0hMCxlLmRlc3Ryb3llZD0hMSxlLmNsb3NlZD0hMSxlLmNsb3NlRW1pdHRlZD0hMSxlLmVycm9yZWQ9bnVsbCxlLmVycm9yRW1pdHRlZD0hMSxlLmZpbmFsQ2FsbGVkPSExLGUucHJlZmluaXNoZWQ9ITEsZS5lbmRlZD1lLndyaXRhYmxlPT09ITEsZS5lbmRpbmc9ZS53cml0YWJsZT09PSExLGUuZmluaXNoZWQ9ZS53cml0YWJsZT09PSExKTt9ZnVuY3Rpb24ganModCxlLHIpe2xldCBpPXQuX3JlYWRhYmxlU3RhdGUsbj10Ll93cml0YWJsZVN0YXRlO2lmKG4hPW51bGwmJm4uZGVzdHJveWVkfHxpIT1udWxsJiZpLmRlc3Ryb3llZClyZXR1cm4gdGhpcztpIT1udWxsJiZpLmF1dG9EZXN0cm95fHxuIT1udWxsJiZuLmF1dG9EZXN0cm95P3QuZGVzdHJveShlKTplJiYoZS5zdGFjayxuJiYhbi5lcnJvcmVkJiYobi5lcnJvcmVkPWUpLGkmJiFpLmVycm9yZWQmJihpLmVycm9yZWQ9ZSkscj9ydC5uZXh0VGljayhEcyx0LGUpOkRzKHQsZSkpO31mdW5jdGlvbiAkYih0LGUpe2lmKHR5cGVvZiB0Ll9jb25zdHJ1Y3QhPVwiZnVuY3Rpb25cIilyZXR1cm47bGV0IHI9dC5fcmVhZGFibGVTdGF0ZSxpPXQuX3dyaXRhYmxlU3RhdGU7ciYmKHIuY29uc3RydWN0ZWQ9ITEpLGkmJihpLmNvbnN0cnVjdGVkPSExKSx0Lm9uY2UocXMsZSksISh0Lmxpc3RlbmVyQ291bnQocXMpPjEpJiZydC5uZXh0VGljayhIYix0KTt9ZnVuY3Rpb24gSGIodCl7bGV0IGU9ITE7ZnVuY3Rpb24gcihpKXtpZihlKXtqcyh0LGk/P25ldyBNYik7cmV0dXJufWU9ITA7bGV0IG49dC5fcmVhZGFibGVTdGF0ZSxvPXQuX3dyaXRhYmxlU3RhdGUscz1vfHxuO24mJihuLmNvbnN0cnVjdGVkPSEwKSxvJiYoby5jb25zdHJ1Y3RlZD0hMCkscy5kZXN0cm95ZWQ/dC5lbWl0KEhmLGkpOmk/anModCxpLCEwKTpydC5uZXh0VGljayhWYix0KTt9dHJ5e3QuX2NvbnN0cnVjdChpPT57cnQubmV4dFRpY2socixpKTt9KTt9Y2F0Y2goaSl7cnQubmV4dFRpY2socixpKTt9fWZ1bmN0aW9uIFZiKHQpe3QuZW1pdChxcyk7fWZ1bmN0aW9uIFdmKHQpe3JldHVybiB0Py5zZXRIZWFkZXImJnR5cGVvZiB0LmFib3J0PT1cImZ1bmN0aW9uXCJ9ZnVuY3Rpb24gS2YodCl7dC5lbWl0KFwiY2xvc2VcIik7fWZ1bmN0aW9uIHpiKHQsZSl7dC5lbWl0KFwiZXJyb3JcIixlKSxydC5uZXh0VGljayhLZix0KTt9ZnVuY3Rpb24gS2IodCxlKXshdHx8TmIodCl8fCghZSYmIXFiKHQpJiYoZT1uZXcgTGIpLERiKHQpPyh0LnNvY2tldD1udWxsLHQuZGVzdHJveShlKSk6V2YodCk/dC5hYm9ydCgpOldmKHQucmVxKT90LnJlcS5hYm9ydCgpOnR5cGVvZiB0LmRlc3Ryb3k9PVwiZnVuY3Rpb25cIj90LmRlc3Ryb3koZSk6dHlwZW9mIHQuY2xvc2U9PVwiZnVuY3Rpb25cIj90LmNsb3NlKCk6ZT9ydC5uZXh0VGljayh6Yix0LGUpOnJ0Lm5leHRUaWNrKEtmLHQpLHQuZGVzdHJveWVkfHwodFtVYl09ITApKTt9R2YuZXhwb3J0cz17Y29uc3RydWN0OiRiLGRlc3Ryb3llcjpLYixkZXN0cm95OmpiLHVuZGVzdHJveTpXYixlcnJvck9yRGVzdHJveTpqc307fSk7ZnVuY3Rpb24gWSgpe1kuaW5pdC5jYWxsKHRoaXMpO31mdW5jdGlvbiBlbih0KXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpfWZ1bmN0aW9uIG5jKHQpe3JldHVybiB0Ll9tYXhMaXN0ZW5lcnM9PT12b2lkIDA/WS5kZWZhdWx0TWF4TGlzdGVuZXJzOnQuX21heExpc3RlbmVyc31mdW5jdGlvbiBYZih0LGUscixpKXt2YXIgbixvLHMsYTtpZihlbihyKSwobz10Ll9ldmVudHMpPT09dm9pZCAwPyhvPXQuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHQuX2V2ZW50c0NvdW50PTApOihvLm5ld0xpc3RlbmVyIT09dm9pZCAwJiYodC5lbWl0KFwibmV3TGlzdGVuZXJcIixlLHIubGlzdGVuZXI/ci5saXN0ZW5lcjpyKSxvPXQuX2V2ZW50cykscz1vW2VdKSxzPT09dm9pZCAwKXM9b1tlXT1yLCsrdC5fZXZlbnRzQ291bnQ7ZWxzZSBpZih0eXBlb2Ygcz09XCJmdW5jdGlvblwiP3M9b1tlXT1pP1tyLHNdOltzLHJdOmk/cy51bnNoaWZ0KHIpOnMucHVzaChyKSwobj1uYyh0KSk+MCYmcy5sZW5ndGg+biYmIXMud2FybmVkKXtzLndhcm5lZD0hMDt2YXIgbD1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK3MubGVuZ3RoK1wiIFwiK1N0cmluZyhlKStcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0XCIpO2wubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLGwuZW1pdHRlcj10LGwudHlwZT1lLGwuY291bnQ9cy5sZW5ndGgsYT1sLGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKGEpO31yZXR1cm4gdH1mdW5jdGlvbiBHYigpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gWmYodCxlLHIpe3ZhciBpPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDp0LHR5cGU6ZSxsaXN0ZW5lcjpyfSxuPUdiLmJpbmQoaSk7cmV0dXJuIG4ubGlzdGVuZXI9cixpLndyYXBGbj1uLG59ZnVuY3Rpb24gZWModCxlLHIpe3ZhciBpPXQuX2V2ZW50cztpZihpPT09dm9pZCAwKXJldHVybiBbXTt2YXIgbj1pW2VdO3JldHVybiBuPT09dm9pZCAwP1tdOnR5cGVvZiBuPT1cImZ1bmN0aW9uXCI/cj9bbi5saXN0ZW5lcnx8bl06W25dOnI/ZnVuY3Rpb24obyl7Zm9yKHZhciBzPW5ldyBBcnJheShvLmxlbmd0aCksYT0wO2E8cy5sZW5ndGg7KythKXNbYV09b1thXS5saXN0ZW5lcnx8b1thXTtyZXR1cm4gc30obik6c2MobixuLmxlbmd0aCl9ZnVuY3Rpb24gdGModCl7dmFyIGU9dGhpcy5fZXZlbnRzO2lmKGUhPT12b2lkIDApe3ZhciByPWVbdF07aWYodHlwZW9mIHI9PVwiZnVuY3Rpb25cIilyZXR1cm4gMTtpZihyIT09dm9pZCAwKXJldHVybiByLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiBzYyh0LGUpe2Zvcih2YXIgcj1uZXcgQXJyYXkoZSksaT0wO2k8ZTsrK2kpcltpXT10W2ldO3JldHVybiByfXZhciByYyxpYyxxcixRZixZZixKZixCZSxGcz1fZSgoKT0+e18oKTt2KCk7bSgpO3FyPXR5cGVvZiBSZWZsZWN0PT1cIm9iamVjdFwiP1JlZmxlY3Q6bnVsbCxRZj1xciYmdHlwZW9mIHFyLmFwcGx5PT1cImZ1bmN0aW9uXCI/cXIuYXBwbHk6ZnVuY3Rpb24odCxlLHIpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0LGUscil9O2ljPXFyJiZ0eXBlb2YgcXIub3duS2V5cz09XCJmdW5jdGlvblwiP3FyLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkpfTpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCl9O1lmPU51bWJlci5pc05hTnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9O3JjPVksWS5FdmVudEVtaXR0ZXI9WSxZLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxZLnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCxZLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDtKZj0xMDtPYmplY3QuZGVmaW5lUHJvcGVydHkoWSxcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmZ9LHNldDpmdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJudW1iZXJcInx8dDwwfHxZZih0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrdCtcIi5cIik7SmY9dDt9fSksWS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5fZXZlbnRzIT09dm9pZCAwJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMDt9LFkucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJudW1iZXJcInx8dDwwfHxZZih0KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrdCtcIi5cIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz10LHRoaXN9LFkucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBuYyh0aGlzKX0sWS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZS5wdXNoKGFyZ3VtZW50c1tyXSk7dmFyIGk9dD09PVwiZXJyb3JcIixuPXRoaXMuX2V2ZW50cztpZihuIT09dm9pZCAwKWk9aSYmbi5lcnJvcj09PXZvaWQgMDtlbHNlIGlmKCFpKXJldHVybiAhMTtpZihpKXt2YXIgbztpZihlLmxlbmd0aD4wJiYobz1lWzBdKSxvIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgbzt2YXIgcz1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKG8/XCIgKFwiK28ubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgcy5jb250ZXh0PW8sc312YXIgYT1uW3RdO2lmKGE9PT12b2lkIDApcmV0dXJuICExO2lmKHR5cGVvZiBhPT1cImZ1bmN0aW9uXCIpUWYoYSx0aGlzLGUpO2Vsc2Uge3ZhciBsPWEubGVuZ3RoLGM9c2MoYSxsKTtmb3Iocj0wO3I8bDsrK3IpUWYoY1tyXSx0aGlzLGUpO31yZXR1cm4gITB9LFkucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhmKHRoaXMsdCxlLCExKX0sWS5wcm90b3R5cGUub249WS5wcm90b3R5cGUuYWRkTGlzdGVuZXIsWS5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhmKHRoaXMsdCxlLCEwKX0sWS5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe3JldHVybiBlbihlKSx0aGlzLm9uKHQsWmYodGhpcyx0LGUpKSx0aGlzfSxZLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVuKGUpLHRoaXMucHJlcGVuZExpc3RlbmVyKHQsWmYodGhpcyx0LGUpKSx0aGlzfSxZLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3ZhciByLGksbixvLHM7aWYoZW4oZSksKGk9dGhpcy5fZXZlbnRzKT09PXZvaWQgMClyZXR1cm4gdGhpcztpZigocj1pW3RdKT09PXZvaWQgMClyZXR1cm4gdGhpcztpZihyPT09ZXx8ci5saXN0ZW5lcj09PWUpLS10aGlzLl9ldmVudHNDb3VudD09MD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIGlbdF0saS5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIix0LHIubGlzdGVuZXJ8fGUpKTtlbHNlIGlmKHR5cGVvZiByIT1cImZ1bmN0aW9uXCIpe2ZvcihuPS0xLG89ci5sZW5ndGgtMTtvPj0wO28tLSlpZihyW29dPT09ZXx8cltvXS5saXN0ZW5lcj09PWUpe3M9cltvXS5saXN0ZW5lcixuPW87YnJlYWt9aWYobjwwKXJldHVybiB0aGlzO249PT0wP3Iuc2hpZnQoKTpmdW5jdGlvbihhLGwpe2Zvcig7bCsxPGEubGVuZ3RoO2wrKylhW2xdPWFbbCsxXTthLnBvcCgpO30ocixuKSxyLmxlbmd0aD09PTEmJihpW3RdPXJbMF0pLGkucmVtb3ZlTGlzdGVuZXIhPT12b2lkIDAmJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdCxzfHxlKTt9cmV0dXJuIHRoaXN9LFkucHJvdG90eXBlLm9mZj1ZLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixZLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGUscixpO2lmKChyPXRoaXMuX2V2ZW50cyk9PT12b2lkIDApcmV0dXJuIHRoaXM7aWYoci5yZW1vdmVMaXN0ZW5lcj09PXZvaWQgMClyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTA/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOnJbdF0hPT12b2lkIDAmJigtLXRoaXMuX2V2ZW50c0NvdW50PT0wP3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSByW3RdKSx0aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXt2YXIgbixvPU9iamVjdC5rZXlzKHIpO2ZvcihpPTA7aTxvLmxlbmd0aDsrK2kpKG49b1tpXSkhPT1cInJlbW92ZUxpc3RlbmVyXCImJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKG4pO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZih0eXBlb2YoZT1yW3RdKT09XCJmdW5jdGlvblwiKXRoaXMucmVtb3ZlTGlzdGVuZXIodCxlKTtlbHNlIGlmKGUhPT12b2lkIDApZm9yKGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHQsZVtpXSk7cmV0dXJuIHRoaXN9LFkucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gZWModGhpcyx0LCEwKX0sWS5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiBlYyh0aGlzLHQsITEpfSxZLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHlwZW9mIHQubGlzdGVuZXJDb3VudD09XCJmdW5jdGlvblwiP3QubGlzdGVuZXJDb3VudChlKTp0Yy5jYWxsKHQsZSl9LFkucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9dGMsWS5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP2ljKHRoaXMuX2V2ZW50cyk6W119O0JlPXJjO0JlLkV2ZW50RW1pdHRlcjtCZS5kZWZhdWx0TWF4TGlzdGVuZXJzO0JlLmluaXQ7QmUubGlzdGVuZXJDb3VudDtCZS5FdmVudEVtaXR0ZXI7QmUuZGVmYXVsdE1heExpc3RlbmVycztCZS5pbml0O0JlLmxpc3RlbmVyQ291bnQ7fSk7dmFyIG5yPXt9O0p0KG5yLHtFdmVudEVtaXR0ZXI6KCk9PlFiLGRlZmF1bHQ6KCk9PkJlLGRlZmF1bHRNYXhMaXN0ZW5lcnM6KCk9PlliLGluaXQ6KCk9PkpiLGxpc3RlbmVyQ291bnQ6KCk9PlhiLG9uOigpPT5aYixvbmNlOigpPT5ld30pO3ZhciBRYixZYixKYixYYixaYixldyxzcj1fZSgoKT0+e18oKTt2KCk7bSgpO0ZzKCk7RnMoKTtCZS5vbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBQcm9taXNlKChyLGkpPT57ZnVuY3Rpb24gbiguLi5zKXtvIT09dm9pZCAwJiZ0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvKSxyKHMpO31sZXQgbztlIT09XCJlcnJvclwiJiYobz1zPT57dC5yZW1vdmVMaXN0ZW5lcihuYW1lLG4pLGkocyk7fSx0Lm9uY2UoXCJlcnJvclwiLG8pKSx0Lm9uY2UoZSxuKTt9KX07QmUub249ZnVuY3Rpb24odCxlKXtsZXQgcj1bXSxpPVtdLG49bnVsbCxvPSExLHM9e2FzeW5jIG5leHQoKXtsZXQgYz1yLnNoaWZ0KCk7aWYoYylyZXR1cm4gY3JlYXRlSXRlclJlc3VsdChjLCExKTtpZihuKXtsZXQgaD1Qcm9taXNlLnJlamVjdChuKTtyZXR1cm4gbj1udWxsLGh9cmV0dXJuIG8/Y3JlYXRlSXRlclJlc3VsdCh2b2lkIDAsITApOm5ldyBQcm9taXNlKChoLGQpPT5pLnB1c2goe3Jlc29sdmU6aCxyZWplY3Q6ZH0pKX0sYXN5bmMgcmV0dXJuKCl7dC5yZW1vdmVMaXN0ZW5lcihlLGEpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGwpLG89ITA7Zm9yKGxldCBjIG9mIGkpYy5yZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodm9pZCAwLCEwKSk7cmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHQodm9pZCAwLCEwKX0sdGhyb3coYyl7bj1jLHQucmVtb3ZlTGlzdGVuZXIoZSxhKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixsKTt9LFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKXtyZXR1cm4gdGhpc319O3JldHVybiB0Lm9uKGUsYSksdC5vbihcImVycm9yXCIsbCkscztmdW5jdGlvbiBhKC4uLmMpe2xldCBoPWkuc2hpZnQoKTtoP2gucmVzb2x2ZShjcmVhdGVJdGVyUmVzdWx0KGMsITEpKTpyLnB1c2goYyk7fWZ1bmN0aW9uIGwoYyl7bz0hMDtsZXQgaD1pLnNoaWZ0KCk7aD9oLnJlamVjdChjKTpuPWMscy5yZXR1cm4oKTt9fTsoe0V2ZW50RW1pdHRlcjpRYixkZWZhdWx0TWF4TGlzdGVuZXJzOlliLGluaXQ6SmIsbGlzdGVuZXJDb3VudDpYYixvbjpaYixvbmNlOmV3fT1CZSk7fSk7dmFyIG5uPU0oKFVULGFjKT0+e18oKTt2KCk7bSgpO3ZhcntBcnJheUlzQXJyYXk6dHcsT2JqZWN0U2V0UHJvdG90eXBlT2Y6b2N9PWNlKCkse0V2ZW50RW1pdHRlcjp0bn09KHNyKCksWChucikpO2Z1bmN0aW9uIHJuKHQpe3RuLmNhbGwodGhpcyx0KTt9b2Mocm4ucHJvdG90eXBlLHRuLnByb3RvdHlwZSk7b2Mocm4sdG4pO3JuLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQsZSl7bGV0IHI9dGhpcztmdW5jdGlvbiBpKGgpe3Qud3JpdGFibGUmJnQud3JpdGUoaCk9PT0hMSYmci5wYXVzZSYmci5wYXVzZSgpO31yLm9uKFwiZGF0YVwiLGkpO2Z1bmN0aW9uIG4oKXtyLnJlYWRhYmxlJiZyLnJlc3VtZSYmci5yZXN1bWUoKTt9dC5vbihcImRyYWluXCIsbiksIXQuX2lzU3RkaW8mJighZXx8ZS5lbmQhPT0hMSkmJihyLm9uKFwiZW5kXCIscyksci5vbihcImNsb3NlXCIsYSkpO2xldCBvPSExO2Z1bmN0aW9uIHMoKXtvfHwobz0hMCx0LmVuZCgpKTt9ZnVuY3Rpb24gYSgpe298fChvPSEwLHR5cGVvZiB0LmRlc3Ryb3k9PVwiZnVuY3Rpb25cIiYmdC5kZXN0cm95KCkpO31mdW5jdGlvbiBsKGgpe2MoKSx0bi5saXN0ZW5lckNvdW50KHRoaXMsXCJlcnJvclwiKT09PTAmJnRoaXMuZW1pdChcImVycm9yXCIsaCk7fVdzKHIsXCJlcnJvclwiLGwpLFdzKHQsXCJlcnJvclwiLGwpO2Z1bmN0aW9uIGMoKXtyLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLGkpLHQucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLG4pLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixzKSxyLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixhKSxyLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixsKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixsKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsYyksci5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsYyksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsYyk7fXJldHVybiByLm9uKFwiZW5kXCIsYyksci5vbihcImNsb3NlXCIsYyksdC5vbihcImNsb3NlXCIsYyksdC5lbWl0KFwicGlwZVwiLHIpLHR9O2Z1bmN0aW9uIFdzKHQsZSxyKXtpZih0eXBlb2YgdC5wcmVwZW5kTGlzdGVuZXI9PVwiZnVuY3Rpb25cIilyZXR1cm4gdC5wcmVwZW5kTGlzdGVuZXIoZSxyKTshdC5fZXZlbnRzfHwhdC5fZXZlbnRzW2VdP3Qub24oZSxyKTp0dyh0Ll9ldmVudHNbZV0pP3QuX2V2ZW50c1tlXS51bnNoaWZ0KHIpOnQuX2V2ZW50c1tlXT1bcix0Ll9ldmVudHNbZV1dO31hYy5leHBvcnRzPXtTdHJlYW06cm4scHJlcGVuZExpc3RlbmVyOldzfTt9KTt2YXIgZGk9TSgoelQsc24pPT57XygpO3YoKTttKCk7dmFye0Fib3J0RXJyb3I6bGMsY29kZXM6cnd9PUFlKCkse2lzTm9kZVN0cmVhbTp1Yyxpc1dlYlN0cmVhbTppdyxrQ29udHJvbGxlckVycm9yRnVuY3Rpb246bnd9PXR0KCksc3c9dnQoKSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6ZmN9PXJ3LG93PSh0LGUpPT57aWYodHlwZW9mIHQhPVwib2JqZWN0XCJ8fCEoXCJhYm9ydGVkXCJpbiB0KSl0aHJvdyBuZXcgZmMoZSxcIkFib3J0U2lnbmFsXCIsdCl9O3NuLmV4cG9ydHMuYWRkQWJvcnRTaWduYWw9ZnVuY3Rpb24oZSxyKXtpZihvdyhlLFwic2lnbmFsXCIpLCF1YyhyKSYmIWl3KHIpKXRocm93IG5ldyBmYyhcInN0cmVhbVwiLFtcIlJlYWRhYmxlU3RyZWFtXCIsXCJXcml0YWJsZVN0cmVhbVwiLFwiU3RyZWFtXCJdLHIpO3JldHVybiBzbi5leHBvcnRzLmFkZEFib3J0U2lnbmFsTm9WYWxpZGF0ZShlLHIpfTtzbi5leHBvcnRzLmFkZEFib3J0U2lnbmFsTm9WYWxpZGF0ZT1mdW5jdGlvbih0LGUpe2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHwhKFwiYWJvcnRlZFwiaW4gdCkpcmV0dXJuIGU7bGV0IHI9dWMoZSk/KCk9PntlLmRlc3Ryb3kobmV3IGxjKHZvaWQgMCx7Y2F1c2U6dC5yZWFzb259KSk7fTooKT0+e2VbbnddKG5ldyBsYyh2b2lkIDAse2NhdXNlOnQucmVhc29ufSkpO307cmV0dXJuIHQuYWJvcnRlZD9yKCk6KHQuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsciksc3coZSwoKT0+dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixyKSkpLGV9O30pO3ZhciBkYz1NKChpMixoYyk9PntfKCk7digpO20oKTt2YXJ7U3RyaW5nUHJvdG90eXBlU2xpY2U6Y2MsU3ltYm9sSXRlcmF0b3I6YXcsVHlwZWRBcnJheVByb3RvdHlwZVNldDpvbixVaW50OEFycmF5Omx3fT1jZSgpLHtCdWZmZXI6JHN9PShiZSgpLFgobWUpKSx7aW5zcGVjdDp1d309SmUoKTtoYy5leHBvcnRzPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MDt9cHVzaChlKXtsZXQgcj17ZGF0YTplLG5leHQ6bnVsbH07dGhpcy5sZW5ndGg+MD90aGlzLnRhaWwubmV4dD1yOnRoaXMuaGVhZD1yLHRoaXMudGFpbD1yLCsrdGhpcy5sZW5ndGg7fXVuc2hpZnQoZSl7bGV0IHI9e2RhdGE6ZSxuZXh0OnRoaXMuaGVhZH07dGhpcy5sZW5ndGg9PT0wJiYodGhpcy50YWlsPXIpLHRoaXMuaGVhZD1yLCsrdGhpcy5sZW5ndGg7fXNoaWZ0KCl7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybjtsZXQgZT10aGlzLmhlYWQuZGF0YTtyZXR1cm4gdGhpcy5sZW5ndGg9PT0xP3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbDp0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsLS10aGlzLmxlbmd0aCxlfWNsZWFyKCl7dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTA7fWpvaW4oZSl7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybiBcIlwiO2xldCByPXRoaXMuaGVhZCxpPVwiXCIrci5kYXRhO2Zvcig7KHI9ci5uZXh0KSE9PW51bGw7KWkrPWUrci5kYXRhO3JldHVybiBpfWNvbmNhdChlKXtpZih0aGlzLmxlbmd0aD09PTApcmV0dXJuICRzLmFsbG9jKDApO2xldCByPSRzLmFsbG9jVW5zYWZlKGU+Pj4wKSxpPXRoaXMuaGVhZCxuPTA7Zm9yKDtpOylvbihyLGkuZGF0YSxuKSxuKz1pLmRhdGEubGVuZ3RoLGk9aS5uZXh0O3JldHVybiByfWNvbnN1bWUoZSxyKXtsZXQgaT10aGlzLmhlYWQuZGF0YTtpZihlPGkubGVuZ3RoKXtsZXQgbj1pLnNsaWNlKDAsZSk7cmV0dXJuIHRoaXMuaGVhZC5kYXRhPWkuc2xpY2UoZSksbn1yZXR1cm4gZT09PWkubGVuZ3RoP3RoaXMuc2hpZnQoKTpyP3RoaXMuX2dldFN0cmluZyhlKTp0aGlzLl9nZXRCdWZmZXIoZSl9Zmlyc3QoKXtyZXR1cm4gdGhpcy5oZWFkLmRhdGF9Klthd10oKXtmb3IobGV0IGU9dGhpcy5oZWFkO2U7ZT1lLm5leHQpeWllbGQgZS5kYXRhO31fZ2V0U3RyaW5nKGUpe2xldCByPVwiXCIsaT10aGlzLmhlYWQsbj0wO2Rve2xldCBvPWkuZGF0YTtpZihlPm8ubGVuZ3RoKXIrPW8sZS09by5sZW5ndGg7ZWxzZSB7ZT09PW8ubGVuZ3RoPyhyKz1vLCsrbixpLm5leHQ/dGhpcy5oZWFkPWkubmV4dDp0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwpOihyKz1jYyhvLDAsZSksdGhpcy5oZWFkPWksaS5kYXRhPWNjKG8sZSkpO2JyZWFrfSsrbjt9d2hpbGUoKGk9aS5uZXh0KSE9PW51bGwpO3JldHVybiB0aGlzLmxlbmd0aC09bixyfV9nZXRCdWZmZXIoZSl7bGV0IHI9JHMuYWxsb2NVbnNhZmUoZSksaT1lLG49dGhpcy5oZWFkLG89MDtkb3tsZXQgcz1uLmRhdGE7aWYoZT5zLmxlbmd0aClvbihyLHMsaS1lKSxlLT1zLmxlbmd0aDtlbHNlIHtlPT09cy5sZW5ndGg/KG9uKHIscyxpLWUpLCsrbyxuLm5leHQ/dGhpcy5oZWFkPW4ubmV4dDp0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwpOihvbihyLG5ldyBsdyhzLmJ1ZmZlcixzLmJ5dGVPZmZzZXQsZSksaS1lKSx0aGlzLmhlYWQ9bixuLmRhdGE9cy5zbGljZShlKSk7YnJlYWt9KytvO313aGlsZSgobj1uLm5leHQpIT09bnVsbCk7cmV0dXJuIHRoaXMubGVuZ3RoLT1vLHJ9W1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV0oZSxyKXtyZXR1cm4gdXcodGhpcyx7Li4ucixkZXB0aDowLGN1c3RvbUluc3BlY3Q6ITF9KX19O30pO3ZhciBhbj1NKChkMixnYyk9PntfKCk7digpO20oKTt2YXJ7TWF0aEZsb29yOmZ3LE51bWJlcklzSW50ZWdlcjpjd309Y2UoKSx7RVJSX0lOVkFMSURfQVJHX1ZBTFVFOmh3fT1BZSgpLmNvZGVzO2Z1bmN0aW9uIGR3KHQsZSxyKXtyZXR1cm4gdC5oaWdoV2F0ZXJNYXJrIT1udWxsP3QuaGlnaFdhdGVyTWFyazplP3Rbcl06bnVsbH1mdW5jdGlvbiBwYyh0KXtyZXR1cm4gdD8xNjoxNioxMDI0fWZ1bmN0aW9uIHB3KHQsZSxyLGkpe2xldCBuPWR3KGUsaSxyKTtpZihuIT1udWxsKXtpZighY3cobil8fG48MCl7bGV0IG89aT9gb3B0aW9ucy4ke3J9YDpcIm9wdGlvbnMuaGlnaFdhdGVyTWFya1wiO3Rocm93IG5ldyBodyhvLG4pfXJldHVybiBmdyhuKX1yZXR1cm4gcGModC5vYmplY3RNb2RlKX1nYy5leHBvcnRzPXtnZXRIaWdoV2F0ZXJNYXJrOnB3LGdldERlZmF1bHRIaWdoV2F0ZXJNYXJrOnBjfTt9KTtmdW5jdGlvbiB3Yyh0KXt2YXIgZT10Lmxlbmd0aDtpZihlJTQ+MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO3ZhciByPXQuaW5kZXhPZihcIj1cIik7cmV0dXJuIHI9PT0tMSYmKHI9ZSksW3Iscj09PWU/MDo0LXIlNF19ZnVuY3Rpb24gZ3codCxlLHIpe2Zvcih2YXIgaSxuLG89W10scz1lO3M8cjtzKz0zKWk9KHRbc108PDE2JjE2NzExNjgwKSsodFtzKzFdPDw4JjY1MjgwKSsoMjU1JnRbcysyXSksby5wdXNoKCRlWyhuPWkpPj4xOCY2M10rJGVbbj4+MTImNjNdKyRlW24+PjYmNjNdKyRlWzYzJm5dKTtyZXR1cm4gby5qb2luKFwiXCIpfWZ1bmN0aW9uIEV0KHQpe2lmKHQ+MjE0NzQ4MzY0Nyl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKTt2YXIgZT1uZXcgVWludDhBcnJheSh0KTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsTy5wcm90b3R5cGUpLGV9ZnVuY3Rpb24gTyh0LGUscil7aWYodHlwZW9mIHQ9PVwibnVtYmVyXCIpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7cmV0dXJuIEtzKHQpfXJldHVybiBDYyh0LGUscil9ZnVuY3Rpb24gQ2ModCxlLHIpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXJldHVybiBmdW5jdGlvbihvLHMpe2lmKHR5cGVvZiBzPT1cInN0cmluZ1wiJiZzIT09XCJcInx8KHM9XCJ1dGY4XCIpLCFPLmlzRW5jb2RpbmcocykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3MpO3ZhciBhPTB8UGMobyxzKSxsPUV0KGEpLGM9bC53cml0ZShvLHMpO3JldHVybiBjIT09YSYmKGw9bC5zbGljZSgwLGMpKSxsfSh0LGUpO2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KSlyZXR1cm4gSHModCk7aWYodD09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIHQpO2lmKFN0KHQsQXJyYXlCdWZmZXIpfHx0JiZTdCh0LmJ1ZmZlcixBcnJheUJ1ZmZlcil8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjxcInVcIiYmKFN0KHQsU2hhcmVkQXJyYXlCdWZmZXIpfHx0JiZTdCh0LmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXJldHVybiBtYyh0LGUscik7aWYodHlwZW9mIHQ9PVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTt2YXIgaT10LnZhbHVlT2YmJnQudmFsdWVPZigpO2lmKGkhPW51bGwmJmkhPT10KXJldHVybiBPLmZyb20oaSxlLHIpO3ZhciBuPWZ1bmN0aW9uKG8pe2lmKE8uaXNCdWZmZXIobykpe3ZhciBzPTB8WXMoby5sZW5ndGgpLGE9RXQocyk7cmV0dXJuIGEubGVuZ3RoPT09MHx8by5jb3B5KGEsMCwwLHMpLGF9aWYoby5sZW5ndGghPT12b2lkIDApcmV0dXJuIHR5cGVvZiBvLmxlbmd0aCE9XCJudW1iZXJcInx8SnMoby5sZW5ndGgpP0V0KDApOkhzKG8pO2lmKG8udHlwZT09PVwiQnVmZmVyXCImJkFycmF5LmlzQXJyYXkoby5kYXRhKSlyZXR1cm4gSHMoby5kYXRhKX0odCk7aWYobilyZXR1cm4gbjtpZih0eXBlb2YgU3ltYm9sPFwidVwiJiZTeW1ib2wudG9QcmltaXRpdmUhPW51bGwmJnR5cGVvZiB0W1N5bWJvbC50b1ByaW1pdGl2ZV09PVwiZnVuY3Rpb25cIilyZXR1cm4gTy5mcm9tKHRbU3ltYm9sLnRvUHJpbWl0aXZlXShcInN0cmluZ1wiKSxlLHIpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgdCl9ZnVuY3Rpb24gQmModCl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKHQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKX1mdW5jdGlvbiBLcyh0KXtyZXR1cm4gQmModCksRXQodDwwPzA6MHxZcyh0KSl9ZnVuY3Rpb24gSHModCl7Zm9yKHZhciBlPXQubGVuZ3RoPDA/MDowfFlzKHQubGVuZ3RoKSxyPUV0KGUpLGk9MDtpPGU7aSs9MSlyW2ldPTI1NSZ0W2ldO3JldHVybiByfWZ1bmN0aW9uIG1jKHQsZSxyKXtpZihlPDB8fHQuYnl0ZUxlbmd0aDxlKXRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2lmKHQuYnl0ZUxlbmd0aDxlKyhyfHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJsZW5ndGhcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTt2YXIgaTtyZXR1cm4gaT1lPT09dm9pZCAwJiZyPT09dm9pZCAwP25ldyBVaW50OEFycmF5KHQpOnI9PT12b2lkIDA/bmV3IFVpbnQ4QXJyYXkodCxlKTpuZXcgVWludDhBcnJheSh0LGUsciksT2JqZWN0LnNldFByb3RvdHlwZU9mKGksTy5wcm90b3R5cGUpLGl9ZnVuY3Rpb24gWXModCl7aWYodD49MjE0NzQ4MzY0Nyl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIisyMTQ3NDgzNjQ3IC50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8dH1mdW5jdGlvbiBQYyh0LGUpe2lmKE8uaXNCdWZmZXIodCkpcmV0dXJuIHQubGVuZ3RoO2lmKEFycmF5QnVmZmVyLmlzVmlldyh0KXx8U3QodCxBcnJheUJ1ZmZlcikpcmV0dXJuIHQuYnl0ZUxlbmd0aDtpZih0eXBlb2YgdCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTt2YXIgcj10Lmxlbmd0aCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdPT09ITA7aWYoIWkmJnI9PT0wKXJldHVybiAwO2Zvcih2YXIgbj0hMTs7KXN3aXRjaChlKXtjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiByO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBHcyh0KS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqcjtjYXNlXCJoZXhcIjpyZXR1cm4gcj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIE1jKHQpLmxlbmd0aDtkZWZhdWx0OmlmKG4pcmV0dXJuIGk/LTE6R3ModCkubGVuZ3RoO2U9KFwiXCIrZSkudG9Mb3dlckNhc2UoKSxuPSEwO319ZnVuY3Rpb24gYncodCxlLHIpe3ZhciBpPSExO2lmKChlPT09dm9pZCAwfHxlPDApJiYoZT0wKSxlPnRoaXMubGVuZ3RofHwoKHI9PT12b2lkIDB8fHI+dGhpcy5sZW5ndGgpJiYocj10aGlzLmxlbmd0aCkscjw9MCl8fChyPj4+PTApPD0oZT4+Pj0wKSlyZXR1cm4gXCJcIjtmb3IodHx8KHQ9XCJ1dGY4XCIpOzspc3dpdGNoKHQpe2Nhc2VcImhleFwiOnJldHVybiBUdyh0aGlzLGUscik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIE9jKHRoaXMsZSxyKTtjYXNlXCJhc2NpaVwiOnJldHVybiBBdyh0aGlzLGUscik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIEl3KHRoaXMsZSxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gU3codGhpcyxlLHIpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBSdyh0aGlzLGUscik7ZGVmYXVsdDppZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIit0KTt0PSh0K1wiXCIpLnRvTG93ZXJDYXNlKCksaT0hMDt9fWZ1bmN0aW9uIGFyKHQsZSxyKXt2YXIgaT10W2VdO3RbZV09dFtyXSx0W3JdPWk7fWZ1bmN0aW9uIHZjKHQsZSxyLGksbil7aWYodC5sZW5ndGg9PT0wKXJldHVybiAtMTtpZih0eXBlb2Ygcj09XCJzdHJpbmdcIj8oaT1yLHI9MCk6cj4yMTQ3NDgzNjQ3P3I9MjE0NzQ4MzY0NzpyPC0yMTQ3NDgzNjQ4JiYocj0tMjE0NzQ4MzY0OCksSnMocj0rcikmJihyPW4/MDp0Lmxlbmd0aC0xKSxyPDAmJihyPXQubGVuZ3RoK3IpLHI+PXQubGVuZ3RoKXtpZihuKXJldHVybiAtMTtyPXQubGVuZ3RoLTE7fWVsc2UgaWYocjwwKXtpZighbilyZXR1cm4gLTE7cj0wO31pZih0eXBlb2YgZT09XCJzdHJpbmdcIiYmKGU9Ty5mcm9tKGUsaSkpLE8uaXNCdWZmZXIoZSkpcmV0dXJuIGUubGVuZ3RoPT09MD8tMTpFYyh0LGUscixpLG4pO2lmKHR5cGVvZiBlPT1cIm51bWJlclwiKXJldHVybiBlJj0yNTUsdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y9PVwiZnVuY3Rpb25cIj9uP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LGUscik6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbCh0LGUscik6RWModCxbZV0scixpLG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gRWModCxlLHIsaSxuKXt2YXIgbyxzPTEsYT10Lmxlbmd0aCxsPWUubGVuZ3RoO2lmKGkhPT12b2lkIDAmJigoaT1TdHJpbmcoaSkudG9Mb3dlckNhc2UoKSk9PT1cInVjczJcInx8aT09PVwidWNzLTJcInx8aT09PVwidXRmMTZsZVwifHxpPT09XCJ1dGYtMTZsZVwiKSl7aWYodC5sZW5ndGg8Mnx8ZS5sZW5ndGg8MilyZXR1cm4gLTE7cz0yLGEvPTIsbC89MixyLz0yO31mdW5jdGlvbiBjKHksdyl7cmV0dXJuIHM9PT0xP3lbd106eS5yZWFkVUludDE2QkUodypzKX1pZihuKXt2YXIgaD0tMTtmb3Iobz1yO288YTtvKyspaWYoYyh0LG8pPT09YyhlLGg9PT0tMT8wOm8taCkpe2lmKGg9PT0tMSYmKGg9byksby1oKzE9PT1sKXJldHVybiBoKnN9ZWxzZSBoIT09LTEmJihvLT1vLWgpLGg9LTE7fWVsc2UgZm9yKHIrbD5hJiYocj1hLWwpLG89cjtvPj0wO28tLSl7Zm9yKHZhciBkPSEwLGc9MDtnPGw7ZysrKWlmKGModCxvK2cpIT09YyhlLGcpKXtkPSExO2JyZWFrfWlmKGQpcmV0dXJuIG99cmV0dXJuIC0xfWZ1bmN0aW9uIHd3KHQsZSxyLGkpe3I9TnVtYmVyKHIpfHwwO3ZhciBuPXQubGVuZ3RoLXI7aT8oaT1OdW1iZXIoaSkpPm4mJihpPW4pOmk9bjt2YXIgbz1lLmxlbmd0aDtpPm8vMiYmKGk9by8yKTtmb3IodmFyIHM9MDtzPGk7KytzKXt2YXIgYT1wYXJzZUludChlLnN1YnN0cigyKnMsMiksMTYpO2lmKEpzKGEpKXJldHVybiBzO3RbcitzXT1hO31yZXR1cm4gc31mdW5jdGlvbiBfdyh0LGUscixpKXtyZXR1cm4gY24oR3MoZSx0Lmxlbmd0aC1yKSx0LHIsaSl9ZnVuY3Rpb24ga2ModCxlLHIsaSl7cmV0dXJuIGNuKGZ1bmN0aW9uKG4pe2Zvcih2YXIgbz1bXSxzPTA7czxuLmxlbmd0aDsrK3Mpby5wdXNoKDI1NSZuLmNoYXJDb2RlQXQocykpO3JldHVybiBvfShlKSx0LHIsaSl9ZnVuY3Rpb24gbXcodCxlLHIsaSl7cmV0dXJuIGtjKHQsZSxyLGkpfWZ1bmN0aW9uIHZ3KHQsZSxyLGkpe3JldHVybiBjbihNYyhlKSx0LHIsaSl9ZnVuY3Rpb24gRXcodCxlLHIsaSl7cmV0dXJuIGNuKGZ1bmN0aW9uKG4sbyl7Zm9yKHZhciBzLGEsbCxjPVtdLGg9MDtoPG4ubGVuZ3RoJiYhKChvLT0yKTwwKTsrK2gpcz1uLmNoYXJDb2RlQXQoaCksYT1zPj44LGw9cyUyNTYsYy5wdXNoKGwpLGMucHVzaChhKTtyZXR1cm4gY30oZSx0Lmxlbmd0aC1yKSx0LHIsaSl9ZnVuY3Rpb24gU3codCxlLHIpe3JldHVybiBlPT09MCYmcj09PXQubGVuZ3RoP3pzLmZyb21CeXRlQXJyYXkodCk6enMuZnJvbUJ5dGVBcnJheSh0LnNsaWNlKGUscikpfWZ1bmN0aW9uIE9jKHQsZSxyKXtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgaT1bXSxuPWU7bjxyOyl7dmFyIG8scyxhLGwsYz10W25dLGg9bnVsbCxkPWM+MjM5PzQ6Yz4yMjM/MzpjPjE5MT8yOjE7aWYobitkPD1yKXN3aXRjaChkKXtjYXNlIDE6YzwxMjgmJihoPWMpO2JyZWFrO2Nhc2UgMjooMTkyJihvPXRbbisxXSkpPT0xMjgmJihsPSgzMSZjKTw8Nnw2MyZvKT4xMjcmJihoPWwpO2JyZWFrO2Nhc2UgMzpvPXRbbisxXSxzPXRbbisyXSwoMTkyJm8pPT0xMjgmJigxOTImcyk9PTEyOCYmKGw9KDE1JmMpPDwxMnwoNjMmbyk8PDZ8NjMmcyk+MjA0NyYmKGw8NTUyOTZ8fGw+NTczNDMpJiYoaD1sKTticmVhaztjYXNlIDQ6bz10W24rMV0scz10W24rMl0sYT10W24rM10sKDE5MiZvKT09MTI4JiYoMTkyJnMpPT0xMjgmJigxOTImYSk9PTEyOCYmKGw9KDE1JmMpPDwxOHwoNjMmbyk8PDEyfCg2MyZzKTw8Nnw2MyZhKT42NTUzNSYmbDwxMTE0MTEyJiYoaD1sKTt9aD09PW51bGw/KGg9NjU1MzMsZD0xKTpoPjY1NTM1JiYoaC09NjU1MzYsaS5wdXNoKGg+Pj4xMCYxMDIzfDU1Mjk2KSxoPTU2MzIwfDEwMjMmaCksaS5wdXNoKGgpLG4rPWQ7fXJldHVybiBmdW5jdGlvbihnKXt2YXIgeT1nLmxlbmd0aDtpZih5PD00MDk2KXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxnKTtmb3IodmFyIHc9XCJcIixTPTA7Uzx5Oyl3Kz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxnLnNsaWNlKFMsUys9NDA5NikpO3JldHVybiB3fShpKX1mdW5jdGlvbiBBdyh0LGUscil7dmFyIGk9XCJcIjtyPU1hdGgubWluKHQubGVuZ3RoLHIpO2Zvcih2YXIgbj1lO248cjsrK24paSs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmdFtuXSk7cmV0dXJuIGl9ZnVuY3Rpb24gSXcodCxlLHIpe3ZhciBpPVwiXCI7cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIG49ZTtuPHI7KytuKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUodFtuXSk7cmV0dXJuIGl9ZnVuY3Rpb24gVHcodCxlLHIpe3ZhciBpPXQubGVuZ3RoOyghZXx8ZTwwKSYmKGU9MCksKCFyfHxyPDB8fHI+aSkmJihyPWkpO2Zvcih2YXIgbj1cIlwiLG89ZTtvPHI7KytvKW4rPUJ3W3Rbb11dO3JldHVybiBufWZ1bmN0aW9uIFJ3KHQsZSxyKXtmb3IodmFyIGk9dC5zbGljZShlLHIpLG49XCJcIixvPTA7bzxpLmxlbmd0aDtvKz0yKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoaVtvXSsyNTYqaVtvKzFdKTtyZXR1cm4gbn1mdW5jdGlvbiB3ZSh0LGUscil7aWYodCUxIT0wfHx0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYodCtlPnIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWZ1bmN0aW9uIFBlKHQsZSxyLGksbixvKXtpZighTy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZihlPm58fGU8byl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihyK2k+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24geGModCxlLHIsaSxuLG8pe2lmKHIraT50Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihyPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gU2ModCxlLHIsaSxuKXtyZXR1cm4gZT0rZSxyPj4+PTAsbnx8eGModCwwLHIsNCksRHIud3JpdGUodCxlLHIsaSwyMyw0KSxyKzR9ZnVuY3Rpb24gQWModCxlLHIsaSxuKXtyZXR1cm4gZT0rZSxyPj4+PTAsbnx8eGModCwwLHIsOCksRHIud3JpdGUodCxlLHIsaSw1Miw4KSxyKzh9ZnVuY3Rpb24gR3ModCxlKXt2YXIgcjtlPWV8fDEvMDtmb3IodmFyIGk9dC5sZW5ndGgsbj1udWxsLG89W10scz0wO3M8aTsrK3Mpe2lmKChyPXQuY2hhckNvZGVBdChzKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFuKXtpZihyPjU2MzE5KXsoZS09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYocysxPT09aSl7KGUtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfW49cjtjb250aW51ZX1pZihyPDU2MzIwKXsoZS09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSksbj1yO2NvbnRpbnVlfXI9NjU1MzYrKG4tNTUyOTY8PDEwfHItNTYzMjApO31lbHNlIG4mJihlLT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtpZihuPW51bGwscjwxMjgpe2lmKChlLT0xKTwwKWJyZWFrO28ucHVzaChyKTt9ZWxzZSBpZihyPDIwNDgpe2lmKChlLT0yKTwwKWJyZWFrO28ucHVzaChyPj42fDE5Miw2MyZyfDEyOCk7fWVsc2UgaWYocjw2NTUzNil7aWYoKGUtPTMpPDApYnJlYWs7by5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCk7fWVsc2Uge2lmKCEocjwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7aWYoKGUtPTQpPDApYnJlYWs7by5wdXNoKHI+PjE4fDI0MCxyPj4xMiY2M3wxMjgscj4+NiY2M3wxMjgsNjMmcnwxMjgpO319cmV0dXJuIG99ZnVuY3Rpb24gTWModCl7cmV0dXJuIHpzLnRvQnl0ZUFycmF5KGZ1bmN0aW9uKGUpe2lmKChlPShlPWUuc3BsaXQoXCI9XCIpWzBdKS50cmltKCkucmVwbGFjZShDdyxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuIFwiXCI7Zm9yKDtlLmxlbmd0aCU0IT0wOyllKz1cIj1cIjtyZXR1cm4gZX0odCkpfWZ1bmN0aW9uIGNuKHQsZSxyLGkpe2Zvcih2YXIgbj0wO248aSYmIShuK3I+PWUubGVuZ3RofHxuPj10Lmxlbmd0aCk7KytuKWVbbityXT10W25dO3JldHVybiBufWZ1bmN0aW9uIFN0KHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlfHx0IT1udWxsJiZ0LmNvbnN0cnVjdG9yIT1udWxsJiZ0LmNvbnN0cnVjdG9yLm5hbWUhPW51bGwmJnQuY29uc3RydWN0b3IubmFtZT09PWUubmFtZX1mdW5jdGlvbiBKcyh0KXtyZXR1cm4gdCE9dH1mdW5jdGlvbiBJYyh0LGUpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXTt9ZnVuY3Rpb24gbHIodCxlLHIpe3JldHVybiBpdCh0LGUscil9ZnVuY3Rpb24gcGkodCl7dmFyIGU7c3dpdGNoKHRoaXMuZW5jb2Rpbmc9ZnVuY3Rpb24ocil7dmFyIGk9ZnVuY3Rpb24obil7aWYoIW4pcmV0dXJuIFwidXRmOFwiO2Zvcih2YXIgbzs7KXN3aXRjaChuKXtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gXCJ1dGY4XCI7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIFwidXRmMTZsZVwiO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBcImxhdGluMVwiO2Nhc2VcImJhc2U2NFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiaGV4XCI6cmV0dXJuIG47ZGVmYXVsdDppZihvKXJldHVybjtuPShcIlwiK24pLnRvTG93ZXJDYXNlKCksbz0hMDt9fShyKTtpZih0eXBlb2YgaSE9XCJzdHJpbmdcIiYmKFFzLmlzRW5jb2Rpbmc9PT1UY3x8IVRjKHIpKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIityKTtyZXR1cm4gaXx8cn0odCksdGhpcy5lbmNvZGluZyl7Y2FzZVwidXRmMTZsZVwiOnRoaXMudGV4dD1Pdyx0aGlzLmVuZD14dyxlPTQ7YnJlYWs7Y2FzZVwidXRmOFwiOnRoaXMuZmlsbExhc3Q9a3csZT00O2JyZWFrO2Nhc2VcImJhc2U2NFwiOnRoaXMudGV4dD1Ndyx0aGlzLmVuZD1MdyxlPTM7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdGhpcy53cml0ZT1Vdyx0aGlzLmVuZD1Odyx2b2lkIDB9dGhpcy5sYXN0TmVlZD0wLHRoaXMubGFzdFRvdGFsPTAsdGhpcy5sYXN0Q2hhcj1Rcy5hbGxvY1Vuc2FmZShlKTt9ZnVuY3Rpb24gVnModCl7cmV0dXJuIHQ8PTEyNz8wOnQ+PjU9PTY/Mjp0Pj40PT0xND8zOnQ+PjM9PTMwPzQ6dD4+Nj09Mj8tMTotMn1mdW5jdGlvbiBrdyh0KXt2YXIgZT10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLHI9ZnVuY3Rpb24oaSxuLG8pe2lmKCgxOTImblswXSkhPTEyOClyZXR1cm4gaS5sYXN0TmVlZD0wLFwiXFx1RkZGRFwiO2lmKGkubGFzdE5lZWQ+MSYmbi5sZW5ndGg+MSl7aWYoKDE5MiZuWzFdKSE9MTI4KXJldHVybiBpLmxhc3ROZWVkPTEsXCJcXHVGRkZEXCI7aWYoaS5sYXN0TmVlZD4yJiZuLmxlbmd0aD4yJiYoMTkyJm5bMl0pIT0xMjgpcmV0dXJuIGkubGFzdE5lZWQ9MixcIlxcdUZGRkRcIn19KHRoaXMsdCk7cmV0dXJuIHIhPT12b2lkIDA/cjp0aGlzLmxhc3ROZWVkPD10Lmxlbmd0aD8odC5jb3B5KHRoaXMubGFzdENoYXIsZSwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKSk6KHQuY29weSh0aGlzLmxhc3RDaGFyLGUsMCx0Lmxlbmd0aCksdGhpcy5sYXN0TmVlZC09dC5sZW5ndGgsdm9pZCAwKX1mdW5jdGlvbiBPdyh0LGUpe2lmKCh0Lmxlbmd0aC1lKSUyPT0wKXt2YXIgcj10LnRvU3RyaW5nKFwidXRmMTZsZVwiLGUpO2lmKHIpe3ZhciBpPXIuY2hhckNvZGVBdChyLmxlbmd0aC0xKTtpZihpPj01NTI5NiYmaTw9NTYzMTkpcmV0dXJuIHRoaXMubGFzdE5lZWQ9Mix0aGlzLmxhc3RUb3RhbD00LHRoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0yXSx0aGlzLmxhc3RDaGFyWzFdPXRbdC5sZW5ndGgtMV0sci5zbGljZSgwLC0xKX1yZXR1cm4gcn1yZXR1cm4gdGhpcy5sYXN0TmVlZD0xLHRoaXMubGFzdFRvdGFsPTIsdGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTFdLHQudG9TdHJpbmcoXCJ1dGYxNmxlXCIsZSx0Lmxlbmd0aC0xKX1mdW5jdGlvbiB4dyh0KXt2YXIgZT10JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCI7aWYodGhpcy5sYXN0TmVlZCl7dmFyIHI9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZDtyZXR1cm4gZSt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwidXRmMTZsZVwiLDAscil9cmV0dXJuIGV9ZnVuY3Rpb24gTXcodCxlKXt2YXIgcj0odC5sZW5ndGgtZSklMztyZXR1cm4gcj09PTA/dC50b1N0cmluZyhcImJhc2U2NFwiLGUpOih0aGlzLmxhc3ROZWVkPTMtcix0aGlzLmxhc3RUb3RhbD0zLHI9PT0xP3RoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0xXToodGhpcy5sYXN0Q2hhclswXT10W3QubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09dFt0Lmxlbmd0aC0xXSksdC50b1N0cmluZyhcImJhc2U2NFwiLGUsdC5sZW5ndGgtcikpfWZ1bmN0aW9uIEx3KHQpe3ZhciBlPXQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIjtyZXR1cm4gdGhpcy5sYXN0TmVlZD9lK3RoaXMubGFzdENoYXIudG9TdHJpbmcoXCJiYXNlNjRcIiwwLDMtdGhpcy5sYXN0TmVlZCk6ZX1mdW5jdGlvbiBVdyh0KXtyZXR1cm4gdC50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiBOdyh0KXtyZXR1cm4gdCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwifXZhciBSYywkZSxPZSx5YyxsbixvcixiYyx5dyxBdCx6cyxEcixfYyxDdyxCdyx1bixmbixpdCxQdyx1cixRcyxUYyxYcz1fZSgoKT0+e18oKTt2KCk7bSgpO2ZvcihSYz17Ynl0ZUxlbmd0aDpmdW5jdGlvbih0KXt2YXIgZT13Yyh0KSxyPWVbMF0saT1lWzFdO3JldHVybiAzKihyK2kpLzQtaX0sdG9CeXRlQXJyYXk6ZnVuY3Rpb24odCl7dmFyIGUscixpPXdjKHQpLG49aVswXSxvPWlbMV0scz1uZXcgeWMoZnVuY3Rpb24oYyxoLGQpe3JldHVybiAzKihoK2QpLzQtZH0oMCxuLG8pKSxhPTAsbD1vPjA/bi00Om47Zm9yKHI9MDtyPGw7cis9NCllPU9lW3QuY2hhckNvZGVBdChyKV08PDE4fE9lW3QuY2hhckNvZGVBdChyKzEpXTw8MTJ8T2VbdC5jaGFyQ29kZUF0KHIrMildPDw2fE9lW3QuY2hhckNvZGVBdChyKzMpXSxzW2ErK109ZT4+MTYmMjU1LHNbYSsrXT1lPj44JjI1NSxzW2ErK109MjU1JmU7cmV0dXJuIG89PT0yJiYoZT1PZVt0LmNoYXJDb2RlQXQocildPDwyfE9lW3QuY2hhckNvZGVBdChyKzEpXT4+NCxzW2ErK109MjU1JmUpLG89PT0xJiYoZT1PZVt0LmNoYXJDb2RlQXQocildPDwxMHxPZVt0LmNoYXJDb2RlQXQocisxKV08PDR8T2VbdC5jaGFyQ29kZUF0KHIrMildPj4yLHNbYSsrXT1lPj44JjI1NSxzW2ErK109MjU1JmUpLHN9LGZyb21CeXRlQXJyYXk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLHI9dC5sZW5ndGgsaT1yJTMsbj1bXSxvPTAscz1yLWk7bzxzO28rPTE2MzgzKW4ucHVzaChndyh0LG8sbysxNjM4Mz5zP3M6bysxNjM4MykpO3JldHVybiBpPT09MT8oZT10W3ItMV0sbi5wdXNoKCRlW2U+PjJdKyRlW2U8PDQmNjNdK1wiPT1cIikpOmk9PT0yJiYoZT0odFtyLTJdPDw4KSt0W3ItMV0sbi5wdXNoKCRlW2U+PjEwXSskZVtlPj40JjYzXSskZVtlPDwyJjYzXStcIj1cIikpLG4uam9pbihcIlwiKX19LCRlPVtdLE9lPVtdLHljPXR5cGVvZiBVaW50OEFycmF5PFwidVwiP1VpbnQ4QXJyYXk6QXJyYXksbG49XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsb3I9MCxiYz1sbi5sZW5ndGg7b3I8YmM7KytvcikkZVtvcl09bG5bb3JdLE9lW2xuLmNoYXJDb2RlQXQob3IpXT1vcjtPZVtcIi1cIi5jaGFyQ29kZUF0KDApXT02MixPZVtcIl9cIi5jaGFyQ29kZUF0KDApXT02Mzt5dz17cmVhZDpmdW5jdGlvbih0LGUscixpLG4pe3ZhciBvLHMsYT04Km4taS0xLGw9KDE8PGEpLTEsYz1sPj4xLGg9LTcsZD1yP24tMTowLGc9cj8tMToxLHk9dFtlK2RdO2ZvcihkKz1nLG89eSYoMTw8LWgpLTEseT4+PS1oLGgrPWE7aD4wO289MjU2Km8rdFtlK2RdLGQrPWcsaC09OCk7Zm9yKHM9byYoMTw8LWgpLTEsbz4+PS1oLGgrPWk7aD4wO3M9MjU2KnMrdFtlK2RdLGQrPWcsaC09OCk7aWYobz09PTApbz0xLWM7ZWxzZSB7aWYobz09PWwpcmV0dXJuIHM/TmFOOjEvMCooeT8tMToxKTtzKz1NYXRoLnBvdygyLGkpLG8tPWM7fXJldHVybiAoeT8tMToxKSpzKk1hdGgucG93KDIsby1pKX0sd3JpdGU6ZnVuY3Rpb24odCxlLHIsaSxuLG8pe3ZhciBzLGEsbCxjPTgqby1uLTEsaD0oMTw8YyktMSxkPWg+PjEsZz1uPT09MjM/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLHk9aT8wOm8tMSx3PWk/MTotMSxTPWU8MHx8ZT09PTAmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8oYT1pc05hTihlKT8xOjAscz1oKToocz1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKihsPU1hdGgucG93KDIsLXMpKTwxJiYocy0tLGwqPTIpLChlKz1zK2Q+PTE/Zy9sOmcqTWF0aC5wb3coMiwxLWQpKSpsPj0yJiYocysrLGwvPTIpLHMrZD49aD8oYT0wLHM9aCk6cytkPj0xPyhhPShlKmwtMSkqTWF0aC5wb3coMixuKSxzKz1kKTooYT1lKk1hdGgucG93KDIsZC0xKSpNYXRoLnBvdygyLG4pLHM9MCkpO24+PTg7dFtyK3ldPTI1NSZhLHkrPXcsYS89MjU2LG4tPTgpO2ZvcihzPXM8PG58YSxjKz1uO2M+MDt0W3IreV09MjU1JnMseSs9dyxzLz0yNTYsYy09OCk7dFtyK3ktd118PTEyOCpTO319LEF0PXt9LHpzPVJjLERyPXl3LF9jPXR5cGVvZiBTeW1ib2w9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIFN5bWJvbC5mb3I9PVwiZnVuY3Rpb25cIj9TeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIik6bnVsbDtBdC5CdWZmZXI9TyxBdC5TbG93QnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiArdCE9dCYmKHQ9MCksTy5hbGxvYygrdCl9LEF0LklOU1BFQ1RfTUFYX0JZVEVTPTUwO0F0LmtNYXhMZW5ndGg9MjE0NzQ4MzY0NyxPLlRZUEVEX0FSUkFZX1NVUFBPUlQ9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoMSksZT17Zm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKSx0LmZvbygpPT09NDJ9Y2F0Y2h7cmV0dXJuICExfX0oKSxPLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHR5cGVvZiBjb25zb2xlPlwidVwifHx0eXBlb2YgY29uc29sZS5lcnJvciE9XCJmdW5jdGlvblwifHxjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5IGBidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuXCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLnByb3RvdHlwZSxcInBhcmVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKE8uaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLnByb3RvdHlwZSxcIm9mZnNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKE8uaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KSxPLnBvb2xTaXplPTgxOTIsTy5mcm9tPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gQ2ModCxlLHIpfSxPYmplY3Quc2V0UHJvdG90eXBlT2YoTy5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihPLFVpbnQ4QXJyYXkpLE8uYWxsb2M9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBmdW5jdGlvbihpLG4sbyl7cmV0dXJuIEJjKGkpLGk8PTA/RXQoaSk6biE9PXZvaWQgMD90eXBlb2Ygbz09XCJzdHJpbmdcIj9FdChpKS5maWxsKG4sbyk6RXQoaSkuZmlsbChuKTpFdChpKX0odCxlLHIpfSxPLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHQpe3JldHVybiBLcyh0KX0sTy5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24odCl7cmV0dXJuIEtzKHQpfSxPLmlzQnVmZmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0IT1udWxsJiZ0Ll9pc0J1ZmZlcj09PSEwJiZ0IT09Ty5wcm90b3R5cGV9LE8uY29tcGFyZT1mdW5jdGlvbih0LGUpe2lmKFN0KHQsVWludDhBcnJheSkmJih0PU8uZnJvbSh0LHQub2Zmc2V0LHQuYnl0ZUxlbmd0aCkpLFN0KGUsVWludDhBcnJheSkmJihlPU8uZnJvbShlLGUub2Zmc2V0LGUuYnl0ZUxlbmd0aCkpLCFPLmlzQnVmZmVyKHQpfHwhTy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7aWYodD09PWUpcmV0dXJuIDA7Zm9yKHZhciByPXQubGVuZ3RoLGk9ZS5sZW5ndGgsbj0wLG89TWF0aC5taW4ocixpKTtuPG87KytuKWlmKHRbbl0hPT1lW25dKXtyPXRbbl0saT1lW25dO2JyZWFrfXJldHVybiByPGk/LTE6aTxyPzE6MH0sTy5pc0VuY29kaW5nPWZ1bmN0aW9uKHQpe3N3aXRjaChTdHJpbmcodCkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITF9fSxPLmNvbmNhdD1mdW5jdGlvbih0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKHQubGVuZ3RoPT09MClyZXR1cm4gTy5hbGxvYygwKTt2YXIgcjtpZihlPT09dm9pZCAwKWZvcihlPTAscj0wO3I8dC5sZW5ndGg7KytyKWUrPXRbcl0ubGVuZ3RoO3ZhciBpPU8uYWxsb2NVbnNhZmUoZSksbj0wO2ZvcihyPTA7cjx0Lmxlbmd0aDsrK3Ipe3ZhciBvPXRbcl07aWYoU3QobyxVaW50OEFycmF5KSYmKG89Ty5mcm9tKG8pKSwhTy5pc0J1ZmZlcihvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtvLmNvcHkoaSxuKSxuKz1vLmxlbmd0aDt9cmV0dXJuIGl9LE8uYnl0ZUxlbmd0aD1QYyxPLnByb3RvdHlwZS5faXNCdWZmZXI9ITAsTy5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZW5ndGg7aWYodCUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKHZhciBlPTA7ZTx0O2UrPTIpYXIodGhpcyxlLGUrMSk7cmV0dXJuIHRoaXN9LE8ucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz00KWFyKHRoaXMsZSxlKzMpLGFyKHRoaXMsZSsxLGUrMik7cmV0dXJuIHRoaXN9LE8ucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz04KWFyKHRoaXMsZSxlKzcpLGFyKHRoaXMsZSsxLGUrNiksYXIodGhpcyxlKzIsZSs1KSxhcih0aGlzLGUrMyxlKzQpO3JldHVybiB0aGlzfSxPLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO3JldHVybiB0PT09MD9cIlwiOmFyZ3VtZW50cy5sZW5ndGg9PT0wP09jKHRoaXMsMCx0KTpidy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LE8ucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPU8ucHJvdG90eXBlLnRvU3RyaW5nLE8ucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighTy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PXR8fE8uY29tcGFyZSh0aGlzLHQpPT09MH0sTy5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciB0PVwiXCIsZT1BdC5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdD10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxlKS5yZXBsYWNlKC8oLnsyfSkvZyxcIiQxIFwiKS50cmltKCksdGhpcy5sZW5ndGg+ZSYmKHQrPVwiIC4uLiBcIiksXCI8QnVmZmVyIFwiK3QrXCI+XCJ9LF9jJiYoTy5wcm90b3R5cGVbX2NdPU8ucHJvdG90eXBlLmluc3BlY3QpLE8ucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlLHIsaSxuKXtpZihTdCh0LFVpbnQ4QXJyYXkpJiYodD1PLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSwhTy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpO2lmKGU9PT12b2lkIDAmJihlPTApLHI9PT12b2lkIDAmJihyPXQ/dC5sZW5ndGg6MCksaT09PXZvaWQgMCYmKGk9MCksbj09PXZvaWQgMCYmKG49dGhpcy5sZW5ndGgpLGU8MHx8cj50Lmxlbmd0aHx8aTwwfHxuPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKGk+PW4mJmU+PXIpcmV0dXJuIDA7aWYoaT49bilyZXR1cm4gLTE7aWYoZT49cilyZXR1cm4gMTtpZih0aGlzPT09dClyZXR1cm4gMDtmb3IodmFyIG89KG4+Pj49MCktKGk+Pj49MCkscz0ocj4+Pj0wKS0oZT4+Pj0wKSxhPU1hdGgubWluKG8scyksbD10aGlzLnNsaWNlKGksbiksYz10LnNsaWNlKGUsciksaD0wO2g8YTsrK2gpaWYobFtoXSE9PWNbaF0pe289bFtoXSxzPWNbaF07YnJlYWt9cmV0dXJuIG88cz8tMTpzPG8/MTowfSxPLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRoaXMuaW5kZXhPZih0LGUscikhPT0tMX0sTy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHZjKHRoaXMsdCxlLHIsITApfSxPLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHZjKHRoaXMsdCxlLHIsITEpfSxPLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUscixpKXtpZihlPT09dm9pZCAwKWk9XCJ1dGY4XCIscj10aGlzLmxlbmd0aCxlPTA7ZWxzZSBpZihyPT09dm9pZCAwJiZ0eXBlb2YgZT09XCJzdHJpbmdcIilpPWUscj10aGlzLmxlbmd0aCxlPTA7ZWxzZSB7aWYoIWlzRmluaXRlKGUpKXRocm93IG5ldyBFcnJvcihcIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkXCIpO2U+Pj49MCxpc0Zpbml0ZShyKT8ocj4+Pj0wLGk9PT12b2lkIDAmJihpPVwidXRmOFwiKSk6KGk9cixyPXZvaWQgMCk7fXZhciBuPXRoaXMubGVuZ3RoLWU7aWYoKHI9PT12b2lkIDB8fHI+bikmJihyPW4pLHQubGVuZ3RoPjAmJihyPDB8fGU8MCl8fGU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kc1wiKTtpfHwoaT1cInV0ZjhcIik7Zm9yKHZhciBvPSExOzspc3dpdGNoKGkpe2Nhc2VcImhleFwiOnJldHVybiB3dyh0aGlzLHQsZSxyKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gX3codGhpcyx0LGUscik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4ga2ModGhpcyx0LGUscik7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIG13KHRoaXMsdCxlLHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiB2dyh0aGlzLHQsZSxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gRXcodGhpcyx0LGUscik7ZGVmYXVsdDppZihvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitpKTtpPShcIlwiK2kpLnRvTG93ZXJDYXNlKCksbz0hMDt9fSxPLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4ge3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O08ucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5sZW5ndGg7KHQ9fn50KTwwPyh0Kz1yKTwwJiYodD0wKTp0PnImJih0PXIpLChlPWU9PT12b2lkIDA/cjp+fmUpPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksZTx0JiYoZT10KTt2YXIgaT10aGlzLnN1YmFycmF5KHQsZSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihpLE8ucHJvdG90eXBlKSxpfSxPLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKHQsZSxyKXt0Pj4+PTAsZT4+Pj0wLHJ8fHdlKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPXRoaXNbdF0sbj0xLG89MDsrK288ZSYmKG4qPTI1Nik7KWkrPXRoaXNbdCtvXSpuO3JldHVybiBpfSxPLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKHQsZSxyKXt0Pj4+PTAsZT4+Pj0wLHJ8fHdlKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPXRoaXNbdCstLWVdLG49MTtlPjAmJihuKj0yNTYpOylpKz10aGlzW3QrLS1lXSpuO3JldHVybiBpfSxPLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsMSx0aGlzLmxlbmd0aCksdGhpc1t0XX0sTy5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF18dGhpc1t0KzFdPDw4fSxPLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsMix0aGlzLmxlbmd0aCksdGhpc1t0XTw8OHx0aGlzW3QrMV19LE8ucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8d2UodCw0LHRoaXMubGVuZ3RoKSwodGhpc1t0XXx0aGlzW3QrMV08PDh8dGhpc1t0KzJdPDwxNikrMTY3NzcyMTYqdGhpc1t0KzNdfSxPLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1t0XSsodGhpc1t0KzFdPDwxNnx0aGlzW3QrMl08PDh8dGhpc1t0KzNdKX0sTy5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKHQsZSxyKXt0Pj4+PTAsZT4+Pj0wLHJ8fHdlKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPXRoaXNbdF0sbj0xLG89MDsrK288ZSYmKG4qPTI1Nik7KWkrPXRoaXNbdCtvXSpuO3JldHVybiBpPj0obio9MTI4KSYmKGktPU1hdGgucG93KDIsOCplKSksaX0sTy5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKHQsZSxyKXt0Pj4+PTAsZT4+Pj0wLHJ8fHdlKHQsZSx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPWUsbj0xLG89dGhpc1t0Ky0taV07aT4wJiYobio9MjU2KTspbys9dGhpc1t0Ky0taV0qbjtyZXR1cm4gbz49KG4qPTEyOCkmJihvLT1NYXRoLnBvdygyLDgqZSkpLG99LE8ucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW3RdPy0xKigyNTUtdGhpc1t0XSsxKTp0aGlzW3RdfSxPLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbih0LGUpe3Q+Pj49MCxlfHx3ZSh0LDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbdF18dGhpc1t0KzFdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxPLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbih0LGUpe3Q+Pj49MCxlfHx3ZSh0LDIsdGhpcy5sZW5ndGgpO3ZhciByPXRoaXNbdCsxXXx0aGlzW3RdPDw4O3JldHVybiAzMjc2OCZyPzQyOTQ5MDE3NjB8cjpyfSxPLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8d2UodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdfHRoaXNbdCsxXTw8OHx0aGlzW3QrMl08PDE2fHRoaXNbdCszXTw8MjR9LE8ucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDQsdGhpcy5sZW5ndGgpLHRoaXNbdF08PDI0fHRoaXNbdCsxXTw8MTZ8dGhpc1t0KzJdPDw4fHRoaXNbdCszXX0sTy5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsNCx0aGlzLmxlbmd0aCksRHIucmVhZCh0aGlzLHQsITAsMjMsNCl9LE8ucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDQsdGhpcy5sZW5ndGgpLERyLnJlYWQodGhpcyx0LCExLDIzLDQpfSxPLnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsOCx0aGlzLmxlbmd0aCksRHIucmVhZCh0aGlzLHQsITAsNTIsOCl9LE8ucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8d2UodCw4LHRoaXMubGVuZ3RoKSxEci5yZWFkKHRoaXMsdCwhMSw1Miw4KX0sTy5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odCxlLHIsaSl7dD0rdCxlPj4+PTAscj4+Pj0wLGl8fFBlKHRoaXMsdCxlLHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIG49MSxvPTA7Zm9yKHRoaXNbZV09MjU1JnQ7KytvPHImJihuKj0yNTYpOyl0aGlzW2Urb109dC9uJjI1NTtyZXR1cm4gZStyfSxPLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbih0LGUscixpKXt0PSt0LGU+Pj49MCxyPj4+PTAsaXx8UGUodGhpcyx0LGUscixNYXRoLnBvdygyLDgqciktMSwwKTt2YXIgbj1yLTEsbz0xO2Zvcih0aGlzW2Urbl09MjU1JnQ7LS1uPj0wJiYobyo9MjU2KTspdGhpc1tlK25dPXQvbyYyNTU7cmV0dXJuIGUrcn0sTy5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDEsMjU1LDApLHRoaXNbZV09MjU1JnQsZSsxfSxPLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsMiw2NTUzNSwwKSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCxlKzJ9LE8ucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSwyLDY1NTM1LDApLHRoaXNbZV09dD4+PjgsdGhpc1tlKzFdPTI1NSZ0LGUrMn0sTy5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2UrM109dD4+PjI0LHRoaXNbZSsyXT10Pj4+MTYsdGhpc1tlKzFdPXQ+Pj44LHRoaXNbZV09MjU1JnQsZSs0fSxPLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbZV09dD4+PjI0LHRoaXNbZSsxXT10Pj4+MTYsdGhpc1tlKzJdPXQ+Pj44LHRoaXNbZSszXT0yNTUmdCxlKzR9LE8ucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24odCxlLHIsaSl7aWYodD0rdCxlPj4+PTAsIWkpe3ZhciBuPU1hdGgucG93KDIsOCpyLTEpO1BlKHRoaXMsdCxlLHIsbi0xLC1uKTt9dmFyIG89MCxzPTEsYT0wO2Zvcih0aGlzW2VdPTI1NSZ0OysrbzxyJiYocyo9MjU2KTspdDwwJiZhPT09MCYmdGhpc1tlK28tMV0hPT0wJiYoYT0xKSx0aGlzW2Urb109KHQvcz4+MCktYSYyNTU7cmV0dXJuIGUrcn0sTy5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbih0LGUscixpKXtpZih0PSt0LGU+Pj49MCwhaSl7dmFyIG49TWF0aC5wb3coMiw4KnItMSk7UGUodGhpcyx0LGUscixuLTEsLW4pO312YXIgbz1yLTEscz0xLGE9MDtmb3IodGhpc1tlK29dPTI1NSZ0Oy0tbz49MCYmKHMqPTI1Nik7KXQ8MCYmYT09PTAmJnRoaXNbZStvKzFdIT09MCYmKGE9MSksdGhpc1tlK29dPSh0L3M+PjApLWEmMjU1O3JldHVybiBlK3J9LE8ucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDEsMTI3LC0xMjgpLHQ8MCYmKHQ9MjU1K3QrMSksdGhpc1tlXT0yNTUmdCxlKzF9LE8ucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSx0aGlzW2VdPTI1NSZ0LHRoaXNbZSsxXT10Pj4+OCxlKzJ9LE8ucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDIsMzI3NjcsLTMyNzY4KSx0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCxlKzJ9LE8ucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsdGhpc1tlKzJdPXQ+Pj4xNix0aGlzW2UrM109dD4+PjI0LGUrNH0sTy5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKSx0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQsZSs0fSxPLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBTYyh0aGlzLHQsZSwhMCxyKX0sTy5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gU2ModGhpcyx0LGUsITEscil9LE8ucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBBYyh0aGlzLHQsZSwhMCxyKX0sTy5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIEFjKHRoaXMsdCxlLCExLHIpfSxPLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSxyLGkpe2lmKCFPLmlzQnVmZmVyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXJcIik7aWYocnx8KHI9MCksaXx8aT09PTB8fChpPXRoaXMubGVuZ3RoKSxlPj10Lmxlbmd0aCYmKGU9dC5sZW5ndGgpLGV8fChlPTApLGk+MCYmaTxyJiYoaT1yKSxpPT09cnx8dC5sZW5ndGg9PT0wfHx0aGlzLmxlbmd0aD09PTApcmV0dXJuIDA7aWYoZTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihyPDB8fHI+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKGk8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO2k+dGhpcy5sZW5ndGgmJihpPXRoaXMubGVuZ3RoKSx0Lmxlbmd0aC1lPGktciYmKGk9dC5sZW5ndGgtZStyKTt2YXIgbj1pLXI7aWYodGhpcz09PXQmJnR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluPT1cImZ1bmN0aW9uXCIpdGhpcy5jb3B5V2l0aGluKGUscixpKTtlbHNlIGlmKHRoaXM9PT10JiZyPGUmJmU8aSlmb3IodmFyIG89bi0xO28+PTA7LS1vKXRbbytlXT10aGlzW28rcl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCh0LHRoaXMuc3ViYXJyYXkocixpKSxlKTtyZXR1cm4gbn0sTy5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih0LGUscixpKXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil7aWYodHlwZW9mIGU9PVwic3RyaW5nXCI/KGk9ZSxlPTAscj10aGlzLmxlbmd0aCk6dHlwZW9mIHI9PVwic3RyaW5nXCImJihpPXIscj10aGlzLmxlbmd0aCksaSE9PXZvaWQgMCYmdHlwZW9mIGkhPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYodHlwZW9mIGk9PVwic3RyaW5nXCImJiFPLmlzRW5jb2RpbmcoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2kpO2lmKHQubGVuZ3RoPT09MSl7dmFyIG49dC5jaGFyQ29kZUF0KDApOyhpPT09XCJ1dGY4XCImJm48MTI4fHxpPT09XCJsYXRpbjFcIikmJih0PW4pO319ZWxzZSB0eXBlb2YgdD09XCJudW1iZXJcIj90Jj0yNTU6dHlwZW9mIHQ9PVwiYm9vbGVhblwiJiYodD1OdW1iZXIodCkpO2lmKGU8MHx8dGhpcy5sZW5ndGg8ZXx8dGhpcy5sZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihyPD1lKXJldHVybiB0aGlzO3ZhciBvO2lmKGU+Pj49MCxyPXI9PT12b2lkIDA/dGhpcy5sZW5ndGg6cj4+PjAsdHx8KHQ9MCksdHlwZW9mIHQ9PVwibnVtYmVyXCIpZm9yKG89ZTtvPHI7KytvKXRoaXNbb109dDtlbHNlIHt2YXIgcz1PLmlzQnVmZmVyKHQpP3Q6Ty5mcm9tKHQsaSksYT1zLmxlbmd0aDtpZihhPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgXCInK3QrJ1wiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIicpO2ZvcihvPTA7bzxyLWU7KytvKXRoaXNbbytlXT1zW28lYV07fXJldHVybiB0aGlzfTtDdz0vW14rLzAtOUEtWmEtei1fXS9nO0J3PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSgyNTYpLGU9MDtlPDE2OysrZSlmb3IodmFyIHI9MTYqZSxpPTA7aTwxNjsrK2kpdFtyK2ldPVwiMDEyMzQ1Njc4OWFiY2RlZlwiW2VdK1wiMDEyMzQ1Njc4OWFiY2RlZlwiW2ldO3JldHVybiB0fSgpO0F0LkJ1ZmZlcjtBdC5JTlNQRUNUX01BWF9CWVRFUztBdC5rTWF4TGVuZ3RoO3VuPXt9LGZuPUF0LGl0PWZuLkJ1ZmZlcjtpdC5mcm9tJiZpdC5hbGxvYyYmaXQuYWxsb2NVbnNhZmUmJml0LmFsbG9jVW5zYWZlU2xvdz91bj1mbjooSWMoZm4sdW4pLHVuLkJ1ZmZlcj1sciksbHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaXQucHJvdG90eXBlKSxJYyhpdCxsciksbHIuZnJvbT1mdW5jdGlvbih0LGUscil7aWYodHlwZW9mIHQ9PVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyXCIpO3JldHVybiBpdCh0LGUscil9LGxyLmFsbG9jPWZ1bmN0aW9uKHQsZSxyKXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTt2YXIgaT1pdCh0KTtyZXR1cm4gZSE9PXZvaWQgMD90eXBlb2Ygcj09XCJzdHJpbmdcIj9pLmZpbGwoZSxyKTppLmZpbGwoZSk6aS5maWxsKDApLGl9LGxyLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBpdCh0KX0sbHIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBmbi5TbG93QnVmZmVyKHQpfTtQdz11bix1cj17fSxRcz1Qdy5CdWZmZXIsVGM9UXMuaXNFbmNvZGluZ3x8ZnVuY3Rpb24odCl7c3dpdGNoKCh0PVwiXCIrdCkmJnQudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpjYXNlXCJyYXdcIjpyZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITF9fTt1ci5TdHJpbmdEZWNvZGVyPXBpLHBpLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtpZih0Lmxlbmd0aD09PTApcmV0dXJuIFwiXCI7dmFyIGUscjtpZih0aGlzLmxhc3ROZWVkKXtpZigoZT10aGlzLmZpbGxMYXN0KHQpKT09PXZvaWQgMClyZXR1cm4gXCJcIjtyPXRoaXMubGFzdE5lZWQsdGhpcy5sYXN0TmVlZD0wO31lbHNlIHI9MDtyZXR1cm4gcjx0Lmxlbmd0aD9lP2UrdGhpcy50ZXh0KHQscik6dGhpcy50ZXh0KHQscik6ZXx8XCJcIn0scGkucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/ZStcIlxcdUZGRkRcIjplfSxwaS5wcm90b3R5cGUudGV4dD1mdW5jdGlvbih0LGUpe3ZhciByPWZ1bmN0aW9uKG4sbyxzKXt2YXIgYT1vLmxlbmd0aC0xO2lmKGE8cylyZXR1cm4gMDt2YXIgbD1WcyhvW2FdKTtyZXR1cm4gbD49MD8obD4wJiYobi5sYXN0TmVlZD1sLTEpLGwpOi0tYTxzfHxsPT09LTI/MDoobD1WcyhvW2FdKSk+PTA/KGw+MCYmKG4ubGFzdE5lZWQ9bC0yKSxsKTotLWE8c3x8bD09PS0yPzA6KGw9VnMob1thXSkpPj0wPyhsPjAmJihsPT09Mj9sPTA6bi5sYXN0TmVlZD1sLTMpLGwpOjB9KHRoaXMsdCxlKTtpZighdGhpcy5sYXN0TmVlZClyZXR1cm4gdC50b1N0cmluZyhcInV0ZjhcIixlKTt0aGlzLmxhc3RUb3RhbD1yO3ZhciBpPXQubGVuZ3RoLShyLXRoaXMubGFzdE5lZWQpO3JldHVybiB0LmNvcHkodGhpcy5sYXN0Q2hhciwwLGkpLHQudG9TdHJpbmcoXCJ1dGY4XCIsZSxpKX0scGkucHJvdG90eXBlLmZpbGxMYXN0PWZ1bmN0aW9uKHQpe2lmKHRoaXMubGFzdE5lZWQ8PXQubGVuZ3RoKXJldHVybiB0LmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpO3QuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0Lmxlbmd0aCksdGhpcy5sYXN0TmVlZC09dC5sZW5ndGg7fTt1ci5TdHJpbmdEZWNvZGVyO3VyLlN0cmluZ0RlY29kZXI7fSk7dmFyIExjPXt9O0p0KExjLHtTdHJpbmdEZWNvZGVyOigpPT5xdyxkZWZhdWx0OigpPT51cn0pO3ZhciBxdyxVYz1fZSgoKT0+e18oKTt2KCk7bSgpO1hzKCk7WHMoKTtxdz11ci5TdHJpbmdEZWNvZGVyO30pO3ZhciBacz1NKChIMixqYyk9PntfKCk7digpO20oKTt2YXIgTmM9TnQoKSx7UHJvbWlzZVByb3RvdHlwZVRoZW46RHcsU3ltYm9sQXN5bmNJdGVyYXRvcjpxYyxTeW1ib2xJdGVyYXRvcjpEY309Y2UoKSx7QnVmZmVyOmp3fT0oYmUoKSxYKG1lKSkse0VSUl9JTlZBTElEX0FSR19UWVBFOkZ3LEVSUl9TVFJFQU1fTlVMTF9WQUxVRVM6V3d9PUFlKCkuY29kZXM7ZnVuY3Rpb24gJHcodCxlLHIpe2xldCBpO2lmKHR5cGVvZiBlPT1cInN0cmluZ1wifHxlIGluc3RhbmNlb2YgancpcmV0dXJuIG5ldyB0KHtvYmplY3RNb2RlOiEwLC4uLnIscmVhZCgpe3RoaXMucHVzaChlKSx0aGlzLnB1c2gobnVsbCk7fX0pO2xldCBuO2lmKGUmJmVbcWNdKW49ITAsaT1lW3FjXSgpO2Vsc2UgaWYoZSYmZVtEY10pbj0hMSxpPWVbRGNdKCk7ZWxzZSB0aHJvdyBuZXcgRncoXCJpdGVyYWJsZVwiLFtcIkl0ZXJhYmxlXCJdLGUpO2xldCBvPW5ldyB0KHtvYmplY3RNb2RlOiEwLGhpZ2hXYXRlck1hcms6MSwuLi5yfSkscz0hMTtvLl9yZWFkPWZ1bmN0aW9uKCl7c3x8KHM9ITAsbCgpKTt9LG8uX2Rlc3Ryb3k9ZnVuY3Rpb24oYyxoKXtEdyhhKGMpLCgpPT5OYy5uZXh0VGljayhoLGMpLGQ9Pk5jLm5leHRUaWNrKGgsZHx8YykpO307YXN5bmMgZnVuY3Rpb24gYShjKXtsZXQgaD1jIT1udWxsLGQ9dHlwZW9mIGkudGhyb3c9PVwiZnVuY3Rpb25cIjtpZihoJiZkKXtsZXR7dmFsdWU6Zyxkb25lOnl9PWF3YWl0IGkudGhyb3coYyk7aWYoYXdhaXQgZyx5KXJldHVybn1pZih0eXBlb2YgaS5yZXR1cm49PVwiZnVuY3Rpb25cIil7bGV0e3ZhbHVlOmd9PWF3YWl0IGkucmV0dXJuKCk7YXdhaXQgZzt9fWFzeW5jIGZ1bmN0aW9uIGwoKXtmb3IoOzspe3RyeXtsZXR7dmFsdWU6Yyxkb25lOmh9PW4/YXdhaXQgaS5uZXh0KCk6aS5uZXh0KCk7aWYoaClvLnB1c2gobnVsbCk7ZWxzZSB7bGV0IGQ9YyYmdHlwZW9mIGMudGhlbj09XCJmdW5jdGlvblwiP2F3YWl0IGM6YztpZihkPT09bnVsbCl0aHJvdyBzPSExLG5ldyBXdztpZihvLnB1c2goZCkpY29udGludWU7cz0hMTt9fWNhdGNoKGMpe28uZGVzdHJveShjKTt9YnJlYWt9fXJldHVybiBvfWpjLmV4cG9ydHM9JHc7fSk7dmFyIGdpPU0oKGVSLFpjKT0+e18oKTt2KCk7bSgpO3ZhciBIZT1OdCgpLHtBcnJheVByb3RvdHlwZUluZGV4T2Y6SHcsTnVtYmVySXNJbnRlZ2VyOlZ3LE51bWJlcklzTmFOOnp3LE51bWJlclBhcnNlSW50Okt3LE9iamVjdERlZmluZVByb3BlcnRpZXM6JGMsT2JqZWN0S2V5czpHdyxPYmplY3RTZXRQcm90b3R5cGVPZjpIYyxQcm9taXNlOlF3LFNhZmVTZXQ6WXcsU3ltYm9sQXN5bmNJdGVyYXRvcjpKdyxTeW1ib2w6WHd9PWNlKCk7WmMuZXhwb3J0cz1GO0YuUmVhZGFibGVTdGF0ZT1zbzt2YXJ7RXZlbnRFbWl0dGVyOlp3fT0oc3IoKSxYKG5yKSkse1N0cmVhbTpEdCxwcmVwZW5kTGlzdGVuZXI6ZV99PW5uKCkse0J1ZmZlcjplb309KGJlKCksWChtZSkpLHthZGRBYm9ydFNpZ25hbDp0X309ZGkoKSxyXz12dCgpLEg9SmUoKS5kZWJ1Z2xvZyhcInN0cmVhbVwiLHQ9PntIPXQ7fSksaV89ZGMoKSxGcj1pcigpLHtnZXRIaWdoV2F0ZXJNYXJrOm5fLGdldERlZmF1bHRIaWdoV2F0ZXJNYXJrOnNffT1hbigpLHthZ2dyZWdhdGVUd29FcnJvcnM6RmMsY29kZXM6e0VSUl9JTlZBTElEX0FSR19UWVBFOm9fLEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEOmFfLEVSUl9PVVRfT0ZfUkFOR0U6bF8sRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRjp1XyxFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UOmZffX09QWUoKSx7dmFsaWRhdGVPYmplY3Q6Y199PWhpKCksZnI9WHcoXCJrUGF1c2VkXCIpLHtTdHJpbmdEZWNvZGVyOlZjfT0oVWMoKSxYKExjKSksaF89WnMoKTtIYyhGLnByb3RvdHlwZSxEdC5wcm90b3R5cGUpO0hjKEYsRHQpO3ZhciB0bz0oKT0+e30se2Vycm9yT3JEZXN0cm95OmpyfT1GcjtmdW5jdGlvbiBzbyh0LGUscil7dHlwZW9mIHIhPVwiYm9vbGVhblwiJiYocj1lIGluc3RhbmNlb2YgbnQoKSksdGhpcy5vYmplY3RNb2RlPSEhKHQmJnQub2JqZWN0TW9kZSksciYmKHRoaXMub2JqZWN0TW9kZT10aGlzLm9iamVjdE1vZGV8fCEhKHQmJnQucmVhZGFibGVPYmplY3RNb2RlKSksdGhpcy5oaWdoV2F0ZXJNYXJrPXQ/bl8odGhpcyx0LFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIscik6c18oITEpLHRoaXMuYnVmZmVyPW5ldyBpXyx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9W10sdGhpcy5mbG93aW5nPW51bGwsdGhpcy5lbmRlZD0hMSx0aGlzLmVuZEVtaXR0ZWQ9ITEsdGhpcy5yZWFkaW5nPSExLHRoaXMuY29uc3RydWN0ZWQ9ITAsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpc1tmcl09bnVsbCx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmVtaXRDbG9zZT0hdHx8dC5lbWl0Q2xvc2UhPT0hMSx0aGlzLmF1dG9EZXN0cm95PSF0fHx0LmF1dG9EZXN0cm95IT09ITEsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5lcnJvcmVkPW51bGwsdGhpcy5jbG9zZWQ9ITEsdGhpcy5jbG9zZUVtaXR0ZWQ9ITEsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9dCYmdC5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMuYXdhaXREcmFpbldyaXRlcnM9bnVsbCx0aGlzLm11bHRpQXdhaXREcmFpbj0hMSx0aGlzLnJlYWRpbmdNb3JlPSExLHRoaXMuZGF0YUVtaXR0ZWQ9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLHQmJnQuZW5jb2RpbmcmJih0aGlzLmRlY29kZXI9bmV3IFZjKHQuZW5jb2RpbmcpLHRoaXMuZW5jb2Rpbmc9dC5lbmNvZGluZyk7fWZ1bmN0aW9uIEYodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgRikpcmV0dXJuIG5ldyBGKHQpO2xldCBlPXRoaXMgaW5zdGFuY2VvZiBudCgpO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IHNvKHQsdGhpcyxlKSx0JiYodHlwZW9mIHQucmVhZD09XCJmdW5jdGlvblwiJiYodGhpcy5fcmVhZD10LnJlYWQpLHR5cGVvZiB0LmRlc3Ryb3k9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2Rlc3Ryb3k9dC5kZXN0cm95KSx0eXBlb2YgdC5jb25zdHJ1Y3Q9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2NvbnN0cnVjdD10LmNvbnN0cnVjdCksdC5zaWduYWwmJiFlJiZ0Xyh0LnNpZ25hbCx0aGlzKSksRHQuY2FsbCh0aGlzLHQpLEZyLmNvbnN0cnVjdCh0aGlzLCgpPT57dGhpcy5fcmVhZGFibGVTdGF0ZS5uZWVkUmVhZGFibGUmJmhuKHRoaXMsdGhpcy5fcmVhZGFibGVTdGF0ZSk7fSk7fUYucHJvdG90eXBlLmRlc3Ryb3k9RnIuZGVzdHJveTtGLnByb3RvdHlwZS5fdW5kZXN0cm95PUZyLnVuZGVzdHJveTtGLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbih0LGUpe2UodCk7fTtGLnByb3RvdHlwZVtady5jYXB0dXJlUmVqZWN0aW9uU3ltYm9sXT1mdW5jdGlvbih0KXt0aGlzLmRlc3Ryb3kodCk7fTtGLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHpjKHRoaXMsdCxlLCExKX07Ri5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbih0LGUpe3JldHVybiB6Yyh0aGlzLHQsZSwhMCl9O2Z1bmN0aW9uIHpjKHQsZSxyLGkpe0goXCJyZWFkYWJsZUFkZENodW5rXCIsZSk7bGV0IG49dC5fcmVhZGFibGVTdGF0ZSxvO2lmKG4ub2JqZWN0TW9kZXx8KHR5cGVvZiBlPT1cInN0cmluZ1wiPyhyPXJ8fG4uZGVmYXVsdEVuY29kaW5nLG4uZW5jb2RpbmchPT1yJiYoaSYmbi5lbmNvZGluZz9lPWVvLmZyb20oZSxyKS50b1N0cmluZyhuLmVuY29kaW5nKTooZT1lby5mcm9tKGUscikscj1cIlwiKSkpOmUgaW5zdGFuY2VvZiBlbz9yPVwiXCI6RHQuX2lzVWludDhBcnJheShlKT8oZT1EdC5fdWludDhBcnJheVRvQnVmZmVyKGUpLHI9XCJcIik6ZSE9bnVsbCYmKG89bmV3IG9fKFwiY2h1bmtcIixbXCJzdHJpbmdcIixcIkJ1ZmZlclwiLFwiVWludDhBcnJheVwiXSxlKSkpLG8panIodCxvKTtlbHNlIGlmKGU9PT1udWxsKW4ucmVhZGluZz0hMSxnXyh0LG4pO2Vsc2UgaWYobi5vYmplY3RNb2RlfHxlJiZlLmxlbmd0aD4wKWlmKGkpaWYobi5lbmRFbWl0dGVkKWpyKHQsbmV3IGZfKTtlbHNlIHtpZihuLmRlc3Ryb3llZHx8bi5lcnJvcmVkKXJldHVybiAhMTtybyh0LG4sZSwhMCk7fWVsc2UgaWYobi5lbmRlZClqcih0LG5ldyB1Xyk7ZWxzZSB7aWYobi5kZXN0cm95ZWR8fG4uZXJyb3JlZClyZXR1cm4gITE7bi5yZWFkaW5nPSExLG4uZGVjb2RlciYmIXI/KGU9bi5kZWNvZGVyLndyaXRlKGUpLG4ub2JqZWN0TW9kZXx8ZS5sZW5ndGghPT0wP3JvKHQsbixlLCExKTpobih0LG4pKTpybyh0LG4sZSwhMSk7fWVsc2UgaXx8KG4ucmVhZGluZz0hMSxobih0LG4pKTtyZXR1cm4gIW4uZW5kZWQmJihuLmxlbmd0aDxuLmhpZ2hXYXRlck1hcmt8fG4ubGVuZ3RoPT09MCl9ZnVuY3Rpb24gcm8odCxlLHIsaSl7ZS5mbG93aW5nJiZlLmxlbmd0aD09PTAmJiFlLnN5bmMmJnQubGlzdGVuZXJDb3VudChcImRhdGFcIik+MD8oZS5tdWx0aUF3YWl0RHJhaW4/ZS5hd2FpdERyYWluV3JpdGVycy5jbGVhcigpOmUuYXdhaXREcmFpbldyaXRlcnM9bnVsbCxlLmRhdGFFbWl0dGVkPSEwLHQuZW1pdChcImRhdGFcIixyKSk6KGUubGVuZ3RoKz1lLm9iamVjdE1vZGU/MTpyLmxlbmd0aCxpP2UuYnVmZmVyLnVuc2hpZnQocik6ZS5idWZmZXIucHVzaChyKSxlLm5lZWRSZWFkYWJsZSYmZG4odCkpLGhuKHQsZSk7fUYucHJvdG90eXBlLmlzUGF1c2VkPWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gdFtmcl09PT0hMHx8dC5mbG93aW5nPT09ITF9O0YucHJvdG90eXBlLnNldEVuY29kaW5nPWZ1bmN0aW9uKHQpe2xldCBlPW5ldyBWYyh0KTt0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXI9ZSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nPXRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlci5lbmNvZGluZztsZXQgcj10aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlcixpPVwiXCI7Zm9yKGxldCBuIG9mIHIpaSs9ZS53cml0ZShuKTtyZXR1cm4gci5jbGVhcigpLGkhPT1cIlwiJiZyLnB1c2goaSksdGhpcy5fcmVhZGFibGVTdGF0ZS5sZW5ndGg9aS5sZW5ndGgsdGhpc307dmFyIGRfPTEwNzM3NDE4MjQ7ZnVuY3Rpb24gcF8odCl7aWYodD5kXyl0aHJvdyBuZXcgbF8oXCJzaXplXCIsXCI8PSAxR2lCXCIsdCk7cmV0dXJuIHQtLSx0fD10Pj4+MSx0fD10Pj4+Mix0fD10Pj4+NCx0fD10Pj4+OCx0fD10Pj4+MTYsdCsrLHR9ZnVuY3Rpb24gV2ModCxlKXtyZXR1cm4gdDw9MHx8ZS5sZW5ndGg9PT0wJiZlLmVuZGVkPzA6ZS5vYmplY3RNb2RlPzE6encodCk/ZS5mbG93aW5nJiZlLmxlbmd0aD9lLmJ1ZmZlci5maXJzdCgpLmxlbmd0aDplLmxlbmd0aDp0PD1lLmxlbmd0aD90OmUuZW5kZWQ/ZS5sZW5ndGg6MH1GLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe0goXCJyZWFkXCIsdCksdD09PXZvaWQgMD90PU5hTjpWdyh0KXx8KHQ9S3codCwxMCkpO2xldCBlPXRoaXMuX3JlYWRhYmxlU3RhdGUscj10O2lmKHQ+ZS5oaWdoV2F0ZXJNYXJrJiYoZS5oaWdoV2F0ZXJNYXJrPXBfKHQpKSx0IT09MCYmKGUuZW1pdHRlZFJlYWRhYmxlPSExKSx0PT09MCYmZS5uZWVkUmVhZGFibGUmJigoZS5oaWdoV2F0ZXJNYXJrIT09MD9lLmxlbmd0aD49ZS5oaWdoV2F0ZXJNYXJrOmUubGVuZ3RoPjApfHxlLmVuZGVkKSlyZXR1cm4gSChcInJlYWQ6IGVtaXRSZWFkYWJsZVwiLGUubGVuZ3RoLGUuZW5kZWQpLGUubGVuZ3RoPT09MCYmZS5lbmRlZD9pbyh0aGlzKTpkbih0aGlzKSxudWxsO2lmKHQ9V2ModCxlKSx0PT09MCYmZS5lbmRlZClyZXR1cm4gZS5sZW5ndGg9PT0wJiZpbyh0aGlzKSxudWxsO2xldCBpPWUubmVlZFJlYWRhYmxlO2lmKEgoXCJuZWVkIHJlYWRhYmxlXCIsaSksKGUubGVuZ3RoPT09MHx8ZS5sZW5ndGgtdDxlLmhpZ2hXYXRlck1hcmspJiYoaT0hMCxIKFwibGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmtcIixpKSksZS5lbmRlZHx8ZS5yZWFkaW5nfHxlLmRlc3Ryb3llZHx8ZS5lcnJvcmVkfHwhZS5jb25zdHJ1Y3RlZClpPSExLEgoXCJyZWFkaW5nLCBlbmRlZCBvciBjb25zdHJ1Y3RpbmdcIixpKTtlbHNlIGlmKGkpe0goXCJkbyByZWFkXCIpLGUucmVhZGluZz0hMCxlLnN5bmM9ITAsZS5sZW5ndGg9PT0wJiYoZS5uZWVkUmVhZGFibGU9ITApO3RyeXt0aGlzLl9yZWFkKGUuaGlnaFdhdGVyTWFyayk7fWNhdGNoKG8pe2pyKHRoaXMsbyk7fWUuc3luYz0hMSxlLnJlYWRpbmd8fCh0PVdjKHIsZSkpO31sZXQgbjtyZXR1cm4gdD4wP249SmModCxlKTpuPW51bGwsbj09PW51bGw/KGUubmVlZFJlYWRhYmxlPWUubGVuZ3RoPD1lLmhpZ2hXYXRlck1hcmssdD0wKTooZS5sZW5ndGgtPXQsZS5tdWx0aUF3YWl0RHJhaW4/ZS5hd2FpdERyYWluV3JpdGVycy5jbGVhcigpOmUuYXdhaXREcmFpbldyaXRlcnM9bnVsbCksZS5sZW5ndGg9PT0wJiYoZS5lbmRlZHx8KGUubmVlZFJlYWRhYmxlPSEwKSxyIT09dCYmZS5lbmRlZCYmaW8odGhpcykpLG4hPT1udWxsJiYhZS5lcnJvckVtaXR0ZWQmJiFlLmNsb3NlRW1pdHRlZCYmKGUuZGF0YUVtaXR0ZWQ9ITAsdGhpcy5lbWl0KFwiZGF0YVwiLG4pKSxufTtmdW5jdGlvbiBnXyh0LGUpe2lmKEgoXCJvbkVvZkNodW5rXCIpLCFlLmVuZGVkKXtpZihlLmRlY29kZXIpe2xldCByPWUuZGVjb2Rlci5lbmQoKTtyJiZyLmxlbmd0aCYmKGUuYnVmZmVyLnB1c2gociksZS5sZW5ndGgrPWUub2JqZWN0TW9kZT8xOnIubGVuZ3RoKTt9ZS5lbmRlZD0hMCxlLnN5bmM/ZG4odCk6KGUubmVlZFJlYWRhYmxlPSExLGUuZW1pdHRlZFJlYWRhYmxlPSEwLEtjKHQpKTt9fWZ1bmN0aW9uIGRuKHQpe2xldCBlPXQuX3JlYWRhYmxlU3RhdGU7SChcImVtaXRSZWFkYWJsZVwiLGUubmVlZFJlYWRhYmxlLGUuZW1pdHRlZFJlYWRhYmxlKSxlLm5lZWRSZWFkYWJsZT0hMSxlLmVtaXR0ZWRSZWFkYWJsZXx8KEgoXCJlbWl0UmVhZGFibGVcIixlLmZsb3dpbmcpLGUuZW1pdHRlZFJlYWRhYmxlPSEwLEhlLm5leHRUaWNrKEtjLHQpKTt9ZnVuY3Rpb24gS2ModCl7bGV0IGU9dC5fcmVhZGFibGVTdGF0ZTtIKFwiZW1pdFJlYWRhYmxlX1wiLGUuZGVzdHJveWVkLGUubGVuZ3RoLGUuZW5kZWQpLCFlLmRlc3Ryb3llZCYmIWUuZXJyb3JlZCYmKGUubGVuZ3RofHxlLmVuZGVkKSYmKHQuZW1pdChcInJlYWRhYmxlXCIpLGUuZW1pdHRlZFJlYWRhYmxlPSExKSxlLm5lZWRSZWFkYWJsZT0hZS5mbG93aW5nJiYhZS5lbmRlZCYmZS5sZW5ndGg8PWUuaGlnaFdhdGVyTWFyayxRYyh0KTt9ZnVuY3Rpb24gaG4odCxlKXshZS5yZWFkaW5nTW9yZSYmZS5jb25zdHJ1Y3RlZCYmKGUucmVhZGluZ01vcmU9ITAsSGUubmV4dFRpY2soeV8sdCxlKSk7fWZ1bmN0aW9uIHlfKHQsZSl7Zm9yKDshZS5yZWFkaW5nJiYhZS5lbmRlZCYmKGUubGVuZ3RoPGUuaGlnaFdhdGVyTWFya3x8ZS5mbG93aW5nJiZlLmxlbmd0aD09PTApOyl7bGV0IHI9ZS5sZW5ndGg7aWYoSChcIm1heWJlUmVhZE1vcmUgcmVhZCAwXCIpLHQucmVhZCgwKSxyPT09ZS5sZW5ndGgpYnJlYWt9ZS5yZWFkaW5nTW9yZT0hMTt9Ri5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IGFfKFwiX3JlYWQoKVwiKX07Ri5wcm90b3R5cGUucGlwZT1mdW5jdGlvbih0LGUpe2xldCByPXRoaXMsaT10aGlzLl9yZWFkYWJsZVN0YXRlO2kucGlwZXMubGVuZ3RoPT09MSYmKGkubXVsdGlBd2FpdERyYWlufHwoaS5tdWx0aUF3YWl0RHJhaW49ITAsaS5hd2FpdERyYWluV3JpdGVycz1uZXcgWXcoaS5hd2FpdERyYWluV3JpdGVycz9baS5hd2FpdERyYWluV3JpdGVyc106W10pKSksaS5waXBlcy5wdXNoKHQpLEgoXCJwaXBlIGNvdW50PSVkIG9wdHM9JWpcIixpLnBpcGVzLmxlbmd0aCxlKTtsZXQgbz0oIWV8fGUuZW5kIT09ITEpJiZ0IT09SGUuc3Rkb3V0JiZ0IT09SGUuc3RkZXJyP2E6RTtpLmVuZEVtaXR0ZWQ/SGUubmV4dFRpY2sobyk6ci5vbmNlKFwiZW5kXCIsbyksdC5vbihcInVucGlwZVwiLHMpO2Z1bmN0aW9uIHMoSSxDKXtIKFwib251bnBpcGVcIiksST09PXImJkMmJkMuaGFzVW5waXBlZD09PSExJiYoQy5oYXNVbnBpcGVkPSEwLGgoKSk7fWZ1bmN0aW9uIGEoKXtIKFwib25lbmRcIiksdC5lbmQoKTt9bGV0IGwsYz0hMTtmdW5jdGlvbiBoKCl7SChcImNsZWFudXBcIiksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsdyksdC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLFMpLGwmJnQucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLGwpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHkpLHQucmVtb3ZlTGlzdGVuZXIoXCJ1bnBpcGVcIixzKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsYSksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLEUpLHIucmVtb3ZlTGlzdGVuZXIoXCJkYXRhXCIsZyksYz0hMCxsJiZpLmF3YWl0RHJhaW5Xcml0ZXJzJiYoIXQuX3dyaXRhYmxlU3RhdGV8fHQuX3dyaXRhYmxlU3RhdGUubmVlZERyYWluKSYmbCgpO31mdW5jdGlvbiBkKCl7Y3x8KGkucGlwZXMubGVuZ3RoPT09MSYmaS5waXBlc1swXT09PXQ/KEgoXCJmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2VcIiwwKSxpLmF3YWl0RHJhaW5Xcml0ZXJzPXQsaS5tdWx0aUF3YWl0RHJhaW49ITEpOmkucGlwZXMubGVuZ3RoPjEmJmkucGlwZXMuaW5jbHVkZXModCkmJihIKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsaS5hd2FpdERyYWluV3JpdGVycy5zaXplKSxpLmF3YWl0RHJhaW5Xcml0ZXJzLmFkZCh0KSksci5wYXVzZSgpKSxsfHwobD1iXyhyLHQpLHQub24oXCJkcmFpblwiLGwpKTt9ci5vbihcImRhdGFcIixnKTtmdW5jdGlvbiBnKEkpe0goXCJvbmRhdGFcIik7bGV0IEM9dC53cml0ZShJKTtIKFwiZGVzdC53cml0ZVwiLEMpLEM9PT0hMSYmZCgpO31mdW5jdGlvbiB5KEkpe2lmKEgoXCJvbmVycm9yXCIsSSksRSgpLHQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHkpLHQubGlzdGVuZXJDb3VudChcImVycm9yXCIpPT09MCl7bGV0IEM9dC5fd3JpdGFibGVTdGF0ZXx8dC5fcmVhZGFibGVTdGF0ZTtDJiYhQy5lcnJvckVtaXR0ZWQ/anIodCxJKTp0LmVtaXQoXCJlcnJvclwiLEkpO319ZV8odCxcImVycm9yXCIseSk7ZnVuY3Rpb24gdygpe3QucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixTKSxFKCk7fXQub25jZShcImNsb3NlXCIsdyk7ZnVuY3Rpb24gUygpe0goXCJvbmZpbmlzaFwiKSx0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIix3KSxFKCk7fXQub25jZShcImZpbmlzaFwiLFMpO2Z1bmN0aW9uIEUoKXtIKFwidW5waXBlXCIpLHIudW5waXBlKHQpO31yZXR1cm4gdC5lbWl0KFwicGlwZVwiLHIpLHQud3JpdGFibGVOZWVkRHJhaW49PT0hMD9pLmZsb3dpbmcmJmQoKTppLmZsb3dpbmd8fChIKFwicGlwZSByZXN1bWVcIiksci5yZXN1bWUoKSksdH07ZnVuY3Rpb24gYl8odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtsZXQgaT10Ll9yZWFkYWJsZVN0YXRlO2kuYXdhaXREcmFpbldyaXRlcnM9PT1lPyhIKFwicGlwZU9uRHJhaW5cIiwxKSxpLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwpOmkubXVsdGlBd2FpdERyYWluJiYoSChcInBpcGVPbkRyYWluXCIsaS5hd2FpdERyYWluV3JpdGVycy5zaXplKSxpLmF3YWl0RHJhaW5Xcml0ZXJzLmRlbGV0ZShlKSksKCFpLmF3YWl0RHJhaW5Xcml0ZXJzfHxpLmF3YWl0RHJhaW5Xcml0ZXJzLnNpemU9PT0wKSYmdC5saXN0ZW5lckNvdW50KFwiZGF0YVwiKSYmdC5yZXN1bWUoKTt9fUYucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbih0KXtsZXQgZT10aGlzLl9yZWFkYWJsZVN0YXRlLHI9e2hhc1VucGlwZWQ6ITF9O2lmKGUucGlwZXMubGVuZ3RoPT09MClyZXR1cm4gdGhpcztpZighdCl7bGV0IG49ZS5waXBlcztlLnBpcGVzPVtdLHRoaXMucGF1c2UoKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyluW29dLmVtaXQoXCJ1bnBpcGVcIix0aGlzLHtoYXNVbnBpcGVkOiExfSk7cmV0dXJuIHRoaXN9bGV0IGk9SHcoZS5waXBlcyx0KTtyZXR1cm4gaT09PS0xP3RoaXM6KGUucGlwZXMuc3BsaWNlKGksMSksZS5waXBlcy5sZW5ndGg9PT0wJiZ0aGlzLnBhdXNlKCksdC5lbWl0KFwidW5waXBlXCIsdGhpcyxyKSx0aGlzKX07Ri5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXtsZXQgcj1EdC5wcm90b3R5cGUub24uY2FsbCh0aGlzLHQsZSksaT10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiB0PT09XCJkYXRhXCI/KGkucmVhZGFibGVMaXN0ZW5pbmc9dGhpcy5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCxpLmZsb3dpbmchPT0hMSYmdGhpcy5yZXN1bWUoKSk6dD09PVwicmVhZGFibGVcIiYmIWkuZW5kRW1pdHRlZCYmIWkucmVhZGFibGVMaXN0ZW5pbmcmJihpLnJlYWRhYmxlTGlzdGVuaW5nPWkubmVlZFJlYWRhYmxlPSEwLGkuZmxvd2luZz0hMSxpLmVtaXR0ZWRSZWFkYWJsZT0hMSxIKFwib24gcmVhZGFibGVcIixpLmxlbmd0aCxpLnJlYWRpbmcpLGkubGVuZ3RoP2RuKHRoaXMpOmkucmVhZGluZ3x8SGUubmV4dFRpY2sod18sdGhpcykpLHJ9O0YucHJvdG90eXBlLmFkZExpc3RlbmVyPUYucHJvdG90eXBlLm9uO0YucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7bGV0IHI9RHQucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcyx0LGUpO3JldHVybiB0PT09XCJyZWFkYWJsZVwiJiZIZS5uZXh0VGljayhHYyx0aGlzKSxyfTtGLnByb3RvdHlwZS5vZmY9Ri5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7Ri5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe2xldCBlPUR0LnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiAodD09PVwicmVhZGFibGVcInx8dD09PXZvaWQgMCkmJkhlLm5leHRUaWNrKEdjLHRoaXMpLGV9O2Z1bmN0aW9uIEdjKHQpe2xldCBlPXQuX3JlYWRhYmxlU3RhdGU7ZS5yZWFkYWJsZUxpc3RlbmluZz10Lmxpc3RlbmVyQ291bnQoXCJyZWFkYWJsZVwiKT4wLGUucmVzdW1lU2NoZWR1bGVkJiZlW2ZyXT09PSExP2UuZmxvd2luZz0hMDp0Lmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpPjA/dC5yZXN1bWUoKTplLnJlYWRhYmxlTGlzdGVuaW5nfHwoZS5mbG93aW5nPW51bGwpO31mdW5jdGlvbiB3Xyh0KXtIKFwicmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwXCIpLHQucmVhZCgwKTt9Ri5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7bGV0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gdC5mbG93aW5nfHwoSChcInJlc3VtZVwiKSx0LmZsb3dpbmc9IXQucmVhZGFibGVMaXN0ZW5pbmcsX18odGhpcyx0KSksdFtmcl09ITEsdGhpc307ZnVuY3Rpb24gX18odCxlKXtlLnJlc3VtZVNjaGVkdWxlZHx8KGUucmVzdW1lU2NoZWR1bGVkPSEwLEhlLm5leHRUaWNrKG1fLHQsZSkpO31mdW5jdGlvbiBtXyh0LGUpe0goXCJyZXN1bWVcIixlLnJlYWRpbmcpLGUucmVhZGluZ3x8dC5yZWFkKDApLGUucmVzdW1lU2NoZWR1bGVkPSExLHQuZW1pdChcInJlc3VtZVwiKSxRYyh0KSxlLmZsb3dpbmcmJiFlLnJlYWRpbmcmJnQucmVhZCgwKTt9Ri5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gSChcImNhbGwgcGF1c2UgZmxvd2luZz0lalwiLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nIT09ITEmJihIKFwicGF1c2VcIiksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPSExLHRoaXMuZW1pdChcInBhdXNlXCIpKSx0aGlzLl9yZWFkYWJsZVN0YXRlW2ZyXT0hMCx0aGlzfTtmdW5jdGlvbiBRYyh0KXtsZXQgZT10Ll9yZWFkYWJsZVN0YXRlO2ZvcihIKFwiZmxvd1wiLGUuZmxvd2luZyk7ZS5mbG93aW5nJiZ0LnJlYWQoKSE9PW51bGw7KTt9Ri5wcm90b3R5cGUud3JhcD1mdW5jdGlvbih0KXtsZXQgZT0hMTt0Lm9uKFwiZGF0YVwiLGk9PnshdGhpcy5wdXNoKGkpJiZ0LnBhdXNlJiYoZT0hMCx0LnBhdXNlKCkpO30pLHQub24oXCJlbmRcIiwoKT0+e3RoaXMucHVzaChudWxsKTt9KSx0Lm9uKFwiZXJyb3JcIixpPT57anIodGhpcyxpKTt9KSx0Lm9uKFwiY2xvc2VcIiwoKT0+e3RoaXMuZGVzdHJveSgpO30pLHQub24oXCJkZXN0cm95XCIsKCk9Pnt0aGlzLmRlc3Ryb3koKTt9KSx0aGlzLl9yZWFkPSgpPT57ZSYmdC5yZXN1bWUmJihlPSExLHQucmVzdW1lKCkpO307bGV0IHI9R3codCk7Zm9yKGxldCBpPTE7aTxyLmxlbmd0aDtpKyspe2xldCBuPXJbaV07dGhpc1tuXT09PXZvaWQgMCYmdHlwZW9mIHRbbl09PVwiZnVuY3Rpb25cIiYmKHRoaXNbbl09dFtuXS5iaW5kKHQpKTt9cmV0dXJuIHRoaXN9O0YucHJvdG90eXBlW0p3XT1mdW5jdGlvbigpe3JldHVybiBZYyh0aGlzKX07Ri5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT12b2lkIDAmJmNfKHQsXCJvcHRpb25zXCIpLFljKHRoaXMsdCl9O2Z1bmN0aW9uIFljKHQsZSl7dHlwZW9mIHQucmVhZCE9XCJmdW5jdGlvblwiJiYodD1GLndyYXAodCx7b2JqZWN0TW9kZTohMH0pKTtsZXQgcj12Xyh0LGUpO3JldHVybiByLnN0cmVhbT10LHJ9YXN5bmMgZnVuY3Rpb24qdl8odCxlKXtsZXQgcj10bztmdW5jdGlvbiBpKHMpe3RoaXM9PT10PyhyKCkscj10byk6cj1zO310Lm9uKFwicmVhZGFibGVcIixpKTtsZXQgbixvPXJfKHQse3dyaXRhYmxlOiExfSxzPT57bj1zP0ZjKG4scyk6bnVsbCxyKCkscj10bzt9KTt0cnl7Zm9yKDs7KXtsZXQgcz10LmRlc3Ryb3llZD9udWxsOnQucmVhZCgpO2lmKHMhPT1udWxsKXlpZWxkIHM7ZWxzZSB7aWYobil0aHJvdyBuO2lmKG49PT1udWxsKXJldHVybjthd2FpdCBuZXcgUXcoaSk7fX19Y2F0Y2gocyl7dGhyb3cgbj1GYyhuLHMpLG59ZmluYWxseXsobnx8ZT8uZGVzdHJveU9uUmV0dXJuIT09ITEpJiYobj09PXZvaWQgMHx8dC5fcmVhZGFibGVTdGF0ZS5hdXRvRGVzdHJveSk/RnIuZGVzdHJveWVyKHQsbnVsbCk6KHQub2ZmKFwicmVhZGFibGVcIixpKSxvKCkpO319JGMoRi5wcm90b3R5cGUse3JlYWRhYmxlOntfX3Byb3RvX186bnVsbCxnZXQoKXtsZXQgdD10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiAhIXQmJnQucmVhZGFibGUhPT0hMSYmIXQuZGVzdHJveWVkJiYhdC5lcnJvckVtaXR0ZWQmJiF0LmVuZEVtaXR0ZWR9LHNldCh0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZT0hIXQpO319LHJlYWRhYmxlRGlkUmVhZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kYXRhRW1pdHRlZH19LHJlYWRhYmxlQWJvcnRlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gISEodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZSE9PSExJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWR8fHRoaXMuX3JlYWRhYmxlU3RhdGUuZXJyb3JlZCkmJiF0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQpfX0scmVhZGFibGVIaWdoV2F0ZXJNYXJrOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSxyZWFkYWJsZUJ1ZmZlcjp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXJ9fSxyZWFkYWJsZUZsb3dpbmc6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc9dCk7fX0scmVhZGFibGVMZW5ndGg6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RofX0scmVhZGFibGVPYmplY3RNb2RlOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUub2JqZWN0TW9kZTohMX19LHJlYWRhYmxlRW5jb2Rpbmc6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZzpudWxsfX0sZXJyb3JlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLmVycm9yZWQ6bnVsbH19LGNsb3NlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5jbG9zZWQ6ITF9fSxkZXN0cm95ZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ6ITF9LHNldCh0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCk7fX0scmVhZGFibGVFbmRlZDp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ6ITF9fX0pOyRjKHNvLnByb3RvdHlwZSx7cGlwZXNDb3VudDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMucGlwZXMubGVuZ3RofX0scGF1c2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpc1tmcl0hPT0hMX0sc2V0KHQpe3RoaXNbZnJdPSEhdDt9fX0pO0YuX2Zyb21MaXN0PUpjO2Z1bmN0aW9uIEpjKHQsZSl7aWYoZS5sZW5ndGg9PT0wKXJldHVybiBudWxsO2xldCByO3JldHVybiBlLm9iamVjdE1vZGU/cj1lLmJ1ZmZlci5zaGlmdCgpOiF0fHx0Pj1lLmxlbmd0aD8oZS5kZWNvZGVyP3I9ZS5idWZmZXIuam9pbihcIlwiKTplLmJ1ZmZlci5sZW5ndGg9PT0xP3I9ZS5idWZmZXIuZmlyc3QoKTpyPWUuYnVmZmVyLmNvbmNhdChlLmxlbmd0aCksZS5idWZmZXIuY2xlYXIoKSk6cj1lLmJ1ZmZlci5jb25zdW1lKHQsZS5kZWNvZGVyKSxyfWZ1bmN0aW9uIGlvKHQpe2xldCBlPXQuX3JlYWRhYmxlU3RhdGU7SChcImVuZFJlYWRhYmxlXCIsZS5lbmRFbWl0dGVkKSxlLmVuZEVtaXR0ZWR8fChlLmVuZGVkPSEwLEhlLm5leHRUaWNrKEVfLGUsdCkpO31mdW5jdGlvbiBFXyh0LGUpe2lmKEgoXCJlbmRSZWFkYWJsZU5UXCIsdC5lbmRFbWl0dGVkLHQubGVuZ3RoKSwhdC5lcnJvcmVkJiYhdC5jbG9zZUVtaXR0ZWQmJiF0LmVuZEVtaXR0ZWQmJnQubGVuZ3RoPT09MCl7aWYodC5lbmRFbWl0dGVkPSEwLGUuZW1pdChcImVuZFwiKSxlLndyaXRhYmxlJiZlLmFsbG93SGFsZk9wZW49PT0hMSlIZS5uZXh0VGljayhTXyxlKTtlbHNlIGlmKHQuYXV0b0Rlc3Ryb3kpe2xldCByPWUuX3dyaXRhYmxlU3RhdGU7KCFyfHxyLmF1dG9EZXN0cm95JiYoci5maW5pc2hlZHx8ci53cml0YWJsZT09PSExKSkmJmUuZGVzdHJveSgpO319fWZ1bmN0aW9uIFNfKHQpe3Qud3JpdGFibGUmJiF0LndyaXRhYmxlRW5kZWQmJiF0LmRlc3Ryb3llZCYmdC5lbmQoKTt9Ri5mcm9tPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGhfKEYsdCxlKX07dmFyIG5vO2Z1bmN0aW9uIFhjKCl7cmV0dXJuIG5vPT09dm9pZCAwJiYobm89e30pLG5vfUYuZnJvbVdlYj1mdW5jdGlvbih0LGUpe3JldHVybiBYYygpLm5ld1N0cmVhbVJlYWRhYmxlRnJvbVJlYWRhYmxlU3RyZWFtKHQsZSl9O0YudG9XZWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWGMoKS5uZXdSZWFkYWJsZVN0cmVhbUZyb21TdHJlYW1SZWFkYWJsZSh0LGUpfTtGLndyYXA9ZnVuY3Rpb24odCxlKXt2YXIgcixpO3JldHVybiBuZXcgRih7b2JqZWN0TW9kZToocj0oaT10LnJlYWRhYmxlT2JqZWN0TW9kZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6dC5vYmplY3RNb2RlKSE9PW51bGwmJnIhPT12b2lkIDA/cjohMCwuLi5lLGRlc3Ryb3kobixvKXtGci5kZXN0cm95ZXIodCxuKSxvKG4pO319KS53cmFwKHQpfTt9KTt2YXIgaG89TSgoZlIsY2gpPT57XygpO3YoKTttKCk7dmFyIGNyPU50KCkse0FycmF5UHJvdG90eXBlU2xpY2U6cmgsRXJyb3I6QV8sRnVuY3Rpb25Qcm90b3R5cGVTeW1ib2xIYXNJbnN0YW5jZTppaCxPYmplY3REZWZpbmVQcm9wZXJ0eTpuaCxPYmplY3REZWZpbmVQcm9wZXJ0aWVzOklfLE9iamVjdFNldFByb3RvdHlwZU9mOnNoLFN0cmluZ1Byb3RvdHlwZVRvTG93ZXJDYXNlOlRfLFN5bWJvbDpSXyxTeW1ib2xIYXNJbnN0YW5jZTpDX309Y2UoKTtjaC5leHBvcnRzPWllO2llLldyaXRhYmxlU3RhdGU9d2k7dmFye0V2ZW50RW1pdHRlcjpCX309KHNyKCksWChucikpLHlpPW5uKCkuU3RyZWFtLHtCdWZmZXI6cG59PShiZSgpLFgobWUpKSxibj1pcigpLHthZGRBYm9ydFNpZ25hbDpQX309ZGkoKSx7Z2V0SGlnaFdhdGVyTWFyazprXyxnZXREZWZhdWx0SGlnaFdhdGVyTWFyazpPX309YW4oKSx7RVJSX0lOVkFMSURfQVJHX1RZUEU6eF8sRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQ6TV8sRVJSX01VTFRJUExFX0NBTExCQUNLOm9oLEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEU6TF8sRVJSX1NUUkVBTV9ERVNUUk9ZRUQ6YmksRVJSX1NUUkVBTV9BTFJFQURZX0ZJTklTSEVEOlVfLEVSUl9TVFJFQU1fTlVMTF9WQUxVRVM6Tl8sRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQ6cV8sRVJSX1VOS05PV05fRU5DT0RJTkc6YWh9PUFlKCkuY29kZXMse2Vycm9yT3JEZXN0cm95OldyfT1ibjtzaChpZS5wcm90b3R5cGUseWkucHJvdG90eXBlKTtzaChpZSx5aSk7ZnVuY3Rpb24gbG8oKXt9dmFyICRyPVJfKFwia09uRmluaXNoZWRcIik7ZnVuY3Rpb24gd2kodCxlLHIpe3R5cGVvZiByIT1cImJvb2xlYW5cIiYmKHI9ZSBpbnN0YW5jZW9mIG50KCkpLHRoaXMub2JqZWN0TW9kZT0hISh0JiZ0Lm9iamVjdE1vZGUpLHImJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhISh0JiZ0LndyaXRhYmxlT2JqZWN0TW9kZSkpLHRoaXMuaGlnaFdhdGVyTWFyaz10P2tfKHRoaXMsdCxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiLHIpOk9fKCExKSx0aGlzLmZpbmFsQ2FsbGVkPSExLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMTtsZXQgaT0hISh0JiZ0LmRlY29kZVN0cmluZ3M9PT0hMSk7dGhpcy5kZWNvZGVTdHJpbmdzPSFpLHRoaXMuZGVmYXVsdEVuY29kaW5nPXQmJnQuZGVmYXVsdEVuY29kaW5nfHxcInV0ZjhcIix0aGlzLmxlbmd0aD0wLHRoaXMud3JpdGluZz0hMSx0aGlzLmNvcmtlZD0wLHRoaXMuc3luYz0hMCx0aGlzLmJ1ZmZlclByb2Nlc3Npbmc9ITEsdGhpcy5vbndyaXRlPWpfLmJpbmQodm9pZCAwLGUpLHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmFmdGVyV3JpdGVUaWNrSW5mbz1udWxsLHluKHRoaXMpLHRoaXMucGVuZGluZ2NiPTAsdGhpcy5jb25zdHJ1Y3RlZD0hMCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuZW1pdENsb3NlPSF0fHx0LmVtaXRDbG9zZSE9PSExLHRoaXMuYXV0b0Rlc3Ryb3k9IXR8fHQuYXV0b0Rlc3Ryb3khPT0hMSx0aGlzLmVycm9yZWQ9bnVsbCx0aGlzLmNsb3NlZD0hMSx0aGlzLmNsb3NlRW1pdHRlZD0hMSx0aGlzWyRyXT1bXTt9ZnVuY3Rpb24geW4odCl7dC5idWZmZXJlZD1bXSx0LmJ1ZmZlcmVkSW5kZXg9MCx0LmFsbEJ1ZmZlcnM9ITAsdC5hbGxOb29wPSEwO313aS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHJoKHRoaXMuYnVmZmVyZWQsdGhpcy5idWZmZXJlZEluZGV4KX07bmgod2kucHJvdG90eXBlLFwiYnVmZmVyZWRSZXF1ZXN0Q291bnRcIix7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuYnVmZmVyZWQubGVuZ3RoLXRoaXMuYnVmZmVyZWRJbmRleH19KTtmdW5jdGlvbiBpZSh0KXtsZXQgZT10aGlzIGluc3RhbmNlb2YgbnQoKTtpZighZSYmIWloKGllLHRoaXMpKXJldHVybiBuZXcgaWUodCk7dGhpcy5fd3JpdGFibGVTdGF0ZT1uZXcgd2kodCx0aGlzLGUpLHQmJih0eXBlb2YgdC53cml0ZT09XCJmdW5jdGlvblwiJiYodGhpcy5fd3JpdGU9dC53cml0ZSksdHlwZW9mIHQud3JpdGV2PT1cImZ1bmN0aW9uXCImJih0aGlzLl93cml0ZXY9dC53cml0ZXYpLHR5cGVvZiB0LmRlc3Ryb3k9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2Rlc3Ryb3k9dC5kZXN0cm95KSx0eXBlb2YgdC5maW5hbD09XCJmdW5jdGlvblwiJiYodGhpcy5fZmluYWw9dC5maW5hbCksdHlwZW9mIHQuY29uc3RydWN0PT1cImZ1bmN0aW9uXCImJih0aGlzLl9jb25zdHJ1Y3Q9dC5jb25zdHJ1Y3QpLHQuc2lnbmFsJiZQXyh0LnNpZ25hbCx0aGlzKSkseWkuY2FsbCh0aGlzLHQpLGJuLmNvbnN0cnVjdCh0aGlzLCgpPT57bGV0IHI9dGhpcy5fd3JpdGFibGVTdGF0ZTtyLndyaXRpbmd8fGZvKHRoaXMsciksY28odGhpcyxyKTt9KTt9bmgoaWUsQ18se19fcHJvdG9fXzpudWxsLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBpaCh0aGlzLHQpPyEwOnRoaXMhPT1pZT8hMTp0JiZ0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2Ygd2l9fSk7aWUucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtXcih0aGlzLG5ldyBMXyk7fTtmdW5jdGlvbiBsaCh0LGUscixpKXtsZXQgbj10Ll93cml0YWJsZVN0YXRlO2lmKHR5cGVvZiByPT1cImZ1bmN0aW9uXCIpaT1yLHI9bi5kZWZhdWx0RW5jb2Rpbmc7ZWxzZSB7aWYoIXIpcj1uLmRlZmF1bHRFbmNvZGluZztlbHNlIGlmKHIhPT1cImJ1ZmZlclwiJiYhcG4uaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgYWgocik7dHlwZW9mIGkhPVwiZnVuY3Rpb25cIiYmKGk9bG8pO31pZihlPT09bnVsbCl0aHJvdyBuZXcgTl87aWYoIW4ub2JqZWN0TW9kZSlpZih0eXBlb2YgZT09XCJzdHJpbmdcIiluLmRlY29kZVN0cmluZ3MhPT0hMSYmKGU9cG4uZnJvbShlLHIpLHI9XCJidWZmZXJcIik7ZWxzZSBpZihlIGluc3RhbmNlb2YgcG4pcj1cImJ1ZmZlclwiO2Vsc2UgaWYoeWkuX2lzVWludDhBcnJheShlKSllPXlpLl91aW50OEFycmF5VG9CdWZmZXIoZSkscj1cImJ1ZmZlclwiO2Vsc2UgdGhyb3cgbmV3IHhfKFwiY2h1bmtcIixbXCJzdHJpbmdcIixcIkJ1ZmZlclwiLFwiVWludDhBcnJheVwiXSxlKTtsZXQgbztyZXR1cm4gbi5lbmRpbmc/bz1uZXcgcV86bi5kZXN0cm95ZWQmJihvPW5ldyBiaShcIndyaXRlXCIpKSxvPyhjci5uZXh0VGljayhpLG8pLFdyKHQsbywhMCksbyk6KG4ucGVuZGluZ2NiKyssRF8odCxuLGUscixpKSl9aWUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbGgodGhpcyx0LGUscik9PT0hMH07aWUucHJvdG90eXBlLmNvcms9ZnVuY3Rpb24oKXt0aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZCsrO307aWUucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe2xldCB0PXRoaXMuX3dyaXRhYmxlU3RhdGU7dC5jb3JrZWQmJih0LmNvcmtlZC0tLHQud3JpdGluZ3x8Zm8odGhpcyx0KSk7fTtpZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nPWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiJiYoZT1UXyhlKSksIXBuLmlzRW5jb2RpbmcoZSkpdGhyb3cgbmV3IGFoKGUpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1lLHRoaXN9O2Z1bmN0aW9uIERfKHQsZSxyLGksbil7bGV0IG89ZS5vYmplY3RNb2RlPzE6ci5sZW5ndGg7ZS5sZW5ndGgrPW87bGV0IHM9ZS5sZW5ndGg8ZS5oaWdoV2F0ZXJNYXJrO3JldHVybiBzfHwoZS5uZWVkRHJhaW49ITApLGUud3JpdGluZ3x8ZS5jb3JrZWR8fGUuZXJyb3JlZHx8IWUuY29uc3RydWN0ZWQ/KGUuYnVmZmVyZWQucHVzaCh7Y2h1bms6cixlbmNvZGluZzppLGNhbGxiYWNrOm59KSxlLmFsbEJ1ZmZlcnMmJmkhPT1cImJ1ZmZlclwiJiYoZS5hbGxCdWZmZXJzPSExKSxlLmFsbE5vb3AmJm4hPT1sbyYmKGUuYWxsTm9vcD0hMSkpOihlLndyaXRlbGVuPW8sZS53cml0ZWNiPW4sZS53cml0aW5nPSEwLGUuc3luYz0hMCx0Ll93cml0ZShyLGksZS5vbndyaXRlKSxlLnN5bmM9ITEpLHMmJiFlLmVycm9yZWQmJiFlLmRlc3Ryb3llZH1mdW5jdGlvbiBlaCh0LGUscixpLG4sbyxzKXtlLndyaXRlbGVuPWksZS53cml0ZWNiPXMsZS53cml0aW5nPSEwLGUuc3luYz0hMCxlLmRlc3Ryb3llZD9lLm9ud3JpdGUobmV3IGJpKFwid3JpdGVcIikpOnI/dC5fd3JpdGV2KG4sZS5vbndyaXRlKTp0Ll93cml0ZShuLG8sZS5vbndyaXRlKSxlLnN5bmM9ITE7fWZ1bmN0aW9uIHRoKHQsZSxyLGkpey0tZS5wZW5kaW5nY2IsaShyKSx1byhlKSxXcih0LHIpO31mdW5jdGlvbiBqXyh0LGUpe2xldCByPXQuX3dyaXRhYmxlU3RhdGUsaT1yLnN5bmMsbj1yLndyaXRlY2I7aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIil7V3IodCxuZXcgb2gpO3JldHVybn1yLndyaXRpbmc9ITEsci53cml0ZWNiPW51bGwsci5sZW5ndGgtPXIud3JpdGVsZW4sci53cml0ZWxlbj0wLGU/KGUuc3RhY2ssci5lcnJvcmVkfHwoci5lcnJvcmVkPWUpLHQuX3JlYWRhYmxlU3RhdGUmJiF0Ll9yZWFkYWJsZVN0YXRlLmVycm9yZWQmJih0Ll9yZWFkYWJsZVN0YXRlLmVycm9yZWQ9ZSksaT9jci5uZXh0VGljayh0aCx0LHIsZSxuKTp0aCh0LHIsZSxuKSk6KHIuYnVmZmVyZWQubGVuZ3RoPnIuYnVmZmVyZWRJbmRleCYmZm8odCxyKSxpP3IuYWZ0ZXJXcml0ZVRpY2tJbmZvIT09bnVsbCYmci5hZnRlcldyaXRlVGlja0luZm8uY2I9PT1uP3IuYWZ0ZXJXcml0ZVRpY2tJbmZvLmNvdW50Kys6KHIuYWZ0ZXJXcml0ZVRpY2tJbmZvPXtjb3VudDoxLGNiOm4sc3RyZWFtOnQsc3RhdGU6cn0sY3IubmV4dFRpY2soRl8sci5hZnRlcldyaXRlVGlja0luZm8pKTp1aCh0LHIsMSxuKSk7fWZ1bmN0aW9uIEZfKHtzdHJlYW06dCxzdGF0ZTplLGNvdW50OnIsY2I6aX0pe3JldHVybiBlLmFmdGVyV3JpdGVUaWNrSW5mbz1udWxsLHVoKHQsZSxyLGkpfWZ1bmN0aW9uIHVoKHQsZSxyLGkpe2ZvcighZS5lbmRpbmcmJiF0LmRlc3Ryb3llZCYmZS5sZW5ndGg9PT0wJiZlLm5lZWREcmFpbiYmKGUubmVlZERyYWluPSExLHQuZW1pdChcImRyYWluXCIpKTtyLS0gPjA7KWUucGVuZGluZ2NiLS0saSgpO2UuZGVzdHJveWVkJiZ1byhlKSxjbyh0LGUpO31mdW5jdGlvbiB1byh0KXtpZih0LndyaXRpbmcpcmV0dXJuO2ZvcihsZXQgbj10LmJ1ZmZlcmVkSW5kZXg7bjx0LmJ1ZmZlcmVkLmxlbmd0aDsrK24pe3ZhciBlO2xldHtjaHVuazpvLGNhbGxiYWNrOnN9PXQuYnVmZmVyZWRbbl0sYT10Lm9iamVjdE1vZGU/MTpvLmxlbmd0aDt0Lmxlbmd0aC09YSxzKChlPXQuZXJyb3JlZCkhPT1udWxsJiZlIT09dm9pZCAwP2U6bmV3IGJpKFwid3JpdGVcIikpO31sZXQgcj10WyRyXS5zcGxpY2UoMCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBpO3Jbbl0oKGk9dC5lcnJvcmVkKSE9PW51bGwmJmkhPT12b2lkIDA/aTpuZXcgYmkoXCJlbmRcIikpO315bih0KTt9ZnVuY3Rpb24gZm8odCxlKXtpZihlLmNvcmtlZHx8ZS5idWZmZXJQcm9jZXNzaW5nfHxlLmRlc3Ryb3llZHx8IWUuY29uc3RydWN0ZWQpcmV0dXJuO2xldHtidWZmZXJlZDpyLGJ1ZmZlcmVkSW5kZXg6aSxvYmplY3RNb2RlOm59PWUsbz1yLmxlbmd0aC1pO2lmKCFvKXJldHVybjtsZXQgcz1pO2lmKGUuYnVmZmVyUHJvY2Vzc2luZz0hMCxvPjEmJnQuX3dyaXRldil7ZS5wZW5kaW5nY2ItPW8tMTtsZXQgYT1lLmFsbE5vb3A/bG86Yz0+e2ZvcihsZXQgaD1zO2g8ci5sZW5ndGg7KytoKXJbaF0uY2FsbGJhY2soYyk7fSxsPWUuYWxsTm9vcCYmcz09PTA/cjpyaChyLHMpO2wuYWxsQnVmZmVycz1lLmFsbEJ1ZmZlcnMsZWgodCxlLCEwLGUubGVuZ3RoLGwsXCJcIixhKSx5bihlKTt9ZWxzZSB7ZG97bGV0e2NodW5rOmEsZW5jb2Rpbmc6bCxjYWxsYmFjazpjfT1yW3NdO3JbcysrXT1udWxsO2xldCBoPW4/MTphLmxlbmd0aDtlaCh0LGUsITEsaCxhLGwsYyk7fXdoaWxlKHM8ci5sZW5ndGgmJiFlLndyaXRpbmcpO3M9PT1yLmxlbmd0aD95bihlKTpzPjI1Nj8oci5zcGxpY2UoMCxzKSxlLmJ1ZmZlcmVkSW5kZXg9MCk6ZS5idWZmZXJlZEluZGV4PXM7fWUuYnVmZmVyUHJvY2Vzc2luZz0hMTt9aWUucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbih0LGUscil7aWYodGhpcy5fd3JpdGV2KXRoaXMuX3dyaXRldihbe2NodW5rOnQsZW5jb2Rpbmc6ZX1dLHIpO2Vsc2UgdGhyb3cgbmV3IE1fKFwiX3dyaXRlKClcIil9O2llLnByb3RvdHlwZS5fd3JpdGV2PW51bGw7aWUucHJvdG90eXBlLmVuZD1mdW5jdGlvbih0LGUscil7bGV0IGk9dGhpcy5fd3JpdGFibGVTdGF0ZTt0eXBlb2YgdD09XCJmdW5jdGlvblwiPyhyPXQsdD1udWxsLGU9bnVsbCk6dHlwZW9mIGU9PVwiZnVuY3Rpb25cIiYmKHI9ZSxlPW51bGwpO2xldCBuO2lmKHQhPW51bGwpe2xldCBvPWxoKHRoaXMsdCxlKTtvIGluc3RhbmNlb2YgQV8mJihuPW8pO31yZXR1cm4gaS5jb3JrZWQmJihpLmNvcmtlZD0xLHRoaXMudW5jb3JrKCkpLG58fCghaS5lcnJvcmVkJiYhaS5lbmRpbmc/KGkuZW5kaW5nPSEwLGNvKHRoaXMsaSwhMCksaS5lbmRlZD0hMCk6aS5maW5pc2hlZD9uPW5ldyBVXyhcImVuZFwiKTppLmRlc3Ryb3llZCYmKG49bmV3IGJpKFwiZW5kXCIpKSksdHlwZW9mIHI9PVwiZnVuY3Rpb25cIiYmKG58fGkuZmluaXNoZWQ/Y3IubmV4dFRpY2socixuKTppWyRyXS5wdXNoKHIpKSx0aGlzfTtmdW5jdGlvbiBnbih0KXtyZXR1cm4gdC5lbmRpbmcmJiF0LmRlc3Ryb3llZCYmdC5jb25zdHJ1Y3RlZCYmdC5sZW5ndGg9PT0wJiYhdC5lcnJvcmVkJiZ0LmJ1ZmZlcmVkLmxlbmd0aD09PTAmJiF0LmZpbmlzaGVkJiYhdC53cml0aW5nJiYhdC5lcnJvckVtaXR0ZWQmJiF0LmNsb3NlRW1pdHRlZH1mdW5jdGlvbiBXXyh0LGUpe2xldCByPSExO2Z1bmN0aW9uIGkobil7aWYocil7V3IodCxuPz9vaCgpKTtyZXR1cm59aWYocj0hMCxlLnBlbmRpbmdjYi0tLG4pe2xldCBvPWVbJHJdLnNwbGljZSgwKTtmb3IobGV0IHM9MDtzPG8ubGVuZ3RoO3MrKylvW3NdKG4pO1dyKHQsbixlLnN5bmMpO31lbHNlIGduKGUpJiYoZS5wcmVmaW5pc2hlZD0hMCx0LmVtaXQoXCJwcmVmaW5pc2hcIiksZS5wZW5kaW5nY2IrKyxjci5uZXh0VGljayhhbyx0LGUpKTt9ZS5zeW5jPSEwLGUucGVuZGluZ2NiKys7dHJ5e3QuX2ZpbmFsKGkpO31jYXRjaChuKXtpKG4pO31lLnN5bmM9ITE7fWZ1bmN0aW9uICRfKHQsZSl7IWUucHJlZmluaXNoZWQmJiFlLmZpbmFsQ2FsbGVkJiYodHlwZW9mIHQuX2ZpbmFsPT1cImZ1bmN0aW9uXCImJiFlLmRlc3Ryb3llZD8oZS5maW5hbENhbGxlZD0hMCxXXyh0LGUpKTooZS5wcmVmaW5pc2hlZD0hMCx0LmVtaXQoXCJwcmVmaW5pc2hcIikpKTt9ZnVuY3Rpb24gY28odCxlLHIpe2duKGUpJiYoJF8odCxlKSxlLnBlbmRpbmdjYj09PTAmJihyPyhlLnBlbmRpbmdjYisrLGNyLm5leHRUaWNrKChpLG4pPT57Z24obik/YW8oaSxuKTpuLnBlbmRpbmdjYi0tO30sdCxlKSk6Z24oZSkmJihlLnBlbmRpbmdjYisrLGFvKHQsZSkpKSk7fWZ1bmN0aW9uIGFvKHQsZSl7ZS5wZW5kaW5nY2ItLSxlLmZpbmlzaGVkPSEwO2xldCByPWVbJHJdLnNwbGljZSgwKTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKylyW2ldKCk7aWYodC5lbWl0KFwiZmluaXNoXCIpLGUuYXV0b0Rlc3Ryb3kpe2xldCBpPXQuX3JlYWRhYmxlU3RhdGU7KCFpfHxpLmF1dG9EZXN0cm95JiYoaS5lbmRFbWl0dGVkfHxpLnJlYWRhYmxlPT09ITEpKSYmdC5kZXN0cm95KCk7fX1JXyhpZS5wcm90b3R5cGUse2Nsb3NlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5jbG9zZWQ6ITF9fSxkZXN0cm95ZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkOiExfSxzZXQodCl7dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPXQpO319LHdyaXRhYmxlOntfX3Byb3RvX186bnVsbCxnZXQoKXtsZXQgdD10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiAhIXQmJnQud3JpdGFibGUhPT0hMSYmIXQuZGVzdHJveWVkJiYhdC5lcnJvcmVkJiYhdC5lbmRpbmcmJiF0LmVuZGVkfSxzZXQodCl7dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGU9ISF0KTt9fSx3cml0YWJsZUZpbmlzaGVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkOiExfX0sd3JpdGFibGVPYmplY3RNb2RlOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLm9iamVjdE1vZGU6ITF9fSx3cml0YWJsZUJ1ZmZlcjp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyKCl9fSx3cml0YWJsZUVuZGVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZzohMX19LHdyaXRhYmxlTmVlZERyYWluOntfX3Byb3RvX186bnVsbCxnZXQoKXtsZXQgdD10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiB0PyF0LmRlc3Ryb3llZCYmIXQuZW5kaW5nJiZ0Lm5lZWREcmFpbjohMX19LHdyaXRhYmxlSGlnaFdhdGVyTWFyazp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319LHdyaXRhYmxlQ29ya2VkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZDowfX0sd3JpdGFibGVMZW5ndGg6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aH19LGVycm9yZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvcmVkOm51bGx9fSx3cml0YWJsZUFib3J0ZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuICEhKHRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGUhPT0hMSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfHx0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yZWQpJiYhdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCl9fX0pO3ZhciBIXz1ibi5kZXN0cm95O2llLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQsZSl7bGV0IHI9dGhpcy5fd3JpdGFibGVTdGF0ZTtyZXR1cm4gIXIuZGVzdHJveWVkJiYoci5idWZmZXJlZEluZGV4PHIuYnVmZmVyZWQubGVuZ3RofHxyWyRyXS5sZW5ndGgpJiZjci5uZXh0VGljayh1byxyKSxIXy5jYWxsKHRoaXMsdCxlKSx0aGlzfTtpZS5wcm90b3R5cGUuX3VuZGVzdHJveT1ibi51bmRlc3Ryb3k7aWUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKHQsZSl7ZSh0KTt9O2llLnByb3RvdHlwZVtCXy5jYXB0dXJlUmVqZWN0aW9uU3ltYm9sXT1mdW5jdGlvbih0KXt0aGlzLmRlc3Ryb3kodCk7fTt2YXIgb287ZnVuY3Rpb24gZmgoKXtyZXR1cm4gb289PT12b2lkIDAmJihvbz17fSksb299aWUuZnJvbVdlYj1mdW5jdGlvbih0LGUpe3JldHVybiBmaCgpLm5ld1N0cmVhbVdyaXRhYmxlRnJvbVdyaXRhYmxlU3RyZWFtKHQsZSl9O2llLnRvV2ViPWZ1bmN0aW9uKHQpe3JldHVybiBmaCgpLm5ld1dyaXRhYmxlU3RyZWFtRnJvbVN0cmVhbVdyaXRhYmxlKHQpfTt9KTt2YXIgU2g9TSgobVIsRWgpPT57XygpO3YoKTttKCk7dmFyIHBvPU50KCksVl89KGJlKCksWChtZSkpLHtpc1JlYWRhYmxlOnpfLGlzV3JpdGFibGU6S18saXNJdGVyYWJsZTpoaCxpc05vZGVTdHJlYW06R18saXNSZWFkYWJsZU5vZGVTdHJlYW06ZGgsaXNXcml0YWJsZU5vZGVTdHJlYW06cGgsaXNEdXBsZXhOb2RlU3RyZWFtOlFffT10dCgpLGdoPXZ0KCkse0Fib3J0RXJyb3I6dmgsY29kZXM6e0VSUl9JTlZBTElEX0FSR19UWVBFOllfLEVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRTp5aH19PUFlKCkse2Rlc3Ryb3llcjpIcn09aXIoKSxKXz1udCgpLFhfPWdpKCkse2NyZWF0ZURlZmVycmVkUHJvbWlzZTpiaH09SmUoKSx3aD1acygpLF9oPWdsb2JhbFRoaXMuQmxvYnx8Vl8uQmxvYixaXz10eXBlb2YgX2g8XCJ1XCI/ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBfaH06ZnVuY3Rpb24oZSl7cmV0dXJuICExfSxlMD1nbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlcnx8emkoKS5BYm9ydENvbnRyb2xsZXIse0Z1bmN0aW9uUHJvdG90eXBlQ2FsbDptaH09Y2UoKSxocj1jbGFzcyBleHRlbmRzIEpfe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLGU/LnJlYWRhYmxlPT09ITEmJih0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRhYmxlPSExLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kZWQ9ITAsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkPSEwKSxlPy53cml0YWJsZT09PSExJiYodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZT0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZz0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITApO319O0VoLmV4cG9ydHM9ZnVuY3Rpb24gdChlLHIpe2lmKFFfKGUpKXJldHVybiBlO2lmKGRoKGUpKXJldHVybiB3bih7cmVhZGFibGU6ZX0pO2lmKHBoKGUpKXJldHVybiB3bih7d3JpdGFibGU6ZX0pO2lmKEdfKGUpKXJldHVybiB3bih7d3JpdGFibGU6ITEscmVhZGFibGU6ITF9KTtpZih0eXBlb2YgZT09XCJmdW5jdGlvblwiKXtsZXR7dmFsdWU6bix3cml0ZTpvLGZpbmFsOnMsZGVzdHJveTphfT10MChlKTtpZihoaChuKSlyZXR1cm4gd2goaHIsbix7b2JqZWN0TW9kZTohMCx3cml0ZTpvLGZpbmFsOnMsZGVzdHJveTphfSk7bGV0IGw9bj8udGhlbjtpZih0eXBlb2YgbD09XCJmdW5jdGlvblwiKXtsZXQgYyxoPW1oKGwsbixkPT57aWYoZCE9bnVsbCl0aHJvdyBuZXcgeWgoXCJudWxseVwiLFwiYm9keVwiLGQpfSxkPT57SHIoYyxkKTt9KTtyZXR1cm4gYz1uZXcgaHIoe29iamVjdE1vZGU6ITAscmVhZGFibGU6ITEsd3JpdGU6byxmaW5hbChkKXtzKGFzeW5jKCk9Pnt0cnl7YXdhaXQgaCxwby5uZXh0VGljayhkLG51bGwpO31jYXRjaChnKXtwby5uZXh0VGljayhkLGcpO319KTt9LGRlc3Ryb3k6YX0pfXRocm93IG5ldyB5aChcIkl0ZXJhYmxlLCBBc3luY0l0ZXJhYmxlIG9yIEFzeW5jRnVuY3Rpb25cIixyLG4pfWlmKFpfKGUpKXJldHVybiB0KGUuYXJyYXlCdWZmZXIoKSk7aWYoaGgoZSkpcmV0dXJuIHdoKGhyLGUse29iamVjdE1vZGU6ITAsd3JpdGFibGU6ITF9KTtpZih0eXBlb2YgZT8ud3JpdGFibGU9PVwib2JqZWN0XCJ8fHR5cGVvZiBlPy5yZWFkYWJsZT09XCJvYmplY3RcIil7bGV0IG49ZSE9bnVsbCYmZS5yZWFkYWJsZT9kaChlPy5yZWFkYWJsZSk/ZT8ucmVhZGFibGU6dChlLnJlYWRhYmxlKTp2b2lkIDAsbz1lIT1udWxsJiZlLndyaXRhYmxlP3BoKGU/LndyaXRhYmxlKT9lPy53cml0YWJsZTp0KGUud3JpdGFibGUpOnZvaWQgMDtyZXR1cm4gd24oe3JlYWRhYmxlOm4sd3JpdGFibGU6b30pfWxldCBpPWU/LnRoZW47aWYodHlwZW9mIGk9PVwiZnVuY3Rpb25cIil7bGV0IG47cmV0dXJuIG1oKGksZSxvPT57byE9bnVsbCYmbi5wdXNoKG8pLG4ucHVzaChudWxsKTt9LG89PntIcihuLG8pO30pLG49bmV3IGhyKHtvYmplY3RNb2RlOiEwLHdyaXRhYmxlOiExLHJlYWQoKXt9fSl9dGhyb3cgbmV3IFlfKHIsW1wiQmxvYlwiLFwiUmVhZGFibGVTdHJlYW1cIixcIldyaXRhYmxlU3RyZWFtXCIsXCJTdHJlYW1cIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCIsXCJGdW5jdGlvblwiLFwieyByZWFkYWJsZSwgd3JpdGFibGUgfSBwYWlyXCIsXCJQcm9taXNlXCJdLGUpfTtmdW5jdGlvbiB0MCh0KXtsZXR7cHJvbWlzZTplLHJlc29sdmU6cn09YmgoKSxpPW5ldyBlMCxuPWkuc2lnbmFsO3JldHVybiB7dmFsdWU6dChhc3luYyBmdW5jdGlvbiooKXtmb3IoOzspe2xldCBzPWU7ZT1udWxsO2xldHtjaHVuazphLGRvbmU6bCxjYjpjfT1hd2FpdCBzO2lmKHBvLm5leHRUaWNrKGMpLGwpcmV0dXJuO2lmKG4uYWJvcnRlZCl0aHJvdyBuZXcgdmgodm9pZCAwLHtjYXVzZTpuLnJlYXNvbn0pOygoKHtwcm9taXNlOmUscmVzb2x2ZTpyfT1iaCgpKSkpLHlpZWxkIGE7fX0oKSx7c2lnbmFsOm59KSx3cml0ZShzLGEsbCl7bGV0IGM9cjtyPW51bGwsYyh7Y2h1bms6cyxkb25lOiExLGNiOmx9KTt9LGZpbmFsKHMpe2xldCBhPXI7cj1udWxsLGEoe2RvbmU6ITAsY2I6c30pO30sZGVzdHJveShzLGEpe2kuYWJvcnQoKSxhKHMpO319fWZ1bmN0aW9uIHduKHQpe2xldCBlPXQucmVhZGFibGUmJnR5cGVvZiB0LnJlYWRhYmxlLnJlYWQhPVwiZnVuY3Rpb25cIj9YXy53cmFwKHQucmVhZGFibGUpOnQucmVhZGFibGUscj10LndyaXRhYmxlLGk9ISF6XyhlKSxuPSEhS18ociksbyxzLGEsbCxjO2Z1bmN0aW9uIGgoZCl7bGV0IGc9bDtsPW51bGwsZz9nKGQpOmQmJmMuZGVzdHJveShkKTt9cmV0dXJuIGM9bmV3IGhyKHtyZWFkYWJsZU9iamVjdE1vZGU6ISEoZSE9bnVsbCYmZS5yZWFkYWJsZU9iamVjdE1vZGUpLHdyaXRhYmxlT2JqZWN0TW9kZTohIShyIT1udWxsJiZyLndyaXRhYmxlT2JqZWN0TW9kZSkscmVhZGFibGU6aSx3cml0YWJsZTpufSksbiYmKGdoKHIsZD0+e249ITEsZCYmSHIoZSxkKSxoKGQpO30pLGMuX3dyaXRlPWZ1bmN0aW9uKGQsZyx5KXtyLndyaXRlKGQsZyk/eSgpOm89eTt9LGMuX2ZpbmFsPWZ1bmN0aW9uKGQpe3IuZW5kKCkscz1kO30sci5vbihcImRyYWluXCIsZnVuY3Rpb24oKXtpZihvKXtsZXQgZD1vO289bnVsbCxkKCk7fX0pLHIub24oXCJmaW5pc2hcIixmdW5jdGlvbigpe2lmKHMpe2xldCBkPXM7cz1udWxsLGQoKTt9fSkpLGkmJihnaChlLGQ9PntpPSExLGQmJkhyKGUsZCksaChkKTt9KSxlLm9uKFwicmVhZGFibGVcIixmdW5jdGlvbigpe2lmKGEpe2xldCBkPWE7YT1udWxsLGQoKTt9fSksZS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7Yy5wdXNoKG51bGwpO30pLGMuX3JlYWQ9ZnVuY3Rpb24oKXtmb3IoOzspe2xldCBkPWUucmVhZCgpO2lmKGQ9PT1udWxsKXthPWMuX3JlYWQ7cmV0dXJufWlmKCFjLnB1c2goZCkpcmV0dXJufX0pLGMuX2Rlc3Ryb3k9ZnVuY3Rpb24oZCxnKXshZCYmbCE9PW51bGwmJihkPW5ldyB2aCksYT1udWxsLG89bnVsbCxzPW51bGwsbD09PW51bGw/ZyhkKToobD1nLEhyKHIsZCksSHIoZSxkKSk7fSxjfX0pO3ZhciBudD1NKChQUixUaCk9PntfKCk7digpO20oKTt2YXJ7T2JqZWN0RGVmaW5lUHJvcGVydGllczpyMCxPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6SXQsT2JqZWN0S2V5czppMCxPYmplY3RTZXRQcm90b3R5cGVPZjpBaH09Y2UoKTtUaC5leHBvcnRzPVZlO3ZhciBibz1naSgpLE5lPWhvKCk7QWgoVmUucHJvdG90eXBlLGJvLnByb3RvdHlwZSk7QWgoVmUsYm8pO3tsZXQgdD1pMChOZS5wcm90b3R5cGUpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtsZXQgcj10W2VdO1ZlLnByb3RvdHlwZVtyXXx8KFZlLnByb3RvdHlwZVtyXT1OZS5wcm90b3R5cGVbcl0pO319ZnVuY3Rpb24gVmUodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgVmUpKXJldHVybiBuZXcgVmUodCk7Ym8uY2FsbCh0aGlzLHQpLE5lLmNhbGwodGhpcyx0KSx0Pyh0aGlzLmFsbG93SGFsZk9wZW49dC5hbGxvd0hhbGZPcGVuIT09ITEsdC5yZWFkYWJsZT09PSExJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZT0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMCksdC53cml0YWJsZT09PSExJiYodGhpcy5fd3JpdGFibGVTdGF0ZS53cml0YWJsZT0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGluZz0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITApKTp0aGlzLmFsbG93SGFsZk9wZW49ITA7fXIwKFZlLnByb3RvdHlwZSx7d3JpdGFibGU6e19fcHJvdG9fXzpudWxsLC4uLkl0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlXCIpfSx3cml0YWJsZUhpZ2hXYXRlck1hcms6e19fcHJvdG9fXzpudWxsLC4uLkl0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlSGlnaFdhdGVyTWFya1wiKX0sd3JpdGFibGVPYmplY3RNb2RlOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZU9iamVjdE1vZGVcIil9LHdyaXRhYmxlQnVmZmVyOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZUJ1ZmZlclwiKX0sd3JpdGFibGVMZW5ndGg6e19fcHJvdG9fXzpudWxsLC4uLkl0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlTGVuZ3RoXCIpfSx3cml0YWJsZUZpbmlzaGVkOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZUZpbmlzaGVkXCIpfSx3cml0YWJsZUNvcmtlZDp7X19wcm90b19fOm51bGwsLi4uSXQoTmUucHJvdG90eXBlLFwid3JpdGFibGVDb3JrZWRcIil9LHdyaXRhYmxlRW5kZWQ6e19fcHJvdG9fXzpudWxsLC4uLkl0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlRW5kZWRcIil9LHdyaXRhYmxlTmVlZERyYWluOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZU5lZWREcmFpblwiKX0sZGVzdHJveWVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT09PXZvaWQgMHx8dGhpcy5fd3JpdGFibGVTdGF0ZT09PXZvaWQgMD8hMTp0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldCh0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCx0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD10KTt9fX0pO3ZhciBnbztmdW5jdGlvbiBJaCgpe3JldHVybiBnbz09PXZvaWQgMCYmKGdvPXt9KSxnb31WZS5mcm9tV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEloKCkubmV3U3RyZWFtRHVwbGV4RnJvbVJlYWRhYmxlV3JpdGFibGVQYWlyKHQsZSl9O1ZlLnRvV2ViPWZ1bmN0aW9uKHQpe3JldHVybiBJaCgpLm5ld1JlYWRhYmxlV3JpdGFibGVQYWlyRnJvbUR1cGxleCh0KX07dmFyIHlvO1ZlLmZyb209ZnVuY3Rpb24odCl7cmV0dXJuIHlvfHwoeW89U2goKSkseW8odCxcImJvZHlcIil9O30pO3ZhciBtbz1NKChqUixDaCk9PntfKCk7digpO20oKTt2YXJ7T2JqZWN0U2V0UHJvdG90eXBlT2Y6UmgsU3ltYm9sOm4wfT1jZSgpO0NoLmV4cG9ydHM9VHQ7dmFye0VSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEOnMwfT1BZSgpLmNvZGVzLF9vPW50KCkse2dldEhpZ2hXYXRlck1hcms6bzB9PWFuKCk7UmgoVHQucHJvdG90eXBlLF9vLnByb3RvdHlwZSk7UmgoVHQsX28pO3ZhciBfaT1uMChcImtDYWxsYmFja1wiKTtmdW5jdGlvbiBUdCh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBUdCkpcmV0dXJuIG5ldyBUdCh0KTtsZXQgZT10P28wKHRoaXMsdCxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLCEwKTpudWxsO2U9PT0wJiYodD17Li4udCxoaWdoV2F0ZXJNYXJrOm51bGwscmVhZGFibGVIaWdoV2F0ZXJNYXJrOmUsd3JpdGFibGVIaWdoV2F0ZXJNYXJrOnQud3JpdGFibGVIaWdoV2F0ZXJNYXJrfHwwfSksX28uY2FsbCh0aGlzLHQpLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSx0aGlzW19pXT1udWxsLHQmJih0eXBlb2YgdC50cmFuc2Zvcm09PVwiZnVuY3Rpb25cIiYmKHRoaXMuX3RyYW5zZm9ybT10LnRyYW5zZm9ybSksdHlwZW9mIHQuZmx1c2g9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2ZsdXNoPXQuZmx1c2gpKSx0aGlzLm9uKFwicHJlZmluaXNoXCIsYTApO31mdW5jdGlvbiB3byh0KXt0eXBlb2YgdGhpcy5fZmx1c2g9PVwiZnVuY3Rpb25cIiYmIXRoaXMuZGVzdHJveWVkP3RoaXMuX2ZsdXNoKChlLHIpPT57aWYoZSl7dD90KGUpOnRoaXMuZGVzdHJveShlKTtyZXR1cm59ciE9bnVsbCYmdGhpcy5wdXNoKHIpLHRoaXMucHVzaChudWxsKSx0JiZ0KCk7fSk6KHRoaXMucHVzaChudWxsKSx0JiZ0KCkpO31mdW5jdGlvbiBhMCgpe3RoaXMuX2ZpbmFsIT09d28mJndvLmNhbGwodGhpcyk7fVR0LnByb3RvdHlwZS5fZmluYWw9d287VHQucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24odCxlLHIpe3Rocm93IG5ldyBzMChcIl90cmFuc2Zvcm0oKVwiKX07VHQucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbih0LGUscil7bGV0IGk9dGhpcy5fcmVhZGFibGVTdGF0ZSxuPXRoaXMuX3dyaXRhYmxlU3RhdGUsbz1pLmxlbmd0aDt0aGlzLl90cmFuc2Zvcm0odCxlLChzLGEpPT57aWYocyl7cihzKTtyZXR1cm59YSE9bnVsbCYmdGhpcy5wdXNoKGEpLG4uZW5kZWR8fG89PT1pLmxlbmd0aHx8aS5sZW5ndGg8aS5oaWdoV2F0ZXJNYXJrP3IoKTp0aGlzW19pXT1yO30pO307VHQucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKCl7aWYodGhpc1tfaV0pe2xldCB0PXRoaXNbX2ldO3RoaXNbX2ldPW51bGwsdCgpO319O30pO3ZhciBFbz1NKChZUixQaCk9PntfKCk7digpO20oKTt2YXJ7T2JqZWN0U2V0UHJvdG90eXBlT2Y6Qmh9PWNlKCk7UGguZXhwb3J0cz1Wcjt2YXIgdm89bW8oKTtCaChWci5wcm90b3R5cGUsdm8ucHJvdG90eXBlKTtCaChWcix2byk7ZnVuY3Rpb24gVnIodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgVnIpKXJldHVybiBuZXcgVnIodCk7dm8uY2FsbCh0aGlzLHQpO31Wci5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbih0LGUscil7cihudWxsLHQpO307fSk7dmFyIEVuPU0oKG9DLExoKT0+e18oKTt2KCk7bSgpO3ZhciBtaT1OdCgpLHtBcnJheUlzQXJyYXk6bDAsUHJvbWlzZTp1MCxTeW1ib2xBc3luY0l0ZXJhdG9yOmYwfT1jZSgpLHZuPXZ0KCkse29uY2U6YzB9PUplKCksaDA9aXIoKSxraD1udCgpLHthZ2dyZWdhdGVUd29FcnJvcnM6ZDAsY29kZXM6e0VSUl9JTlZBTElEX0FSR19UWVBFOlBvLEVSUl9JTlZBTElEX1JFVFVSTl9WQUxVRTpTbyxFUlJfTUlTU0lOR19BUkdTOnAwLEVSUl9TVFJFQU1fREVTVFJPWUVEOmcwLEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFOnkwfSxBYm9ydEVycm9yOmIwfT1BZSgpLHt2YWxpZGF0ZUZ1bmN0aW9uOncwLHZhbGlkYXRlQWJvcnRTaWduYWw6XzB9PWhpKCkse2lzSXRlcmFibGU6ZHIsaXNSZWFkYWJsZTpBbyxpc1JlYWRhYmxlTm9kZVN0cmVhbTptbixpc05vZGVTdHJlYW06T2gsaXNUcmFuc2Zvcm1TdHJlYW06enIsaXNXZWJTdHJlYW06bTAsaXNSZWFkYWJsZVN0cmVhbTpJbyxpc1JlYWRhYmxlRW5kZWQ6djB9PXR0KCksRTA9Z2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXJ8fHppKCkuQWJvcnRDb250cm9sbGVyLFRvLFJvO2Z1bmN0aW9uIHhoKHQsZSxyKXtsZXQgaT0hMTt0Lm9uKFwiY2xvc2VcIiwoKT0+e2k9ITA7fSk7bGV0IG49dm4odCx7cmVhZGFibGU6ZSx3cml0YWJsZTpyfSxvPT57aT0hbzt9KTtyZXR1cm4ge2Rlc3Ryb3k6bz0+e2l8fChpPSEwLGgwLmRlc3Ryb3llcih0LG98fG5ldyBnMChcInBpcGVcIikpKTt9LGNsZWFudXA6bn19ZnVuY3Rpb24gUzAodCl7cmV0dXJuIHcwKHRbdC5sZW5ndGgtMV0sXCJzdHJlYW1zW3N0cmVhbS5sZW5ndGggLSAxXVwiKSx0LnBvcCgpfWZ1bmN0aW9uIENvKHQpe2lmKGRyKHQpKXJldHVybiB0O2lmKG1uKHQpKXJldHVybiBBMCh0KTt0aHJvdyBuZXcgUG8oXCJ2YWxcIixbXCJSZWFkYWJsZVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIl0sdCl9YXN5bmMgZnVuY3Rpb24qQTAodCl7Um98fChSbz1naSgpKSx5aWVsZCpSby5wcm90b3R5cGVbZjBdLmNhbGwodCk7fWFzeW5jIGZ1bmN0aW9uIF9uKHQsZSxyLHtlbmQ6aX0pe2xldCBuLG89bnVsbCxzPWM9PntpZihjJiYobj1jKSxvKXtsZXQgaD1vO289bnVsbCxoKCk7fX0sYT0oKT0+bmV3IHUwKChjLGgpPT57bj9oKG4pOm89KCk9PntuP2gobik6YygpO307fSk7ZS5vbihcImRyYWluXCIscyk7bGV0IGw9dm4oZSx7cmVhZGFibGU6ITF9LHMpO3RyeXtlLndyaXRhYmxlTmVlZERyYWluJiZhd2FpdCBhKCk7Zm9yIGF3YWl0KGxldCBjIG9mIHQpZS53cml0ZShjKXx8YXdhaXQgYSgpO2kmJmUuZW5kKCksYXdhaXQgYSgpLHIoKTt9Y2F0Y2goYyl7cihuIT09Yz9kMChuLGMpOmMpO31maW5hbGx5e2woKSxlLm9mZihcImRyYWluXCIscyk7fX1hc3luYyBmdW5jdGlvbiBCbyh0LGUscix7ZW5kOml9KXt6cihlKSYmKGU9ZS53cml0YWJsZSk7bGV0IG49ZS5nZXRXcml0ZXIoKTt0cnl7Zm9yIGF3YWl0KGxldCBvIG9mIHQpYXdhaXQgbi5yZWFkeSxuLndyaXRlKG8pLmNhdGNoKCgpPT57fSk7YXdhaXQgbi5yZWFkeSxpJiZhd2FpdCBuLmNsb3NlKCkscigpO31jYXRjaChvKXt0cnl7YXdhaXQgbi5hYm9ydChvKSxyKG8pO31jYXRjaChzKXtyKHMpO319fWZ1bmN0aW9uIEkwKC4uLnQpe3JldHVybiBNaCh0LGMwKFMwKHQpKSl9ZnVuY3Rpb24gTWgodCxlLHIpe2lmKHQubGVuZ3RoPT09MSYmbDAodFswXSkmJih0PXRbMF0pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IHAwKFwic3RyZWFtc1wiKTtsZXQgaT1uZXcgRTAsbj1pLnNpZ25hbCxvPXI/LnNpZ25hbCxzPVtdO18wKG8sXCJvcHRpb25zLnNpZ25hbFwiKTtmdW5jdGlvbiBhKCl7eShuZXcgYjApO31vPy5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKTtsZXQgbCxjLGg9W10sZD0wO2Z1bmN0aW9uIGcoQyl7eShDLC0tZD09PTApO31mdW5jdGlvbiB5KEMsUil7aWYoQyYmKCFsfHxsLmNvZGU9PT1cIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCIpJiYobD1DKSwhKCFsJiYhUikpe2Zvcig7aC5sZW5ndGg7KWguc2hpZnQoKShsKTtvPy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKSxpLmFib3J0KCksUiYmKGx8fHMuZm9yRWFjaChVPT5VKCkpLG1pLm5leHRUaWNrKGUsbCxjKSk7fX1sZXQgdztmb3IobGV0IEM9MDtDPHQubGVuZ3RoO0MrKyl7bGV0IFI9dFtDXSxVPUM8dC5sZW5ndGgtMSxOPUM+MCxXPVV8fHI/LmVuZCE9PSExLEs9Qz09PXQubGVuZ3RoLTE7aWYoT2goUikpe2xldCB6PWZ1bmN0aW9uKFEpe1EmJlEubmFtZSE9PVwiQWJvcnRFcnJvclwiJiZRLmNvZGUhPT1cIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCImJmcoUSk7fTtpZihXKXtsZXR7ZGVzdHJveTpRLGNsZWFudXA6cGV9PXhoKFIsVSxOKTtoLnB1c2goUSksQW8oUikmJksmJnMucHVzaChwZSk7fVIub24oXCJlcnJvclwiLHopLEFvKFIpJiZLJiZzLnB1c2goKCk9PntSLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix6KTt9KTt9aWYoQz09PTApaWYodHlwZW9mIFI9PVwiZnVuY3Rpb25cIil7aWYodz1SKHtzaWduYWw6bn0pLCFkcih3KSl0aHJvdyBuZXcgU28oXCJJdGVyYWJsZSwgQXN5bmNJdGVyYWJsZSBvciBTdHJlYW1cIixcInNvdXJjZVwiLHcpfWVsc2UgZHIoUil8fG1uKFIpfHx6cihSKT93PVI6dz1raC5mcm9tKFIpO2Vsc2UgaWYodHlwZW9mIFI9PVwiZnVuY3Rpb25cIil7aWYoenIodykpe3ZhciBTO3c9Q28oKFM9dyk9PT1udWxsfHxTPT09dm9pZCAwP3ZvaWQgMDpTLnJlYWRhYmxlKTt9ZWxzZSB3PUNvKHcpO2lmKHc9Uih3LHtzaWduYWw6bn0pLFUpe2lmKCFkcih3LCEwKSl0aHJvdyBuZXcgU28oXCJBc3luY0l0ZXJhYmxlXCIsYHRyYW5zZm9ybVske0MtMX1dYCx3KX1lbHNlIHt2YXIgRTtUb3x8KFRvPUVvKCkpO2xldCB6PW5ldyBUbyh7b2JqZWN0TW9kZTohMH0pLFE9KEU9dyk9PT1udWxsfHxFPT09dm9pZCAwP3ZvaWQgMDpFLnRoZW47aWYodHlwZW9mIFE9PVwiZnVuY3Rpb25cIilkKyssUS5jYWxsKHcsZ2U9PntjPWdlLGdlIT1udWxsJiZ6LndyaXRlKGdlKSxXJiZ6LmVuZCgpLG1pLm5leHRUaWNrKGcpO30sZ2U9Pnt6LmRlc3Ryb3koZ2UpLG1pLm5leHRUaWNrKGcsZ2UpO30pO2Vsc2UgaWYoZHIodywhMCkpZCsrLF9uKHcseixnLHtlbmQ6V30pO2Vsc2UgaWYoSW8odyl8fHpyKHcpKXtsZXQgZ2U9dy5yZWFkYWJsZXx8dztkKyssX24oZ2UseixnLHtlbmQ6V30pO31lbHNlIHRocm93IG5ldyBTbyhcIkFzeW5jSXRlcmFibGUgb3IgUHJvbWlzZVwiLFwiZGVzdGluYXRpb25cIix3KTt3PXo7bGV0e2Rlc3Ryb3k6cGUsY2xlYW51cDpZdH09eGgodywhMSwhMCk7aC5wdXNoKHBlKSxLJiZzLnB1c2goWXQpO319ZWxzZSBpZihPaChSKSl7aWYobW4odykpe2QrPTI7bGV0IHo9VDAodyxSLGcse2VuZDpXfSk7QW8oUikmJksmJnMucHVzaCh6KTt9ZWxzZSBpZih6cih3KXx8SW8odykpe2xldCB6PXcucmVhZGFibGV8fHc7ZCsrLF9uKHosUixnLHtlbmQ6V30pO31lbHNlIGlmKGRyKHcpKWQrKyxfbih3LFIsZyx7ZW5kOld9KTtlbHNlIHRocm93IG5ldyBQbyhcInZhbFwiLFtcIlJlYWRhYmxlXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiLFwiUmVhZGFibGVTdHJlYW1cIixcIlRyYW5zZm9ybVN0cmVhbVwiXSx3KTt3PVI7fWVsc2UgaWYobTAoUikpe2lmKG1uKHcpKWQrKyxCbyhDbyh3KSxSLGcse2VuZDpXfSk7ZWxzZSBpZihJbyh3KXx8ZHIodykpZCsrLEJvKHcsUixnLHtlbmQ6V30pO2Vsc2UgaWYoenIodykpZCsrLEJvKHcucmVhZGFibGUsUixnLHtlbmQ6V30pO2Vsc2UgdGhyb3cgbmV3IFBvKFwidmFsXCIsW1wiUmVhZGFibGVcIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCIsXCJSZWFkYWJsZVN0cmVhbVwiLFwiVHJhbnNmb3JtU3RyZWFtXCJdLHcpO3c9Ujt9ZWxzZSB3PWtoLmZyb20oUik7fXJldHVybiAobiE9bnVsbCYmbi5hYm9ydGVkfHxvIT1udWxsJiZvLmFib3J0ZWQpJiZtaS5uZXh0VGljayhhKSx3fWZ1bmN0aW9uIFQwKHQsZSxyLHtlbmQ6aX0pe2xldCBuPSExO2lmKGUub24oXCJjbG9zZVwiLCgpPT57bnx8cihuZXcgeTApO30pLHQucGlwZShlLHtlbmQ6ITF9KSxpKXtsZXQgcz1mdW5jdGlvbigpe249ITAsZS5lbmQoKTt9O3YwKHQpP21pLm5leHRUaWNrKHMpOnQub25jZShcImVuZFwiLHMpO31lbHNlIHIoKTtyZXR1cm4gdm4odCx7cmVhZGFibGU6ITAsd3JpdGFibGU6ITF9LHM9PntsZXQgYT10Ll9yZWFkYWJsZVN0YXRlO3MmJnMuY29kZT09PVwiRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0VcIiYmYSYmYS5lbmRlZCYmIWEuZXJyb3JlZCYmIWEuZXJyb3JFbWl0dGVkP3Qub25jZShcImVuZFwiLHIpLm9uY2UoXCJlcnJvclwiLHIpOnIocyk7fSksdm4oZSx7cmVhZGFibGU6ITEsd3JpdGFibGU6ITB9LHIpfUxoLmV4cG9ydHM9e3BpcGVsaW5lSW1wbDpNaCxwaXBlbGluZTpJMH07fSk7dmFyIE9vPU0oKHlDLEZoKT0+e18oKTt2KCk7bSgpO3ZhcntwaXBlbGluZTpSMH09RW4oKSxTbj1udCgpLHtkZXN0cm95ZXI6QzB9PWlyKCkse2lzTm9kZVN0cmVhbTpBbixpc1JlYWRhYmxlOlVoLGlzV3JpdGFibGU6TmgsaXNXZWJTdHJlYW06a28saXNUcmFuc2Zvcm1TdHJlYW06cHIsaXNXcml0YWJsZVN0cmVhbTpxaCxpc1JlYWRhYmxlU3RyZWFtOkRofT10dCgpLHtBYm9ydEVycm9yOkIwLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVkFMVUU6amgsRVJSX01JU1NJTkdfQVJHUzpQMH19PUFlKCksazA9dnQoKTtGaC5leHBvcnRzPWZ1bmN0aW9uKC4uLmUpe2lmKGUubGVuZ3RoPT09MCl0aHJvdyBuZXcgUDAoXCJzdHJlYW1zXCIpO2lmKGUubGVuZ3RoPT09MSlyZXR1cm4gU24uZnJvbShlWzBdKTtsZXQgcj1bLi4uZV07aWYodHlwZW9mIGVbMF09PVwiZnVuY3Rpb25cIiYmKGVbMF09U24uZnJvbShlWzBdKSksdHlwZW9mIGVbZS5sZW5ndGgtMV09PVwiZnVuY3Rpb25cIil7bGV0IHk9ZS5sZW5ndGgtMTtlW3ldPVNuLmZyb20oZVt5XSk7fWZvcihsZXQgeT0wO3k8ZS5sZW5ndGg7Kyt5KWlmKCEoIUFuKGVbeV0pJiYha28oZVt5XSkpKXtpZih5PGUubGVuZ3RoLTEmJiEoVWgoZVt5XSl8fERoKGVbeV0pfHxwcihlW3ldKSkpdGhyb3cgbmV3IGpoKGBzdHJlYW1zWyR7eX1dYCxyW3ldLFwibXVzdCBiZSByZWFkYWJsZVwiKTtpZih5PjAmJiEoTmgoZVt5XSl8fHFoKGVbeV0pfHxwcihlW3ldKSkpdGhyb3cgbmV3IGpoKGBzdHJlYW1zWyR7eX1dYCxyW3ldLFwibXVzdCBiZSB3cml0YWJsZVwiKX1sZXQgaSxuLG8scyxhO2Z1bmN0aW9uIGwoeSl7bGV0IHc9cztzPW51bGwsdz93KHkpOnk/YS5kZXN0cm95KHkpOiFnJiYhZCYmYS5kZXN0cm95KCk7fWxldCBjPWVbMF0saD1SMChlLGwpLGQ9ISEoTmgoYyl8fHFoKGMpfHxwcihjKSksZz0hIShVaChoKXx8RGgoaCl8fHByKGgpKTtpZihhPW5ldyBTbih7d3JpdGFibGVPYmplY3RNb2RlOiEhKGMhPW51bGwmJmMud3JpdGFibGVPYmplY3RNb2RlKSxyZWFkYWJsZU9iamVjdE1vZGU6ISEoaCE9bnVsbCYmaC53cml0YWJsZU9iamVjdE1vZGUpLHdyaXRhYmxlOmQscmVhZGFibGU6Z30pLGQpe2lmKEFuKGMpKWEuX3dyaXRlPWZ1bmN0aW9uKHcsUyxFKXtjLndyaXRlKHcsUyk/RSgpOmk9RTt9LGEuX2ZpbmFsPWZ1bmN0aW9uKHcpe2MuZW5kKCksbj13O30sYy5vbihcImRyYWluXCIsZnVuY3Rpb24oKXtpZihpKXtsZXQgdz1pO2k9bnVsbCx3KCk7fX0pO2Vsc2UgaWYoa28oYykpe2xldCBTPShwcihjKT9jLndyaXRhYmxlOmMpLmdldFdyaXRlcigpO2EuX3dyaXRlPWFzeW5jIGZ1bmN0aW9uKEUsSSxDKXt0cnl7YXdhaXQgUy5yZWFkeSxTLndyaXRlKEUpLmNhdGNoKCgpPT57fSksQygpO31jYXRjaChSKXtDKFIpO319LGEuX2ZpbmFsPWFzeW5jIGZ1bmN0aW9uKEUpe3RyeXthd2FpdCBTLnJlYWR5LFMuY2xvc2UoKS5jYXRjaCgoKT0+e30pLG49RTt9Y2F0Y2goSSl7RShJKTt9fTt9bGV0IHk9cHIoaCk/aC5yZWFkYWJsZTpoO2swKHksKCk9PntpZihuKXtsZXQgdz1uO249bnVsbCx3KCk7fX0pO31pZihnKXtpZihBbihoKSloLm9uKFwicmVhZGFibGVcIixmdW5jdGlvbigpe2lmKG8pe2xldCB5PW87bz1udWxsLHkoKTt9fSksaC5vbihcImVuZFwiLGZ1bmN0aW9uKCl7YS5wdXNoKG51bGwpO30pLGEuX3JlYWQ9ZnVuY3Rpb24oKXtmb3IoOzspe2xldCB5PWgucmVhZCgpO2lmKHk9PT1udWxsKXtvPWEuX3JlYWQ7cmV0dXJufWlmKCFhLnB1c2goeSkpcmV0dXJufX07ZWxzZSBpZihrbyhoKSl7bGV0IHc9KHByKGgpP2gucmVhZGFibGU6aCkuZ2V0UmVhZGVyKCk7YS5fcmVhZD1hc3luYyBmdW5jdGlvbigpe2Zvcig7Oyl0cnl7bGV0e3ZhbHVlOlMsZG9uZTpFfT1hd2FpdCB3LnJlYWQoKTtpZighYS5wdXNoKFMpKXJldHVybjtpZihFKXthLnB1c2gobnVsbCk7cmV0dXJufX1jYXRjaHtyZXR1cm59fTt9fXJldHVybiBhLl9kZXN0cm95PWZ1bmN0aW9uKHksdyl7IXkmJnMhPT1udWxsJiYoeT1uZXcgQjApLG89bnVsbCxpPW51bGwsbj1udWxsLHM9PT1udWxsP3coeSk6KHM9dyxBbihoKSYmQzAoaCx5KSk7fSxhfTt9KTt2YXIgUWg9TSgoVEMsTG8pPT57XygpO3YoKTttKCk7dmFyIFZoPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyfHx6aSgpLkFib3J0Q29udHJvbGxlcix7Y29kZXM6e0VSUl9JTlZBTElEX0FSR19WQUxVRTpPMCxFUlJfSU5WQUxJRF9BUkdfVFlQRTp2aSxFUlJfTUlTU0lOR19BUkdTOngwLEVSUl9PVVRfT0ZfUkFOR0U6TTB9LEFib3J0RXJyb3I6c3R9PUFlKCkse3ZhbGlkYXRlQWJvcnRTaWduYWw6Z3IsdmFsaWRhdGVJbnRlZ2VyOkwwLHZhbGlkYXRlT2JqZWN0OnlyfT1oaSgpLFUwPWNlKCkuU3ltYm9sKFwia1dlYWtcIikse2ZpbmlzaGVkOk4wfT12dCgpLHEwPU9vKCkse2FkZEFib3J0U2lnbmFsTm9WYWxpZGF0ZTpEMH09ZGkoKSx7aXNXcml0YWJsZTpqMCxpc05vZGVTdHJlYW06RjB9PXR0KCkse0FycmF5UHJvdG90eXBlUHVzaDpXMCxNYXRoRmxvb3I6JDAsTnVtYmVyOkgwLE51bWJlcklzTmFOOlYwLFByb21pc2U6V2gsUHJvbWlzZVJlamVjdDokaCxQcm9taXNlUHJvdG90eXBlVGhlbjp6MCxTeW1ib2w6emh9PWNlKCksSW49emgoXCJrRW1wdHlcIiksSGg9emgoXCJrRW9mXCIpO2Z1bmN0aW9uIEswKHQsZSl7aWYoZSE9bnVsbCYmeXIoZSxcIm9wdGlvbnNcIiksZT8uc2lnbmFsIT1udWxsJiZncihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLEYwKHQpJiYhajAodCkpdGhyb3cgbmV3IE8wKFwic3RyZWFtXCIsdCxcIm11c3QgYmUgd3JpdGFibGVcIik7bGV0IHI9cTAodGhpcyx0KTtyZXR1cm4gZSE9bnVsbCYmZS5zaWduYWwmJkQwKGUuc2lnbmFsLHIpLHJ9ZnVuY3Rpb24gVG4odCxlKXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyB2aShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7ZSE9bnVsbCYmeXIoZSxcIm9wdGlvbnNcIiksZT8uc2lnbmFsIT1udWxsJiZncihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpO2xldCByPTE7cmV0dXJuIGU/LmNvbmN1cnJlbmN5IT1udWxsJiYocj0kMChlLmNvbmN1cnJlbmN5KSksTDAocixcImNvbmN1cnJlbmN5XCIsMSksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIG4sbztsZXQgcz1uZXcgVmgsYT10aGlzLGw9W10sYz1zLnNpZ25hbCxoPXtzaWduYWw6Y30sZD0oKT0+cy5hYm9ydCgpO2UhPW51bGwmJihuPWUuc2lnbmFsKSE9PW51bGwmJm4hPT12b2lkIDAmJm4uYWJvcnRlZCYmZCgpLGU9PW51bGx8fChvPWUuc2lnbmFsKT09PW51bGx8fG89PT12b2lkIDB8fG8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZCk7bGV0IGcseSx3PSExO2Z1bmN0aW9uIFMoKXt3PSEwO31hc3luYyBmdW5jdGlvbiBFKCl7dHJ5e2ZvciBhd2FpdChsZXQgUiBvZiBhKXt2YXIgSTtpZih3KXJldHVybjtpZihjLmFib3J0ZWQpdGhyb3cgbmV3IHN0O3RyeXtSPXQoUixoKTt9Y2F0Y2goVSl7Uj0kaChVKTt9UiE9PUluJiYodHlwZW9mKChJPVIpPT09bnVsbHx8ST09PXZvaWQgMD92b2lkIDA6SS5jYXRjaCk9PVwiZnVuY3Rpb25cIiYmUi5jYXRjaChTKSxsLnB1c2goUiksZyYmKGcoKSxnPW51bGwpLCF3JiZsLmxlbmd0aCYmbC5sZW5ndGg+PXImJmF3YWl0IG5ldyBXaChVPT57eT1VO30pKTt9bC5wdXNoKEhoKTt9Y2F0Y2goUil7bGV0IFU9JGgoUik7ejAoVSx2b2lkIDAsUyksbC5wdXNoKFUpO31maW5hbGx5e3ZhciBDO3c9ITAsZyYmKGcoKSxnPW51bGwpLGU9PW51bGx8fChDPWUuc2lnbmFsKT09PW51bGx8fEM9PT12b2lkIDB8fEMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZCk7fX1FKCk7dHJ5e2Zvcig7Oyl7Zm9yKDtsLmxlbmd0aD4wOyl7bGV0IEk9YXdhaXQgbFswXTtpZihJPT09SGgpcmV0dXJuO2lmKGMuYWJvcnRlZCl0aHJvdyBuZXcgc3Q7SSE9PUluJiYoeWllbGQgSSksbC5zaGlmdCgpLHkmJih5KCkseT1udWxsKTt9YXdhaXQgbmV3IFdoKEk9PntnPUk7fSk7fX1maW5hbGx5e3MuYWJvcnQoKSx3PSEwLHkmJih5KCkseT1udWxsKTt9fS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEcwKHQ9dm9pZCAwKXtyZXR1cm4gdCE9bnVsbCYmeXIodCxcIm9wdGlvbnNcIiksdD8uc2lnbmFsIT1udWxsJiZncih0LnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLGFzeW5jIGZ1bmN0aW9uKigpe2xldCByPTA7Zm9yIGF3YWl0KGxldCBuIG9mIHRoaXMpe3ZhciBpO2lmKHQhPW51bGwmJihpPXQuc2lnbmFsKSE9PW51bGwmJmkhPT12b2lkIDAmJmkuYWJvcnRlZCl0aHJvdyBuZXcgc3Qoe2NhdXNlOnQuc2lnbmFsLnJlYXNvbn0pO3lpZWxkIFtyKyssbl07fX0uY2FsbCh0aGlzKX1hc3luYyBmdW5jdGlvbiBLaCh0LGU9dm9pZCAwKXtmb3IgYXdhaXQobGV0IHIgb2YgTW8uY2FsbCh0aGlzLHQsZSkpcmV0dXJuICEwO3JldHVybiAhMX1hc3luYyBmdW5jdGlvbiBRMCh0LGU9dm9pZCAwKXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyB2aShcImZuXCIsW1wiRnVuY3Rpb25cIixcIkFzeW5jRnVuY3Rpb25cIl0sdCk7cmV0dXJuICFhd2FpdCBLaC5jYWxsKHRoaXMsYXN5bmMoLi4ucik9PiFhd2FpdCB0KC4uLnIpLGUpfWFzeW5jIGZ1bmN0aW9uIFkwKHQsZSl7Zm9yIGF3YWl0KGxldCByIG9mIE1vLmNhbGwodGhpcyx0LGUpKXJldHVybiByfWFzeW5jIGZ1bmN0aW9uIEowKHQsZSl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgdmkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO2FzeW5jIGZ1bmN0aW9uIHIoaSxuKXtyZXR1cm4gYXdhaXQgdChpLG4pLElufWZvciBhd2FpdChsZXQgaSBvZiBUbi5jYWxsKHRoaXMscixlKSk7fWZ1bmN0aW9uIE1vKHQsZSl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgdmkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO2FzeW5jIGZ1bmN0aW9uIHIoaSxuKXtyZXR1cm4gYXdhaXQgdChpLG4pP2k6SW59cmV0dXJuIFRuLmNhbGwodGhpcyxyLGUpfXZhciB4bz1jbGFzcyBleHRlbmRzIHgwe2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJyZWR1Y2VcIiksdGhpcy5tZXNzYWdlPVwiUmVkdWNlIG9mIGFuIGVtcHR5IHN0cmVhbSByZXF1aXJlcyBhbiBpbml0aWFsIHZhbHVlXCI7fX07YXN5bmMgZnVuY3Rpb24gWDAodCxlLHIpe3ZhciBpO2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IHZpKFwicmVkdWNlclwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO3IhPW51bGwmJnlyKHIsXCJvcHRpb25zXCIpLHI/LnNpZ25hbCE9bnVsbCYmZ3Ioci5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKTtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjE7aWYociE9bnVsbCYmKGk9ci5zaWduYWwpIT09bnVsbCYmaSE9PXZvaWQgMCYmaS5hYm9ydGVkKXtsZXQgYz1uZXcgc3Qodm9pZCAwLHtjYXVzZTpyLnNpZ25hbC5yZWFzb259KTt0aHJvdyB0aGlzLm9uY2UoXCJlcnJvclwiLCgpPT57fSksYXdhaXQgTjAodGhpcy5kZXN0cm95KGMpKSxjfWxldCBvPW5ldyBWaCxzPW8uc2lnbmFsO2lmKHIhPW51bGwmJnIuc2lnbmFsKXtsZXQgYz17b25jZTohMCxbVTBdOnRoaXN9O3Iuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT5vLmFib3J0KCksYyk7fWxldCBhPSExO3RyeXtmb3IgYXdhaXQobGV0IGMgb2YgdGhpcyl7dmFyIGw7aWYoYT0hMCxyIT1udWxsJiYobD1yLnNpZ25hbCkhPT1udWxsJiZsIT09dm9pZCAwJiZsLmFib3J0ZWQpdGhyb3cgbmV3IHN0O24/ZT1hd2FpdCB0KGUsYyx7c2lnbmFsOnN9KTooZT1jLG49ITApO31pZighYSYmIW4pdGhyb3cgbmV3IHhvfWZpbmFsbHl7by5hYm9ydCgpO31yZXR1cm4gZX1hc3luYyBmdW5jdGlvbiBaMCh0KXt0IT1udWxsJiZ5cih0LFwib3B0aW9uc1wiKSx0Py5zaWduYWwhPW51bGwmJmdyKHQuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIik7bGV0IGU9W107Zm9yIGF3YWl0KGxldCBpIG9mIHRoaXMpe3ZhciByO2lmKHQhPW51bGwmJihyPXQuc2lnbmFsKSE9PW51bGwmJnIhPT12b2lkIDAmJnIuYWJvcnRlZCl0aHJvdyBuZXcgc3Qodm9pZCAwLHtjYXVzZTp0LnNpZ25hbC5yZWFzb259KTtXMChlLGkpO31yZXR1cm4gZX1mdW5jdGlvbiBlbSh0LGUpe2xldCByPVRuLmNhbGwodGhpcyx0LGUpO3JldHVybiBhc3luYyBmdW5jdGlvbiooKXtmb3IgYXdhaXQobGV0IG4gb2Ygcil5aWVsZCpuO30uY2FsbCh0aGlzKX1mdW5jdGlvbiBHaCh0KXtpZih0PUgwKHQpLFYwKHQpKXJldHVybiAwO2lmKHQ8MCl0aHJvdyBuZXcgTTAoXCJudW1iZXJcIixcIj49IDBcIix0KTtyZXR1cm4gdH1mdW5jdGlvbiB0bSh0LGU9dm9pZCAwKXtyZXR1cm4gZSE9bnVsbCYmeXIoZSxcIm9wdGlvbnNcIiksZT8uc2lnbmFsIT1udWxsJiZncihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLHQ9R2godCksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIGk7aWYoZSE9bnVsbCYmKGk9ZS5zaWduYWwpIT09bnVsbCYmaSE9PXZvaWQgMCYmaS5hYm9ydGVkKXRocm93IG5ldyBzdDtmb3IgYXdhaXQobGV0IG8gb2YgdGhpcyl7dmFyIG47aWYoZSE9bnVsbCYmKG49ZS5zaWduYWwpIT09bnVsbCYmbiE9PXZvaWQgMCYmbi5hYm9ydGVkKXRocm93IG5ldyBzdDt0LS08PTAmJih5aWVsZCBvKTt9fS5jYWxsKHRoaXMpfWZ1bmN0aW9uIHJtKHQsZT12b2lkIDApe3JldHVybiBlIT1udWxsJiZ5cihlLFwib3B0aW9uc1wiKSxlPy5zaWduYWwhPW51bGwmJmdyKGUuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIiksdD1HaCh0KSxhc3luYyBmdW5jdGlvbiooKXt2YXIgaTtpZihlIT1udWxsJiYoaT1lLnNpZ25hbCkhPT1udWxsJiZpIT09dm9pZCAwJiZpLmFib3J0ZWQpdGhyb3cgbmV3IHN0O2ZvciBhd2FpdChsZXQgbyBvZiB0aGlzKXt2YXIgbjtpZihlIT1udWxsJiYobj1lLnNpZ25hbCkhPT1udWxsJiZuIT09dm9pZCAwJiZuLmFib3J0ZWQpdGhyb3cgbmV3IHN0O2lmKHQtLSA+MCl5aWVsZCBvO2Vsc2UgcmV0dXJufX0uY2FsbCh0aGlzKX1Mby5leHBvcnRzLnN0cmVhbVJldHVybmluZ09wZXJhdG9ycz17YXNJbmRleGVkUGFpcnM6RzAsZHJvcDp0bSxmaWx0ZXI6TW8sZmxhdE1hcDplbSxtYXA6VG4sdGFrZTpybSxjb21wb3NlOkswfTtMby5leHBvcnRzLnByb21pc2VSZXR1cm5pbmdPcGVyYXRvcnM9e2V2ZXJ5OlEwLGZvckVhY2g6SjAscmVkdWNlOlgwLHRvQXJyYXk6WjAsc29tZTpLaCxmaW5kOlkwfTt9KTt2YXIgVW89TSgoVUMsWWgpPT57XygpO3YoKTttKCk7dmFye0FycmF5UHJvdG90eXBlUG9wOmltLFByb21pc2U6bm19PWNlKCkse2lzSXRlcmFibGU6c20saXNOb2RlU3RyZWFtOm9tLGlzV2ViU3RyZWFtOmFtfT10dCgpLHtwaXBlbGluZUltcGw6bG19PUVuKCkse2ZpbmlzaGVkOnVtfT12dCgpO05vKCk7ZnVuY3Rpb24gZm0oLi4udCl7cmV0dXJuIG5ldyBubSgoZSxyKT0+e2xldCBpLG4sbz10W3QubGVuZ3RoLTFdO2lmKG8mJnR5cGVvZiBvPT1cIm9iamVjdFwiJiYhb20obykmJiFzbShvKSYmIWFtKG8pKXtsZXQgcz1pbSh0KTtpPXMuc2lnbmFsLG49cy5lbmQ7fWxtKHQsKHMsYSk9PntzP3Iocyk6ZShhKTt9LHtzaWduYWw6aSxlbmQ6bn0pO30pfVloLmV4cG9ydHM9e2ZpbmlzaGVkOnVtLHBpcGVsaW5lOmZtfTt9KTt2YXIgTm89TSgoekMsc2QpPT57XygpO3YoKTttKCk7dmFye0J1ZmZlcjpjbX09KGJlKCksWChtZSkpLHtPYmplY3REZWZpbmVQcm9wZXJ0eTpSdCxPYmplY3RLZXlzOlpoLFJlZmxlY3RBcHBseTplZH09Y2UoKSx7cHJvbWlzaWZ5OntjdXN0b206dGR9fT1KZSgpLHtzdHJlYW1SZXR1cm5pbmdPcGVyYXRvcnM6SmgscHJvbWlzZVJldHVybmluZ09wZXJhdG9yczpYaH09UWgoKSx7Y29kZXM6e0VSUl9JTExFR0FMX0NPTlNUUlVDVE9SOnJkfX09QWUoKSxobT1PbygpLHtwaXBlbGluZTppZH09RW4oKSx7ZGVzdHJveWVyOmRtfT1pcigpLG5kPXZ0KCkscW89VW8oKSxEbz10dCgpLGxlPXNkLmV4cG9ydHM9bm4oKS5TdHJlYW07bGUuaXNEaXN0dXJiZWQ9RG8uaXNEaXN0dXJiZWQ7bGUuaXNFcnJvcmVkPURvLmlzRXJyb3JlZDtsZS5pc1JlYWRhYmxlPURvLmlzUmVhZGFibGU7bGUuUmVhZGFibGU9Z2koKTtmb3IobGV0IHQgb2YgWmgoSmgpKXtsZXQgcj1mdW5jdGlvbiguLi5pKXtpZihuZXcudGFyZ2V0KXRocm93IHJkKCk7cmV0dXJuIGxlLlJlYWRhYmxlLmZyb20oZWQoZSx0aGlzLGkpKX07bGV0IGU9SmhbdF07UnQocixcIm5hbWVcIix7X19wcm90b19fOm51bGwsdmFsdWU6ZS5uYW1lfSksUnQocixcImxlbmd0aFwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTplLmxlbmd0aH0pLFJ0KGxlLlJlYWRhYmxlLnByb3RvdHlwZSx0LHtfX3Byb3RvX186bnVsbCx2YWx1ZTpyLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk7fWZvcihsZXQgdCBvZiBaaChYaCkpe2xldCByPWZ1bmN0aW9uKC4uLm4pe2lmKG5ldy50YXJnZXQpdGhyb3cgcmQoKTtyZXR1cm4gZWQoZSx0aGlzLG4pfTtsZXQgZT1YaFt0XTtSdChyLFwibmFtZVwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTplLm5hbWV9KSxSdChyLFwibGVuZ3RoXCIse19fcHJvdG9fXzpudWxsLHZhbHVlOmUubGVuZ3RofSksUnQobGUuUmVhZGFibGUucHJvdG90eXBlLHQse19fcHJvdG9fXzpudWxsLHZhbHVlOnIsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTt9bGUuV3JpdGFibGU9aG8oKTtsZS5EdXBsZXg9bnQoKTtsZS5UcmFuc2Zvcm09bW8oKTtsZS5QYXNzVGhyb3VnaD1FbygpO2xlLnBpcGVsaW5lPWlkO3ZhcnthZGRBYm9ydFNpZ25hbDpwbX09ZGkoKTtsZS5hZGRBYm9ydFNpZ25hbD1wbTtsZS5maW5pc2hlZD1uZDtsZS5kZXN0cm95PWRtO2xlLmNvbXBvc2U9aG07UnQobGUsXCJwcm9taXNlc1wiLHtfX3Byb3RvX186bnVsbCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQoKXtyZXR1cm4gcW99fSk7UnQoaWQsdGQse19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITAsZ2V0KCl7cmV0dXJuIHFvLnBpcGVsaW5lfX0pO1J0KG5kLHRkLHtfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiEwLGdldCgpe3JldHVybiBxby5maW5pc2hlZH19KTtsZS5TdHJlYW09bGU7bGUuX2lzVWludDhBcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl9O2xlLl91aW50OEFycmF5VG9CdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGNtLmZyb20oZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9O30pO3ZhciBqdD1NKChyQix1ZSk9PntfKCk7digpO20oKTt2YXIgaGU9Tm8oKSxnbT1VbygpLHltPWhlLlJlYWRhYmxlLmRlc3Ryb3k7dWUuZXhwb3J0cz1oZS5SZWFkYWJsZTt1ZS5leHBvcnRzLl91aW50OEFycmF5VG9CdWZmZXI9aGUuX3VpbnQ4QXJyYXlUb0J1ZmZlcjt1ZS5leHBvcnRzLl9pc1VpbnQ4QXJyYXk9aGUuX2lzVWludDhBcnJheTt1ZS5leHBvcnRzLmlzRGlzdHVyYmVkPWhlLmlzRGlzdHVyYmVkO3VlLmV4cG9ydHMuaXNFcnJvcmVkPWhlLmlzRXJyb3JlZDt1ZS5leHBvcnRzLmlzUmVhZGFibGU9aGUuaXNSZWFkYWJsZTt1ZS5leHBvcnRzLlJlYWRhYmxlPWhlLlJlYWRhYmxlO3VlLmV4cG9ydHMuV3JpdGFibGU9aGUuV3JpdGFibGU7dWUuZXhwb3J0cy5EdXBsZXg9aGUuRHVwbGV4O3VlLmV4cG9ydHMuVHJhbnNmb3JtPWhlLlRyYW5zZm9ybTt1ZS5leHBvcnRzLlBhc3NUaHJvdWdoPWhlLlBhc3NUaHJvdWdoO3VlLmV4cG9ydHMuYWRkQWJvcnRTaWduYWw9aGUuYWRkQWJvcnRTaWduYWw7dWUuZXhwb3J0cy5maW5pc2hlZD1oZS5maW5pc2hlZDt1ZS5leHBvcnRzLmRlc3Ryb3k9aGUuZGVzdHJveTt1ZS5leHBvcnRzLmRlc3Ryb3k9eW07dWUuZXhwb3J0cy5waXBlbGluZT1oZS5waXBlbGluZTt1ZS5leHBvcnRzLmNvbXBvc2U9aGUuY29tcG9zZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaGUsXCJwcm9taXNlc1wiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQoKXtyZXR1cm4gZ219fSk7dWUuZXhwb3J0cy5TdHJlYW09aGUuU3RyZWFtO3VlLmV4cG9ydHMuZGVmYXVsdD11ZS5leHBvcnRzO30pO3ZhciBvZD1NKChoQixGbyk9PntfKCk7digpO20oKTt0eXBlb2YgT2JqZWN0LmNyZWF0ZT09XCJmdW5jdGlvblwiP0ZvLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXtyJiYoZS5zdXBlcl89cixlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSk7fTpGby5leHBvcnRzPWZ1bmN0aW9uKGUscil7aWYocil7ZS5zdXBlcl89cjt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9ci5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IGksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt9fTt9KTt2YXIgdWQ9TSgoRUIsbGQpPT57XygpO3YoKTttKCk7dmFye0J1ZmZlcjp6ZX09KGJlKCksWChtZSkpLGFkPVN5bWJvbC5mb3IoXCJCdWZmZXJMaXN0XCIpO2Z1bmN0aW9uIGVlKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGVlKSlyZXR1cm4gbmV3IGVlKHQpO2VlLl9pbml0LmNhbGwodGhpcyx0KTt9ZWUuX2luaXQ9ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsYWQse3ZhbHVlOiEwfSksdGhpcy5fYnVmcz1bXSx0aGlzLmxlbmd0aD0wLGUmJnRoaXMuYXBwZW5kKGUpO307ZWUucHJvdG90eXBlLl9uZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBlZShlKX07ZWUucHJvdG90eXBlLl9vZmZzZXQ9ZnVuY3Rpb24oZSl7aWYoZT09PTApcmV0dXJuIFswLDBdO2xldCByPTA7Zm9yKGxldCBpPTA7aTx0aGlzLl9idWZzLmxlbmd0aDtpKyspe2xldCBuPXIrdGhpcy5fYnVmc1tpXS5sZW5ndGg7aWYoZTxufHxpPT09dGhpcy5fYnVmcy5sZW5ndGgtMSlyZXR1cm4gW2ksZS1yXTtyPW47fX07ZWUucHJvdG90eXBlLl9yZXZlcnNlT2Zmc2V0PWZ1bmN0aW9uKHQpe2xldCBlPXRbMF0scj10WzFdO2ZvcihsZXQgaT0wO2k8ZTtpKyspcis9dGhpcy5fYnVmc1tpXS5sZW5ndGg7cmV0dXJuIHJ9O2VlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYoZT50aGlzLmxlbmd0aHx8ZTwwKXJldHVybjtsZXQgcj10aGlzLl9vZmZzZXQoZSk7cmV0dXJuIHRoaXMuX2J1ZnNbclswXV1bclsxXV19O2VlLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHIpe3JldHVybiB0eXBlb2YgZT09XCJudW1iZXJcIiYmZTwwJiYoZSs9dGhpcy5sZW5ndGgpLHR5cGVvZiByPT1cIm51bWJlclwiJiZyPDAmJihyKz10aGlzLmxlbmd0aCksdGhpcy5jb3B5KG51bGwsMCxlLHIpfTtlZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbihlLHIsaSxuKXtpZigodHlwZW9mIGkhPVwibnVtYmVyXCJ8fGk8MCkmJihpPTApLCh0eXBlb2YgbiE9XCJudW1iZXJcInx8bj50aGlzLmxlbmd0aCkmJihuPXRoaXMubGVuZ3RoKSxpPj10aGlzLmxlbmd0aHx8bjw9MClyZXR1cm4gZXx8emUuYWxsb2MoMCk7bGV0IG89ISFlLHM9dGhpcy5fb2Zmc2V0KGkpLGE9bi1pLGw9YSxjPW8mJnJ8fDAsaD1zWzFdO2lmKGk9PT0wJiZuPT09dGhpcy5sZW5ndGgpe2lmKCFvKXJldHVybiB0aGlzLl9idWZzLmxlbmd0aD09PTE/dGhpcy5fYnVmc1swXTp6ZS5jb25jYXQodGhpcy5fYnVmcyx0aGlzLmxlbmd0aCk7Zm9yKGxldCBkPTA7ZDx0aGlzLl9idWZzLmxlbmd0aDtkKyspdGhpcy5fYnVmc1tkXS5jb3B5KGUsYyksYys9dGhpcy5fYnVmc1tkXS5sZW5ndGg7cmV0dXJuIGV9aWYobDw9dGhpcy5fYnVmc1tzWzBdXS5sZW5ndGgtaClyZXR1cm4gbz90aGlzLl9idWZzW3NbMF1dLmNvcHkoZSxyLGgsaCtsKTp0aGlzLl9idWZzW3NbMF1dLnNsaWNlKGgsaCtsKTtvfHwoZT16ZS5hbGxvY1Vuc2FmZShhKSk7Zm9yKGxldCBkPXNbMF07ZDx0aGlzLl9idWZzLmxlbmd0aDtkKyspe2xldCBnPXRoaXMuX2J1ZnNbZF0ubGVuZ3RoLWg7aWYobD5nKXRoaXMuX2J1ZnNbZF0uY29weShlLGMsaCksYys9ZztlbHNlIHt0aGlzLl9idWZzW2RdLmNvcHkoZSxjLGgsaCtsKSxjKz1nO2JyZWFrfWwtPWcsaCYmKGg9MCk7fXJldHVybiBlLmxlbmd0aD5jP2Uuc2xpY2UoMCxjKTplfTtlZS5wcm90b3R5cGUuc2hhbGxvd1NsaWNlPWZ1bmN0aW9uKGUscil7aWYoZT1lfHwwLHI9dHlwZW9mIHIhPVwibnVtYmVyXCI/dGhpcy5sZW5ndGg6cixlPDAmJihlKz10aGlzLmxlbmd0aCkscjwwJiYocis9dGhpcy5sZW5ndGgpLGU9PT1yKXJldHVybiB0aGlzLl9uZXcoKTtsZXQgaT10aGlzLl9vZmZzZXQoZSksbj10aGlzLl9vZmZzZXQociksbz10aGlzLl9idWZzLnNsaWNlKGlbMF0sblswXSsxKTtyZXR1cm4gblsxXT09PTA/by5wb3AoKTpvW28ubGVuZ3RoLTFdPW9bby5sZW5ndGgtMV0uc2xpY2UoMCxuWzFdKSxpWzFdIT09MCYmKG9bMF09b1swXS5zbGljZShpWzFdKSksdGhpcy5fbmV3KG8pfTtlZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oZSxyLGkpe3JldHVybiB0aGlzLnNsaWNlKHIsaSkudG9TdHJpbmcoZSl9O2VlLnByb3RvdHlwZS5jb25zdW1lPWZ1bmN0aW9uKGUpe2lmKGU9TWF0aC50cnVuYyhlKSxOdW1iZXIuaXNOYU4oZSl8fGU8PTApcmV0dXJuIHRoaXM7Zm9yKDt0aGlzLl9idWZzLmxlbmd0aDspaWYoZT49dGhpcy5fYnVmc1swXS5sZW5ndGgpZS09dGhpcy5fYnVmc1swXS5sZW5ndGgsdGhpcy5sZW5ndGgtPXRoaXMuX2J1ZnNbMF0ubGVuZ3RoLHRoaXMuX2J1ZnMuc2hpZnQoKTtlbHNlIHt0aGlzLl9idWZzWzBdPXRoaXMuX2J1ZnNbMF0uc2xpY2UoZSksdGhpcy5sZW5ndGgtPWU7YnJlYWt9cmV0dXJuIHRoaXN9O2VlLnByb3RvdHlwZS5kdXBsaWNhdGU9ZnVuY3Rpb24oKXtsZXQgZT10aGlzLl9uZXcoKTtmb3IobGV0IHI9MDtyPHRoaXMuX2J1ZnMubGVuZ3RoO3IrKyllLmFwcGVuZCh0aGlzLl9idWZzW3JdKTtyZXR1cm4gZX07ZWUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtpZihlPT1udWxsKXJldHVybiB0aGlzO2lmKGUuYnVmZmVyKXRoaXMuX2FwcGVuZEJ1ZmZlcih6ZS5mcm9tKGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpZm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5hcHBlbmQoZVtyXSk7ZWxzZSBpZih0aGlzLl9pc0J1ZmZlckxpc3QoZSkpZm9yKGxldCByPTA7cjxlLl9idWZzLmxlbmd0aDtyKyspdGhpcy5hcHBlbmQoZS5fYnVmc1tyXSk7ZWxzZSB0eXBlb2YgZT09XCJudW1iZXJcIiYmKGU9ZS50b1N0cmluZygpKSx0aGlzLl9hcHBlbmRCdWZmZXIoemUuZnJvbShlKSk7cmV0dXJuIHRoaXN9O2VlLnByb3RvdHlwZS5fYXBwZW5kQnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZnMucHVzaChlKSx0aGlzLmxlbmd0aCs9ZS5sZW5ndGg7fTtlZS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0LGUscil7aWYocj09PXZvaWQgMCYmdHlwZW9mIGU9PVwic3RyaW5nXCImJihyPWUsZT12b2lkIDApLHR5cGVvZiB0PT1cImZ1bmN0aW9uXCJ8fEFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBCdWZmZXJMaXN0LCBvciBVaW50OEFycmF5LicpO2lmKHR5cGVvZiB0PT1cIm51bWJlclwiP3Q9emUuZnJvbShbdF0pOnR5cGVvZiB0PT1cInN0cmluZ1wiP3Q9emUuZnJvbSh0LHIpOnRoaXMuX2lzQnVmZmVyTGlzdCh0KT90PXQuc2xpY2UoKTpBcnJheS5pc0FycmF5KHQuYnVmZmVyKT90PXplLmZyb20odC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk6emUuaXNCdWZmZXIodCl8fCh0PXplLmZyb20odCkpLGU9TnVtYmVyKGV8fDApLGlzTmFOKGUpJiYoZT0wKSxlPDAmJihlPXRoaXMubGVuZ3RoK2UpLGU8MCYmKGU9MCksdC5sZW5ndGg9PT0wKXJldHVybiBlPnRoaXMubGVuZ3RoP3RoaXMubGVuZ3RoOmU7bGV0IGk9dGhpcy5fb2Zmc2V0KGUpLG49aVswXSxvPWlbMV07Zm9yKDtuPHRoaXMuX2J1ZnMubGVuZ3RoO24rKyl7bGV0IHM9dGhpcy5fYnVmc1tuXTtmb3IoO288cy5sZW5ndGg7KWlmKHMubGVuZ3RoLW8+PXQubGVuZ3RoKXtsZXQgbD1zLmluZGV4T2YodCxvKTtpZihsIT09LTEpcmV0dXJuIHRoaXMuX3JldmVyc2VPZmZzZXQoW24sbF0pO289cy5sZW5ndGgtdC5sZW5ndGgrMTt9ZWxzZSB7bGV0IGw9dGhpcy5fcmV2ZXJzZU9mZnNldChbbixvXSk7aWYodGhpcy5fbWF0Y2gobCx0KSlyZXR1cm4gbDtvKys7fW89MDt9cmV0dXJuIC0xfTtlZS5wcm90b3R5cGUuX21hdGNoPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5sZW5ndGgtdDxlLmxlbmd0aClyZXR1cm4gITE7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYodGhpcy5nZXQodCtyKSE9PWVbcl0pcmV0dXJuICExO3JldHVybiAhMH07KGZ1bmN0aW9uKCl7bGV0IHQ9e3JlYWREb3VibGVCRTo4LHJlYWREb3VibGVMRTo4LHJlYWRGbG9hdEJFOjQscmVhZEZsb2F0TEU6NCxyZWFkQmlnSW50NjRCRTo4LHJlYWRCaWdJbnQ2NExFOjgscmVhZEJpZ1VJbnQ2NEJFOjgscmVhZEJpZ1VJbnQ2NExFOjgscmVhZEludDMyQkU6NCxyZWFkSW50MzJMRTo0LHJlYWRVSW50MzJCRTo0LHJlYWRVSW50MzJMRTo0LHJlYWRJbnQxNkJFOjIscmVhZEludDE2TEU6MixyZWFkVUludDE2QkU6MixyZWFkVUludDE2TEU6MixyZWFkSW50ODoxLHJlYWRVSW50ODoxLHJlYWRJbnRCRTpudWxsLHJlYWRJbnRMRTpudWxsLHJlYWRVSW50QkU6bnVsbCxyZWFkVUludExFOm51bGx9O2ZvcihsZXQgZSBpbiB0KShmdW5jdGlvbihyKXt0W3JdPT09bnVsbD9lZS5wcm90b3R5cGVbcl09ZnVuY3Rpb24oaSxuKXtyZXR1cm4gdGhpcy5zbGljZShpLGkrbilbcl0oMCxuKX06ZWUucHJvdG90eXBlW3JdPWZ1bmN0aW9uKGk9MCl7cmV0dXJuIHRoaXMuc2xpY2UoaSxpK3Rbcl0pW3JdKDApfTt9KShlKTt9KSgpO2VlLnByb3RvdHlwZS5faXNCdWZmZXJMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZWV8fGVlLmlzQnVmZmVyTGlzdChlKX07ZWUuaXNCdWZmZXJMaXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsJiZlW2FkXX07bGQuZXhwb3J0cz1lZTt9KTt2YXIgZmQ9TSgoT0IsUm4pPT57XygpO3YoKTttKCk7dmFyIFdvPWp0KCkuRHVwbGV4LGJtPW9kKCksRWk9dWQoKTtmdW5jdGlvbiBTZSh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTZSkpcmV0dXJuIG5ldyBTZSh0KTtpZih0eXBlb2YgdD09XCJmdW5jdGlvblwiKXt0aGlzLl9jYWxsYmFjaz10O2xldCBlPWZ1bmN0aW9uKGkpe3RoaXMuX2NhbGxiYWNrJiYodGhpcy5fY2FsbGJhY2soaSksdGhpcy5fY2FsbGJhY2s9bnVsbCk7fS5iaW5kKHRoaXMpO3RoaXMub24oXCJwaXBlXCIsZnVuY3Rpb24oaSl7aS5vbihcImVycm9yXCIsZSk7fSksdGhpcy5vbihcInVucGlwZVwiLGZ1bmN0aW9uKGkpe2kucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGUpO30pLHQ9bnVsbDt9RWkuX2luaXQuY2FsbCh0aGlzLHQpLFdvLmNhbGwodGhpcyk7fWJtKFNlLFdvKTtPYmplY3QuYXNzaWduKFNlLnByb3RvdHlwZSxFaS5wcm90b3R5cGUpO1NlLnByb3RvdHlwZS5fbmV3PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgU2UoZSl9O1NlLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSxyLGkpe3RoaXMuX2FwcGVuZEJ1ZmZlcihlKSx0eXBlb2YgaT09XCJmdW5jdGlvblwiJiZpKCk7fTtTZS5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oZSl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzLnB1c2gobnVsbCk7ZT1NYXRoLm1pbihlLHRoaXMubGVuZ3RoKSx0aGlzLnB1c2godGhpcy5zbGljZSgwLGUpKSx0aGlzLmNvbnN1bWUoZSk7fTtTZS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe1dvLnByb3RvdHlwZS5lbmQuY2FsbCh0aGlzLGUpLHRoaXMuX2NhbGxiYWNrJiYodGhpcy5fY2FsbGJhY2sobnVsbCx0aGlzLnNsaWNlKCkpLHRoaXMuX2NhbGxiYWNrPW51bGwpO307U2UucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGUscil7dGhpcy5fYnVmcy5sZW5ndGg9MCx0aGlzLmxlbmd0aD0wLHIoZSk7fTtTZS5wcm90b3R5cGUuX2lzQnVmZmVyTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFNlfHxlIGluc3RhbmNlb2YgRWl8fFNlLmlzQnVmZmVyTGlzdChlKX07U2UuaXNCdWZmZXJMaXN0PUVpLmlzQnVmZmVyTGlzdDtSbi5leHBvcnRzPVNlO1JuLmV4cG9ydHMuQnVmZmVyTGlzdFN0cmVhbT1TZTtSbi5leHBvcnRzLkJ1ZmZlckxpc3Q9RWk7fSk7dmFyIGhkPU0oKFdCLGNkKT0+e18oKTt2KCk7bSgpO3ZhciAkbz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuY21kPW51bGwsdGhpcy5yZXRhaW49ITEsdGhpcy5xb3M9MCx0aGlzLmR1cD0hMSx0aGlzLmxlbmd0aD0tMSx0aGlzLnRvcGljPW51bGwsdGhpcy5wYXlsb2FkPW51bGw7fX07Y2QuZXhwb3J0cz0kbzt9KTt2YXIgSG89TSgoWEIsZGQpPT57XygpO3YoKTttKCk7dmFyIEw9ZGQuZXhwb3J0cyx7QnVmZmVyOmtlfT0oYmUoKSxYKG1lKSk7TC50eXBlcz17MDpcInJlc2VydmVkXCIsMTpcImNvbm5lY3RcIiwyOlwiY29ubmFja1wiLDM6XCJwdWJsaXNoXCIsNDpcInB1YmFja1wiLDU6XCJwdWJyZWNcIiw2OlwicHVicmVsXCIsNzpcInB1YmNvbXBcIiw4Olwic3Vic2NyaWJlXCIsOTpcInN1YmFja1wiLDEwOlwidW5zdWJzY3JpYmVcIiwxMTpcInVuc3ViYWNrXCIsMTI6XCJwaW5ncmVxXCIsMTM6XCJwaW5ncmVzcFwiLDE0OlwiZGlzY29ubmVjdFwiLDE1OlwiYXV0aFwifTtMLnJlcXVpcmVkSGVhZGVyRmxhZ3M9ezE6MCwyOjAsNDowLDU6MCw2OjIsNzowLDg6Miw5OjAsMTA6MiwxMTowLDEyOjAsMTM6MCwxNDowLDE1OjB9O0wucmVxdWlyZWRIZWFkZXJGbGFnc0Vycm9ycz17fTtmb3IobGV0IHQgaW4gTC5yZXF1aXJlZEhlYWRlckZsYWdzKXtsZXQgZT1MLnJlcXVpcmVkSGVhZGVyRmxhZ3NbdF07TC5yZXF1aXJlZEhlYWRlckZsYWdzRXJyb3JzW3RdPVwiSW52YWxpZCBoZWFkZXIgZmxhZyBiaXRzLCBtdXN0IGJlIDB4XCIrZS50b1N0cmluZygxNikrXCIgZm9yIFwiK0wudHlwZXNbdF0rXCIgcGFja2V0XCI7fUwuY29kZXM9e307Zm9yKGxldCB0IGluIEwudHlwZXMpe2xldCBlPUwudHlwZXNbdF07TC5jb2Rlc1tlXT10O31MLkNNRF9TSElGVD00O0wuQ01EX01BU0s9MjQwO0wuRFVQX01BU0s9ODtMLlFPU19NQVNLPTM7TC5RT1NfU0hJRlQ9MTtMLlJFVEFJTl9NQVNLPTE7TC5WQVJCWVRFSU5UX01BU0s9MTI3O0wuVkFSQllURUlOVF9GSU5fTUFTSz0xMjg7TC5WQVJCWVRFSU5UX01BWD0yNjg0MzU0NTU7TC5TRVNTSU9OUFJFU0VOVF9NQVNLPTE7TC5TRVNTSU9OUFJFU0VOVF9IRUFERVI9a2UuZnJvbShbTC5TRVNTSU9OUFJFU0VOVF9NQVNLXSk7TC5DT05OQUNLX0hFQURFUj1rZS5mcm9tKFtMLmNvZGVzLmNvbm5hY2s8PEwuQ01EX1NISUZUXSk7TC5VU0VSTkFNRV9NQVNLPTEyODtMLlBBU1NXT1JEX01BU0s9NjQ7TC5XSUxMX1JFVEFJTl9NQVNLPTMyO0wuV0lMTF9RT1NfTUFTSz0yNDtMLldJTExfUU9TX1NISUZUPTM7TC5XSUxMX0ZMQUdfTUFTSz00O0wuQ0xFQU5fU0VTU0lPTl9NQVNLPTI7TC5DT05ORUNUX0hFQURFUj1rZS5mcm9tKFtMLmNvZGVzLmNvbm5lY3Q8PEwuQ01EX1NISUZUXSk7TC5wcm9wZXJ0aWVzPXtzZXNzaW9uRXhwaXJ5SW50ZXJ2YWw6MTcsd2lsbERlbGF5SW50ZXJ2YWw6MjQscmVjZWl2ZU1heGltdW06MzMsbWF4aW11bVBhY2tldFNpemU6MzksdG9waWNBbGlhc01heGltdW06MzQscmVxdWVzdFJlc3BvbnNlSW5mb3JtYXRpb246MjUscmVxdWVzdFByb2JsZW1JbmZvcm1hdGlvbjoyMyx1c2VyUHJvcGVydGllczozOCxhdXRoZW50aWNhdGlvbk1ldGhvZDoyMSxhdXRoZW50aWNhdGlvbkRhdGE6MjIscGF5bG9hZEZvcm1hdEluZGljYXRvcjoxLG1lc3NhZ2VFeHBpcnlJbnRlcnZhbDoyLGNvbnRlbnRUeXBlOjMscmVzcG9uc2VUb3BpYzo4LGNvcnJlbGF0aW9uRGF0YTo5LG1heGltdW1Rb1M6MzYscmV0YWluQXZhaWxhYmxlOjM3LGFzc2lnbmVkQ2xpZW50SWRlbnRpZmllcjoxOCxyZWFzb25TdHJpbmc6MzEsd2lsZGNhcmRTdWJzY3JpcHRpb25BdmFpbGFibGU6NDAsc3Vic2NyaXB0aW9uSWRlbnRpZmllcnNBdmFpbGFibGU6NDEsc2hhcmVkU3Vic2NyaXB0aW9uQXZhaWxhYmxlOjQyLHNlcnZlcktlZXBBbGl2ZToxOSxyZXNwb25zZUluZm9ybWF0aW9uOjI2LHNlcnZlclJlZmVyZW5jZToyOCx0b3BpY0FsaWFzOjM1LHN1YnNjcmlwdGlvbklkZW50aWZpZXI6MTF9O0wucHJvcGVydGllc0NvZGVzPXt9O2ZvcihsZXQgdCBpbiBMLnByb3BlcnRpZXMpe2xldCBlPUwucHJvcGVydGllc1t0XTtMLnByb3BlcnRpZXNDb2Rlc1tlXT10O31MLnByb3BlcnRpZXNUeXBlcz17c2Vzc2lvbkV4cGlyeUludGVydmFsOlwiaW50MzJcIix3aWxsRGVsYXlJbnRlcnZhbDpcImludDMyXCIscmVjZWl2ZU1heGltdW06XCJpbnQxNlwiLG1heGltdW1QYWNrZXRTaXplOlwiaW50MzJcIix0b3BpY0FsaWFzTWF4aW11bTpcImludDE2XCIscmVxdWVzdFJlc3BvbnNlSW5mb3JtYXRpb246XCJieXRlXCIscmVxdWVzdFByb2JsZW1JbmZvcm1hdGlvbjpcImJ5dGVcIix1c2VyUHJvcGVydGllczpcInBhaXJcIixhdXRoZW50aWNhdGlvbk1ldGhvZDpcInN0cmluZ1wiLGF1dGhlbnRpY2F0aW9uRGF0YTpcImJpbmFyeVwiLHBheWxvYWRGb3JtYXRJbmRpY2F0b3I6XCJieXRlXCIsbWVzc2FnZUV4cGlyeUludGVydmFsOlwiaW50MzJcIixjb250ZW50VHlwZTpcInN0cmluZ1wiLHJlc3BvbnNlVG9waWM6XCJzdHJpbmdcIixjb3JyZWxhdGlvbkRhdGE6XCJiaW5hcnlcIixtYXhpbXVtUW9TOlwiaW50OFwiLHJldGFpbkF2YWlsYWJsZTpcImJ5dGVcIixhc3NpZ25lZENsaWVudElkZW50aWZpZXI6XCJzdHJpbmdcIixyZWFzb25TdHJpbmc6XCJzdHJpbmdcIix3aWxkY2FyZFN1YnNjcmlwdGlvbkF2YWlsYWJsZTpcImJ5dGVcIixzdWJzY3JpcHRpb25JZGVudGlmaWVyc0F2YWlsYWJsZTpcImJ5dGVcIixzaGFyZWRTdWJzY3JpcHRpb25BdmFpbGFibGU6XCJieXRlXCIsc2VydmVyS2VlcEFsaXZlOlwiaW50MTZcIixyZXNwb25zZUluZm9ybWF0aW9uOlwic3RyaW5nXCIsc2VydmVyUmVmZXJlbmNlOlwic3RyaW5nXCIsdG9waWNBbGlhczpcImludDE2XCIsc3Vic2NyaXB0aW9uSWRlbnRpZmllcjpcInZhclwifTtmdW5jdGlvbiBGdCh0KXtyZXR1cm4gWzAsMSwyXS5tYXAoZT0+WzAsMV0ubWFwKHI9PlswLDFdLm1hcChpPT57bGV0IG49a2UuYWxsb2MoMSk7cmV0dXJuIG4ud3JpdGVVSW50OChMLmNvZGVzW3RdPDxMLkNNRF9TSElGVHwocj9MLkRVUF9NQVNLOjApfGU8PEwuUU9TX1NISUZUfGksMCwhMCksbn0pKSl9TC5QVUJMSVNIX0hFQURFUj1GdChcInB1Ymxpc2hcIik7TC5TVUJTQ1JJQkVfSEVBREVSPUZ0KFwic3Vic2NyaWJlXCIpO0wuU1VCU0NSSUJFX09QVElPTlNfUU9TX01BU0s9MztMLlNVQlNDUklCRV9PUFRJT05TX05MX01BU0s9MTtMLlNVQlNDUklCRV9PUFRJT05TX05MX1NISUZUPTI7TC5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfTUFTSz0xO0wuU1VCU0NSSUJFX09QVElPTlNfUkFQX1NISUZUPTM7TC5TVUJTQ1JJQkVfT1BUSU9OU19SSF9NQVNLPTM7TC5TVUJTQ1JJQkVfT1BUSU9OU19SSF9TSElGVD00O0wuU1VCU0NSSUJFX09QVElPTlNfUkg9WzAsMTYsMzJdO0wuU1VCU0NSSUJFX09QVElPTlNfTkw9NDtMLlNVQlNDUklCRV9PUFRJT05TX1JBUD04O0wuU1VCU0NSSUJFX09QVElPTlNfUU9TPVswLDEsMl07TC5VTlNVQlNDUklCRV9IRUFERVI9RnQoXCJ1bnN1YnNjcmliZVwiKTtMLkFDS1M9e3Vuc3ViYWNrOkZ0KFwidW5zdWJhY2tcIikscHViYWNrOkZ0KFwicHViYWNrXCIpLHB1YmNvbXA6RnQoXCJwdWJjb21wXCIpLHB1YnJlbDpGdChcInB1YnJlbFwiKSxwdWJyZWM6RnQoXCJwdWJyZWNcIil9O0wuU1VCQUNLX0hFQURFUj1rZS5mcm9tKFtMLmNvZGVzLnN1YmFjazw8TC5DTURfU0hJRlRdKTtMLlZFUlNJT04zPWtlLmZyb20oWzNdKTtMLlZFUlNJT040PWtlLmZyb20oWzRdKTtMLlZFUlNJT041PWtlLmZyb20oWzVdKTtMLlZFUlNJT04xMzE9a2UuZnJvbShbMTMxXSk7TC5WRVJTSU9OMTMyPWtlLmZyb20oWzEzMl0pO0wuUU9TPVswLDEsMl0ubWFwKHQ9PmtlLmZyb20oW3RdKSk7TC5FTVBUWT17cGluZ3JlcTprZS5mcm9tKFtMLmNvZGVzLnBpbmdyZXE8PDQsMF0pLHBpbmdyZXNwOmtlLmZyb20oW0wuY29kZXMucGluZ3Jlc3A8PDQsMF0pLGRpc2Nvbm5lY3Q6a2UuZnJvbShbTC5jb2Rlcy5kaXNjb25uZWN0PDw0LDBdKX07TC5NUVRUNV9QVUJBQ0tfUFVCUkVDX0NPREVTPXswOlwiU3VjY2Vzc1wiLDE2OlwiTm8gbWF0Y2hpbmcgc3Vic2NyaWJlcnNcIiwxMjg6XCJVbnNwZWNpZmllZCBlcnJvclwiLDEzMTpcIkltcGxlbWVudGF0aW9uIHNwZWNpZmljIGVycm9yXCIsMTM1OlwiTm90IGF1dGhvcml6ZWRcIiwxNDQ6XCJUb3BpYyBOYW1lIGludmFsaWRcIiwxNDU6XCJQYWNrZXQgaWRlbnRpZmllciBpbiB1c2VcIiwxNTE6XCJRdW90YSBleGNlZWRlZFwiLDE1MzpcIlBheWxvYWQgZm9ybWF0IGludmFsaWRcIn07TC5NUVRUNV9QVUJSRUxfUFVCQ09NUF9DT0RFUz17MDpcIlN1Y2Nlc3NcIiwxNDY6XCJQYWNrZXQgSWRlbnRpZmllciBub3QgZm91bmRcIn07TC5NUVRUNV9TVUJBQ0tfQ09ERVM9ezA6XCJHcmFudGVkIFFvUyAwXCIsMTpcIkdyYW50ZWQgUW9TIDFcIiwyOlwiR3JhbnRlZCBRb1MgMlwiLDEyODpcIlVuc3BlY2lmaWVkIGVycm9yXCIsMTMxOlwiSW1wbGVtZW50YXRpb24gc3BlY2lmaWMgZXJyb3JcIiwxMzU6XCJOb3QgYXV0aG9yaXplZFwiLDE0MzpcIlRvcGljIEZpbHRlciBpbnZhbGlkXCIsMTQ1OlwiUGFja2V0IElkZW50aWZpZXIgaW4gdXNlXCIsMTUxOlwiUXVvdGEgZXhjZWVkZWRcIiwxNTg6XCJTaGFyZWQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCIsMTYxOlwiU3Vic2NyaXB0aW9uIElkZW50aWZpZXJzIG5vdCBzdXBwb3J0ZWRcIiwxNjI6XCJXaWxkY2FyZCBTdWJzY3JpcHRpb25zIG5vdCBzdXBwb3J0ZWRcIn07TC5NUVRUNV9VTlNVQkFDS19DT0RFUz17MDpcIlN1Y2Nlc3NcIiwxNzpcIk5vIHN1YnNjcmlwdGlvbiBleGlzdGVkXCIsMTI4OlwiVW5zcGVjaWZpZWQgZXJyb3JcIiwxMzE6XCJJbXBsZW1lbnRhdGlvbiBzcGVjaWZpYyBlcnJvclwiLDEzNTpcIk5vdCBhdXRob3JpemVkXCIsMTQzOlwiVG9waWMgRmlsdGVyIGludmFsaWRcIiwxNDU6XCJQYWNrZXQgSWRlbnRpZmllciBpbiB1c2VcIn07TC5NUVRUNV9ESVNDT05ORUNUX0NPREVTPXswOlwiTm9ybWFsIGRpc2Nvbm5lY3Rpb25cIiw0OlwiRGlzY29ubmVjdCB3aXRoIFdpbGwgTWVzc2FnZVwiLDEyODpcIlVuc3BlY2lmaWVkIGVycm9yXCIsMTI5OlwiTWFsZm9ybWVkIFBhY2tldFwiLDEzMDpcIlByb3RvY29sIEVycm9yXCIsMTMxOlwiSW1wbGVtZW50YXRpb24gc3BlY2lmaWMgZXJyb3JcIiwxMzU6XCJOb3QgYXV0aG9yaXplZFwiLDEzNzpcIlNlcnZlciBidXN5XCIsMTM5OlwiU2VydmVyIHNodXR0aW5nIGRvd25cIiwxNDE6XCJLZWVwIEFsaXZlIHRpbWVvdXRcIiwxNDI6XCJTZXNzaW9uIHRha2VuIG92ZXJcIiwxNDM6XCJUb3BpYyBGaWx0ZXIgaW52YWxpZFwiLDE0NDpcIlRvcGljIE5hbWUgaW52YWxpZFwiLDE0NzpcIlJlY2VpdmUgTWF4aW11bSBleGNlZWRlZFwiLDE0ODpcIlRvcGljIEFsaWFzIGludmFsaWRcIiwxNDk6XCJQYWNrZXQgdG9vIGxhcmdlXCIsMTUwOlwiTWVzc2FnZSByYXRlIHRvbyBoaWdoXCIsMTUxOlwiUXVvdGEgZXhjZWVkZWRcIiwxNTI6XCJBZG1pbmlzdHJhdGl2ZSBhY3Rpb25cIiwxNTM6XCJQYXlsb2FkIGZvcm1hdCBpbnZhbGlkXCIsMTU0OlwiUmV0YWluIG5vdCBzdXBwb3J0ZWRcIiwxNTU6XCJRb1Mgbm90IHN1cHBvcnRlZFwiLDE1NjpcIlVzZSBhbm90aGVyIHNlcnZlclwiLDE1NzpcIlNlcnZlciBtb3ZlZFwiLDE1ODpcIlNoYXJlZCBTdWJzY3JpcHRpb25zIG5vdCBzdXBwb3J0ZWRcIiwxNTk6XCJDb25uZWN0aW9uIHJhdGUgZXhjZWVkZWRcIiwxNjA6XCJNYXhpbXVtIGNvbm5lY3QgdGltZVwiLDE2MTpcIlN1YnNjcmlwdGlvbiBJZGVudGlmaWVycyBub3Qgc3VwcG9ydGVkXCIsMTYyOlwiV2lsZGNhcmQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCJ9O0wuTVFUVDVfQVVUSF9DT0RFUz17MDpcIlN1Y2Nlc3NcIiwyNDpcIkNvbnRpbnVlIGF1dGhlbnRpY2F0aW9uXCIsMjU6XCJSZS1hdXRoZW50aWNhdGVcIn07fSk7dmFyIGdkPU0oKGxQLHBkKT0+e18oKTt2KCk7bSgpO3ZhciBLcj0xZTMsR3I9S3IqNjAsUXI9R3IqNjAsYnI9UXIqMjQsd209YnIqNyxfbT1iciozNjUuMjU7cGQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIHI9dHlwZW9mIHQ7aWYocj09PVwic3RyaW5nXCImJnQubGVuZ3RoPjApcmV0dXJuIG1tKHQpO2lmKHI9PT1cIm51bWJlclwiJiZpc0Zpbml0ZSh0KSlyZXR1cm4gZS5sb25nP0VtKHQpOnZtKHQpO3Rocm93IG5ldyBFcnJvcihcInZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9XCIrSlNPTi5zdHJpbmdpZnkodCkpfTtmdW5jdGlvbiBtbSh0KXtpZih0PVN0cmluZyh0KSwhKHQubGVuZ3RoPjEwMCkpe3ZhciBlPS9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyh0KTtpZihlKXt2YXIgcj1wYXJzZUZsb2F0KGVbMV0pLGk9KGVbMl18fFwibXNcIikudG9Mb3dlckNhc2UoKTtzd2l0Y2goaSl7Y2FzZVwieWVhcnNcIjpjYXNlXCJ5ZWFyXCI6Y2FzZVwieXJzXCI6Y2FzZVwieXJcIjpjYXNlXCJ5XCI6cmV0dXJuIHIqX207Y2FzZVwid2Vla3NcIjpjYXNlXCJ3ZWVrXCI6Y2FzZVwid1wiOnJldHVybiByKndtO2Nhc2VcImRheXNcIjpjYXNlXCJkYXlcIjpjYXNlXCJkXCI6cmV0dXJuIHIqYnI7Y2FzZVwiaG91cnNcIjpjYXNlXCJob3VyXCI6Y2FzZVwiaHJzXCI6Y2FzZVwiaHJcIjpjYXNlXCJoXCI6cmV0dXJuIHIqUXI7Y2FzZVwibWludXRlc1wiOmNhc2VcIm1pbnV0ZVwiOmNhc2VcIm1pbnNcIjpjYXNlXCJtaW5cIjpjYXNlXCJtXCI6cmV0dXJuIHIqR3I7Y2FzZVwic2Vjb25kc1wiOmNhc2VcInNlY29uZFwiOmNhc2VcInNlY3NcIjpjYXNlXCJzZWNcIjpjYXNlXCJzXCI6cmV0dXJuIHIqS3I7Y2FzZVwibWlsbGlzZWNvbmRzXCI6Y2FzZVwibWlsbGlzZWNvbmRcIjpjYXNlXCJtc2Vjc1wiOmNhc2VcIm1zZWNcIjpjYXNlXCJtc1wiOnJldHVybiByO2RlZmF1bHQ6cmV0dXJufX19fWZ1bmN0aW9uIHZtKHQpe3ZhciBlPU1hdGguYWJzKHQpO3JldHVybiBlPj1icj9NYXRoLnJvdW5kKHQvYnIpK1wiZFwiOmU+PVFyP01hdGgucm91bmQodC9RcikrXCJoXCI6ZT49R3I/TWF0aC5yb3VuZCh0L0dyKStcIm1cIjplPj1Lcj9NYXRoLnJvdW5kKHQvS3IpK1wic1wiOnQrXCJtc1wifWZ1bmN0aW9uIEVtKHQpe3ZhciBlPU1hdGguYWJzKHQpO3JldHVybiBlPj1icj9Dbih0LGUsYnIsXCJkYXlcIik6ZT49UXI/Q24odCxlLFFyLFwiaG91clwiKTplPj1Hcj9Dbih0LGUsR3IsXCJtaW51dGVcIik6ZT49S3I/Q24odCxlLEtyLFwic2Vjb25kXCIpOnQrXCIgbXNcIn1mdW5jdGlvbiBDbih0LGUscixpKXt2YXIgbj1lPj1yKjEuNTtyZXR1cm4gTWF0aC5yb3VuZCh0L3IpK1wiIFwiK2krKG4/XCJzXCI6XCJcIil9fSk7dmFyIGJkPU0oKHdQLHlkKT0+e18oKTt2KCk7bSgpO2Z1bmN0aW9uIFNtKHQpe3IuZGVidWc9cixyLmRlZmF1bHQ9cixyLmNvZXJjZT1sLHIuZGlzYWJsZT1vLHIuZW5hYmxlPW4sci5lbmFibGVkPXMsci5odW1hbml6ZT1nZCgpLHIuZGVzdHJveT1jLE9iamVjdC5rZXlzKHQpLmZvckVhY2goaD0+e3JbaF09dFtoXTt9KSxyLm5hbWVzPVtdLHIuc2tpcHM9W10sci5mb3JtYXR0ZXJzPXt9O2Z1bmN0aW9uIGUoaCl7bGV0IGQ9MDtmb3IobGV0IGc9MDtnPGgubGVuZ3RoO2crKylkPShkPDw1KS1kK2guY2hhckNvZGVBdChnKSxkfD0wO3JldHVybiByLmNvbG9yc1tNYXRoLmFicyhkKSVyLmNvbG9ycy5sZW5ndGhdfXIuc2VsZWN0Q29sb3I9ZTtmdW5jdGlvbiByKGgpe2xldCBkLGc9bnVsbCx5LHc7ZnVuY3Rpb24gUyguLi5FKXtpZighUy5lbmFibGVkKXJldHVybjtsZXQgST1TLEM9TnVtYmVyKG5ldyBEYXRlKSxSPUMtKGR8fEMpO0kuZGlmZj1SLEkucHJldj1kLEkuY3Vycj1DLGQ9QyxFWzBdPXIuY29lcmNlKEVbMF0pLHR5cGVvZiBFWzBdIT1cInN0cmluZ1wiJiZFLnVuc2hpZnQoXCIlT1wiKTtsZXQgVT0wO0VbMF09RVswXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywoVyxLKT0+e2lmKFc9PT1cIiUlXCIpcmV0dXJuIFwiJVwiO1UrKztsZXQgej1yLmZvcm1hdHRlcnNbS107aWYodHlwZW9mIHo9PVwiZnVuY3Rpb25cIil7bGV0IFE9RVtVXTtXPXouY2FsbChJLFEpLEUuc3BsaWNlKFUsMSksVS0tO31yZXR1cm4gV30pLHIuZm9ybWF0QXJncy5jYWxsKEksRSksKEkubG9nfHxyLmxvZykuYXBwbHkoSSxFKTt9cmV0dXJuIFMubmFtZXNwYWNlPWgsUy51c2VDb2xvcnM9ci51c2VDb2xvcnMoKSxTLmNvbG9yPXIuc2VsZWN0Q29sb3IoaCksUy5leHRlbmQ9aSxTLmRlc3Ryb3k9ci5kZXN0cm95LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTLFwiZW5hYmxlZFwiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6KCk9PmchPT1udWxsP2c6KHkhPT1yLm5hbWVzcGFjZXMmJih5PXIubmFtZXNwYWNlcyx3PXIuZW5hYmxlZChoKSksdyksc2V0OkU9PntnPUU7fX0pLHR5cGVvZiByLmluaXQ9PVwiZnVuY3Rpb25cIiYmci5pbml0KFMpLFN9ZnVuY3Rpb24gaShoLGQpe2xldCBnPXIodGhpcy5uYW1lc3BhY2UrKHR5cGVvZiBkPlwidVwiP1wiOlwiOmQpK2gpO3JldHVybiBnLmxvZz10aGlzLmxvZyxnfWZ1bmN0aW9uIG4oaCl7ci5zYXZlKGgpLHIubmFtZXNwYWNlcz1oLHIubmFtZXM9W10sci5za2lwcz1bXTtsZXQgZCxnPSh0eXBlb2YgaD09XCJzdHJpbmdcIj9oOlwiXCIpLnNwbGl0KC9bXFxzLF0rLykseT1nLmxlbmd0aDtmb3IoZD0wO2Q8eTtkKyspZ1tkXSYmKGg9Z1tkXS5yZXBsYWNlKC9cXCovZyxcIi4qP1wiKSxoWzBdPT09XCItXCI/ci5za2lwcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIraC5zbGljZSgxKStcIiRcIikpOnIubmFtZXMucHVzaChuZXcgUmVnRXhwKFwiXlwiK2grXCIkXCIpKSk7fWZ1bmN0aW9uIG8oKXtsZXQgaD1bLi4uci5uYW1lcy5tYXAoYSksLi4uci5za2lwcy5tYXAoYSkubWFwKGQ9PlwiLVwiK2QpXS5qb2luKFwiLFwiKTtyZXR1cm4gci5lbmFibGUoXCJcIiksaH1mdW5jdGlvbiBzKGgpe2lmKGhbaC5sZW5ndGgtMV09PT1cIipcIilyZXR1cm4gITA7bGV0IGQsZztmb3IoZD0wLGc9ci5za2lwcy5sZW5ndGg7ZDxnO2QrKylpZihyLnNraXBzW2RdLnRlc3QoaCkpcmV0dXJuICExO2ZvcihkPTAsZz1yLm5hbWVzLmxlbmd0aDtkPGc7ZCsrKWlmKHIubmFtZXNbZF0udGVzdChoKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGEoaCl7cmV0dXJuIGgudG9TdHJpbmcoKS5zdWJzdHJpbmcoMixoLnRvU3RyaW5nKCkubGVuZ3RoLTIpLnJlcGxhY2UoL1xcLlxcKlxcPyQvLFwiKlwiKX1mdW5jdGlvbiBsKGgpe3JldHVybiBoIGluc3RhbmNlb2YgRXJyb3I/aC5zdGFja3x8aC5tZXNzYWdlOmh9ZnVuY3Rpb24gYygpe2NvbnNvbGUud2FybihcIkluc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC5cIik7fXJldHVybiByLmVuYWJsZShyLmxvYWQoKSkscn15ZC5leHBvcnRzPVNtO30pO3ZhciBvdD1NKCh4ZSxCbik9PntfKCk7digpO20oKTt4ZS5mb3JtYXRBcmdzPUltO3hlLnNhdmU9VG07eGUubG9hZD1SbTt4ZS51c2VDb2xvcnM9QW07eGUuc3RvcmFnZT1DbSgpO3hlLmRlc3Ryb3k9KCgpPT57bGV0IHQ9ITE7cmV0dXJuICgpPT57dHx8KHQ9ITAsY29uc29sZS53YXJuKFwiSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLlwiKSk7fX0pKCk7eGUuY29sb3JzPVtcIiMwMDAwQ0NcIixcIiMwMDAwRkZcIixcIiMwMDMzQ0NcIixcIiMwMDMzRkZcIixcIiMwMDY2Q0NcIixcIiMwMDY2RkZcIixcIiMwMDk5Q0NcIixcIiMwMDk5RkZcIixcIiMwMENDMDBcIixcIiMwMENDMzNcIixcIiMwMENDNjZcIixcIiMwMENDOTlcIixcIiMwMENDQ0NcIixcIiMwMENDRkZcIixcIiMzMzAwQ0NcIixcIiMzMzAwRkZcIixcIiMzMzMzQ0NcIixcIiMzMzMzRkZcIixcIiMzMzY2Q0NcIixcIiMzMzY2RkZcIixcIiMzMzk5Q0NcIixcIiMzMzk5RkZcIixcIiMzM0NDMDBcIixcIiMzM0NDMzNcIixcIiMzM0NDNjZcIixcIiMzM0NDOTlcIixcIiMzM0NDQ0NcIixcIiMzM0NDRkZcIixcIiM2NjAwQ0NcIixcIiM2NjAwRkZcIixcIiM2NjMzQ0NcIixcIiM2NjMzRkZcIixcIiM2NkNDMDBcIixcIiM2NkNDMzNcIixcIiM5OTAwQ0NcIixcIiM5OTAwRkZcIixcIiM5OTMzQ0NcIixcIiM5OTMzRkZcIixcIiM5OUNDMDBcIixcIiM5OUNDMzNcIixcIiNDQzAwMDBcIixcIiNDQzAwMzNcIixcIiNDQzAwNjZcIixcIiNDQzAwOTlcIixcIiNDQzAwQ0NcIixcIiNDQzAwRkZcIixcIiNDQzMzMDBcIixcIiNDQzMzMzNcIixcIiNDQzMzNjZcIixcIiNDQzMzOTlcIixcIiNDQzMzQ0NcIixcIiNDQzMzRkZcIixcIiNDQzY2MDBcIixcIiNDQzY2MzNcIixcIiNDQzk5MDBcIixcIiNDQzk5MzNcIixcIiNDQ0NDMDBcIixcIiNDQ0NDMzNcIixcIiNGRjAwMDBcIixcIiNGRjAwMzNcIixcIiNGRjAwNjZcIixcIiNGRjAwOTlcIixcIiNGRjAwQ0NcIixcIiNGRjAwRkZcIixcIiNGRjMzMDBcIixcIiNGRjMzMzNcIixcIiNGRjMzNjZcIixcIiNGRjMzOTlcIixcIiNGRjMzQ0NcIixcIiNGRjMzRkZcIixcIiNGRjY2MDBcIixcIiNGRjY2MzNcIixcIiNGRjk5MDBcIixcIiNGRjk5MzNcIixcIiNGRkNDMDBcIixcIiNGRkNDMzNcIl07ZnVuY3Rpb24gQW0oKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzxcInVcIiYmd2luZG93LnByb2Nlc3MmJih3aW5kb3cucHJvY2Vzcy50eXBlPT09XCJyZW5kZXJlclwifHx3aW5kb3cucHJvY2Vzcy5fX253anMpPyEwOnR5cGVvZiBuYXZpZ2F0b3I8XCJ1XCImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKT8hMTp0eXBlb2YgZG9jdW1lbnQ8XCJ1XCImJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZXx8dHlwZW9mIHdpbmRvdzxcInVcIiYmd2luZG93LmNvbnNvbGUmJih3aW5kb3cuY29uc29sZS5maXJlYnVnfHx3aW5kb3cuY29uc29sZS5leGNlcHRpb24mJndpbmRvdy5jb25zb2xlLnRhYmxlKXx8dHlwZW9mIG5hdmlnYXRvcjxcInVcIiYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykmJnBhcnNlSW50KFJlZ0V4cC4kMSwxMCk+PTMxfHx0eXBlb2YgbmF2aWdhdG9yPFwidVwiJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLyl9ZnVuY3Rpb24gSW0odCl7aWYodFswXT0odGhpcy51c2VDb2xvcnM/XCIlY1wiOlwiXCIpK3RoaXMubmFtZXNwYWNlKyh0aGlzLnVzZUNvbG9ycz9cIiAlY1wiOlwiIFwiKSt0WzBdKyh0aGlzLnVzZUNvbG9ycz9cIiVjIFwiOlwiIFwiKStcIitcIitCbi5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZiksIXRoaXMudXNlQ29sb3JzKXJldHVybjtsZXQgZT1cImNvbG9yOiBcIit0aGlzLmNvbG9yO3Quc3BsaWNlKDEsMCxlLFwiY29sb3I6IGluaGVyaXRcIik7bGV0IHI9MCxpPTA7dFswXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csbj0+e24hPT1cIiUlXCImJihyKyssbj09PVwiJWNcIiYmKGk9cikpO30pLHQuc3BsaWNlKGksMCxlKTt9eGUubG9nPWNvbnNvbGUuZGVidWd8fGNvbnNvbGUubG9nfHwoKCk9Pnt9KTtmdW5jdGlvbiBUbSh0KXt0cnl7dD94ZS5zdG9yYWdlLnNldEl0ZW0oXCJkZWJ1Z1wiLHQpOnhlLnN0b3JhZ2UucmVtb3ZlSXRlbShcImRlYnVnXCIpO31jYXRjaHt9fWZ1bmN0aW9uIFJtKCl7bGV0IHQ7dHJ5e3Q9eGUuc3RvcmFnZS5nZXRJdGVtKFwiZGVidWdcIik7fWNhdGNoe31yZXR1cm4gIXQmJnR5cGVvZiBCPFwidVwiJiZcImVudlwiaW4gQiYmKHQ9Qi5lbnYuREVCVUcpLHR9ZnVuY3Rpb24gQ20oKXt0cnl7cmV0dXJuIGxvY2FsU3RvcmFnZX1jYXRjaHt9fUJuLmV4cG9ydHM9YmQoKSh4ZSk7dmFye2Zvcm1hdHRlcnM6Qm19PUJuLmV4cG9ydHM7Qm0uaj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfWNhdGNoKGUpe3JldHVybiBcIltVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiBcIitlLm1lc3NhZ2V9fTt9KTt2YXIgbWQ9TSgoTlAsX2QpPT57XygpO3YoKTttKCk7dmFyIFBtPWZkKCkse0V2ZW50RW1pdHRlcjprbX09KHNyKCksWChucikpLHdkPWhkKCksVj1IbygpLEQ9b3QoKShcIm1xdHQtcGFja2V0OnBhcnNlclwiKSxWbz1jbGFzcyB0IGV4dGVuZHMga217Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucGFyc2VyPXRoaXMuY29uc3RydWN0b3IucGFyc2VyO31zdGF0aWMgcGFyc2VyKGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgdD8odGhpcy5zZXR0aW5ncz1lfHx7fSx0aGlzLl9zdGF0ZXM9W1wiX3BhcnNlSGVhZGVyXCIsXCJfcGFyc2VMZW5ndGhcIixcIl9wYXJzZVBheWxvYWRcIixcIl9uZXdQYWNrZXRcIl0sdGhpcy5fcmVzZXRTdGF0ZSgpLHRoaXMpOm5ldyB0KCkucGFyc2VyKGUpfV9yZXNldFN0YXRlKCl7RChcIl9yZXNldFN0YXRlOiByZXNldHRpbmcgcGFja2V0LCBlcnJvciwgX2xpc3QsIGFuZCBfc3RhdGVDb3VudGVyXCIpLHRoaXMucGFja2V0PW5ldyB3ZCx0aGlzLmVycm9yPW51bGwsdGhpcy5fbGlzdD1QbSgpLHRoaXMuX3N0YXRlQ291bnRlcj0wO31wYXJzZShlKXtmb3IodGhpcy5lcnJvciYmdGhpcy5fcmVzZXRTdGF0ZSgpLHRoaXMuX2xpc3QuYXBwZW5kKGUpLEQoXCJwYXJzZTogY3VycmVudCBzdGF0ZTogJXNcIix0aGlzLl9zdGF0ZXNbdGhpcy5fc3RhdGVDb3VudGVyXSk7KHRoaXMucGFja2V0Lmxlbmd0aCE9PS0xfHx0aGlzLl9saXN0Lmxlbmd0aD4wKSYmdGhpc1t0aGlzLl9zdGF0ZXNbdGhpcy5fc3RhdGVDb3VudGVyXV0oKSYmIXRoaXMuZXJyb3I7KXRoaXMuX3N0YXRlQ291bnRlcisrLEQoXCJwYXJzZTogc3RhdGUgY29tcGxldGUuIF9zdGF0ZUNvdW50ZXIgaXMgbm93OiAlZFwiLHRoaXMuX3N0YXRlQ291bnRlciksRChcInBhcnNlOiBwYWNrZXQubGVuZ3RoOiAlZCwgYnVmZmVyIGxpc3QgbGVuZ3RoOiAlZFwiLHRoaXMucGFja2V0Lmxlbmd0aCx0aGlzLl9saXN0Lmxlbmd0aCksdGhpcy5fc3RhdGVDb3VudGVyPj10aGlzLl9zdGF0ZXMubGVuZ3RoJiYodGhpcy5fc3RhdGVDb3VudGVyPTApO3JldHVybiBEKFwicGFyc2U6IGV4aXRlZCB3aGlsZSBsb29wLiBwYWNrZXQ6ICVkLCBidWZmZXIgbGlzdCBsZW5ndGg6ICVkXCIsdGhpcy5wYWNrZXQubGVuZ3RoLHRoaXMuX2xpc3QubGVuZ3RoKSx0aGlzLl9saXN0Lmxlbmd0aH1fcGFyc2VIZWFkZXIoKXtsZXQgZT10aGlzLl9saXN0LnJlYWRVSW50OCgwKSxyPWU+PlYuQ01EX1NISUZUO3RoaXMucGFja2V0LmNtZD1WLnR5cGVzW3JdO2xldCBpPWUmMTUsbj1WLnJlcXVpcmVkSGVhZGVyRmxhZ3Nbcl07cmV0dXJuIG4hPW51bGwmJmkhPT1uP3RoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoVi5yZXF1aXJlZEhlYWRlckZsYWdzRXJyb3JzW3JdKSk6KHRoaXMucGFja2V0LnJldGFpbj0oZSZWLlJFVEFJTl9NQVNLKSE9PTAsdGhpcy5wYWNrZXQucW9zPWU+PlYuUU9TX1NISUZUJlYuUU9TX01BU0ssdGhpcy5wYWNrZXQucW9zPjI/dGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlBhY2tldCBtdXN0IG5vdCBoYXZlIGJvdGggUW9TIGJpdHMgc2V0IHRvIDFcIikpOih0aGlzLnBhY2tldC5kdXA9KGUmVi5EVVBfTUFTSykhPT0wLEQoXCJfcGFyc2VIZWFkZXI6IHBhY2tldDogJW9cIix0aGlzLnBhY2tldCksdGhpcy5fbGlzdC5jb25zdW1lKDEpLCEwKSl9X3BhcnNlTGVuZ3RoKCl7bGV0IGU9dGhpcy5fcGFyc2VWYXJCeXRlTnVtKCEwKTtyZXR1cm4gZSYmKHRoaXMucGFja2V0Lmxlbmd0aD1lLnZhbHVlLHRoaXMuX2xpc3QuY29uc3VtZShlLmJ5dGVzKSksRChcIl9wYXJzZUxlbmd0aCAlZFwiLGUudmFsdWUpLCEhZX1fcGFyc2VQYXlsb2FkKCl7RChcIl9wYXJzZVBheWxvYWQ6IHBheWxvYWQgJU9cIix0aGlzLl9saXN0KTtsZXQgZT0hMTtpZih0aGlzLnBhY2tldC5sZW5ndGg9PT0wfHx0aGlzLl9saXN0Lmxlbmd0aD49dGhpcy5wYWNrZXQubGVuZ3RoKXtzd2l0Y2godGhpcy5fcG9zPTAsdGhpcy5wYWNrZXQuY21kKXtjYXNlXCJjb25uZWN0XCI6dGhpcy5fcGFyc2VDb25uZWN0KCk7YnJlYWs7Y2FzZVwiY29ubmFja1wiOnRoaXMuX3BhcnNlQ29ubmFjaygpO2JyZWFrO2Nhc2VcInB1Ymxpc2hcIjp0aGlzLl9wYXJzZVB1Ymxpc2goKTticmVhaztjYXNlXCJwdWJhY2tcIjpjYXNlXCJwdWJyZWNcIjpjYXNlXCJwdWJyZWxcIjpjYXNlXCJwdWJjb21wXCI6dGhpcy5fcGFyc2VDb25maXJtYXRpb24oKTticmVhaztjYXNlXCJzdWJzY3JpYmVcIjp0aGlzLl9wYXJzZVN1YnNjcmliZSgpO2JyZWFrO2Nhc2VcInN1YmFja1wiOnRoaXMuX3BhcnNlU3ViYWNrKCk7YnJlYWs7Y2FzZVwidW5zdWJzY3JpYmVcIjp0aGlzLl9wYXJzZVVuc3Vic2NyaWJlKCk7YnJlYWs7Y2FzZVwidW5zdWJhY2tcIjp0aGlzLl9wYXJzZVVuc3ViYWNrKCk7YnJlYWs7Y2FzZVwicGluZ3JlcVwiOmNhc2VcInBpbmdyZXNwXCI6YnJlYWs7Y2FzZVwiZGlzY29ubmVjdFwiOnRoaXMuX3BhcnNlRGlzY29ubmVjdCgpO2JyZWFrO2Nhc2VcImF1dGhcIjp0aGlzLl9wYXJzZUF1dGgoKTticmVhaztkZWZhdWx0OnRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkXCIpKTt9ZT0hMDt9cmV0dXJuIEQoXCJfcGFyc2VQYXlsb2FkIGNvbXBsZXRlIHJlc3VsdDogJXNcIixlKSxlfV9wYXJzZUNvbm5lY3QoKXtEKFwiX3BhcnNlQ29ubmVjdFwiKTtsZXQgZSxyLGksbixvPXt9LHM9dGhpcy5wYWNrZXQsYT10aGlzLl9wYXJzZVN0cmluZygpO2lmKGE9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHByb3RvY29sSWRcIikpO2lmKGEhPT1cIk1RVFRcIiYmYSE9PVwiTVFJc2RwXCIpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3RvY29sSWRcIikpO2lmKHMucHJvdG9jb2xJZD1hLHRoaXMuX3Bvcz49dGhpcy5fbGlzdC5sZW5ndGgpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJQYWNrZXQgdG9vIHNob3J0XCIpKTtpZihzLnByb3RvY29sVmVyc2lvbj10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpLHMucHJvdG9jb2xWZXJzaW9uPj0xMjgmJihzLmJyaWRnZU1vZGU9ITAscy5wcm90b2NvbFZlcnNpb249cy5wcm90b2NvbFZlcnNpb24tMTI4KSxzLnByb3RvY29sVmVyc2lvbiE9PTMmJnMucHJvdG9jb2xWZXJzaW9uIT09NCYmcy5wcm90b2NvbFZlcnNpb24hPT01KXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBwcm90b2NvbCB2ZXJzaW9uXCIpKTtpZih0aGlzLl9wb3MrKyx0aGlzLl9wb3M+PXRoaXMuX2xpc3QubGVuZ3RoKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiUGFja2V0IHRvbyBzaG9ydFwiKSk7aWYodGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSYxKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ29ubmVjdCBmbGFnIGJpdCAwIG11c3QgYmUgMCwgYnV0IGdvdCAxXCIpKTtvLnVzZXJuYW1lPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmVi5VU0VSTkFNRV9NQVNLLG8ucGFzc3dvcmQ9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSZWLlBBU1NXT1JEX01BU0ssby53aWxsPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmVi5XSUxMX0ZMQUdfTUFTSztsZXQgbD0hISh0aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpJlYuV0lMTF9SRVRBSU5fTUFTSyksYz0odGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSZWLldJTExfUU9TX01BU0spPj5WLldJTExfUU9TX1NISUZUO2lmKG8ud2lsbClzLndpbGw9e30scy53aWxsLnJldGFpbj1sLHMud2lsbC5xb3M9YztlbHNlIHtpZihsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiV2lsbCBSZXRhaW4gRmxhZyBtdXN0IGJlIHNldCB0byB6ZXJvIHdoZW4gV2lsbCBGbGFnIGlzIHNldCB0byAwXCIpKTtpZihjKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiV2lsbCBRb1MgbXVzdCBiZSBzZXQgdG8gemVybyB3aGVuIFdpbGwgRmxhZyBpcyBzZXQgdG8gMFwiKSl9aWYocy5jbGVhbj0odGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSZWLkNMRUFOX1NFU1NJT05fTUFTSykhPT0wLHRoaXMuX3BvcysrLHMua2VlcGFsaXZlPXRoaXMuX3BhcnNlTnVtKCkscy5rZWVwYWxpdmU9PT0tMSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlBhY2tldCB0b28gc2hvcnRcIikpO2lmKHMucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IGQ9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZCkubGVuZ3RoJiYocy5wcm9wZXJ0aWVzPWQpO31sZXQgaD10aGlzLl9wYXJzZVN0cmluZygpO2lmKGg9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiUGFja2V0IHRvbyBzaG9ydFwiKSk7aWYocy5jbGllbnRJZD1oLEQoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQuY2xpZW50SWQ6ICVzXCIscy5jbGllbnRJZCksby53aWxsKXtpZihzLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCBkPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGQpLmxlbmd0aCYmKHMud2lsbC5wcm9wZXJ0aWVzPWQpO31pZihlPXRoaXMuX3BhcnNlU3RyaW5nKCksZT09PW51bGwpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2Ugd2lsbCB0b3BpY1wiKSk7aWYocy53aWxsLnRvcGljPWUsRChcIl9wYXJzZUNvbm5lY3Q6IHBhY2tldC53aWxsLnRvcGljOiAlc1wiLHMud2lsbC50b3BpYykscj10aGlzLl9wYXJzZUJ1ZmZlcigpLHI9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHdpbGwgcGF5bG9hZFwiKSk7cy53aWxsLnBheWxvYWQ9cixEKFwiX3BhcnNlQ29ubmVjdDogcGFja2V0LndpbGwucGF5bGFvZDogJXNcIixzLndpbGwucGF5bG9hZCk7fWlmKG8udXNlcm5hbWUpe2lmKG49dGhpcy5fcGFyc2VTdHJpbmcoKSxuPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB1c2VybmFtZVwiKSk7cy51c2VybmFtZT1uLEQoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQudXNlcm5hbWU6ICVzXCIscy51c2VybmFtZSk7fWlmKG8ucGFzc3dvcmQpe2lmKGk9dGhpcy5fcGFyc2VCdWZmZXIoKSxpPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBwYXNzd29yZFwiKSk7cy5wYXNzd29yZD1pO31yZXR1cm4gdGhpcy5zZXR0aW5ncz1zLEQoXCJfcGFyc2VDb25uZWN0OiBjb21wbGV0ZVwiKSxzfV9wYXJzZUNvbm5hY2soKXtEKFwiX3BhcnNlQ29ubmFja1wiKTtsZXQgZT10aGlzLnBhY2tldDtpZih0aGlzLl9saXN0Lmxlbmd0aDwxKXJldHVybiBudWxsO2xldCByPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKTtpZihyPjEpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbm5hY2sgZmxhZ3MsIGJpdHMgNy0xIG11c3QgYmUgc2V0IHRvIDBcIikpO2lmKGUuc2Vzc2lvblByZXNlbnQ9ISEociZWLlNFU1NJT05QUkVTRU5UX01BU0spLHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl0aGlzLl9saXN0Lmxlbmd0aD49Mj9lLnJlYXNvbkNvZGU9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKyspOmUucmVhc29uQ29kZT0wO2Vsc2Uge2lmKHRoaXMuX2xpc3QubGVuZ3RoPDIpcmV0dXJuIG51bGw7ZS5yZXR1cm5Db2RlPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKTt9aWYoZS5yZXR1cm5Db2RlPT09LTF8fGUucmVhc29uQ29kZT09PS0xKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHJldHVybiBjb2RlXCIpKTtpZih0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCBpPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLmxlbmd0aCYmKGUucHJvcGVydGllcz1pKTt9RChcIl9wYXJzZUNvbm5hY2s6IGNvbXBsZXRlXCIpO31fcGFyc2VQdWJsaXNoKCl7RChcIl9wYXJzZVB1Ymxpc2hcIik7bGV0IGU9dGhpcy5wYWNrZXQ7aWYoZS50b3BpYz10aGlzLl9wYXJzZVN0cmluZygpLGUudG9waWM9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHRvcGljXCIpKTtpZighKGUucW9zPjAmJiF0aGlzLl9wYXJzZU1lc3NhZ2VJZCgpKSl7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9cik7fWUucGF5bG9hZD10aGlzLl9saXN0LnNsaWNlKHRoaXMuX3BvcyxlLmxlbmd0aCksRChcIl9wYXJzZVB1Ymxpc2g6IHBheWxvYWQgZnJvbSBidWZmZXIgbGlzdDogJW9cIixlLnBheWxvYWQpO319X3BhcnNlU3Vic2NyaWJlKCl7RChcIl9wYXJzZVN1YnNjcmliZVwiKTtsZXQgZT10aGlzLnBhY2tldCxyLGksbixvLHMsYSxsO2lmKGUuc3Vic2NyaXB0aW9ucz1bXSwhIXRoaXMuX3BhcnNlTWVzc2FnZUlkKCkpe2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IGM9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYykubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPWMpO31pZihlLmxlbmd0aDw9MClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCBzdWJzY3JpYmUsIG5vIHBheWxvYWQgc3BlY2lmaWVkXCIpKTtmb3IoO3RoaXMuX3BvczxlLmxlbmd0aDspe2lmKHI9dGhpcy5fcGFyc2VTdHJpbmcoKSxyPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB0b3BpY1wiKSk7aWYodGhpcy5fcG9zPj1lLmxlbmd0aClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCBTdWJzY3JpYmUgUGF5bG9hZFwiKSk7aWYoaT10aGlzLl9wYXJzZUJ5dGUoKSx0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2lmKGkmMTkyKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpYmUgdG9waWMgZmxhZyBiaXRzLCBiaXRzIDctNiBtdXN0IGJlIDBcIikpfWVsc2UgaWYoaSYyNTIpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmliZSB0b3BpYyBmbGFnIGJpdHMsIGJpdHMgNy0yIG11c3QgYmUgMFwiKSk7aWYobj1pJlYuU1VCU0NSSUJFX09QVElPTlNfUU9TX01BU0ssbj4yKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpYmUgUW9TLCBtdXN0IGJlIDw9IDJcIikpO2lmKGE9KGk+PlYuU1VCU0NSSUJFX09QVElPTlNfTkxfU0hJRlQmVi5TVUJTQ1JJQkVfT1BUSU9OU19OTF9NQVNLKSE9PTAscz0oaT4+Vi5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfU0hJRlQmVi5TVUJTQ1JJQkVfT1BUSU9OU19SQVBfTUFTSykhPT0wLG89aT4+Vi5TVUJTQ1JJQkVfT1BUSU9OU19SSF9TSElGVCZWLlNVQlNDUklCRV9PUFRJT05TX1JIX01BU0ssbz4yKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCByZXRhaW4gaGFuZGxpbmcsIG11c3QgYmUgPD0gMlwiKSk7bD17dG9waWM6cixxb3M6bn0sdGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01PyhsLm5sPWEsbC5yYXA9cyxsLnJoPW8pOnRoaXMuc2V0dGluZ3MuYnJpZGdlTW9kZSYmKGwucmg9MCxsLnJhcD0hMCxsLm5sPSEwKSxEKFwiX3BhcnNlU3Vic2NyaWJlOiBwdXNoIHN1YnNjcmlwdGlvbiBgJXNgIHRvIHN1YnNjcmlwdGlvblwiLGwpLGUuc3Vic2NyaXB0aW9ucy5wdXNoKGwpO319fV9wYXJzZVN1YmFjaygpe0QoXCJfcGFyc2VTdWJhY2tcIik7bGV0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5wYWNrZXQuZ3JhbnRlZD1bXSwhIXRoaXMuX3BhcnNlTWVzc2FnZUlkKCkpe2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IHI9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpO31pZihlLmxlbmd0aDw9MClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCBzdWJhY2ssIG5vIHBheWxvYWQgc3BlY2lmaWVkXCIpKTtmb3IoO3RoaXMuX3Bvczx0aGlzLnBhY2tldC5sZW5ndGg7KXtsZXQgcj10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MrKyk7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtpZighVi5NUVRUNV9TVUJBQ0tfQ09ERVNbcl0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YmFjayBjb2RlXCIpKX1lbHNlIGlmKHI+MiYmciE9PTEyOClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgc3ViYWNrIFFvUywgbXVzdCBiZSAwLCAxLCAyIG9yIDEyOFwiKSk7dGhpcy5wYWNrZXQuZ3JhbnRlZC5wdXNoKHIpO319fV9wYXJzZVVuc3Vic2NyaWJlKCl7RChcIl9wYXJzZVVuc3Vic2NyaWJlXCIpO2xldCBlPXRoaXMucGFja2V0O2lmKGUudW5zdWJzY3JpcHRpb25zPVtdLCEhdGhpcy5fcGFyc2VNZXNzYWdlSWQoKSl7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9cik7fWlmKGUubGVuZ3RoPD0wKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTWFsZm9ybWVkIHVuc3Vic2NyaWJlLCBubyBwYXlsb2FkIHNwZWNpZmllZFwiKSk7Zm9yKDt0aGlzLl9wb3M8ZS5sZW5ndGg7KXtsZXQgcj10aGlzLl9wYXJzZVN0cmluZygpO2lmKHI9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHRvcGljXCIpKTtEKFwiX3BhcnNlVW5zdWJzY3JpYmU6IHB1c2ggdG9waWMgYCVzYCB0byB1bnN1YnNjcmlwdGlvbnNcIixyKSxlLnVuc3Vic2NyaXB0aW9ucy5wdXNoKHIpO319fV9wYXJzZVVuc3ViYWNrKCl7RChcIl9wYXJzZVVuc3ViYWNrXCIpO2xldCBlPXRoaXMucGFja2V0O2lmKCF0aGlzLl9wYXJzZU1lc3NhZ2VJZCgpKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIG1lc3NhZ2VJZFwiKSk7aWYoKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09M3x8dGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT00KSYmZS5sZW5ndGghPT0yKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTWFsZm9ybWVkIHVuc3ViYWNrLCBwYXlsb2FkIGxlbmd0aCBtdXN0IGJlIDJcIikpO2lmKGUubGVuZ3RoPD0wKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTWFsZm9ybWVkIHVuc3ViYWNrLCBubyBwYXlsb2FkIHNwZWNpZmllZFwiKSk7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtmb3IoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpLGUuZ3JhbnRlZD1bXTt0aGlzLl9wb3M8dGhpcy5wYWNrZXQubGVuZ3RoOyl7bGV0IGk9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKyspO2lmKCFWLk1RVFQ1X1VOU1VCQUNLX0NPREVTW2ldKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YmFjayBjb2RlXCIpKTt0aGlzLnBhY2tldC5ncmFudGVkLnB1c2goaSk7fX19X3BhcnNlQ29uZmlybWF0aW9uKCl7RChcIl9wYXJzZUNvbmZpcm1hdGlvbjogcGFja2V0LmNtZDogYCVzYFwiLHRoaXMucGFja2V0LmNtZCk7bGV0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5fcGFyc2VNZXNzYWdlSWQoKSx0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2lmKGUubGVuZ3RoPjIpe3N3aXRjaChlLnJlYXNvbkNvZGU9dGhpcy5fcGFyc2VCeXRlKCksdGhpcy5wYWNrZXQuY21kKXtjYXNlXCJwdWJhY2tcIjpjYXNlXCJwdWJyZWNcIjppZighVi5NUVRUNV9QVUJBQ0tfUFVCUkVDX0NPREVTW2UucmVhc29uQ29kZV0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIFwiK3RoaXMucGFja2V0LmNtZCtcIiByZWFzb24gY29kZVwiKSk7YnJlYWs7Y2FzZVwicHVicmVsXCI6Y2FzZVwicHViY29tcFwiOmlmKCFWLk1RVFQ1X1BVQlJFTF9QVUJDT01QX0NPREVTW2UucmVhc29uQ29kZV0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIFwiK3RoaXMucGFja2V0LmNtZCtcIiByZWFzb24gY29kZVwiKSk7YnJlYWt9RChcIl9wYXJzZUNvbmZpcm1hdGlvbjogcGFja2V0LnJlYXNvbkNvZGUgYCVkYFwiLGUucmVhc29uQ29kZSk7fWVsc2UgZS5yZWFzb25Db2RlPTA7aWYoZS5sZW5ndGg+Myl7bGV0IHI9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpO319cmV0dXJuICEwfV9wYXJzZURpc2Nvbm5lY3QoKXtsZXQgZT10aGlzLnBhY2tldDtpZihEKFwiX3BhcnNlRGlzY29ubmVjdFwiKSx0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe3RoaXMuX2xpc3QubGVuZ3RoPjA/KGUucmVhc29uQ29kZT10aGlzLl9wYXJzZUJ5dGUoKSxWLk1RVFQ1X0RJU0NPTk5FQ1RfQ09ERVNbZS5yZWFzb25Db2RlXXx8dGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgZGlzY29ubmVjdCByZWFzb24gY29kZVwiKSkpOmUucmVhc29uQ29kZT0wO2xldCByPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmxlbmd0aCYmKGUucHJvcGVydGllcz1yKTt9cmV0dXJuIEQoXCJfcGFyc2VEaXNjb25uZWN0IHJlc3VsdDogdHJ1ZVwiKSwhMH1fcGFyc2VBdXRoKCl7RChcIl9wYXJzZUF1dGhcIik7bGV0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb24hPT01KXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZCBhdXRoIHBhY2tldCBmb3IgdGhpcyB2ZXJzaW9uIE1RVFRcIikpO2lmKGUucmVhc29uQ29kZT10aGlzLl9wYXJzZUJ5dGUoKSwhVi5NUVRUNV9BVVRIX0NPREVTW2UucmVhc29uQ29kZV0pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIGF1dGggcmVhc29uIGNvZGVcIikpO2xldCByPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9ciksRChcIl9wYXJzZUF1dGg6IHJlc3VsdDogdHJ1ZVwiKSwhMH1fcGFyc2VNZXNzYWdlSWQoKXtsZXQgZT10aGlzLnBhY2tldDtyZXR1cm4gZS5tZXNzYWdlSWQ9dGhpcy5fcGFyc2VOdW0oKSxlLm1lc3NhZ2VJZD09PW51bGw/KHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgbWVzc2FnZUlkXCIpKSwhMSk6KEQoXCJfcGFyc2VNZXNzYWdlSWQ6IHBhY2tldC5tZXNzYWdlSWQgJWRcIixlLm1lc3NhZ2VJZCksITApfV9wYXJzZVN0cmluZyhlKXtsZXQgcj10aGlzLl9wYXJzZU51bSgpLGk9cit0aGlzLl9wb3M7aWYocj09PS0xfHxpPnRoaXMuX2xpc3QubGVuZ3RofHxpPnRoaXMucGFja2V0Lmxlbmd0aClyZXR1cm4gbnVsbDtsZXQgbj10aGlzLl9saXN0LnRvU3RyaW5nKFwidXRmOFwiLHRoaXMuX3BvcyxpKTtyZXR1cm4gdGhpcy5fcG9zKz1yLEQoXCJfcGFyc2VTdHJpbmc6IHJlc3VsdDogJXNcIixuKSxufV9wYXJzZVN0cmluZ1BhaXIoKXtyZXR1cm4gRChcIl9wYXJzZVN0cmluZ1BhaXJcIikse25hbWU6dGhpcy5fcGFyc2VTdHJpbmcoKSx2YWx1ZTp0aGlzLl9wYXJzZVN0cmluZygpfX1fcGFyc2VCdWZmZXIoKXtsZXQgZT10aGlzLl9wYXJzZU51bSgpLHI9ZSt0aGlzLl9wb3M7aWYoZT09PS0xfHxyPnRoaXMuX2xpc3QubGVuZ3RofHxyPnRoaXMucGFja2V0Lmxlbmd0aClyZXR1cm4gbnVsbDtsZXQgaT10aGlzLl9saXN0LnNsaWNlKHRoaXMuX3BvcyxyKTtyZXR1cm4gdGhpcy5fcG9zKz1lLEQoXCJfcGFyc2VCdWZmZXI6IHJlc3VsdDogJW9cIixpKSxpfV9wYXJzZU51bSgpe2lmKHRoaXMuX2xpc3QubGVuZ3RoLXRoaXMuX3BvczwyKXJldHVybiAtMTtsZXQgZT10aGlzLl9saXN0LnJlYWRVSW50MTZCRSh0aGlzLl9wb3MpO3JldHVybiB0aGlzLl9wb3MrPTIsRChcIl9wYXJzZU51bTogcmVzdWx0OiAlc1wiLGUpLGV9X3BhcnNlNEJ5dGVOdW0oKXtpZih0aGlzLl9saXN0Lmxlbmd0aC10aGlzLl9wb3M8NClyZXR1cm4gLTE7bGV0IGU9dGhpcy5fbGlzdC5yZWFkVUludDMyQkUodGhpcy5fcG9zKTtyZXR1cm4gdGhpcy5fcG9zKz00LEQoXCJfcGFyc2U0Qnl0ZU51bTogcmVzdWx0OiAlc1wiLGUpLGV9X3BhcnNlVmFyQnl0ZU51bShlKXtEKFwiX3BhcnNlVmFyQnl0ZU51bVwiKTtsZXQgcj00LGk9MCxuPTEsbz0wLHM9ITEsYSxsPXRoaXMuX3Bvcz90aGlzLl9wb3M6MDtmb3IoO2k8ciYmbCtpPHRoaXMuX2xpc3QubGVuZ3RoOyl7aWYoYT10aGlzLl9saXN0LnJlYWRVSW50OChsK2krKyksbys9biooYSZWLlZBUkJZVEVJTlRfTUFTSyksbio9MTI4LCEoYSZWLlZBUkJZVEVJTlRfRklOX01BU0spKXtzPSEwO2JyZWFrfWlmKHRoaXMuX2xpc3QubGVuZ3RoPD1pKWJyZWFrfXJldHVybiAhcyYmaT09PXImJnRoaXMuX2xpc3QubGVuZ3RoPj1pJiZ0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCB2YXJpYWJsZSBieXRlIGludGVnZXJcIikpLGwmJih0aGlzLl9wb3MrPWkpLHM/ZT9zPXtieXRlczppLHZhbHVlOm99OnM9bzpzPSExLEQoXCJfcGFyc2VWYXJCeXRlTnVtOiByZXN1bHQ6ICVvXCIscyksc31fcGFyc2VCeXRlKCl7bGV0IGU7cmV0dXJuIHRoaXMuX3Bvczx0aGlzLl9saXN0Lmxlbmd0aCYmKGU9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSx0aGlzLl9wb3MrKyksRChcIl9wYXJzZUJ5dGU6IHJlc3VsdDogJW9cIixlKSxlfV9wYXJzZUJ5VHlwZShlKXtzd2l0Y2goRChcIl9wYXJzZUJ5VHlwZTogdHlwZTogJXNcIixlKSxlKXtjYXNlXCJieXRlXCI6cmV0dXJuIHRoaXMuX3BhcnNlQnl0ZSgpIT09MDtjYXNlXCJpbnQ4XCI6cmV0dXJuIHRoaXMuX3BhcnNlQnl0ZSgpO2Nhc2VcImludDE2XCI6cmV0dXJuIHRoaXMuX3BhcnNlTnVtKCk7Y2FzZVwiaW50MzJcIjpyZXR1cm4gdGhpcy5fcGFyc2U0Qnl0ZU51bSgpO2Nhc2VcInZhclwiOnJldHVybiB0aGlzLl9wYXJzZVZhckJ5dGVOdW0oKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdGhpcy5fcGFyc2VTdHJpbmcoKTtjYXNlXCJwYWlyXCI6cmV0dXJuIHRoaXMuX3BhcnNlU3RyaW5nUGFpcigpO2Nhc2VcImJpbmFyeVwiOnJldHVybiB0aGlzLl9wYXJzZUJ1ZmZlcigpfX1fcGFyc2VQcm9wZXJ0aWVzKCl7RChcIl9wYXJzZVByb3BlcnRpZXNcIik7bGV0IGU9dGhpcy5fcGFyc2VWYXJCeXRlTnVtKCksaT10aGlzLl9wb3MrZSxuPXt9O2Zvcig7dGhpcy5fcG9zPGk7KXtsZXQgbz10aGlzLl9wYXJzZUJ5dGUoKTtpZighbylyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBwcm9wZXJ0eSBjb2RlIHR5cGVcIikpLCExO2xldCBzPVYucHJvcGVydGllc0NvZGVzW29dO2lmKCFzKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiVW5rbm93biBwcm9wZXJ0eVwiKSksITE7aWYocz09PVwidXNlclByb3BlcnRpZXNcIil7bltzXXx8KG5bc109T2JqZWN0LmNyZWF0ZShudWxsKSk7bGV0IGE9dGhpcy5fcGFyc2VCeVR5cGUoVi5wcm9wZXJ0aWVzVHlwZXNbc10pO2lmKG5bc11bYS5uYW1lXSlpZihBcnJheS5pc0FycmF5KG5bc11bYS5uYW1lXSkpbltzXVthLm5hbWVdLnB1c2goYS52YWx1ZSk7ZWxzZSB7bGV0IGw9bltzXVthLm5hbWVdO25bc11bYS5uYW1lXT1bbF0sbltzXVthLm5hbWVdLnB1c2goYS52YWx1ZSk7fWVsc2UgbltzXVthLm5hbWVdPWEudmFsdWU7Y29udGludWV9bltzXT9BcnJheS5pc0FycmF5KG5bc10pP25bc10ucHVzaCh0aGlzLl9wYXJzZUJ5VHlwZShWLnByb3BlcnRpZXNUeXBlc1tzXSkpOihuW3NdPVtuW3NdXSxuW3NdLnB1c2godGhpcy5fcGFyc2VCeVR5cGUoVi5wcm9wZXJ0aWVzVHlwZXNbc10pKSk6bltzXT10aGlzLl9wYXJzZUJ5VHlwZShWLnByb3BlcnRpZXNUeXBlc1tzXSk7fXJldHVybiBufV9uZXdQYWNrZXQoKXtyZXR1cm4gRChcIl9uZXdQYWNrZXRcIiksdGhpcy5wYWNrZXQmJih0aGlzLl9saXN0LmNvbnN1bWUodGhpcy5wYWNrZXQubGVuZ3RoKSxEKFwiX25ld1BhY2tldDogcGFyc2VyIGVtaXQgcGFja2V0OiBwYWNrZXQuY21kOiAlcywgcGFja2V0LnBheWxvYWQ6ICVzLCBwYWNrZXQubGVuZ3RoOiAlZFwiLHRoaXMucGFja2V0LmNtZCx0aGlzLnBhY2tldC5wYXlsb2FkLHRoaXMucGFja2V0Lmxlbmd0aCksdGhpcy5lbWl0KFwicGFja2V0XCIsdGhpcy5wYWNrZXQpKSxEKFwiX25ld1BhY2tldDogbmV3IHBhY2tldFwiKSx0aGlzLnBhY2tldD1uZXcgd2QsdGhpcy5fcG9zPTAsITB9X2VtaXRFcnJvcihlKXtEKFwiX2VtaXRFcnJvclwiLGUpLHRoaXMuZXJyb3I9ZSx0aGlzLmVtaXQoXCJlcnJvclwiLGUpO319O19kLmV4cG9ydHM9Vm87fSk7dmFyIEFkPU0oKEtQLFNkKT0+e18oKTt2KCk7bSgpO3ZhcntCdWZmZXI6U2l9PShiZSgpLFgobWUpKSxPbT02NTUzNix2ZD17fSx4bT1TaS5pc0J1ZmZlcihTaS5mcm9tKFsxLDJdKS5zdWJhcnJheSgwLDEpKTtmdW5jdGlvbiBFZCh0KXtsZXQgZT1TaS5hbGxvY1Vuc2FmZSgyKTtyZXR1cm4gZS53cml0ZVVJbnQ4KHQ+PjgsMCksZS53cml0ZVVJbnQ4KHQmMjU1LDArMSksZX1mdW5jdGlvbiBNbSgpe2ZvcihsZXQgdD0wO3Q8T207dCsrKXZkW3RdPUVkKHQpO31mdW5jdGlvbiBMbSh0KXtsZXQgcj0wLGk9MCxuPVNpLmFsbG9jVW5zYWZlKDQpO2RvIHI9dCUxMjh8MCx0PXQvMTI4fDAsdD4wJiYocj1yfDEyOCksbi53cml0ZVVJbnQ4KHIsaSsrKTt3aGlsZSh0PjAmJmk8NCk7cmV0dXJuIHQ+MCYmKGk9MCkseG0/bi5zdWJhcnJheSgwLGkpOm4uc2xpY2UoMCxpKX1mdW5jdGlvbiBVbSh0KXtsZXQgZT1TaS5hbGxvY1Vuc2FmZSg0KTtyZXR1cm4gZS53cml0ZVVJbnQzMkJFKHQsMCksZX1TZC5leHBvcnRzPXtjYWNoZTp2ZCxnZW5lcmF0ZUNhY2hlOk1tLGdlbmVyYXRlTnVtYmVyOkVkLGdlbkJ1ZlZhcmlhYmxlQnl0ZUludDpMbSxnZW5lcmF0ZTRCeXRlQnVmZmVyOlVtfTt9KTt2YXIgSWQ9TSgoaWssem8pPT57XygpO3YoKTttKCk7dHlwZW9mIEI+XCJ1XCJ8fCFCLnZlcnNpb258fEIudmVyc2lvbi5pbmRleE9mKFwidjAuXCIpPT09MHx8Qi52ZXJzaW9uLmluZGV4T2YoXCJ2MS5cIik9PT0wJiZCLnZlcnNpb24uaW5kZXhPZihcInYxLjguXCIpIT09MD96by5leHBvcnRzPXtuZXh0VGljazpObX06em8uZXhwb3J0cz1CO2Z1bmN0aW9uIE5tKHQsZSxyLGkpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgsbyxzO3N3aXRjaChuKXtjYXNlIDA6Y2FzZSAxOnJldHVybiBCLm5leHRUaWNrKHQpO2Nhc2UgMjpyZXR1cm4gQi5uZXh0VGljayhmdW5jdGlvbigpe3QuY2FsbChudWxsLGUpO30pO2Nhc2UgMzpyZXR1cm4gQi5uZXh0VGljayhmdW5jdGlvbigpe3QuY2FsbChudWxsLGUscik7fSk7Y2FzZSA0OnJldHVybiBCLm5leHRUaWNrKGZ1bmN0aW9uKCl7dC5jYWxsKG51bGwsZSxyLGkpO30pO2RlZmF1bHQ6Zm9yKG89bmV3IEFycmF5KG4tMSkscz0wO3M8by5sZW5ndGg7KW9bcysrXT1hcmd1bWVudHNbc107cmV0dXJuIEIubmV4dFRpY2soZnVuY3Rpb24oKXt0LmFwcGx5KG51bGwsbyk7fSl9fX0pO3ZhciBRbz1NKChkayx4ZCk9PntfKCk7digpO20oKTt2YXIgaj1IbygpLHtCdWZmZXI6cX09KGJlKCksWChtZSkpLHFtPXEuYWxsb2NVbnNhZmUoMCksRG09cS5mcm9tKFswXSksQWk9QWQoKSxqbT1JZCgpLm5leHRUaWNrLHFlPW90KCkoXCJtcXR0LXBhY2tldDp3cml0ZVRvU3RyZWFtXCIpLFBuPUFpLmNhY2hlLEZtPUFpLmdlbmVyYXRlTnVtYmVyLFdtPUFpLmdlbmVyYXRlQ2FjaGUsS289QWkuZ2VuQnVmVmFyaWFibGVCeXRlSW50LCRtPUFpLmdlbmVyYXRlNEJ5dGVCdWZmZXIsVGU9R28sa249ITA7ZnVuY3Rpb24ga2QodCxlLHIpe3N3aXRjaChxZShcImdlbmVyYXRlIGNhbGxlZFwiKSxlLmNvcmsmJihlLmNvcmsoKSxqbShIbSxlKSksa24mJihrbj0hMSxXbSgpKSxxZShcImdlbmVyYXRlOiBwYWNrZXQuY21kOiAlc1wiLHQuY21kKSx0LmNtZCl7Y2FzZVwiY29ubmVjdFwiOnJldHVybiBWbSh0LGUpO2Nhc2VcImNvbm5hY2tcIjpyZXR1cm4gem0odCxlLHIpO2Nhc2VcInB1Ymxpc2hcIjpyZXR1cm4gS20odCxlLHIpO2Nhc2VcInB1YmFja1wiOmNhc2VcInB1YnJlY1wiOmNhc2VcInB1YnJlbFwiOmNhc2VcInB1YmNvbXBcIjpyZXR1cm4gR20odCxlLHIpO2Nhc2VcInN1YnNjcmliZVwiOnJldHVybiBRbSh0LGUscik7Y2FzZVwic3ViYWNrXCI6cmV0dXJuIFltKHQsZSxyKTtjYXNlXCJ1bnN1YnNjcmliZVwiOnJldHVybiBKbSh0LGUscik7Y2FzZVwidW5zdWJhY2tcIjpyZXR1cm4gWG0odCxlLHIpO2Nhc2VcInBpbmdyZXFcIjpjYXNlXCJwaW5ncmVzcFwiOnJldHVybiBabSh0LGUpO2Nhc2VcImRpc2Nvbm5lY3RcIjpyZXR1cm4gZTEodCxlLHIpO2Nhc2VcImF1dGhcIjpyZXR1cm4gdDEodCxlLHIpO2RlZmF1bHQ6cmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJVbmtub3duIGNvbW1hbmRcIikpLCExfX1PYmplY3QuZGVmaW5lUHJvcGVydHkoa2QsXCJjYWNoZU51bWJlcnNcIix7Z2V0KCl7cmV0dXJuIFRlPT09R299LHNldCh0KXt0PygoIVBufHxPYmplY3Qua2V5cyhQbikubGVuZ3RoPT09MCkmJihrbj0hMCksVGU9R28pOihrbj0hMSxUZT1yMSk7fX0pO2Z1bmN0aW9uIEhtKHQpe3QudW5jb3JrKCk7fWZ1bmN0aW9uIFZtKHQsZSxyKXtsZXQgaT10fHx7fSxuPWkucHJvdG9jb2xJZHx8XCJNUVRUXCIsbz1pLnByb3RvY29sVmVyc2lvbnx8NCxzPWkud2lsbCxhPWkuY2xlYW4sbD1pLmtlZXBhbGl2ZXx8MCxjPWkuY2xpZW50SWR8fFwiXCIsaD1pLnVzZXJuYW1lLGQ9aS5wYXNzd29yZCxnPWkucHJvcGVydGllczthPT09dm9pZCAwJiYoYT0hMCk7bGV0IHk9MDtpZighbnx8dHlwZW9mIG4hPVwic3RyaW5nXCImJiFxLmlzQnVmZmVyKG4pKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBwcm90b2NvbElkXCIpKSwhMTtpZih5Kz1uLmxlbmd0aCsyLG8hPT0zJiZvIT09NCYmbyE9PTUpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3RvY29sIHZlcnNpb25cIikpLCExO2lmKHkrPTEsKHR5cGVvZiBjPT1cInN0cmluZ1wifHxxLmlzQnVmZmVyKGMpKSYmKGN8fG8+PTQpJiYoY3x8YSkpeSs9cS5ieXRlTGVuZ3RoKGMpKzI7ZWxzZSB7aWYobzw0KXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiY2xpZW50SWQgbXVzdCBiZSBzdXBwbGllZCBiZWZvcmUgMy4xLjFcIikpLCExO2lmKGEqMT09PTApcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJjbGllbnRJZCBtdXN0IGJlIGdpdmVuIGlmIGNsZWFuU2Vzc2lvbiBzZXQgdG8gMFwiKSksITF9aWYodHlwZW9mIGwhPVwibnVtYmVyXCJ8fGw8MHx8bD42NTUzNXx8bCUxIT09MClyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQga2VlcGFsaXZlXCIpKSwhMTt5Kz0yLHkrPTE7bGV0IHcsUztpZihvPT09NSl7aWYodz1XdChlLGcpLCF3KXJldHVybiAhMTt5Kz13Lmxlbmd0aDt9aWYocyl7aWYodHlwZW9mIHMhPVwib2JqZWN0XCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHdpbGxcIikpLCExO2lmKCFzLnRvcGljfHx0eXBlb2Ygcy50b3BpYyE9XCJzdHJpbmdcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgd2lsbCB0b3BpY1wiKSksITE7aWYoeSs9cS5ieXRlTGVuZ3RoKHMudG9waWMpKzIseSs9MixzLnBheWxvYWQpaWYocy5wYXlsb2FkLmxlbmd0aD49MCl0eXBlb2Ygcy5wYXlsb2FkPT1cInN0cmluZ1wiP3krPXEuYnl0ZUxlbmd0aChzLnBheWxvYWQpOnkrPXMucGF5bG9hZC5sZW5ndGg7ZWxzZSByZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgd2lsbCBwYXlsb2FkXCIpKSwhMTtpZihTPXt9LG89PT01KXtpZihTPVd0KGUscy5wcm9wZXJ0aWVzKSwhUylyZXR1cm4gITE7eSs9Uy5sZW5ndGg7fX1sZXQgRT0hMTtpZihoIT1udWxsKWlmKFBkKGgpKUU9ITAseSs9cS5ieXRlTGVuZ3RoKGgpKzI7ZWxzZSByZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgdXNlcm5hbWVcIikpLCExO2lmKGQhPW51bGwpe2lmKCFFKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiVXNlcm5hbWUgaXMgcmVxdWlyZWQgdG8gdXNlIHBhc3N3b3JkXCIpKSwhMTtpZihQZChkKSl5Kz1PZChkKSsyO2Vsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHBhc3N3b3JkXCIpKSwhMX1lLndyaXRlKGouQ09OTkVDVF9IRUFERVIpLERlKGUseSksWXIoZSxuKSxpLmJyaWRnZU1vZGUmJihvKz0xMjgpLGUud3JpdGUobz09PTEzMT9qLlZFUlNJT04xMzE6bz09PTEzMj9qLlZFUlNJT04xMzI6bz09PTQ/ai5WRVJTSU9ONDpvPT09NT9qLlZFUlNJT041OmouVkVSU0lPTjMpO2xldCBJPTA7cmV0dXJuIEl8PWghPW51bGw/ai5VU0VSTkFNRV9NQVNLOjAsSXw9ZCE9bnVsbD9qLlBBU1NXT1JEX01BU0s6MCxJfD1zJiZzLnJldGFpbj9qLldJTExfUkVUQUlOX01BU0s6MCxJfD1zJiZzLnFvcz9zLnFvczw8ai5XSUxMX1FPU19TSElGVDowLEl8PXM/ai5XSUxMX0ZMQUdfTUFTSzowLEl8PWE/ai5DTEVBTl9TRVNTSU9OX01BU0s6MCxlLndyaXRlKHEuZnJvbShbSV0pKSxUZShlLGwpLG89PT01JiZ3LndyaXRlKCksWXIoZSxjKSxzJiYobz09PTUmJlMud3JpdGUoKSx3cihlLHMudG9waWMpLFlyKGUscy5wYXlsb2FkKSksaCE9bnVsbCYmWXIoZSxoKSxkIT1udWxsJiZZcihlLGQpLCEwfWZ1bmN0aW9uIHptKHQsZSxyKXtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPWk9PT01P24ucmVhc29uQ29kZTpuLnJldHVybkNvZGUscz1uLnByb3BlcnRpZXMsYT0yO2lmKHR5cGVvZiBvIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCByZXR1cm4gY29kZVwiKSksITE7bGV0IGw9bnVsbDtpZihpPT09NSl7aWYobD1XdChlLHMpLCFsKXJldHVybiAhMTthKz1sLmxlbmd0aDt9cmV0dXJuIGUud3JpdGUoai5DT05OQUNLX0hFQURFUiksRGUoZSxhKSxlLndyaXRlKG4uc2Vzc2lvblByZXNlbnQ/ai5TRVNTSU9OUFJFU0VOVF9IRUFERVI6RG0pLGUud3JpdGUocS5mcm9tKFtvXSkpLGw/LndyaXRlKCksITB9ZnVuY3Rpb24gS20odCxlLHIpe3FlKFwicHVibGlzaDogcGFja2V0OiAlb1wiLHQpO2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5xb3N8fDAscz1uLnJldGFpbj9qLlJFVEFJTl9NQVNLOjAsYT1uLnRvcGljLGw9bi5wYXlsb2FkfHxxbSxjPW4ubWVzc2FnZUlkLGg9bi5wcm9wZXJ0aWVzLGQ9MDtpZih0eXBlb2YgYT09XCJzdHJpbmdcIilkKz1xLmJ5dGVMZW5ndGgoYSkrMjtlbHNlIGlmKHEuaXNCdWZmZXIoYSkpZCs9YS5sZW5ndGgrMjtlbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCB0b3BpY1wiKSksITE7aWYocS5pc0J1ZmZlcihsKT9kKz1sLmxlbmd0aDpkKz1xLmJ5dGVMZW5ndGgobCksbyYmdHlwZW9mIGMhPVwibnVtYmVyXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2VJZFwiKSksITE7byYmKGQrPTIpO2xldCBnPW51bGw7aWYoaT09PTUpe2lmKGc9V3QoZSxoKSwhZylyZXR1cm4gITE7ZCs9Zy5sZW5ndGg7fXJldHVybiBlLndyaXRlKGouUFVCTElTSF9IRUFERVJbb11bbi5kdXA/MTowXVtzPzE6MF0pLERlKGUsZCksVGUoZSxPZChhKSksZS53cml0ZShhKSxvPjAmJlRlKGUsYyksZz8ud3JpdGUoKSxxZShcInB1Ymxpc2g6IHBheWxvYWQ6ICVvXCIsbCksZS53cml0ZShsKX1mdW5jdGlvbiBHbSh0LGUscil7bGV0IGk9cj9yLnByb3RvY29sVmVyc2lvbjo0LG49dHx8e30sbz1uLmNtZHx8XCJwdWJhY2tcIixzPW4ubWVzc2FnZUlkLGE9bi5kdXAmJm89PT1cInB1YnJlbFwiP2ouRFVQX01BU0s6MCxsPTAsYz1uLnJlYXNvbkNvZGUsaD1uLnByb3BlcnRpZXMsZD1pPT09NT8zOjI7aWYobz09PVwicHVicmVsXCImJihsPTEpLHR5cGVvZiBzIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO2xldCBnPW51bGw7aWYoaT09PTUmJnR5cGVvZiBoPT1cIm9iamVjdFwiKXtpZihnPUlpKGUsaCxyLGQpLCFnKXJldHVybiAhMTtkKz1nLmxlbmd0aDt9cmV0dXJuIGUud3JpdGUoai5BQ0tTW29dW2xdW2FdWzBdKSxkPT09MyYmKGQrPWMhPT0wPzE6LTEpLERlKGUsZCksVGUoZSxzKSxpPT09NSYmZCE9PTImJmUud3JpdGUocS5mcm9tKFtjXSkpLGchPT1udWxsP2cud3JpdGUoKTpkPT09NCYmZS53cml0ZShxLmZyb20oWzBdKSksITB9ZnVuY3Rpb24gUW0odCxlLHIpe3FlKFwic3Vic2NyaWJlOiBwYWNrZXQ6IFwiKTtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPW4uZHVwP2ouRFVQX01BU0s6MCxzPW4ubWVzc2FnZUlkLGE9bi5zdWJzY3JpcHRpb25zLGw9bi5wcm9wZXJ0aWVzLGM9MDtpZih0eXBlb2YgcyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtjKz0yO2xldCBoPW51bGw7aWYoaT09PTUpe2lmKGg9V3QoZSxsKSwhaClyZXR1cm4gITE7Yys9aC5sZW5ndGg7fWlmKHR5cGVvZiBhPT1cIm9iamVjdFwiJiZhLmxlbmd0aClmb3IobGV0IGc9MDtnPGEubGVuZ3RoO2crPTEpe2xldCB5PWFbZ10udG9waWMsdz1hW2ddLnFvcztpZih0eXBlb2YgeSE9XCJzdHJpbmdcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgdG9waWNcIikpLCExO2lmKHR5cGVvZiB3IT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zIC0gaW52YWxpZCBxb3NcIikpLCExO2lmKGk9PT01KXtpZih0eXBlb2YoYVtnXS5ubHx8ITEpIT1cImJvb2xlYW5cIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgTm8gTG9jYWxcIikpLCExO2lmKHR5cGVvZihhW2ddLnJhcHx8ITEpIT1cImJvb2xlYW5cIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgUmV0YWluIGFzIFB1Ymxpc2hlZFwiKSksITE7bGV0IEk9YVtnXS5yaHx8MDtpZih0eXBlb2YgSSE9XCJudW1iZXJcInx8ST4yKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zIC0gaW52YWxpZCBSZXRhaW4gSGFuZGxpbmdcIikpLCExfWMrPXEuYnl0ZUxlbmd0aCh5KSsyKzE7fWVsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnNcIikpLCExO3FlKFwic3Vic2NyaWJlOiB3cml0aW5nIHRvIHN0cmVhbTogJW9cIixqLlNVQlNDUklCRV9IRUFERVIpLGUud3JpdGUoai5TVUJTQ1JJQkVfSEVBREVSWzFdW28/MTowXVswXSksRGUoZSxjKSxUZShlLHMpLGghPT1udWxsJiZoLndyaXRlKCk7bGV0IGQ9ITA7Zm9yKGxldCBnIG9mIGEpe2xldCB5PWcudG9waWMsdz1nLnFvcyxTPStnLm5sLEU9K2cucmFwLEk9Zy5yaCxDO3dyKGUseSksQz1qLlNVQlNDUklCRV9PUFRJT05TX1FPU1t3XSxpPT09NSYmKEN8PVM/ai5TVUJTQ1JJQkVfT1BUSU9OU19OTDowLEN8PUU/ai5TVUJTQ1JJQkVfT1BUSU9OU19SQVA6MCxDfD1JP2ouU1VCU0NSSUJFX09QVElPTlNfUkhbSV06MCksZD1lLndyaXRlKHEuZnJvbShbQ10pKTt9cmV0dXJuIGR9ZnVuY3Rpb24gWW0odCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5tZXNzYWdlSWQscz1uLmdyYW50ZWQsYT1uLnByb3BlcnRpZXMsbD0wO2lmKHR5cGVvZiBvIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO2lmKGwrPTIsdHlwZW9mIHM9PVwib2JqZWN0XCImJnMubGVuZ3RoKWZvcihsZXQgaD0wO2g8cy5sZW5ndGg7aCs9MSl7aWYodHlwZW9mIHNbaF0hPVwibnVtYmVyXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHFvcyB2ZWN0b3JcIikpLCExO2wrPTE7fWVsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHFvcyB2ZWN0b3JcIikpLCExO2xldCBjPW51bGw7aWYoaT09PTUpe2lmKGM9SWkoZSxhLHIsbCksIWMpcmV0dXJuICExO2wrPWMubGVuZ3RoO31yZXR1cm4gZS53cml0ZShqLlNVQkFDS19IRUFERVIpLERlKGUsbCksVGUoZSxvKSxjIT09bnVsbCYmYy53cml0ZSgpLGUud3JpdGUocS5mcm9tKHMpKX1mdW5jdGlvbiBKbSh0LGUscil7bGV0IGk9cj9yLnByb3RvY29sVmVyc2lvbjo0LG49dHx8e30sbz1uLm1lc3NhZ2VJZCxzPW4uZHVwP2ouRFVQX01BU0s6MCxhPW4udW5zdWJzY3JpcHRpb25zLGw9bi5wcm9wZXJ0aWVzLGM9MDtpZih0eXBlb2YgbyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtpZihjKz0yLHR5cGVvZiBhPT1cIm9iamVjdFwiJiZhLmxlbmd0aClmb3IobGV0IGc9MDtnPGEubGVuZ3RoO2crPTEpe2lmKHR5cGVvZiBhW2ddIT1cInN0cmluZ1wiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YnNjcmlwdGlvbnNcIikpLCExO2MrPXEuYnl0ZUxlbmd0aChhW2ddKSsyO31lbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCB1bnN1YnNjcmlwdGlvbnNcIikpLCExO2xldCBoPW51bGw7aWYoaT09PTUpe2lmKGg9V3QoZSxsKSwhaClyZXR1cm4gITE7Yys9aC5sZW5ndGg7fWUud3JpdGUoai5VTlNVQlNDUklCRV9IRUFERVJbMV1bcz8xOjBdWzBdKSxEZShlLGMpLFRlKGUsbyksaCE9PW51bGwmJmgud3JpdGUoKTtsZXQgZD0hMDtmb3IobGV0IGc9MDtnPGEubGVuZ3RoO2crKylkPXdyKGUsYVtnXSk7cmV0dXJuIGR9ZnVuY3Rpb24gWG0odCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5tZXNzYWdlSWQscz1uLmR1cD9qLkRVUF9NQVNLOjAsYT1uLmdyYW50ZWQsbD1uLnByb3BlcnRpZXMsYz1uLmNtZCxoPTAsZD0yO2lmKHR5cGVvZiBvIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO2lmKGk9PT01KWlmKHR5cGVvZiBhPT1cIm9iamVjdFwiJiZhLmxlbmd0aClmb3IobGV0IHk9MDt5PGEubGVuZ3RoO3krPTEpe2lmKHR5cGVvZiBhW3ldIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBxb3MgdmVjdG9yXCIpKSwhMTtkKz0xO31lbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBxb3MgdmVjdG9yXCIpKSwhMTtsZXQgZz1udWxsO2lmKGk9PT01KXtpZihnPUlpKGUsbCxyLGQpLCFnKXJldHVybiAhMTtkKz1nLmxlbmd0aDt9cmV0dXJuIGUud3JpdGUoai5BQ0tTW2NdW2hdW3NdWzBdKSxEZShlLGQpLFRlKGUsbyksZyE9PW51bGwmJmcud3JpdGUoKSxpPT09NSYmZS53cml0ZShxLmZyb20oYSkpLCEwfWZ1bmN0aW9uIFptKHQsZSxyKXtyZXR1cm4gZS53cml0ZShqLkVNUFRZW3QuY21kXSl9ZnVuY3Rpb24gZTEodCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5yZWFzb25Db2RlLHM9bi5wcm9wZXJ0aWVzLGE9aT09PTU/MTowLGw9bnVsbDtpZihpPT09NSl7aWYobD1JaShlLHMscixhKSwhbClyZXR1cm4gITE7YSs9bC5sZW5ndGg7fXJldHVybiBlLndyaXRlKHEuZnJvbShbai5jb2Rlcy5kaXNjb25uZWN0PDw0XSkpLERlKGUsYSksaT09PTUmJmUud3JpdGUocS5mcm9tKFtvXSkpLGwhPT1udWxsJiZsLndyaXRlKCksITB9ZnVuY3Rpb24gdDEodCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5yZWFzb25Db2RlLHM9bi5wcm9wZXJ0aWVzLGE9aT09PTU/MTowO2khPT01JiZlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtcXR0IHZlcnNpb24gZm9yIGF1dGggcGFja2V0XCIpKTtsZXQgbD1JaShlLHMscixhKTtyZXR1cm4gbD8oYSs9bC5sZW5ndGgsZS53cml0ZShxLmZyb20oW2ouY29kZXMuYXV0aDw8NF0pKSxEZShlLGEpLGUud3JpdGUocS5mcm9tKFtvXSkpLGwhPT1udWxsJiZsLndyaXRlKCksITApOiExfXZhciBUZD17fTtmdW5jdGlvbiBEZSh0LGUpe2lmKGU+ai5WQVJCWVRFSU5UX01BWClyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCB2YXJpYWJsZSBieXRlIGludGVnZXI6ICR7ZX1gKSksITE7bGV0IHI9VGRbZV07cmV0dXJuIHJ8fChyPUtvKGUpLGU8MTYzODQmJihUZFtlXT1yKSkscWUoXCJ3cml0ZVZhckJ5dGVJbnQ6IHdyaXRpbmcgdG8gc3RyZWFtOiAlb1wiLHIpLHQud3JpdGUocil9ZnVuY3Rpb24gd3IodCxlKXtsZXQgcj1xLmJ5dGVMZW5ndGgoZSk7cmV0dXJuIFRlKHQscikscWUoXCJ3cml0ZVN0cmluZzogJXNcIixlKSx0LndyaXRlKGUsXCJ1dGY4XCIpfWZ1bmN0aW9uIFJkKHQsZSxyKXt3cih0LGUpLHdyKHQscik7fWZ1bmN0aW9uIEdvKHQsZSl7cmV0dXJuIHFlKFwid3JpdGVOdW1iZXJDYWNoZWQ6IG51bWJlcjogJWRcIixlKSxxZShcIndyaXRlTnVtYmVyQ2FjaGVkOiAlb1wiLFBuW2VdKSx0LndyaXRlKFBuW2VdKX1mdW5jdGlvbiByMSh0LGUpe2xldCByPUZtKGUpO3JldHVybiBxZShcIndyaXRlTnVtYmVyR2VuZXJhdGVkOiAlb1wiLHIpLHQud3JpdGUocil9ZnVuY3Rpb24gaTEodCxlKXtsZXQgcj0kbShlKTtyZXR1cm4gcWUoXCJ3cml0ZTRCeXRlTnVtYmVyOiAlb1wiLHIpLHQud3JpdGUocil9ZnVuY3Rpb24gWXIodCxlKXt0eXBlb2YgZT09XCJzdHJpbmdcIj93cih0LGUpOmU/KFRlKHQsZS5sZW5ndGgpLHQud3JpdGUoZSkpOlRlKHQsMCk7fWZ1bmN0aW9uIFd0KHQsZSl7aWYodHlwZW9mIGUhPVwib2JqZWN0XCJ8fGUubGVuZ3RoIT1udWxsKXJldHVybiB7bGVuZ3RoOjEsd3JpdGUoKXtCZCh0LHt9LDApO319O2xldCByPTA7ZnVuY3Rpb24gaShvLHMpe2xldCBhPWoucHJvcGVydGllc1R5cGVzW29dLGw9MDtzd2l0Y2goYSl7Y2FzZVwiYnl0ZVwiOntpZih0eXBlb2YgcyE9XCJib29sZWFuXCIpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTtsKz0xKzE7YnJlYWt9Y2FzZVwiaW50OFwiOntpZih0eXBlb2YgcyE9XCJudW1iZXJcInx8czwwfHxzPjI1NSlyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCAke299OiAke3N9YCkpLCExO2wrPTErMTticmVha31jYXNlXCJiaW5hcnlcIjp7aWYocyYmcz09PW51bGwpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTtsKz0xK3EuYnl0ZUxlbmd0aChzKSsyO2JyZWFrfWNhc2VcImludDE2XCI6e2lmKHR5cGVvZiBzIT1cIm51bWJlclwifHxzPDB8fHM+NjU1MzUpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTtsKz0xKzI7YnJlYWt9Y2FzZVwiaW50MzJcIjp7aWYodHlwZW9mIHMhPVwibnVtYmVyXCJ8fHM8MHx8cz40Mjk0OTY3Mjk1KXJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkICR7b306ICR7c31gKSksITE7bCs9MSs0O2JyZWFrfWNhc2VcInZhclwiOntpZih0eXBlb2YgcyE9XCJudW1iZXJcInx8czwwfHxzPjI2ODQzNTQ1NSlyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCAke299OiAke3N9YCkpLCExO2wrPTErcS5ieXRlTGVuZ3RoKEtvKHMpKTticmVha31jYXNlXCJzdHJpbmdcIjp7aWYodHlwZW9mIHMhPVwic3RyaW5nXCIpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTtsKz0xKzIrcS5ieXRlTGVuZ3RoKHMudG9TdHJpbmcoKSk7YnJlYWt9Y2FzZVwicGFpclwiOntpZih0eXBlb2YgcyE9XCJvYmplY3RcIilyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCAke299OiAke3N9YCkpLCExO2wrPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHMpLnJlZHVjZSgoYyxoKT0+e2xldCBkPXNbaF07cmV0dXJuIEFycmF5LmlzQXJyYXkoZCk/Yys9ZC5yZWR1Y2UoKGcseSk9PihnKz0xKzIrcS5ieXRlTGVuZ3RoKGgudG9TdHJpbmcoKSkrMitxLmJ5dGVMZW5ndGgoeS50b1N0cmluZygpKSxnKSwwKTpjKz0xKzIrcS5ieXRlTGVuZ3RoKGgudG9TdHJpbmcoKSkrMitxLmJ5dGVMZW5ndGgoc1toXS50b1N0cmluZygpKSxjfSwwKTticmVha31kZWZhdWx0OnJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkIHByb3BlcnR5ICR7b306ICR7c31gKSksITF9cmV0dXJuIGx9aWYoZSlmb3IobGV0IG8gaW4gZSl7bGV0IHM9MCxhPTAsbD1lW29dO2lmKEFycmF5LmlzQXJyYXkobCkpZm9yKGxldCBjPTA7YzxsLmxlbmd0aDtjKyspe2lmKGE9aShvLGxbY10pLCFhKXJldHVybiAhMTtzKz1hO31lbHNlIHtpZihhPWkobyxsKSwhYSlyZXR1cm4gITE7cz1hO31pZighcylyZXR1cm4gITE7cis9czt9cmV0dXJuIHtsZW5ndGg6cS5ieXRlTGVuZ3RoKEtvKHIpKStyLHdyaXRlKCl7QmQodCxlLHIpO319fWZ1bmN0aW9uIElpKHQsZSxyLGkpe2xldCBuPVtcInJlYXNvblN0cmluZ1wiLFwidXNlclByb3BlcnRpZXNcIl0sbz1yJiZyLnByb3BlcnRpZXMmJnIucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZT9yLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemU6MCxzPVd0KHQsZSk7aWYobylmb3IoO2krcy5sZW5ndGg+bzspe2xldCBhPW4uc2hpZnQoKTtpZihhJiZlW2FdKWRlbGV0ZSBlW2FdLHM9V3QodCxlKTtlbHNlIHJldHVybiAhMX1yZXR1cm4gc31mdW5jdGlvbiBDZCh0LGUscil7c3dpdGNoKGoucHJvcGVydGllc1R5cGVzW2VdKXtjYXNlXCJieXRlXCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksdC53cml0ZShxLmZyb20oWytyXSkpO2JyZWFrfWNhc2VcImludDhcIjp7dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSx0LndyaXRlKHEuZnJvbShbcl0pKTticmVha31jYXNlXCJiaW5hcnlcIjp7dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSxZcih0LHIpO2JyZWFrfWNhc2VcImludDE2XCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksVGUodCxyKTticmVha31jYXNlXCJpbnQzMlwiOnt0LndyaXRlKHEuZnJvbShbai5wcm9wZXJ0aWVzW2VdXSkpLGkxKHQscik7YnJlYWt9Y2FzZVwidmFyXCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksRGUodCxyKTticmVha31jYXNlXCJzdHJpbmdcIjp7dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSx3cih0LHIpO2JyZWFrfWNhc2VcInBhaXJcIjp7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikuZm9yRWFjaChuPT57bGV0IG89cltuXTtBcnJheS5pc0FycmF5KG8pP28uZm9yRWFjaChzPT57dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSxSZCh0LG4udG9TdHJpbmcoKSxzLnRvU3RyaW5nKCkpO30pOih0LndyaXRlKHEuZnJvbShbai5wcm9wZXJ0aWVzW2VdXSkpLFJkKHQsbi50b1N0cmluZygpLG8udG9TdHJpbmcoKSkpO30pO2JyZWFrfWRlZmF1bHQ6cmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgcHJvcGVydHkgJHtlfSB2YWx1ZTogJHtyfWApKSwhMX19ZnVuY3Rpb24gQmQodCxlLHIpe0RlKHQscik7Zm9yKGxldCBpIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsaSkmJmVbaV0hPT1udWxsKXtsZXQgbj1lW2ldO2lmKEFycmF5LmlzQXJyYXkobikpZm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspQ2QodCxpLG5bb10pO2Vsc2UgQ2QodCxpLG4pO319ZnVuY3Rpb24gT2QodCl7cmV0dXJuIHQ/dCBpbnN0YW5jZW9mIHE/dC5sZW5ndGg6cS5ieXRlTGVuZ3RoKHQpOjB9ZnVuY3Rpb24gUGQodCl7cmV0dXJuIHR5cGVvZiB0PT1cInN0cmluZ1wifHx0IGluc3RhbmNlb2YgcX14ZC5leHBvcnRzPWtkO30pO3ZhciBVZD1NKChTayxMZCk9PntfKCk7digpO20oKTt2YXIgbjE9UW8oKSx7RXZlbnRFbWl0dGVyOnMxfT0oc3IoKSxYKG5yKSkse0J1ZmZlcjpNZH09KGJlKCksWChtZSkpO2Z1bmN0aW9uIG8xKHQsZSl7bGV0IHI9bmV3IFlvO3JldHVybiBuMSh0LHIsZSksci5jb25jYXQoKX12YXIgWW89Y2xhc3MgZXh0ZW5kcyBzMXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5fYXJyYXk9bmV3IEFycmF5KDIwKSx0aGlzLl9pPTA7fXdyaXRlKGUpe3JldHVybiB0aGlzLl9hcnJheVt0aGlzLl9pKytdPWUsITB9Y29uY2F0KCl7bGV0IGU9MCxyPW5ldyBBcnJheSh0aGlzLl9hcnJheS5sZW5ndGgpLGk9dGhpcy5fYXJyYXksbj0wLG87Zm9yKG89MDtvPGkubGVuZ3RoJiZpW29dIT09dm9pZCAwO28rKyl0eXBlb2YgaVtvXSE9XCJzdHJpbmdcIj9yW29dPWlbb10ubGVuZ3RoOnJbb109TWQuYnl0ZUxlbmd0aChpW29dKSxlKz1yW29dO2xldCBzPU1kLmFsbG9jVW5zYWZlKGUpO2ZvcihvPTA7bzxpLmxlbmd0aCYmaVtvXSE9PXZvaWQgMDtvKyspdHlwZW9mIGlbb10hPVwic3RyaW5nXCI/KGlbb10uY29weShzLG4pLG4rPXJbb10pOihzLndyaXRlKGlbb10sbiksbis9cltvXSk7cmV0dXJuIHN9ZGVzdHJveShlKXtlJiZ0aGlzLmVtaXQoXCJlcnJvclwiLGUpO319O0xkLmV4cG9ydHM9bzE7fSk7dmFyIE5kPU0oT249PntfKCk7digpO20oKTtPbi5wYXJzZXI9bWQoKS5wYXJzZXI7T24uZ2VuZXJhdGU9VWQoKTtPbi53cml0ZVRvU3RyZWFtPVFvKCk7fSk7dmFyIFpvPU0oWG89PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWG8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEpvPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5uZXh0SWQ9TWF0aC5tYXgoMSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNjU1MzUpKTt9YWxsb2NhdGUoKXtsZXQgZT10aGlzLm5leHRJZCsrO3JldHVybiB0aGlzLm5leHRJZD09PTY1NTM2JiYodGhpcy5uZXh0SWQ9MSksZX1nZXRMYXN0QWxsb2NhdGVkKCl7cmV0dXJuIHRoaXMubmV4dElkPT09MT82NTUzNTp0aGlzLm5leHRJZC0xfXJlZ2lzdGVyKGUpe3JldHVybiAhMH1kZWFsbG9jYXRlKGUpe31jbGVhcigpe319O1hvLmRlZmF1bHQ9Sm87fSk7dmFyIERkPU0oKFprLHFkKT0+e18oKTt2KCk7bSgpO3FkLmV4cG9ydHM9YTE7ZnVuY3Rpb24gSnIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB4P3guZnJvbSh0KTpuZXcgdC5jb25zdHJ1Y3Rvcih0LmJ1ZmZlci5zbGljZSgpLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9ZnVuY3Rpb24gYTEodCl7aWYodD10fHx7fSx0LmNpcmNsZXMpcmV0dXJuIGwxKHQpO3JldHVybiB0LnByb3RvP2k6cjtmdW5jdGlvbiBlKG4sbyl7Zm9yKHZhciBzPU9iamVjdC5rZXlzKG4pLGE9bmV3IEFycmF5KHMubGVuZ3RoKSxsPTA7bDxzLmxlbmd0aDtsKyspe3ZhciBjPXNbbF0saD1uW2NdO3R5cGVvZiBoIT1cIm9iamVjdFwifHxoPT09bnVsbD9hW2NdPWg6aCBpbnN0YW5jZW9mIERhdGU/YVtjXT1uZXcgRGF0ZShoKTpBcnJheUJ1ZmZlci5pc1ZpZXcoaCk/YVtjXT1KcihoKTphW2NdPW8oaCk7fXJldHVybiBhfWZ1bmN0aW9uIHIobil7aWYodHlwZW9mIG4hPVwib2JqZWN0XCJ8fG49PT1udWxsKXJldHVybiBuO2lmKG4gaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShuKTtpZihBcnJheS5pc0FycmF5KG4pKXJldHVybiBlKG4scik7aWYobiBpbnN0YW5jZW9mIE1hcClyZXR1cm4gbmV3IE1hcChlKEFycmF5LmZyb20obikscikpO2lmKG4gaW5zdGFuY2VvZiBTZXQpcmV0dXJuIG5ldyBTZXQoZShBcnJheS5mcm9tKG4pLHIpKTt2YXIgbz17fTtmb3IodmFyIHMgaW4gbilpZihPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLHMpIT09ITEpe3ZhciBhPW5bc107dHlwZW9mIGEhPVwib2JqZWN0XCJ8fGE9PT1udWxsP29bc109YTphIGluc3RhbmNlb2YgRGF0ZT9vW3NdPW5ldyBEYXRlKGEpOmEgaW5zdGFuY2VvZiBNYXA/b1tzXT1uZXcgTWFwKGUoQXJyYXkuZnJvbShhKSxyKSk6YSBpbnN0YW5jZW9mIFNldD9vW3NdPW5ldyBTZXQoZShBcnJheS5mcm9tKGEpLHIpKTpBcnJheUJ1ZmZlci5pc1ZpZXcoYSk/b1tzXT1KcihhKTpvW3NdPXIoYSk7fXJldHVybiBvfWZ1bmN0aW9uIGkobil7aWYodHlwZW9mIG4hPVwib2JqZWN0XCJ8fG49PT1udWxsKXJldHVybiBuO2lmKG4gaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShuKTtpZihBcnJheS5pc0FycmF5KG4pKXJldHVybiBlKG4saSk7aWYobiBpbnN0YW5jZW9mIE1hcClyZXR1cm4gbmV3IE1hcChlKEFycmF5LmZyb20obiksaSkpO2lmKG4gaW5zdGFuY2VvZiBTZXQpcmV0dXJuIG5ldyBTZXQoZShBcnJheS5mcm9tKG4pLGkpKTt2YXIgbz17fTtmb3IodmFyIHMgaW4gbil7dmFyIGE9bltzXTt0eXBlb2YgYSE9XCJvYmplY3RcInx8YT09PW51bGw/b1tzXT1hOmEgaW5zdGFuY2VvZiBEYXRlP29bc109bmV3IERhdGUoYSk6YSBpbnN0YW5jZW9mIE1hcD9vW3NdPW5ldyBNYXAoZShBcnJheS5mcm9tKGEpLGkpKTphIGluc3RhbmNlb2YgU2V0P29bc109bmV3IFNldChlKEFycmF5LmZyb20oYSksaSkpOkFycmF5QnVmZmVyLmlzVmlldyhhKT9vW3NdPUpyKGEpOm9bc109aShhKTt9cmV0dXJuIG99fWZ1bmN0aW9uIGwxKHQpe3ZhciBlPVtdLHI9W107cmV0dXJuIHQucHJvdG8/bzpuO2Z1bmN0aW9uIGkocyxhKXtmb3IodmFyIGw9T2JqZWN0LmtleXMocyksYz1uZXcgQXJyYXkobC5sZW5ndGgpLGg9MDtoPGwubGVuZ3RoO2grKyl7dmFyIGQ9bFtoXSxnPXNbZF07aWYodHlwZW9mIGchPVwib2JqZWN0XCJ8fGc9PT1udWxsKWNbZF09ZztlbHNlIGlmKGcgaW5zdGFuY2VvZiBEYXRlKWNbZF09bmV3IERhdGUoZyk7ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZykpY1tkXT1KcihnKTtlbHNlIHt2YXIgeT1lLmluZGV4T2YoZyk7eSE9PS0xP2NbZF09clt5XTpjW2RdPWEoZyk7fX1yZXR1cm4gY31mdW5jdGlvbiBuKHMpe2lmKHR5cGVvZiBzIT1cIm9iamVjdFwifHxzPT09bnVsbClyZXR1cm4gcztpZihzIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUocyk7aWYoQXJyYXkuaXNBcnJheShzKSlyZXR1cm4gaShzLG4pO2lmKHMgaW5zdGFuY2VvZiBNYXApcmV0dXJuIG5ldyBNYXAoaShBcnJheS5mcm9tKHMpLG4pKTtpZihzIGluc3RhbmNlb2YgU2V0KXJldHVybiBuZXcgU2V0KGkoQXJyYXkuZnJvbShzKSxuKSk7dmFyIGE9e307ZS5wdXNoKHMpLHIucHVzaChhKTtmb3IodmFyIGwgaW4gcylpZihPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzLGwpIT09ITEpe3ZhciBjPXNbbF07aWYodHlwZW9mIGMhPVwib2JqZWN0XCJ8fGM9PT1udWxsKWFbbF09YztlbHNlIGlmKGMgaW5zdGFuY2VvZiBEYXRlKWFbbF09bmV3IERhdGUoYyk7ZWxzZSBpZihjIGluc3RhbmNlb2YgTWFwKWFbbF09bmV3IE1hcChpKEFycmF5LmZyb20oYyksbikpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIFNldClhW2xdPW5ldyBTZXQoaShBcnJheS5mcm9tKGMpLG4pKTtlbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhjKSlhW2xdPUpyKGMpO2Vsc2Uge3ZhciBoPWUuaW5kZXhPZihjKTtoIT09LTE/YVtsXT1yW2hdOmFbbF09bihjKTt9fXJldHVybiBlLnBvcCgpLHIucG9wKCksYX1mdW5jdGlvbiBvKHMpe2lmKHR5cGVvZiBzIT1cIm9iamVjdFwifHxzPT09bnVsbClyZXR1cm4gcztpZihzIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUocyk7aWYoQXJyYXkuaXNBcnJheShzKSlyZXR1cm4gaShzLG8pO2lmKHMgaW5zdGFuY2VvZiBNYXApcmV0dXJuIG5ldyBNYXAoaShBcnJheS5mcm9tKHMpLG8pKTtpZihzIGluc3RhbmNlb2YgU2V0KXJldHVybiBuZXcgU2V0KGkoQXJyYXkuZnJvbShzKSxvKSk7dmFyIGE9e307ZS5wdXNoKHMpLHIucHVzaChhKTtmb3IodmFyIGwgaW4gcyl7dmFyIGM9c1tsXTtpZih0eXBlb2YgYyE9XCJvYmplY3RcInx8Yz09PW51bGwpYVtsXT1jO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIERhdGUpYVtsXT1uZXcgRGF0ZShjKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBNYXApYVtsXT1uZXcgTWFwKGkoQXJyYXkuZnJvbShjKSxvKSk7ZWxzZSBpZihjIGluc3RhbmNlb2YgU2V0KWFbbF09bmV3IFNldChpKEFycmF5LmZyb20oYyksbykpO2Vsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KGMpKWFbbF09SnIoYyk7ZWxzZSB7dmFyIGg9ZS5pbmRleE9mKGMpO2ghPT0tMT9hW2xdPXJbaF06YVtsXT1vKGMpO319cmV0dXJuIGUucG9wKCksci5wb3AoKSxhfX19KTt2YXIgRmQ9TSgodU8samQpPT57XygpO3YoKTttKCk7amQuZXhwb3J0cz1EZCgpKCk7fSk7dmFyICRkPU0oWHI9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7WHIudmFsaWRhdGVUb3BpY3M9WHIudmFsaWRhdGVUb3BpYz12b2lkIDA7ZnVuY3Rpb24gV2QodCl7bGV0IGU9dC5zcGxpdChcIi9cIik7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXSE9PVwiK1wiKXtpZihlW3JdPT09XCIjXCIpcmV0dXJuIHI9PT1lLmxlbmd0aC0xO2lmKGVbcl0uaW5kZXhPZihcIitcIikhPT0tMXx8ZVtyXS5pbmRleE9mKFwiI1wiKSE9PS0xKXJldHVybiAhMX1yZXR1cm4gITB9WHIudmFsaWRhdGVUb3BpYz1XZDtmdW5jdGlvbiB1MSh0KXtpZih0Lmxlbmd0aD09PTApcmV0dXJuIFwiZW1wdHlfdG9waWNfbGlzdFwiO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCFXZCh0W2VdKSlyZXR1cm4gdFtlXTtyZXR1cm4gbnVsbH1Yci52YWxpZGF0ZVRvcGljcz11MTt9KTt2YXIgcmE9TSh0YT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgZjE9anQoKSxjMT17b2JqZWN0TW9kZTohMH0saDE9e2NsZWFuOiEwfSxlYT1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9ZXx8e30sdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxoMSksZSksdGhpcy5faW5mbGlnaHRzPW5ldyBNYXA7fXB1dChlLHIpe3JldHVybiB0aGlzLl9pbmZsaWdodHMuc2V0KGUubWVzc2FnZUlkLGUpLHImJnIoKSx0aGlzfWNyZWF0ZVN0cmVhbSgpe2xldCBlPW5ldyBmMS5SZWFkYWJsZShjMSkscj1bXSxpPSExLG49MDtyZXR1cm4gdGhpcy5faW5mbGlnaHRzLmZvckVhY2goKG8scyk9PntyLnB1c2gobyk7fSksZS5fcmVhZD0oKT0+eyFpJiZuPHIubGVuZ3RoP2UucHVzaChyW24rK10pOmUucHVzaChudWxsKTt9LGUuZGVzdHJveT1vPT57aWYoIWkpcmV0dXJuIGk9ITAsc2V0VGltZW91dCgoKT0+e2UuZW1pdChcImNsb3NlXCIpO30sMCksZX0sZX1kZWwoZSxyKXtsZXQgaT10aGlzLl9pbmZsaWdodHMuZ2V0KGUubWVzc2FnZUlkKTtyZXR1cm4gaT8odGhpcy5faW5mbGlnaHRzLmRlbGV0ZShlLm1lc3NhZ2VJZCkscihudWxsLGkpKTpyJiZyKG5ldyBFcnJvcihcIm1pc3NpbmcgcGFja2V0XCIpKSx0aGlzfWdldChlLHIpe2xldCBpPXRoaXMuX2luZmxpZ2h0cy5nZXQoZS5tZXNzYWdlSWQpO3JldHVybiBpP3IobnVsbCxpKTpyJiZyKG5ldyBFcnJvcihcIm1pc3NpbmcgcGFja2V0XCIpKSx0aGlzfWNsb3NlKGUpe3RoaXMub3B0aW9ucy5jbGVhbiYmKHRoaXMuX2luZmxpZ2h0cz1udWxsKSxlJiZlKCk7fX07dGEuZGVmYXVsdD1lYTt9KTt2YXIgVmQ9TShpYT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSGQ9WzAsMTYsMTI4LDEzMSwxMzUsMTQ0LDE0NSwxNTEsMTUzXSxkMT0odCxlLHIpPT57dC5sb2coXCJoYW5kbGVQdWJsaXNoOiBwYWNrZXQgJW9cIixlKSxyPXR5cGVvZiByPFwidVwiP3I6dC5ub29wO2xldCBpPWUudG9waWMudG9TdHJpbmcoKSxuPWUucGF5bG9hZCx7cW9zOm99PWUse21lc3NhZ2VJZDpzfT1lLHtvcHRpb25zOmF9PXQ7aWYodC5vcHRpb25zLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCBsO2lmKGUucHJvcGVydGllcyYmKGw9ZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXMpLHR5cGVvZiBsPFwidVwiKWlmKGkubGVuZ3RoPT09MClpZihsPjAmJmw8PTY1NTM1KXtsZXQgYz10LnRvcGljQWxpYXNSZWN2LmdldFRvcGljQnlBbGlhcyhsKTtpZihjKWk9Yyx0LmxvZyhcImhhbmRsZVB1Ymxpc2ggOjogdG9waWMgY29tcGxlbWVudGVkIGJ5IGFsaWFzLiB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLGwpO2Vsc2Uge3QubG9nKFwiaGFuZGxlUHVibGlzaCA6OiB1bnJlZ2lzdGVyZWQgdG9waWMgYWxpYXMuIGFsaWFzOiAlZFwiLGwpLHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUmVjZWl2ZWQgdW5yZWdpc3RlcmVkIFRvcGljIEFsaWFzXCIpKTtyZXR1cm59fWVsc2Uge3QubG9nKFwiaGFuZGxlUHVibGlzaCA6OiB0b3BpYyBhbGlhcyBvdXQgb2YgcmFuZ2UuIGFsaWFzOiAlZFwiLGwpLHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUmVjZWl2ZWQgVG9waWMgQWxpYXMgaXMgb3V0IG9mIHJhbmdlXCIpKTtyZXR1cm59ZWxzZSBpZih0LnRvcGljQWxpYXNSZWN2LnB1dChpLGwpKXQubG9nKFwiaGFuZGxlUHVibGlzaCA6OiByZWdpc3RlcmVkIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGksbCk7ZWxzZSB7dC5sb2coXCJoYW5kbGVQdWJsaXNoIDo6IHRvcGljIGFsaWFzIG91dCBvZiByYW5nZS4gYWxpYXM6ICVkXCIsbCksdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJSZWNlaXZlZCBUb3BpYyBBbGlhcyBpcyBvdXQgb2YgcmFuZ2VcIikpO3JldHVybn19c3dpdGNoKHQubG9nKFwiaGFuZGxlUHVibGlzaDogcW9zICVkXCIsbyksbyl7Y2FzZSAyOnthLmN1c3RvbUhhbmRsZUFja3MoaSxuLGUsKGwsYyk9PntpZih0eXBlb2YgbD09XCJudW1iZXJcIiYmKGM9bCxsPW51bGwpLGwpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbCk7aWYoSGQuaW5kZXhPZihjKT09PS0xKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIldyb25nIHJlYXNvbiBjb2RlIGZvciBwdWJyZWNcIikpO2M/dC5fc2VuZFBhY2tldCh7Y21kOlwicHVicmVjXCIsbWVzc2FnZUlkOnMscmVhc29uQ29kZTpjfSxyKTp0LmluY29taW5nU3RvcmUucHV0KGUsKCk9Pnt0Ll9zZW5kUGFja2V0KHtjbWQ6XCJwdWJyZWNcIixtZXNzYWdlSWQ6c30scik7fSk7fSk7YnJlYWt9Y2FzZSAxOnthLmN1c3RvbUhhbmRsZUFja3MoaSxuLGUsKGwsYyk9PntpZih0eXBlb2YgbD09XCJudW1iZXJcIiYmKGM9bCxsPW51bGwpLGwpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbCk7aWYoSGQuaW5kZXhPZihjKT09PS0xKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIldyb25nIHJlYXNvbiBjb2RlIGZvciBwdWJhY2tcIikpO2N8fHQuZW1pdChcIm1lc3NhZ2VcIixpLG4sZSksdC5oYW5kbGVNZXNzYWdlKGUsaD0+e2lmKGgpcmV0dXJuIHImJnIoaCk7dC5fc2VuZFBhY2tldCh7Y21kOlwicHViYWNrXCIsbWVzc2FnZUlkOnMscmVhc29uQ29kZTpjfSxyKTt9KTt9KTticmVha31jYXNlIDA6dC5lbWl0KFwibWVzc2FnZVwiLGksbixlKSx0LmhhbmRsZU1lc3NhZ2UoZSxyKTticmVhaztkZWZhdWx0OnQubG9nKFwiaGFuZGxlUHVibGlzaDogdW5rbm93biBRb1MuIERvaW5nIG5vdGhpbmcuXCIpO2JyZWFrfX07aWEuZGVmYXVsdD1kMTt9KTt2YXIgemQ9TSgoUU8scDEpPT57cDEuZXhwb3J0cz17dmVyc2lvbjpcIjUuMTAuMVwifTt9KTt2YXIgX3I9TShhdD0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShhdCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTthdC5NUVRUSlNfVkVSU0lPTj1hdC5uZXh0VGljaz1hdC5hcHBseU1peGluPWF0LkVycm9yV2l0aFJlYXNvbkNvZGU9dm9pZCAwO3ZhciBuYT1jbGFzcyB0IGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlKSx0aGlzLmNvZGU9cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyx0LnByb3RvdHlwZSksT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLm5hbWU9XCJFcnJvcldpdGhSZWFzb25Db2RlXCI7fX07YXQuRXJyb3JXaXRoUmVhc29uQ29kZT1uYTtmdW5jdGlvbiBnMSh0LGUscj0hMSl7dmFyIGk7bGV0IG49W2VdO2Zvcig7Oyl7bGV0IG89blswXSxzPU9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtpZihzPy5wcm90b3R5cGUpbi51bnNoaWZ0KHMpO2Vsc2UgYnJlYWt9Zm9yKGxldCBvIG9mIG4pZm9yKGxldCBzIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG8ucHJvdG90eXBlKSkocnx8cyE9PVwiY29uc3RydWN0b3JcIikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxzLChpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioby5wcm90b3R5cGUscykpIT09bnVsbCYmaSE9PXZvaWQgMD9pOk9iamVjdC5jcmVhdGUobnVsbCkpO31hdC5hcHBseU1peGluPWcxO2F0Lm5leHRUaWNrPXR5cGVvZihCPT09bnVsbHx8Qj09PXZvaWQgMD92b2lkIDA6Qi5uZXh0VGljayk9PVwiZnVuY3Rpb25cIj9CLm5leHRUaWNrOnQ9PntzZXRUaW1lb3V0KHQsMCk7fTthdC5NUVRUSlNfVkVSU0lPTj16ZCgpLnZlcnNpb247fSk7dmFyIFRpPU0oJHQ9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoJHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7JHQuUmVhc29uQ29kZXM9dm9pZCAwO3ZhciBLZD1fcigpOyR0LlJlYXNvbkNvZGVzPXswOlwiXCIsMTpcIlVuYWNjZXB0YWJsZSBwcm90b2NvbCB2ZXJzaW9uXCIsMjpcIklkZW50aWZpZXIgcmVqZWN0ZWRcIiwzOlwiU2VydmVyIHVuYXZhaWxhYmxlXCIsNDpcIkJhZCB1c2VybmFtZSBvciBwYXNzd29yZFwiLDU6XCJOb3QgYXV0aG9yaXplZFwiLDE2OlwiTm8gbWF0Y2hpbmcgc3Vic2NyaWJlcnNcIiwxNzpcIk5vIHN1YnNjcmlwdGlvbiBleGlzdGVkXCIsMTI4OlwiVW5zcGVjaWZpZWQgZXJyb3JcIiwxMjk6XCJNYWxmb3JtZWQgUGFja2V0XCIsMTMwOlwiUHJvdG9jb2wgRXJyb3JcIiwxMzE6XCJJbXBsZW1lbnRhdGlvbiBzcGVjaWZpYyBlcnJvclwiLDEzMjpcIlVuc3VwcG9ydGVkIFByb3RvY29sIFZlcnNpb25cIiwxMzM6XCJDbGllbnQgSWRlbnRpZmllciBub3QgdmFsaWRcIiwxMzQ6XCJCYWQgVXNlciBOYW1lIG9yIFBhc3N3b3JkXCIsMTM1OlwiTm90IGF1dGhvcml6ZWRcIiwxMzY6XCJTZXJ2ZXIgdW5hdmFpbGFibGVcIiwxMzc6XCJTZXJ2ZXIgYnVzeVwiLDEzODpcIkJhbm5lZFwiLDEzOTpcIlNlcnZlciBzaHV0dGluZyBkb3duXCIsMTQwOlwiQmFkIGF1dGhlbnRpY2F0aW9uIG1ldGhvZFwiLDE0MTpcIktlZXAgQWxpdmUgdGltZW91dFwiLDE0MjpcIlNlc3Npb24gdGFrZW4gb3ZlclwiLDE0MzpcIlRvcGljIEZpbHRlciBpbnZhbGlkXCIsMTQ0OlwiVG9waWMgTmFtZSBpbnZhbGlkXCIsMTQ1OlwiUGFja2V0IGlkZW50aWZpZXIgaW4gdXNlXCIsMTQ2OlwiUGFja2V0IElkZW50aWZpZXIgbm90IGZvdW5kXCIsMTQ3OlwiUmVjZWl2ZSBNYXhpbXVtIGV4Y2VlZGVkXCIsMTQ4OlwiVG9waWMgQWxpYXMgaW52YWxpZFwiLDE0OTpcIlBhY2tldCB0b28gbGFyZ2VcIiwxNTA6XCJNZXNzYWdlIHJhdGUgdG9vIGhpZ2hcIiwxNTE6XCJRdW90YSBleGNlZWRlZFwiLDE1MjpcIkFkbWluaXN0cmF0aXZlIGFjdGlvblwiLDE1MzpcIlBheWxvYWQgZm9ybWF0IGludmFsaWRcIiwxNTQ6XCJSZXRhaW4gbm90IHN1cHBvcnRlZFwiLDE1NTpcIlFvUyBub3Qgc3VwcG9ydGVkXCIsMTU2OlwiVXNlIGFub3RoZXIgc2VydmVyXCIsMTU3OlwiU2VydmVyIG1vdmVkXCIsMTU4OlwiU2hhcmVkIFN1YnNjcmlwdGlvbnMgbm90IHN1cHBvcnRlZFwiLDE1OTpcIkNvbm5lY3Rpb24gcmF0ZSBleGNlZWRlZFwiLDE2MDpcIk1heGltdW0gY29ubmVjdCB0aW1lXCIsMTYxOlwiU3Vic2NyaXB0aW9uIElkZW50aWZpZXJzIG5vdCBzdXBwb3J0ZWRcIiwxNjI6XCJXaWxkY2FyZCBTdWJzY3JpcHRpb25zIG5vdCBzdXBwb3J0ZWRcIn07dmFyIHkxPSh0LGUpPT57bGV0e21lc3NhZ2VJZDpyfT1lLGk9ZS5jbWQsbj1udWxsLG89dC5vdXRnb2luZ1tyXT90Lm91dGdvaW5nW3JdLmNiOm51bGwscz1udWxsO2lmKCFvKXt0LmxvZyhcIl9oYW5kbGVBY2sgOjogU2VydmVyIHNlbnQgYW4gYWNrIGluIGVycm9yLiBJZ25vcmluZy5cIik7cmV0dXJufXN3aXRjaCh0LmxvZyhcIl9oYW5kbGVBY2sgOjogcGFja2V0IHR5cGVcIixpKSxpKXtjYXNlXCJwdWJjb21wXCI6Y2FzZVwicHViYWNrXCI6e2xldCBhPWUucmVhc29uQ29kZTthJiZhPjAmJmEhPT0xNj8ocz1uZXcgS2QuRXJyb3JXaXRoUmVhc29uQ29kZShgUHVibGlzaCBlcnJvcjogJHskdC5SZWFzb25Db2Rlc1thXX1gLGEpLHQuX3JlbW92ZU91dGdvaW5nQW5kU3RvcmVNZXNzYWdlKHIsKCk9PntvKHMsZSk7fSkpOnQuX3JlbW92ZU91dGdvaW5nQW5kU3RvcmVNZXNzYWdlKHIsbyk7YnJlYWt9Y2FzZVwicHVicmVjXCI6e249e2NtZDpcInB1YnJlbFwiLHFvczoyLG1lc3NhZ2VJZDpyfTtsZXQgYT1lLnJlYXNvbkNvZGU7YSYmYT4wJiZhIT09MTY/KHM9bmV3IEtkLkVycm9yV2l0aFJlYXNvbkNvZGUoYFB1Ymxpc2ggZXJyb3I6ICR7JHQuUmVhc29uQ29kZXNbYV19YCxhKSx0Ll9yZW1vdmVPdXRnb2luZ0FuZFN0b3JlTWVzc2FnZShyLCgpPT57byhzLGUpO30pKTp0Ll9zZW5kUGFja2V0KG4pO2JyZWFrfWNhc2VcInN1YmFja1wiOntkZWxldGUgdC5vdXRnb2luZ1tyXSx0Lm1lc3NhZ2VJZFByb3ZpZGVyLmRlYWxsb2NhdGUocik7bGV0IGE9ZS5ncmFudGVkO2ZvcihsZXQgbD0wO2w8YS5sZW5ndGg7bCsrKXtsZXQgYz1hW2xdO2lmKGMmMTI4KXtzPW5ldyBFcnJvcihgU3Vic2NyaWJlIGVycm9yOiAkeyR0LlJlYXNvbkNvZGVzW2NdfWApLHMuY29kZT1jO2xldCBoPXQubWVzc2FnZUlkVG9Ub3BpY1tyXTtoJiZoLmZvckVhY2goZD0+e2RlbGV0ZSB0Ll9yZXN1YnNjcmliZVRvcGljc1tkXTt9KTt9fWRlbGV0ZSB0Lm1lc3NhZ2VJZFRvVG9waWNbcl0sdC5faW52b2tlU3RvcmVQcm9jZXNzaW5nUXVldWUoKSxvKHMsZSk7YnJlYWt9Y2FzZVwidW5zdWJhY2tcIjp7ZGVsZXRlIHQub3V0Z29pbmdbcl0sdC5tZXNzYWdlSWRQcm92aWRlci5kZWFsbG9jYXRlKHIpLHQuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksbyhudWxsLGUpO2JyZWFrfWRlZmF1bHQ6dC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJ1bnJlY29nbml6ZWQgcGFja2V0IHR5cGVcIikpO310LmRpc2Nvbm5lY3RpbmcmJk9iamVjdC5rZXlzKHQub3V0Z29pbmcpLmxlbmd0aD09PTAmJnQuZW1pdChcIm91dGdvaW5nRW1wdHlcIik7fTskdC5kZWZhdWx0PXkxO30pO3ZhciBRZD1NKHNhPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHNhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBHZD1fcigpLGIxPVRpKCksdzE9KHQsZSk9PntsZXR7b3B0aW9uczpyfT10LGk9ci5wcm90b2NvbFZlcnNpb24sbj1pPT09NT9lLnJlYXNvbkNvZGU6ZS5yZXR1cm5Db2RlO2lmKGkhPT01KXtsZXQgbz1uZXcgR2QuRXJyb3JXaXRoUmVhc29uQ29kZShgUHJvdG9jb2wgZXJyb3I6IEF1dGggcGFja2V0cyBhcmUgb25seSBzdXBwb3J0ZWQgaW4gTVFUVCA1LiBZb3VyIHZlcnNpb246JHtpfWAsbik7dC5lbWl0KFwiZXJyb3JcIixvKTtyZXR1cm59dC5oYW5kbGVBdXRoKGUsKG8scyk9PntpZihvKXt0LmVtaXQoXCJlcnJvclwiLG8pO3JldHVybn1pZihuPT09MjQpdC5yZWNvbm5lY3Rpbmc9ITEsdC5fc2VuZFBhY2tldChzKTtlbHNlIHtsZXQgYT1uZXcgR2QuRXJyb3JXaXRoUmVhc29uQ29kZShgQ29ubmVjdGlvbiByZWZ1c2VkOiAke2IxLlJlYXNvbkNvZGVzW25dfWAsbik7dC5lbWl0KFwiZXJyb3JcIixhKTt9fSk7fTtzYS5kZWZhdWx0PXcxO30pO3ZhciBlcD1NKE1uPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KE1uLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO01uLkxSVUNhY2hlPXZvaWQgMDt2YXIgUmk9dHlwZW9mIHBlcmZvcm1hbmNlPT1cIm9iamVjdFwiJiZwZXJmb3JtYW5jZSYmdHlwZW9mIHBlcmZvcm1hbmNlLm5vdz09XCJmdW5jdGlvblwiP3BlcmZvcm1hbmNlOkRhdGUsSmQ9bmV3IFNldCxvYT10eXBlb2YgQj09XCJvYmplY3RcIiYmQj9COnt9LFhkPSh0LGUscixpKT0+e3R5cGVvZiBvYS5lbWl0V2FybmluZz09XCJmdW5jdGlvblwiP29hLmVtaXRXYXJuaW5nKHQsZSxyLGkpOmNvbnNvbGUuZXJyb3IoYFske3J9XSAke2V9OiAke3R9YCk7fSx4bj1nbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlcixZZD1nbG9iYWxUaGlzLkFib3J0U2lnbmFsO2lmKHR5cGVvZiB4bj5cInVcIil7WWQ9Y2xhc3N7b25hYm9ydDtfb25hYm9ydD1bXTtyZWFzb247YWJvcnRlZD0hMTthZGRFdmVudExpc3RlbmVyKGksbil7dGhpcy5fb25hYm9ydC5wdXNoKG4pO319LHhuPWNsYXNze2NvbnN0cnVjdG9yKCl7ZSgpO31zaWduYWw9bmV3IFlkO2Fib3J0KGkpe2lmKCF0aGlzLnNpZ25hbC5hYm9ydGVkKXt0aGlzLnNpZ25hbC5yZWFzb249aSx0aGlzLnNpZ25hbC5hYm9ydGVkPSEwO2ZvcihsZXQgbiBvZiB0aGlzLnNpZ25hbC5fb25hYm9ydCluKGkpO3RoaXMuc2lnbmFsLm9uYWJvcnQ/LihpKTt9fX07bGV0IHQ9b2EuZW52Py5MUlVfQ0FDSEVfSUdOT1JFX0FDX1dBUk5JTkchPT1cIjFcIixlPSgpPT57dCYmKHQ9ITEsWGQoXCJBYm9ydENvbnRyb2xsZXIgaXMgbm90IGRlZmluZWQuIElmIHVzaW5nIGxydS1jYWNoZSBpbiBub2RlIDE0LCBsb2FkIGFuIEFib3J0Q29udHJvbGxlciBwb2x5ZmlsbCBmcm9tIHRoZSBgbm9kZS1hYm9ydC1jb250cm9sbGVyYCBwYWNrYWdlLiBBIG1pbmltYWwgcG9seWZpbGwgaXMgcHJvdmlkZWQgZm9yIHVzZSBieSBMUlVDYWNoZS5mZXRjaCgpLCBidXQgaXQgc2hvdWxkIG5vdCBiZSByZWxpZWQgdXBvbiBpbiBvdGhlciBjb250ZXh0cyAoZWcsIHBhc3NpbmcgaXQgdG8gb3RoZXIgQVBJcyB0aGF0IHVzZSBBYm9ydENvbnRyb2xsZXIvQWJvcnRTaWduYWwgbWlnaHQgaGF2ZSB1bmRlc2lyYWJsZSBlZmZlY3RzKS4gWW91IG1heSBkaXNhYmxlIHRoaXMgd2l0aCBMUlVfQ0FDSEVfSUdOT1JFX0FDX1dBUk5JTkc9MSBpbiB0aGUgZW52LlwiLFwiTk9fQUJPUlRfQ09OVFJPTExFUlwiLFwiRU5PVFNVUFwiLGUpKTt9O312YXIgXzE9dD0+IUpkLmhhcyh0KSxIdD10PT50JiZ0PT09TWF0aC5mbG9vcih0KSYmdD4wJiZpc0Zpbml0ZSh0KSxaZD10PT5IdCh0KT90PD1NYXRoLnBvdygyLDgpP1VpbnQ4QXJyYXk6dDw9TWF0aC5wb3coMiwxNik/VWludDE2QXJyYXk6dDw9TWF0aC5wb3coMiwzMik/VWludDMyQXJyYXk6dDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/WnI6bnVsbDpudWxsLFpyPWNsYXNzIGV4dGVuZHMgQXJyYXl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5maWxsKDApO319LGFhPWNsYXNzIHR7aGVhcDtsZW5ndGg7c3RhdGljI2w9ITE7c3RhdGljIGNyZWF0ZShlKXtsZXQgcj1aZChlKTtpZighcilyZXR1cm4gW107dC4jbD0hMDtsZXQgaT1uZXcgdChlLHIpO3JldHVybiB0LiNsPSExLGl9Y29uc3RydWN0b3IoZSxyKXtpZighdC4jbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiaW5zdGFudGlhdGUgU3RhY2sgdXNpbmcgU3RhY2suY3JlYXRlKG4pXCIpO3RoaXMuaGVhcD1uZXcgcihlKSx0aGlzLmxlbmd0aD0wO31wdXNoKGUpe3RoaXMuaGVhcFt0aGlzLmxlbmd0aCsrXT1lO31wb3AoKXtyZXR1cm4gdGhpcy5oZWFwWy0tdGhpcy5sZW5ndGhdfX0sbGE9Y2xhc3MgdHsjbDsjYzsjcDsjZzsjQjt0dGw7dHRsUmVzb2x1dGlvbjt0dGxBdXRvcHVyZ2U7dXBkYXRlQWdlT25HZXQ7dXBkYXRlQWdlT25IYXM7YWxsb3dTdGFsZTtub0Rpc3Bvc2VPblNldDtub1VwZGF0ZVRUTDttYXhFbnRyeVNpemU7c2l6ZUNhbGN1bGF0aW9uO25vRGVsZXRlT25GZXRjaFJlamVjdGlvbjtub0RlbGV0ZU9uU3RhbGVHZXQ7YWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDthbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbjtpZ25vcmVGZXRjaEFib3J0OyNpOyN5OyNuOyNyOyNlOyN1OyNoOyNhOyNzOyNiOyNvOyNFOyNTOyN3OyNfOyNJOyNmO3N0YXRpYyB1bnNhZmVFeHBvc2VJbnRlcm5hbHMoZSl7cmV0dXJuIHtzdGFydHM6ZS4jUyx0dGxzOmUuI3csc2l6ZXM6ZS4jRSxrZXlNYXA6ZS4jbixrZXlMaXN0OmUuI3IsdmFsTGlzdDplLiNlLG5leHQ6ZS4jdSxwcmV2OmUuI2gsZ2V0IGhlYWQoKXtyZXR1cm4gZS4jYX0sZ2V0IHRhaWwoKXtyZXR1cm4gZS4jc30sZnJlZTplLiNiLGlzQmFja2dyb3VuZEZldGNoOnI9PmUuI3QociksYmFja2dyb3VuZEZldGNoOihyLGksbixvKT0+ZS4jTyhyLGksbixvKSxtb3ZlVG9UYWlsOnI9PmUuI0MociksaW5kZXhlczpyPT5lLiNtKHIpLHJpbmRleGVzOnI9PmUuI3YociksaXNTdGFsZTpyPT5lLiNkKHIpfX1nZXQgbWF4KCl7cmV0dXJuIHRoaXMuI2x9Z2V0IG1heFNpemUoKXtyZXR1cm4gdGhpcy4jY31nZXQgY2FsY3VsYXRlZFNpemUoKXtyZXR1cm4gdGhpcy4jeX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLiNpfWdldCBmZXRjaE1ldGhvZCgpe3JldHVybiB0aGlzLiNCfWdldCBkaXNwb3NlKCl7cmV0dXJuIHRoaXMuI3B9Z2V0IGRpc3Bvc2VBZnRlcigpe3JldHVybiB0aGlzLiNnfWNvbnN0cnVjdG9yKGUpe2xldHttYXg6cj0wLHR0bDppLHR0bFJlc29sdXRpb246bj0xLHR0bEF1dG9wdXJnZTpvLHVwZGF0ZUFnZU9uR2V0OnMsdXBkYXRlQWdlT25IYXM6YSxhbGxvd1N0YWxlOmwsZGlzcG9zZTpjLGRpc3Bvc2VBZnRlcjpoLG5vRGlzcG9zZU9uU2V0OmQsbm9VcGRhdGVUVEw6ZyxtYXhTaXplOnk9MCxtYXhFbnRyeVNpemU6dz0wLHNpemVDYWxjdWxhdGlvbjpTLGZldGNoTWV0aG9kOkUsbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uOkksbm9EZWxldGVPblN0YWxlR2V0OkMsYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246UixhbGxvd1N0YWxlT25GZXRjaEFib3J0OlUsaWdub3JlRmV0Y2hBYm9ydDpOfT1lO2lmKHIhPT0wJiYhSHQocikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm1heCBvcHRpb24gbXVzdCBiZSBhIG5vbm5lZ2F0aXZlIGludGVnZXJcIik7bGV0IFc9cj9aZChyKTpBcnJheTtpZighVyl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIG1heCB2YWx1ZTogXCIrcik7aWYodGhpcy4jbD1yLHRoaXMuI2M9eSx0aGlzLm1heEVudHJ5U2l6ZT13fHx0aGlzLiNjLHRoaXMuc2l6ZUNhbGN1bGF0aW9uPVMsdGhpcy5zaXplQ2FsY3VsYXRpb24pe2lmKCF0aGlzLiNjJiYhdGhpcy5tYXhFbnRyeVNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgc2l6ZUNhbGN1bGF0aW9uIHdpdGhvdXQgc2V0dGluZyBtYXhTaXplIG9yIG1heEVudHJ5U2l6ZVwiKTtpZih0eXBlb2YgdGhpcy5zaXplQ2FsY3VsYXRpb24hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKFwic2l6ZUNhbGN1bGF0aW9uIHNldCB0byBub24tZnVuY3Rpb25cIil9aWYoRSE9PXZvaWQgMCYmdHlwZW9mIEUhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZmV0Y2hNZXRob2QgbXVzdCBiZSBhIGZ1bmN0aW9uIGlmIHNwZWNpZmllZFwiKTtpZih0aGlzLiNCPUUsdGhpcy4jST0hIUUsdGhpcy4jbj1uZXcgTWFwLHRoaXMuI3I9bmV3IEFycmF5KHIpLmZpbGwodm9pZCAwKSx0aGlzLiNlPW5ldyBBcnJheShyKS5maWxsKHZvaWQgMCksdGhpcy4jdT1uZXcgVyhyKSx0aGlzLiNoPW5ldyBXKHIpLHRoaXMuI2E9MCx0aGlzLiNzPTAsdGhpcy4jYj1hYS5jcmVhdGUociksdGhpcy4jaT0wLHRoaXMuI3k9MCx0eXBlb2YgYz09XCJmdW5jdGlvblwiJiYodGhpcy4jcD1jKSx0eXBlb2YgaD09XCJmdW5jdGlvblwiPyh0aGlzLiNnPWgsdGhpcy4jbz1bXSk6KHRoaXMuI2c9dm9pZCAwLHRoaXMuI289dm9pZCAwKSx0aGlzLiNfPSEhdGhpcy4jcCx0aGlzLiNmPSEhdGhpcy4jZyx0aGlzLm5vRGlzcG9zZU9uU2V0PSEhZCx0aGlzLm5vVXBkYXRlVFRMPSEhZyx0aGlzLm5vRGVsZXRlT25GZXRjaFJlamVjdGlvbj0hIUksdGhpcy5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbj0hIVIsdGhpcy5hbGxvd1N0YWxlT25GZXRjaEFib3J0PSEhVSx0aGlzLmlnbm9yZUZldGNoQWJvcnQ9ISFOLHRoaXMubWF4RW50cnlTaXplIT09MCl7aWYodGhpcy4jYyE9PTAmJiFIdCh0aGlzLiNjKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibWF4U2l6ZSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWRcIik7aWYoIUh0KHRoaXMubWF4RW50cnlTaXplKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibWF4RW50cnlTaXplIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHNwZWNpZmllZFwiKTt0aGlzLiNxKCk7fWlmKHRoaXMuYWxsb3dTdGFsZT0hIWwsdGhpcy5ub0RlbGV0ZU9uU3RhbGVHZXQ9ISFDLHRoaXMudXBkYXRlQWdlT25HZXQ9ISFzLHRoaXMudXBkYXRlQWdlT25IYXM9ISFhLHRoaXMudHRsUmVzb2x1dGlvbj1IdChuKXx8bj09PTA/bjoxLHRoaXMudHRsQXV0b3B1cmdlPSEhbyx0aGlzLnR0bD1pfHwwLHRoaXMudHRsKXtpZighSHQodGhpcy50dGwpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0dGwgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkXCIpO3RoaXMuI3goKTt9aWYodGhpcy4jbD09PTAmJnRoaXMudHRsPT09MCYmdGhpcy4jYz09PTApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkF0IGxlYXN0IG9uZSBvZiBtYXgsIG1heFNpemUsIG9yIHR0bCBpcyByZXF1aXJlZFwiKTtpZighdGhpcy50dGxBdXRvcHVyZ2UmJiF0aGlzLiNsJiYhdGhpcy4jYyl7bGV0IEs9XCJMUlVfQ0FDSEVfVU5CT1VOREVEXCI7XzEoSykmJihKZC5hZGQoSyksWGQoXCJUVEwgY2FjaGluZyB3aXRob3V0IHR0bEF1dG9wdXJnZSwgbWF4LCBvciBtYXhTaXplIGNhbiByZXN1bHQgaW4gdW5ib3VuZGVkIG1lbW9yeSBjb25zdW1wdGlvbi5cIixcIlVuYm91bmRlZENhY2hlV2FybmluZ1wiLEssdCkpO319Z2V0UmVtYWluaW5nVFRMKGUpe3JldHVybiB0aGlzLiNuLmhhcyhlKT8xLzA6MH0jeCgpe2xldCBlPW5ldyBacih0aGlzLiNsKSxyPW5ldyBacih0aGlzLiNsKTt0aGlzLiN3PWUsdGhpcy4jUz1yLHRoaXMuI009KG8scyxhPVJpLm5vdygpKT0+e2lmKHJbb109cyE9PTA/YTowLGVbb109cyxzIT09MCYmdGhpcy50dGxBdXRvcHVyZ2Upe2xldCBsPXNldFRpbWVvdXQoKCk9Pnt0aGlzLiNkKG8pJiZ0aGlzLmRlbGV0ZSh0aGlzLiNyW29dKTt9LHMrMSk7bC51bnJlZiYmbC51bnJlZigpO319LHRoaXMuI1Q9bz0+e3Jbb109ZVtvXSE9PTA/Umkubm93KCk6MDt9LHRoaXMuI0E9KG8scyk9PntpZihlW3NdKXtsZXQgYT1lW3NdLGw9cltzXTtvLnR0bD1hLG8uc3RhcnQ9bCxvLm5vdz1pfHxuKCk7bGV0IGM9by5ub3ctbDtvLnJlbWFpbmluZ1RUTD1hLWM7fX07bGV0IGk9MCxuPSgpPT57bGV0IG89Umkubm93KCk7aWYodGhpcy50dGxSZXNvbHV0aW9uPjApe2k9bztsZXQgcz1zZXRUaW1lb3V0KCgpPT5pPTAsdGhpcy50dGxSZXNvbHV0aW9uKTtzLnVucmVmJiZzLnVucmVmKCk7fXJldHVybiBvfTt0aGlzLmdldFJlbWFpbmluZ1RUTD1vPT57bGV0IHM9dGhpcy4jbi5nZXQobyk7aWYocz09PXZvaWQgMClyZXR1cm4gMDtsZXQgYT1lW3NdLGw9cltzXTtpZihhPT09MHx8bD09PTApcmV0dXJuIDEvMDtsZXQgYz0oaXx8bigpKS1sO3JldHVybiBhLWN9LHRoaXMuI2Q9bz0+ZVtvXSE9PTAmJnJbb10hPT0wJiYoaXx8bigpKS1yW29dPmVbb107fSNUPSgpPT57fTsjQT0oKT0+e307I009KCk9Pnt9OyNkPSgpPT4hMTsjcSgpe2xldCBlPW5ldyBacih0aGlzLiNsKTt0aGlzLiN5PTAsdGhpcy4jRT1lLHRoaXMuI1I9cj0+e3RoaXMuI3ktPWVbcl0sZVtyXT0wO30sdGhpcy4jTD0ocixpLG4sbyk9PntpZih0aGlzLiN0KGkpKXJldHVybiAwO2lmKCFIdChuKSlpZihvKXtpZih0eXBlb2YgbyE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJzaXplQ2FsY3VsYXRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2lmKG49byhpLHIpLCFIdChuKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwic2l6ZUNhbGN1bGF0aW9uIHJldHVybiBpbnZhbGlkIChleHBlY3QgcG9zaXRpdmUgaW50ZWdlcilcIil9ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiaW52YWxpZCBzaXplIHZhbHVlIChtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIpLiBXaGVuIG1heFNpemUgb3IgbWF4RW50cnlTaXplIGlzIHVzZWQsIHNpemVDYWxjdWxhdGlvbiBvciBzaXplIG11c3QgYmUgc2V0LlwiKTtyZXR1cm4gbn0sdGhpcy4jUD0ocixpLG4pPT57aWYoZVtyXT1pLHRoaXMuI2Mpe2xldCBvPXRoaXMuI2MtZVtyXTtmb3IoO3RoaXMuI3k+bzspdGhpcy4jayghMCk7fXRoaXMuI3krPWVbcl0sbiYmKG4uZW50cnlTaXplPWksbi50b3RhbENhbGN1bGF0ZWRTaXplPXRoaXMuI3kpO307fSNSPWU9Pnt9OyNQPShlLHIsaSk9Pnt9OyNMPShlLHIsaSxuKT0+e2lmKGl8fG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgc2l6ZSB3aXRob3V0IHNldHRpbmcgbWF4U2l6ZSBvciBtYXhFbnRyeVNpemUgb24gY2FjaGVcIik7cmV0dXJuIDB9OyojbSh7YWxsb3dTdGFsZTplPXRoaXMuYWxsb3dTdGFsZX09e30pe2lmKHRoaXMuI2kpZm9yKGxldCByPXRoaXMuI3M7ISghdGhpcy4jVShyKXx8KChlfHwhdGhpcy4jZChyKSkmJih5aWVsZCByKSxyPT09dGhpcy4jYSkpOylyPXRoaXMuI2hbcl07fSojdih7YWxsb3dTdGFsZTplPXRoaXMuYWxsb3dTdGFsZX09e30pe2lmKHRoaXMuI2kpZm9yKGxldCByPXRoaXMuI2E7ISghdGhpcy4jVShyKXx8KChlfHwhdGhpcy4jZChyKSkmJih5aWVsZCByKSxyPT09dGhpcy4jcykpOylyPXRoaXMuI3Vbcl07fSNVKGUpe3JldHVybiBlIT09dm9pZCAwJiZ0aGlzLiNuLmdldCh0aGlzLiNyW2VdKT09PWV9KmVudHJpZXMoKXtmb3IobGV0IGUgb2YgdGhpcy4jbSgpKXRoaXMuI2VbZV0hPT12b2lkIDAmJnRoaXMuI3JbZV0hPT12b2lkIDAmJiF0aGlzLiN0KHRoaXMuI2VbZV0pJiYoeWllbGQgW3RoaXMuI3JbZV0sdGhpcy4jZVtlXV0pO30qcmVudHJpZXMoKXtmb3IobGV0IGUgb2YgdGhpcy4jdigpKXRoaXMuI2VbZV0hPT12b2lkIDAmJnRoaXMuI3JbZV0hPT12b2lkIDAmJiF0aGlzLiN0KHRoaXMuI2VbZV0pJiYoeWllbGQgW3RoaXMuI3JbZV0sdGhpcy4jZVtlXV0pO30qa2V5cygpe2ZvcihsZXQgZSBvZiB0aGlzLiNtKCkpe2xldCByPXRoaXMuI3JbZV07ciE9PXZvaWQgMCYmIXRoaXMuI3QodGhpcy4jZVtlXSkmJih5aWVsZCByKTt9fSpya2V5cygpe2ZvcihsZXQgZSBvZiB0aGlzLiN2KCkpe2xldCByPXRoaXMuI3JbZV07ciE9PXZvaWQgMCYmIXRoaXMuI3QodGhpcy4jZVtlXSkmJih5aWVsZCByKTt9fSp2YWx1ZXMoKXtmb3IobGV0IGUgb2YgdGhpcy4jbSgpKXRoaXMuI2VbZV0hPT12b2lkIDAmJiF0aGlzLiN0KHRoaXMuI2VbZV0pJiYoeWllbGQgdGhpcy4jZVtlXSk7fSpydmFsdWVzKCl7Zm9yKGxldCBlIG9mIHRoaXMuI3YoKSl0aGlzLiNlW2VdIT09dm9pZCAwJiYhdGhpcy4jdCh0aGlzLiNlW2VdKSYmKHlpZWxkIHRoaXMuI2VbZV0pO31bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLmVudHJpZXMoKX1maW5kKGUscj17fSl7Zm9yKGxldCBpIG9mIHRoaXMuI20oKSl7bGV0IG49dGhpcy4jZVtpXSxvPXRoaXMuI3Qobik/bi5fX3N0YWxlV2hpbGVGZXRjaGluZzpuO2lmKG8hPT12b2lkIDAmJmUobyx0aGlzLiNyW2ldLHRoaXMpKXJldHVybiB0aGlzLmdldCh0aGlzLiNyW2ldLHIpfX1mb3JFYWNoKGUscj10aGlzKXtmb3IobGV0IGkgb2YgdGhpcy4jbSgpKXtsZXQgbj10aGlzLiNlW2ldLG89dGhpcy4jdChuKT9uLl9fc3RhbGVXaGlsZUZldGNoaW5nOm47byE9PXZvaWQgMCYmZS5jYWxsKHIsbyx0aGlzLiNyW2ldLHRoaXMpO319cmZvckVhY2goZSxyPXRoaXMpe2ZvcihsZXQgaSBvZiB0aGlzLiN2KCkpe2xldCBuPXRoaXMuI2VbaV0sbz10aGlzLiN0KG4pP24uX19zdGFsZVdoaWxlRmV0Y2hpbmc6bjtvIT09dm9pZCAwJiZlLmNhbGwocixvLHRoaXMuI3JbaV0sdGhpcyk7fX1wdXJnZVN0YWxlKCl7bGV0IGU9ITE7Zm9yKGxldCByIG9mIHRoaXMuI3Yoe2FsbG93U3RhbGU6ITB9KSl0aGlzLiNkKHIpJiYodGhpcy5kZWxldGUodGhpcy4jcltyXSksZT0hMCk7cmV0dXJuIGV9ZHVtcCgpe2xldCBlPVtdO2ZvcihsZXQgciBvZiB0aGlzLiNtKHthbGxvd1N0YWxlOiEwfSkpe2xldCBpPXRoaXMuI3Jbcl0sbj10aGlzLiNlW3JdLG89dGhpcy4jdChuKT9uLl9fc3RhbGVXaGlsZUZldGNoaW5nOm47aWYobz09PXZvaWQgMHx8aT09PXZvaWQgMCljb250aW51ZTtsZXQgcz17dmFsdWU6b307aWYodGhpcy4jdyYmdGhpcy4jUyl7cy50dGw9dGhpcy4jd1tyXTtsZXQgYT1SaS5ub3coKS10aGlzLiNTW3JdO3Muc3RhcnQ9TWF0aC5mbG9vcihEYXRlLm5vdygpLWEpO310aGlzLiNFJiYocy5zaXplPXRoaXMuI0Vbcl0pLGUudW5zaGlmdChbaSxzXSk7fXJldHVybiBlfWxvYWQoZSl7dGhpcy5jbGVhcigpO2ZvcihsZXRbcixpXW9mIGUpe2lmKGkuc3RhcnQpe2xldCBuPURhdGUubm93KCktaS5zdGFydDtpLnN0YXJ0PVJpLm5vdygpLW47fXRoaXMuc2V0KHIsaS52YWx1ZSxpKTt9fXNldChlLHIsaT17fSl7aWYocj09PXZvaWQgMClyZXR1cm4gdGhpcy5kZWxldGUoZSksdGhpcztsZXR7dHRsOm49dGhpcy50dGwsc3RhcnQ6byxub0Rpc3Bvc2VPblNldDpzPXRoaXMubm9EaXNwb3NlT25TZXQsc2l6ZUNhbGN1bGF0aW9uOmE9dGhpcy5zaXplQ2FsY3VsYXRpb24sc3RhdHVzOmx9PWkse25vVXBkYXRlVFRMOmM9dGhpcy5ub1VwZGF0ZVRUTH09aSxoPXRoaXMuI0woZSxyLGkuc2l6ZXx8MCxhKTtpZih0aGlzLm1heEVudHJ5U2l6ZSYmaD50aGlzLm1heEVudHJ5U2l6ZSlyZXR1cm4gbCYmKGwuc2V0PVwibWlzc1wiLGwubWF4RW50cnlTaXplRXhjZWVkZWQ9ITApLHRoaXMuZGVsZXRlKGUpLHRoaXM7bGV0IGQ9dGhpcy4jaT09PTA/dm9pZCAwOnRoaXMuI24uZ2V0KGUpO2lmKGQ9PT12b2lkIDApZD10aGlzLiNpPT09MD90aGlzLiNzOnRoaXMuI2IubGVuZ3RoIT09MD90aGlzLiNiLnBvcCgpOnRoaXMuI2k9PT10aGlzLiNsP3RoaXMuI2soITEpOnRoaXMuI2ksdGhpcy4jcltkXT1lLHRoaXMuI2VbZF09cix0aGlzLiNuLnNldChlLGQpLHRoaXMuI3VbdGhpcy4jc109ZCx0aGlzLiNoW2RdPXRoaXMuI3MsdGhpcy4jcz1kLHRoaXMuI2krKyx0aGlzLiNQKGQsaCxsKSxsJiYobC5zZXQ9XCJhZGRcIiksYz0hMTtlbHNlIHt0aGlzLiNDKGQpO2xldCBnPXRoaXMuI2VbZF07aWYociE9PWcpe2lmKHRoaXMuI0kmJnRoaXMuI3QoZykpe2cuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKFwicmVwbGFjZWRcIikpO2xldHtfX3N0YWxlV2hpbGVGZXRjaGluZzp5fT1nO3khPT12b2lkIDAmJiFzJiYodGhpcy4jXyYmdGhpcy4jcD8uKHksZSxcInNldFwiKSx0aGlzLiNmJiZ0aGlzLiNvPy5wdXNoKFt5LGUsXCJzZXRcIl0pKTt9ZWxzZSBzfHwodGhpcy4jXyYmdGhpcy4jcD8uKGcsZSxcInNldFwiKSx0aGlzLiNmJiZ0aGlzLiNvPy5wdXNoKFtnLGUsXCJzZXRcIl0pKTtpZih0aGlzLiNSKGQpLHRoaXMuI1AoZCxoLGwpLHRoaXMuI2VbZF09cixsKXtsLnNldD1cInJlcGxhY2VcIjtsZXQgeT1nJiZ0aGlzLiN0KGcpP2cuX19zdGFsZVdoaWxlRmV0Y2hpbmc6Zzt5IT09dm9pZCAwJiYobC5vbGRWYWx1ZT15KTt9fWVsc2UgbCYmKGwuc2V0PVwidXBkYXRlXCIpO31pZihuIT09MCYmIXRoaXMuI3cmJnRoaXMuI3goKSx0aGlzLiN3JiYoY3x8dGhpcy4jTShkLG4sbyksbCYmdGhpcy4jQShsLGQpKSwhcyYmdGhpcy4jZiYmdGhpcy4jbyl7bGV0IGc9dGhpcy4jbyx5O2Zvcig7eT1nPy5zaGlmdCgpOyl0aGlzLiNnPy4oLi4ueSk7fXJldHVybiB0aGlzfXBvcCgpe3RyeXtmb3IoO3RoaXMuI2k7KXtsZXQgZT10aGlzLiNlW3RoaXMuI2FdO2lmKHRoaXMuI2soITApLHRoaXMuI3QoZSkpe2lmKGUuX19zdGFsZVdoaWxlRmV0Y2hpbmcpcmV0dXJuIGUuX19zdGFsZVdoaWxlRmV0Y2hpbmd9ZWxzZSBpZihlIT09dm9pZCAwKXJldHVybiBlfX1maW5hbGx5e2lmKHRoaXMuI2YmJnRoaXMuI28pe2xldCBlPXRoaXMuI28scjtmb3IoO3I9ZT8uc2hpZnQoKTspdGhpcy4jZz8uKC4uLnIpO319fSNrKGUpe2xldCByPXRoaXMuI2EsaT10aGlzLiNyW3JdLG49dGhpcy4jZVtyXTtyZXR1cm4gdGhpcy4jSSYmdGhpcy4jdChuKT9uLl9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcihcImV2aWN0ZWRcIikpOih0aGlzLiNffHx0aGlzLiNmKSYmKHRoaXMuI18mJnRoaXMuI3A/LihuLGksXCJldmljdFwiKSx0aGlzLiNmJiZ0aGlzLiNvPy5wdXNoKFtuLGksXCJldmljdFwiXSkpLHRoaXMuI1IociksZSYmKHRoaXMuI3Jbcl09dm9pZCAwLHRoaXMuI2Vbcl09dm9pZCAwLHRoaXMuI2IucHVzaChyKSksdGhpcy4jaT09PTE/KHRoaXMuI2E9dGhpcy4jcz0wLHRoaXMuI2IubGVuZ3RoPTApOnRoaXMuI2E9dGhpcy4jdVtyXSx0aGlzLiNuLmRlbGV0ZShpKSx0aGlzLiNpLS0scn1oYXMoZSxyPXt9KXtsZXR7dXBkYXRlQWdlT25IYXM6aT10aGlzLnVwZGF0ZUFnZU9uSGFzLHN0YXR1czpufT1yLG89dGhpcy4jbi5nZXQoZSk7aWYobyE9PXZvaWQgMCl7bGV0IHM9dGhpcy4jZVtvXTtpZih0aGlzLiN0KHMpJiZzLl9fc3RhbGVXaGlsZUZldGNoaW5nPT09dm9pZCAwKXJldHVybiAhMTtpZih0aGlzLiNkKG8pKW4mJihuLmhhcz1cInN0YWxlXCIsdGhpcy4jQShuLG8pKTtlbHNlIHJldHVybiBpJiZ0aGlzLiNUKG8pLG4mJihuLmhhcz1cImhpdFwiLHRoaXMuI0EobixvKSksITB9ZWxzZSBuJiYobi5oYXM9XCJtaXNzXCIpO3JldHVybiAhMX1wZWVrKGUscj17fSl7bGV0e2FsbG93U3RhbGU6aT10aGlzLmFsbG93U3RhbGV9PXIsbj10aGlzLiNuLmdldChlKTtpZihuIT09dm9pZCAwJiYoaXx8IXRoaXMuI2QobikpKXtsZXQgbz10aGlzLiNlW25dO3JldHVybiB0aGlzLiN0KG8pP28uX19zdGFsZVdoaWxlRmV0Y2hpbmc6b319I08oZSxyLGksbil7bGV0IG89cj09PXZvaWQgMD92b2lkIDA6dGhpcy4jZVtyXTtpZih0aGlzLiN0KG8pKXJldHVybiBvO2xldCBzPW5ldyB4bix7c2lnbmFsOmF9PWk7YT8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsKCk9PnMuYWJvcnQoYS5yZWFzb24pLHtzaWduYWw6cy5zaWduYWx9KTtsZXQgbD17c2lnbmFsOnMuc2lnbmFsLG9wdGlvbnM6aSxjb250ZXh0Om59LGM9KFMsRT0hMSk9PntsZXR7YWJvcnRlZDpJfT1zLnNpZ25hbCxDPWkuaWdub3JlRmV0Y2hBYm9ydCYmUyE9PXZvaWQgMDtpZihpLnN0YXR1cyYmKEkmJiFFPyhpLnN0YXR1cy5mZXRjaEFib3J0ZWQ9ITAsaS5zdGF0dXMuZmV0Y2hFcnJvcj1zLnNpZ25hbC5yZWFzb24sQyYmKGkuc3RhdHVzLmZldGNoQWJvcnRJZ25vcmVkPSEwKSk6aS5zdGF0dXMuZmV0Y2hSZXNvbHZlZD0hMCksSSYmIUMmJiFFKXJldHVybiBkKHMuc2lnbmFsLnJlYXNvbik7bGV0IFI9eTtyZXR1cm4gdGhpcy4jZVtyXT09PXkmJihTPT09dm9pZCAwP1IuX19zdGFsZVdoaWxlRmV0Y2hpbmc/dGhpcy4jZVtyXT1SLl9fc3RhbGVXaGlsZUZldGNoaW5nOnRoaXMuZGVsZXRlKGUpOihpLnN0YXR1cyYmKGkuc3RhdHVzLmZldGNoVXBkYXRlZD0hMCksdGhpcy5zZXQoZSxTLGwub3B0aW9ucykpKSxTfSxoPVM9PihpLnN0YXR1cyYmKGkuc3RhdHVzLmZldGNoUmVqZWN0ZWQ9ITAsaS5zdGF0dXMuZmV0Y2hFcnJvcj1TKSxkKFMpKSxkPVM9PntsZXR7YWJvcnRlZDpFfT1zLnNpZ25hbCxJPUUmJmkuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCxDPUl8fGkuYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb24sUj1DfHxpLm5vRGVsZXRlT25GZXRjaFJlamVjdGlvbixVPXk7aWYodGhpcy4jZVtyXT09PXkmJighUnx8VS5fX3N0YWxlV2hpbGVGZXRjaGluZz09PXZvaWQgMD90aGlzLmRlbGV0ZShlKTpJfHwodGhpcy4jZVtyXT1VLl9fc3RhbGVXaGlsZUZldGNoaW5nKSksQylyZXR1cm4gaS5zdGF0dXMmJlUuX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDAmJihpLnN0YXR1cy5yZXR1cm5lZFN0YWxlPSEwKSxVLl9fc3RhbGVXaGlsZUZldGNoaW5nO2lmKFUuX19yZXR1cm5lZD09PVUpdGhyb3cgU30sZz0oUyxFKT0+e2xldCBJPXRoaXMuI0I/LihlLG8sbCk7SSYmSSBpbnN0YW5jZW9mIFByb21pc2UmJkkudGhlbihDPT5TKEM9PT12b2lkIDA/dm9pZCAwOkMpLEUpLHMuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT57KCFpLmlnbm9yZUZldGNoQWJvcnR8fGkuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCkmJihTKHZvaWQgMCksaS5hbGxvd1N0YWxlT25GZXRjaEFib3J0JiYoUz1DPT5jKEMsITApKSk7fSk7fTtpLnN0YXR1cyYmKGkuc3RhdHVzLmZldGNoRGlzcGF0Y2hlZD0hMCk7bGV0IHk9bmV3IFByb21pc2UoZykudGhlbihjLGgpLHc9T2JqZWN0LmFzc2lnbih5LHtfX2Fib3J0Q29udHJvbGxlcjpzLF9fc3RhbGVXaGlsZUZldGNoaW5nOm8sX19yZXR1cm5lZDp2b2lkIDB9KTtyZXR1cm4gcj09PXZvaWQgMD8odGhpcy5zZXQoZSx3LHsuLi5sLm9wdGlvbnMsc3RhdHVzOnZvaWQgMH0pLHI9dGhpcy4jbi5nZXQoZSkpOnRoaXMuI2Vbcl09dyx3fSN0KGUpe2lmKCF0aGlzLiNJKXJldHVybiAhMTtsZXQgcj1lO3JldHVybiAhIXImJnIgaW5zdGFuY2VvZiBQcm9taXNlJiZyLmhhc093blByb3BlcnR5KFwiX19zdGFsZVdoaWxlRmV0Y2hpbmdcIikmJnIuX19hYm9ydENvbnRyb2xsZXIgaW5zdGFuY2VvZiB4bn1hc3luYyBmZXRjaChlLHI9e30pe2xldHthbGxvd1N0YWxlOmk9dGhpcy5hbGxvd1N0YWxlLHVwZGF0ZUFnZU9uR2V0Om49dGhpcy51cGRhdGVBZ2VPbkdldCxub0RlbGV0ZU9uU3RhbGVHZXQ6bz10aGlzLm5vRGVsZXRlT25TdGFsZUdldCx0dGw6cz10aGlzLnR0bCxub0Rpc3Bvc2VPblNldDphPXRoaXMubm9EaXNwb3NlT25TZXQsc2l6ZTpsPTAsc2l6ZUNhbGN1bGF0aW9uOmM9dGhpcy5zaXplQ2FsY3VsYXRpb24sbm9VcGRhdGVUVEw6aD10aGlzLm5vVXBkYXRlVFRMLG5vRGVsZXRlT25GZXRjaFJlamVjdGlvbjpkPXRoaXMubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uLGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uOmc9dGhpcy5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbixpZ25vcmVGZXRjaEFib3J0Onk9dGhpcy5pZ25vcmVGZXRjaEFib3J0LGFsbG93U3RhbGVPbkZldGNoQWJvcnQ6dz10aGlzLmFsbG93U3RhbGVPbkZldGNoQWJvcnQsY29udGV4dDpTLGZvcmNlUmVmcmVzaDpFPSExLHN0YXR1czpJLHNpZ25hbDpDfT1yO2lmKCF0aGlzLiNJKXJldHVybiBJJiYoSS5mZXRjaD1cImdldFwiKSx0aGlzLmdldChlLHthbGxvd1N0YWxlOmksdXBkYXRlQWdlT25HZXQ6bixub0RlbGV0ZU9uU3RhbGVHZXQ6byxzdGF0dXM6SX0pO2xldCBSPXthbGxvd1N0YWxlOmksdXBkYXRlQWdlT25HZXQ6bixub0RlbGV0ZU9uU3RhbGVHZXQ6byx0dGw6cyxub0Rpc3Bvc2VPblNldDphLHNpemU6bCxzaXplQ2FsY3VsYXRpb246Yyxub1VwZGF0ZVRUTDpoLG5vRGVsZXRlT25GZXRjaFJlamVjdGlvbjpkLGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uOmcsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDp3LGlnbm9yZUZldGNoQWJvcnQ6eSxzdGF0dXM6SSxzaWduYWw6Q30sVT10aGlzLiNuLmdldChlKTtpZihVPT09dm9pZCAwKXtJJiYoSS5mZXRjaD1cIm1pc3NcIik7bGV0IE49dGhpcy4jTyhlLFUsUixTKTtyZXR1cm4gTi5fX3JldHVybmVkPU59ZWxzZSB7bGV0IE49dGhpcy4jZVtVXTtpZih0aGlzLiN0KE4pKXtsZXQgcGU9aSYmTi5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMDtyZXR1cm4gSSYmKEkuZmV0Y2g9XCJpbmZsaWdodFwiLHBlJiYoSS5yZXR1cm5lZFN0YWxlPSEwKSkscGU/Ti5fX3N0YWxlV2hpbGVGZXRjaGluZzpOLl9fcmV0dXJuZWQ9Tn1sZXQgVz10aGlzLiNkKFUpO2lmKCFFJiYhVylyZXR1cm4gSSYmKEkuZmV0Y2g9XCJoaXRcIiksdGhpcy4jQyhVKSxuJiZ0aGlzLiNUKFUpLEkmJnRoaXMuI0EoSSxVKSxOO2xldCBLPXRoaXMuI08oZSxVLFIsUyksUT1LLl9fc3RhbGVXaGlsZUZldGNoaW5nIT09dm9pZCAwJiZpO3JldHVybiBJJiYoSS5mZXRjaD1XP1wic3RhbGVcIjpcInJlZnJlc2hcIixRJiZXJiYoSS5yZXR1cm5lZFN0YWxlPSEwKSksUT9LLl9fc3RhbGVXaGlsZUZldGNoaW5nOksuX19yZXR1cm5lZD1LfX1nZXQoZSxyPXt9KXtsZXR7YWxsb3dTdGFsZTppPXRoaXMuYWxsb3dTdGFsZSx1cGRhdGVBZ2VPbkdldDpuPXRoaXMudXBkYXRlQWdlT25HZXQsbm9EZWxldGVPblN0YWxlR2V0Om89dGhpcy5ub0RlbGV0ZU9uU3RhbGVHZXQsc3RhdHVzOnN9PXIsYT10aGlzLiNuLmdldChlKTtpZihhIT09dm9pZCAwKXtsZXQgbD10aGlzLiNlW2FdLGM9dGhpcy4jdChsKTtyZXR1cm4gcyYmdGhpcy4jQShzLGEpLHRoaXMuI2QoYSk/KHMmJihzLmdldD1cInN0YWxlXCIpLGM/KHMmJmkmJmwuX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDAmJihzLnJldHVybmVkU3RhbGU9ITApLGk/bC5fX3N0YWxlV2hpbGVGZXRjaGluZzp2b2lkIDApOihvfHx0aGlzLmRlbGV0ZShlKSxzJiZpJiYocy5yZXR1cm5lZFN0YWxlPSEwKSxpP2w6dm9pZCAwKSk6KHMmJihzLmdldD1cImhpdFwiKSxjP2wuX19zdGFsZVdoaWxlRmV0Y2hpbmc6KHRoaXMuI0MoYSksbiYmdGhpcy4jVChhKSxsKSl9ZWxzZSBzJiYocy5nZXQ9XCJtaXNzXCIpO30jTihlLHIpe3RoaXMuI2hbcl09ZSx0aGlzLiN1W2VdPXI7fSNDKGUpe2UhPT10aGlzLiNzJiYoZT09PXRoaXMuI2E/dGhpcy4jYT10aGlzLiN1W2VdOnRoaXMuI04odGhpcy4jaFtlXSx0aGlzLiN1W2VdKSx0aGlzLiNOKHRoaXMuI3MsZSksdGhpcy4jcz1lKTt9ZGVsZXRlKGUpe2xldCByPSExO2lmKHRoaXMuI2khPT0wKXtsZXQgaT10aGlzLiNuLmdldChlKTtpZihpIT09dm9pZCAwKWlmKHI9ITAsdGhpcy4jaT09PTEpdGhpcy5jbGVhcigpO2Vsc2Uge3RoaXMuI1IoaSk7bGV0IG49dGhpcy4jZVtpXTt0aGlzLiN0KG4pP24uX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKFwiZGVsZXRlZFwiKSk6KHRoaXMuI198fHRoaXMuI2YpJiYodGhpcy4jXyYmdGhpcy4jcD8uKG4sZSxcImRlbGV0ZVwiKSx0aGlzLiNmJiZ0aGlzLiNvPy5wdXNoKFtuLGUsXCJkZWxldGVcIl0pKSx0aGlzLiNuLmRlbGV0ZShlKSx0aGlzLiNyW2ldPXZvaWQgMCx0aGlzLiNlW2ldPXZvaWQgMCxpPT09dGhpcy4jcz90aGlzLiNzPXRoaXMuI2hbaV06aT09PXRoaXMuI2E/dGhpcy4jYT10aGlzLiN1W2ldOih0aGlzLiN1W3RoaXMuI2hbaV1dPXRoaXMuI3VbaV0sdGhpcy4jaFt0aGlzLiN1W2ldXT10aGlzLiNoW2ldKSx0aGlzLiNpLS0sdGhpcy4jYi5wdXNoKGkpO319aWYodGhpcy4jZiYmdGhpcy4jbz8ubGVuZ3RoKXtsZXQgaT10aGlzLiNvLG47Zm9yKDtuPWk/LnNoaWZ0KCk7KXRoaXMuI2c/LiguLi5uKTt9cmV0dXJuIHJ9Y2xlYXIoKXtmb3IobGV0IGUgb2YgdGhpcy4jdih7YWxsb3dTdGFsZTohMH0pKXtsZXQgcj10aGlzLiNlW2VdO2lmKHRoaXMuI3Qocikpci5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoXCJkZWxldGVkXCIpKTtlbHNlIHtsZXQgaT10aGlzLiNyW2VdO3RoaXMuI18mJnRoaXMuI3A/LihyLGksXCJkZWxldGVcIiksdGhpcy4jZiYmdGhpcy4jbz8ucHVzaChbcixpLFwiZGVsZXRlXCJdKTt9fWlmKHRoaXMuI24uY2xlYXIoKSx0aGlzLiNlLmZpbGwodm9pZCAwKSx0aGlzLiNyLmZpbGwodm9pZCAwKSx0aGlzLiN3JiZ0aGlzLiNTJiYodGhpcy4jdy5maWxsKDApLHRoaXMuI1MuZmlsbCgwKSksdGhpcy4jRSYmdGhpcy4jRS5maWxsKDApLHRoaXMuI2E9MCx0aGlzLiNzPTAsdGhpcy4jYi5sZW5ndGg9MCx0aGlzLiN5PTAsdGhpcy4jaT0wLHRoaXMuI2YmJnRoaXMuI28pe2xldCBlPXRoaXMuI28scjtmb3IoO3I9ZT8uc2hpZnQoKTspdGhpcy4jZz8uKC4uLnIpO319fTtNbi5MUlVDYWNoZT1sYTt9KTt2YXIgbHQ9TShWdD0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShWdCxcInRcIix7dmFsdWU6ITB9KTtWdC5Db250YWluZXJJdGVyYXRvcj1WdC5Db250YWluZXI9VnQuQmFzZT12b2lkIDA7dmFyIHVhPWNsYXNze2NvbnN0cnVjdG9yKGU9MCl7dGhpcy5pdGVyYXRvclR5cGU9ZTt9ZXF1YWxzKGUpe3JldHVybiB0aGlzLm89PT1lLm99fTtWdC5Db250YWluZXJJdGVyYXRvcj11YTt2YXIgTG49Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmk9MDt9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLml9c2l6ZSgpe3JldHVybiB0aGlzLml9ZW1wdHkoKXtyZXR1cm4gdGhpcy5pPT09MH19O1Z0LkJhc2U9TG47dmFyIGZhPWNsYXNzIGV4dGVuZHMgTG57fTtWdC5Db250YWluZXI9ZmE7fSk7dmFyIHRwPU0oVW49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVW4sXCJ0XCIse3ZhbHVlOiEwfSk7VW4uZGVmYXVsdD12b2lkIDA7dmFyIG0xPWx0KCksY2E9Y2xhc3MgZXh0ZW5kcyBtMS5CYXNle2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCksdGhpcy5TPVtdO2xldCByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3IucHVzaChpKTt9KTt9Y2xlYXIoKXt0aGlzLmk9MCx0aGlzLlM9W107fXB1c2goZSl7cmV0dXJuIHRoaXMuUy5wdXNoKGUpLHRoaXMuaSs9MSx0aGlzLml9cG9wKCl7aWYodGhpcy5pIT09MClyZXR1cm4gdGhpcy5pLT0xLHRoaXMuUy5wb3AoKX10b3AoKXtyZXR1cm4gdGhpcy5TW3RoaXMuaS0xXX19LHYxPWNhO1VuLmRlZmF1bHQ9djE7fSk7dmFyIHJwPU0oTm49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTm4sXCJ0XCIse3ZhbHVlOiEwfSk7Tm4uZGVmYXVsdD12b2lkIDA7dmFyIEUxPWx0KCksaGE9Y2xhc3MgZXh0ZW5kcyBFMS5CYXNle2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCksdGhpcy5qPTAsdGhpcy5xPVtdO2xldCByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3IucHVzaChpKTt9KTt9Y2xlYXIoKXt0aGlzLnE9W10sdGhpcy5pPXRoaXMuaj0wO31wdXNoKGUpe2xldCByPXRoaXMucS5sZW5ndGg7aWYodGhpcy5qL3I+LjUmJnRoaXMuait0aGlzLmk+PXImJnI+NDA5Nil7bGV0IGk9dGhpcy5pO2ZvcihsZXQgbj0wO248aTsrK24pdGhpcy5xW25dPXRoaXMucVt0aGlzLmorbl07dGhpcy5qPTAsdGhpcy5xW3RoaXMuaV09ZTt9ZWxzZSB0aGlzLnFbdGhpcy5qK3RoaXMuaV09ZTtyZXR1cm4gKyt0aGlzLml9cG9wKCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5xW3RoaXMuaisrXTtyZXR1cm4gdGhpcy5pLT0xLGV9ZnJvbnQoKXtpZih0aGlzLmkhPT0wKXJldHVybiB0aGlzLnFbdGhpcy5qXX19LFMxPWhhO05uLmRlZmF1bHQ9UzE7fSk7dmFyIGlwPU0ocW49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocW4sXCJ0XCIse3ZhbHVlOiEwfSk7cW4uZGVmYXVsdD12b2lkIDA7dmFyIEExPWx0KCksZGE9Y2xhc3MgZXh0ZW5kcyBBMS5CYXNle2NvbnN0cnVjdG9yKGU9W10scj1mdW5jdGlvbihuLG8pe3JldHVybiBuPm8/LTE6bjxvPzE6MH0saT0hMCl7aWYoc3VwZXIoKSx0aGlzLnY9cixBcnJheS5pc0FycmF5KGUpKXRoaXMuQz1pP1suLi5lXTplO2Vsc2Uge3RoaXMuQz1bXTtsZXQgbz10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihzKXtvLkMucHVzaChzKTt9KTt9dGhpcy5pPXRoaXMuQy5sZW5ndGg7bGV0IG49dGhpcy5pPj4xO2ZvcihsZXQgbz10aGlzLmktMT4+MTtvPj0wOy0tbyl0aGlzLmsobyxuKTt9bShlKXtsZXQgcj10aGlzLkNbZV07Zm9yKDtlPjA7KXtsZXQgaT1lLTE+PjEsbj10aGlzLkNbaV07aWYodGhpcy52KG4scik8PTApYnJlYWs7dGhpcy5DW2VdPW4sZT1pO310aGlzLkNbZV09cjt9ayhlLHIpe2xldCBpPXRoaXMuQ1tlXTtmb3IoO2U8cjspe2xldCBuPWU8PDF8MSxvPW4rMSxzPXRoaXMuQ1tuXTtpZihvPHRoaXMuaSYmdGhpcy52KHMsdGhpcy5DW29dKT4wJiYobj1vLHM9dGhpcy5DW29dKSx0aGlzLnYocyxpKT49MClicmVhazt0aGlzLkNbZV09cyxlPW47fXRoaXMuQ1tlXT1pO31jbGVhcigpe3RoaXMuaT0wLHRoaXMuQy5sZW5ndGg9MDt9cHVzaChlKXt0aGlzLkMucHVzaChlKSx0aGlzLm0odGhpcy5pKSx0aGlzLmkrPTE7fXBvcCgpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMuQ1swXSxyPXRoaXMuQy5wb3AoKTtyZXR1cm4gdGhpcy5pLT0xLHRoaXMuaSYmKHRoaXMuQ1swXT1yLHRoaXMuaygwLHRoaXMuaT4+MSkpLGV9dG9wKCl7cmV0dXJuIHRoaXMuQ1swXX1maW5kKGUpe3JldHVybiB0aGlzLkMuaW5kZXhPZihlKT49MH1yZW1vdmUoZSl7bGV0IHI9dGhpcy5DLmluZGV4T2YoZSk7cmV0dXJuIHI8MD8hMToocj09PTA/dGhpcy5wb3AoKTpyPT09dGhpcy5pLTE/KHRoaXMuQy5wb3AoKSx0aGlzLmktPTEpOih0aGlzLkMuc3BsaWNlKHIsMSx0aGlzLkMucG9wKCkpLHRoaXMuaS09MSx0aGlzLm0ociksdGhpcy5rKHIsdGhpcy5pPj4xKSksITApfXVwZGF0ZUl0ZW0oZSl7bGV0IHI9dGhpcy5DLmluZGV4T2YoZSk7cmV0dXJuIHI8MD8hMToodGhpcy5tKHIpLHRoaXMuayhyLHRoaXMuaT4+MSksITApfXRvQXJyYXkoKXtyZXR1cm4gWy4uLnRoaXMuQ119fSxJMT1kYTtxbi5kZWZhdWx0PUkxO30pO3ZhciBqbj1NKERuPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KERuLFwidFwiLHt2YWx1ZTohMH0pO0RuLmRlZmF1bHQ9dm9pZCAwO3ZhciBUMT1sdCgpLHBhPWNsYXNzIGV4dGVuZHMgVDEuQ29udGFpbmVye30sUjE9cGE7RG4uZGVmYXVsdD1SMTt9KTt2YXIgdXQ9TShnYT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShnYSxcInRcIix7dmFsdWU6ITB9KTtnYS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3I9QzE7ZnVuY3Rpb24gQzEoKXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkl0ZXJhdG9yIGFjY2VzcyBkZW5pZWQhXCIpfX0pO3ZhciBiYT1NKFduPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFduLFwidFwiLHt2YWx1ZTohMH0pO1duLlJhbmRvbUl0ZXJhdG9yPXZvaWQgMDt2YXIgQjE9bHQoKSxGbj11dCgpLHlhPWNsYXNzIGV4dGVuZHMgQjEuQ29udGFpbmVySXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihyKSx0aGlzLm89ZSx0aGlzLml0ZXJhdG9yVHlwZT09PTA/KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PTAmJigwLCBGbi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vLT0xLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmNvbnRhaW5lci5zaXplKCkmJigwLCBGbi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vKz0xLHRoaXN9KToodGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5jb250YWluZXIuc2l6ZSgpLTEmJigwLCBGbi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vKz0xLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT0tMSYmKDAsIEZuLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8tPTEsdGhpc30pO31nZXQgcG9pbnRlcigpe3JldHVybiB0aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50QnlQb3ModGhpcy5vKX1zZXQgcG9pbnRlcihlKXt0aGlzLmNvbnRhaW5lci5zZXRFbGVtZW50QnlQb3ModGhpcy5vLGUpO319O1duLlJhbmRvbUl0ZXJhdG9yPXlhO30pO3ZhciBucD1NKCRuPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KCRuLFwidFwiLHt2YWx1ZTohMH0pOyRuLmRlZmF1bHQ9dm9pZCAwO3ZhciBQMT1PMShqbigpKSxrMT1iYSgpO2Z1bmN0aW9uIE8xKHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX12YXIgbXI9Y2xhc3MgdCBleHRlbmRzIGsxLlJhbmRvbUl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscixpKXtzdXBlcihlLGkpLHRoaXMuY29udGFpbmVyPXI7fWNvcHkoKXtyZXR1cm4gbmV3IHQodGhpcy5vLHRoaXMuY29udGFpbmVyLHRoaXMuaXRlcmF0b3JUeXBlKX19LHdhPWNsYXNzIGV4dGVuZHMgUDEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlPVtdLHI9ITApe2lmKHN1cGVyKCksQXJyYXkuaXNBcnJheShlKSl0aGlzLko9cj9bLi4uZV06ZSx0aGlzLmk9ZS5sZW5ndGg7ZWxzZSB7dGhpcy5KPVtdO2xldCBpPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2kucHVzaEJhY2sobik7fSk7fX1jbGVhcigpe3RoaXMuaT0wLHRoaXMuSi5sZW5ndGg9MDt9YmVnaW4oKXtyZXR1cm4gbmV3IG1yKDAsdGhpcyl9ZW5kKCl7cmV0dXJuIG5ldyBtcih0aGlzLmksdGhpcyl9ckJlZ2luKCl7cmV0dXJuIG5ldyBtcih0aGlzLmktMSx0aGlzLDEpfXJFbmQoKXtyZXR1cm4gbmV3IG1yKC0xLHRoaXMsMSl9ZnJvbnQoKXtyZXR1cm4gdGhpcy5KWzBdfWJhY2soKXtyZXR1cm4gdGhpcy5KW3RoaXMuaS0xXX1nZXRFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO3JldHVybiB0aGlzLkpbZV19ZXJhc2VFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO3JldHVybiB0aGlzLkouc3BsaWNlKGUsMSksdGhpcy5pLT0xLHRoaXMuaX1lcmFzZUVsZW1lbnRCeVZhbHVlKGUpe2xldCByPTA7Zm9yKGxldCBpPTA7aTx0aGlzLmk7KytpKXRoaXMuSltpXSE9PWUmJih0aGlzLkpbcisrXT10aGlzLkpbaV0pO3JldHVybiB0aGlzLmk9dGhpcy5KLmxlbmd0aD1yLHRoaXMuaX1lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKGUpe2xldCByPWUubztyZXR1cm4gZT1lLm5leHQoKSx0aGlzLmVyYXNlRWxlbWVudEJ5UG9zKHIpLGV9cHVzaEJhY2soZSl7cmV0dXJuIHRoaXMuSi5wdXNoKGUpLHRoaXMuaSs9MSx0aGlzLml9cG9wQmFjaygpe2lmKHRoaXMuaSE9PTApcmV0dXJuIHRoaXMuaS09MSx0aGlzLkoucG9wKCl9c2V0RWxlbWVudEJ5UG9zKGUscil7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO3RoaXMuSltlXT1yO31pbnNlcnQoZSxyLGk9MSl7aWYoZTwwfHxlPnRoaXMuaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtyZXR1cm4gdGhpcy5KLnNwbGljZShlLDAsLi4ubmV3IEFycmF5KGkpLmZpbGwocikpLHRoaXMuaSs9aSx0aGlzLml9ZmluZChlKXtmb3IobGV0IHI9MDtyPHRoaXMuaTsrK3IpaWYodGhpcy5KW3JdPT09ZSlyZXR1cm4gbmV3IG1yKHIsdGhpcyk7cmV0dXJuIHRoaXMuZW5kKCl9cmV2ZXJzZSgpe3RoaXMuSi5yZXZlcnNlKCk7fXVuaXF1ZSgpe2xldCBlPTE7Zm9yKGxldCByPTE7cjx0aGlzLmk7KytyKXRoaXMuSltyXSE9PXRoaXMuSltyLTFdJiYodGhpcy5KW2UrK109dGhpcy5KW3JdKTtyZXR1cm4gdGhpcy5pPXRoaXMuSi5sZW5ndGg9ZSx0aGlzLml9c29ydChlKXt0aGlzLkouc29ydChlKTt9Zm9yRWFjaChlKXtmb3IobGV0IHI9MDtyPHRoaXMuaTsrK3IpZSh0aGlzLkpbcl0scix0aGlzKTt9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gZnVuY3Rpb24qKCl7eWllbGQqdGhpcy5KO30uYmluZCh0aGlzKSgpfX0seDE9d2E7JG4uZGVmYXVsdD14MTt9KTt2YXIgc3A9TShIbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShIbixcInRcIix7dmFsdWU6ITB9KTtIbi5kZWZhdWx0PXZvaWQgMDt2YXIgTTE9VTEoam4oKSksTDE9bHQoKSx2cj11dCgpO2Z1bmN0aW9uIFUxKHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX12YXIgRXI9Y2xhc3MgdCBleHRlbmRzIEwxLkNvbnRhaW5lckl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscixpLG4pe3N1cGVyKG4pLHRoaXMubz1lLHRoaXMuaD1yLHRoaXMuY29udGFpbmVyPWksdGhpcy5pdGVyYXRvclR5cGU9PT0wPyh0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm8uTD09PXRoaXMuaCYmKDAsIHZyLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkwsdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIHZyLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkIsdGhpc30pOih0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm8uQj09PXRoaXMuaCYmKDAsIHZyLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkIsdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIHZyLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkwsdGhpc30pO31nZXQgcG9pbnRlcigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCB2ci50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vLmx9c2V0IHBvaW50ZXIoZSl7dGhpcy5vPT09dGhpcy5oJiYoMCwgdnIudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuby5sPWU7fWNvcHkoKXtyZXR1cm4gbmV3IHQodGhpcy5vLHRoaXMuaCx0aGlzLmNvbnRhaW5lcix0aGlzLml0ZXJhdG9yVHlwZSl9fSxfYT1jbGFzcyBleHRlbmRzIE0xLmRlZmF1bHR7Y29uc3RydWN0b3IoZT1bXSl7c3VwZXIoKSx0aGlzLmg9e30sdGhpcy5wPXRoaXMuXz10aGlzLmguTD10aGlzLmguQj10aGlzLmg7bGV0IHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oaSl7ci5wdXNoQmFjayhpKTt9KTt9VihlKXtsZXR7TDpyLEI6aX09ZTtyLkI9aSxpLkw9cixlPT09dGhpcy5wJiYodGhpcy5wPWkpLGU9PT10aGlzLl8mJih0aGlzLl89ciksdGhpcy5pLT0xO31HKGUscil7bGV0IGk9ci5CLG49e2w6ZSxMOnIsQjppfTtyLkI9bixpLkw9bixyPT09dGhpcy5oJiYodGhpcy5wPW4pLGk9PT10aGlzLmgmJih0aGlzLl89biksdGhpcy5pKz0xO31jbGVhcigpe3RoaXMuaT0wLHRoaXMucD10aGlzLl89dGhpcy5oLkw9dGhpcy5oLkI9dGhpcy5oO31iZWdpbigpe3JldHVybiBuZXcgRXIodGhpcy5wLHRoaXMuaCx0aGlzKX1lbmQoKXtyZXR1cm4gbmV3IEVyKHRoaXMuaCx0aGlzLmgsdGhpcyl9ckJlZ2luKCl7cmV0dXJuIG5ldyBFcih0aGlzLl8sdGhpcy5oLHRoaXMsMSl9ckVuZCgpe3JldHVybiBuZXcgRXIodGhpcy5oLHRoaXMuaCx0aGlzLDEpfWZyb250KCl7cmV0dXJuIHRoaXMucC5sfWJhY2soKXtyZXR1cm4gdGhpcy5fLmx9Z2V0RWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgcj10aGlzLnA7Zm9yKDtlLS07KXI9ci5CO3JldHVybiByLmx9ZXJhc2VFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCByPXRoaXMucDtmb3IoO2UtLTspcj1yLkI7cmV0dXJuIHRoaXMuVihyKSx0aGlzLml9ZXJhc2VFbGVtZW50QnlWYWx1ZShlKXtsZXQgcj10aGlzLnA7Zm9yKDtyIT09dGhpcy5oOylyLmw9PT1lJiZ0aGlzLlYocikscj1yLkI7cmV0dXJuIHRoaXMuaX1lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKGUpe2xldCByPWUubztyZXR1cm4gcj09PXRoaXMuaCYmKDAsIHZyLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSxlPWUubmV4dCgpLHRoaXMuVihyKSxlfXB1c2hCYWNrKGUpe3JldHVybiB0aGlzLkcoZSx0aGlzLl8pLHRoaXMuaX1wb3BCYWNrKCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5fLmw7cmV0dXJuIHRoaXMuVih0aGlzLl8pLGV9cHVzaEZyb250KGUpe3JldHVybiB0aGlzLkcoZSx0aGlzLmgpLHRoaXMuaX1wb3BGcm9udCgpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMucC5sO3JldHVybiB0aGlzLlYodGhpcy5wKSxlfXNldEVsZW1lbnRCeVBvcyhlLHIpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgaT10aGlzLnA7Zm9yKDtlLS07KWk9aS5CO2kubD1yO31pbnNlcnQoZSxyLGk9MSl7aWYoZTwwfHxlPnRoaXMuaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtpZihpPD0wKXJldHVybiB0aGlzLmk7aWYoZT09PTApZm9yKDtpLS07KXRoaXMucHVzaEZyb250KHIpO2Vsc2UgaWYoZT09PXRoaXMuaSlmb3IoO2ktLTspdGhpcy5wdXNoQmFjayhyKTtlbHNlIHtsZXQgbj10aGlzLnA7Zm9yKGxldCBzPTE7czxlOysrcyluPW4uQjtsZXQgbz1uLkI7Zm9yKHRoaXMuaSs9aTtpLS07KW4uQj17bDpyLEw6bn0sbi5CLkw9bixuPW4uQjtuLkI9byxvLkw9bjt9cmV0dXJuIHRoaXMuaX1maW5kKGUpe2xldCByPXRoaXMucDtmb3IoO3IhPT10aGlzLmg7KXtpZihyLmw9PT1lKXJldHVybiBuZXcgRXIocix0aGlzLmgsdGhpcyk7cj1yLkI7fXJldHVybiB0aGlzLmVuZCgpfXJldmVyc2UoKXtpZih0aGlzLmk8PTEpcmV0dXJuO2xldCBlPXRoaXMucCxyPXRoaXMuXyxpPTA7Zm9yKDtpPDwxPHRoaXMuaTspe2xldCBuPWUubDtlLmw9ci5sLHIubD1uLGU9ZS5CLHI9ci5MLGkrPTE7fX11bmlxdWUoKXtpZih0aGlzLmk8PTEpcmV0dXJuIHRoaXMuaTtsZXQgZT10aGlzLnA7Zm9yKDtlIT09dGhpcy5oOyl7bGV0IHI9ZTtmb3IoO3IuQiE9PXRoaXMuaCYmci5sPT09ci5CLmw7KXI9ci5CLHRoaXMuaS09MTtlLkI9ci5CLGUuQi5MPWUsZT1lLkI7fXJldHVybiB0aGlzLml9c29ydChlKXtpZih0aGlzLmk8PTEpcmV0dXJuO2xldCByPVtdO3RoaXMuZm9yRWFjaChmdW5jdGlvbihuKXtyLnB1c2gobik7fSksci5zb3J0KGUpO2xldCBpPXRoaXMucDtyLmZvckVhY2goZnVuY3Rpb24obil7aS5sPW4saT1pLkI7fSk7fW1lcmdlKGUpe2xldCByPXRoaXM7aWYodGhpcy5pPT09MCllLmZvckVhY2goZnVuY3Rpb24oaSl7ci5wdXNoQmFjayhpKTt9KTtlbHNlIHtsZXQgaT10aGlzLnA7ZS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Zvcig7aSE9PXIuaCYmaS5sPD1uOylpPWkuQjtyLkcobixpLkwpO30pO31yZXR1cm4gdGhpcy5pfWZvckVhY2goZSl7bGV0IHI9dGhpcy5wLGk9MDtmb3IoO3IhPT10aGlzLmg7KWUoci5sLGkrKyx0aGlzKSxyPXIuQjt9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gZnVuY3Rpb24qKCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5wO2Zvcig7ZSE9PXRoaXMuaDspeWllbGQgZS5sLGU9ZS5CO30uYmluZCh0aGlzKSgpfX0sTjE9X2E7SG4uZGVmYXVsdD1OMTt9KTt2YXIgb3A9TShWbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShWbixcInRcIix7dmFsdWU6ITB9KTtWbi5kZWZhdWx0PXZvaWQgMDt2YXIgcTE9ajEoam4oKSksRDE9YmEoKTtmdW5jdGlvbiBqMSh0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19dmFyIFNyPWNsYXNzIHQgZXh0ZW5kcyBEMS5SYW5kb21JdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIsaSl7c3VwZXIoZSxpKSx0aGlzLmNvbnRhaW5lcj1yO31jb3B5KCl7cmV0dXJuIG5ldyB0KHRoaXMubyx0aGlzLmNvbnRhaW5lcix0aGlzLml0ZXJhdG9yVHlwZSl9fSxtYT1jbGFzcyBleHRlbmRzIHExLmRlZmF1bHR7Y29uc3RydWN0b3IoZT1bXSxyPTQwOTYpe3N1cGVyKCksdGhpcy5qPTAsdGhpcy5EPTAsdGhpcy5SPTAsdGhpcy5OPTAsdGhpcy5QPTAsdGhpcy5BPVtdO2xldCBpPSgoKT0+e2lmKHR5cGVvZiBlLmxlbmd0aD09XCJudW1iZXJcIilyZXR1cm4gZS5sZW5ndGg7aWYodHlwZW9mIGUuc2l6ZT09XCJudW1iZXJcIilyZXR1cm4gZS5zaXplO2lmKHR5cGVvZiBlLnNpemU9PVwiZnVuY3Rpb25cIilyZXR1cm4gZS5zaXplKCk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBnZXQgdGhlIGxlbmd0aCBvciBzaXplIG9mIHRoZSBjb250YWluZXJcIil9KSgpO3RoaXMuRj1yLHRoaXMuUD1NYXRoLm1heChNYXRoLmNlaWwoaS90aGlzLkYpLDEpO2ZvcihsZXQgcz0wO3M8dGhpcy5QOysrcyl0aGlzLkEucHVzaChuZXcgQXJyYXkodGhpcy5GKSk7bGV0IG49TWF0aC5jZWlsKGkvdGhpcy5GKTt0aGlzLmo9dGhpcy5SPSh0aGlzLlA+PjEpLShuPj4xKSx0aGlzLkQ9dGhpcy5OPXRoaXMuRi1pJXRoaXMuRj4+MTtsZXQgbz10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihzKXtvLnB1c2hCYWNrKHMpO30pO31UKCl7bGV0IGU9W10scj1NYXRoLm1heCh0aGlzLlA+PjEsMSk7Zm9yKGxldCBpPTA7aTxyOysraSllW2ldPW5ldyBBcnJheSh0aGlzLkYpO2ZvcihsZXQgaT10aGlzLmo7aTx0aGlzLlA7KytpKWVbZS5sZW5ndGhdPXRoaXMuQVtpXTtmb3IobGV0IGk9MDtpPHRoaXMuUjsrK2kpZVtlLmxlbmd0aF09dGhpcy5BW2ldO2VbZS5sZW5ndGhdPVsuLi50aGlzLkFbdGhpcy5SXV0sdGhpcy5qPXIsdGhpcy5SPWUubGVuZ3RoLTE7Zm9yKGxldCBpPTA7aTxyOysraSllW2UubGVuZ3RoXT1uZXcgQXJyYXkodGhpcy5GKTt0aGlzLkE9ZSx0aGlzLlA9ZS5sZW5ndGg7fU8oZSl7bGV0IHI9dGhpcy5EK2UrMSxpPXIldGhpcy5GLG49aS0xLG89dGhpcy5qKyhyLWkpL3RoaXMuRjtyZXR1cm4gaT09PTAmJihvLT0xKSxvJT10aGlzLlAsbjwwJiYobis9dGhpcy5GKSx7Y3VyTm9kZUJ1Y2tldEluZGV4Om8sY3VyTm9kZVBvaW50ZXJJbmRleDpufX1jbGVhcigpe3RoaXMuQT1bbmV3IEFycmF5KHRoaXMuRildLHRoaXMuUD0xLHRoaXMuaj10aGlzLlI9dGhpcy5pPTAsdGhpcy5EPXRoaXMuTj10aGlzLkY+PjE7fWJlZ2luKCl7cmV0dXJuIG5ldyBTcigwLHRoaXMpfWVuZCgpe3JldHVybiBuZXcgU3IodGhpcy5pLHRoaXMpfXJCZWdpbigpe3JldHVybiBuZXcgU3IodGhpcy5pLTEsdGhpcywxKX1yRW5kKCl7cmV0dXJuIG5ldyBTcigtMSx0aGlzLDEpfWZyb250KCl7aWYodGhpcy5pIT09MClyZXR1cm4gdGhpcy5BW3RoaXMual1bdGhpcy5EXX1iYWNrKCl7aWYodGhpcy5pIT09MClyZXR1cm4gdGhpcy5BW3RoaXMuUl1bdGhpcy5OXX1wdXNoQmFjayhlKXtyZXR1cm4gdGhpcy5pJiYodGhpcy5OPHRoaXMuRi0xP3RoaXMuTis9MTp0aGlzLlI8dGhpcy5QLTE/KHRoaXMuUis9MSx0aGlzLk49MCk6KHRoaXMuUj0wLHRoaXMuTj0wKSx0aGlzLlI9PT10aGlzLmomJnRoaXMuTj09PXRoaXMuRCYmdGhpcy5UKCkpLHRoaXMuaSs9MSx0aGlzLkFbdGhpcy5SXVt0aGlzLk5dPWUsdGhpcy5pfXBvcEJhY2soKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLkFbdGhpcy5SXVt0aGlzLk5dO3JldHVybiB0aGlzLmkhPT0xJiYodGhpcy5OPjA/dGhpcy5OLT0xOnRoaXMuUj4wPyh0aGlzLlItPTEsdGhpcy5OPXRoaXMuRi0xKToodGhpcy5SPXRoaXMuUC0xLHRoaXMuTj10aGlzLkYtMSkpLHRoaXMuaS09MSxlfXB1c2hGcm9udChlKXtyZXR1cm4gdGhpcy5pJiYodGhpcy5EPjA/dGhpcy5ELT0xOnRoaXMuaj4wPyh0aGlzLmotPTEsdGhpcy5EPXRoaXMuRi0xKToodGhpcy5qPXRoaXMuUC0xLHRoaXMuRD10aGlzLkYtMSksdGhpcy5qPT09dGhpcy5SJiZ0aGlzLkQ9PT10aGlzLk4mJnRoaXMuVCgpKSx0aGlzLmkrPTEsdGhpcy5BW3RoaXMual1bdGhpcy5EXT1lLHRoaXMuaX1wb3BGcm9udCgpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMuQVt0aGlzLmpdW3RoaXMuRF07cmV0dXJuIHRoaXMuaSE9PTEmJih0aGlzLkQ8dGhpcy5GLTE/dGhpcy5EKz0xOnRoaXMuajx0aGlzLlAtMT8odGhpcy5qKz0xLHRoaXMuRD0wKToodGhpcy5qPTAsdGhpcy5EPTApKSx0aGlzLmktPTEsZX1nZXRFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldHtjdXJOb2RlQnVja2V0SW5kZXg6cixjdXJOb2RlUG9pbnRlckluZGV4Oml9PXRoaXMuTyhlKTtyZXR1cm4gdGhpcy5BW3JdW2ldfXNldEVsZW1lbnRCeVBvcyhlLHIpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXR7Y3VyTm9kZUJ1Y2tldEluZGV4OmksY3VyTm9kZVBvaW50ZXJJbmRleDpufT10aGlzLk8oZSk7dGhpcy5BW2ldW25dPXI7fWluc2VydChlLHIsaT0xKXtpZihlPDB8fGU+dGhpcy5pKXRocm93IG5ldyBSYW5nZUVycm9yO2lmKGU9PT0wKWZvcig7aS0tOyl0aGlzLnB1c2hGcm9udChyKTtlbHNlIGlmKGU9PT10aGlzLmkpZm9yKDtpLS07KXRoaXMucHVzaEJhY2socik7ZWxzZSB7bGV0IG49W107Zm9yKGxldCBvPWU7bzx0aGlzLmk7KytvKW4ucHVzaCh0aGlzLmdldEVsZW1lbnRCeVBvcyhvKSk7dGhpcy5jdXQoZS0xKTtmb3IobGV0IG89MDtvPGk7KytvKXRoaXMucHVzaEJhY2socik7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDsrK28pdGhpcy5wdXNoQmFjayhuW29dKTt9cmV0dXJuIHRoaXMuaX1jdXQoZSl7aWYoZTwwKXJldHVybiB0aGlzLmNsZWFyKCksMDtsZXR7Y3VyTm9kZUJ1Y2tldEluZGV4OnIsY3VyTm9kZVBvaW50ZXJJbmRleDppfT10aGlzLk8oZSk7cmV0dXJuIHRoaXMuUj1yLHRoaXMuTj1pLHRoaXMuaT1lKzEsdGhpcy5pfWVyYXNlRWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtpZihlPT09MCl0aGlzLnBvcEZyb250KCk7ZWxzZSBpZihlPT09dGhpcy5pLTEpdGhpcy5wb3BCYWNrKCk7ZWxzZSB7bGV0IHI9W107Zm9yKGxldCBuPWUrMTtuPHRoaXMuaTsrK24pci5wdXNoKHRoaXMuZ2V0RWxlbWVudEJ5UG9zKG4pKTt0aGlzLmN1dChlKSx0aGlzLnBvcEJhY2soKTtsZXQgaT10aGlzO3IuZm9yRWFjaChmdW5jdGlvbihuKXtpLnB1c2hCYWNrKG4pO30pO31yZXR1cm4gdGhpcy5pfWVyYXNlRWxlbWVudEJ5VmFsdWUoZSl7aWYodGhpcy5pPT09MClyZXR1cm4gMDtsZXQgcj1bXTtmb3IobGV0IG49MDtuPHRoaXMuaTsrK24pe2xldCBvPXRoaXMuZ2V0RWxlbWVudEJ5UG9zKG4pO28hPT1lJiZyLnB1c2gobyk7fWxldCBpPXIubGVuZ3RoO2ZvcihsZXQgbj0wO248aTsrK24pdGhpcy5zZXRFbGVtZW50QnlQb3MobixyW25dKTtyZXR1cm4gdGhpcy5jdXQoaS0xKX1lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKGUpe2xldCByPWUubztyZXR1cm4gdGhpcy5lcmFzZUVsZW1lbnRCeVBvcyhyKSxlPWUubmV4dCgpLGV9ZmluZChlKXtmb3IobGV0IHI9MDtyPHRoaXMuaTsrK3IpaWYodGhpcy5nZXRFbGVtZW50QnlQb3Mocik9PT1lKXJldHVybiBuZXcgU3Iocix0aGlzKTtyZXR1cm4gdGhpcy5lbmQoKX1yZXZlcnNlKCl7bGV0IGU9MCxyPXRoaXMuaS0xO2Zvcig7ZTxyOyl7bGV0IGk9dGhpcy5nZXRFbGVtZW50QnlQb3MoZSk7dGhpcy5zZXRFbGVtZW50QnlQb3MoZSx0aGlzLmdldEVsZW1lbnRCeVBvcyhyKSksdGhpcy5zZXRFbGVtZW50QnlQb3MocixpKSxlKz0xLHItPTE7fX11bmlxdWUoKXtpZih0aGlzLmk8PTEpcmV0dXJuIHRoaXMuaTtsZXQgZT0xLHI9dGhpcy5nZXRFbGVtZW50QnlQb3MoMCk7Zm9yKGxldCBpPTE7aTx0aGlzLmk7KytpKXtsZXQgbj10aGlzLmdldEVsZW1lbnRCeVBvcyhpKTtuIT09ciYmKHI9bix0aGlzLnNldEVsZW1lbnRCeVBvcyhlKyssbikpO31mb3IoO3RoaXMuaT5lOyl0aGlzLnBvcEJhY2soKTtyZXR1cm4gdGhpcy5pfXNvcnQoZSl7bGV0IHI9W107Zm9yKGxldCBpPTA7aTx0aGlzLmk7KytpKXIucHVzaCh0aGlzLmdldEVsZW1lbnRCeVBvcyhpKSk7ci5zb3J0KGUpO2ZvcihsZXQgaT0wO2k8dGhpcy5pOysraSl0aGlzLnNldEVsZW1lbnRCeVBvcyhpLHJbaV0pO31zaHJpbmtUb0ZpdCgpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPVtdO3RoaXMuZm9yRWFjaChmdW5jdGlvbihyKXtlLnB1c2gocik7fSksdGhpcy5QPU1hdGgubWF4KE1hdGguY2VpbCh0aGlzLmkvdGhpcy5GKSwxKSx0aGlzLmk9dGhpcy5qPXRoaXMuUj10aGlzLkQ9dGhpcy5OPTAsdGhpcy5BPVtdO2ZvcihsZXQgcj0wO3I8dGhpcy5QOysrcil0aGlzLkEucHVzaChuZXcgQXJyYXkodGhpcy5GKSk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpdGhpcy5wdXNoQmFjayhlW3JdKTt9Zm9yRWFjaChlKXtmb3IobGV0IHI9MDtyPHRoaXMuaTsrK3IpZSh0aGlzLmdldEVsZW1lbnRCeVBvcyhyKSxyLHRoaXMpO31bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBmdW5jdGlvbiooKXtmb3IobGV0IGU9MDtlPHRoaXMuaTsrK2UpeWllbGQgdGhpcy5nZXRFbGVtZW50QnlQb3MoZSk7fS5iaW5kKHRoaXMpKCl9fSxGMT1tYTtWbi5kZWZhdWx0PUYxO30pO3ZhciBhcD1NKGVpPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGVpLFwidFwiLHt2YWx1ZTohMH0pO2VpLlRyZWVOb2RlRW5hYmxlSW5kZXg9ZWkuVHJlZU5vZGU9dm9pZCAwO3ZhciB6bj1jbGFzc3tjb25zdHJ1Y3RvcihlLHIpe3RoaXMuZWU9MSx0aGlzLnU9dm9pZCAwLHRoaXMubD12b2lkIDAsdGhpcy5VPXZvaWQgMCx0aGlzLlc9dm9pZCAwLHRoaXMudHQ9dm9pZCAwLHRoaXMudT1lLHRoaXMubD1yO31MKCl7bGV0IGU9dGhpcztpZihlLmVlPT09MSYmZS50dC50dD09PWUpZT1lLlc7ZWxzZSBpZihlLlUpZm9yKGU9ZS5VO2UuVzspZT1lLlc7ZWxzZSB7bGV0IHI9ZS50dDtmb3IoO3IuVT09PWU7KWU9cixyPWUudHQ7ZT1yO31yZXR1cm4gZX1CKCl7bGV0IGU9dGhpcztpZihlLlcpe2ZvcihlPWUuVztlLlU7KWU9ZS5VO3JldHVybiBlfWVsc2Uge2xldCByPWUudHQ7Zm9yKDtyLlc9PT1lOyllPXIscj1lLnR0O3JldHVybiBlLlchPT1yP3I6ZX19dGUoKXtsZXQgZT10aGlzLnR0LHI9dGhpcy5XLGk9ci5VO3JldHVybiBlLnR0PT09dGhpcz9lLnR0PXI6ZS5VPT09dGhpcz9lLlU9cjplLlc9cixyLnR0PWUsci5VPXRoaXMsdGhpcy50dD1yLHRoaXMuVz1pLGkmJihpLnR0PXRoaXMpLHJ9c2UoKXtsZXQgZT10aGlzLnR0LHI9dGhpcy5VLGk9ci5XO3JldHVybiBlLnR0PT09dGhpcz9lLnR0PXI6ZS5VPT09dGhpcz9lLlU9cjplLlc9cixyLnR0PWUsci5XPXRoaXMsdGhpcy50dD1yLHRoaXMuVT1pLGkmJihpLnR0PXRoaXMpLHJ9fTtlaS5UcmVlTm9kZT16bjt2YXIgdmE9Y2xhc3MgZXh0ZW5kcyB6bntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5ydD0xO310ZSgpe2xldCBlPXN1cGVyLnRlKCk7cmV0dXJuIHRoaXMuaWUoKSxlLmllKCksZX1zZSgpe2xldCBlPXN1cGVyLnNlKCk7cmV0dXJuIHRoaXMuaWUoKSxlLmllKCksZX1pZSgpe3RoaXMucnQ9MSx0aGlzLlUmJih0aGlzLnJ0Kz10aGlzLlUucnQpLHRoaXMuVyYmKHRoaXMucnQrPXRoaXMuVy5ydCk7fX07ZWkuVHJlZU5vZGVFbmFibGVJbmRleD12YTt9KTt2YXIgU2E9TShLbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShLbixcInRcIix7dmFsdWU6ITB9KTtLbi5kZWZhdWx0PXZvaWQgMDt2YXIgbHA9YXAoKSxXMT1sdCgpLHVwPXV0KCksRWE9Y2xhc3MgZXh0ZW5kcyBXMS5Db250YWluZXJ7Y29uc3RydWN0b3IoZT1mdW5jdGlvbihpLG4pe3JldHVybiBpPG4/LTE6aT5uPzE6MH0scj0hMSl7c3VwZXIoKSx0aGlzLlk9dm9pZCAwLHRoaXMudj1lLHI/KHRoaXMucmU9bHAuVHJlZU5vZGVFbmFibGVJbmRleCx0aGlzLk09ZnVuY3Rpb24oaSxuLG8pe2xldCBzPXRoaXMubmUoaSxuLG8pO2lmKHMpe2xldCBhPXMudHQ7Zm9yKDthIT09dGhpcy5oOylhLnJ0Kz0xLGE9YS50dDtsZXQgbD10aGlzLmhlKHMpO2lmKGwpe2xldHtwYXJlbnROb2RlOmMsZ3JhbmRQYXJlbnQ6aCxjdXJOb2RlOmR9PWw7Yy5pZSgpLGguaWUoKSxkLmllKCk7fX1yZXR1cm4gdGhpcy5pfSx0aGlzLlY9ZnVuY3Rpb24oaSl7bGV0IG49dGhpcy5mZShpKTtmb3IoO24hPT10aGlzLmg7KW4ucnQtPTEsbj1uLnR0O30pOih0aGlzLnJlPWxwLlRyZWVOb2RlLHRoaXMuTT1mdW5jdGlvbihpLG4sbyl7bGV0IHM9dGhpcy5uZShpLG4sbyk7cmV0dXJuIHMmJnRoaXMuaGUocyksdGhpcy5pfSx0aGlzLlY9dGhpcy5mZSksdGhpcy5oPW5ldyB0aGlzLnJlO31YKGUscil7bGV0IGk9dGhpcy5oO2Zvcig7ZTspe2xldCBuPXRoaXMudihlLnUscik7aWYobjwwKWU9ZS5XO2Vsc2UgaWYobj4wKWk9ZSxlPWUuVTtlbHNlIHJldHVybiBlfXJldHVybiBpfVooZSxyKXtsZXQgaT10aGlzLmg7Zm9yKDtlOyl0aGlzLnYoZS51LHIpPD0wP2U9ZS5XOihpPWUsZT1lLlUpO3JldHVybiBpfSQoZSxyKXtsZXQgaT10aGlzLmg7Zm9yKDtlOyl7bGV0IG49dGhpcy52KGUudSxyKTtpZihuPDApaT1lLGU9ZS5XO2Vsc2UgaWYobj4wKWU9ZS5VO2Vsc2UgcmV0dXJuIGV9cmV0dXJuIGl9cnIoZSxyKXtsZXQgaT10aGlzLmg7Zm9yKDtlOyl0aGlzLnYoZS51LHIpPDA/KGk9ZSxlPWUuVyk6ZT1lLlU7cmV0dXJuIGl9dWUoZSl7Zm9yKDs7KXtsZXQgcj1lLnR0O2lmKHI9PT10aGlzLmgpcmV0dXJuO2lmKGUuZWU9PT0xKXtlLmVlPTA7cmV0dXJufWlmKGU9PT1yLlUpe2xldCBpPXIuVztpZihpLmVlPT09MSlpLmVlPTAsci5lZT0xLHI9PT10aGlzLlk/dGhpcy5ZPXIudGUoKTpyLnRlKCk7ZWxzZSBpZihpLlcmJmkuVy5lZT09PTEpe2kuZWU9ci5lZSxyLmVlPTAsaS5XLmVlPTAscj09PXRoaXMuWT90aGlzLlk9ci50ZSgpOnIudGUoKTtyZXR1cm59ZWxzZSBpLlUmJmkuVS5lZT09PTE/KGkuZWU9MSxpLlUuZWU9MCxpLnNlKCkpOihpLmVlPTEsZT1yKTt9ZWxzZSB7bGV0IGk9ci5VO2lmKGkuZWU9PT0xKWkuZWU9MCxyLmVlPTEscj09PXRoaXMuWT90aGlzLlk9ci5zZSgpOnIuc2UoKTtlbHNlIGlmKGkuVSYmaS5VLmVlPT09MSl7aS5lZT1yLmVlLHIuZWU9MCxpLlUuZWU9MCxyPT09dGhpcy5ZP3RoaXMuWT1yLnNlKCk6ci5zZSgpO3JldHVybn1lbHNlIGkuVyYmaS5XLmVlPT09MT8oaS5lZT0xLGkuVy5lZT0wLGkudGUoKSk6KGkuZWU9MSxlPXIpO319fWZlKGUpe2lmKHRoaXMuaT09PTEpcmV0dXJuIHRoaXMuY2xlYXIoKSx0aGlzLmg7bGV0IHI9ZTtmb3IoO3IuVXx8ci5XOyl7aWYoci5XKWZvcihyPXIuVztyLlU7KXI9ci5VO2Vsc2Ugcj1yLlU7W2UudSxyLnVdPVtyLnUsZS51XSxbZS5sLHIubF09W3IubCxlLmxdLGU9cjt9dGhpcy5oLlU9PT1yP3RoaXMuaC5VPXIudHQ6dGhpcy5oLlc9PT1yJiYodGhpcy5oLlc9ci50dCksdGhpcy51ZShyKTtsZXQgaT1yLnR0O3JldHVybiByPT09aS5VP2kuVT12b2lkIDA6aS5XPXZvaWQgMCx0aGlzLmktPTEsdGhpcy5ZLmVlPTAsaX1vZShlLHIpe3JldHVybiBlPT09dm9pZCAwPyExOnRoaXMub2UoZS5VLHIpfHxyKGUpPyEwOnRoaXMub2UoZS5XLHIpfWhlKGUpe2Zvcig7Oyl7bGV0IHI9ZS50dDtpZihyLmVlPT09MClyZXR1cm47bGV0IGk9ci50dDtpZihyPT09aS5VKXtsZXQgbj1pLlc7aWYobiYmbi5lZT09PTEpe2lmKG4uZWU9ci5lZT0wLGk9PT10aGlzLlkpcmV0dXJuO2kuZWU9MSxlPWk7Y29udGludWV9ZWxzZSBpZihlPT09ci5XKXtpZihlLmVlPTAsZS5VJiYoZS5VLnR0PXIpLGUuVyYmKGUuVy50dD1pKSxyLlc9ZS5VLGkuVT1lLlcsZS5VPXIsZS5XPWksaT09PXRoaXMuWSl0aGlzLlk9ZSx0aGlzLmgudHQ9ZTtlbHNlIHtsZXQgbz1pLnR0O28uVT09PWk/by5VPWU6by5XPWU7fXJldHVybiBlLnR0PWkudHQsci50dD1lLGkudHQ9ZSxpLmVlPTEse3BhcmVudE5vZGU6cixncmFuZFBhcmVudDppLGN1ck5vZGU6ZX19ZWxzZSByLmVlPTAsaT09PXRoaXMuWT90aGlzLlk9aS5zZSgpOmkuc2UoKSxpLmVlPTE7fWVsc2Uge2xldCBuPWkuVTtpZihuJiZuLmVlPT09MSl7aWYobi5lZT1yLmVlPTAsaT09PXRoaXMuWSlyZXR1cm47aS5lZT0xLGU9aTtjb250aW51ZX1lbHNlIGlmKGU9PT1yLlUpe2lmKGUuZWU9MCxlLlUmJihlLlUudHQ9aSksZS5XJiYoZS5XLnR0PXIpLGkuVz1lLlUsci5VPWUuVyxlLlU9aSxlLlc9cixpPT09dGhpcy5ZKXRoaXMuWT1lLHRoaXMuaC50dD1lO2Vsc2Uge2xldCBvPWkudHQ7by5VPT09aT9vLlU9ZTpvLlc9ZTt9cmV0dXJuIGUudHQ9aS50dCxyLnR0PWUsaS50dD1lLGkuZWU9MSx7cGFyZW50Tm9kZTpyLGdyYW5kUGFyZW50OmksY3VyTm9kZTplfX1lbHNlIHIuZWU9MCxpPT09dGhpcy5ZP3RoaXMuWT1pLnRlKCk6aS50ZSgpLGkuZWU9MTt9cmV0dXJufX1uZShlLHIsaSl7aWYodGhpcy5ZPT09dm9pZCAwKXt0aGlzLmkrPTEsdGhpcy5ZPW5ldyB0aGlzLnJlKGUsciksdGhpcy5ZLmVlPTAsdGhpcy5ZLnR0PXRoaXMuaCx0aGlzLmgudHQ9dGhpcy5ZLHRoaXMuaC5VPXRoaXMuWSx0aGlzLmguVz10aGlzLlk7cmV0dXJufWxldCBuLG89dGhpcy5oLlUscz10aGlzLnYoby51LGUpO2lmKHM9PT0wKXtvLmw9cjtyZXR1cm59ZWxzZSBpZihzPjApby5VPW5ldyB0aGlzLnJlKGUsciksby5VLnR0PW8sbj1vLlUsdGhpcy5oLlU9bjtlbHNlIHtsZXQgYT10aGlzLmguVyxsPXRoaXMudihhLnUsZSk7aWYobD09PTApe2EubD1yO3JldHVybn1lbHNlIGlmKGw8MClhLlc9bmV3IHRoaXMucmUoZSxyKSxhLlcudHQ9YSxuPWEuVyx0aGlzLmguVz1uO2Vsc2Uge2lmKGkhPT12b2lkIDApe2xldCBjPWkubztpZihjIT09dGhpcy5oKXtsZXQgaD10aGlzLnYoYy51LGUpO2lmKGg9PT0wKXtjLmw9cjtyZXR1cm59ZWxzZSBpZihoPjApe2xldCBkPWMuTCgpLGc9dGhpcy52KGQudSxlKTtpZihnPT09MCl7ZC5sPXI7cmV0dXJufWVsc2UgZzwwJiYobj1uZXcgdGhpcy5yZShlLHIpLGQuVz09PXZvaWQgMD8oZC5XPW4sbi50dD1kKTooYy5VPW4sbi50dD1jKSk7fX19aWYobj09PXZvaWQgMClmb3Iobj10aGlzLlk7Oyl7bGV0IGM9dGhpcy52KG4udSxlKTtpZihjPjApe2lmKG4uVT09PXZvaWQgMCl7bi5VPW5ldyB0aGlzLnJlKGUsciksbi5VLnR0PW4sbj1uLlU7YnJlYWt9bj1uLlU7fWVsc2UgaWYoYzwwKXtpZihuLlc9PT12b2lkIDApe24uVz1uZXcgdGhpcy5yZShlLHIpLG4uVy50dD1uLG49bi5XO2JyZWFrfW49bi5XO31lbHNlIHtuLmw9cjtyZXR1cm59fX19cmV0dXJuIHRoaXMuaSs9MSxufUkoZSxyKXtmb3IoO2U7KXtsZXQgaT10aGlzLnYoZS51LHIpO2lmKGk8MCllPWUuVztlbHNlIGlmKGk+MCllPWUuVTtlbHNlIHJldHVybiBlfXJldHVybiBlfHx0aGlzLmh9Y2xlYXIoKXt0aGlzLmk9MCx0aGlzLlk9dm9pZCAwLHRoaXMuaC50dD12b2lkIDAsdGhpcy5oLlU9dGhpcy5oLlc9dm9pZCAwO311cGRhdGVLZXlCeUl0ZXJhdG9yKGUscil7bGV0IGk9ZS5vO2lmKGk9PT10aGlzLmgmJigwLCB1cC50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5pPT09MSlyZXR1cm4gaS51PXIsITA7aWYoaT09PXRoaXMuaC5VKXJldHVybiB0aGlzLnYoaS5CKCkudSxyKT4wPyhpLnU9ciwhMCk6ITE7aWYoaT09PXRoaXMuaC5XKXJldHVybiB0aGlzLnYoaS5MKCkudSxyKTwwPyhpLnU9ciwhMCk6ITE7bGV0IG49aS5MKCkudTtpZih0aGlzLnYobixyKT49MClyZXR1cm4gITE7bGV0IG89aS5CKCkudTtyZXR1cm4gdGhpcy52KG8scik8PTA/ITE6KGkudT1yLCEwKX1lcmFzZUVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IHI9MCxpPXRoaXM7cmV0dXJuIHRoaXMub2UodGhpcy5ZLGZ1bmN0aW9uKG4pe3JldHVybiBlPT09cj8oaS5WKG4pLCEwKToocis9MSwhMSl9KSx0aGlzLml9ZXJhc2VFbGVtZW50QnlLZXkoZSl7aWYodGhpcy5pPT09MClyZXR1cm4gITE7bGV0IHI9dGhpcy5JKHRoaXMuWSxlKTtyZXR1cm4gcj09PXRoaXMuaD8hMToodGhpcy5WKHIpLCEwKX1lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKGUpe2xldCByPWUubztyPT09dGhpcy5oJiYoMCwgdXAudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpO2xldCBpPXIuVz09PXZvaWQgMDtyZXR1cm4gZS5pdGVyYXRvclR5cGU9PT0wP2kmJmUubmV4dCgpOighaXx8ci5VPT09dm9pZCAwKSYmZS5uZXh0KCksdGhpcy5WKHIpLGV9Zm9yRWFjaChlKXtsZXQgcj0wO2ZvcihsZXQgaSBvZiB0aGlzKWUoaSxyKyssdGhpcyk7fWdldEVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IHIsaT0wO2ZvcihsZXQgbiBvZiB0aGlzKXtpZihpPT09ZSl7cj1uO2JyZWFrfWkrPTE7fXJldHVybiByfWdldEhlaWdodCgpe2lmKHRoaXMuaT09PTApcmV0dXJuIDA7bGV0IGU9ZnVuY3Rpb24ocil7cmV0dXJuIHI/TWF0aC5tYXgoZShyLlUpLGUoci5XKSkrMTowfTtyZXR1cm4gZSh0aGlzLlkpfX0sJDE9RWE7S24uZGVmYXVsdD0kMTt9KTt2YXIgSWE9TShRbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShRbixcInRcIix7dmFsdWU6ITB9KTtRbi5kZWZhdWx0PXZvaWQgMDt2YXIgSDE9bHQoKSxHbj11dCgpLEFhPWNsYXNzIGV4dGVuZHMgSDEuQ29udGFpbmVySXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyLGkpe3N1cGVyKGkpLHRoaXMubz1lLHRoaXMuaD1yLHRoaXMuaXRlcmF0b3JUeXBlPT09MD8odGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oLlUmJigwLCBHbi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5MKCksdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIEduLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkIoKSx0aGlzfSk6KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaC5XJiYoMCwgR24udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uQigpLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCBHbi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5MKCksdGhpc30pO31nZXQgaW5kZXgoKXtsZXQgZT10aGlzLm8scj10aGlzLmgudHQ7aWYoZT09PXRoaXMuaClyZXR1cm4gcj9yLnJ0LTE6MDtsZXQgaT0wO2ZvcihlLlUmJihpKz1lLlUucnQpO2UhPT1yOyl7bGV0IG49ZS50dDtlPT09bi5XJiYoaSs9MSxuLlUmJihpKz1uLlUucnQpKSxlPW47fXJldHVybiBpfX0sVjE9QWE7UW4uZGVmYXVsdD1WMTt9KTt2YXIgY3A9TShZbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShZbixcInRcIix7dmFsdWU6ITB9KTtZbi5kZWZhdWx0PXZvaWQgMDt2YXIgejE9ZnAoU2EoKSksSzE9ZnAoSWEoKSksRzE9dXQoKTtmdW5jdGlvbiBmcCh0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19dmFyIEtlPWNsYXNzIHQgZXh0ZW5kcyBLMS5kZWZhdWx0e2NvbnN0cnVjdG9yKGUscixpLG4pe3N1cGVyKGUscixuKSx0aGlzLmNvbnRhaW5lcj1pO31nZXQgcG9pbnRlcigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCBHMS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vLnV9Y29weSgpe3JldHVybiBuZXcgdCh0aGlzLm8sdGhpcy5oLHRoaXMuY29udGFpbmVyLHRoaXMuaXRlcmF0b3JUeXBlKX19LFRhPWNsYXNzIGV4dGVuZHMgejEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlPVtdLHIsaSl7c3VwZXIocixpKTtsZXQgbj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihvKXtuLmluc2VydChvKTt9KTt9KksoZSl7ZSE9PXZvaWQgMCYmKHlpZWxkKnRoaXMuSyhlLlUpLHlpZWxkIGUudSx5aWVsZCp0aGlzLksoZS5XKSk7fWJlZ2luKCl7cmV0dXJuIG5ldyBLZSh0aGlzLmguVXx8dGhpcy5oLHRoaXMuaCx0aGlzKX1lbmQoKXtyZXR1cm4gbmV3IEtlKHRoaXMuaCx0aGlzLmgsdGhpcyl9ckJlZ2luKCl7cmV0dXJuIG5ldyBLZSh0aGlzLmguV3x8dGhpcy5oLHRoaXMuaCx0aGlzLDEpfXJFbmQoKXtyZXR1cm4gbmV3IEtlKHRoaXMuaCx0aGlzLmgsdGhpcywxKX1mcm9udCgpe3JldHVybiB0aGlzLmguVT90aGlzLmguVS51OnZvaWQgMH1iYWNrKCl7cmV0dXJuIHRoaXMuaC5XP3RoaXMuaC5XLnU6dm9pZCAwfWluc2VydChlLHIpe3JldHVybiB0aGlzLk0oZSx2b2lkIDAscil9ZmluZChlKXtsZXQgcj10aGlzLkkodGhpcy5ZLGUpO3JldHVybiBuZXcgS2Uocix0aGlzLmgsdGhpcyl9bG93ZXJCb3VuZChlKXtsZXQgcj10aGlzLlgodGhpcy5ZLGUpO3JldHVybiBuZXcgS2Uocix0aGlzLmgsdGhpcyl9dXBwZXJCb3VuZChlKXtsZXQgcj10aGlzLloodGhpcy5ZLGUpO3JldHVybiBuZXcgS2Uocix0aGlzLmgsdGhpcyl9cmV2ZXJzZUxvd2VyQm91bmQoZSl7bGV0IHI9dGhpcy4kKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEtlKHIsdGhpcy5oLHRoaXMpfXJldmVyc2VVcHBlckJvdW5kKGUpe2xldCByPXRoaXMucnIodGhpcy5ZLGUpO3JldHVybiBuZXcgS2Uocix0aGlzLmgsdGhpcyl9dW5pb24oZSl7bGV0IHI9dGhpcztyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3IuaW5zZXJ0KGkpO30pLHRoaXMuaX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLksodGhpcy5ZKX19LFExPVRhO1luLmRlZmF1bHQ9UTE7fSk7dmFyIGRwPU0oSm49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSm4sXCJ0XCIse3ZhbHVlOiEwfSk7Sm4uZGVmYXVsdD12b2lkIDA7dmFyIFkxPWhwKFNhKCkpLEoxPWhwKElhKCkpLFgxPXV0KCk7ZnVuY3Rpb24gaHAodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fXZhciBHZT1jbGFzcyB0IGV4dGVuZHMgSjEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlLHIsaSxuKXtzdXBlcihlLHIsbiksdGhpcy5jb250YWluZXI9aTt9Z2V0IHBvaW50ZXIoKXt0aGlzLm89PT10aGlzLmgmJigwLCBYMS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCk7bGV0IGU9dGhpcztyZXR1cm4gbmV3IFByb3h5KFtdLHtnZXQocixpKXtpZihpPT09XCIwXCIpcmV0dXJuIGUuby51O2lmKGk9PT1cIjFcIilyZXR1cm4gZS5vLmx9LHNldChyLGksbil7aWYoaSE9PVwiMVwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJwcm9wcyBtdXN0IGJlIDFcIik7cmV0dXJuIGUuby5sPW4sITB9fSl9Y29weSgpe3JldHVybiBuZXcgdCh0aGlzLm8sdGhpcy5oLHRoaXMuY29udGFpbmVyLHRoaXMuaXRlcmF0b3JUeXBlKX19LFJhPWNsYXNzIGV4dGVuZHMgWTEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlPVtdLHIsaSl7c3VwZXIocixpKTtsZXQgbj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihvKXtuLnNldEVsZW1lbnQob1swXSxvWzFdKTt9KTt9KksoZSl7ZSE9PXZvaWQgMCYmKHlpZWxkKnRoaXMuSyhlLlUpLHlpZWxkIFtlLnUsZS5sXSx5aWVsZCp0aGlzLksoZS5XKSk7fWJlZ2luKCl7cmV0dXJuIG5ldyBHZSh0aGlzLmguVXx8dGhpcy5oLHRoaXMuaCx0aGlzKX1lbmQoKXtyZXR1cm4gbmV3IEdlKHRoaXMuaCx0aGlzLmgsdGhpcyl9ckJlZ2luKCl7cmV0dXJuIG5ldyBHZSh0aGlzLmguV3x8dGhpcy5oLHRoaXMuaCx0aGlzLDEpfXJFbmQoKXtyZXR1cm4gbmV3IEdlKHRoaXMuaCx0aGlzLmgsdGhpcywxKX1mcm9udCgpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMuaC5VO3JldHVybiBbZS51LGUubF19YmFjaygpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMuaC5XO3JldHVybiBbZS51LGUubF19bG93ZXJCb3VuZChlKXtsZXQgcj10aGlzLlgodGhpcy5ZLGUpO3JldHVybiBuZXcgR2Uocix0aGlzLmgsdGhpcyl9dXBwZXJCb3VuZChlKXtsZXQgcj10aGlzLloodGhpcy5ZLGUpO3JldHVybiBuZXcgR2Uocix0aGlzLmgsdGhpcyl9cmV2ZXJzZUxvd2VyQm91bmQoZSl7bGV0IHI9dGhpcy4kKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEdlKHIsdGhpcy5oLHRoaXMpfXJldmVyc2VVcHBlckJvdW5kKGUpe2xldCByPXRoaXMucnIodGhpcy5ZLGUpO3JldHVybiBuZXcgR2Uocix0aGlzLmgsdGhpcyl9c2V0RWxlbWVudChlLHIsaSl7cmV0dXJuIHRoaXMuTShlLHIsaSl9ZmluZChlKXtsZXQgcj10aGlzLkkodGhpcy5ZLGUpO3JldHVybiBuZXcgR2Uocix0aGlzLmgsdGhpcyl9Z2V0RWxlbWVudEJ5S2V5KGUpe3JldHVybiB0aGlzLkkodGhpcy5ZLGUpLmx9dW5pb24oZSl7bGV0IHI9dGhpcztyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3Iuc2V0RWxlbWVudChpWzBdLGlbMV0pO30pLHRoaXMuaX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLksodGhpcy5ZKX19LFoxPVJhO0puLmRlZmF1bHQ9WjE7fSk7dmFyIEJhPU0oQ2E9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2EsXCJ0XCIse3ZhbHVlOiEwfSk7Q2EuZGVmYXVsdD1ldjtmdW5jdGlvbiBldih0KXtsZXQgZT10eXBlb2YgdDtyZXR1cm4gZT09PVwib2JqZWN0XCImJnQhPT1udWxsfHxlPT09XCJmdW5jdGlvblwifX0pO3ZhciB4YT1NKHRpPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRpLFwidFwiLHt2YWx1ZTohMH0pO3RpLkhhc2hDb250YWluZXJJdGVyYXRvcj10aS5IYXNoQ29udGFpbmVyPXZvaWQgMDt2YXIgcHA9bHQoKSxQYT10dihCYSgpKSxDaT11dCgpO2Z1bmN0aW9uIHR2KHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX12YXIga2E9Y2xhc3MgZXh0ZW5kcyBwcC5Db250YWluZXJJdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIsaSl7c3VwZXIoaSksdGhpcy5vPWUsdGhpcy5oPXIsdGhpcy5pdGVyYXRvclR5cGU9PT0wPyh0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm8uTD09PXRoaXMuaCYmKDAsIENpLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkwsdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIENpLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkIsdGhpc30pOih0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm8uQj09PXRoaXMuaCYmKDAsIENpLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkIsdGhpc30sdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIENpLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkwsdGhpc30pO319O3RpLkhhc2hDb250YWluZXJJdGVyYXRvcj1rYTt2YXIgT2E9Y2xhc3MgZXh0ZW5kcyBwcC5Db250YWluZXJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuSD1bXSx0aGlzLmc9e30sdGhpcy5IQVNIX1RBRz1TeW1ib2woXCJAQEhBU0hfVEFHXCIpLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLmcsbnVsbCksdGhpcy5oPXt9LHRoaXMuaC5MPXRoaXMuaC5CPXRoaXMucD10aGlzLl89dGhpcy5oO31WKGUpe2xldHtMOnIsQjppfT1lO3IuQj1pLGkuTD1yLGU9PT10aGlzLnAmJih0aGlzLnA9aSksZT09PXRoaXMuXyYmKHRoaXMuXz1yKSx0aGlzLmktPTE7fU0oZSxyLGkpe2k9PT12b2lkIDAmJihpPSgwLCBQYS5kZWZhdWx0KShlKSk7bGV0IG47aWYoaSl7bGV0IG89ZVt0aGlzLkhBU0hfVEFHXTtpZihvIT09dm9pZCAwKXJldHVybiB0aGlzLkhbb10ubD1yLHRoaXMuaTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLkhBU0hfVEFHLHt2YWx1ZTp0aGlzLkgubGVuZ3RoLGNvbmZpZ3VyYWJsZTohMH0pLG49e3U6ZSxsOnIsTDp0aGlzLl8sQjp0aGlzLmh9LHRoaXMuSC5wdXNoKG4pO31lbHNlIHtsZXQgbz10aGlzLmdbZV07aWYobylyZXR1cm4gby5sPXIsdGhpcy5pO249e3U6ZSxsOnIsTDp0aGlzLl8sQjp0aGlzLmh9LHRoaXMuZ1tlXT1uO31yZXR1cm4gdGhpcy5pPT09MD8odGhpcy5wPW4sdGhpcy5oLkI9bik6dGhpcy5fLkI9bix0aGlzLl89bix0aGlzLmguTD1uLCsrdGhpcy5pfUkoZSxyKXtpZihyPT09dm9pZCAwJiYocj0oMCwgUGEuZGVmYXVsdCkoZSkpLHIpe2xldCBpPWVbdGhpcy5IQVNIX1RBR107cmV0dXJuIGk9PT12b2lkIDA/dGhpcy5oOnRoaXMuSFtpXX1lbHNlIHJldHVybiB0aGlzLmdbZV18fHRoaXMuaH1jbGVhcigpe2xldCBlPXRoaXMuSEFTSF9UQUc7dGhpcy5ILmZvckVhY2goZnVuY3Rpb24ocil7ZGVsZXRlIHIudVtlXTt9KSx0aGlzLkg9W10sdGhpcy5nPXt9LE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLmcsbnVsbCksdGhpcy5pPTAsdGhpcy5wPXRoaXMuXz10aGlzLmguTD10aGlzLmguQj10aGlzLmg7fWVyYXNlRWxlbWVudEJ5S2V5KGUscil7bGV0IGk7aWYocj09PXZvaWQgMCYmKHI9KDAsIFBhLmRlZmF1bHQpKGUpKSxyKXtsZXQgbj1lW3RoaXMuSEFTSF9UQUddO2lmKG49PT12b2lkIDApcmV0dXJuICExO2RlbGV0ZSBlW3RoaXMuSEFTSF9UQUddLGk9dGhpcy5IW25dLGRlbGV0ZSB0aGlzLkhbbl07fWVsc2Uge2lmKGk9dGhpcy5nW2VdLGk9PT12b2lkIDApcmV0dXJuICExO2RlbGV0ZSB0aGlzLmdbZV07fXJldHVybiB0aGlzLlYoaSksITB9ZXJhc2VFbGVtZW50QnlJdGVyYXRvcihlKXtsZXQgcj1lLm87cmV0dXJuIHI9PT10aGlzLmgmJigwLCBDaS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5WKHIpLGUubmV4dCgpfWVyYXNlRWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgcj10aGlzLnA7Zm9yKDtlLS07KXI9ci5CO3JldHVybiB0aGlzLlYociksdGhpcy5pfX07dGkuSGFzaENvbnRhaW5lcj1PYTt9KTt2YXIgeXA9TShYbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShYbixcInRcIix7dmFsdWU6ITB9KTtYbi5kZWZhdWx0PXZvaWQgMDt2YXIgZ3A9eGEoKSxydj11dCgpLEFyPWNsYXNzIHQgZXh0ZW5kcyBncC5IYXNoQ29udGFpbmVySXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyLGksbil7c3VwZXIoZSxyLG4pLHRoaXMuY29udGFpbmVyPWk7fWdldCBwb2ludGVyKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaCYmKDAsIHJ2LnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8udX1jb3B5KCl7cmV0dXJuIG5ldyB0KHRoaXMubyx0aGlzLmgsdGhpcy5jb250YWluZXIsdGhpcy5pdGVyYXRvclR5cGUpfX0sTWE9Y2xhc3MgZXh0ZW5kcyBncC5IYXNoQ29udGFpbmVye2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCk7bGV0IHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oaSl7ci5pbnNlcnQoaSk7fSk7fWJlZ2luKCl7cmV0dXJuIG5ldyBBcih0aGlzLnAsdGhpcy5oLHRoaXMpfWVuZCgpe3JldHVybiBuZXcgQXIodGhpcy5oLHRoaXMuaCx0aGlzKX1yQmVnaW4oKXtyZXR1cm4gbmV3IEFyKHRoaXMuXyx0aGlzLmgsdGhpcywxKX1yRW5kKCl7cmV0dXJuIG5ldyBBcih0aGlzLmgsdGhpcy5oLHRoaXMsMSl9ZnJvbnQoKXtyZXR1cm4gdGhpcy5wLnV9YmFjaygpe3JldHVybiB0aGlzLl8udX1pbnNlcnQoZSxyKXtyZXR1cm4gdGhpcy5NKGUsdm9pZCAwLHIpfWdldEVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IHI9dGhpcy5wO2Zvcig7ZS0tOylyPXIuQjtyZXR1cm4gci51fWZpbmQoZSxyKXtsZXQgaT10aGlzLkkoZSxyKTtyZXR1cm4gbmV3IEFyKGksdGhpcy5oLHRoaXMpfWZvckVhY2goZSl7bGV0IHI9MCxpPXRoaXMucDtmb3IoO2khPT10aGlzLmg7KWUoaS51LHIrKyx0aGlzKSxpPWkuQjt9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gZnVuY3Rpb24qKCl7bGV0IGU9dGhpcy5wO2Zvcig7ZSE9PXRoaXMuaDspeWllbGQgZS51LGU9ZS5CO30uYmluZCh0aGlzKSgpfX0saXY9TWE7WG4uZGVmYXVsdD1pdjt9KTt2YXIgd3A9TShabj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShabixcInRcIix7dmFsdWU6ITB9KTtabi5kZWZhdWx0PXZvaWQgMDt2YXIgYnA9eGEoKSxudj1vdihCYSgpKSxzdj11dCgpO2Z1bmN0aW9uIG92KHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX12YXIgSXI9Y2xhc3MgdCBleHRlbmRzIGJwLkhhc2hDb250YWluZXJJdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIsaSxuKXtzdXBlcihlLHIsbiksdGhpcy5jb250YWluZXI9aTt9Z2V0IHBvaW50ZXIoKXt0aGlzLm89PT10aGlzLmgmJigwLCBzdi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCk7bGV0IGU9dGhpcztyZXR1cm4gbmV3IFByb3h5KFtdLHtnZXQocixpKXtpZihpPT09XCIwXCIpcmV0dXJuIGUuby51O2lmKGk9PT1cIjFcIilyZXR1cm4gZS5vLmx9LHNldChyLGksbil7aWYoaSE9PVwiMVwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJwcm9wcyBtdXN0IGJlIDFcIik7cmV0dXJuIGUuby5sPW4sITB9fSl9Y29weSgpe3JldHVybiBuZXcgdCh0aGlzLm8sdGhpcy5oLHRoaXMuY29udGFpbmVyLHRoaXMuaXRlcmF0b3JUeXBlKX19LExhPWNsYXNzIGV4dGVuZHMgYnAuSGFzaENvbnRhaW5lcntjb25zdHJ1Y3RvcihlPVtdKXtzdXBlcigpO2xldCByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3Iuc2V0RWxlbWVudChpWzBdLGlbMV0pO30pO31iZWdpbigpe3JldHVybiBuZXcgSXIodGhpcy5wLHRoaXMuaCx0aGlzKX1lbmQoKXtyZXR1cm4gbmV3IElyKHRoaXMuaCx0aGlzLmgsdGhpcyl9ckJlZ2luKCl7cmV0dXJuIG5ldyBJcih0aGlzLl8sdGhpcy5oLHRoaXMsMSl9ckVuZCgpe3JldHVybiBuZXcgSXIodGhpcy5oLHRoaXMuaCx0aGlzLDEpfWZyb250KCl7aWYodGhpcy5pIT09MClyZXR1cm4gW3RoaXMucC51LHRoaXMucC5sXX1iYWNrKCl7aWYodGhpcy5pIT09MClyZXR1cm4gW3RoaXMuXy51LHRoaXMuXy5sXX1zZXRFbGVtZW50KGUscixpKXtyZXR1cm4gdGhpcy5NKGUscixpKX1nZXRFbGVtZW50QnlLZXkoZSxyKXtpZihyPT09dm9pZCAwJiYocj0oMCwgbnYuZGVmYXVsdCkoZSkpLHIpe2xldCBuPWVbdGhpcy5IQVNIX1RBR107cmV0dXJuIG4hPT12b2lkIDA/dGhpcy5IW25dLmw6dm9pZCAwfWxldCBpPXRoaXMuZ1tlXTtyZXR1cm4gaT9pLmw6dm9pZCAwfWdldEVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IHI9dGhpcy5wO2Zvcig7ZS0tOylyPXIuQjtyZXR1cm4gW3IudSxyLmxdfWZpbmQoZSxyKXtsZXQgaT10aGlzLkkoZSxyKTtyZXR1cm4gbmV3IElyKGksdGhpcy5oLHRoaXMpfWZvckVhY2goZSl7bGV0IHI9MCxpPXRoaXMucDtmb3IoO2khPT10aGlzLmg7KWUoW2kudSxpLmxdLHIrKyx0aGlzKSxpPWkuQjt9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gZnVuY3Rpb24qKCl7bGV0IGU9dGhpcy5wO2Zvcig7ZSE9PXRoaXMuaDspeWllbGQgW2UudSxlLmxdLGU9ZS5CO30uYmluZCh0aGlzKSgpfX0sYXY9TGE7Wm4uZGVmYXVsdD1hdjt9KTt2YXIgX3A9TShqZT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcInRcIix7dmFsdWU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJEZXF1ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkdi5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIkhhc2hNYXBcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYnYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJIYXNoU2V0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHl2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiTGlua0xpc3RcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaHYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJPcmRlcmVkTWFwXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGd2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiT3JkZXJlZFNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwdi5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIlByaW9yaXR5UXVldWVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJRdWV1ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1di5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIlN0YWNrXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiVmVjdG9yXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN2LmRlZmF1bHR9fSk7dmFyIGx2PWZ0KHRwKCkpLHV2PWZ0KHJwKCkpLGZ2PWZ0KGlwKCkpLGN2PWZ0KG5wKCkpLGh2PWZ0KHNwKCkpLGR2PWZ0KG9wKCkpLHB2PWZ0KGNwKCkpLGd2PWZ0KGRwKCkpLHl2PWZ0KHlwKCkpLGJ2PWZ0KHdwKCkpO2Z1bmN0aW9uIGZ0KHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX19KTt2YXIgdnA9TSgoQU4sbXApPT57XygpO3YoKTttKCk7dmFyIHd2PV9wKCkuT3JkZXJlZFNldCxjdD1vdCgpKFwibnVtYmVyLWFsbG9jYXRvcjp0cmFjZVwiKSxfdj1vdCgpKFwibnVtYmVyLWFsbG9jYXRvcjplcnJvclwiKTtmdW5jdGlvbiBSZSh0LGUpe3RoaXMubG93PXQsdGhpcy5oaWdoPWU7fVJlLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG93PT09dC5sb3cmJnRoaXMuaGlnaD09PXQuaGlnaH07UmUucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG93PHQubG93JiZ0aGlzLmhpZ2g8dC5sb3c/LTE6dC5sb3c8dGhpcy5sb3cmJnQuaGlnaDx0aGlzLmxvdz8xOjB9O2Z1bmN0aW9uIGh0KHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgaHQpKXJldHVybiBuZXcgaHQodCxlKTt0aGlzLm1pbj10LHRoaXMubWF4PWUsdGhpcy5zcz1uZXcgd3YoW10sKHIsaSk9PnIuY29tcGFyZShpKSksY3QoXCJDcmVhdGVcIiksdGhpcy5jbGVhcigpO31odC5wcm90b3R5cGUuZmlyc3RWYWNhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcy5zaXplKCk9PT0wP251bGw6dGhpcy5zcy5mcm9udCgpLmxvd307aHQucHJvdG90eXBlLmFsbG9jPWZ1bmN0aW9uKCl7aWYodGhpcy5zcy5zaXplKCk9PT0wKXJldHVybiBjdChcImFsbG9jKCk6ZW1wdHlcIiksbnVsbDtsZXQgdD10aGlzLnNzLmJlZ2luKCksZT10LnBvaW50ZXIubG93LHI9dC5wb2ludGVyLmhpZ2gsaT1lO3JldHVybiBpKzE8PXI/dGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHQsbmV3IFJlKGUrMSxyKSk6dGhpcy5zcy5lcmFzZUVsZW1lbnRCeVBvcygwKSxjdChcImFsbG9jKCk6XCIraSksaX07aHQucHJvdG90eXBlLnVzZT1mdW5jdGlvbih0KXtsZXQgZT1uZXcgUmUodCx0KSxyPXRoaXMuc3MubG93ZXJCb3VuZChlKTtpZighci5lcXVhbHModGhpcy5zcy5lbmQoKSkpe2xldCBpPXIucG9pbnRlci5sb3csbj1yLnBvaW50ZXIuaGlnaDtyZXR1cm4gci5wb2ludGVyLmVxdWFscyhlKT8odGhpcy5zcy5lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKHIpLGN0KFwidXNlKCk6XCIrdCksITApOmk+dD8hMTppPT09dD8odGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHIsbmV3IFJlKGkrMSxuKSksY3QoXCJ1c2UoKTpcIit0KSwhMCk6bj09PXQ/KHRoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcihyLG5ldyBSZShpLG4tMSkpLGN0KFwidXNlKCk6XCIrdCksITApOih0aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IocixuZXcgUmUodCsxLG4pKSx0aGlzLnNzLmluc2VydChuZXcgUmUoaSx0LTEpKSxjdChcInVzZSgpOlwiK3QpLCEwKX1yZXR1cm4gY3QoXCJ1c2UoKTpmYWlsZWRcIiksITF9O2h0LnByb3RvdHlwZS5mcmVlPWZ1bmN0aW9uKHQpe2lmKHQ8dGhpcy5taW58fHQ+dGhpcy5tYXgpe192KFwiZnJlZSgpOlwiK3QrXCIgaXMgb3V0IG9mIHJhbmdlXCIpO3JldHVybn1sZXQgZT1uZXcgUmUodCx0KSxyPXRoaXMuc3MudXBwZXJCb3VuZChlKTtpZihyLmVxdWFscyh0aGlzLnNzLmVuZCgpKSl7aWYoci5lcXVhbHModGhpcy5zcy5iZWdpbigpKSl7dGhpcy5zcy5pbnNlcnQoZSk7cmV0dXJufXIucHJlKCk7bGV0IGk9ci5wb2ludGVyLmhpZ2g7ci5wb2ludGVyLmhpZ2grMT09PXQ/dGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHIsbmV3IFJlKGksdCkpOnRoaXMuc3MuaW5zZXJ0KGUpO31lbHNlIGlmKHIuZXF1YWxzKHRoaXMuc3MuYmVnaW4oKSkpaWYodCsxPT09ci5wb2ludGVyLmxvdyl7bGV0IGk9ci5wb2ludGVyLmhpZ2g7dGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHIsbmV3IFJlKHQsaSkpO31lbHNlIHRoaXMuc3MuaW5zZXJ0KGUpO2Vsc2Uge2xldCBpPXIucG9pbnRlci5sb3csbj1yLnBvaW50ZXIuaGlnaDtyLnByZSgpO2xldCBvPXIucG9pbnRlci5sb3c7ci5wb2ludGVyLmhpZ2grMT09PXQ/dCsxPT09aT8odGhpcy5zcy5lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yKHIpLHRoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcihyLG5ldyBSZShvLG4pKSk6dGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHIsbmV3IFJlKG8sdCkpOnQrMT09PWk/KHRoaXMuc3MuZXJhc2VFbGVtZW50QnlJdGVyYXRvcihyLm5leHQoKSksdGhpcy5zcy5pbnNlcnQobmV3IFJlKHQsbikpKTp0aGlzLnNzLmluc2VydChlKTt9Y3QoXCJmcmVlKCk6XCIrdCk7fTtodC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtjdChcImNsZWFyKClcIiksdGhpcy5zcy5jbGVhcigpLHRoaXMuc3MuaW5zZXJ0KG5ldyBSZSh0aGlzLm1pbix0aGlzLm1heCkpO307aHQucHJvdG90eXBlLmludGVydmFsQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcy5zaXplKCl9O2h0LnByb3RvdHlwZS5kdW1wPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJsZW5ndGg6XCIrdGhpcy5zcy5zaXplKCkpO2ZvcihsZXQgdCBvZiB0aGlzLnNzKWNvbnNvbGUubG9nKHQpO307bXAuZXhwb3J0cz1odDt9KTt2YXIgVWE9TSgoTU4sRXApPT57XygpO3YoKTttKCk7dmFyIG12PXZwKCk7RXAuZXhwb3J0cy5OdW1iZXJBbGxvY2F0b3I9bXY7fSk7dmFyIFNwPU0ocWE9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkocWEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHZ2PWVwKCksRXY9VWEoKSxOYT1jbGFzc3tjb25zdHJ1Y3RvcihlKXtlPjAmJih0aGlzLmFsaWFzVG9Ub3BpYz1uZXcgdnYuTFJVQ2FjaGUoe21heDplfSksdGhpcy50b3BpY1RvQWxpYXM9e30sdGhpcy5udW1iZXJBbGxvY2F0b3I9bmV3IEV2Lk51bWJlckFsbG9jYXRvcigxLGUpLHRoaXMubWF4PWUsdGhpcy5sZW5ndGg9MCk7fXB1dChlLHIpe2lmKHI9PT0wfHxyPnRoaXMubWF4KXJldHVybiAhMTtsZXQgaT10aGlzLmFsaWFzVG9Ub3BpYy5nZXQocik7cmV0dXJuIGkmJmRlbGV0ZSB0aGlzLnRvcGljVG9BbGlhc1tpXSx0aGlzLmFsaWFzVG9Ub3BpYy5zZXQocixlKSx0aGlzLnRvcGljVG9BbGlhc1tlXT1yLHRoaXMubnVtYmVyQWxsb2NhdG9yLnVzZShyKSx0aGlzLmxlbmd0aD10aGlzLmFsaWFzVG9Ub3BpYy5zaXplLCEwfWdldFRvcGljQnlBbGlhcyhlKXtyZXR1cm4gdGhpcy5hbGlhc1RvVG9waWMuZ2V0KGUpfWdldEFsaWFzQnlUb3BpYyhlKXtsZXQgcj10aGlzLnRvcGljVG9BbGlhc1tlXTtyZXR1cm4gdHlwZW9mIHI8XCJ1XCImJnRoaXMuYWxpYXNUb1RvcGljLmdldChyKSxyfWNsZWFyKCl7dGhpcy5hbGlhc1RvVG9waWMuY2xlYXIoKSx0aGlzLnRvcGljVG9BbGlhcz17fSx0aGlzLm51bWJlckFsbG9jYXRvci5jbGVhcigpLHRoaXMubGVuZ3RoPTA7fWdldExydUFsaWFzKCl7bGV0IGU9dGhpcy5udW1iZXJBbGxvY2F0b3IuZmlyc3RWYWNhbnQoKTtyZXR1cm4gZXx8Wy4uLnRoaXMuYWxpYXNUb1RvcGljLmtleXMoKV1bdGhpcy5hbGlhc1RvVG9waWMuc2l6ZS0xXX19O3FhLmRlZmF1bHQ9TmE7fSk7dmFyIEFwPU0oQmk9PntfKCk7digpO20oKTt2YXIgU3Y9QmkmJkJpLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQmksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEF2PVRpKCksSXY9U3YoU3AoKSksVHY9X3IoKSxSdj0odCxlKT0+e3QubG9nKFwiX2hhbmRsZUNvbm5hY2tcIik7bGV0e29wdGlvbnM6cn09dCxuPXIucHJvdG9jb2xWZXJzaW9uPT09NT9lLnJlYXNvbkNvZGU6ZS5yZXR1cm5Db2RlO2lmKGNsZWFyVGltZW91dCh0LmNvbm5hY2tUaW1lciksZGVsZXRlIHQudG9waWNBbGlhc1NlbmQsZS5wcm9wZXJ0aWVzKXtpZihlLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0pe2lmKGUucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bT42NTUzNSl7dC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJ0b3BpY0FsaWFzTWF4aW11bSBmcm9tIGJyb2tlciBpcyBvdXQgb2YgcmFuZ2VcIikpO3JldHVybn1lLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0+MCYmKHQudG9waWNBbGlhc1NlbmQ9bmV3IEl2LmRlZmF1bHQoZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtKSk7fWUucHJvcGVydGllcy5zZXJ2ZXJLZWVwQWxpdmUmJnIua2VlcGFsaXZlJiYoci5rZWVwYWxpdmU9ZS5wcm9wZXJ0aWVzLnNlcnZlcktlZXBBbGl2ZSksZS5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplJiYoci5wcm9wZXJ0aWVzfHwoci5wcm9wZXJ0aWVzPXt9KSxyLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemU9ZS5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplKTt9aWYobj09PTApdC5yZWNvbm5lY3Rpbmc9ITEsdC5fb25Db25uZWN0KGUpO2Vsc2UgaWYobj4wKXtsZXQgbz1uZXcgVHYuRXJyb3JXaXRoUmVhc29uQ29kZShgQ29ubmVjdGlvbiByZWZ1c2VkOiAke0F2LlJlYXNvbkNvZGVzW25dfWAsbik7dC5lbWl0KFwiZXJyb3JcIixvKTt9fTtCaS5kZWZhdWx0PVJ2O30pO3ZhciBJcD1NKERhPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KERhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBDdj0odCxlLHIpPT57dC5sb2coXCJoYW5kbGluZyBwdWJyZWwgcGFja2V0XCIpO2xldCBpPXR5cGVvZiByPFwidVwiP3I6dC5ub29wLHttZXNzYWdlSWQ6bn09ZSxvPXtjbWQ6XCJwdWJjb21wXCIsbWVzc2FnZUlkOm59O3QuaW5jb21pbmdTdG9yZS5nZXQoZSwocyxhKT0+e3M/dC5fc2VuZFBhY2tldChvLGkpOih0LmVtaXQoXCJtZXNzYWdlXCIsYS50b3BpYyxhLnBheWxvYWQsYSksdC5oYW5kbGVNZXNzYWdlKGEsbD0+e2lmKGwpcmV0dXJuIGkobCk7dC5pbmNvbWluZ1N0b3JlLmRlbChhLHQubm9vcCksdC5fc2VuZFBhY2tldChvLGkpO30pKTt9KTt9O0RhLmRlZmF1bHQ9Q3Y7fSk7dmFyIFRwPU0oUGk9PntfKCk7digpO20oKTt2YXIga2k9UGkmJlBpLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEJ2PWtpKFZkKCkpLFB2PWtpKFFkKCkpLGt2PWtpKEFwKCkpLE92PWtpKFRpKCkpLHh2PWtpKElwKCkpLE12PSh0LGUscik9PntsZXR7b3B0aW9uczppfT10O2lmKGkucHJvdG9jb2xWZXJzaW9uPT09NSYmaS5wcm9wZXJ0aWVzJiZpLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemUmJmkucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZTxlLmxlbmd0aClyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoYGV4Y2VlZGluZyBwYWNrZXRzIHNpemUgJHtlLmNtZH1gKSksdC5lbmQoe3JlYXNvbkNvZGU6MTQ5LHByb3BlcnRpZXM6e3JlYXNvblN0cmluZzpcIk1heGltdW0gcGFja2V0IHNpemUgd2FzIGV4Y2VlZGVkXCJ9fSksdDtzd2l0Y2godC5sb2coXCJfaGFuZGxlUGFja2V0IDo6IGVtaXR0aW5nIHBhY2tldHJlY2VpdmVcIiksdC5lbWl0KFwicGFja2V0cmVjZWl2ZVwiLGUpLGUuY21kKXtjYXNlXCJwdWJsaXNoXCI6KDAsIEJ2LmRlZmF1bHQpKHQsZSxyKTticmVhaztjYXNlXCJwdWJhY2tcIjpjYXNlXCJwdWJyZWNcIjpjYXNlXCJwdWJjb21wXCI6Y2FzZVwic3ViYWNrXCI6Y2FzZVwidW5zdWJhY2tcIjp0LnJlc2NoZWR1bGVQaW5nKCksKDAsIE92LmRlZmF1bHQpKHQsZSkscigpO2JyZWFrO2Nhc2VcInB1YnJlbFwiOnQucmVzY2hlZHVsZVBpbmcoKSwoMCwgeHYuZGVmYXVsdCkodCxlLHIpO2JyZWFrO2Nhc2VcImNvbm5hY2tcIjooMCwga3YuZGVmYXVsdCkodCxlKSxyKCk7YnJlYWs7Y2FzZVwiYXV0aFwiOnQucmVzY2hlZHVsZVBpbmcoKSwoMCwgUHYuZGVmYXVsdCkodCxlKSxyKCk7YnJlYWs7Y2FzZVwicGluZ3Jlc3BcIjp0LmxvZyhcIl9oYW5kbGVQYWNrZXQgOjogcmVjZWl2ZWQgcGluZ3Jlc3BcIiksdC5yZXNjaGVkdWxlUGluZyghMCkscigpO2JyZWFrO2Nhc2VcImRpc2Nvbm5lY3RcIjp0LmVtaXQoXCJkaXNjb25uZWN0XCIsZSkscigpO2JyZWFrO2RlZmF1bHQ6dC5sb2coXCJfaGFuZGxlUGFja2V0IDo6IHVua25vd24gY29tbWFuZFwiKSxyKCk7YnJlYWt9fTtQaS5kZWZhdWx0PU12O30pO3ZhciBScD1NKHJpPT57XygpO3YoKTttKCk7dmFyIEx2PXJpJiZyaS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHJpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3JpLlR5cGVkRXZlbnRFbWl0dGVyPXZvaWQgMDt2YXIgVXY9THYoKHNyKCksWChucikpKSxOdj1fcigpLGVzPWNsYXNze307cmkuVHlwZWRFdmVudEVtaXR0ZXI9ZXM7KDAsIE52LmFwcGx5TWl4aW4pKGVzLFV2LmRlZmF1bHQpO30pO3ZhciBPaT1NKFRyPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFRyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1RyLmlzUmVhY3ROYXRpdmVCcm93c2VyPVRyLmlzV2ViV29ya2VyPXZvaWQgMDt2YXIgcXY9KCk9Pnt2YXIgdDtyZXR1cm4gdHlwZW9mIHdpbmRvdzxcInVcIj90eXBlb2YgbmF2aWdhdG9yPFwidVwiJiYoKHQ9bmF2aWdhdG9yLnVzZXJBZ2VudCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIiBlbGVjdHJvbi9cIikpPi0xJiYoIShCPT09bnVsbHx8Qj09PXZvaWQgMCkmJkIudmVyc2lvbnMpPyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoQi52ZXJzaW9ucyxcImVsZWN0cm9uXCIpOnR5cGVvZiB3aW5kb3cuZG9jdW1lbnQ8XCJ1XCI6ITF9LENwPSgpPT57dmFyIHQsZTtyZXR1cm4gISEodHlwZW9mIHNlbGY9PVwib2JqZWN0XCImJighKChlPSh0PXNlbGY/LmNvbnN0cnVjdG9yKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQubmFtZSk9PT1udWxsfHxlPT09dm9pZCAwKSYmZS5pbmNsdWRlcyhcIldvcmtlckdsb2JhbFNjb3BlXCIpKSl9LEJwPSgpPT50eXBlb2YgbmF2aWdhdG9yPFwidVwiJiZuYXZpZ2F0b3IucHJvZHVjdD09PVwiUmVhY3ROYXRpdmVcIixEdj1xdigpfHxDcCgpfHxCcCgpO1RyLmlzV2ViV29ya2VyPUNwKCk7VHIuaXNSZWFjdE5hdGl2ZUJyb3dzZXI9QnAoKTtUci5kZWZhdWx0PUR2O30pO3ZhciBrcD1NKCh0cyxQcCk9PntfKCk7digpO20oKTsoZnVuY3Rpb24odCxlKXt0eXBlb2YgdHM9PVwib2JqZWN0XCImJnR5cGVvZiBQcDxcInVcIj9lKHRzKTp0eXBlb2YgZGVmaW5lPT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sZSk6KHQ9dHlwZW9mIGdsb2JhbFRoaXM8XCJ1XCI/Z2xvYmFsVGhpczp0fHxzZWxmLGUodC5mYXN0VW5pcXVlTnVtYmVycz17fSkpO30pKHRzLGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGcpe3JldHVybiBmdW5jdGlvbih5KXt2YXIgdz1nKHkpO3JldHVybiB5LmFkZCh3KSx3fX0scj1mdW5jdGlvbihnKXtyZXR1cm4gZnVuY3Rpb24oeSx3KXtyZXR1cm4gZy5zZXQoeSx3KSx3fX0saT1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj09PXZvaWQgMD85MDA3MTk5MjU0NzQwOTkxOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSLG49NTM2ODcwOTEyLG89bioyLHM9ZnVuY3Rpb24oZyx5KXtyZXR1cm4gZnVuY3Rpb24odyl7dmFyIFM9eS5nZXQodyksRT1TPT09dm9pZCAwP3cuc2l6ZTpTPG8/UysxOjA7aWYoIXcuaGFzKEUpKXJldHVybiBnKHcsRSk7aWYody5zaXplPG4pe2Zvcig7dy5oYXMoRSk7KUU9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm8pO3JldHVybiBnKHcsRSl9aWYody5zaXplPmkpdGhyb3cgbmV3IEVycm9yKFwiQ29uZ3JhdHVsYXRpb25zLCB5b3UgY3JlYXRlZCBhIGNvbGxlY3Rpb24gb2YgdW5pcXVlIG51bWJlcnMgd2hpY2ggdXNlcyBhbGwgYXZhaWxhYmxlIGludGVnZXJzIVwiKTtmb3IoO3cuaGFzKEUpOylFPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSppKTtyZXR1cm4gZyh3LEUpfX0sYT1uZXcgV2Vha01hcCxsPXIoYSksYz1zKGwsYSksaD1lKGMpO3QuYWRkVW5pcXVlTnVtYmVyPWgsdC5nZW5lcmF0ZVVuaXF1ZU51bWJlcj1jO30pO30pO3ZhciB4cD1NKChycyxPcCk9PntfKCk7digpO20oKTsoZnVuY3Rpb24odCxlKXt0eXBlb2YgcnM9PVwib2JqZWN0XCImJnR5cGVvZiBPcDxcInVcIj9lKHJzLGtwKCkpOnR5cGVvZiBkZWZpbmU9PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiLFwiZmFzdC11bmlxdWUtbnVtYmVyc1wiXSxlKToodD10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR8fHNlbGYsZSh0LndvcmtlclRpbWVyc0Jyb2tlcj17fSx0LmZhc3RVbmlxdWVOdW1iZXJzKSk7fSkocnMsZnVuY3Rpb24odCxlKXt2YXIgcj1mdW5jdGlvbihzKXtyZXR1cm4gcy5tZXRob2QhPT12b2lkIDAmJnMubWV0aG9kPT09XCJjYWxsXCJ9LGk9ZnVuY3Rpb24ocyl7cmV0dXJuIHMuZXJyb3I9PT1udWxsJiZ0eXBlb2Ygcy5pZD09XCJudW1iZXJcIn0sbj1mdW5jdGlvbihzKXt2YXIgYT1uZXcgTWFwKFtbMCxmdW5jdGlvbigpe31dXSksbD1uZXcgTWFwKFtbMCxmdW5jdGlvbigpe31dXSksYz1uZXcgTWFwLGg9bmV3IFdvcmtlcihzKTtoLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oUyl7dmFyIEU9Uy5kYXRhO2lmKHIoRSkpe3ZhciBJPUUucGFyYW1zLEM9SS50aW1lcklkLFI9SS50aW1lclR5cGU7aWYoUj09PVwiaW50ZXJ2YWxcIil7dmFyIFU9YS5nZXQoQyk7aWYodHlwZW9mIFU9PVwibnVtYmVyXCIpe3ZhciBOPWMuZ2V0KFUpO2lmKE49PT12b2lkIDB8fE4udGltZXJJZCE9PUN8fE4udGltZXJUeXBlIT09Uil0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdGltZXIgaXMgaW4gYW4gdW5kZWZpbmVkIHN0YXRlLlwiKX1lbHNlIGlmKHR5cGVvZiBVPFwidVwiKVUoKTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlRoZSB0aW1lciBpcyBpbiBhbiB1bmRlZmluZWQgc3RhdGUuXCIpfWVsc2UgaWYoUj09PVwidGltZW91dFwiKXt2YXIgVz1sLmdldChDKTtpZih0eXBlb2YgVz09XCJudW1iZXJcIil7dmFyIEs9Yy5nZXQoVyk7aWYoSz09PXZvaWQgMHx8Sy50aW1lcklkIT09Q3x8Sy50aW1lclR5cGUhPT1SKXRocm93IG5ldyBFcnJvcihcIlRoZSB0aW1lciBpcyBpbiBhbiB1bmRlZmluZWQgc3RhdGUuXCIpfWVsc2UgaWYodHlwZW9mIFc8XCJ1XCIpVygpLGwuZGVsZXRlKEMpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHRpbWVyIGlzIGluIGFuIHVuZGVmaW5lZCBzdGF0ZS5cIil9fWVsc2UgaWYoaShFKSl7dmFyIHo9RS5pZCxRPWMuZ2V0KHopO2lmKFE9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKFwiVGhlIHRpbWVyIGlzIGluIGFuIHVuZGVmaW5lZCBzdGF0ZS5cIik7dmFyIHBlPVEudGltZXJJZCxZdD1RLnRpbWVyVHlwZTtjLmRlbGV0ZSh6KSxZdD09PVwiaW50ZXJ2YWxcIj9hLmRlbGV0ZShwZSk6bC5kZWxldGUocGUpO31lbHNlIHt2YXIgZ2U9RS5lcnJvci5tZXNzYWdlO3Rocm93IG5ldyBFcnJvcihnZSl9fSk7dmFyIGQ9ZnVuY3Rpb24oRSl7dmFyIEk9ZS5nZW5lcmF0ZVVuaXF1ZU51bWJlcihjKTtjLnNldChJLHt0aW1lcklkOkUsdGltZXJUeXBlOlwiaW50ZXJ2YWxcIn0pLGEuc2V0KEUsSSksaC5wb3N0TWVzc2FnZSh7aWQ6SSxtZXRob2Q6XCJjbGVhclwiLHBhcmFtczp7dGltZXJJZDpFLHRpbWVyVHlwZTpcImludGVydmFsXCJ9fSk7fSxnPWZ1bmN0aW9uKEUpe3ZhciBJPWUuZ2VuZXJhdGVVbmlxdWVOdW1iZXIoYyk7Yy5zZXQoSSx7dGltZXJJZDpFLHRpbWVyVHlwZTpcInRpbWVvdXRcIn0pLGwuc2V0KEUsSSksaC5wb3N0TWVzc2FnZSh7aWQ6SSxtZXRob2Q6XCJjbGVhclwiLHBhcmFtczp7dGltZXJJZDpFLHRpbWVyVHlwZTpcInRpbWVvdXRcIn19KTt9LHk9ZnVuY3Rpb24oRSl7dmFyIEk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjAsQz1lLmdlbmVyYXRlVW5pcXVlTnVtYmVyKGEpO3JldHVybiBhLnNldChDLGZ1bmN0aW9uKCl7RSgpLHR5cGVvZiBhLmdldChDKT09XCJmdW5jdGlvblwiJiZoLnBvc3RNZXNzYWdlKHtpZDpudWxsLG1ldGhvZDpcInNldFwiLHBhcmFtczp7ZGVsYXk6SSxub3c6cGVyZm9ybWFuY2Uubm93KCksdGltZXJJZDpDLHRpbWVyVHlwZTpcImludGVydmFsXCJ9fSk7fSksaC5wb3N0TWVzc2FnZSh7aWQ6bnVsbCxtZXRob2Q6XCJzZXRcIixwYXJhbXM6e2RlbGF5Okksbm93OnBlcmZvcm1hbmNlLm5vdygpLHRpbWVySWQ6Qyx0aW1lclR5cGU6XCJpbnRlcnZhbFwifX0pLEN9LHc9ZnVuY3Rpb24oRSl7dmFyIEk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOjAsQz1lLmdlbmVyYXRlVW5pcXVlTnVtYmVyKGwpO3JldHVybiBsLnNldChDLEUpLGgucG9zdE1lc3NhZ2Uoe2lkOm51bGwsbWV0aG9kOlwic2V0XCIscGFyYW1zOntkZWxheTpJLG5vdzpwZXJmb3JtYW5jZS5ub3coKSx0aW1lcklkOkMsdGltZXJUeXBlOlwidGltZW91dFwifX0pLEN9O3JldHVybiB7Y2xlYXJJbnRlcnZhbDpkLGNsZWFyVGltZW91dDpnLHNldEludGVydmFsOnksc2V0VGltZW91dDp3fX07dC5sb2FkPW47fSk7fSk7dmFyIExwPU0oKGlzLE1wKT0+e18oKTt2KCk7bSgpOyhmdW5jdGlvbih0LGUpe3R5cGVvZiBpcz09XCJvYmplY3RcIiYmdHlwZW9mIE1wPFwidVwiP2UoaXMseHAoKSk6dHlwZW9mIGRlZmluZT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJ3b3JrZXItdGltZXJzLWJyb2tlclwiXSxlKToodD10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR8fHNlbGYsZSh0LndvcmtlclRpbWVycz17fSx0LndvcmtlclRpbWVyc0Jyb2tlcikpO30pKGlzLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZnVuY3Rpb24oaCxkKXt2YXIgZz1udWxsO3JldHVybiBmdW5jdGlvbigpe2lmKGchPT1udWxsKXJldHVybiBnO3ZhciB5PW5ldyBCbG9iKFtkXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHQ7IGNoYXJzZXQ9dXRmLThcIn0pLHc9VVJMLmNyZWF0ZU9iamVjdFVSTCh5KTtyZXR1cm4gZz1oKHcpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gVVJMLnJldm9rZU9iamVjdFVSTCh3KX0pLGd9fSxpPWAoKCk9Pnt2YXIgZT17NDcyOihlLHQscik9Pnt2YXIgbyxpO3ZvaWQgMD09PShpPVwiZnVuY3Rpb25cIj09dHlwZW9mKG89ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1uZXcgTWFwLHQ9bmV3IE1hcCxyPWZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0KHQpO2lmKHZvaWQgMD09PXIpdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBpbnRlcnZhbCBzY2hlZHVsZWQgd2l0aCB0aGUgZ2l2ZW4gaWQgXCInLmNvbmNhdCh0LCdcIi4nKSk7Y2xlYXJUaW1lb3V0KHIpLGUuZGVsZXRlKHQpfSxvPWZ1bmN0aW9uKGUpe3ZhciByPXQuZ2V0KGUpO2lmKHZvaWQgMD09PXIpdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyB0aW1lb3V0IHNjaGVkdWxlZCB3aXRoIHRoZSBnaXZlbiBpZCBcIicuY29uY2F0KGUsJ1wiLicpKTtjbGVhclRpbWVvdXQociksdC5kZWxldGUoZSl9LGk9ZnVuY3Rpb24oZSx0KXt2YXIgcixvPXBlcmZvcm1hbmNlLm5vdygpO3JldHVybntleHBlY3RlZDpvKyhyPWUtTWF0aC5tYXgoMCxvLXQpKSxyZW1haW5pbmdEZWxheTpyfX0sbj1mdW5jdGlvbiBlKHQscixvLGkpe3ZhciBuPXBlcmZvcm1hbmNlLm5vdygpO24+bz9wb3N0TWVzc2FnZSh7aWQ6bnVsbCxtZXRob2Q6XCJjYWxsXCIscGFyYW1zOnt0aW1lcklkOnIsdGltZXJUeXBlOml9fSk6dC5zZXQocixzZXRUaW1lb3V0KGUsby1uLHQscixvLGkpKX0sYT1mdW5jdGlvbih0LHIsbyl7dmFyIGE9aSh0LG8pLHM9YS5leHBlY3RlZCxkPWEucmVtYWluaW5nRGVsYXk7ZS5zZXQocixzZXRUaW1lb3V0KG4sZCxlLHIscyxcImludGVydmFsXCIpKX0scz1mdW5jdGlvbihlLHIsbyl7dmFyIGE9aShlLG8pLHM9YS5leHBlY3RlZCxkPWEucmVtYWluaW5nRGVsYXk7dC5zZXQocixzZXRUaW1lb3V0KG4sZCx0LHIscyxcInRpbWVvdXRcIikpfTthZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbihlKXt2YXIgdD1lLmRhdGE7dHJ5e2lmKFwiY2xlYXJcIj09PXQubWV0aG9kKXt2YXIgaT10LmlkLG49dC5wYXJhbXMsZD1uLnRpbWVySWQsYz1uLnRpbWVyVHlwZTtpZihcImludGVydmFsXCI9PT1jKXIoZCkscG9zdE1lc3NhZ2Uoe2Vycm9yOm51bGwsaWQ6aX0pO2Vsc2V7aWYoXCJ0aW1lb3V0XCIhPT1jKXRocm93IG5ldyBFcnJvcignVGhlIGdpdmVuIHR5cGUgXCInLmNvbmNhdChjLCdcIiBpcyBub3Qgc3VwcG9ydGVkJykpO28oZCkscG9zdE1lc3NhZ2Uoe2Vycm9yOm51bGwsaWQ6aX0pfX1lbHNle2lmKFwic2V0XCIhPT10Lm1ldGhvZCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBnaXZlbiBtZXRob2QgXCInLmNvbmNhdCh0Lm1ldGhvZCwnXCIgaXMgbm90IHN1cHBvcnRlZCcpKTt2YXIgdT10LnBhcmFtcyxsPXUuZGVsYXkscD11Lm5vdyxtPXUudGltZXJJZCx2PXUudGltZXJUeXBlO2lmKFwiaW50ZXJ2YWxcIj09PXYpYShsLG0scCk7ZWxzZXtpZihcInRpbWVvdXRcIiE9PXYpdGhyb3cgbmV3IEVycm9yKCdUaGUgZ2l2ZW4gdHlwZSBcIicuY29uY2F0KHYsJ1wiIGlzIG5vdCBzdXBwb3J0ZWQnKSk7cyhsLG0scCl9fX1jYXRjaChlKXtwb3N0TWVzc2FnZSh7ZXJyb3I6e21lc3NhZ2U6ZS5tZXNzYWdlfSxpZDp0LmlkLHJlc3VsdDpudWxsfSl9fSkpfSk/by5jYWxsKHQscix0LGUpOm8pfHwoZS5leHBvcnRzPWkpfX0sdD17fTtmdW5jdGlvbiByKG8pe3ZhciBpPXRbb107aWYodm9pZCAwIT09aSlyZXR1cm4gaS5leHBvcnRzO3ZhciBuPXRbb109e2V4cG9ydHM6e319O3JldHVybiBlW29dKG4sbi5leHBvcnRzLHIpLG4uZXhwb3J0c31yLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiByLmQodCx7YTp0fSksdH0sci5kPShlLHQpPT57Zm9yKHZhciBvIGluIHQpci5vKHQsbykmJiFyLm8oZSxvKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbyx7ZW51bWVyYWJsZTohMCxnZXQ6dFtvXX0pfSxyLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLCgoKT0+e1widXNlIHN0cmljdFwiO3IoNDcyKX0pKCl9KSgpO2Asbj1yKGUubG9hZCxpKSxvPWZ1bmN0aW9uKGgpe3JldHVybiBuKCkuY2xlYXJJbnRlcnZhbChoKX0scz1mdW5jdGlvbihoKXtyZXR1cm4gbigpLmNsZWFyVGltZW91dChoKX0sYT1mdW5jdGlvbigpe3ZhciBoO3JldHVybiAoaD1uKCkpLnNldEludGVydmFsLmFwcGx5KGgsYXJndW1lbnRzKX0sbD1mdW5jdGlvbigpe3ZhciBoO3JldHVybiAoaD1uKCkpLnNldFRpbWVvdXQuYXBwbHkoaCxhcmd1bWVudHMpfTt0LmNsZWFySW50ZXJ2YWw9byx0LmNsZWFyVGltZW91dD1zLHQuc2V0SW50ZXJ2YWw9YSx0LnNldFRpbWVvdXQ9bDt9KTt9KTt2YXIgRHA9TShDdD0+e18oKTt2KCk7bSgpO3ZhciBqdj1DdCYmQ3QuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUscixpKXtpPT09dm9pZCAwJiYoaT1yKTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7KCFufHwoXCJnZXRcImluIG4/IWUuX19lc01vZHVsZTpuLndyaXRhYmxlfHxuLmNvbmZpZ3VyYWJsZSkpJiYobj17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtyXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLG4pO306ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9ciksdFtpXT1lW3JdO30pLEZ2PUN0JiZDdC5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pO306ZnVuY3Rpb24odCxlKXt0LmRlZmF1bHQ9ZTt9KSxXdj1DdCYmQ3QuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIHIgaW4gdClyIT09XCJkZWZhdWx0XCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZqdihlLHQscik7cmV0dXJuIEZ2KGUsdCksZX07T2JqZWN0LmRlZmluZVByb3BlcnR5KEN0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBqYT1XdihPaSgpKSxVcD1McCgpLE5wPXtzZXQ6VXAuc2V0SW50ZXJ2YWwsY2xlYXI6VXAuY2xlYXJJbnRlcnZhbH0scXA9e3NldDoodCxlKT0+c2V0SW50ZXJ2YWwodCxlKSxjbGVhcjp0PT5jbGVhckludGVydmFsKHQpfSwkdj10PT57c3dpdGNoKHQpe2Nhc2VcIm5hdGl2ZVwiOnJldHVybiBxcDtjYXNlXCJ3b3JrZXJcIjpyZXR1cm4gTnA7Y2FzZVwiYXV0b1wiOmRlZmF1bHQ6cmV0dXJuIGphLmRlZmF1bHQmJiFqYS5pc1dlYldvcmtlciYmIWphLmlzUmVhY3ROYXRpdmVCcm93c2VyP05wOnFwfX07Q3QuZGVmYXVsdD0kdjt9KTt2YXIgV2E9TSh4aT0+e18oKTt2KCk7bSgpO3ZhciBIdj14aSYmeGkuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh4aSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgVnY9SHYoRHAoKSksRmE9Y2xhc3N7Z2V0IGtlZXBhbGl2ZVRpbWVvdXRUaW1lc3RhbXAoKXtyZXR1cm4gdGhpcy5fa2VlcGFsaXZlVGltZW91dFRpbWVzdGFtcH1nZXQgaW50ZXJ2YWxFdmVyeSgpe3JldHVybiB0aGlzLl9pbnRlcnZhbEV2ZXJ5fWdldCBrZWVwYWxpdmUoKXtyZXR1cm4gdGhpcy5fa2VlcGFsaXZlfWNvbnN0cnVjdG9yKGUscil7dGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5jbGllbnQ9ZSx0aGlzLnRpbWVyPXR5cGVvZiByPT1cIm9iamVjdFwiJiZcInNldFwiaW4gciYmXCJjbGVhclwiaW4gcj9yOigwLCBWdi5kZWZhdWx0KShyKSx0aGlzLnNldEtlZXBhbGl2ZShlLm9wdGlvbnMua2VlcGFsaXZlKTt9Y2xlYXIoKXt0aGlzLnRpbWVySWQmJih0aGlzLnRpbWVyLmNsZWFyKHRoaXMudGltZXJJZCksdGhpcy50aW1lcklkPW51bGwpO31zZXRLZWVwYWxpdmUoZSl7aWYoZSo9MWUzLGlzTmFOKGUpfHxlPD0wfHxlPjIxNDc0ODM2NDcpdGhyb3cgbmV3IEVycm9yKGBLZWVwYWxpdmUgdmFsdWUgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgMjE0NzQ4MzY0Ny4gUHJvdmlkZWQgdmFsdWUgaXMgJHtlfWApO3RoaXMuX2tlZXBhbGl2ZT1lLHRoaXMucmVzY2hlZHVsZSgpLHRoaXMuY2xpZW50LmxvZyhgS2VlcGFsaXZlTWFuYWdlcjogc2V0IGtlZXBhbGl2ZSB0byAke2V9bXNgKTt9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKSx0aGlzLmRlc3Ryb3llZD0hMDt9cmVzY2hlZHVsZSgpe2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjt0aGlzLmNsZWFyKCksdGhpcy5jb3VudGVyPTA7bGV0IGU9TWF0aC5jZWlsKHRoaXMuX2tlZXBhbGl2ZSoxLjUpO3RoaXMuX2tlZXBhbGl2ZVRpbWVvdXRUaW1lc3RhbXA9RGF0ZS5ub3coKStlLHRoaXMuX2ludGVydmFsRXZlcnk9TWF0aC5jZWlsKHRoaXMuX2tlZXBhbGl2ZS8yKSx0aGlzLnRpbWVySWQ9dGhpcy50aW1lci5zZXQoKCk9Pnt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuY291bnRlcis9MSx0aGlzLmNvdW50ZXI9PT0yP3RoaXMuY2xpZW50LnNlbmRQaW5nKCk6dGhpcy5jb3VudGVyPjImJnRoaXMuY2xpZW50Lm9uS2VlcGFsaXZlVGltZW91dCgpKTt9LHRoaXMuX2ludGVydmFsRXZlcnkpO319O3hpLmRlZmF1bHQ9RmE7fSk7dmFyIG9zPU0oUWU9PntfKCk7digpO20oKTt2YXIgenY9UWUmJlFlLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9cik7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpOyghbnx8KFwiZ2V0XCJpbiBuPyFlLl9fZXNNb2R1bGU6bi53cml0YWJsZXx8bi5jb25maWd1cmFibGUpKSYmKG49e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbcl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxuKTt9OmZ1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpLHRbaV09ZVtyXTt9KSxLdj1RZSYmUWUuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KTt9OmZ1bmN0aW9uKHQsZSl7dC5kZWZhdWx0PWU7fSksSHA9UWUmJlFlLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKHQhPW51bGwpZm9yKHZhciByIGluIHQpciE9PVwiZGVmYXVsdFwiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmenYoZSx0LHIpO3JldHVybiBLdihlLHQpLGV9LHp0PVFlJiZRZS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFFlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBHdj16dChHdSgpKSwkYT16dChOZCgpKSxRdj16dChabygpKSxZdj1qdCgpLGpwPXp0KEZkKCkpLEZwPUhwKCRkKCkpLEp2PXp0KG90KCkpLGlpPXp0KHJhKCkpLFh2PXp0KFRwKCkpLG5zPV9yKCksWnY9UnAoKSxlRT16dChXYSgpKSxXcD1IcChPaSgpKSxIYT1nbG9iYWxUaGlzLnNldEltbWVkaWF0ZXx8KCguLi50KT0+e2xldCBlPXQuc2hpZnQoKTsoMCwgbnMubmV4dFRpY2spKCgpPT57ZSguLi50KTt9KTt9KSwkcD17a2VlcGFsaXZlOjYwLHJlc2NoZWR1bGVQaW5nczohMCxwcm90b2NvbElkOlwiTVFUVFwiLHByb3RvY29sVmVyc2lvbjo0LHJlY29ubmVjdFBlcmlvZDoxZTMsY29ubmVjdFRpbWVvdXQ6MzAqMWUzLGNsZWFuOiEwLHJlc3Vic2NyaWJlOiEwLHdyaXRlQ2FjaGU6ITAsdGltZXJWYXJpYW50OlwiYXV0b1wifSxzcz1jbGFzcyB0IGV4dGVuZHMgWnYuVHlwZWRFdmVudEVtaXR0ZXJ7c3RhdGljIGRlZmF1bHRJZCgpe3JldHVybiBgbXF0dGpzXyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIsOCl9YH1jb25zdHJ1Y3RvcihlLHIpe3N1cGVyKCksdGhpcy5vcHRpb25zPXJ8fHt9O2ZvcihsZXQgaSBpbiAkcCl0eXBlb2YgdGhpcy5vcHRpb25zW2ldPlwidVwiP3RoaXMub3B0aW9uc1tpXT0kcFtpXTp0aGlzLm9wdGlvbnNbaV09cltpXTt0aGlzLmxvZz10aGlzLm9wdGlvbnMubG9nfHwoMCwgSnYuZGVmYXVsdCkoXCJtcXR0anM6Y2xpZW50XCIpLHRoaXMubm9vcD10aGlzLl9ub29wLmJpbmQodGhpcyksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IHZlcnNpb246XCIsdC5WRVJTSU9OKSxXcC5pc1dlYldvcmtlcj90aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogZW52aXJvbm1lbnRcIixcIndlYndvcmtlclwiKTp0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogZW52aXJvbm1lbnRcIixXcC5kZWZhdWx0P1wiYnJvd3NlclwiOlwibm9kZVwiKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm90b2NvbFwiLHIucHJvdG9jb2wpLHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiBvcHRpb25zLnByb3RvY29sVmVyc2lvblwiLHIucHJvdG9jb2xWZXJzaW9uKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy51c2VybmFtZVwiLHIudXNlcm5hbWUpLHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiBvcHRpb25zLmtlZXBhbGl2ZVwiLHIua2VlcGFsaXZlKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5yZWNvbm5lY3RQZXJpb2RcIixyLnJlY29ubmVjdFBlcmlvZCksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMucmVqZWN0VW5hdXRob3JpemVkXCIsci5yZWplY3RVbmF1dGhvcml6ZWQpLHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiBvcHRpb25zLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW1cIixyLnByb3BlcnRpZXM/ci5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtOnZvaWQgMCksdGhpcy5vcHRpb25zLmNsaWVudElkPXR5cGVvZiByLmNsaWVudElkPT1cInN0cmluZ1wiP3IuY2xpZW50SWQ6dC5kZWZhdWx0SWQoKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogY2xpZW50SWRcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMub3B0aW9ucy5jdXN0b21IYW5kbGVBY2tzPXIucHJvdG9jb2xWZXJzaW9uPT09NSYmci5jdXN0b21IYW5kbGVBY2tzP3IuY3VzdG9tSGFuZGxlQWNrczooLi4uaSk9PntpWzNdKG51bGwsMCk7fSx0aGlzLm9wdGlvbnMud3JpdGVDYWNoZXx8KCRhLmRlZmF1bHQud3JpdGVUb1N0cmVhbS5jYWNoZU51bWJlcnM9ITEpLHRoaXMuc3RyZWFtQnVpbGRlcj1lLHRoaXMubWVzc2FnZUlkUHJvdmlkZXI9dHlwZW9mIHRoaXMub3B0aW9ucy5tZXNzYWdlSWRQcm92aWRlcj5cInVcIj9uZXcgUXYuZGVmYXVsdDp0aGlzLm9wdGlvbnMubWVzc2FnZUlkUHJvdmlkZXIsdGhpcy5vdXRnb2luZ1N0b3JlPXIub3V0Z29pbmdTdG9yZXx8bmV3IGlpLmRlZmF1bHQsdGhpcy5pbmNvbWluZ1N0b3JlPXIuaW5jb21pbmdTdG9yZXx8bmV3IGlpLmRlZmF1bHQsdGhpcy5xdWV1ZVFvU1plcm89ci5xdWV1ZVFvU1plcm89PT12b2lkIDA/ITA6ci5xdWV1ZVFvU1plcm8sdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3M9e30sdGhpcy5tZXNzYWdlSWRUb1RvcGljPXt9LHRoaXMua2VlcGFsaXZlTWFuYWdlcj1udWxsLHRoaXMuY29ubmVjdGVkPSExLHRoaXMuZGlzY29ubmVjdGluZz0hMSx0aGlzLnJlY29ubmVjdGluZz0hMSx0aGlzLnF1ZXVlPVtdLHRoaXMuY29ubmFja1RpbWVyPW51bGwsdGhpcy5yZWNvbm5lY3RUaW1lcj1udWxsLHRoaXMuX3N0b3JlUHJvY2Vzc2luZz0hMSx0aGlzLl9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3Npbmc9e30sdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWU9W10sdGhpcy5vdXRnb2luZz17fSx0aGlzLl9maXJzdENvbm5lY3Rpb249ITAsci5wcm9wZXJ0aWVzJiZyLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0+MCYmKHIucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bT42NTUzNT90aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtIGlzIG91dCBvZiByYW5nZVwiKTp0aGlzLnRvcGljQWxpYXNSZWN2PW5ldyBHdi5kZWZhdWx0KHIucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bSkpLHRoaXMub24oXCJjb25uZWN0XCIsKCk9PntsZXR7cXVldWU6aX09dGhpcyxuPSgpPT57bGV0IG89aS5zaGlmdCgpO3RoaXMubG9nKFwiZGVsaXZlciA6OiBlbnRyeSAlb1wiLG8pO2xldCBzPW51bGw7aWYoIW8pe3RoaXMuX3Jlc3Vic2NyaWJlKCk7cmV0dXJufXM9by5wYWNrZXQsdGhpcy5sb2coXCJkZWxpdmVyIDo6IGNhbGwgX3NlbmRQYWNrZXQgZm9yICVvXCIscyk7bGV0IGE9ITA7cy5tZXNzYWdlSWQmJnMubWVzc2FnZUlkIT09MCYmKHRoaXMubWVzc2FnZUlkUHJvdmlkZXIucmVnaXN0ZXIocy5tZXNzYWdlSWQpfHwoYT0hMSkpLGE/dGhpcy5fc2VuZFBhY2tldChzLGw9PntvLmNiJiZvLmNiKGwpLG4oKTt9KToodGhpcy5sb2coXCJtZXNzYWdlSWQ6ICVkIGhhcyBhbHJlYWR5IHVzZWQuIFRoZSBtZXNzYWdlIGlzIHNraXBwZWQgYW5kIHJlbW92ZWQuXCIscy5tZXNzYWdlSWQpLG4oKSk7fTt0aGlzLmxvZyhcImNvbm5lY3QgOjogc2VuZGluZyBxdWV1ZWQgcGFja2V0c1wiKSxuKCk7fSksdGhpcy5vbihcImNsb3NlXCIsKCk9Pnt0aGlzLmxvZyhcImNsb3NlIDo6IGNvbm5lY3RlZCBzZXQgdG8gYGZhbHNlYFwiKSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmxvZyhcImNsb3NlIDo6IGNsZWFyaW5nIGNvbm5hY2tUaW1lclwiKSxjbGVhclRpbWVvdXQodGhpcy5jb25uYWNrVGltZXIpLHRoaXMuX2Rlc3Ryb3lLZWVwYWxpdmVNYW5hZ2VyKCksdGhpcy50b3BpY0FsaWFzUmVjdiYmdGhpcy50b3BpY0FsaWFzUmVjdi5jbGVhcigpLHRoaXMubG9nKFwiY2xvc2UgOjogY2FsbGluZyBfc2V0dXBSZWNvbm5lY3RcIiksdGhpcy5fc2V0dXBSZWNvbm5lY3QoKTt9KSx0aGlzLm9wdGlvbnMubWFudWFsQ29ubmVjdHx8KHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiBzZXR0aW5nIHVwIHN0cmVhbVwiKSx0aGlzLmNvbm5lY3QoKSk7fWhhbmRsZUF1dGgoZSxyKXtyKCk7fWhhbmRsZU1lc3NhZ2UoZSxyKXtyKCk7fV9uZXh0SWQoKXtyZXR1cm4gdGhpcy5tZXNzYWdlSWRQcm92aWRlci5hbGxvY2F0ZSgpfWdldExhc3RNZXNzYWdlSWQoKXtyZXR1cm4gdGhpcy5tZXNzYWdlSWRQcm92aWRlci5nZXRMYXN0QWxsb2NhdGVkKCl9Y29ubmVjdCgpe3ZhciBlO2xldCByPW5ldyBZdi5Xcml0YWJsZSxpPSRhLmRlZmF1bHQucGFyc2VyKHRoaXMub3B0aW9ucyksbj1udWxsLG89W107dGhpcy5sb2coXCJjb25uZWN0IDo6IGNhbGxpbmcgbWV0aG9kIHRvIGNsZWFyIHJlY29ubmVjdFwiKSx0aGlzLl9jbGVhclJlY29ubmVjdCgpLHRoaXMuZGlzY29ubmVjdGVkJiYhdGhpcy5yZWNvbm5lY3RpbmcmJih0aGlzLmluY29taW5nU3RvcmU9dGhpcy5vcHRpb25zLmluY29taW5nU3RvcmV8fG5ldyBpaS5kZWZhdWx0LHRoaXMub3V0Z29pbmdTdG9yZT10aGlzLm9wdGlvbnMub3V0Z29pbmdTdG9yZXx8bmV3IGlpLmRlZmF1bHQsdGhpcy5kaXNjb25uZWN0aW5nPSExLHRoaXMuZGlzY29ubmVjdGVkPSExKSx0aGlzLmxvZyhcImNvbm5lY3QgOjogdXNpbmcgc3RyZWFtQnVpbGRlciBwcm92aWRlZCB0byBjbGllbnQgdG8gY3JlYXRlIHN0cmVhbVwiKSx0aGlzLnN0cmVhbT10aGlzLnN0cmVhbUJ1aWxkZXIodGhpcyksaS5vbihcInBhY2tldFwiLGg9Pnt0aGlzLmxvZyhcInBhcnNlciA6OiBvbiBwYWNrZXQgcHVzaCB0byBwYWNrZXRzIGFycmF5LlwiKSxvLnB1c2goaCk7fSk7bGV0IHM9KCk9Pnt0aGlzLmxvZyhcIndvcmsgOjogZ2V0dGluZyBuZXh0IHBhY2tldCBpbiBxdWV1ZVwiKTtsZXQgaD1vLnNoaWZ0KCk7aWYoaCl0aGlzLmxvZyhcIndvcmsgOjogcGFja2V0IHB1bGxlZCBmcm9tIHF1ZXVlXCIpLCgwLCBYdi5kZWZhdWx0KSh0aGlzLGgsYSk7ZWxzZSB7dGhpcy5sb2coXCJ3b3JrIDo6IG5vIHBhY2tldHMgaW4gcXVldWVcIik7bGV0IGQ9bjtuPW51bGwsdGhpcy5sb2coXCJ3b3JrIDo6IGRvbmUgZmxhZyBpcyAlc1wiLCEhZCksZCYmZCgpO319LGE9KCk9PntpZihvLmxlbmd0aCkoMCwgbnMubmV4dFRpY2spKHMpO2Vsc2Uge2xldCBoPW47bj1udWxsLGgoKTt9fTtyLl93cml0ZT0oaCxkLGcpPT57bj1nLHRoaXMubG9nKFwid3JpdGFibGUgc3RyZWFtIDo6IHBhcnNpbmcgYnVmZmVyXCIpLGkucGFyc2UoaCkscygpO307bGV0IGw9aD0+e3RoaXMubG9nKFwic3RyZWFtRXJyb3JIYW5kbGVyIDo6IGVycm9yXCIsaC5tZXNzYWdlKSxoLmNvZGU/KHRoaXMubG9nKFwic3RyZWFtRXJyb3JIYW5kbGVyIDo6IGVtaXR0aW5nIGVycm9yXCIpLHRoaXMuZW1pdChcImVycm9yXCIsaCkpOnRoaXMubm9vcChoKTt9O3RoaXMubG9nKFwiY29ubmVjdCA6OiBwaXBlIHN0cmVhbSB0byB3cml0YWJsZSBzdHJlYW1cIiksdGhpcy5zdHJlYW0ucGlwZShyKSx0aGlzLnN0cmVhbS5vbihcImVycm9yXCIsbCksdGhpcy5zdHJlYW0ub24oXCJjbG9zZVwiLCgpPT57dGhpcy5sb2coXCIoJXMpc3RyZWFtIDo6IG9uIGNsb3NlXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLl9mbHVzaFZvbGF0aWxlKCksdGhpcy5sb2coXCJzdHJlYW06IGVtaXQgY2xvc2UgdG8gTXF0dENsaWVudFwiKSx0aGlzLmVtaXQoXCJjbG9zZVwiKTt9KSx0aGlzLmxvZyhcImNvbm5lY3Q6IHNlbmRpbmcgcGFja2V0IGBjb25uZWN0YFwiKTtsZXQgYz17Y21kOlwiY29ubmVjdFwiLHByb3RvY29sSWQ6dGhpcy5vcHRpb25zLnByb3RvY29sSWQscHJvdG9jb2xWZXJzaW9uOnRoaXMub3B0aW9ucy5wcm90b2NvbFZlcnNpb24sY2xlYW46dGhpcy5vcHRpb25zLmNsZWFuLGNsaWVudElkOnRoaXMub3B0aW9ucy5jbGllbnRJZCxrZWVwYWxpdmU6dGhpcy5vcHRpb25zLmtlZXBhbGl2ZSx1c2VybmFtZTp0aGlzLm9wdGlvbnMudXNlcm5hbWUscGFzc3dvcmQ6dGhpcy5vcHRpb25zLnBhc3N3b3JkLHByb3BlcnRpZXM6dGhpcy5vcHRpb25zLnByb3BlcnRpZXN9O2lmKHRoaXMub3B0aW9ucy53aWxsJiYoYy53aWxsPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdGlvbnMud2lsbCkse3BheWxvYWQ6KGU9dGhpcy5vcHRpb25zLndpbGwpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5wYXlsb2FkfSkpLHRoaXMudG9waWNBbGlhc1JlY3YmJihjLnByb3BlcnRpZXN8fChjLnByb3BlcnRpZXM9e30pLHRoaXMudG9waWNBbGlhc1JlY3YmJihjLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW09dGhpcy50b3BpY0FsaWFzUmVjdi5tYXgpKSx0aGlzLl93cml0ZVBhY2tldChjKSxpLm9uKFwiZXJyb3JcIix0aGlzLmVtaXQuYmluZCh0aGlzLFwiZXJyb3JcIikpLHRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzKXtpZighdGhpcy5vcHRpb25zLnByb3BlcnRpZXMuYXV0aGVudGljYXRpb25NZXRob2QmJnRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzLmF1dGhlbnRpY2F0aW9uRGF0YSlyZXR1cm4gdGhpcy5lbmQoKCk9PnRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUGFja2V0IGhhcyBubyBBdXRoZW50aWNhdGlvbiBNZXRob2RcIikpKSx0aGlzO2lmKHRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzLmF1dGhlbnRpY2F0aW9uTWV0aG9kJiZ0aGlzLm9wdGlvbnMuYXV0aFBhY2tldCYmdHlwZW9mIHRoaXMub3B0aW9ucy5hdXRoUGFja2V0PT1cIm9iamVjdFwiKXtsZXQgaD1PYmplY3QuYXNzaWduKHtjbWQ6XCJhdXRoXCIscmVhc29uQ29kZTowfSx0aGlzLm9wdGlvbnMuYXV0aFBhY2tldCk7dGhpcy5fd3JpdGVQYWNrZXQoaCk7fX1yZXR1cm4gdGhpcy5zdHJlYW0uc2V0TWF4TGlzdGVuZXJzKDFlMyksY2xlYXJUaW1lb3V0KHRoaXMuY29ubmFja1RpbWVyKSx0aGlzLmNvbm5hY2tUaW1lcj1zZXRUaW1lb3V0KCgpPT57dGhpcy5sb2coXCIhIWNvbm5lY3RUaW1lb3V0IGhpdCEhIENhbGxpbmcgX2NsZWFuVXAgd2l0aCBmb3JjZSBgdHJ1ZWBcIiksdGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJjb25uYWNrIHRpbWVvdXRcIikpLHRoaXMuX2NsZWFuVXAoITApO30sdGhpcy5vcHRpb25zLmNvbm5lY3RUaW1lb3V0KSx0aGlzfXB1Ymxpc2goZSxyLGksbil7dGhpcy5sb2coXCJwdWJsaXNoIDo6IG1lc3NhZ2UgYCVzYCB0byB0b3BpYyBgJXNgXCIscixlKTtsZXR7b3B0aW9uczpvfT10aGlzO3R5cGVvZiBpPT1cImZ1bmN0aW9uXCImJihuPWksaT1udWxsKSxpPWl8fHt9LGk9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHtxb3M6MCxyZXRhaW46ITEsZHVwOiExfSksaSk7bGV0e3FvczphLHJldGFpbjpsLGR1cDpjLHByb3BlcnRpZXM6aCxjYlN0b3JlUHV0OmR9PWk7aWYodGhpcy5fY2hlY2tEaXNjb25uZWN0aW5nKG4pKXJldHVybiB0aGlzO2xldCBnPSgpPT57bGV0IHk9MDtpZigoYT09PTF8fGE9PT0yKSYmKHk9dGhpcy5fbmV4dElkKCkseT09PW51bGwpKXJldHVybiB0aGlzLmxvZyhcIk5vIG1lc3NhZ2VJZCBsZWZ0XCIpLCExO2xldCB3PXtjbWQ6XCJwdWJsaXNoXCIsdG9waWM6ZSxwYXlsb2FkOnIscW9zOmEscmV0YWluOmwsbWVzc2FnZUlkOnksZHVwOmN9O3N3aXRjaChvLnByb3RvY29sVmVyc2lvbj09PTUmJih3LnByb3BlcnRpZXM9aCksdGhpcy5sb2coXCJwdWJsaXNoIDo6IHFvc1wiLGEpLGEpe2Nhc2UgMTpjYXNlIDI6dGhpcy5vdXRnb2luZ1t3Lm1lc3NhZ2VJZF09e3ZvbGF0aWxlOiExLGNiOm58fHRoaXMubm9vcH0sdGhpcy5sb2coXCJNcXR0Q2xpZW50OnB1Ymxpc2g6IHBhY2tldCBjbWQ6ICVzXCIsdy5jbWQpLHRoaXMuX3NlbmRQYWNrZXQodyx2b2lkIDAsZCk7YnJlYWs7ZGVmYXVsdDp0aGlzLmxvZyhcIk1xdHRDbGllbnQ6cHVibGlzaDogcGFja2V0IGNtZDogJXNcIix3LmNtZCksdGhpcy5fc2VuZFBhY2tldCh3LG4sZCk7YnJlYWt9cmV0dXJuICEwfTtyZXR1cm4gKHRoaXMuX3N0b3JlUHJvY2Vzc2luZ3x8dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUubGVuZ3RoPjB8fCFnKCkpJiZ0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtpbnZva2U6ZyxjYlN0b3JlUHV0OmkuY2JTdG9yZVB1dCxjYWxsYmFjazpufSksdGhpc31wdWJsaXNoQXN5bmMoZSxyLGkpe3JldHVybiBuZXcgUHJvbWlzZSgobixvKT0+e3RoaXMucHVibGlzaChlLHIsaSwocyxhKT0+e3M/byhzKTpuKGEpO30pO30pfXN1YnNjcmliZShlLHIsaSl7bGV0IG49dGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbjt0eXBlb2Ygcj09XCJmdW5jdGlvblwiJiYoaT1yKSxpPWl8fHRoaXMubm9vcDtsZXQgbz0hMSxzPVtdO3R5cGVvZiBlPT1cInN0cmluZ1wiPyhlPVtlXSxzPWUpOkFycmF5LmlzQXJyYXkoZSk/cz1lOnR5cGVvZiBlPT1cIm9iamVjdFwiJiYobz1lLnJlc3Vic2NyaWJlLGRlbGV0ZSBlLnJlc3Vic2NyaWJlLHM9T2JqZWN0LmtleXMoZSkpO2xldCBhPUZwLnZhbGlkYXRlVG9waWNzKHMpO2lmKGEhPT1udWxsKXJldHVybiBIYShpLG5ldyBFcnJvcihgSW52YWxpZCB0b3BpYyAke2F9YCkpLHRoaXM7aWYodGhpcy5fY2hlY2tEaXNjb25uZWN0aW5nKGkpKXJldHVybiB0aGlzLmxvZyhcInN1YnNjcmliZTogZGlzY2NvbmVjdGluZyB0cnVlXCIpLHRoaXM7bGV0IGw9e3FvczowfTtuPT09NSYmKGwubmw9ITEsbC5yYXA9ITEsbC5yaD0wKSxyPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxsKSxyKTtsZXQgYz1yLnByb3BlcnRpZXMsaD1bXSxkPSh5LHcpPT57aWYodz13fHxyLCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fcmVzdWJzY3JpYmVUb3BpY3MseSl8fHRoaXMuX3Jlc3Vic2NyaWJlVG9waWNzW3ldLnFvczx3LnFvc3x8byl7bGV0IFM9e3RvcGljOnkscW9zOncucW9zfTtuPT09NSYmKFMubmw9dy5ubCxTLnJhcD13LnJhcCxTLnJoPXcucmgsUy5wcm9wZXJ0aWVzPWMpLHRoaXMubG9nKFwic3Vic2NyaWJlOiBwdXNoaW5nIHRvcGljIGAlc2AgYW5kIHFvcyBgJXNgIHRvIHN1YnMgbGlzdFwiLFMudG9waWMsUy5xb3MpLGgucHVzaChTKTt9fTtpZihBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCh5PT57dGhpcy5sb2coXCJzdWJzY3JpYmU6IGFycmF5IHRvcGljICVzXCIseSksZCh5KTt9KTpPYmplY3Qua2V5cyhlKS5mb3JFYWNoKHk9Pnt0aGlzLmxvZyhcInN1YnNjcmliZTogb2JqZWN0IHRvcGljICVzLCAlb1wiLHksZVt5XSksZCh5LGVbeV0pO30pLCFoLmxlbmd0aClyZXR1cm4gaShudWxsLFtdKSx0aGlzO2xldCBnPSgpPT57bGV0IHk9dGhpcy5fbmV4dElkKCk7aWYoeT09PW51bGwpcmV0dXJuIHRoaXMubG9nKFwiTm8gbWVzc2FnZUlkIGxlZnRcIiksITE7bGV0IHc9e2NtZDpcInN1YnNjcmliZVwiLHN1YnNjcmlwdGlvbnM6aCxtZXNzYWdlSWQ6eX07aWYoYyYmKHcucHJvcGVydGllcz1jKSx0aGlzLm9wdGlvbnMucmVzdWJzY3JpYmUpe3RoaXMubG9nKFwic3Vic2NyaWJlIDo6IHJlc3Vic2NyaWJlIHRydWVcIik7bGV0IFM9W107aC5mb3JFYWNoKEU9PntpZih0aGlzLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kPjApe2xldCBJPXtxb3M6RS5xb3N9O249PT01JiYoSS5ubD1FLm5sfHwhMSxJLnJhcD1FLnJhcHx8ITEsSS5yaD1FLnJofHwwLEkucHJvcGVydGllcz1FLnByb3BlcnRpZXMpLHRoaXMuX3Jlc3Vic2NyaWJlVG9waWNzW0UudG9waWNdPUksUy5wdXNoKEUudG9waWMpO319KSx0aGlzLm1lc3NhZ2VJZFRvVG9waWNbdy5tZXNzYWdlSWRdPVM7fXJldHVybiB0aGlzLm91dGdvaW5nW3cubWVzc2FnZUlkXT17dm9sYXRpbGU6ITAsY2IoUyxFKXtpZighUyl7bGV0e2dyYW50ZWQ6SX09RTtmb3IobGV0IEM9MDtDPEkubGVuZ3RoO0MrPTEpaFtDXS5xb3M9SVtDXTt9aShTLGgsRSk7fX0sdGhpcy5sb2coXCJzdWJzY3JpYmUgOjogY2FsbCBfc2VuZFBhY2tldFwiKSx0aGlzLl9zZW5kUGFja2V0KHcpLCEwfTtyZXR1cm4gKHRoaXMuX3N0b3JlUHJvY2Vzc2luZ3x8dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUubGVuZ3RoPjB8fCFnKCkpJiZ0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtpbnZva2U6ZyxjYWxsYmFjazppfSksdGhpc31zdWJzY3JpYmVBc3luYyhlLHIpe3JldHVybiBuZXcgUHJvbWlzZSgoaSxuKT0+e3RoaXMuc3Vic2NyaWJlKGUsciwobyxzKT0+e28/bihvKTppKHMpO30pO30pfXVuc3Vic2NyaWJlKGUscixpKXt0eXBlb2YgZT09XCJzdHJpbmdcIiYmKGU9W2VdKSx0eXBlb2Ygcj09XCJmdW5jdGlvblwiJiYoaT1yKSxpPWl8fHRoaXMubm9vcDtsZXQgbj1GcC52YWxpZGF0ZVRvcGljcyhlKTtpZihuIT09bnVsbClyZXR1cm4gSGEoaSxuZXcgRXJyb3IoYEludmFsaWQgdG9waWMgJHtufWApKSx0aGlzO2lmKHRoaXMuX2NoZWNrRGlzY29ubmVjdGluZyhpKSlyZXR1cm4gdGhpcztsZXQgbz0oKT0+e2xldCBzPXRoaXMuX25leHRJZCgpO2lmKHM9PT1udWxsKXJldHVybiB0aGlzLmxvZyhcIk5vIG1lc3NhZ2VJZCBsZWZ0XCIpLCExO2xldCBhPXtjbWQ6XCJ1bnN1YnNjcmliZVwiLG1lc3NhZ2VJZDpzLHVuc3Vic2NyaXB0aW9uczpbXX07cmV0dXJuIHR5cGVvZiBlPT1cInN0cmluZ1wiP2EudW5zdWJzY3JpcHRpb25zPVtlXTpBcnJheS5pc0FycmF5KGUpJiYoYS51bnN1YnNjcmlwdGlvbnM9ZSksdGhpcy5vcHRpb25zLnJlc3Vic2NyaWJlJiZhLnVuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKGw9PntkZWxldGUgdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3NbbF07fSksdHlwZW9mIHI9PVwib2JqZWN0XCImJnIucHJvcGVydGllcyYmKGEucHJvcGVydGllcz1yLnByb3BlcnRpZXMpLHRoaXMub3V0Z29pbmdbYS5tZXNzYWdlSWRdPXt2b2xhdGlsZTohMCxjYjppfSx0aGlzLmxvZyhcInVuc3Vic2NyaWJlOiBjYWxsIF9zZW5kUGFja2V0XCIpLHRoaXMuX3NlbmRQYWNrZXQoYSksITB9O3JldHVybiAodGhpcy5fc3RvcmVQcm9jZXNzaW5nfHx0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5sZW5ndGg+MHx8IW8oKSkmJnRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLnB1c2goe2ludm9rZTpvLGNhbGxiYWNrOml9KSx0aGlzfXVuc3Vic2NyaWJlQXN5bmMoZSxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGksbik9Pnt0aGlzLnVuc3Vic2NyaWJlKGUsciwobyxzKT0+e28/bihvKTppKHMpO30pO30pfWVuZChlLHIsaSl7dGhpcy5sb2coXCJlbmQgOjogKCVzKVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksKGU9PW51bGx8fHR5cGVvZiBlIT1cImJvb2xlYW5cIikmJihpPWl8fHIscj1lLGU9ITEpLHR5cGVvZiByIT1cIm9iamVjdFwiJiYoaT1pfHxyLHI9bnVsbCksdGhpcy5sb2coXCJlbmQgOjogY2I/ICVzXCIsISFpKSwoIWl8fHR5cGVvZiBpIT1cImZ1bmN0aW9uXCIpJiYoaT10aGlzLm5vb3ApO2xldCBuPSgpPT57dGhpcy5sb2coXCJlbmQgOjogY2xvc2VTdG9yZXM6IGNsb3NpbmcgaW5jb21pbmcgYW5kIG91dGdvaW5nIHN0b3Jlc1wiKSx0aGlzLmRpc2Nvbm5lY3RlZD0hMCx0aGlzLmluY29taW5nU3RvcmUuY2xvc2Uocz0+e3RoaXMub3V0Z29pbmdTdG9yZS5jbG9zZShhPT57aWYodGhpcy5sb2coXCJlbmQgOjogY2xvc2VTdG9yZXM6IGVtaXR0aW5nIGVuZFwiKSx0aGlzLmVtaXQoXCJlbmRcIiksaSl7bGV0IGw9c3x8YTt0aGlzLmxvZyhcImVuZCA6OiBjbG9zZVN0b3JlczogaW52b2tpbmcgY2FsbGJhY2sgd2l0aCBhcmdzXCIpLGkobCk7fX0pO30pLHRoaXMuX2RlZmVycmVkUmVjb25uZWN0P3RoaXMuX2RlZmVycmVkUmVjb25uZWN0KCk6KHRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2Q9PT0wfHx0aGlzLm9wdGlvbnMubWFudWFsQ29ubmVjdCkmJih0aGlzLmRpc2Nvbm5lY3Rpbmc9ITEpO30sbz0oKT0+e3RoaXMubG9nKFwiZW5kIDo6ICglcykgOjogZmluaXNoIDo6IGNhbGxpbmcgX2NsZWFuVXAgd2l0aCBmb3JjZSAlc1wiLHRoaXMub3B0aW9ucy5jbGllbnRJZCxlKSx0aGlzLl9jbGVhblVwKGUsKCk9Pnt0aGlzLmxvZyhcImVuZCA6OiBmaW5pc2ggOjogY2FsbGluZyBwcm9jZXNzLm5leHRUaWNrIG9uIGNsb3NlU3RvcmVzXCIpLCgwLCBucy5uZXh0VGljaykobik7fSxyKTt9O3JldHVybiB0aGlzLmRpc2Nvbm5lY3Rpbmc/KGkoKSx0aGlzKToodGhpcy5fY2xlYXJSZWNvbm5lY3QoKSx0aGlzLmRpc2Nvbm5lY3Rpbmc9ITAsIWUmJk9iamVjdC5rZXlzKHRoaXMub3V0Z29pbmcpLmxlbmd0aD4wPyh0aGlzLmxvZyhcImVuZCA6OiAoJXMpIDo6IGNhbGxpbmcgZmluaXNoIGluIDEwbXMgb25jZSBvdXRnb2luZyBpcyBlbXB0eVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5vbmNlKFwib3V0Z29pbmdFbXB0eVwiLHNldFRpbWVvdXQuYmluZChudWxsLG8sMTApKSk6KHRoaXMubG9nKFwiZW5kIDo6ICglcykgOjogaW1tZWRpYXRlbHkgY2FsbGluZyBmaW5pc2hcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLG8oKSksdGhpcyl9ZW5kQXN5bmMoZSxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGksbik9Pnt0aGlzLmVuZChlLHIsbz0+e28/bihvKTppKCk7fSk7fSl9cmVtb3ZlT3V0Z29pbmdNZXNzYWdlKGUpe2lmKHRoaXMub3V0Z29pbmdbZV0pe2xldHtjYjpyfT10aGlzLm91dGdvaW5nW2VdO3RoaXMuX3JlbW92ZU91dGdvaW5nQW5kU3RvcmVNZXNzYWdlKGUsKCk9PntyKG5ldyBFcnJvcihcIk1lc3NhZ2UgcmVtb3ZlZFwiKSk7fSk7fXJldHVybiB0aGlzfXJlY29ubmVjdChlKXt0aGlzLmxvZyhcImNsaWVudCByZWNvbm5lY3RcIik7bGV0IHI9KCk9PntlPyh0aGlzLm9wdGlvbnMuaW5jb21pbmdTdG9yZT1lLmluY29taW5nU3RvcmUsdGhpcy5vcHRpb25zLm91dGdvaW5nU3RvcmU9ZS5vdXRnb2luZ1N0b3JlKToodGhpcy5vcHRpb25zLmluY29taW5nU3RvcmU9bnVsbCx0aGlzLm9wdGlvbnMub3V0Z29pbmdTdG9yZT1udWxsKSx0aGlzLmluY29taW5nU3RvcmU9dGhpcy5vcHRpb25zLmluY29taW5nU3RvcmV8fG5ldyBpaS5kZWZhdWx0LHRoaXMub3V0Z29pbmdTdG9yZT10aGlzLm9wdGlvbnMub3V0Z29pbmdTdG9yZXx8bmV3IGlpLmRlZmF1bHQsdGhpcy5kaXNjb25uZWN0aW5nPSExLHRoaXMuZGlzY29ubmVjdGVkPSExLHRoaXMuX2RlZmVycmVkUmVjb25uZWN0PW51bGwsdGhpcy5fcmVjb25uZWN0KCk7fTtyZXR1cm4gdGhpcy5kaXNjb25uZWN0aW5nJiYhdGhpcy5kaXNjb25uZWN0ZWQ/dGhpcy5fZGVmZXJyZWRSZWNvbm5lY3Q9cjpyKCksdGhpc31fZmx1c2hWb2xhdGlsZSgpe3RoaXMub3V0Z29pbmcmJih0aGlzLmxvZyhcIl9mbHVzaFZvbGF0aWxlIDo6IGRlbGV0aW5nIHZvbGF0aWxlIG1lc3NhZ2VzIGZyb20gdGhlIHF1ZXVlIGFuZCBzZXR0aW5nIHRoZWlyIGNhbGxiYWNrcyBhcyBlcnJvciBmdW5jdGlvblwiKSxPYmplY3Qua2V5cyh0aGlzLm91dGdvaW5nKS5mb3JFYWNoKGU9Pnt0aGlzLm91dGdvaW5nW2VdLnZvbGF0aWxlJiZ0eXBlb2YgdGhpcy5vdXRnb2luZ1tlXS5jYj09XCJmdW5jdGlvblwiJiYodGhpcy5vdXRnb2luZ1tlXS5jYihuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSksZGVsZXRlIHRoaXMub3V0Z29pbmdbZV0pO30pKTt9X2ZsdXNoKCl7dGhpcy5vdXRnb2luZyYmKHRoaXMubG9nKFwiX2ZsdXNoOiBxdWV1ZSBleGlzdHM/ICViXCIsISF0aGlzLm91dGdvaW5nKSxPYmplY3Qua2V5cyh0aGlzLm91dGdvaW5nKS5mb3JFYWNoKGU9Pnt0eXBlb2YgdGhpcy5vdXRnb2luZ1tlXS5jYj09XCJmdW5jdGlvblwiJiYodGhpcy5vdXRnb2luZ1tlXS5jYihuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSksZGVsZXRlIHRoaXMub3V0Z29pbmdbZV0pO30pKTt9X3JlbW92ZVRvcGljQWxpYXNBbmRSZWNvdmVyVG9waWNOYW1lKGUpe2xldCByO2UucHJvcGVydGllcyYmKHI9ZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXMpO2xldCBpPWUudG9waWMudG9TdHJpbmcoKTtpZih0aGlzLmxvZyhcIl9yZW1vdmVUb3BpY0FsaWFzQW5kUmVjb3ZlclRvcGljTmFtZSA6OiBhbGlhcyAlZCwgdG9waWMgJW9cIixyLGkpLGkubGVuZ3RoPT09MCl7aWYodHlwZW9mIHI+XCJ1XCIpcmV0dXJuIG5ldyBFcnJvcihcIlVucmVnaXN0ZXJlZCBUb3BpYyBBbGlhc1wiKTtpZihpPXRoaXMudG9waWNBbGlhc1NlbmQuZ2V0VG9waWNCeUFsaWFzKHIpLHR5cGVvZiBpPlwidVwiKXJldHVybiBuZXcgRXJyb3IoXCJVbnJlZ2lzdGVyZWQgVG9waWMgQWxpYXNcIik7ZS50b3BpYz1pO31yJiZkZWxldGUgZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXM7fV9jaGVja0Rpc2Nvbm5lY3RpbmcoZSl7cmV0dXJuIHRoaXMuZGlzY29ubmVjdGluZyYmKGUmJmUhPT10aGlzLm5vb3A/ZShuZXcgRXJyb3IoXCJjbGllbnQgZGlzY29ubmVjdGluZ1wiKSk6dGhpcy5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJjbGllbnQgZGlzY29ubmVjdGluZ1wiKSkpLHRoaXMuZGlzY29ubmVjdGluZ31fcmVjb25uZWN0KCl7dGhpcy5sb2coXCJfcmVjb25uZWN0OiBlbWl0dGluZyByZWNvbm5lY3QgdG8gY2xpZW50XCIpLHRoaXMuZW1pdChcInJlY29ubmVjdFwiKSx0aGlzLmNvbm5lY3RlZD8odGhpcy5lbmQoKCk9Pnt0aGlzLmNvbm5lY3QoKTt9KSx0aGlzLmxvZyhcImNsaWVudCBhbHJlYWR5IGNvbm5lY3RlZC4gZGlzY29ubmVjdGluZyBmaXJzdC5cIikpOih0aGlzLmxvZyhcIl9yZWNvbm5lY3Q6IGNhbGxpbmcgY29ubmVjdFwiKSx0aGlzLmNvbm5lY3QoKSk7fV9zZXR1cFJlY29ubmVjdCgpeyF0aGlzLmRpc2Nvbm5lY3RpbmcmJiF0aGlzLnJlY29ubmVjdFRpbWVyJiZ0aGlzLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kPjA/KHRoaXMucmVjb25uZWN0aW5nfHwodGhpcy5sb2coXCJfc2V0dXBSZWNvbm5lY3QgOjogZW1pdCBgb2ZmbGluZWAgc3RhdGVcIiksdGhpcy5lbWl0KFwib2ZmbGluZVwiKSx0aGlzLmxvZyhcIl9zZXR1cFJlY29ubmVjdCA6OiBzZXQgYHJlY29ubmVjdGluZ2AgdG8gYHRydWVgXCIpLHRoaXMucmVjb25uZWN0aW5nPSEwKSx0aGlzLmxvZyhcIl9zZXR1cFJlY29ubmVjdCA6OiBzZXR0aW5nIHJlY29ubmVjdFRpbWVyIGZvciAlZCBtc1wiLHRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2QpLHRoaXMucmVjb25uZWN0VGltZXI9c2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLmxvZyhcInJlY29ubmVjdFRpbWVyIDo6IHJlY29ubmVjdCB0cmlnZ2VyZWQhXCIpLHRoaXMuX3JlY29ubmVjdCgpO30sdGhpcy5vcHRpb25zLnJlY29ubmVjdFBlcmlvZCkpOnRoaXMubG9nKFwiX3NldHVwUmVjb25uZWN0IDo6IGRvaW5nIG5vdGhpbmcuLi5cIik7fV9jbGVhclJlY29ubmVjdCgpe3RoaXMubG9nKFwiX2NsZWFyUmVjb25uZWN0IDogY2xlYXJpbmcgcmVjb25uZWN0IHRpbWVyXCIpLHRoaXMucmVjb25uZWN0VGltZXImJihjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0VGltZXIpLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbCk7fV9jbGVhblVwKGUscixpPXt9KXtpZihyJiYodGhpcy5sb2coXCJfY2xlYW5VcCA6OiBkb25lIGNhbGxiYWNrIHByb3ZpZGVkIGZvciBvbiBzdHJlYW0gY2xvc2VcIiksdGhpcy5zdHJlYW0ub24oXCJjbG9zZVwiLHIpKSx0aGlzLmxvZyhcIl9jbGVhblVwIDo6IGZvcmNlZD8gJXNcIixlKSxlKXRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2Q9PT0wJiZ0aGlzLm9wdGlvbnMuY2xlYW4mJnRoaXMuX2ZsdXNoKCksdGhpcy5sb2coXCJfY2xlYW5VcCA6OiAoJXMpIDo6IGRlc3Ryb3lpbmcgc3RyZWFtXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLnN0cmVhbS5kZXN0cm95KCk7ZWxzZSB7bGV0IG49T2JqZWN0LmFzc2lnbih7Y21kOlwiZGlzY29ubmVjdFwifSxpKTt0aGlzLmxvZyhcIl9jbGVhblVwIDo6ICglcykgOjogY2FsbCBfc2VuZFBhY2tldCB3aXRoIGRpc2Nvbm5lY3QgcGFja2V0XCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLl9zZW5kUGFja2V0KG4sKCk9Pnt0aGlzLmxvZyhcIl9jbGVhblVwIDo6ICglcykgOjogZGVzdHJveWluZyBzdHJlYW1cIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLEhhKCgpPT57dGhpcy5zdHJlYW0uZW5kKCgpPT57dGhpcy5sb2coXCJfY2xlYW5VcCA6OiAoJXMpIDo6IHN0cmVhbSBkZXN0cm95ZWRcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpO30pO30pO30pO30hdGhpcy5kaXNjb25uZWN0aW5nJiYhdGhpcy5yZWNvbm5lY3RpbmcmJih0aGlzLmxvZyhcIl9jbGVhblVwIDo6IGNsaWVudCBub3QgZGlzY29ubmVjdGluZy9yZWNvbm5lY3RpbmcuIENsZWFyaW5nIGFuZCByZXNldHRpbmcgcmVjb25uZWN0LlwiKSx0aGlzLl9jbGVhclJlY29ubmVjdCgpLHRoaXMuX3NldHVwUmVjb25uZWN0KCkpLHRoaXMuX2Rlc3Ryb3lLZWVwYWxpdmVNYW5hZ2VyKCksciYmIXRoaXMuY29ubmVjdGVkJiYodGhpcy5sb2coXCJfY2xlYW5VcCA6OiAoJXMpIDo6IHJlbW92aW5nIHN0cmVhbSBgZG9uZWAgY2FsbGJhY2sgYGNsb3NlYCBsaXN0ZW5lclwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5zdHJlYW0ucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHIpLHIoKSk7fV9zdG9yZUFuZFNlbmQoZSxyLGkpe3RoaXMubG9nKFwic3RvcmVBbmRTZW5kIDo6IHN0b3JlIHBhY2tldCB3aXRoIGNtZCAlcyB0byBvdXRnb2luZ1N0b3JlXCIsZS5jbWQpO2xldCBuPWUsbztpZihuLmNtZD09PVwicHVibGlzaFwiJiYobj0oMCwganAuZGVmYXVsdCkoZSksbz10aGlzLl9yZW1vdmVUb3BpY0FsaWFzQW5kUmVjb3ZlclRvcGljTmFtZShuKSxvKSlyZXR1cm4gciYmcihvKTt0aGlzLm91dGdvaW5nU3RvcmUucHV0KG4scz0+e2lmKHMpcmV0dXJuIHImJnIocyk7aSgpLHRoaXMuX3dyaXRlUGFja2V0KGUscik7fSk7fV9hcHBseVRvcGljQWxpYXMoZSl7aWYodGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbj09PTUmJmUuY21kPT09XCJwdWJsaXNoXCIpe2xldCByO2UucHJvcGVydGllcyYmKHI9ZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXMpO2xldCBpPWUudG9waWMudG9TdHJpbmcoKTtpZih0aGlzLnRvcGljQWxpYXNTZW5kKWlmKHIpe2lmKGkubGVuZ3RoIT09MCYmKHRoaXMubG9nKFwiYXBwbHlUb3BpY0FsaWFzIDo6IHJlZ2lzdGVyIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGksciksIXRoaXMudG9waWNBbGlhc1NlbmQucHV0KGkscikpKXJldHVybiB0aGlzLmxvZyhcImFwcGx5VG9waWNBbGlhcyA6OiBlcnJvciBvdXQgb2YgcmFuZ2UuIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGksciksbmV3IEVycm9yKFwiU2VuZGluZyBUb3BpYyBBbGlhcyBvdXQgb2YgcmFuZ2VcIil9ZWxzZSBpLmxlbmd0aCE9PTAmJih0aGlzLm9wdGlvbnMuYXV0b0Fzc2lnblRvcGljQWxpYXM/KHI9dGhpcy50b3BpY0FsaWFzU2VuZC5nZXRBbGlhc0J5VG9waWMoaSkscj8oZS50b3BpYz1cIlwiLGUucHJvcGVydGllcz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5wcm9wZXJ0aWVzKSx7dG9waWNBbGlhczpyfSksdGhpcy5sb2coXCJhcHBseVRvcGljQWxpYXMgOjogYXV0byBhc3NpZ24odXNlKSB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLHIpKToocj10aGlzLnRvcGljQWxpYXNTZW5kLmdldExydUFsaWFzKCksdGhpcy50b3BpY0FsaWFzU2VuZC5wdXQoaSxyKSxlLnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUucHJvcGVydGllcykse3RvcGljQWxpYXM6cn0pLHRoaXMubG9nKFwiYXBwbHlUb3BpY0FsaWFzIDo6IGF1dG8gYXNzaWduIHRvcGljOiAlcyAtIGFsaWFzOiAlZFwiLGkscikpKTp0aGlzLm9wdGlvbnMuYXV0b1VzZVRvcGljQWxpYXMmJihyPXRoaXMudG9waWNBbGlhc1NlbmQuZ2V0QWxpYXNCeVRvcGljKGkpLHImJihlLnRvcGljPVwiXCIsZS5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLnByb3BlcnRpZXMpLHt0b3BpY0FsaWFzOnJ9KSx0aGlzLmxvZyhcImFwcGx5VG9waWNBbGlhcyA6OiBhdXRvIHVzZSB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLHIpKSkpO2Vsc2UgaWYocilyZXR1cm4gdGhpcy5sb2coXCJhcHBseVRvcGljQWxpYXMgOjogZXJyb3Igb3V0IG9mIHJhbmdlLiB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLHIpLG5ldyBFcnJvcihcIlNlbmRpbmcgVG9waWMgQWxpYXMgb3V0IG9mIHJhbmdlXCIpfX1fbm9vcChlKXt0aGlzLmxvZyhcIm5vb3AgOjpcIixlKTt9X3dyaXRlUGFja2V0KGUscil7dGhpcy5sb2coXCJfd3JpdGVQYWNrZXQgOjogcGFja2V0OiAlT1wiLGUpLHRoaXMubG9nKFwiX3dyaXRlUGFja2V0IDo6IGVtaXR0aW5nIGBwYWNrZXRzZW5kYFwiKSx0aGlzLmVtaXQoXCJwYWNrZXRzZW5kXCIsZSksdGhpcy5sb2coXCJfd3JpdGVQYWNrZXQgOjogd3JpdGluZyB0byBzdHJlYW1cIik7bGV0IGk9JGEuZGVmYXVsdC53cml0ZVRvU3RyZWFtKGUsdGhpcy5zdHJlYW0sdGhpcy5vcHRpb25zKTt0aGlzLmxvZyhcIl93cml0ZVBhY2tldCA6OiB3cml0ZVRvU3RyZWFtIHJlc3VsdCAlc1wiLGkpLCFpJiZyJiZyIT09dGhpcy5ub29wPyh0aGlzLmxvZyhcIl93cml0ZVBhY2tldCA6OiBoYW5kbGUgZXZlbnRzIG9uIGBkcmFpbmAgb25jZSB0aHJvdWdoIGNhbGxiYWNrLlwiKSx0aGlzLnN0cmVhbS5vbmNlKFwiZHJhaW5cIixyKSk6ciYmKHRoaXMubG9nKFwiX3dyaXRlUGFja2V0IDo6IGludm9raW5nIGNiXCIpLHIoKSk7fV9zZW5kUGFja2V0KGUscixpLG4pe3RoaXMubG9nKFwiX3NlbmRQYWNrZXQgOjogKCVzKSA6OiAgc3RhcnRcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLGk9aXx8dGhpcy5ub29wLHI9cnx8dGhpcy5ub29wO2xldCBvPXRoaXMuX2FwcGx5VG9waWNBbGlhcyhlKTtpZihvKXtyKG8pO3JldHVybn1pZighdGhpcy5jb25uZWN0ZWQpe2lmKGUuY21kPT09XCJhdXRoXCIpe3RoaXMuX3dyaXRlUGFja2V0KGUscik7cmV0dXJufXRoaXMubG9nKFwiX3NlbmRQYWNrZXQgOjogY2xpZW50IG5vdCBjb25uZWN0ZWQuIFN0b3JpbmcgcGFja2V0IG9mZmxpbmUuXCIpLHRoaXMuX3N0b3JlUGFja2V0KGUscixpKTtyZXR1cm59aWYobil7dGhpcy5fd3JpdGVQYWNrZXQoZSxyKTtyZXR1cm59c3dpdGNoKGUuY21kKXtjYXNlXCJwdWJsaXNoXCI6YnJlYWs7Y2FzZVwicHVicmVsXCI6dGhpcy5fc3RvcmVBbmRTZW5kKGUscixpKTtyZXR1cm47ZGVmYXVsdDp0aGlzLl93cml0ZVBhY2tldChlLHIpO3JldHVybn1zd2l0Y2goZS5xb3Mpe2Nhc2UgMjpjYXNlIDE6dGhpcy5fc3RvcmVBbmRTZW5kKGUscixpKTticmVhaztjYXNlIDA6ZGVmYXVsdDp0aGlzLl93cml0ZVBhY2tldChlLHIpO2JyZWFrfXRoaXMubG9nKFwiX3NlbmRQYWNrZXQgOjogKCVzKSA6OiAgZW5kXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKTt9X3N0b3JlUGFja2V0KGUscixpKXt0aGlzLmxvZyhcIl9zdG9yZVBhY2tldCA6OiBwYWNrZXQ6ICVvXCIsZSksdGhpcy5sb2coXCJfc3RvcmVQYWNrZXQgOjogY2I/ICVzXCIsISFyKSxpPWl8fHRoaXMubm9vcDtsZXQgbj1lO2lmKG4uY21kPT09XCJwdWJsaXNoXCIpe249KDAsIGpwLmRlZmF1bHQpKGUpO2xldCBzPXRoaXMuX3JlbW92ZVRvcGljQWxpYXNBbmRSZWNvdmVyVG9waWNOYW1lKG4pO2lmKHMpcmV0dXJuIHImJnIocyl9bGV0IG89bi5xb3N8fDA7bz09PTAmJnRoaXMucXVldWVRb1NaZXJvfHxuLmNtZCE9PVwicHVibGlzaFwiP3RoaXMucXVldWUucHVzaCh7cGFja2V0Om4sY2I6cn0pOm8+MD8ocj10aGlzLm91dGdvaW5nW24ubWVzc2FnZUlkXT90aGlzLm91dGdvaW5nW24ubWVzc2FnZUlkXS5jYjpudWxsLHRoaXMub3V0Z29pbmdTdG9yZS5wdXQobixzPT57aWYocylyZXR1cm4gciYmcihzKTtpKCk7fSkpOnImJnIobmV3IEVycm9yKFwiTm8gY29ubmVjdGlvbiB0byBicm9rZXJcIikpO31fc2V0dXBLZWVwYWxpdmVNYW5hZ2VyKCl7dGhpcy5sb2coXCJfc2V0dXBLZWVwYWxpdmVNYW5hZ2VyIDo6IGtlZXBhbGl2ZSAlZCAoc2Vjb25kcylcIix0aGlzLm9wdGlvbnMua2VlcGFsaXZlKSwhdGhpcy5rZWVwYWxpdmVNYW5hZ2VyJiZ0aGlzLm9wdGlvbnMua2VlcGFsaXZlJiYodGhpcy5rZWVwYWxpdmVNYW5hZ2VyPW5ldyBlRS5kZWZhdWx0KHRoaXMsdGhpcy5vcHRpb25zLnRpbWVyVmFyaWFudCkpO31fZGVzdHJveUtlZXBhbGl2ZU1hbmFnZXIoKXt0aGlzLmtlZXBhbGl2ZU1hbmFnZXImJih0aGlzLmxvZyhcIl9kZXN0cm95S2VlcGFsaXZlTWFuYWdlciA6OiBkZXN0cm95aW5nIGtlZXBhbGl2ZSBtYW5hZ2VyXCIpLHRoaXMua2VlcGFsaXZlTWFuYWdlci5kZXN0cm95KCksdGhpcy5rZWVwYWxpdmVNYW5hZ2VyPW51bGwpO31yZXNjaGVkdWxlUGluZyhlPSExKXt0aGlzLmtlZXBhbGl2ZU1hbmFnZXImJnRoaXMub3B0aW9ucy5rZWVwYWxpdmUmJihlfHx0aGlzLm9wdGlvbnMucmVzY2hlZHVsZVBpbmdzKSYmdGhpcy5fcmVzY2hlZHVsZVBpbmcoKTt9X3Jlc2NoZWR1bGVQaW5nKCl7dGhpcy5sb2coXCJfcmVzY2hlZHVsZVBpbmcgOjogcmVzY2hlZHVsaW5nIHBpbmdcIiksdGhpcy5rZWVwYWxpdmVNYW5hZ2VyLnJlc2NoZWR1bGUoKTt9c2VuZFBpbmcoKXt0aGlzLmxvZyhcIl9zZW5kUGluZyA6OiBzZW5kaW5nIHBpbmdyZXFcIiksdGhpcy5fc2VuZFBhY2tldCh7Y21kOlwicGluZ3JlcVwifSk7fW9uS2VlcGFsaXZlVGltZW91dCgpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiS2VlcGFsaXZlIHRpbWVvdXRcIikpLHRoaXMubG9nKFwib25LZWVwYWxpdmVUaW1lb3V0IDo6IGNhbGxpbmcgX2NsZWFuVXAgd2l0aCBmb3JjZSB0cnVlXCIpLHRoaXMuX2NsZWFuVXAoITApO31fcmVzdWJzY3JpYmUoKXt0aGlzLmxvZyhcIl9yZXN1YnNjcmliZVwiKTtsZXQgZT1PYmplY3Qua2V5cyh0aGlzLl9yZXN1YnNjcmliZVRvcGljcyk7aWYoIXRoaXMuX2ZpcnN0Q29ubmVjdGlvbiYmKHRoaXMub3B0aW9ucy5jbGVhbnx8dGhpcy5vcHRpb25zLnByb3RvY29sVmVyc2lvbj49NCYmIXRoaXMuY29ubmFja1BhY2tldC5zZXNzaW9uUHJlc2VudCkmJmUubGVuZ3RoPjApaWYodGhpcy5vcHRpb25zLnJlc3Vic2NyaWJlKWlmKHRoaXMub3B0aW9ucy5wcm90b2NvbFZlcnNpb249PT01KXt0aGlzLmxvZyhcIl9yZXN1YnNjcmliZTogcHJvdG9jb2xWZXJzaW9uIDVcIik7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCBpPXt9O2lbZVtyXV09dGhpcy5fcmVzdWJzY3JpYmVUb3BpY3NbZVtyXV0saS5yZXN1YnNjcmliZT0hMCx0aGlzLnN1YnNjcmliZShpLHtwcm9wZXJ0aWVzOmlbZVtyXV0ucHJvcGVydGllc30pO319ZWxzZSB0aGlzLl9yZXN1YnNjcmliZVRvcGljcy5yZXN1YnNjcmliZT0hMCx0aGlzLnN1YnNjcmliZSh0aGlzLl9yZXN1YnNjcmliZVRvcGljcyk7ZWxzZSB0aGlzLl9yZXN1YnNjcmliZVRvcGljcz17fTt0aGlzLl9maXJzdENvbm5lY3Rpb249ITE7fV9vbkNvbm5lY3QoZSl7aWYodGhpcy5kaXNjb25uZWN0ZWQpe3RoaXMuZW1pdChcImNvbm5lY3RcIixlKTtyZXR1cm59dGhpcy5jb25uYWNrUGFja2V0PWUsdGhpcy5tZXNzYWdlSWRQcm92aWRlci5jbGVhcigpLHRoaXMuX3NldHVwS2VlcGFsaXZlTWFuYWdlcigpLHRoaXMuY29ubmVjdGVkPSEwO2xldCByPSgpPT57bGV0IGk9dGhpcy5vdXRnb2luZ1N0b3JlLmNyZWF0ZVN0cmVhbSgpLG49KCk9PntpLmRlc3Ryb3koKSxpPW51bGwsdGhpcy5fZmx1c2hTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpLG8oKTt9LG89KCk9Pnt0aGlzLl9zdG9yZVByb2Nlc3Npbmc9ITEsdGhpcy5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nPXt9O307dGhpcy5vbmNlKFwiY2xvc2VcIixuKSxpLm9uKFwiZXJyb3JcIixhPT57bygpLHRoaXMuX2ZsdXNoU3RvcmVQcm9jZXNzaW5nUXVldWUoKSx0aGlzLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixuKSx0aGlzLmVtaXQoXCJlcnJvclwiLGEpO30pO2xldCBzPSgpPT57aWYoIWkpcmV0dXJuO2xldCBhPWkucmVhZCgxKSxsO2lmKCFhKXtpLm9uY2UoXCJyZWFkYWJsZVwiLHMpO3JldHVybn1pZih0aGlzLl9zdG9yZVByb2Nlc3Npbmc9ITAsdGhpcy5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nW2EubWVzc2FnZUlkXSl7cygpO3JldHVybn0hdGhpcy5kaXNjb25uZWN0aW5nJiYhdGhpcy5yZWNvbm5lY3RUaW1lcj8obD10aGlzLm91dGdvaW5nW2EubWVzc2FnZUlkXT90aGlzLm91dGdvaW5nW2EubWVzc2FnZUlkXS5jYjpudWxsLHRoaXMub3V0Z29pbmdbYS5tZXNzYWdlSWRdPXt2b2xhdGlsZTohMSxjYihjLGgpe2wmJmwoYyxoKSxzKCk7fX0sdGhpcy5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nW2EubWVzc2FnZUlkXT0hMCx0aGlzLm1lc3NhZ2VJZFByb3ZpZGVyLnJlZ2lzdGVyKGEubWVzc2FnZUlkKT90aGlzLl9zZW5kUGFja2V0KGEsdm9pZCAwLHZvaWQgMCwhMCk6dGhpcy5sb2coXCJtZXNzYWdlSWQ6ICVkIGhhcyBhbHJlYWR5IHVzZWQuXCIsYS5tZXNzYWdlSWQpKTppLmRlc3Ryb3kmJmkuZGVzdHJveSgpO307aS5vbihcImVuZFwiLCgpPT57bGV0IGE9ITA7Zm9yKGxldCBsIGluIHRoaXMuX3BhY2tldElkc0R1cmluZ1N0b3JlUHJvY2Vzc2luZylpZighdGhpcy5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nW2xdKXthPSExO2JyZWFrfXRoaXMucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG4pLGE/KG8oKSx0aGlzLl9pbnZva2VBbGxTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpLHRoaXMuZW1pdChcImNvbm5lY3RcIixlKSk6cigpO30pLHMoKTt9O3IoKTt9X2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCl7aWYoIXRoaXMuX3N0b3JlUHJvY2Vzc2luZyYmdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUubGVuZ3RoPjApe2xldCBlPXRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlWzBdO2lmKGUmJmUuaW52b2tlKCkpcmV0dXJuIHRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLnNoaWZ0KCksITB9cmV0dXJuICExfV9pbnZva2VBbGxTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpe2Zvcig7dGhpcy5faW52b2tlU3RvcmVQcm9jZXNzaW5nUXVldWUoKTspO31fZmx1c2hTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpe2ZvcihsZXQgZSBvZiB0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZSllLmNiU3RvcmVQdXQmJmUuY2JTdG9yZVB1dChuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSksZS5jYWxsYmFjayYmZS5jYWxsYmFjayhuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGNsb3NlZFwiKSk7dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUuc3BsaWNlKDApO31fcmVtb3ZlT3V0Z29pbmdBbmRTdG9yZU1lc3NhZ2UoZSxyKXtkZWxldGUgdGhpcy5vdXRnb2luZ1tlXSx0aGlzLm91dGdvaW5nU3RvcmUuZGVsKHttZXNzYWdlSWQ6ZX0sKGksbik9PntyKGksbiksdGhpcy5tZXNzYWdlSWRQcm92aWRlci5kZWFsbG9jYXRlKGUpLHRoaXMuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCk7fSk7fX07c3MuVkVSU0lPTj1ucy5NUVRUSlNfVkVSU0lPTjtRZS5kZWZhdWx0PXNzO30pO3ZhciBWcD1NKHphPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHphLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB0RT1VYSgpLFZhPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5udW1iZXJBbGxvY2F0b3I9bmV3IHRFLk51bWJlckFsbG9jYXRvcigxLDY1NTM1KTt9YWxsb2NhdGUoKXtyZXR1cm4gdGhpcy5sYXN0SWQ9dGhpcy5udW1iZXJBbGxvY2F0b3IuYWxsb2MoKSx0aGlzLmxhc3RJZH1nZXRMYXN0QWxsb2NhdGVkKCl7cmV0dXJuIHRoaXMubGFzdElkfXJlZ2lzdGVyKGUpe3JldHVybiB0aGlzLm51bWJlckFsbG9jYXRvci51c2UoZSl9ZGVhbGxvY2F0ZShlKXt0aGlzLm51bWJlckFsbG9jYXRvci5mcmVlKGUpO31jbGVhcigpe3RoaXMubnVtYmVyQWxsb2NhdG9yLmNsZWFyKCk7fX07emEuZGVmYXVsdD1WYTt9KTtmdW5jdGlvbiBScih0KXt0aHJvdyBuZXcgUmFuZ2VFcnJvcihzRVt0XSl9ZnVuY3Rpb24genAodCxlKXtsZXQgcj10LnNwbGl0KFwiQFwiKSxpPVwiXCI7ci5sZW5ndGg+MSYmKGk9clswXStcIkBcIix0PXJbMV0pO2xldCBuPWZ1bmN0aW9uKG8scyl7bGV0IGE9W10sbD1vLmxlbmd0aDtmb3IoO2wtLTspYVtsXT1zKG9bbF0pO3JldHVybiBhfSgodD10LnJlcGxhY2UobkUsXCIuXCIpKS5zcGxpdChcIi5cIiksZSkuam9pbihcIi5cIik7cmV0dXJuIGkrbn1mdW5jdGlvbiBZcCh0KXtsZXQgZT1bXSxyPTAsaT10Lmxlbmd0aDtmb3IoO3I8aTspe2xldCBuPXQuY2hhckNvZGVBdChyKyspO2lmKG4+PTU1Mjk2JiZuPD01NjMxOSYmcjxpKXtsZXQgbz10LmNoYXJDb2RlQXQocisrKTsoNjQ1MTImbyk9PTU2MzIwP2UucHVzaCgoKDEwMjMmbik8PDEwKSsoMTAyMyZvKSs2NTUzNik6KGUucHVzaChuKSxyLS0pO31lbHNlIGUucHVzaChuKTt9cmV0dXJuIGV9dmFyIHJFLGlFLG5FLHNFLGR0LEthLEtwLEpwLEdwLFFwLEt0LFhwPV9lKCgpPT57XygpO3YoKTttKCk7ckU9L154bi0tLyxpRT0vW15cXDAtXFx4N0VdLyxuRT0vW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLHNFPXtvdmVyZmxvdzpcIk92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzXCIsXCJub3QtYmFzaWNcIjpcIklsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludClcIixcImludmFsaWQtaW5wdXRcIjpcIkludmFsaWQgaW5wdXRcIn0sZHQ9TWF0aC5mbG9vcixLYT1TdHJpbmcuZnJvbUNoYXJDb2RlO0twPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrMjIrNzUqKHQ8MjYpLSgoZSE9MCk8PDUpfSxKcD1mdW5jdGlvbih0LGUscil7bGV0IGk9MDtmb3IodD1yP2R0KHQvNzAwKTp0Pj4xLHQrPWR0KHQvZSk7dD40NTU7aSs9MzYpdD1kdCh0LzM1KTtyZXR1cm4gZHQoaSszNip0Lyh0KzM4KSl9LEdwPWZ1bmN0aW9uKHQpe2xldCBlPVtdLHI9dC5sZW5ndGgsaT0wLG49MTI4LG89NzIscz10Lmxhc3RJbmRleE9mKFwiLVwiKTtzPDAmJihzPTApO2ZvcihsZXQgbD0wO2w8czsrK2wpdC5jaGFyQ29kZUF0KGwpPj0xMjgmJlJyKFwibm90LWJhc2ljXCIpLGUucHVzaCh0LmNoYXJDb2RlQXQobCkpO2ZvcihsZXQgbD1zPjA/cysxOjA7bDxyOyl7bGV0IGM9aTtmb3IobGV0IGQ9MSxnPTM2OztnKz0zNil7bD49ciYmUnIoXCJpbnZhbGlkLWlucHV0XCIpO2xldCB5PShhPXQuY2hhckNvZGVBdChsKyspKS00ODwxMD9hLTIyOmEtNjU8MjY/YS02NTphLTk3PDI2P2EtOTc6MzY7KHk+PTM2fHx5PmR0KCgyMTQ3NDgzNjQ3LWkpL2QpKSYmUnIoXCJvdmVyZmxvd1wiKSxpKz15KmQ7bGV0IHc9Zzw9bz8xOmc+PW8rMjY/MjY6Zy1vO2lmKHk8dylicmVhaztsZXQgUz0zNi13O2Q+ZHQoMjE0NzQ4MzY0Ny9TKSYmUnIoXCJvdmVyZmxvd1wiKSxkKj1TO31sZXQgaD1lLmxlbmd0aCsxO289SnAoaS1jLGgsYz09MCksZHQoaS9oKT4yMTQ3NDgzNjQ3LW4mJlJyKFwib3ZlcmZsb3dcIiksbis9ZHQoaS9oKSxpJT1oLGUuc3BsaWNlKGkrKywwLG4pO312YXIgYTtyZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uZSl9LFFwPWZ1bmN0aW9uKHQpe2xldCBlPVtdLHI9KHQ9WXAodCkpLmxlbmd0aCxpPTEyOCxuPTAsbz03Mjtmb3IobGV0IGwgb2YgdClsPDEyOCYmZS5wdXNoKEthKGwpKTtsZXQgcz1lLmxlbmd0aCxhPXM7Zm9yKHMmJmUucHVzaChcIi1cIik7YTxyOyl7bGV0IGw9MjE0NzQ4MzY0Nztmb3IobGV0IGggb2YgdCloPj1pJiZoPGwmJihsPWgpO2xldCBjPWErMTtsLWk+ZHQoKDIxNDc0ODM2NDctbikvYykmJlJyKFwib3ZlcmZsb3dcIiksbis9KGwtaSkqYyxpPWw7Zm9yKGxldCBoIG9mIHQpaWYoaDxpJiYrK24+MjE0NzQ4MzY0NyYmUnIoXCJvdmVyZmxvd1wiKSxoPT1pKXtsZXQgZD1uO2ZvcihsZXQgZz0zNjs7Zys9MzYpe2xldCB5PWc8PW8/MTpnPj1vKzI2PzI2OmctbztpZihkPHkpYnJlYWs7bGV0IHc9ZC15LFM9MzYteTtlLnB1c2goS2EoS3AoeSt3JVMsMCkpKSxkPWR0KHcvUyk7fWUucHVzaChLYShLcChkLDApKSksbz1KcChuLGMsYT09cyksbj0wLCsrYTt9KytuLCsraTt9cmV0dXJuIGUuam9pbihcIlwiKX0sS3Q9e3ZlcnNpb246XCIyLjEuMFwiLHVjczI6e2RlY29kZTpZcCxlbmNvZGU6dD0+U3RyaW5nLmZyb21Db2RlUG9pbnQoLi4udCl9LGRlY29kZTpHcCxlbmNvZGU6UXAsdG9BU0NJSTpmdW5jdGlvbih0KXtyZXR1cm4genAodCxmdW5jdGlvbihlKXtyZXR1cm4gaUUudGVzdChlKT9cInhuLS1cIitRcChlKTplfSl9LHRvVW5pY29kZTpmdW5jdGlvbih0KXtyZXR1cm4genAodCxmdW5jdGlvbihlKXtyZXR1cm4gckUudGVzdChlKT9HcChlLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpOmV9KX19O0t0LmRlY29kZTtLdC5lbmNvZGU7S3QudG9BU0NJSTtLdC50b1VuaWNvZGU7S3QudWNzMjtLdC52ZXJzaW9uO30pO2Z1bmN0aW9uIG9FKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfXZhciBhRSxNaSxsRSxwdCxacD1fZSgoKT0+e18oKTt2KCk7bSgpO2FFPWZ1bmN0aW9uKHQsZSxyLGkpe2U9ZXx8XCImXCIscj1yfHxcIj1cIjt2YXIgbj17fTtpZih0eXBlb2YgdCE9XCJzdHJpbmdcInx8dC5sZW5ndGg9PT0wKXJldHVybiBuO3ZhciBvPS9cXCsvZzt0PXQuc3BsaXQoZSk7dmFyIHM9MWUzO2kmJnR5cGVvZiBpLm1heEtleXM9PVwibnVtYmVyXCImJihzPWkubWF4S2V5cyk7dmFyIGE9dC5sZW5ndGg7cz4wJiZhPnMmJihhPXMpO2Zvcih2YXIgbD0wO2w8YTsrK2wpe3ZhciBjLGgsZCxnLHk9dFtsXS5yZXBsYWNlKG8sXCIlMjBcIiksdz15LmluZGV4T2Yocik7dz49MD8oYz15LnN1YnN0cigwLHcpLGg9eS5zdWJzdHIodysxKSk6KGM9eSxoPVwiXCIpLGQ9ZGVjb2RlVVJJQ29tcG9uZW50KGMpLGc9ZGVjb2RlVVJJQ29tcG9uZW50KGgpLG9FKG4sZCk/QXJyYXkuaXNBcnJheShuW2RdKT9uW2RdLnB1c2goZyk6bltkXT1bbltkXSxnXTpuW2RdPWc7fXJldHVybiBufSxNaT1mdW5jdGlvbih0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOnJldHVybiB0O2Nhc2VcImJvb2xlYW5cIjpyZXR1cm4gdD9cInRydWVcIjpcImZhbHNlXCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGlzRmluaXRlKHQpP3Q6XCJcIjtkZWZhdWx0OnJldHVybiBcIlwifX0sbEU9ZnVuY3Rpb24odCxlLHIsaSl7cmV0dXJuIGU9ZXx8XCImXCIscj1yfHxcIj1cIix0PT09bnVsbCYmKHQ9dm9pZCAwKSx0eXBlb2YgdD09XCJvYmplY3RcIj9PYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24obil7dmFyIG89ZW5jb2RlVVJJQ29tcG9uZW50KE1pKG4pKStyO3JldHVybiBBcnJheS5pc0FycmF5KHRbbl0pP3Rbbl0ubWFwKGZ1bmN0aW9uKHMpe3JldHVybiBvK2VuY29kZVVSSUNvbXBvbmVudChNaShzKSl9KS5qb2luKGUpOm8rZW5jb2RlVVJJQ29tcG9uZW50KE1pKHRbbl0pKX0pLmpvaW4oZSk6aT9lbmNvZGVVUklDb21wb25lbnQoTWkoaSkpK3IrZW5jb2RlVVJJQ29tcG9uZW50KE1pKHQpKTpcIlwifSxwdD17fTtwdC5kZWNvZGU9cHQucGFyc2U9YUUscHQuZW5jb2RlPXB0LnN0cmluZ2lmeT1sRTtwdC5kZWNvZGU7cHQuZW5jb2RlO3B0LnBhcnNlO3B0LnN0cmluZ2lmeTt9KTtmdW5jdGlvbiBHYSgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gUWEoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcmcodCl7aWYoUHQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKFB0PT09R2F8fCFQdCkmJnNldFRpbWVvdXQpcmV0dXJuIFB0PXNldFRpbWVvdXQsc2V0VGltZW91dCh0LDApO3RyeXtyZXR1cm4gUHQodCwwKX1jYXRjaHt0cnl7cmV0dXJuIFB0LmNhbGwobnVsbCx0LDApfWNhdGNoe3JldHVybiBQdC5jYWxsKHRoaXN8fHNpLHQsMCl9fX1mdW5jdGlvbiB1RSgpe25pJiZDciYmKG5pPSExLENyLmxlbmd0aD9PdD1Dci5jb25jYXQoT3QpOmFzPS0xLE90Lmxlbmd0aCYmaWcoKSk7fWZ1bmN0aW9uIGlnKCl7aWYoIW5pKXt2YXIgdD1yZyh1RSk7bmk9ITA7Zm9yKHZhciBlPU90Lmxlbmd0aDtlOyl7Zm9yKENyPU90LE90PVtdOysrYXM8ZTspQ3ImJkNyW2FzXS5ydW4oKTthcz0tMSxlPU90Lmxlbmd0aDt9Q3I9bnVsbCxuaT0hMSxmdW5jdGlvbihyKXtpZihrdD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHIpO2lmKChrdD09PVFhfHwha3QpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGt0PWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQocik7dHJ5e2t0KHIpO31jYXRjaHt0cnl7cmV0dXJuIGt0LmNhbGwobnVsbCxyKX1jYXRjaHtyZXR1cm4ga3QuY2FsbCh0aGlzfHxzaSxyKX19fSh0KTt9fWZ1bmN0aW9uIGVnKHQsZSl7KHRoaXN8fHNpKS5mdW49dCwodGhpc3x8c2kpLmFycmF5PWU7fWZ1bmN0aW9uIEJ0KCl7fXZhciB0ZyxQdCxrdCxzaSxmZSxDcixPdCxuaSxhcyxuZSxuZz1fZSgoKT0+e18oKTt2KCk7bSgpO3NpPXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjpnbG9iYWwsZmU9dGc9e307KGZ1bmN0aW9uKCl7dHJ5e1B0PXR5cGVvZiBzZXRUaW1lb3V0PT1cImZ1bmN0aW9uXCI/c2V0VGltZW91dDpHYTt9Y2F0Y2h7UHQ9R2E7fXRyeXtrdD10eXBlb2YgY2xlYXJUaW1lb3V0PT1cImZ1bmN0aW9uXCI/Y2xlYXJUaW1lb3V0OlFhO31jYXRjaHtrdD1RYTt9fSkoKTtPdD1bXSxuaT0hMSxhcz0tMTtmZS5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO090LnB1c2gobmV3IGVnKHQsZSkpLE90Lmxlbmd0aCE9PTF8fG5pfHxyZyhpZyk7fSxlZy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7KHRoaXN8fHNpKS5mdW4uYXBwbHkobnVsbCwodGhpc3x8c2kpLmFycmF5KTt9LGZlLnRpdGxlPVwiYnJvd3NlclwiLGZlLmJyb3dzZXI9ITAsZmUuZW52PXt9LGZlLmFyZ3Y9W10sZmUudmVyc2lvbj1cIlwiLGZlLnZlcnNpb25zPXt9LGZlLm9uPUJ0LGZlLmFkZExpc3RlbmVyPUJ0LGZlLm9uY2U9QnQsZmUub2ZmPUJ0LGZlLnJlbW92ZUxpc3RlbmVyPUJ0LGZlLnJlbW92ZUFsbExpc3RlbmVycz1CdCxmZS5lbWl0PUJ0LGZlLnByZXBlbmRMaXN0ZW5lcj1CdCxmZS5wcmVwZW5kT25jZUxpc3RlbmVyPUJ0LGZlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gW119LGZlLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGZlLmN3ZD1mdW5jdGlvbigpe3JldHVybiBcIi9cIn0sZmUuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxmZS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfTtuZT10ZztuZS5hZGRMaXN0ZW5lcjtuZS5hcmd2O25lLmJpbmRpbmc7bmUuYnJvd3NlcjtuZS5jaGRpcjtuZS5jd2Q7bmUuZW1pdDtuZS5lbnY7bmUubGlzdGVuZXJzO25lLm5leHRUaWNrO25lLm9mZjtuZS5vbjtuZS5vbmNlO25lLnByZXBlbmRMaXN0ZW5lcjtuZS5wcmVwZW5kT25jZUxpc3RlbmVyO25lLnJlbW92ZUFsbExpc3RlbmVycztuZS5yZW1vdmVMaXN0ZW5lcjtuZS50aXRsZTtuZS51bWFzaztuZS52ZXJzaW9uO25lLnZlcnNpb25zO30pO2Z1bmN0aW9uIGZFKCl7aWYoc2cpcmV0dXJuIFlhO3NnPSEwO3ZhciB0PVlhPXt9LGUscjtmdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBuKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXt0eXBlb2Ygc2V0VGltZW91dD09XCJmdW5jdGlvblwiP2U9c2V0VGltZW91dDplPWk7fWNhdGNoe2U9aTt9dHJ5e3R5cGVvZiBjbGVhclRpbWVvdXQ9PVwiZnVuY3Rpb25cIj9yPWNsZWFyVGltZW91dDpyPW47fWNhdGNoe3I9bjt9fSkoKTtmdW5jdGlvbiBvKFMpe2lmKGU9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KFMsMCk7aWYoKGU9PT1pfHwhZSkmJnNldFRpbWVvdXQpcmV0dXJuIGU9c2V0VGltZW91dCxzZXRUaW1lb3V0KFMsMCk7dHJ5e3JldHVybiBlKFMsMCl9Y2F0Y2h7dHJ5e3JldHVybiBlLmNhbGwobnVsbCxTLDApfWNhdGNoe3JldHVybiBlLmNhbGwodGhpc3x8b2ksUywwKX19fWZ1bmN0aW9uIHMoUyl7aWYocj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KFMpO2lmKChyPT09bnx8IXIpJiZjbGVhclRpbWVvdXQpcmV0dXJuIHI9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChTKTt0cnl7cmV0dXJuIHIoUyl9Y2F0Y2h7dHJ5e3JldHVybiByLmNhbGwobnVsbCxTKX1jYXRjaHtyZXR1cm4gci5jYWxsKHRoaXN8fG9pLFMpfX19dmFyIGE9W10sbD0hMSxjLGg9LTE7ZnVuY3Rpb24gZCgpeyFsfHwhY3x8KGw9ITEsYy5sZW5ndGg/YT1jLmNvbmNhdChhKTpoPS0xLGEubGVuZ3RoJiZnKCkpO31mdW5jdGlvbiBnKCl7aWYoIWwpe3ZhciBTPW8oZCk7bD0hMDtmb3IodmFyIEU9YS5sZW5ndGg7RTspe2ZvcihjPWEsYT1bXTsrK2g8RTspYyYmY1toXS5ydW4oKTtoPS0xLEU9YS5sZW5ndGg7fWM9bnVsbCxsPSExLHMoUyk7fX10Lm5leHRUaWNrPWZ1bmN0aW9uKFMpe3ZhciBFPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIEk9MTtJPGFyZ3VtZW50cy5sZW5ndGg7SSsrKUVbSS0xXT1hcmd1bWVudHNbSV07YS5wdXNoKG5ldyB5KFMsRSkpLGEubGVuZ3RoPT09MSYmIWwmJm8oZyk7fTtmdW5jdGlvbiB5KFMsRSl7KHRoaXN8fG9pKS5mdW49UywodGhpc3x8b2kpLmFycmF5PUU7fXkucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpeyh0aGlzfHxvaSkuZnVuLmFwcGx5KG51bGwsKHRoaXN8fG9pKS5hcnJheSk7fSx0LnRpdGxlPVwiYnJvd3NlclwiLHQuYnJvd3Nlcj0hMCx0LmVudj17fSx0LmFyZ3Y9W10sdC52ZXJzaW9uPVwiXCIsdC52ZXJzaW9ucz17fTtmdW5jdGlvbiB3KCl7fXJldHVybiB0Lm9uPXcsdC5hZGRMaXN0ZW5lcj13LHQub25jZT13LHQub2ZmPXcsdC5yZW1vdmVMaXN0ZW5lcj13LHQucmVtb3ZlQWxsTGlzdGVuZXJzPXcsdC5lbWl0PXcsdC5wcmVwZW5kTGlzdGVuZXI9dyx0LnByZXBlbmRPbmNlTGlzdGVuZXI9dyx0Lmxpc3RlbmVycz1mdW5jdGlvbihTKXtyZXR1cm4gW119LHQuYmluZGluZz1mdW5jdGlvbihTKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sdC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4gXCIvXCJ9LHQuY2hkaXI9ZnVuY3Rpb24oUyl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSx0LnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LFlhfXZhciBZYSxzZyxvaSxyZSxKYT1fZSgoKT0+e18oKTt2KCk7bSgpO1lhPXt9LHNnPSExLG9pPXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHlwZW9mIHNlbGY8XCJ1XCI/c2VsZjpnbG9iYWw7cmU9ZkUoKTtyZS5wbGF0Zm9ybT1cImJyb3dzZXJcIjtyZS5hZGRMaXN0ZW5lcjtyZS5hcmd2O3JlLmJpbmRpbmc7cmUuYnJvd3NlcjtyZS5jaGRpcjtyZS5jd2Q7cmUuZW1pdDtyZS5lbnY7cmUubGlzdGVuZXJzO3JlLm5leHRUaWNrO3JlLm9mZjtyZS5vbjtyZS5vbmNlO3JlLnByZXBlbmRMaXN0ZW5lcjtyZS5wcmVwZW5kT25jZUxpc3RlbmVyO3JlLnJlbW92ZUFsbExpc3RlbmVycztyZS5yZW1vdmVMaXN0ZW5lcjtyZS50aXRsZTtyZS51bWFzaztyZS52ZXJzaW9uO3JlLnZlcnNpb25zO30pO2Z1bmN0aW9uIGNFKCl7aWYob2cpcmV0dXJuIFhhO29nPSEwO3ZhciB0PXJlO2Z1bmN0aW9uIGUobyl7aWYodHlwZW9mIG8hPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkobykpfWZ1bmN0aW9uIHIobyxzKXtmb3IodmFyIGE9XCJcIixsPTAsYz0tMSxoPTAsZCxnPTA7Zzw9by5sZW5ndGg7KytnKXtpZihnPG8ubGVuZ3RoKWQ9by5jaGFyQ29kZUF0KGcpO2Vsc2Uge2lmKGQ9PT00NylicmVhaztkPTQ3O31pZihkPT09NDcpe2lmKCEoYz09PWctMXx8aD09PTEpKWlmKGMhPT1nLTEmJmg9PT0yKXtpZihhLmxlbmd0aDwyfHxsIT09Mnx8YS5jaGFyQ29kZUF0KGEubGVuZ3RoLTEpIT09NDZ8fGEuY2hhckNvZGVBdChhLmxlbmd0aC0yKSE9PTQ2KXtpZihhLmxlbmd0aD4yKXt2YXIgeT1hLmxhc3RJbmRleE9mKFwiL1wiKTtpZih5IT09YS5sZW5ndGgtMSl7eT09PS0xPyhhPVwiXCIsbD0wKTooYT1hLnNsaWNlKDAseSksbD1hLmxlbmd0aC0xLWEubGFzdEluZGV4T2YoXCIvXCIpKSxjPWcsaD0wO2NvbnRpbnVlfX1lbHNlIGlmKGEubGVuZ3RoPT09Mnx8YS5sZW5ndGg9PT0xKXthPVwiXCIsbD0wLGM9ZyxoPTA7Y29udGludWV9fXMmJihhLmxlbmd0aD4wP2ErPVwiLy4uXCI6YT1cIi4uXCIsbD0yKTt9ZWxzZSBhLmxlbmd0aD4wP2ErPVwiL1wiK28uc2xpY2UoYysxLGcpOmE9by5zbGljZShjKzEsZyksbD1nLWMtMTtjPWcsaD0wO31lbHNlIGQ9PT00NiYmaCE9PS0xPysraDpoPS0xO31yZXR1cm4gYX1mdW5jdGlvbiBpKG8scyl7dmFyIGE9cy5kaXJ8fHMucm9vdCxsPXMuYmFzZXx8KHMubmFtZXx8XCJcIikrKHMuZXh0fHxcIlwiKTtyZXR1cm4gYT9hPT09cy5yb290P2ErbDphK28rbDpsfXZhciBuPXtyZXNvbHZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBzPVwiXCIsYT0hMSxsLGM9YXJndW1lbnRzLmxlbmd0aC0xO2M+PS0xJiYhYTtjLS0pe3ZhciBoO2M+PTA/aD1hcmd1bWVudHNbY106KGw9PT12b2lkIDAmJihsPXQuY3dkKCkpLGg9bCksZShoKSxoLmxlbmd0aCE9PTAmJihzPWgrXCIvXCIrcyxhPWguY2hhckNvZGVBdCgwKT09PTQ3KTt9cmV0dXJuIHM9cihzLCFhKSxhP3MubGVuZ3RoPjA/XCIvXCIrczpcIi9cIjpzLmxlbmd0aD4wP3M6XCIuXCJ9LG5vcm1hbGl6ZTpmdW5jdGlvbihzKXtpZihlKHMpLHMubGVuZ3RoPT09MClyZXR1cm4gXCIuXCI7dmFyIGE9cy5jaGFyQ29kZUF0KDApPT09NDcsbD1zLmNoYXJDb2RlQXQocy5sZW5ndGgtMSk9PT00NztyZXR1cm4gcz1yKHMsIWEpLHMubGVuZ3RoPT09MCYmIWEmJihzPVwiLlwiKSxzLmxlbmd0aD4wJiZsJiYocys9XCIvXCIpLGE/XCIvXCIrczpzfSxpc0Fic29sdXRlOmZ1bmN0aW9uKHMpe3JldHVybiBlKHMpLHMubGVuZ3RoPjAmJnMuY2hhckNvZGVBdCgwKT09PTQ3fSxqb2luOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIFwiLlwiO2Zvcih2YXIgcyxhPTA7YTxhcmd1bWVudHMubGVuZ3RoOysrYSl7dmFyIGw9YXJndW1lbnRzW2FdO2UobCksbC5sZW5ndGg+MCYmKHM9PT12b2lkIDA/cz1sOnMrPVwiL1wiK2wpO31yZXR1cm4gcz09PXZvaWQgMD9cIi5cIjpuLm5vcm1hbGl6ZShzKX0scmVsYXRpdmU6ZnVuY3Rpb24ocyxhKXtpZihlKHMpLGUoYSkscz09PWF8fChzPW4ucmVzb2x2ZShzKSxhPW4ucmVzb2x2ZShhKSxzPT09YSkpcmV0dXJuIFwiXCI7Zm9yKHZhciBsPTE7bDxzLmxlbmd0aCYmcy5jaGFyQ29kZUF0KGwpPT09NDc7KytsKTtmb3IodmFyIGM9cy5sZW5ndGgsaD1jLWwsZD0xO2Q8YS5sZW5ndGgmJmEuY2hhckNvZGVBdChkKT09PTQ3OysrZCk7Zm9yKHZhciBnPWEubGVuZ3RoLHk9Zy1kLHc9aDx5P2g6eSxTPS0xLEU9MDtFPD13OysrRSl7aWYoRT09PXcpe2lmKHk+dyl7aWYoYS5jaGFyQ29kZUF0KGQrRSk9PT00NylyZXR1cm4gYS5zbGljZShkK0UrMSk7aWYoRT09PTApcmV0dXJuIGEuc2xpY2UoZCtFKX1lbHNlIGg+dyYmKHMuY2hhckNvZGVBdChsK0UpPT09NDc/Uz1FOkU9PT0wJiYoUz0wKSk7YnJlYWt9dmFyIEk9cy5jaGFyQ29kZUF0KGwrRSksQz1hLmNoYXJDb2RlQXQoZCtFKTtpZihJIT09QylicmVhaztJPT09NDcmJihTPUUpO312YXIgUj1cIlwiO2ZvcihFPWwrUysxO0U8PWM7KytFKShFPT09Y3x8cy5jaGFyQ29kZUF0KEUpPT09NDcpJiYoUi5sZW5ndGg9PT0wP1IrPVwiLi5cIjpSKz1cIi8uLlwiKTtyZXR1cm4gUi5sZW5ndGg+MD9SK2Euc2xpY2UoZCtTKTooZCs9UyxhLmNoYXJDb2RlQXQoZCk9PT00NyYmKytkLGEuc2xpY2UoZCkpfSxfbWFrZUxvbmc6ZnVuY3Rpb24ocyl7cmV0dXJuIHN9LGRpcm5hbWU6ZnVuY3Rpb24ocyl7aWYoZShzKSxzLmxlbmd0aD09PTApcmV0dXJuIFwiLlwiO2Zvcih2YXIgYT1zLmNoYXJDb2RlQXQoMCksbD1hPT09NDcsYz0tMSxoPSEwLGQ9cy5sZW5ndGgtMTtkPj0xOy0tZClpZihhPXMuY2hhckNvZGVBdChkKSxhPT09NDcpe2lmKCFoKXtjPWQ7YnJlYWt9fWVsc2UgaD0hMTtyZXR1cm4gYz09PS0xP2w/XCIvXCI6XCIuXCI6bCYmYz09PTE/XCIvL1wiOnMuc2xpY2UoMCxjKX0sYmFzZW5hbWU6ZnVuY3Rpb24ocyxhKXtpZihhIT09dm9pZCAwJiZ0eXBlb2YgYSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdcImV4dFwiIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnKTtlKHMpO3ZhciBsPTAsYz0tMSxoPSEwLGQ7aWYoYSE9PXZvaWQgMCYmYS5sZW5ndGg+MCYmYS5sZW5ndGg8PXMubGVuZ3RoKXtpZihhLmxlbmd0aD09PXMubGVuZ3RoJiZhPT09cylyZXR1cm4gXCJcIjt2YXIgZz1hLmxlbmd0aC0xLHk9LTE7Zm9yKGQ9cy5sZW5ndGgtMTtkPj0wOy0tZCl7dmFyIHc9cy5jaGFyQ29kZUF0KGQpO2lmKHc9PT00Nyl7aWYoIWgpe2w9ZCsxO2JyZWFrfX1lbHNlIHk9PT0tMSYmKGg9ITEseT1kKzEpLGc+PTAmJih3PT09YS5jaGFyQ29kZUF0KGcpPy0tZz09PS0xJiYoYz1kKTooZz0tMSxjPXkpKTt9cmV0dXJuIGw9PT1jP2M9eTpjPT09LTEmJihjPXMubGVuZ3RoKSxzLnNsaWNlKGwsYyl9ZWxzZSB7Zm9yKGQ9cy5sZW5ndGgtMTtkPj0wOy0tZClpZihzLmNoYXJDb2RlQXQoZCk9PT00Nyl7aWYoIWgpe2w9ZCsxO2JyZWFrfX1lbHNlIGM9PT0tMSYmKGg9ITEsYz1kKzEpO3JldHVybiBjPT09LTE/XCJcIjpzLnNsaWNlKGwsYyl9fSxleHRuYW1lOmZ1bmN0aW9uKHMpe2Uocyk7Zm9yKHZhciBhPS0xLGw9MCxjPS0xLGg9ITAsZD0wLGc9cy5sZW5ndGgtMTtnPj0wOy0tZyl7dmFyIHk9cy5jaGFyQ29kZUF0KGcpO2lmKHk9PT00Nyl7aWYoIWgpe2w9ZysxO2JyZWFrfWNvbnRpbnVlfWM9PT0tMSYmKGg9ITEsYz1nKzEpLHk9PT00Nj9hPT09LTE/YT1nOmQhPT0xJiYoZD0xKTphIT09LTEmJihkPS0xKTt9cmV0dXJuIGE9PT0tMXx8Yz09PS0xfHxkPT09MHx8ZD09PTEmJmE9PT1jLTEmJmE9PT1sKzE/XCJcIjpzLnNsaWNlKGEsYyl9LGZvcm1hdDpmdW5jdGlvbihzKXtpZihzPT09bnVsbHx8dHlwZW9mIHMhPVwib2JqZWN0XCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwicGF0aE9iamVjdFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2Ygcyk7cmV0dXJuIGkoXCIvXCIscyl9LHBhcnNlOmZ1bmN0aW9uKHMpe2Uocyk7dmFyIGE9e3Jvb3Q6XCJcIixkaXI6XCJcIixiYXNlOlwiXCIsZXh0OlwiXCIsbmFtZTpcIlwifTtpZihzLmxlbmd0aD09PTApcmV0dXJuIGE7dmFyIGw9cy5jaGFyQ29kZUF0KDApLGM9bD09PTQ3LGg7Yz8oYS5yb290PVwiL1wiLGg9MSk6aD0wO2Zvcih2YXIgZD0tMSxnPTAseT0tMSx3PSEwLFM9cy5sZW5ndGgtMSxFPTA7Uz49aDstLVMpe2lmKGw9cy5jaGFyQ29kZUF0KFMpLGw9PT00Nyl7aWYoIXcpe2c9UysxO2JyZWFrfWNvbnRpbnVlfXk9PT0tMSYmKHc9ITEseT1TKzEpLGw9PT00Nj9kPT09LTE/ZD1TOkUhPT0xJiYoRT0xKTpkIT09LTEmJihFPS0xKTt9cmV0dXJuIGQ9PT0tMXx8eT09PS0xfHxFPT09MHx8RT09PTEmJmQ9PT15LTEmJmQ9PT1nKzE/eSE9PS0xJiYoZz09PTAmJmM/YS5iYXNlPWEubmFtZT1zLnNsaWNlKDEseSk6YS5iYXNlPWEubmFtZT1zLnNsaWNlKGcseSkpOihnPT09MCYmYz8oYS5uYW1lPXMuc2xpY2UoMSxkKSxhLmJhc2U9cy5zbGljZSgxLHkpKTooYS5uYW1lPXMuc2xpY2UoZyxkKSxhLmJhc2U9cy5zbGljZShnLHkpKSxhLmV4dD1zLnNsaWNlKGQseSkpLGc+MD9hLmRpcj1zLnNsaWNlKDAsZy0xKTpjJiYoYS5kaXI9XCIvXCIpLGF9LHNlcDpcIi9cIixkZWxpbWl0ZXI6XCI6XCIsd2luMzI6bnVsbCxwb3NpeDpudWxsfTtyZXR1cm4gbi5wb3NpeD1uLFhhPW4sWGF9dmFyIFhhLG9nLFphLGFnPV9lKCgpPT57XygpO3YoKTttKCk7SmEoKTtYYT17fSxvZz0hMTtaYT1jRSgpO30pO3ZhciBnZz17fTtKdChnZyx7VVJMOigpPT5GRSxVcmw6KCk9PlVFLGRlZmF1bHQ6KCk9PlosZmlsZVVSTFRvUGF0aDooKT0+ZGcsZm9ybWF0OigpPT5ORSxwYXJzZTooKT0+akUscGF0aFRvRmlsZVVSTDooKT0+cGcscmVzb2x2ZTooKT0+cUUscmVzb2x2ZU9iamVjdDooKT0+REV9KTtmdW5jdGlvbiBGZSgpe3RoaXMucHJvdG9jb2w9bnVsbCx0aGlzLnNsYXNoZXM9bnVsbCx0aGlzLmF1dGg9bnVsbCx0aGlzLmhvc3Q9bnVsbCx0aGlzLnBvcnQ9bnVsbCx0aGlzLmhvc3RuYW1lPW51bGwsdGhpcy5oYXNoPW51bGwsdGhpcy5zZWFyY2g9bnVsbCx0aGlzLnF1ZXJ5PW51bGwsdGhpcy5wYXRobmFtZT1udWxsLHRoaXMucGF0aD1udWxsLHRoaXMuaHJlZj1udWxsO31mdW5jdGlvbiBMaSh0LGUscil7aWYodCYmZ3QuaXNPYmplY3QodCkmJnQgaW5zdGFuY2VvZiBGZSlyZXR1cm4gdDt2YXIgaT1uZXcgRmU7cmV0dXJuIGkucGFyc2UodCxlLHIpLGl9ZnVuY3Rpb24gX0UoKXtpZihjZylyZXR1cm4gcmw7Y2c9ITA7dmFyIHQ9bmU7ZnVuY3Rpb24gZShvKXtpZih0eXBlb2YgbyE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGF0aCBtdXN0IGJlIGEgc3RyaW5nLiBSZWNlaXZlZCBcIitKU09OLnN0cmluZ2lmeShvKSl9ZnVuY3Rpb24gcihvLHMpe2Zvcih2YXIgYT1cIlwiLGw9MCxjPS0xLGg9MCxkLGc9MDtnPD1vLmxlbmd0aDsrK2cpe2lmKGc8by5sZW5ndGgpZD1vLmNoYXJDb2RlQXQoZyk7ZWxzZSB7aWYoZD09PTQ3KWJyZWFrO2Q9NDc7fWlmKGQ9PT00Nyl7aWYoIShjPT09Zy0xfHxoPT09MSkpaWYoYyE9PWctMSYmaD09PTIpe2lmKGEubGVuZ3RoPDJ8fGwhPT0yfHxhLmNoYXJDb2RlQXQoYS5sZW5ndGgtMSkhPT00Nnx8YS5jaGFyQ29kZUF0KGEubGVuZ3RoLTIpIT09NDYpe2lmKGEubGVuZ3RoPjIpe3ZhciB5PWEubGFzdEluZGV4T2YoXCIvXCIpO2lmKHkhPT1hLmxlbmd0aC0xKXt5PT09LTE/KGE9XCJcIixsPTApOihhPWEuc2xpY2UoMCx5KSxsPWEubGVuZ3RoLTEtYS5sYXN0SW5kZXhPZihcIi9cIikpLGM9ZyxoPTA7Y29udGludWV9fWVsc2UgaWYoYS5sZW5ndGg9PT0yfHxhLmxlbmd0aD09PTEpe2E9XCJcIixsPTAsYz1nLGg9MDtjb250aW51ZX19cyYmKGEubGVuZ3RoPjA/YSs9XCIvLi5cIjphPVwiLi5cIixsPTIpO31lbHNlIGEubGVuZ3RoPjA/YSs9XCIvXCIrby5zbGljZShjKzEsZyk6YT1vLnNsaWNlKGMrMSxnKSxsPWctYy0xO2M9ZyxoPTA7fWVsc2UgZD09PTQ2JiZoIT09LTE/KytoOmg9LTE7fXJldHVybiBhfWZ1bmN0aW9uIGkobyxzKXt2YXIgYT1zLmRpcnx8cy5yb290LGw9cy5iYXNlfHwocy5uYW1lfHxcIlwiKSsocy5leHR8fFwiXCIpO3JldHVybiBhP2E9PT1zLnJvb3Q/YStsOmErbytsOmx9dmFyIG49e3Jlc29sdmU6ZnVuY3Rpb24oKXtmb3IodmFyIHM9XCJcIixhPSExLGwsYz1hcmd1bWVudHMubGVuZ3RoLTE7Yz49LTEmJiFhO2MtLSl7dmFyIGg7Yz49MD9oPWFyZ3VtZW50c1tjXToobD09PXZvaWQgMCYmKGw9dC5jd2QoKSksaD1sKSxlKGgpLGgubGVuZ3RoIT09MCYmKHM9aCtcIi9cIitzLGE9aC5jaGFyQ29kZUF0KDApPT09NDcpO31yZXR1cm4gcz1yKHMsIWEpLGE/cy5sZW5ndGg+MD9cIi9cIitzOlwiL1wiOnMubGVuZ3RoPjA/czpcIi5cIn0sbm9ybWFsaXplOmZ1bmN0aW9uKHMpe2lmKGUocykscy5sZW5ndGg9PT0wKXJldHVybiBcIi5cIjt2YXIgYT1zLmNoYXJDb2RlQXQoMCk9PT00NyxsPXMuY2hhckNvZGVBdChzLmxlbmd0aC0xKT09PTQ3O3JldHVybiBzPXIocywhYSkscy5sZW5ndGg9PT0wJiYhYSYmKHM9XCIuXCIpLHMubGVuZ3RoPjAmJmwmJihzKz1cIi9cIiksYT9cIi9cIitzOnN9LGlzQWJzb2x1dGU6ZnVuY3Rpb24ocyl7cmV0dXJuIGUocykscy5sZW5ndGg+MCYmcy5jaGFyQ29kZUF0KDApPT09NDd9LGpvaW46ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gXCIuXCI7Zm9yKHZhciBzLGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7KythKXt2YXIgbD1hcmd1bWVudHNbYV07ZShsKSxsLmxlbmd0aD4wJiYocz09PXZvaWQgMD9zPWw6cys9XCIvXCIrbCk7fXJldHVybiBzPT09dm9pZCAwP1wiLlwiOm4ubm9ybWFsaXplKHMpfSxyZWxhdGl2ZTpmdW5jdGlvbihzLGEpe2lmKGUocyksZShhKSxzPT09YXx8KHM9bi5yZXNvbHZlKHMpLGE9bi5yZXNvbHZlKGEpLHM9PT1hKSlyZXR1cm4gXCJcIjtmb3IodmFyIGw9MTtsPHMubGVuZ3RoJiZzLmNoYXJDb2RlQXQobCk9PT00NzsrK2wpO2Zvcih2YXIgYz1zLmxlbmd0aCxoPWMtbCxkPTE7ZDxhLmxlbmd0aCYmYS5jaGFyQ29kZUF0KGQpPT09NDc7KytkKTtmb3IodmFyIGc9YS5sZW5ndGgseT1nLWQsdz1oPHk/aDp5LFM9LTEsRT0wO0U8PXc7KytFKXtpZihFPT09dyl7aWYoeT53KXtpZihhLmNoYXJDb2RlQXQoZCtFKT09PTQ3KXJldHVybiBhLnNsaWNlKGQrRSsxKTtpZihFPT09MClyZXR1cm4gYS5zbGljZShkK0UpfWVsc2UgaD53JiYocy5jaGFyQ29kZUF0KGwrRSk9PT00Nz9TPUU6RT09PTAmJihTPTApKTticmVha312YXIgST1zLmNoYXJDb2RlQXQobCtFKSxDPWEuY2hhckNvZGVBdChkK0UpO2lmKEkhPT1DKWJyZWFrO0k9PT00NyYmKFM9RSk7fXZhciBSPVwiXCI7Zm9yKEU9bCtTKzE7RTw9YzsrK0UpKEU9PT1jfHxzLmNoYXJDb2RlQXQoRSk9PT00NykmJihSLmxlbmd0aD09PTA/Uis9XCIuLlwiOlIrPVwiLy4uXCIpO3JldHVybiBSLmxlbmd0aD4wP1IrYS5zbGljZShkK1MpOihkKz1TLGEuY2hhckNvZGVBdChkKT09PTQ3JiYrK2QsYS5zbGljZShkKSl9LF9tYWtlTG9uZzpmdW5jdGlvbihzKXtyZXR1cm4gc30sZGlybmFtZTpmdW5jdGlvbihzKXtpZihlKHMpLHMubGVuZ3RoPT09MClyZXR1cm4gXCIuXCI7Zm9yKHZhciBhPXMuY2hhckNvZGVBdCgwKSxsPWE9PT00NyxjPS0xLGg9ITAsZD1zLmxlbmd0aC0xO2Q+PTE7LS1kKWlmKGE9cy5jaGFyQ29kZUF0KGQpLGE9PT00Nyl7aWYoIWgpe2M9ZDticmVha319ZWxzZSBoPSExO3JldHVybiBjPT09LTE/bD9cIi9cIjpcIi5cIjpsJiZjPT09MT9cIi8vXCI6cy5zbGljZSgwLGMpfSxiYXNlbmFtZTpmdW5jdGlvbihzLGEpe2lmKGEhPT12b2lkIDAmJnR5cGVvZiBhIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZXh0XCIgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZycpO2Uocyk7dmFyIGw9MCxjPS0xLGg9ITAsZDtpZihhIT09dm9pZCAwJiZhLmxlbmd0aD4wJiZhLmxlbmd0aDw9cy5sZW5ndGgpe2lmKGEubGVuZ3RoPT09cy5sZW5ndGgmJmE9PT1zKXJldHVybiBcIlwiO3ZhciBnPWEubGVuZ3RoLTEseT0tMTtmb3IoZD1zLmxlbmd0aC0xO2Q+PTA7LS1kKXt2YXIgdz1zLmNoYXJDb2RlQXQoZCk7aWYodz09PTQ3KXtpZighaCl7bD1kKzE7YnJlYWt9fWVsc2UgeT09PS0xJiYoaD0hMSx5PWQrMSksZz49MCYmKHc9PT1hLmNoYXJDb2RlQXQoZyk/LS1nPT09LTEmJihjPWQpOihnPS0xLGM9eSkpO31yZXR1cm4gbD09PWM/Yz15OmM9PT0tMSYmKGM9cy5sZW5ndGgpLHMuc2xpY2UobCxjKX1lbHNlIHtmb3IoZD1zLmxlbmd0aC0xO2Q+PTA7LS1kKWlmKHMuY2hhckNvZGVBdChkKT09PTQ3KXtpZighaCl7bD1kKzE7YnJlYWt9fWVsc2UgYz09PS0xJiYoaD0hMSxjPWQrMSk7cmV0dXJuIGM9PT0tMT9cIlwiOnMuc2xpY2UobCxjKX19LGV4dG5hbWU6ZnVuY3Rpb24ocyl7ZShzKTtmb3IodmFyIGE9LTEsbD0wLGM9LTEsaD0hMCxkPTAsZz1zLmxlbmd0aC0xO2c+PTA7LS1nKXt2YXIgeT1zLmNoYXJDb2RlQXQoZyk7aWYoeT09PTQ3KXtpZighaCl7bD1nKzE7YnJlYWt9Y29udGludWV9Yz09PS0xJiYoaD0hMSxjPWcrMSkseT09PTQ2P2E9PT0tMT9hPWc6ZCE9PTEmJihkPTEpOmEhPT0tMSYmKGQ9LTEpO31yZXR1cm4gYT09PS0xfHxjPT09LTF8fGQ9PT0wfHxkPT09MSYmYT09PWMtMSYmYT09PWwrMT9cIlwiOnMuc2xpY2UoYSxjKX0sZm9ybWF0OmZ1bmN0aW9uKHMpe2lmKHM9PT1udWxsfHx0eXBlb2YgcyE9XCJvYmplY3RcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJwYXRoT2JqZWN0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBzKTtyZXR1cm4gaShcIi9cIixzKX0scGFyc2U6ZnVuY3Rpb24ocyl7ZShzKTt2YXIgYT17cm9vdDpcIlwiLGRpcjpcIlwiLGJhc2U6XCJcIixleHQ6XCJcIixuYW1lOlwiXCJ9O2lmKHMubGVuZ3RoPT09MClyZXR1cm4gYTt2YXIgbD1zLmNoYXJDb2RlQXQoMCksYz1sPT09NDcsaDtjPyhhLnJvb3Q9XCIvXCIsaD0xKTpoPTA7Zm9yKHZhciBkPS0xLGc9MCx5PS0xLHc9ITAsUz1zLmxlbmd0aC0xLEU9MDtTPj1oOy0tUyl7aWYobD1zLmNoYXJDb2RlQXQoUyksbD09PTQ3KXtpZighdyl7Zz1TKzE7YnJlYWt9Y29udGludWV9eT09PS0xJiYodz0hMSx5PVMrMSksbD09PTQ2P2Q9PT0tMT9kPVM6RSE9PTEmJihFPTEpOmQhPT0tMSYmKEU9LTEpO31yZXR1cm4gZD09PS0xfHx5PT09LTF8fEU9PT0wfHxFPT09MSYmZD09PXktMSYmZD09PWcrMT95IT09LTEmJihnPT09MCYmYz9hLmJhc2U9YS5uYW1lPXMuc2xpY2UoMSx5KTphLmJhc2U9YS5uYW1lPXMuc2xpY2UoZyx5KSk6KGc9PT0wJiZjPyhhLm5hbWU9cy5zbGljZSgxLGQpLGEuYmFzZT1zLnNsaWNlKDEseSkpOihhLm5hbWU9cy5zbGljZShnLGQpLGEuYmFzZT1zLnNsaWNlKGcseSkpLGEuZXh0PXMuc2xpY2UoZCx5KSksZz4wP2EuZGlyPXMuc2xpY2UoMCxnLTEpOmMmJihhLmRpcj1cIi9cIiksYX0sc2VwOlwiL1wiLGRlbGltaXRlcjpcIjpcIix3aW4zMjpudWxsLHBvc2l4Om51bGx9O3JldHVybiBuLnBvc2l4PW4scmw9bixybH1mdW5jdGlvbiBrRSh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIil0PW5ldyBVUkwodCk7ZWxzZSBpZighKHQgaW5zdGFuY2VvZiBVUkwpKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImludmFsaWQgYXJndW1lbnQgcGF0aCAsIG11c3QgYmUgYSBzdHJpbmcgb3IgVVJMXCIpO2lmKHQucHJvdG9jb2whPT1cImZpbGU6XCIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiaW52YWxpZCB1cmwgc2NoZW1lXCIpO3JldHVybiBubD9PRSh0KTp4RSh0KX1mdW5jdGlvbiBPRSh0KXtsZXQgZT10Lmhvc3RuYW1lLHI9dC5wYXRobmFtZTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKylpZihyW2ldPT09XCIlXCIpe2xldCBuPXIuY29kZVBvaW50QXQoaSsyKXx8MzI7aWYocltpKzFdPT09XCIyXCImJm49PT0xMDJ8fHJbaSsxXT09PVwiNVwiJiZuPT09OTkpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwibXVzdCBub3QgaW5jbHVkZSBlbmNvZGVkIFxcXFwgb3IgLyBjaGFyYWN0ZXJzXCIpfWlmKHI9ci5yZXBsYWNlKElFLFwiXFxcXFwiKSxyPWRlY29kZVVSSUNvbXBvbmVudChyKSxlIT09XCJcIilyZXR1cm4gYFxcXFxcXFxcJHtlfSR7cn1gO3tsZXQgaT1yLmNvZGVQb2ludEF0KDEpfDMyLG49clsyXTtpZihpPFNFfHxpPkFFfHxuIT09XCI6XCIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiZmlsZSB1cmwgcGF0aCBtdXN0IGJlIGFic29sdXRlXCIpO3JldHVybiByLnNsaWNlKDEpfX1mdW5jdGlvbiB4RSh0KXtpZih0Lmhvc3RuYW1lIT09XCJcIil0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJpbnZhbGlkIGZpbGUgdXJsIGhvc3RuYW1lXCIpO2xldCBlPXQucGF0aG5hbWU7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXT09PVwiJVwiKXtsZXQgaT1lLmNvZGVQb2ludEF0KHIrMil8fDMyO2lmKGVbcisxXT09PVwiMlwiJiZpPT09MTAyKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcIm11c3Qgbm90IGluY2x1ZGUgZW5jb2RlZCAvIGNoYXJhY3RlcnNcIil9cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlKX1mdW5jdGlvbiBNRSh0KXtsZXQgZT1oZy5yZXNvbHZlKHQpLHI9dC5jaGFyQ29kZUF0KHQubGVuZ3RoLTEpOyhyPT09RUV8fG5sJiZyPT09dkUpJiZlW2UubGVuZ3RoLTFdIT09aGcuc2VwJiYoZSs9XCIvXCIpO2xldCBpPW5ldyBVUkwoXCJmaWxlOi8vXCIpO3JldHVybiBlLmluY2x1ZGVzKFwiJVwiKSYmKGU9ZS5yZXBsYWNlKFRFLFwiJTI1XCIpKSwhbmwmJmUuaW5jbHVkZXMoXCJcXFxcXCIpJiYoZT1lLnJlcGxhY2UoUkUsXCIlNUNcIikpLGUuaW5jbHVkZXMoYFxuYCkmJihlPWUucmVwbGFjZShDRSxcIiUwQVwiKSksZS5pbmNsdWRlcyhcIlxcclwiKSYmKGU9ZS5yZXBsYWNlKEJFLFwiJTBEXCIpKSxlLmluY2x1ZGVzKFwiXHRcIikmJihlPWUucmVwbGFjZShQRSxcIiUwOVwiKSksaS5wYXRobmFtZT1lLGl9ZnVuY3Rpb24gZGcodCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpdD1uZXcgVVJMKHQpO2Vsc2UgaWYoISh0IGluc3RhbmNlb2YgVVJMKSl0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJpbnZhbGlkIGFyZ3VtZW50IHBhdGggLCBtdXN0IGJlIGEgc3RyaW5nIG9yIFVSTFwiKTtpZih0LnByb3RvY29sIT09XCJmaWxlOlwiKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImludmFsaWQgdXJsIHNjaGVtZVwiKTtyZXR1cm4gc2w/WEUodCk6WkUodCl9ZnVuY3Rpb24gWEUodCl7bGV0IGU9dC5ob3N0bmFtZSxyPXQucGF0aG5hbWU7Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXT09PVwiJVwiKXtsZXQgbj1yLmNvZGVQb2ludEF0KGkrMil8fDMyO2lmKHJbaSsxXT09PVwiMlwiJiZuPT09MTAyfHxyW2krMV09PT1cIjVcIiYmbj09PTk5KXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcIm11c3Qgbm90IGluY2x1ZGUgZW5jb2RlZCBcXFxcIG9yIC8gY2hhcmFjdGVyc1wiKX1pZihyPXIucmVwbGFjZSh6RSxcIlxcXFxcIikscj1kZWNvZGVVUklDb21wb25lbnQociksZSE9PVwiXCIpcmV0dXJuIGBcXFxcXFxcXCR7ZX0ke3J9YDt7bGV0IGk9ci5jb2RlUG9pbnRBdCgxKXwzMixuPXJbMl07aWYoaTxIRXx8aT5WRXx8biE9PVwiOlwiKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImZpbGUgdXJsIHBhdGggbXVzdCBiZSBhYnNvbHV0ZVwiKTtyZXR1cm4gci5zbGljZSgxKX19ZnVuY3Rpb24gWkUodCl7aWYodC5ob3N0bmFtZSE9PVwiXCIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiaW52YWxpZCBmaWxlIHVybCBob3N0bmFtZVwiKTtsZXQgZT10LnBhdGhuYW1lO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl09PT1cIiVcIil7bGV0IGk9ZS5jb2RlUG9pbnRBdChyKzIpfHwzMjtpZihlW3IrMV09PT1cIjJcIiYmaT09PTEwMil0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJtdXN0IG5vdCBpbmNsdWRlIGVuY29kZWQgLyBjaGFyYWN0ZXJzXCIpfXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gcGcodCl7bGV0IGU9WmEucmVzb2x2ZSh0KSxyPXQuY2hhckNvZGVBdCh0Lmxlbmd0aC0xKTsocj09PSRFfHxzbCYmcj09PVdFKSYmZVtlLmxlbmd0aC0xXSE9PVphLnNlcCYmKGUrPVwiL1wiKTtsZXQgaT1uZXcgVVJMKFwiZmlsZTovL1wiKTtyZXR1cm4gZS5pbmNsdWRlcyhcIiVcIikmJihlPWUucmVwbGFjZShLRSxcIiUyNVwiKSksIXNsJiZlLmluY2x1ZGVzKFwiXFxcXFwiKSYmKGU9ZS5yZXBsYWNlKEdFLFwiJTVDXCIpKSxlLmluY2x1ZGVzKGBcbmApJiYoZT1lLnJlcGxhY2UoUUUsXCIlMEFcIikpLGUuaW5jbHVkZXMoXCJcXHJcIikmJihlPWUucmVwbGFjZShZRSxcIiUwRFwiKSksZS5pbmNsdWRlcyhcIlx0XCIpJiYoZT1lLnJlcGxhY2UoSkUsXCIlMDlcIikpLGkucGF0aG5hbWU9ZSxpfXZhciBaLGhFLGd0LGRFLHBFLGdFLHlFLGlsLGxnLHVnLGZnLGJFLHdFLGVsLGFpLHRsLHJsLGNnLGhnLG1FLHZFLEVFLFNFLEFFLG5sLElFLFRFLFJFLENFLEJFLFBFLExFLFVFLE5FLHFFLERFLGpFLEZFLFdFLCRFLEhFLFZFLHNsLHpFLEtFLEdFLFFFLFlFLEpFLHlnPV9lKCgpPT57XygpO3YoKTttKCk7WHAoKTtacCgpO25nKCk7YWcoKTtKYSgpO1o9e30saEU9S3QsZ3Q9e2lzU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcIn0saXNPYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT1cIm9iamVjdFwiJiZ0IT09bnVsbH0saXNOdWxsOmZ1bmN0aW9uKHQpe3JldHVybiB0PT09bnVsbH0saXNOdWxsT3JVbmRlZmluZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PW51bGx9fTtaLnBhcnNlPUxpLFoucmVzb2x2ZT1mdW5jdGlvbih0LGUpe3JldHVybiBMaSh0LCExLCEwKS5yZXNvbHZlKGUpfSxaLnJlc29sdmVPYmplY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD9MaSh0LCExLCEwKS5yZXNvbHZlT2JqZWN0KGUpOmV9LFouZm9ybWF0PWZ1bmN0aW9uKHQpe3JldHVybiBndC5pc1N0cmluZyh0KSYmKHQ9TGkodCkpLHQgaW5zdGFuY2VvZiBGZT90LmZvcm1hdCgpOkZlLnByb3RvdHlwZS5mb3JtYXQuY2FsbCh0KX0sWi5Vcmw9RmU7ZEU9L14oW2EtejAtOS4rLV0rOikvaSxwRT0vOlswLTldKiQvLGdFPS9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8seUU9W1wie1wiLFwifVwiLFwifFwiLFwiXFxcXFwiLFwiXlwiLFwiYFwiXS5jb25jYXQoW1wiPFwiLFwiPlwiLCdcIicsXCJgXCIsXCIgXCIsXCJcXHJcIixgXG5gLFwiXHRcIl0pLGlsPVtcIidcIl0uY29uY2F0KHlFKSxsZz1bXCIlXCIsXCIvXCIsXCI/XCIsXCI7XCIsXCIjXCJdLmNvbmNhdChpbCksdWc9W1wiL1wiLFwiP1wiLFwiI1wiXSxmZz0vXlsrYS16MC05QS1aXy1dezAsNjN9JC8sYkU9L14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLHdFPXtqYXZhc2NyaXB0OiEwLFwiamF2YXNjcmlwdDpcIjohMH0sZWw9e2phdmFzY3JpcHQ6ITAsXCJqYXZhc2NyaXB0OlwiOiEwfSxhaT17aHR0cDohMCxodHRwczohMCxmdHA6ITAsZ29waGVyOiEwLGZpbGU6ITAsXCJodHRwOlwiOiEwLFwiaHR0cHM6XCI6ITAsXCJmdHA6XCI6ITAsXCJnb3BoZXI6XCI6ITAsXCJmaWxlOlwiOiEwfSx0bD1wdDtGZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24odCxlLHIpe2lmKCFndC5pc1N0cmluZyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIit0eXBlb2YgdCk7dmFyIGk9dC5pbmRleE9mKFwiP1wiKSxuPWkhPT0tMSYmaTx0LmluZGV4T2YoXCIjXCIpP1wiP1wiOlwiI1wiLG89dC5zcGxpdChuKTtvWzBdPW9bMF0ucmVwbGFjZSgvXFxcXC9nLFwiL1wiKTt2YXIgcz10PW8uam9pbihuKTtpZihzPXMudHJpbSgpLCFyJiZ0LnNwbGl0KFwiI1wiKS5sZW5ndGg9PT0xKXt2YXIgYT1nRS5leGVjKHMpO2lmKGEpcmV0dXJuIHRoaXMucGF0aD1zLHRoaXMuaHJlZj1zLHRoaXMucGF0aG5hbWU9YVsxXSxhWzJdPyh0aGlzLnNlYXJjaD1hWzJdLHRoaXMucXVlcnk9ZT90bC5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpOnRoaXMuc2VhcmNoLnN1YnN0cigxKSk6ZSYmKHRoaXMuc2VhcmNoPVwiXCIsdGhpcy5xdWVyeT17fSksdGhpc312YXIgbD1kRS5leGVjKHMpO2lmKGwpe3ZhciBjPShsPWxbMF0pLnRvTG93ZXJDYXNlKCk7dGhpcy5wcm90b2NvbD1jLHM9cy5zdWJzdHIobC5sZW5ndGgpO31pZihyfHxsfHxzLm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSl7dmFyIGg9cy5zdWJzdHIoMCwyKT09PVwiLy9cIjshaHx8bCYmZWxbbF18fChzPXMuc3Vic3RyKDIpLHRoaXMuc2xhc2hlcz0hMCk7fWlmKCFlbFtsXSYmKGh8fGwmJiFhaVtsXSkpe2Zvcih2YXIgZCxnLHk9LTEsdz0wO3c8dWcubGVuZ3RoO3crKykoUz1zLmluZGV4T2YodWdbd10pKSE9PS0xJiYoeT09PS0xfHxTPHkpJiYoeT1TKTtmb3IoKGc9eT09PS0xP3MubGFzdEluZGV4T2YoXCJAXCIpOnMubGFzdEluZGV4T2YoXCJAXCIseSkpIT09LTEmJihkPXMuc2xpY2UoMCxnKSxzPXMuc2xpY2UoZysxKSx0aGlzLmF1dGg9ZGVjb2RlVVJJQ29tcG9uZW50KGQpKSx5PS0xLHc9MDt3PGxnLmxlbmd0aDt3Kyspe3ZhciBTOyhTPXMuaW5kZXhPZihsZ1t3XSkpIT09LTEmJih5PT09LTF8fFM8eSkmJih5PVMpO315PT09LTEmJih5PXMubGVuZ3RoKSx0aGlzLmhvc3Q9cy5zbGljZSgwLHkpLHM9cy5zbGljZSh5KSx0aGlzLnBhcnNlSG9zdCgpLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0bmFtZXx8XCJcIjt2YXIgRT10aGlzLmhvc3RuYW1lWzBdPT09XCJbXCImJnRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGgtMV09PT1cIl1cIjtpZighRSlmb3IodmFyIEk9dGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyksQz0odz0wLEkubGVuZ3RoKTt3PEM7dysrKXt2YXIgUj1JW3ddO2lmKFImJiFSLm1hdGNoKGZnKSl7Zm9yKHZhciBVPVwiXCIsTj0wLFc9Ui5sZW5ndGg7TjxXO04rKylSLmNoYXJDb2RlQXQoTik+MTI3P1UrPVwieFwiOlUrPVJbTl07aWYoIVUubWF0Y2goZmcpKXt2YXIgSz1JLnNsaWNlKDAsdyksej1JLnNsaWNlKHcrMSksUT1SLm1hdGNoKGJFKTtRJiYoSy5wdXNoKFFbMV0pLHoudW5zaGlmdChRWzJdKSksei5sZW5ndGgmJihzPVwiL1wiK3ouam9pbihcIi5cIikrcyksdGhpcy5ob3N0bmFtZT1LLmpvaW4oXCIuXCIpO2JyZWFrfX19dGhpcy5ob3N0bmFtZS5sZW5ndGg+MjU1P3RoaXMuaG9zdG5hbWU9XCJcIjp0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKSxFfHwodGhpcy5ob3N0bmFtZT1oRS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpKTt2YXIgcGU9dGhpcy5wb3J0P1wiOlwiK3RoaXMucG9ydDpcIlwiLFl0PXRoaXMuaG9zdG5hbWV8fFwiXCI7dGhpcy5ob3N0PVl0K3BlLHRoaXMuaHJlZis9dGhpcy5ob3N0LEUmJih0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsdGhpcy5ob3N0bmFtZS5sZW5ndGgtMiksc1swXSE9PVwiL1wiJiYocz1cIi9cIitzKSk7fWlmKCF3RVtjXSlmb3Iodz0wLEM9aWwubGVuZ3RoO3c8Qzt3Kyspe3ZhciBnZT1pbFt3XTtpZihzLmluZGV4T2YoZ2UpIT09LTEpe3ZhciBQcj1lbmNvZGVVUklDb21wb25lbnQoZ2UpO1ByPT09Z2UmJihQcj1lc2NhcGUoZ2UpKSxzPXMuc3BsaXQoZ2UpLmpvaW4oUHIpO319dmFyIGtyPXMuaW5kZXhPZihcIiNcIik7a3IhPT0tMSYmKHRoaXMuaGFzaD1zLnN1YnN0cihrcikscz1zLnNsaWNlKDAsa3IpKTt2YXIgT3I9cy5pbmRleE9mKFwiP1wiKTtpZihPciE9PS0xPyh0aGlzLnNlYXJjaD1zLnN1YnN0cihPciksdGhpcy5xdWVyeT1zLnN1YnN0cihPcisxKSxlJiYodGhpcy5xdWVyeT10bC5wYXJzZSh0aGlzLnF1ZXJ5KSkscz1zLnNsaWNlKDAsT3IpKTplJiYodGhpcy5zZWFyY2g9XCJcIix0aGlzLnF1ZXJ5PXt9KSxzJiYodGhpcy5wYXRobmFtZT1zKSxhaVtjXSYmdGhpcy5ob3N0bmFtZSYmIXRoaXMucGF0aG5hbWUmJih0aGlzLnBhdGhuYW1lPVwiL1wiKSx0aGlzLnBhdGhuYW1lfHx0aGlzLnNlYXJjaCl7cGU9dGhpcy5wYXRobmFtZXx8XCJcIjt2YXIgaHM9dGhpcy5zZWFyY2h8fFwiXCI7dGhpcy5wYXRoPXBlK2hzO31yZXR1cm4gdGhpcy5ocmVmPXRoaXMuZm9ybWF0KCksdGhpc30sRmUucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYXV0aHx8XCJcIjt0JiYodD0odD1lbmNvZGVVUklDb21wb25lbnQodCkpLnJlcGxhY2UoLyUzQS9pLFwiOlwiKSx0Kz1cIkBcIik7dmFyIGU9dGhpcy5wcm90b2NvbHx8XCJcIixyPXRoaXMucGF0aG5hbWV8fFwiXCIsaT10aGlzLmhhc2h8fFwiXCIsbj0hMSxvPVwiXCI7dGhpcy5ob3N0P249dCt0aGlzLmhvc3Q6dGhpcy5ob3N0bmFtZSYmKG49dCsodGhpcy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKT09PS0xP3RoaXMuaG9zdG5hbWU6XCJbXCIrdGhpcy5ob3N0bmFtZStcIl1cIiksdGhpcy5wb3J0JiYobis9XCI6XCIrdGhpcy5wb3J0KSksdGhpcy5xdWVyeSYmZ3QuaXNPYmplY3QodGhpcy5xdWVyeSkmJk9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCYmKG89dGwuc3RyaW5naWZ5KHRoaXMucXVlcnkpKTt2YXIgcz10aGlzLnNlYXJjaHx8byYmXCI/XCIrb3x8XCJcIjtyZXR1cm4gZSYmZS5zdWJzdHIoLTEpIT09XCI6XCImJihlKz1cIjpcIiksdGhpcy5zbGFzaGVzfHwoIWV8fGFpW2VdKSYmbiE9PSExPyhuPVwiLy9cIisobnx8XCJcIiksciYmci5jaGFyQXQoMCkhPT1cIi9cIiYmKHI9XCIvXCIrcikpOm58fChuPVwiXCIpLGkmJmkuY2hhckF0KDApIT09XCIjXCImJihpPVwiI1wiK2kpLHMmJnMuY2hhckF0KDApIT09XCI/XCImJihzPVwiP1wiK3MpLGUrbisocj1yLnJlcGxhY2UoL1s/I10vZyxmdW5jdGlvbihhKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGEpfSkpKyhzPXMucmVwbGFjZShcIiNcIixcIiUyM1wiKSkraX0sRmUucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdChMaSh0LCExLCEwKSkuZm9ybWF0KCl9LEZlLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKHQpe2lmKGd0LmlzU3RyaW5nKHQpKXt2YXIgZT1uZXcgRmU7ZS5wYXJzZSh0LCExLCEwKSx0PWU7fWZvcih2YXIgcj1uZXcgRmUsaT1PYmplY3Qua2V5cyh0aGlzKSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBvPWlbbl07cltvXT10aGlzW29dO31pZihyLmhhc2g9dC5oYXNoLHQuaHJlZj09PVwiXCIpcmV0dXJuIHIuaHJlZj1yLmZvcm1hdCgpLHI7aWYodC5zbGFzaGVzJiYhdC5wcm90b2NvbCl7Zm9yKHZhciBzPU9iamVjdC5rZXlzKHQpLGE9MDthPHMubGVuZ3RoO2ErKyl7dmFyIGw9c1thXTtsIT09XCJwcm90b2NvbFwiJiYocltsXT10W2xdKTt9cmV0dXJuIGFpW3IucHJvdG9jb2xdJiZyLmhvc3RuYW1lJiYhci5wYXRobmFtZSYmKHIucGF0aD1yLnBhdGhuYW1lPVwiL1wiKSxyLmhyZWY9ci5mb3JtYXQoKSxyfWlmKHQucHJvdG9jb2wmJnQucHJvdG9jb2whPT1yLnByb3RvY29sKXtpZighYWlbdC5wcm90b2NvbF0pe2Zvcih2YXIgYz1PYmplY3Qua2V5cyh0KSxoPTA7aDxjLmxlbmd0aDtoKyspe3ZhciBkPWNbaF07cltkXT10W2RdO31yZXR1cm4gci5ocmVmPXIuZm9ybWF0KCkscn1pZihyLnByb3RvY29sPXQucHJvdG9jb2wsdC5ob3N0fHxlbFt0LnByb3RvY29sXSlyLnBhdGhuYW1lPXQucGF0aG5hbWU7ZWxzZSB7Zm9yKHZhciBnPSh0LnBhdGhuYW1lfHxcIlwiKS5zcGxpdChcIi9cIik7Zy5sZW5ndGgmJiEodC5ob3N0PWcuc2hpZnQoKSk7KTt0Lmhvc3R8fCh0Lmhvc3Q9XCJcIiksdC5ob3N0bmFtZXx8KHQuaG9zdG5hbWU9XCJcIiksZ1swXSE9PVwiXCImJmcudW5zaGlmdChcIlwiKSxnLmxlbmd0aDwyJiZnLnVuc2hpZnQoXCJcIiksci5wYXRobmFtZT1nLmpvaW4oXCIvXCIpO31pZihyLnNlYXJjaD10LnNlYXJjaCxyLnF1ZXJ5PXQucXVlcnksci5ob3N0PXQuaG9zdHx8XCJcIixyLmF1dGg9dC5hdXRoLHIuaG9zdG5hbWU9dC5ob3N0bmFtZXx8dC5ob3N0LHIucG9ydD10LnBvcnQsci5wYXRobmFtZXx8ci5zZWFyY2gpe3ZhciB5PXIucGF0aG5hbWV8fFwiXCIsdz1yLnNlYXJjaHx8XCJcIjtyLnBhdGg9eSt3O31yZXR1cm4gci5zbGFzaGVzPXIuc2xhc2hlc3x8dC5zbGFzaGVzLHIuaHJlZj1yLmZvcm1hdCgpLHJ9dmFyIFM9ci5wYXRobmFtZSYmci5wYXRobmFtZS5jaGFyQXQoMCk9PT1cIi9cIixFPXQuaG9zdHx8dC5wYXRobmFtZSYmdC5wYXRobmFtZS5jaGFyQXQoMCk9PT1cIi9cIixJPUV8fFN8fHIuaG9zdCYmdC5wYXRobmFtZSxDPUksUj1yLnBhdGhuYW1lJiZyLnBhdGhuYW1lLnNwbGl0KFwiL1wiKXx8W10sVT0oZz10LnBhdGhuYW1lJiZ0LnBhdGhuYW1lLnNwbGl0KFwiL1wiKXx8W10sci5wcm90b2NvbCYmIWFpW3IucHJvdG9jb2xdKTtpZihVJiYoci5ob3N0bmFtZT1cIlwiLHIucG9ydD1udWxsLHIuaG9zdCYmKFJbMF09PT1cIlwiP1JbMF09ci5ob3N0OlIudW5zaGlmdChyLmhvc3QpKSxyLmhvc3Q9XCJcIix0LnByb3RvY29sJiYodC5ob3N0bmFtZT1udWxsLHQucG9ydD1udWxsLHQuaG9zdCYmKGdbMF09PT1cIlwiP2dbMF09dC5ob3N0OmcudW5zaGlmdCh0Lmhvc3QpKSx0Lmhvc3Q9bnVsbCksST1JJiYoZ1swXT09PVwiXCJ8fFJbMF09PT1cIlwiKSksRSlyLmhvc3Q9dC5ob3N0fHx0Lmhvc3Q9PT1cIlwiP3QuaG9zdDpyLmhvc3Qsci5ob3N0bmFtZT10Lmhvc3RuYW1lfHx0Lmhvc3RuYW1lPT09XCJcIj90Lmhvc3RuYW1lOnIuaG9zdG5hbWUsci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LFI9ZztlbHNlIGlmKGcubGVuZ3RoKVJ8fChSPVtdKSxSLnBvcCgpLFI9Ui5jb25jYXQoZyksci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5O2Vsc2UgaWYoIWd0LmlzTnVsbE9yVW5kZWZpbmVkKHQuc2VhcmNoKSlyZXR1cm4gVSYmKHIuaG9zdG5hbWU9ci5ob3N0PVIuc2hpZnQoKSwoUT0hIShyLmhvc3QmJnIuaG9zdC5pbmRleE9mKFwiQFwiKT4wKSYmci5ob3N0LnNwbGl0KFwiQFwiKSkmJihyLmF1dGg9US5zaGlmdCgpLHIuaG9zdD1yLmhvc3RuYW1lPVEuc2hpZnQoKSkpLHIuc2VhcmNoPXQuc2VhcmNoLHIucXVlcnk9dC5xdWVyeSxndC5pc051bGwoci5wYXRobmFtZSkmJmd0LmlzTnVsbChyLnNlYXJjaCl8fChyLnBhdGg9KHIucGF0aG5hbWU/ci5wYXRobmFtZTpcIlwiKSsoci5zZWFyY2g/ci5zZWFyY2g6XCJcIikpLHIuaHJlZj1yLmZvcm1hdCgpLHI7aWYoIVIubGVuZ3RoKXJldHVybiByLnBhdGhuYW1lPW51bGwsci5zZWFyY2g/ci5wYXRoPVwiL1wiK3Iuc2VhcmNoOnIucGF0aD1udWxsLHIuaHJlZj1yLmZvcm1hdCgpLHI7Zm9yKHZhciBOPVIuc2xpY2UoLTEpWzBdLFc9KHIuaG9zdHx8dC5ob3N0fHxSLmxlbmd0aD4xKSYmKE49PT1cIi5cInx8Tj09PVwiLi5cIil8fE49PT1cIlwiLEs9MCx6PVIubGVuZ3RoO3o+PTA7ei0tKShOPVJbel0pPT09XCIuXCI/Ui5zcGxpY2UoeiwxKTpOPT09XCIuLlwiPyhSLnNwbGljZSh6LDEpLEsrKyk6SyYmKFIuc3BsaWNlKHosMSksSy0tKTtpZighSSYmIUMpZm9yKDtLLS07SylSLnVuc2hpZnQoXCIuLlwiKTshSXx8UlswXT09PVwiXCJ8fFJbMF0mJlJbMF0uY2hhckF0KDApPT09XCIvXCJ8fFIudW5zaGlmdChcIlwiKSxXJiZSLmpvaW4oXCIvXCIpLnN1YnN0cigtMSkhPT1cIi9cIiYmUi5wdXNoKFwiXCIpO3ZhciBRLHBlPVJbMF09PT1cIlwifHxSWzBdJiZSWzBdLmNoYXJBdCgwKT09PVwiL1wiO3JldHVybiBVJiYoci5ob3N0bmFtZT1yLmhvc3Q9cGU/XCJcIjpSLmxlbmd0aD9SLnNoaWZ0KCk6XCJcIiwoUT0hIShyLmhvc3QmJnIuaG9zdC5pbmRleE9mKFwiQFwiKT4wKSYmci5ob3N0LnNwbGl0KFwiQFwiKSkmJihyLmF1dGg9US5zaGlmdCgpLHIuaG9zdD1yLmhvc3RuYW1lPVEuc2hpZnQoKSkpLChJPUl8fHIuaG9zdCYmUi5sZW5ndGgpJiYhcGUmJlIudW5zaGlmdChcIlwiKSxSLmxlbmd0aD9yLnBhdGhuYW1lPVIuam9pbihcIi9cIik6KHIucGF0aG5hbWU9bnVsbCxyLnBhdGg9bnVsbCksZ3QuaXNOdWxsKHIucGF0aG5hbWUpJiZndC5pc051bGwoci5zZWFyY2gpfHwoci5wYXRoPShyLnBhdGhuYW1lP3IucGF0aG5hbWU6XCJcIikrKHIuc2VhcmNoP3Iuc2VhcmNoOlwiXCIpKSxyLmF1dGg9dC5hdXRofHxyLmF1dGgsci5zbGFzaGVzPXIuc2xhc2hlc3x8dC5zbGFzaGVzLHIuaHJlZj1yLmZvcm1hdCgpLHJ9LEZlLnByb3RvdHlwZS5wYXJzZUhvc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvc3QsZT1wRS5leGVjKHQpO2UmJigoZT1lWzBdKSE9PVwiOlwiJiYodGhpcy5wb3J0PWUuc3Vic3RyKDEpKSx0PXQuc3Vic3RyKDAsdC5sZW5ndGgtZS5sZW5ndGgpKSx0JiYodGhpcy5ob3N0bmFtZT10KTt9O1ouVXJsO1ouZm9ybWF0O1oucmVzb2x2ZTtaLnJlc29sdmVPYmplY3Q7cmw9e30sY2c9ITE7aGc9X0UoKSxtRT10eXBlb2YgRGVubzxcInVcIj9EZW5vLmJ1aWxkLm9zPT09XCJ3aW5kb3dzXCI/XCJ3aW4zMlwiOkRlbm8uYnVpbGQub3M6dm9pZCAwO1ouVVJMPXR5cGVvZiBVUkw8XCJ1XCI/VVJMOm51bGw7Wi5wYXRoVG9GaWxlVVJMPU1FO1ouZmlsZVVSTFRvUGF0aD1rRTtaLlVybDtaLmZvcm1hdDtaLnJlc29sdmU7Wi5yZXNvbHZlT2JqZWN0O1ouVVJMO3ZFPTkyLEVFPTQ3LFNFPTk3LEFFPTEyMixubD1tRT09PVwid2luMzJcIixJRT0vXFwvL2csVEU9LyUvZyxSRT0vXFxcXC9nLENFPS9cXG4vZyxCRT0vXFxyL2csUEU9L1xcdC9nO0xFPXR5cGVvZiBEZW5vPFwidVwiP0Rlbm8uYnVpbGQub3M9PT1cIndpbmRvd3NcIj9cIndpbjMyXCI6RGVuby5idWlsZC5vczp2b2lkIDA7Wi5VUkw9dHlwZW9mIFVSTDxcInVcIj9VUkw6bnVsbDtaLnBhdGhUb0ZpbGVVUkw9cGc7Wi5maWxlVVJMVG9QYXRoPWRnO1VFPVouVXJsLE5FPVouZm9ybWF0LHFFPVoucmVzb2x2ZSxERT1aLnJlc29sdmVPYmplY3QsakU9Wi5wYXJzZSxGRT1aLlVSTCxXRT05MiwkRT00NyxIRT05NyxWRT0xMjIsc2w9TEU9PT1cIndpbjMyXCIsekU9L1xcLy9nLEtFPS8lL2csR0U9L1xcXFwvZyxRRT0vXFxuL2csWUU9L1xcci9nLEpFPS9cXHQvZzt9KTt2YXIgd2c9TSgobTgsYmcpPT57XygpO3YoKTttKCk7YmcuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIndzIGRvZXMgbm90IHdvcmsgaW4gdGhlIGJyb3dzZXIuIEJyb3dzZXIgY2xpZW50cyBtdXN0IHVzZSB0aGUgbmF0aXZlIFdlYlNvY2tldCBvYmplY3RcIil9O30pO3ZhciBscz1NKGxpPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGxpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2xpLkJ1ZmZlcmVkRHVwbGV4PWxpLndyaXRldj12b2lkIDA7dmFyIGVTPWp0KCksX2c9KGJlKCksWChtZSkpO2Z1bmN0aW9uIG1nKHQsZSl7bGV0IHI9bmV3IEFycmF5KHQubGVuZ3RoKTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl0eXBlb2YgdFtpXS5jaHVuaz09XCJzdHJpbmdcIj9yW2ldPV9nLkJ1ZmZlci5mcm9tKHRbaV0uY2h1bmssXCJ1dGY4XCIpOnJbaV09dFtpXS5jaHVuazt0aGlzLl93cml0ZShfZy5CdWZmZXIuY29uY2F0KHIpLFwiYmluYXJ5XCIsZSk7fWxpLndyaXRldj1tZzt2YXIgb2w9Y2xhc3MgZXh0ZW5kcyBlUy5EdXBsZXh7Y29uc3RydWN0b3IoZSxyLGkpe3N1cGVyKHtvYmplY3RNb2RlOiEwfSksdGhpcy5wcm94eT1yLHRoaXMuc29ja2V0PWksdGhpcy53cml0ZVF1ZXVlPVtdLGUub2JqZWN0TW9kZXx8KHRoaXMuX3dyaXRldj1tZy5iaW5kKHRoaXMpKSx0aGlzLmlzU29ja2V0T3Blbj0hMSx0aGlzLnByb3h5Lm9uKFwiZGF0YVwiLG49Pnt0aGlzLmRlc3Ryb3llZHx8dGhpcy5wdXNoKG4pO30pO31fcmVhZChlKXt0aGlzLnByb3h5LnJlYWQoZSk7fV93cml0ZShlLHIsaSl7dGhpcy5pc1NvY2tldE9wZW4/dGhpcy53cml0ZVRvUHJveHkoZSxyLGkpOnRoaXMud3JpdGVRdWV1ZS5wdXNoKHtjaHVuazplLGVuY29kaW5nOnIsY2I6aX0pO31fZmluYWwoZSl7dGhpcy53cml0ZVF1ZXVlPVtdLHRoaXMucHJveHkuZW5kKGUpO31fZGVzdHJveShlLHIpe3RoaXMud3JpdGVRdWV1ZT1bXSx0aGlzLnByb3h5LmRlc3Ryb3koKSxyKGUpO31zb2NrZXRSZWFkeSgpe3RoaXMuZW1pdChcImNvbm5lY3RcIiksdGhpcy5pc1NvY2tldE9wZW49ITAsdGhpcy5wcm9jZXNzV3JpdGVRdWV1ZSgpO313cml0ZVRvUHJveHkoZSxyLGkpe3RoaXMucHJveHkud3JpdGUoZSxyKT09PSExP3RoaXMucHJveHkub25jZShcImRyYWluXCIsaSk6aSgpO31wcm9jZXNzV3JpdGVRdWV1ZSgpe2Zvcig7dGhpcy53cml0ZVF1ZXVlLmxlbmd0aD4wOyl7bGV0e2NodW5rOmUsZW5jb2Rpbmc6cixjYjppfT10aGlzLndyaXRlUXVldWUuc2hpZnQoKTt0aGlzLndyaXRlVG9Qcm94eShlLHIsaSk7fX19O2xpLkJ1ZmZlcmVkRHVwbGV4PW9sO30pO3ZhciBVaT1NKFF0PT57XygpO3YoKTttKCk7dmFyIGxsPVF0JiZRdC5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFF0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1F0LnN0cmVhbUJ1aWxkZXI9UXQuYnJvd3NlclN0cmVhbUJ1aWxkZXI9dm9pZCAwO3ZhciB1cz0oYmUoKSxYKG1lKSksdmc9bGwod2coKSksdFM9bGwob3QoKSksclM9anQoKSxpUz1sbChPaSgpKSxhbD1scygpLEd0PSgwLCB0Uy5kZWZhdWx0KShcIm1xdHRqczp3c1wiKSxuUz1bXCJyZWplY3RVbmF1dGhvcml6ZWRcIixcImNhXCIsXCJjZXJ0XCIsXCJrZXlcIixcInBmeFwiLFwicGFzc3BocmFzZVwiXTtmdW5jdGlvbiBFZyh0LGUpe2xldCByPWAke3QucHJvdG9jb2x9Oi8vJHt0Lmhvc3RuYW1lfToke3QucG9ydH0ke3QucGF0aH1gO3JldHVybiB0eXBlb2YgdC50cmFuc2Zvcm1Xc1VybD09XCJmdW5jdGlvblwiJiYocj10LnRyYW5zZm9ybVdzVXJsKHIsdCxlKSkscn1mdW5jdGlvbiBTZyh0KXtsZXQgZT10O3JldHVybiB0LnBvcnR8fCh0LnByb3RvY29sPT09XCJ3c3NcIj9lLnBvcnQ9NDQzOmUucG9ydD04MCksdC5wYXRofHwoZS5wYXRoPVwiL1wiKSx0LndzT3B0aW9uc3x8KGUud3NPcHRpb25zPXt9KSwhaVMuZGVmYXVsdCYmIXQuZm9yY2VOYXRpdmVXZWJTb2NrZXQmJnQucHJvdG9jb2w9PT1cIndzc1wiJiZuUy5mb3JFYWNoKHI9PntPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LndzT3B0aW9ucyxyKSYmKGUud3NPcHRpb25zW3JdPXRbcl0pO30pLGV9ZnVuY3Rpb24gc1ModCl7bGV0IGU9U2codCk7aWYoZS5ob3N0bmFtZXx8KGUuaG9zdG5hbWU9ZS5ob3N0KSwhZS5ob3N0bmFtZSl7aWYodHlwZW9mIGRvY3VtZW50PlwidVwiKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgaG9zdC4gU3BlY2lmeSBob3N0IG1hbnVhbGx5LlwiKTtsZXQgcj1uZXcgVVJMKGRvY3VtZW50LlVSTCk7ZS5ob3N0bmFtZT1yLmhvc3RuYW1lLGUucG9ydHx8KGUucG9ydD1OdW1iZXIoci5wb3J0KSk7fXJldHVybiBlLm9iamVjdE1vZGU9PT12b2lkIDAmJihlLm9iamVjdE1vZGU9IShlLmJpbmFyeT09PSEwfHxlLmJpbmFyeT09PXZvaWQgMCkpLGV9ZnVuY3Rpb24gb1ModCxlLHIpe0d0KFwiY3JlYXRlV2ViU29ja2V0XCIpLEd0KGBwcm90b2NvbDogJHtyLnByb3RvY29sSWR9ICR7ci5wcm90b2NvbFZlcnNpb259YCk7bGV0IGk9ci5wcm90b2NvbElkPT09XCJNUUlzZHBcIiYmci5wcm90b2NvbFZlcnNpb249PT0zP1wibXF0dHYzLjFcIjpcIm1xdHRcIjtHdChgY3JlYXRpbmcgbmV3IFdlYnNvY2tldCBmb3IgdXJsOiAke2V9IGFuZCBwcm90b2NvbDogJHtpfWApO2xldCBuO3JldHVybiByLmNyZWF0ZVdlYnNvY2tldD9uPXIuY3JlYXRlV2Vic29ja2V0KGUsW2ldLHIpOm49bmV3IHZnLmRlZmF1bHQoZSxbaV0sci53c09wdGlvbnMpLG59ZnVuY3Rpb24gYVModCxlKXtsZXQgcj1lLnByb3RvY29sSWQ9PT1cIk1RSXNkcFwiJiZlLnByb3RvY29sVmVyc2lvbj09PTM/XCJtcXR0djMuMVwiOlwibXF0dFwiLGk9RWcoZSx0KSxuO3JldHVybiBlLmNyZWF0ZVdlYnNvY2tldD9uPWUuY3JlYXRlV2Vic29ja2V0KGksW3JdLGUpOm49bmV3IFdlYlNvY2tldChpLFtyXSksbi5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIixufXZhciBsUz0odCxlKT0+e0d0KFwic3RyZWFtQnVpbGRlclwiKTtsZXQgcj1TZyhlKTtyLmhvc3RuYW1lPXIuaG9zdG5hbWV8fHIuaG9zdHx8XCJsb2NhbGhvc3RcIjtsZXQgaT1FZyhyLHQpLG49b1ModCxpLHIpLG89dmcuZGVmYXVsdC5jcmVhdGVXZWJTb2NrZXRTdHJlYW0obixyLndzT3B0aW9ucyk7cmV0dXJuIG8udXJsPWksbi5vbihcImNsb3NlXCIsKCk9PntvLmRlc3Ryb3koKTt9KSxvfTtRdC5zdHJlYW1CdWlsZGVyPWxTO3ZhciB1Uz0odCxlKT0+e0d0KFwiYnJvd3NlclN0cmVhbUJ1aWxkZXJcIik7bGV0IHIsbj1zUyhlKS5icm93c2VyQnVmZmVyU2l6ZXx8MTAyNCo1MTIsbz1lLmJyb3dzZXJCdWZmZXJUaW1lb3V0fHwxZTMscz0hZS5vYmplY3RNb2RlLGE9YVModCxlKSxsPWgoZSxTLEUpO2Uub2JqZWN0TW9kZXx8KGwuX3dyaXRldj1hbC53cml0ZXYuYmluZChsKSksbC5vbihcImNsb3NlXCIsKCk9PnthLmNsb3NlKCk7fSk7bGV0IGM9dHlwZW9mIGEuYWRkRXZlbnRMaXN0ZW5lcjxcInVcIjthLnJlYWR5U3RhdGU9PT1hLk9QRU4/KHI9bCxyLnNvY2tldD1hKToocj1uZXcgYWwuQnVmZmVyZWREdXBsZXgoZSxsLGEpLGM/YS5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLGQpOmEub25vcGVuPWQpLGM/KGEuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsZyksYS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix5KSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdykpOihhLm9uY2xvc2U9ZyxhLm9uZXJyb3I9eSxhLm9ubWVzc2FnZT13KTtmdW5jdGlvbiBoKEksQyxSKXtsZXQgVT1uZXcgclMuVHJhbnNmb3JtKHtvYmplY3RNb2RlOkkub2JqZWN0TW9kZX0pO3JldHVybiBVLl93cml0ZT1DLFUuX2ZsdXNoPVIsVX1mdW5jdGlvbiBkKCl7R3QoXCJXZWJTb2NrZXQgb25PcGVuXCIpLHIgaW5zdGFuY2VvZiBhbC5CdWZmZXJlZER1cGxleCYmci5zb2NrZXRSZWFkeSgpO31mdW5jdGlvbiBnKEkpe0d0KFwiV2ViU29ja2V0IG9uQ2xvc2VcIixJKSxyLmVuZCgpLHIuZGVzdHJveSgpO31mdW5jdGlvbiB5KEkpe0d0KFwiV2ViU29ja2V0IG9uRXJyb3JcIixJKTtsZXQgQz1uZXcgRXJyb3IoXCJXZWJTb2NrZXQgZXJyb3JcIik7Qy5ldmVudD1JLHIuZGVzdHJveShDKTt9YXN5bmMgZnVuY3Rpb24gdyhJKXtsZXR7ZGF0YTpDfT1JO0MgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9DPXVzLkJ1ZmZlci5mcm9tKEMpOkMgaW5zdGFuY2VvZiBCbG9iP0M9dXMuQnVmZmVyLmZyb20oYXdhaXQgbmV3IFJlc3BvbnNlKEMpLmFycmF5QnVmZmVyKCkpOkM9dXMuQnVmZmVyLmZyb20oQyxcInV0ZjhcIiksbCYmIWwuZGVzdHJveWVkJiZsLnB1c2goQyk7fWZ1bmN0aW9uIFMoSSxDLFIpe2lmKGEuYnVmZmVyZWRBbW91bnQ+bil7c2V0VGltZW91dChTLG8sSSxDLFIpO3JldHVybn1zJiZ0eXBlb2YgST09XCJzdHJpbmdcIiYmKEk9dXMuQnVmZmVyLmZyb20oSSxcInV0ZjhcIikpO3RyeXthLnNlbmQoSSk7fWNhdGNoKFUpe3JldHVybiBSKFUpfVIoKTt9ZnVuY3Rpb24gRShJKXthLmNsb3NlKCksSSgpO31yZXR1cm4gcn07UXQuYnJvd3NlclN0cmVhbUJ1aWxkZXI9dVM7fSk7dmFyIHVsPXt9O0p0KHVsLHtTZXJ2ZXI6KCk9Pk1lLFNvY2tldDooKT0+TWUsU3RyZWFtOigpPT5NZSxfY3JlYXRlU2VydmVySGFuZGxlOigpPT5NZSxfbm9ybWFsaXplQXJnczooKT0+TWUsX3NldFNpbXVsdGFuZW91c0FjY2VwdHM6KCk9Pk1lLGNvbm5lY3Q6KCk9Pk1lLGNyZWF0ZUNvbm5lY3Rpb246KCk9Pk1lLGNyZWF0ZVNlcnZlcjooKT0+TWUsZGVmYXVsdDooKT0+ZlMsaXNJUDooKT0+TWUsaXNJUHY0OigpPT5NZSxpc0lQdjY6KCk9Pk1lfSk7ZnVuY3Rpb24gTWUoKXt0aHJvdyBuZXcgRXJyb3IoXCJOb2RlLmpzIG5ldCBtb2R1bGUgaXMgbm90IHN1cHBvcnRlZCBieSBKU1BNIGNvcmUgb3V0c2lkZSBvZiBOb2RlLmpzXCIpfXZhciBmUyxmbD1fZSgoKT0+e18oKTt2KCk7bSgpO2ZTPXtfY3JlYXRlU2VydmVySGFuZGxlOk1lLF9ub3JtYWxpemVBcmdzOk1lLF9zZXRTaW11bHRhbmVvdXNBY2NlcHRzOk1lLGNvbm5lY3Q6TWUsY3JlYXRlQ29ubmVjdGlvbjpNZSxjcmVhdGVTZXJ2ZXI6TWUsaXNJUDpNZSxpc0lQdjQ6TWUsaXNJUHY2Ok1lLFNlcnZlcjpNZSxTb2NrZXQ6TWUsU3RyZWFtOk1lfTt9KTt2YXIgY2w9TShOaT0+e18oKTt2KCk7bSgpO3ZhciBBZz1OaSYmTmkuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShOaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY1M9QWcoKGZsKCksWCh1bCkpKSxoUz1BZyhvdCgpKSxkUz0oMCwgaFMuZGVmYXVsdCkoXCJtcXR0anM6dGNwXCIpLHBTPSh0LGUpPT57ZS5wb3J0PWUucG9ydHx8MTg4MyxlLmhvc3RuYW1lPWUuaG9zdG5hbWV8fGUuaG9zdHx8XCJsb2NhbGhvc3RcIjtsZXR7cG9ydDpyLHBhdGg6aX09ZSxuPWUuaG9zdG5hbWU7cmV0dXJuIGRTKFwicG9ydCAlZCBhbmQgaG9zdCAlc1wiLHIsbiksY1MuZGVmYXVsdC5jcmVhdGVDb25uZWN0aW9uKHtwb3J0OnIsaG9zdDpuLHBhdGg6aX0pfTtOaS5kZWZhdWx0PXBTO30pO3ZhciBJZz17fTtKdChJZyx7ZGVmYXVsdDooKT0+Z1N9KTt2YXIgZ1MsVGc9X2UoKCk9PntfKCk7digpO20oKTtnUz17fTt9KTt2YXIgZGw9TShxaT0+e18oKTt2KCk7bSgpO3ZhciBobD1xaSYmcWkuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShxaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgeVM9aGwoKFRnKCksWChJZykpKSxiUz1obCgoZmwoKSxYKHVsKSkpLHdTPWhsKG90KCkpLF9TPSgwLCB3Uy5kZWZhdWx0KShcIm1xdHRqczp0bHNcIiksbVM9KHQsZSk9PntlLnBvcnQ9ZS5wb3J0fHw4ODgzLGUuaG9zdD1lLmhvc3RuYW1lfHxlLmhvc3R8fFwibG9jYWxob3N0XCIsYlMuZGVmYXVsdC5pc0lQKGUuaG9zdCk9PT0wJiYoZS5zZXJ2ZXJuYW1lPWUuaG9zdCksZS5yZWplY3RVbmF1dGhvcml6ZWQ9ZS5yZWplY3RVbmF1dGhvcml6ZWQhPT0hMSxkZWxldGUgZS5wYXRoLF9TKFwicG9ydCAlZCBob3N0ICVzIHJlamVjdFVuYXV0aG9yaXplZCAlYlwiLGUucG9ydCxlLmhvc3QsZS5yZWplY3RVbmF1dGhvcml6ZWQpO2xldCByPXlTLmRlZmF1bHQuY29ubmVjdChlKTtyLm9uKFwic2VjdXJlQ29ubmVjdFwiLCgpPT57ZS5yZWplY3RVbmF1dGhvcml6ZWQmJiFyLmF1dGhvcml6ZWQ/ci5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJUTFMgbm90IGF1dGhvcml6ZWRcIikpOnIucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLGkpO30pO2Z1bmN0aW9uIGkobil7ZS5yZWplY3RVbmF1dGhvcml6ZWQmJnQuZW1pdChcImVycm9yXCIsbiksci5lbmQoKTt9cmV0dXJuIHIub24oXCJlcnJvclwiLGkpLHJ9O3FpLmRlZmF1bHQ9bVM7fSk7dmFyIHlsPU0oZ2w9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2wsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFJnPShiZSgpLFgobWUpKSx2Uz1qdCgpLEVTPWxzKCkseXQscGwsTGU7ZnVuY3Rpb24gU1MoKXtsZXQgdD1uZXcgdlMuVHJhbnNmb3JtO3JldHVybiB0Ll93cml0ZT0oZSxyLGkpPT57eXQuc2VuZCh7ZGF0YTplLmJ1ZmZlcixzdWNjZXNzKCl7aSgpO30sZmFpbChuKXtpKG5ldyBFcnJvcihuKSk7fX0pO30sdC5fZmx1c2g9ZT0+e3l0LmNsb3NlKHtzdWNjZXNzKCl7ZSgpO319KTt9LHR9ZnVuY3Rpb24gQVModCl7dC5ob3N0bmFtZXx8KHQuaG9zdG5hbWU9XCJsb2NhbGhvc3RcIiksdC5wYXRofHwodC5wYXRoPVwiL1wiKSx0LndzT3B0aW9uc3x8KHQud3NPcHRpb25zPXt9KTt9ZnVuY3Rpb24gSVModCxlKXtsZXQgcj10LnByb3RvY29sPT09XCJ3eHNcIj9cIndzc1wiOlwid3NcIixpPWAke3J9Oi8vJHt0Lmhvc3RuYW1lfSR7dC5wYXRofWA7cmV0dXJuIHQucG9ydCYmdC5wb3J0IT09ODAmJnQucG9ydCE9PTQ0MyYmKGk9YCR7cn06Ly8ke3QuaG9zdG5hbWV9OiR7dC5wb3J0fSR7dC5wYXRofWApLHR5cGVvZiB0LnRyYW5zZm9ybVdzVXJsPT1cImZ1bmN0aW9uXCImJihpPXQudHJhbnNmb3JtV3NVcmwoaSx0LGUpKSxpfWZ1bmN0aW9uIFRTKCl7eXQub25PcGVuKCgpPT57TGUuc29ja2V0UmVhZHkoKTt9KSx5dC5vbk1lc3NhZ2UodD0+e2xldHtkYXRhOmV9PXQ7ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2U9UmcuQnVmZmVyLmZyb20oZSk6ZT1SZy5CdWZmZXIuZnJvbShlLFwidXRmOFwiKSxwbC5wdXNoKGUpO30pLHl0Lm9uQ2xvc2UoKCk9PntMZS5lbWl0KFwiY2xvc2VcIiksTGUuZW5kKCksTGUuZGVzdHJveSgpO30pLHl0Lm9uRXJyb3IodD0+e2xldCBlPW5ldyBFcnJvcih0LmVyck1zZyk7TGUuZGVzdHJveShlKTt9KTt9dmFyIFJTPSh0LGUpPT57aWYoZS5ob3N0bmFtZT1lLmhvc3RuYW1lfHxlLmhvc3QsIWUuaG9zdG5hbWUpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBob3N0LiBTcGVjaWZ5IGhvc3QgbWFudWFsbHkuXCIpO2xldCByPWUucHJvdG9jb2xJZD09PVwiTVFJc2RwXCImJmUucHJvdG9jb2xWZXJzaW9uPT09Mz9cIm1xdHR2My4xXCI6XCJtcXR0XCI7QVMoZSk7bGV0IGk9SVMoZSx0KTt5dD13eC5jb25uZWN0U29ja2V0KHt1cmw6aSxwcm90b2NvbHM6W3JdfSkscGw9U1MoKSxMZT1uZXcgRVMuQnVmZmVyZWREdXBsZXgoZSxwbCx5dCksTGUuX2Rlc3Ryb3k9KG8scyk9Pnt5dC5jbG9zZSh7c3VjY2Vzcygpe3MmJnMobyk7fX0pO307bGV0IG49TGUuZGVzdHJveTtyZXR1cm4gTGUuZGVzdHJveT0obyxzKT0+KExlLmRlc3Ryb3k9bixzZXRUaW1lb3V0KCgpPT57eXQuY2xvc2Uoe2ZhaWwoKXtMZS5fZGVzdHJveShvLHMpO319KTt9LDApLExlKSxUUygpLExlfTtnbC5kZWZhdWx0PVJTO30pO3ZhciBfbD1NKHdsPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHdsLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBibD0oYmUoKSxYKG1lKSksQ1M9anQoKSxCUz1scygpLHh0LGZzLHVpLENnPSExO2Z1bmN0aW9uIFBTKCl7bGV0IHQ9bmV3IENTLlRyYW5zZm9ybTtyZXR1cm4gdC5fd3JpdGU9KGUscixpKT0+e3h0LnNlbmRTb2NrZXRNZXNzYWdlKHtkYXRhOmUuYnVmZmVyLHN1Y2Nlc3MoKXtpKCk7fSxmYWlsKCl7aShuZXcgRXJyb3IpO319KTt9LHQuX2ZsdXNoPWU9Pnt4dC5jbG9zZVNvY2tldCh7c3VjY2Vzcygpe2UoKTt9fSk7fSx0fWZ1bmN0aW9uIGtTKHQpe3QuaG9zdG5hbWV8fCh0Lmhvc3RuYW1lPVwibG9jYWxob3N0XCIpLHQucGF0aHx8KHQucGF0aD1cIi9cIiksdC53c09wdGlvbnN8fCh0LndzT3B0aW9ucz17fSk7fWZ1bmN0aW9uIE9TKHQsZSl7bGV0IHI9dC5wcm90b2NvbD09PVwiYWxpc1wiP1wid3NzXCI6XCJ3c1wiLGk9YCR7cn06Ly8ke3QuaG9zdG5hbWV9JHt0LnBhdGh9YDtyZXR1cm4gdC5wb3J0JiZ0LnBvcnQhPT04MCYmdC5wb3J0IT09NDQzJiYoaT1gJHtyfTovLyR7dC5ob3N0bmFtZX06JHt0LnBvcnR9JHt0LnBhdGh9YCksdHlwZW9mIHQudHJhbnNmb3JtV3NVcmw9PVwiZnVuY3Rpb25cIiYmKGk9dC50cmFuc2Zvcm1Xc1VybChpLHQsZSkpLGl9ZnVuY3Rpb24geFMoKXtDZ3x8KENnPSEwLHh0Lm9uU29ja2V0T3BlbigoKT0+e3VpLnNvY2tldFJlYWR5KCk7fSkseHQub25Tb2NrZXRNZXNzYWdlKHQ9PntpZih0eXBlb2YgdC5kYXRhPT1cInN0cmluZ1wiKXtsZXQgZT1ibC5CdWZmZXIuZnJvbSh0LmRhdGEsXCJiYXNlNjRcIik7ZnMucHVzaChlKTt9ZWxzZSB7bGV0IGU9bmV3IEZpbGVSZWFkZXI7ZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgpPT57bGV0IHI9ZS5yZXN1bHQ7ciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3I9YmwuQnVmZmVyLmZyb20ocik6cj1ibC5CdWZmZXIuZnJvbShyLFwidXRmOFwiKSxmcy5wdXNoKHIpO30pLGUucmVhZEFzQXJyYXlCdWZmZXIodC5kYXRhKTt9fSkseHQub25Tb2NrZXRDbG9zZSgoKT0+e3VpLmVuZCgpLHVpLmRlc3Ryb3koKTt9KSx4dC5vblNvY2tldEVycm9yKHQ9Pnt1aS5kZXN0cm95KHQpO30pKTt9dmFyIE1TPSh0LGUpPT57aWYoZS5ob3N0bmFtZT1lLmhvc3RuYW1lfHxlLmhvc3QsIWUuaG9zdG5hbWUpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGRldGVybWluZSBob3N0LiBTcGVjaWZ5IGhvc3QgbWFudWFsbHkuXCIpO2xldCByPWUucHJvdG9jb2xJZD09PVwiTVFJc2RwXCImJmUucHJvdG9jb2xWZXJzaW9uPT09Mz9cIm1xdHR2My4xXCI6XCJtcXR0XCI7a1MoZSk7bGV0IGk9T1MoZSx0KTtyZXR1cm4geHQ9ZS5teSx4dC5jb25uZWN0U29ja2V0KHt1cmw6aSxwcm90b2NvbHM6cn0pLGZzPVBTKCksdWk9bmV3IEJTLkJ1ZmZlcmVkRHVwbGV4KGUsZnMseHQpLHhTKCksdWl9O3dsLmRlZmF1bHQ9TVM7fSk7dmFyIGtnPU0oQnI9PntfKCk7digpO20oKTt2YXIgY3M9QnImJkJyLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoQnIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7QnIuY29ubmVjdEFzeW5jPXZvaWQgMDt2YXIgTFM9Y3Mob3QoKSksVVM9Y3MoKHlnKCksWChnZykpKSxOUz1jcyhvcygpKSxxUz1jcyhPaSgpKTt0eXBlb2YoQj09PW51bGx8fEI9PT12b2lkIDA/dm9pZCAwOkIubmV4dFRpY2spIT1cImZ1bmN0aW9uXCImJihCLm5leHRUaWNrPXNldEltbWVkaWF0ZSk7dmFyIEJnPSgwLCBMUy5kZWZhdWx0KShcIm1xdHRqc1wiKSxkZT1udWxsO2Z1bmN0aW9uIERTKHQpe2xldCBlO3QuYXV0aCYmKGU9dC5hdXRoLm1hdGNoKC9eKC4rKTooLispJC8pLGU/KHQudXNlcm5hbWU9ZVsxXSx0LnBhc3N3b3JkPWVbMl0pOnQudXNlcm5hbWU9dC5hdXRoKTt9ZnVuY3Rpb24gUGcodCxlKXt2YXIgcixpLG4sbztpZihCZyhcImNvbm5lY3RpbmcgdG8gYW4gTVFUVCBicm9rZXIuLi5cIiksdHlwZW9mIHQ9PVwib2JqZWN0XCImJiFlJiYoZT10LHQ9XCJcIiksZT1lfHx7fSx0JiZ0eXBlb2YgdD09XCJzdHJpbmdcIil7bGV0IGw9VVMuZGVmYXVsdC5wYXJzZSh0LCEwKSxjPXt9O2lmKGwucG9ydCE9bnVsbCYmKGMucG9ydD1OdW1iZXIobC5wb3J0KSksYy5ob3N0PWwuaG9zdG5hbWUsYy5xdWVyeT1sLnF1ZXJ5LGMuYXV0aD1sLmF1dGgsYy5wcm90b2NvbD1sLnByb3RvY29sLGMucGF0aD1sLnBhdGgsYy5wcm90b2NvbD0ocj1jLnByb3RvY29sKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIucmVwbGFjZSgvOiQvLFwiXCIpLGU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGMpLGUpLCFlLnByb3RvY29sKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcHJvdG9jb2xcIil9aWYoZS51bml4U29ja2V0PWUudW5peFNvY2tldHx8KChpPWUucHJvdG9jb2wpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5pbmNsdWRlcyhcIit1bml4XCIpKSxlLnVuaXhTb2NrZXQ/ZS5wcm90b2NvbD1lLnByb3RvY29sLnJlcGxhY2UoXCIrdW5peFwiLFwiXCIpOiEoISgobj1lLnByb3RvY29sKT09PW51bGx8fG49PT12b2lkIDApJiZuLnN0YXJ0c1dpdGgoXCJ3c1wiKSkmJiEoISgobz1lLnByb3RvY29sKT09PW51bGx8fG89PT12b2lkIDApJiZvLnN0YXJ0c1dpdGgoXCJ3eFwiKSkmJmRlbGV0ZSBlLnBhdGgsRFMoZSksZS5xdWVyeSYmdHlwZW9mIGUucXVlcnkuY2xpZW50SWQ9PVwic3RyaW5nXCImJihlLmNsaWVudElkPWUucXVlcnkuY2xpZW50SWQpLGUuY2VydCYmZS5rZXkpaWYoZS5wcm90b2NvbCl7aWYoW1wibXF0dHNcIixcIndzc1wiLFwid3hzXCIsXCJhbGlzXCJdLmluZGV4T2YoZS5wcm90b2NvbCk9PT0tMSlzd2l0Y2goZS5wcm90b2NvbCl7Y2FzZVwibXF0dFwiOmUucHJvdG9jb2w9XCJtcXR0c1wiO2JyZWFrO2Nhc2VcIndzXCI6ZS5wcm90b2NvbD1cIndzc1wiO2JyZWFrO2Nhc2VcInd4XCI6ZS5wcm90b2NvbD1cInd4c1wiO2JyZWFrO2Nhc2VcImFsaVwiOmUucHJvdG9jb2w9XCJhbGlzXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcHJvdG9jb2wgZm9yIHNlY3VyZSBjb25uZWN0aW9uOiBcIiR7ZS5wcm90b2NvbH1cIiFgKX19ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHNlY3VyZSBwcm90b2NvbCBrZXlcIik7aWYoZGV8fChkZT17fSwhcVMuZGVmYXVsdCYmIWUuZm9yY2VOYXRpdmVXZWJTb2NrZXQ/KGRlLndzPVVpKCkuc3RyZWFtQnVpbGRlcixkZS53c3M9VWkoKS5zdHJlYW1CdWlsZGVyLGRlLm1xdHQ9Y2woKS5kZWZhdWx0LGRlLnRjcD1jbCgpLmRlZmF1bHQsZGUuc3NsPWRsKCkuZGVmYXVsdCxkZS50bHM9ZGUuc3NsLGRlLm1xdHRzPWRsKCkuZGVmYXVsdCk6KGRlLndzPVVpKCkuYnJvd3NlclN0cmVhbUJ1aWxkZXIsZGUud3NzPVVpKCkuYnJvd3NlclN0cmVhbUJ1aWxkZXIsZGUud3g9eWwoKS5kZWZhdWx0LGRlLnd4cz15bCgpLmRlZmF1bHQsZGUuYWxpPV9sKCkuZGVmYXVsdCxkZS5hbGlzPV9sKCkuZGVmYXVsdCkpLCFkZVtlLnByb3RvY29sXSl7bGV0IGw9W1wibXF0dHNcIixcIndzc1wiXS5pbmRleE9mKGUucHJvdG9jb2wpIT09LTE7ZS5wcm90b2NvbD1bXCJtcXR0XCIsXCJtcXR0c1wiLFwid3NcIixcIndzc1wiLFwid3hcIixcInd4c1wiLFwiYWxpXCIsXCJhbGlzXCJdLmZpbHRlcigoYyxoKT0+bCYmaCUyPT09MD8hMTp0eXBlb2YgZGVbY109PVwiZnVuY3Rpb25cIilbMF07fWlmKGUuY2xlYW49PT0hMSYmIWUuY2xpZW50SWQpdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjbGllbnRJZCBmb3IgdW5jbGVhbiBjbGllbnRzXCIpO2UucHJvdG9jb2wmJihlLmRlZmF1bHRQcm90b2NvbD1lLnByb3RvY29sKTtmdW5jdGlvbiBzKGwpe3JldHVybiBlLnNlcnZlcnMmJigoIWwuX3JlY29ubmVjdENvdW50fHxsLl9yZWNvbm5lY3RDb3VudD09PWUuc2VydmVycy5sZW5ndGgpJiYobC5fcmVjb25uZWN0Q291bnQ9MCksZS5ob3N0PWUuc2VydmVyc1tsLl9yZWNvbm5lY3RDb3VudF0uaG9zdCxlLnBvcnQ9ZS5zZXJ2ZXJzW2wuX3JlY29ubmVjdENvdW50XS5wb3J0LGUucHJvdG9jb2w9ZS5zZXJ2ZXJzW2wuX3JlY29ubmVjdENvdW50XS5wcm90b2NvbD9lLnNlcnZlcnNbbC5fcmVjb25uZWN0Q291bnRdLnByb3RvY29sOmUuZGVmYXVsdFByb3RvY29sLGUuaG9zdG5hbWU9ZS5ob3N0LGwuX3JlY29ubmVjdENvdW50KyspLEJnKFwiY2FsbGluZyBzdHJlYW1idWlsZGVyIGZvclwiLGUucHJvdG9jb2wpLGRlW2UucHJvdG9jb2xdKGwsZSl9bGV0IGE9bmV3IE5TLmRlZmF1bHQocyxlKTtyZXR1cm4gYS5vbihcImVycm9yXCIsKCk9Pnt9KSxhfWZ1bmN0aW9uIGpTKHQsZSxyPSEwKXtyZXR1cm4gbmV3IFByb21pc2UoKGksbik9PntsZXQgbz1QZyh0LGUpLHM9e2Nvbm5lY3Q6bD0+e2EoKSxpKG8pO30sZW5kOigpPT57YSgpLGkobyk7fSxlcnJvcjpsPT57YSgpLG8uZW5kKCksbihsKTt9fTtyPT09ITEmJihzLmNsb3NlPSgpPT57cy5lcnJvcihuZXcgRXJyb3IoXCJDb3VsZG4ndCBjb25uZWN0IHRvIHNlcnZlclwiKSk7fSk7ZnVuY3Rpb24gYSgpe09iamVjdC5rZXlzKHMpLmZvckVhY2gobD0+e28ub2ZmKGwsc1tsXSk7fSk7fU9iamVjdC5rZXlzKHMpLmZvckVhY2gobD0+e28ub24obCxzW2xdKTt9KTt9KX1Cci5jb25uZWN0QXN5bmM9alM7QnIuZGVmYXVsdD1QZzt9KTt2YXIgbWw9TShHPT57XygpO3YoKTttKCk7dmFyIE9nPUcmJkcuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUscixpKXtpPT09dm9pZCAwJiYoaT1yKTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7KCFufHwoXCJnZXRcImluIG4/IWUuX19lc01vZHVsZTpuLndyaXRhYmxlfHxuLmNvbmZpZ3VyYWJsZSkpJiYobj17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtyXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLG4pO306ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9ciksdFtpXT1lW3JdO30pLEZTPUcmJkcuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KTt9OmZ1bmN0aW9uKHQsZSl7dC5kZWZhdWx0PWU7fSksV1M9RyYmRy5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZih0IT1udWxsKWZvcih2YXIgciBpbiB0KXIhPT1cImRlZmF1bHRcIiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJk9nKGUsdCxyKTtyZXR1cm4gRlMoZSx0KSxlfSx4Zz1HJiZHLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gdClyIT09XCJkZWZhdWx0XCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmT2coZSx0LHIpO30sRGk9RyYmRy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KEcsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Ry5SZWFzb25Db2Rlcz1HLktlZXBhbGl2ZU1hbmFnZXI9Ry5VbmlxdWVNZXNzYWdlSWRQcm92aWRlcj1HLkRlZmF1bHRNZXNzYWdlSWRQcm92aWRlcj1HLlN0b3JlPUcuTXF0dENsaWVudD1HLmNvbm5lY3RBc3luYz1HLmNvbm5lY3Q9Ry5DbGllbnQ9dm9pZCAwO3ZhciBNZz1EaShvcygpKTtHLk1xdHRDbGllbnQ9TWcuZGVmYXVsdDt2YXIgJFM9RGkoWm8oKSk7Ry5EZWZhdWx0TWVzc2FnZUlkUHJvdmlkZXI9JFMuZGVmYXVsdDt2YXIgSFM9RGkoVnAoKSk7Ry5VbmlxdWVNZXNzYWdlSWRQcm92aWRlcj1IUy5kZWZhdWx0O3ZhciBWUz1EaShyYSgpKTtHLlN0b3JlPVZTLmRlZmF1bHQ7dmFyIExnPVdTKGtnKCkpO0cuY29ubmVjdD1MZy5kZWZhdWx0O09iamVjdC5kZWZpbmVQcm9wZXJ0eShHLFwiY29ubmVjdEFzeW5jXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIExnLmNvbm5lY3RBc3luY319KTt2YXIgelM9RGkoV2EoKSk7Ry5LZWVwYWxpdmVNYW5hZ2VyPXpTLmRlZmF1bHQ7Ry5DbGllbnQ9TWcuZGVmYXVsdDt4ZyhvcygpLEcpO3hnKF9yKCksRyk7dmFyIEtTPVRpKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEcsXCJSZWFzb25Db2Rlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBLUy5SZWFzb25Db2Rlc319KTt9KTt2YXIgWFM9TShXZT0+e18oKTt2KCk7bSgpO3ZhciBVZz1XZSYmV2UuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUscixpKXtpPT09dm9pZCAwJiYoaT1yKTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7KCFufHwoXCJnZXRcImluIG4/IWUuX19lc01vZHVsZTpuLndyaXRhYmxlfHxuLmNvbmZpZ3VyYWJsZSkpJiYobj17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtyXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLG4pO306ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9ciksdFtpXT1lW3JdO30pLEdTPVdlJiZXZS5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pO306ZnVuY3Rpb24odCxlKXt0LmRlZmF1bHQ9ZTt9KSxRUz1XZSYmV2UuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIHIgaW4gdClyIT09XCJkZWZhdWx0XCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZVZyhlLHQscik7cmV0dXJuIEdTKGUsdCksZX0sWVM9V2UmJldlLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gdClyIT09XCJkZWZhdWx0XCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmVWcoZSx0LHIpO307T2JqZWN0LmRlZmluZVByb3BlcnR5KFdlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBKUz1RUyhtbCgpKTtXZS5kZWZhdWx0PUpTO1lTKG1sKCksV2UpO30pO3ZhciBtcXR0ID0gWFMoKTtcbi8qISBCdW5kbGVkIGxpY2Vuc2UgaW5mb3JtYXRpb246XG5cbkBqc3BtL2NvcmUvbm9kZWxpYnMvYnJvd3Nlci9idWZmZXIuanM6XG4gICgqISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICopXG4qL1xuXG5jbGFzcyBDbG91ZEludGVyb3BBUElFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb2RlO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSAnQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQnLCBjb2RlID0gJ1VORVhQRUNURURfRVJST1InLCBjYXVzZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCB7IGNhdXNlOiBjYXVzZSB9KTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cbmNsYXNzIEF1dGhvcml6YXRpb25FcnJvciBleHRlbmRzIENsb3VkSW50ZXJvcEFQSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ05vdCBhdXRob3JpemVkJywgY29kZSA9ICdFUlJfVU5BVVRIT1JJWkVEJykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBjb2RlLCB1bmRlZmluZWQpO1xuICAgIH1cbn1cblxuLy8gRXJyb3IgY29kZXMgYXMgZGVmaW5lZCBpbiBodHRwczovL2RvY3MuZW1xeC5jb20vZW4vY2xvdWQvbGF0ZXN0L2Nvbm5lY3RfdG9fZGVwbG95bWVudHMvbXF0dF9jbGllbnRfZXJyb3JfY29kZXMuaHRtbFxuY29uc3QgQmFkVXNlck5hbWVQYXNzd29yZEVycm9yID0gMTM0O1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgc2luZ2xlIGNvbm5lY3Rpb24gdG8gYSBDbG91ZCBJbnRlcm9wIHNlcnZpY2VcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ2xvdWRJbnRlcm9wQVBJXG4gKiBAaW1wbGVtZW50cyB7Q2xpZW50fVxuICovXG5jbGFzcyBDbG91ZEludGVyb3BBUEkge1xuICAgICNjbG91ZEludGVyb3BTZXR0aW5ncztcbiAgICAjc2Vzc2lvbkRldGFpbHM7XG4gICAgI21xdHRDbGllbnQ7XG4gICAgI3JlY29ubmVjdFJldHJ5TGltaXQgPSAzMDtcbiAgICAja2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzID0gMzA7XG4gICAgI2xvZ2dlciA9IChsZXZlbCwgbWVzc2FnZSkgPT4ge1xuICAgICAgICBjb25zb2xlW2xldmVsXShtZXNzYWdlKTtcbiAgICB9O1xuICAgICNyZWNvbm5lY3RSZXRyaWVzID0gMDtcbiAgICAjY29ubmVjdGlvblBhcmFtcztcbiAgICAjZXZlbnRMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgI2F0dGVtcHRpbmdUb1JlY29ubmVjdCA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKGNsb3VkSW50ZXJvcFNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuI2Nsb3VkSW50ZXJvcFNldHRpbmdzID0gY2xvdWRJbnRlcm9wU2V0dGluZ3M7XG4gICAgfVxuICAgIGdldCBzZXNzaW9uRGV0YWlscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Nlc3Npb25EZXRhaWxzO1xuICAgIH1cbiAgICBnZXQgbXF0dENsaWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI21xdHRDbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3RzIGFuZCBjcmVhdGVzIGEgc2Vzc2lvbiBvbiB0aGUgQ2xvdWQgSW50ZXJvcCBzZXJ2aWNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Nvbm5lY3RQYXJhbWV0ZXJzfSBwYXJhbWV0ZXJzIC0gVGhlIHBhcmFtZXRlcnMgdG8gdXNlIHRvIGNvbm5lY3RcbiAgICAgKiBAcmV0dXJuIHsqfSAge1Byb21pc2U8dm9pZD59XG4gICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcEFQSVxuICAgICAqIEB0aHJvd3Mge0Nsb3VkSW50ZXJvcEFQSUVycm9yfSAtIElmIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgY29ubmVjdGlvblxuICAgICAqIEB0aHJvd3Mge0F1dGhvcml6YXRpb25FcnJvcn0gLSBJZiB0aGUgY29ubmVjdGlvbiBpcyB1bmF1dGhvcml6ZWRcbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy4jdmFsaWRhdGVDb25uZWN0UGFyYW1zKHBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLiNjb25uZWN0aW9uUGFyYW1zID0gcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy4jcmVjb25uZWN0UmV0cnlMaW1pdCA9IHBhcmFtZXRlcnMucmVjb25uZWN0UmV0cnlMaW1pdCB8fCB0aGlzLiNyZWNvbm5lY3RSZXRyeUxpbWl0O1xuICAgICAgICB0aGlzLiNrZWVwQWxpdmVJbnRlcnZhbFNlY29uZHMgPSBwYXJhbWV0ZXJzLmtlZXBBbGl2ZUludGVydmFsU2Vjb25kcyB8fCB0aGlzLiNrZWVwQWxpdmVJbnRlcnZhbFNlY29uZHM7XG4gICAgICAgIHRoaXMuI2xvZ2dlciA9IHBhcmFtZXRlcnMubG9nZ2VyIHx8IHRoaXMuI2xvZ2dlcjtcbiAgICAgICAgY29uc3QgeyBzb3VyY2VJZCwgcGxhdGZvcm1JZCB9ID0gdGhpcy4jY29ubmVjdGlvblBhcmFtcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVNlc3Npb25SZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7dGhpcy4jY2xvdWRJbnRlcm9wU2V0dGluZ3MudXJsfS9hcGkvc2Vzc2lvbnNgLCB7XG4gICAgICAgICAgICAgICAgc291cmNlSWQsXG4gICAgICAgICAgICAgICAgcGxhdGZvcm1JZCxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLiNnZXRSZXF1ZXN0SGVhZGVycygpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY3JlYXRlU2Vzc2lvblJlc3BvbnNlLnN0YXR1cyAhPT0gMjAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKGBGYWlsZWQgdG8gY29ubmVjdCB0byB0aGUgQ2xvdWQgSW50ZXJvcCBzZXJ2aWNlOiAke3RoaXMuI2Nsb3VkSW50ZXJvcFNldHRpbmdzLnVybH1gLCAnRVJSX0NPTk5FQ1QnLCBjcmVhdGVTZXNzaW9uUmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI3Nlc3Npb25EZXRhaWxzID0gY3JlYXRlU2Vzc2lvblJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uUm9vdFRvcGljID0gdGhpcy4jc2Vzc2lvbkRldGFpbHMuc2Vzc2lvblJvb3RUb3BpYztcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAga2VlcGFsaXZlOiB0aGlzLiNrZWVwQWxpdmVJbnRlcnZhbFNlY29uZHMsXG4gICAgICAgICAgICAgICAgY2xpZW50SWQ6IHRoaXMuI3Nlc3Npb25EZXRhaWxzLnNlc3Npb25JZCxcbiAgICAgICAgICAgICAgICBjbGVhbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcm90b2NvbFZlcnNpb246IDUsXG4gICAgICAgICAgICAgICAgLy8gVGhlIFwid2lsbFwiIG1lc3NhZ2Ugd2lsbCBiZSBwdWJsaXNoZWQgb24gYW4gdW5leHBlY3RlZCBkaXNjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgLy8gVGhlIHNlcnZlciBjYW4gdGhlbiB0aWR5IHVwLiAgU28gaXQgbmVlZHMgZXZlcnkgZm9yIHRoaXMgY2xpZW50IHRvIGRvIHRoYXQsIHRoZSBzZXNzaW9uIGRldGFpbHMgaXMgcGVyZmVjdFxuICAgICAgICAgICAgICAgIHdpbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9waWM6ICdpbnRlcm9wL2xhc3R3aWxsJyxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkodGhpcy4jc2Vzc2lvbkRldGFpbHMpKSxcbiAgICAgICAgICAgICAgICAgICAgcW9zOiAwLFxuICAgICAgICAgICAgICAgICAgICByZXRhaW46IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWxsRGVsYXlJbnRlcnZhbDogMTAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy4jc2Vzc2lvbkRldGFpbHMudG9rZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy4jbXF0dENsaWVudCA9IGF3YWl0IG1xdHQuY29ubmVjdEFzeW5jKHRoaXMuI3Nlc3Npb25EZXRhaWxzLnVybCwgY2xpZW50T3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ2xvZycsIGBDbG91ZCBJbnRlcm9wIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gJHt0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncy51cmx9YCk7XG4gICAgICAgICAgICB0aGlzLiNtcXR0Q2xpZW50Lm9uKCdlcnJvcicsIGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdlIHdpbGwgcmVjZWl2ZSBlcnJvcnMgZm9yIGVhY2ggZmFpbGVkIHJlY29ubmVjdGlvbiBhdHRlbXB0XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd29uJ3QgdG8gZGlzY29ubmVjdCBvbiB0aGVzZSBlbHNlIHdlIHdpbGwgbmV2ZXIgcmVjb25uZWN0XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jZGlzY29ubmVjdChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIG1xdHQuRXJyb3JXaXRoUmVhc29uQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQmFkVXNlck5hbWVQYXNzd29yZEVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jZGlzY29ubmVjdChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCd3YXJuJywgYFNlc3Npb24gZXhwaXJlZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2VtaXRFdmVudCgnc2Vzc2lvbi1leHBpcmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignZXJyb3InLCBgVW5rbm93biBJbmZyYXN0cnVjdHVyZSBFcnJvciBDb2RlICR7ZXJyb3IuY29kZX0gOiAke2Vycm9yLm1lc3NhZ2V9JHt0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPyAnIGR1cmluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdCcgOiAnJ31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcyB3ZSBhcmUgaW4gdGhlIG1pZGRsZSBvZiBhIHJlY29ubmVjdCwgbGV0cyBub3QgZW1pdCBhbiBlcnJvciB0byBjdXQgZG93biBvbiB0aGUgZXZlbnQgbm9pc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNlbWl0RXZlbnQoJ2Vycm9yJywgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKGBVbmtub3duIEluZnJhc3RydWN0dXJlIEVycm9yIENvZGUgJHtlcnJvci5jb2RlfSA6ICR7ZXJyb3IubWVzc2FnZX1gLCAnRVJSX0lORlJBU1RSVUNUVVJFJywgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ2Vycm9yJywgYFVua25vd24gRXJyb3Ike3RoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCA/ICcgZHVyaW5nIHJlY29ubmVjdGlvbiBhdHRlbXB0JyA6ICcnfTogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXMgd2UgYXJlIGluIHRoZSBtaWRkbGUgb2YgYSByZWNvbm5lY3QsIGxldHMgbm90IGVtaXQgYW4gZXJyb3IgdG8gY3V0IGRvd24gb24gdGhlIGV2ZW50IG5vaXNlXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy4jYXR0ZW1wdGluZ1RvUmVjb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNlbWl0RXZlbnQoJ2Vycm9yJywgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKGBVbmtub3duIEVycm9yYCwgJ0VSUl9VTktOT1dOJywgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4jbXF0dENsaWVudC5vbigncmVjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4jcmVjb25uZWN0UmV0cmllcyArPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignZGVidWcnLCBgQ2xvdWQgSW50ZXJvcCBhdHRlbXB0aW5nIHJlY29ubmVjdGlvbiAtICR7dGhpcy4jcmVjb25uZWN0UmV0cmllc30uLi5gKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jcmVjb25uZWN0UmV0cmllcyA9PT0gdGhpcy4jcmVjb25uZWN0UmV0cnlMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ3dhcm4nLCBgQ2xvdWQgSW50ZXJvcCByZWFjaGVkIG1heCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgLSAke3RoaXMuI3JlY29ubmVjdFJldHJ5TGltaXR9Li4uYCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2Rpc2Nvbm5lY3QodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuI2VtaXRFdmVudCgncmVjb25uZWN0aW5nJywgdGhpcy4jcmVjb25uZWN0UmV0cmllcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIERvZXMgbm90IGZpcmUgb24gaW5pdGlhbCBjb25uZWN0aW9uLCBvbmx5IHN1Y2Nlc3NmdWwgcmVjb25uZWN0aW9uIGF0dGVtcHRzXG4gICAgICAgICAgICB0aGlzLiNtcXR0Q2xpZW50Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignZGVidWcnLCBgQ2xvdWQgSW50ZXJvcCBzdWNjZXNzZnVsbHkgcmVjb25uZWN0ZWQgYWZ0ZXIgJHt0aGlzLiNyZWNvbm5lY3RSZXRyaWVzfSBhdHRlbXB0c2ApO1xuICAgICAgICAgICAgICAgIHRoaXMuI3JlY29ubmVjdFJldHJpZXMgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuI2VtaXRFdmVudCgncmVjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4jbXF0dENsaWVudC5vbignbWVzc2FnZScsICh0b3BpYywgbWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy4jc2Vzc2lvbkRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCd3YXJuJywgJ1JlY2VpdmVkIG1lc3NhZ2Ugd2hlbiBzZXNzaW9uIG5vdCBjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiNoYW5kbGVDb21tYW5kKHRvcGljLCBtZXNzYWdlLCB0aGlzLiNzZXNzaW9uRGV0YWlscyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFN1YnNjcmliZSB0byBhbGwgY29udGV4dCBncm91cHNcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQuc3Vic2NyaWJlKGAke3Nlc3Npb25Sb290VG9waWN9L2NvbnRleHQtZ3JvdXBzLyNgKTtcbiAgICAgICAgICAgIC8vIExpc3RlbiBvdXQgZm9yIGdsb2JhbCBjb21tYW5kc1xuICAgICAgICAgICAgdGhpcy4jbXF0dENsaWVudC5zdWJzY3JpYmUoYCR7c2Vzc2lvblJvb3RUb3BpY30vY29tbWFuZHNgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSB8fCBlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhvcml6YXRpb25FcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRJbnRlcm9wQVBJRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIGZyb20gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAqXG4gICAgICogQHJldHVybiB7Kn0gIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BBUElcbiAgICAgKiBAdGhyb3dzIHtDbG91ZEludGVyb3BBUElFcnJvcn0gLSBJZiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGRpc2Nvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLiNkaXNjb25uZWN0KHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgYSBuZXcgY29udGV4dCBmb3IgdGhlIGdpdmVuIGNvbnRleHQgZ3JvdXAgdG8gdGhlIG90aGVyIGNvbm5lY3RlZCBzZXNzaW9uc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHRHcm91cCAtIFRoZSBjb250ZXh0IGdyb3VwIHRvIHB1Ymxpc2ggdG9cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIHB1Ymxpc2hcbiAgICAgKiBAcmV0dXJuIHsqfSAge1Byb21pc2U8dm9pZD59XG4gICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcEFQSVxuICAgICAqL1xuICAgIGFzeW5jIHNldENvbnRleHQoY29udGV4dEdyb3VwLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICghdGhpcy4jc2Vzc2lvbkRldGFpbHMgfHwgIXRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2Vzc2lvbiBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoYCR7dGhpcy4jY2xvdWRJbnRlcm9wU2V0dGluZ3MudXJsfS9hcGkvY29udGV4dC1ncm91cHMvJHt0aGlzLiNzZXNzaW9uRGV0YWlscy5zZXNzaW9uSWR9LyR7Y29udGV4dEdyb3VwfWAsIHBheWxvYWQsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuI2dldFJlcXVlc3RIZWFkZXJzKCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuI2V2ZW50TGlzdGVuZXJzLmdldCh0eXBlKSB8fCBbXTtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB0aGlzLiNldmVudExpc3RlbmVycy5zZXQodHlwZSwgbGlzdGVuZXJzKTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLiNldmVudExpc3RlbmVycy5nZXQodHlwZSkgfHwgW107XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNldmVudExpc3RlbmVycy5zZXQodHlwZSwgbGlzdGVuZXJzKTtcbiAgICB9XG4gICAgYXN5bmMgI2Rpc2Nvbm5lY3QoZmlyZURpc2Nvbm5lY3RlZEV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy4jc2Vzc2lvbkRldGFpbHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGlzY29ubmVjdFJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZGVsZXRlKGAke3RoaXMuI2Nsb3VkSW50ZXJvcFNldHRpbmdzLnVybH0vYXBpL3Nlc3Npb25zLyR7dGhpcy4jc2Vzc2lvbkRldGFpbHMuc2Vzc2lvbklkfWAsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLiNnZXRSZXF1ZXN0SGVhZGVycygpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZGlzY29ubmVjdFJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKCdFcnJvciBkdXJpbmcgc2Vzc2lvbiB0ZWFyIGRvd24gLSB1bmV4cGVjdGVkIHN0YXR1cycsICdFUlJfRElTQ09OTkVDVCcsIGRpc2Nvbm5lY3RSZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDbG91ZEludGVyb3BBUElFcnJvcignRXJyb3IgZHVyaW5nIGRpc2Nvbm5lY3Rpb24nLCAnRVJSX0RJU0NPTk5FQ1QnKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQ/LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jbXF0dENsaWVudD8uZW5kQXN5bmModHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLiNzZXNzaW9uRGV0YWlscyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLiNyZWNvbm5lY3RSZXRyaWVzID0gMDtcbiAgICAgICAgICAgIHRoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGZpcmVEaXNjb25uZWN0ZWRFdmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2VtaXRFdmVudCgnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgI2hhbmRsZUNvbW1hbmQodG9waWMsIG1lc3NhZ2UsIHNlc3Npb25EZXRhaWxzKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA9PT0gMCB8fCAhc2Vzc2lvbkRldGFpbHMpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBjbGVhbiB1cCBtZXNzYWdlc1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VFbnZlbG9wZSA9IEpTT04ucGFyc2UobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHRvcGljLnN0YXJ0c1dpdGgoYCR7c2Vzc2lvbkRldGFpbHMuc2Vzc2lvblJvb3RUb3BpY30vY29udGV4dC1ncm91cHMvYCkpIHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlRW52ZWxvcGUuc291cmNlLnNlc3Npb25JZCA9PT0gc2Vzc2lvbkRldGFpbHMuc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBjaGFubmVsTmFtZTogY29udGV4dEdyb3VwLCBwYXlsb2FkOiBjb250ZXh0LCBzb3VyY2UsIGhpc3RvcnkgfSA9IG1lc3NhZ2VFbnZlbG9wZTtcbiAgICAgICAgICAgIHRoaXMuI2VtaXRFdmVudCgnY29udGV4dCcsIHsgY29udGV4dEdyb3VwLCBjb250ZXh0LCBzb3VyY2UsIGhpc3Rvcnk6IHsgLi4uaGlzdG9yeSwgY2xpZW50UmVjZWl2ZWQ6IERhdGUubm93KCkgfSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjZW1pdEV2ZW50KHR5cGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy4jZXZlbnRMaXN0ZW5lcnMuZ2V0KHR5cGUpIHx8IFtdO1xuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgI3ZhbGlkYXRlQ29ubmVjdFBhcmFtcyA9IChwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgIGlmICghcGFyYW1ldGVycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25uZWN0IHBhcmFtZXRlcnMgbXVzdCBiZSBwcm92aWRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLmF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gJ2p3dCcgJiZcbiAgICAgICAgICAgICghcGFyYW1ldGVycy5qd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnM/Lmp3dFJlcXVlc3RDYWxsYmFjayB8fCAhcGFyYW1ldGVycy5qd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnM/LmF1dGhlbnRpY2F0aW9uSWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2p3dEF1dGhlbnRpY2F0aW9uUGFyYW1ldGVycyBtdXN0IGJlIHByb3ZpZGVkIHdoZW4gdXNpbmcgand0IGF1dGhlbnRpY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtZXRlcnMuYXV0aGVudGljYXRpb25UeXBlID09PSAnYmFzaWMnICYmXG4gICAgICAgICAgICAoIXBhcmFtZXRlcnMuYmFzaWNBdXRoZW50aWNhdGlvblBhcmFtZXRlcnM/LnVzZXJuYW1lIHx8ICFwYXJhbWV0ZXJzLmJhc2ljQXV0aGVudGljYXRpb25QYXJhbWV0ZXJzPy5wYXNzd29yZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFzaWNBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMgbXVzdCBiZSBwcm92aWRlZCB3aGVuIHVzaW5nIGJhc2ljIGF1dGhlbnRpY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgICNnZXRSZXF1ZXN0SGVhZGVycyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLiNjb25uZWN0aW9uUGFyYW1zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nvbm5lY3QgcGFyYW1ldGVycyBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBBeGlvc0hlYWRlcnMoKTtcbiAgICAgICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIGlmICh0aGlzLiNjb25uZWN0aW9uUGFyYW1zLmF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gJ2p3dCcgJiYgdGhpcy4jY29ubmVjdGlvblBhcmFtcy5qd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuUmVzdWx0ID0gdGhpcy4jY29ubmVjdGlvblBhcmFtcy5qd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMuand0UmVxdWVzdENhbGxiYWNrKCk7XG4gICAgICAgICAgICBpZiAoIXRva2VuUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqd3RSZXF1ZXN0Q2FsbGJhY2sgbXVzdCByZXR1cm4gYSB0b2tlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVhZGVyc1sneC1vZi1hdXRoLWlkJ10gPSB0aGlzLiNjb25uZWN0aW9uUGFyYW1zLmp3dEF1dGhlbnRpY2F0aW9uUGFyYW1ldGVycy5hdXRoZW50aWNhdGlvbklkO1xuICAgICAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgdG9rZW5SZXN1bHQgPT09ICdzdHJpbmcnID8gYEJlYXJlciAke3Rva2VuUmVzdWx0fWAgOiBgQmVhcmVyICR7QnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkodG9rZW5SZXN1bHQpKS50b1N0cmluZygnYmFzZTY0Jyl9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jY29ubmVjdGlvblBhcmFtcy5hdXRoZW50aWNhdGlvblR5cGUgPT09ICdiYXNpYycgJiYgdGhpcy4jY29ubmVjdGlvblBhcmFtcy5iYXNpY0F1dGhlbnRpY2F0aW9uUGFyYW1ldGVycykge1xuICAgICAgICAgICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMuYmFzaWNBdXRoZW50aWNhdGlvblBhcmFtZXRlcnM7XG4gICAgICAgICAgICBoZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmFzaWMgJHtCdWZmZXIuZnJvbShgJHt1c2VybmFtZX06JHtwYXNzd29yZH1gKS50b1N0cmluZygnYmFzZTY0Jyl9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9O1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG52YXIgTG9nTGV2ZWw7XG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJERUJVR1wiXSA9IDBdID0gXCJERUJVR1wiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiSU5GT1wiXSA9IDFdID0gXCJJTkZPXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXQVJOXCJdID0gMl0gPSBcIldBUk5cIjtcbiAgICAvLyBUT0RPOiBldmVudHVhbGx5IHN1cHBvcnQgTk9ORSA9IDNcbn0pKExvZ0xldmVsIHx8IChMb2dMZXZlbCA9IHt9KSk7XG5jb25zdCBsZXZlbFRvU3RyID0gbmV3IE1hcChbXG4gICAgW0xvZ0xldmVsLkRFQlVHLCAnZGVidWcnXSxcbiAgICBbTG9nTGV2ZWwuSU5GTywgJ2luZm8nXSxcbiAgICBbTG9nTGV2ZWwuV0FSTiwgJ3dhcm4nXVxuXSk7XG5jb25zdCBzdHJUb0xldmVsID0gbmV3IE1hcChbXG4gICAgWydkZWJ1ZycsIExvZ0xldmVsLkRFQlVHXSxcbiAgICBbJ2luZm8nLCBMb2dMZXZlbC5JTkZPXSxcbiAgICBbJ3dhcm4nLCBMb2dMZXZlbC5XQVJOXSxcbiAgICAvLyByZWR1Y2UgJ2Vycm9yJyBhbmQgJ2xvZycgdG8gd2Fybi9pbmZvXG4gICAgWydlcnJvcicsIExvZ0xldmVsLldBUk5dLFxuICAgIFsnbG9nJywgTG9nTGV2ZWwuSU5GT11cbl0pO1xuY29uc3QgZ2V0VGltZXN0YW1wID0gKCkgPT4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1QnLCAnICcpLnJlcGxhY2UoJ1onLCAnJyk7XG4vKipcbiAqIFRoaXMgbG9nZ2VyIHJldHJvZml0cyBvbiB0b3Agb2YgdGhlIENsb3VkQVBJTG9nZ2VyIGZ1bmN0aW9uIHNpZ25hdHVyZSBzbyBpdCBtdXN0IHVzZSBDbG91ZEFQSUxvZ0xldmVsIGlucHV0c1xuICovXG5jbGFzcyBMb2dnZXIge1xuICAgIGxvZ0xldmVsO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNvbnN0cnVjdG9yXG4gICAgY29uc3RydWN0b3IobGV2ZWwgPSAnd2FybicpIHtcbiAgICAgICAgdGhpcy5sb2dMZXZlbCA9IHN0clRvTGV2ZWwuZ2V0KGxldmVsKSA/PyBMb2dMZXZlbC5XQVJOO1xuICAgIH1cbiAgICBsb2cobG9nTGV2ZWwsIG1lc3NhZ2UsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgbGV2ZWwgPSBzdHJUb0xldmVsLmdldChsb2dMZXZlbCkgPz8gdGhpcy5sb2dMZXZlbDtcbiAgICAgICAgaWYgKHRoaXMubG9nTGV2ZWwgPD0gbGV2ZWwpIHtcbiAgICAgICAgICAgIC8vIGFsd2F5cyB3cml0ZSB0byBjb25zb2xlLmRlYnVnIHRvIGF2b2lkIGNsdXR0ZXJpbmcgY2xpZW50IGxvZ3NcbiAgICAgICAgICAgIC8vIFRPRE8oUlVOLTkzNzApOiBDaGFuZ2UgdGhpcyB0byBjb25zb2xlLmRlYnVnIGFmdGVyIHRoaXMgcnVudGltZSB0aWNrZXQgaXMgZml4ZWRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2dldFRpbWVzdGFtcCgpfSB8IENsb3VkSW50ZXJvcE92ZXJyaWRlIFske2xldmVsVG9TdHIuZ2V0KGxldmVsKX1dICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgaXNDb250ZXh0ID0gKGNoYW4pID0+IHtcbiAgICBjb25zdCBjID0gY2hhbjtcbiAgICByZXR1cm4gYyAmJiB0eXBlb2YgYyA9PT0gJ29iamVjdCcgJiYgJ3R5cGUnIGluIGMgJiYgISgnYnJvYWRjYXN0JyBpbiBjKTtcbn07XG5cbmNvbnN0IERFRkFVTFRfVElNRU9VVCA9IDMwMDA7XG4vKipcbiAqIEVuaGFuY2VzIEludGVyb3BCcm9rZXIgd2l0aCBDbG91ZCBJbnRlcm9wIGZ1bmN0aW9uYWxpdHlcbiAqXG4gKiBFbnN1cmUgdGhhdCBDbG91ZEludGVyb3BPdmVycmlkZSBjb21lcyBmaXJzdCBpbiB0aGUgbGlzdCBvZiBjb21wb3NhYmxlIG92ZXJyaWRlcywgZm9yIGV4YW1wbGU6XG4gKiBgYGBcbiAqIGNvbnN0IENsb3VkSW50ZXJvcE92ZXJyaWRlID0gYXdhaXQgY2xvdWRJbnRlcm9wT3ZlcnJpZGUoc2V0dGluZ3MpO1xuICogYXdhaXQgZmluLlBsYXRmb3JtLmluaXQoe1xuICogICAgIC4uLixcbiAqICAgICBpbnRlcm9wT3ZlcnJpZGU6IFtcbiAqICAgICAgICAgQ2xvdWRJbnRlcm9wT3ZlcnJpZGUsIC8vIDwtLS0gbXVzdCBjb21lIGZpcnN0XG4gKiAgICAgICAgIChCYXNlUHJvdmlkZXIpID0+IGNsYXNzIE15Q3VzdG9tUHJvdmlkZXIgZXh0ZW5kcyBCYXNlUHJvdmlkZXIgeyAuLi4gfVxuICogICAgIF1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtDbG91ZEludGVyb3BPdmVycmlkZVBhcmFtc30gY29uZmlnIENvbmZpZ3VyYXRpb24gdG8gY29ubmVjdCB0byB0aGUgQ2xvdWQgSW50ZXJvcCBzZXJ2aWNlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNsb3VkSW50ZXJvcE92ZXJyaWRlKGNvbmZpZykge1xuICAgIGNvbnN0IHsgdXJsLCBmaW5kSW50ZW50VGltZW91dCA9IERFRkFVTFRfVElNRU9VVCwgbG9nTGV2ZWwgPSAnd2FybicsIGxvZ2dlciA9IG5ldyBMb2dnZXIobG9nTGV2ZWwpLCAuLi5zZXR0aW5ncyB9ID0gY29uZmlnO1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBDbG91ZEludGVyb3BBUEkoeyB1cmwgfSk7XG4gICAgLy8gY3JlYXRlIGNsb3N1cmUgdG8gdXNlIGNvbXB1dGVkIHNldHRpbmdzIGFib3ZlIGluIHRoZSBDbG91ZEludGVyb3BPdmVycmlkZTo6cmVjb25uZWN0IGZ1bmN0aW9uIGJlbG93XG4gICAgY29uc3QgaW5pdENvbm5lY3QgPSBhc3luYyAoY29ubmVjdFBhcmFtcyA9IHNldHRpbmdzKSA9PiB7XG4gICAgICAgIGNsaWVudC5jb25uZWN0KHtcbiAgICAgICAgICAgIC4uLmNvbm5lY3RQYXJhbXMsXG4gICAgICAgICAgICAvLyBzaGltIG91ciBsb2dTaW5rIG9udG8gY2xvdWQtYXBpIGxvZ2dlciBmdW5jXG4gICAgICAgICAgICBsb2dnZXI6IChsZXZlbCwgbXNnKSA9PiBsb2dnZXIubG9nKGxldmVsLCBtc2cpXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgaXNMb2NhbFRhcmdldFNlc3Npb24gPSAodGFyZ2V0QXBwSWQpID0+IHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdHlwZW9mIHRhcmdldEFwcElkID09PSAnc3RyaW5nJyA/IHRhcmdldEFwcElkIDogdGFyZ2V0QXBwSWQuYXBwSWQ7XG4gICAgICAgIGNvbnN0IHRhcmdldFNlc3Npb25JZCA9IGNsaWVudC5wYXJzZVNlc3Npb25JZCh0YXJnZXQpO1xuICAgICAgICByZXR1cm4gIXRhcmdldFNlc3Npb25JZCB8fCB0YXJnZXRTZXNzaW9uSWQgPT09IGNsaWVudC5zZXNzaW9uRGV0YWlscz8uc2Vzc2lvbklkO1xuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgaW5pdENvbm5lY3QoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBsb2dnZXIubG9nKCd3YXJuJywgYEZhaWxlZCB0byBjb25uZWN0IHRvIENsb3VkIEludGVyb3AgU2VydmljZS4gQ2FsbCBpbnRlcm9wQnJva2VyLmNsb3VkUmVjb25uZWN0KCkgdG8gYXR0ZW1wdCByZWNvbm5lY3Rpb25gLCBlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gKEJhc2VQcm92aWRlcikgPT4ge1xuICAgICAgICByZXR1cm4gY2xhc3MgQ2xvdWRJbnRlcm9wT3ZlcnJpZGUgZXh0ZW5kcyBCYXNlUHJvdmlkZXIge1xuICAgICAgICAgICAgY29udGV4dExpc3RlbmVyO1xuICAgICAgICAgICAgc2V0Q29udGV4dEZpbHRlciA9IChjb250ZXh0KSA9PiB0cnVlO1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRMaXN0ZW5lciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbnRleHRHcm91cCwgY29udGV4dCwgc291cmNlIH0gPSBldmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0Q29udGV4dEdyb3VwcygpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKCh7IGlkIH0pID0+IGlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKGNvbnRleHRHcm91cCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5zZXNzaW9uRGV0YWlscz8uc2Vzc2lvbklkICE9PSBzb3VyY2Uuc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdXBlci5zZXRDb250ZXh0Rm9yR3JvdXAoeyBjb250ZXh0OiBjb250ZXh0IH0sIGNvbnRleHRHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0JywgdGhpcy5jb250ZXh0TGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKCdyZXBvcnQtaW50ZW50cycsIGFzeW5jICh7IGRpc2NvdmVyeUlkLCBpbml0aWF0aW5nU2Vzc2lvbklkLCBmaW5kT3B0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYFJlY2VpdmVkIHJlcG9ydC1pbnRlbnRzIHJlcXVlc3QgZnJvbSAke2luaXRpYXRpbmdTZXNzaW9uSWR9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhcHBJbnRlbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmluZE9wdGlvbnMudHlwZSA9PT0gJ2ZpbmQtaW50ZW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVudCA9IChhd2FpdCBzdXBlci5oYW5kbGVJbmZvRm9ySW50ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmluZE9wdGlvbnMuaW50ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogeyByZXN1bHRUeXBlOiBmaW5kT3B0aW9ucy5yZXN1bHRUeXBlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IGZpbmRPcHRpb25zLmNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwSW50ZW50cyA9IFtpbnRlbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwSW50ZW50cyA9IChhd2FpdCBzdXBlci5oYW5kbGVJbmZvRm9ySW50ZW50c0J5Q29udGV4dCh7IGNvbnRleHQ6IGZpbmRPcHRpb25zLmNvbnRleHQsIG1ldGFkYXRhOiB7IHJlc3VsdFR5cGU6IGZpbmRPcHRpb25zLnJlc3VsdFR5cGUgfSB9LCBudWxsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ3dhcm4nLCBgRXJyb3IgaW4gcmVwb3J0LWludGVudHMgbGlzdGVuZXIsIHByb2NlZWRpbmcgd2l0aCBhbiBlbXB0eSByZXNwb25zZTogJHtlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYFJlcG9ydGluZyBpbnRlbnRzIDpcXG4ke0pTT04uc3RyaW5naWZ5KGFwcEludGVudHMsIG51bGwsIDIpfWApO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNtYXliZVJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQucmVwb3J0QXBwSW50ZW50cyhkaXNjb3ZlcnlJZCwgYXBwSW50ZW50cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3JhaXNlLWludGVudCcsIGFzeW5jICh7IGluaXRpYXRpbmdTZXNzaW9uSWQsIHJhaXNlT3B0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYFJlY2VpdmVkIHJhaXNlLWludGVudCByZXF1ZXN0IGZyb20gJHtpbml0aWF0aW5nU2Vzc2lvbklkfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ21ldGFkYXRhJyBpbiByYWlzZU9wdGlvbnMuY29udGV4dCAmJiByYWlzZU9wdGlvbnMuY29udGV4dC5tZXRhZGF0YS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlT3B0aW9ucy5jb250ZXh0Lm1ldGFkYXRhLnRhcmdldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yYWlzZU9wdGlvbnMuY29udGV4dC5tZXRhZGF0YS50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwSWQ6IGNsaWVudC5wYXJzZUFwcElkKHJhaXNlT3B0aW9ucy5jb250ZXh0Lm1ldGFkYXRhLnRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVudFJlc29sdXRpb24gPSAocmFpc2VPcHRpb25zLnR5cGUgPT09ICdyYWlzZS1pbnRlbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCBzdXBlci5oYW5kbGVGaXJlZEludGVudCh7IG5hbWU6IHJhaXNlT3B0aW9ucy5pbnRlbnQsIGNvbnRleHQ6IHJhaXNlT3B0aW9ucy5jb250ZXh0IH0sIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhd2FpdCBzdXBlci5oYW5kbGVGaXJlZEludGVudEZvckNvbnRleHQocmFpc2VPcHRpb25zLmNvbnRleHQsIG51bGwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVudFJlc3VsdCA9IGF3YWl0IGludGVudFJlc29sdXRpb24uZ2V0UmVzdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGludGVudCwgc291cmNlLCB2ZXJzaW9uIH0gPSBpbnRlbnRSZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0geyBpbnRlbnQsIHNvdXJjZSwgdmVyc2lvbiB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgSW50ZW50IHJlc3VsdDogJHtKU09OLnN0cmluZ2lmeShpbnRlbnRSZXN1bHQsIG51bGwsIDIpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29udGV4dChpbnRlbnRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VycmVudGx5IG9ubHkgc3VwcG9ydGluZyBDb250ZXh0cyBhcyByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmdldFJlc3VsdCA9IGludGVudFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnd2FybicsIGBFcnJvciBpbiByYWlzZS1pbnRlbnQsIGZvcndhcmRpbmcgZXJyb3IgcmVzcG9uc2UgdG8gdGhlIGNsb3VkOiAke2V9YCwgZS5zdGFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7IGVycm9yOiBlLm1lc3NhZ2UgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBTZW5kaW5nIGludGVudCByZXN1bHQgdG8gJHtpbml0aWF0aW5nU2Vzc2lvbklkfTpcXG4ke0pTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgMil9YCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI21heWJlUmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5zZW5kSW50ZW50UmVzdWx0KGluaXRpYXRpbmdTZXNzaW9uSWQsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBoYW5kbGVJbmZvRm9ySW50ZW50KG9wdGlvbnMsIGNsaWVudElkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgaW4gaGFuZGxlSW5mb0ZvckludGVudGAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgY29udGV4dCwgbWV0YWRhdGEgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZW50c1Byb21pc2UgPSBzdXBlci5oYW5kbGVJbmZvRm9ySW50ZW50KG9wdGlvbnMsIGNsaWVudElkZW50aXR5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jaGFuZGxlSW5mb0ZvckludGVudChpbnRlbnRzUHJvbWlzZSwgbmFtZSwgY29udGV4dCwgbWV0YWRhdGE/LnJlc3VsdFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgaGFuZGxlSW5mb0ZvckludGVudHNCeUNvbnRleHQoY29udGV4dCwgY2xpZW50SWRlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBpbiBoYW5kbGVJbmZvRm9ySW50ZW50c0J5Q29udGV4dGAsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVudHNQcm9taXNlID0gc3VwZXIuaGFuZGxlSW5mb0ZvckludGVudHNCeUNvbnRleHQoY29udGV4dCwgY2xpZW50SWRlbnRpdHkpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndHlwZScgaW4gY29udGV4dFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuI2hhbmRsZUluZm9Gb3JJbnRlbnQoaW50ZW50c1Byb21pc2UsIHVuZGVmaW5lZCwgY29udGV4dCwgdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuI2hhbmRsZUluZm9Gb3JJbnRlbnQoaW50ZW50c1Byb21pc2UsIHVuZGVmaW5lZCwgY29udGV4dC5jb250ZXh0LCBjb250ZXh0Lm1ldGFkYXRhPy5yZXN1bHRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGhhbmRsZUZpcmVkSW50ZW50KGludGVudCwgY2xpZW50SWRlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBpbiBoYW5kbGVGaXJlZEludGVudGAsIGludGVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2hhbmRsZUZpcmVkSW50ZW50KGNsaWVudElkZW50aXR5LCBpbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgaGFuZGxlRmlyZWRJbnRlbnRGb3JDb250ZXh0KGNvbnRleHRGb3JJbnRlbnQsIGNsaWVudElkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgaW4gaGFuZGxlRmlyZWRJbnRlbnRGb3JDb250ZXh0YCwgY29udGV4dEZvckludGVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2hhbmRsZUZpcmVkSW50ZW50KGNsaWVudElkZW50aXR5LCBjb250ZXh0Rm9ySW50ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jICNoYW5kbGVJbmZvRm9ySW50ZW50KFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9taXNlIHRvIGV4ZWN1dGUgaW4gcGFyYWxsZWwgd2l0aCBpbnRlbnQgZGlzY292ZXJ5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxvY2FsSW50ZW50c1Byb21pc2UsIFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBpZiBwcmVzZW50IC0+IGZpbmRJbnRlbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW50ZW50LCBcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogaWYgcHJlc2VudCAtPiBmaW5kSW50ZW50c0J5Q29udGV4dFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb250ZXh0LCByZXN1bHRUeXBlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgaW4gI2hhbmRsZUluZm9Gb3JJbnRlbnRgLCB7IGludGVudCwgY29udGV4dCwgcmVzdWx0VHlwZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWludGVudCAmJiAhY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tDbG91ZEludGVyb3BPdmVycmlkZV0gI2hhbmRsZUluZm9Gb3JJbnRlbnQgcmVxdWlyZXMgaW50ZW50IG9yIGNvbnRleHQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQ/Lm1ldGFkYXRhPy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2FmZWd1YXJkIE1RIHRyYWZmaWMgYnkgc2hvcnQgY2lyY3VpdGluZyBoZXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHNlc3Npb24gaWQgbm90IHBhcnNhYmxlLCBpdCdzIGEgbG9jYWwgaW50ZW50LCBhbHNvIGlmIHNlc3Npb24gaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgcGFyc2VkIGFuZCBtYXRjaGVzIHRoZSBjdXJyZW50IHNlc3Npb24sIHRyZWF0IGl0IGFzIGEgbG9jYWwgZmluZEludGVudCBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTG9jYWxUYXJnZXRTZXNzaW9uKGNvbnRleHQubWV0YWRhdGEudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgI2hhbmRsZUluZm9Gb3JJbnRlbnQgcmVjZWl2ZWQgYW4gYXBwSWQgZm9yIHRoZSBzYW1lIHNlc3Npb24sIHJldHVybmluZyBsb2NhbCBpbnRlbnQgcmVzdWx0cyBvbmx5YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxJbnRlbnRzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNtYXliZVJlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcEludGVudE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cHNlcnRUb01hcCA9ICh7IGludGVudCwgYXBwcyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1lcmdlIGFsbCBhcHBzIGZvciB0aGUgc2FtZSBpbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdBcHBzID0gYXBwSW50ZW50TWFwLmdldChpbnRlbnQubmFtZSkgPz8gW107XG4gICAgICAgICAgICAgICAgICAgIGFwcEludGVudE1hcC5zZXQoaW50ZW50Lm5hbWUsIFsuLi5leGlzdGluZ0FwcHMsIC4uLmFwcHNdKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCBhZ2dyZWdhdGVSZXNvbHZlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFnZ3JlZ2F0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjbGllbnQub25jZSgnYWdncmVnYXRlLWludGVudC1kZXRhaWxzJywgKHsgcmVzcG9uc2VzIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnZGVidWcnLCBgUmVjZWl2ZWQgYWdncmVnYXRlIGludGVudCBkZXRhaWxzLCBsZW5ndGg6ICR7cmVzcG9uc2VzLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VzLmZvckVhY2goKHsgaW50ZW50cyB9KSA9PiBpbnRlbnRzLmZvckVhY2godXBzZXJ0VG9NYXApKTtcbiAgICAgICAgICAgICAgICAgICAgYWdncmVnYXRlUmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGZpbmRJbnRlbnRUaW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICBmaW5kT3B0aW9uczogaW50ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgdHlwZTogJ2ZpbmQtaW50ZW50JywgaW50ZW50LCBjb250ZXh0LCByZXN1bHRUeXBlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogeyB0eXBlOiAnZmluZC1pbnRlbnRzLWJ5LWNvbnRleHQnLCBjb250ZXh0OiBjb250ZXh0LCByZXN1bHRUeXBlIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgJ1N0YXJ0aW5nIGludGVudCBkaXNjb3ZlcnknKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuc3RhcnRJbnRlbnREaXNjb3Zlcnkob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgYWdncmVnYXRlUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsICdJbnRlbnQgZGlzY292ZXJ5IGNvbXBsZXRlZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsQXBwSW50ZW50cyA9IChhd2FpdCBsb2NhbEludGVudHNQcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChpbnRlbnRzKSA9PiAoQXJyYXkuaXNBcnJheShpbnRlbnRzKSA/IGludGVudHMgOiBbaW50ZW50c10pKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gW10pKTtcbiAgICAgICAgICAgICAgICBsb2NhbEFwcEludGVudHMuZm9yRWFjaCh1cHNlcnRUb01hcCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwSW50ZW50cyA9IEFycmF5LmZyb20oYXBwSW50ZW50TWFwLmVudHJpZXMoKSkubWFwKChbaW50ZW50LCBhcHBzXSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZW50OiB7IG5hbWU6IGludGVudCwgZGlzcGxheU5hbWU6IGludGVudCB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBzXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGlmIChhcHBJbnRlbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vQXBwc0ZvdW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAoaW50ZW50ID8gYXBwSW50ZW50c1swXSA6IGFwcEludGVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgI2hhbmRsZUZpcmVkSW50ZW50KGNsaWVudElkZW50aXR5LCBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ2RlYnVnJywgYGluICNoYW5kbGVGaXJlZEludGVudGAsIHsgaW5wdXQgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jbWF5YmVSZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRBcHAgPSBpbnB1dD8ubWV0YWRhdGE/LnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldEFwcCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtDbG91ZEludGVyb3BPdmVycmlkZV0gaGFuZGxlRmlyZWRJbnRlbnQgcmVxdWlyZXMgaW50ZW50Lm1ldGFkYXRhLnRhcmdldCBvciBjb250ZXh0Lm1ldGFkYXRhLnRhcmdldCB0byBiZSBhbiBhcHBJZGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBpc0ludGVudCA9IChpbnB1dCkgPT4gJ25hbWUnIGluIGlucHV0O1xuICAgICAgICAgICAgICAgIC8vIHNhZmVndWFyZCBNUSB0cmFmZmljIGJ5IHNob3J0IGNpcmN1aXRpbmcgaGVyZVxuICAgICAgICAgICAgICAgIC8vIGlmIHNlc3Npb24gaWQgbm90IHBhcnNhYmxlLCBpdCdzIGEgbG9jYWwgaW50ZW50LCBhbHNvIGlmIHNlc3Npb24gaWRcbiAgICAgICAgICAgICAgICAvLyBpcyBwYXJzZWQgYW5kIG1hdGNoZXMgdGhlIGN1cnJlbnQgc2Vzc2lvbiwgdHJlYXQgaXQgYXMgYSBsb2NhbCBpbnRlbnRcbiAgICAgICAgICAgICAgICBpZiAoaXNMb2NhbFRhcmdldFNlc3Npb24odGFyZ2V0QXBwKSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGAjaGFuZGxlRmlyZWRJbnRlbnQgcmVjZWl2ZWQgYW4gYXBwSWQgZm9yIHRoZSBzYW1lIHNlc3Npb24sIGZpcmluZyBpbnRlbnQgbG9jYWxseWApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzSW50ZW50KGlucHV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdXBlci5oYW5kbGVGaXJlZEludGVudChpbnB1dCwgY2xpZW50SWRlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHN1cGVyLmhhbmRsZUZpcmVkSW50ZW50Rm9yQ29udGV4dChpbnB1dCwgY2xpZW50SWRlbnRpdHkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGludGVudFJlc29sdmU7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZW50UmVzdWx0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGludGVudFJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNsaWVudC5vbmNlKCdpbnRlbnQtcmVzdWx0JywgKHsgcmVzdWx0LCBzb3VyY2UgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdkZWJ1ZycsIGBSZWNlaXZlZCBpbnRlbnQtcmVzdWx0YCwgSlNPTi5zdHJpbmdpZnkoeyBzb3VyY2UsIHJlc3VsdCB9LCBudWxsLCAyKSk7XG4gICAgICAgICAgICAgICAgICAgIGludGVudFJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByYWlzZU9wdGlvbnMgPSBpc0ludGVudChpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgPyB7IHR5cGU6ICdyYWlzZS1pbnRlbnQnLCBpbnRlbnQ6IGlucHV0Lm5hbWUsIGNvbnRleHQ6IGlucHV0LmNvbnRleHQgfVxuICAgICAgICAgICAgICAgICAgICA6IHsgdHlwZTogJ3JhaXNlLWludGVudC1mb3ItY29udGV4dCcsIGNvbnRleHQ6IGlucHV0IH07XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50LnJhaXNlSW50ZW50KHsgYXBwSWQ6IHRhcmdldEFwcCwgcmFpc2VPcHRpb25zIH0pO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHJhaXNlLWludGVudCB0aW1lb3V0IHZpYSBwcm9taXNlLnJhY2U/XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZW50UmVzdWx0ID0gYXdhaXQgaW50ZW50UmVzdWx0UHJvbWlzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwdWJsaXNoTG9jYWxSZXN1bHQgPSBhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IHNpbmNlIHdlIGFyZW4ndCBjaGFuZ2luZyBnZXRJbnRlbnRSZXNvbHV0aW9uIGluIHRoZSBmZGMzIGltcGwgY29kZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgXCJmYWtlXCIgYSBsb2NhbCBpbnRlbnQgcmVzdWx0IHRvIGVuc3VyZSBnZXRSZXN1bHQgcmVzb2x2ZXMgY29ycmVjdGx5LCBzZWU6XG4gICAgICAgICAgICAgICAgICAgIC8vIGpzLWFkYXB0ZXIvc3JjL2FwaS9pbnRlcm9wL2ZkYzMvdXRpbHMudHM6OmdldEludGVudFJlc29sdXRpb246OmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlbnRSZXNvbHV0aW9uUmVzdWx0SWQgPSBpbnB1dC5tZXRhZGF0YT8uaW50ZW50UmVzb2x1dGlvblJlc3VsdElkO1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIGZvciB3ZWIvZXh0ZXJuYWwgY29ubmVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZpbi5tZS5pc09wZW5GaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZW50UmVzb2x1dGlvblJlc3VsdElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnB1Ymxpc2goaW50ZW50UmVzb2x1dGlvblJlc3VsdElkLCByZXN1bHQpLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCd3YXJuJywgYCNoYW5kbGVGaXJlZEludGVudCBjb3VsZCBub3QgY3JlYXRlIGFuIGludGVudCByZXNvbHV0aW9uIGZvciBBcHBJZDogJHt0YXJnZXRBcHB9LCBnZXRSZXN1bHQgY2FsbCB3aWxsIG5vdCB3b3JrLmAsIGludGVudFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCdlcnJvcicgaW4gaW50ZW50UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ3dhcm4nLCBgI2hhbmRsZUZpcmVkSW50ZW50IGNvdWxkIG5vdCByYWlzZSBpbnRlbnQgZm9yIEFwcElkOiAke3RhcmdldEFwcH1gKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hpbmcgeyBlcnJvcjogQm9vbGVhbiB9IHR5cGUgb2YganMtYWRhcHRlci9zcmMvYXBpL2ludGVyb3AvZmRjMy91dGlscy50czo6SW50ZW50UmVzdWx0UHJvbWlzZVBheWxvYWRcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaExvY2FsUmVzdWx0KHsgZXJyb3I6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXN1bWFibHksIHRoZSBlcnJvciBpcyBGREMzIGNvbXBsaWFudCwgc28gdGhyb3cgaXQgYXMgaXNcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGludGVudFJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHR5cGVvZiBpbnRlbnRSZXN1bHQuc291cmNlID09PSAnc3RyaW5nJyA/IHsgYXBwSWQ6IGludGVudFJlc3VsdC5zb3VyY2UgfSA6IGludGVudFJlc3VsdC5zb3VyY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxSZXN1bHQgPSB7IC4uLmludGVudFJlc3VsdCwgc291cmNlIH07XG4gICAgICAgICAgICAgICAgcHVibGlzaExvY2FsUmVzdWx0KGZpbmFsUmVzdWx0LmdldFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZmluYWxSZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIC8vIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRpbmcgY29udGV4dHMgYXMgcmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICBnZXRSZXN1bHQ6IGFzeW5jICgpID0+IGZpbmFsUmVzdWx0LmdldFJlc3VsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBzZXRDb250ZXh0Rm9yR3JvdXAoeyBjb250ZXh0IH0sIGNvbnRleHRHcm91cElkKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXMgdGhpcyByaWdodD8gc2hvdWxkIHdlIGF0dGVtcHQgYSByZWNvbm5lY3QgaW5zdGVhZCBvZiBjaGVjayBjb25uZWN0ZWQgc3RhdGU/XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvdWRDb25uZWN0aW9uU3RhdGUgPT09ICdjb25uZWN0ZWQnICYmIHRoaXMuc2V0Q29udGV4dEZpbHRlcihjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuc2V0Q29udGV4dChjb250ZXh0R3JvdXBJZCwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1cGVyLnNldENvbnRleHRGb3JHcm91cCh7IGNvbnRleHQgfSwgY29udGV4dEdyb3VwSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdHRlbXB0cyByZWNvbm5lY3Rpb24gdG8gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAgICAgICAgICogQHBhcmFtIHtDb25uZWN0UGFyYW1ldGVyc30gc2V0dGluZ3MgUGFyYW1ldGVycyBmb3IgY29ubmVjdGluZyB0byB0aGUgSW50ZXJvcCBTZXJ2aWNlXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHsqfSB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICAgICAqIEB0aHJvd3Mge0Nsb3VkSW50ZXJvcEFQSUVycm9yfVxuICAgICAgICAgICAgICogQHRocm93cyB7QXV0aG9yaXphdGlvbkVycm9yfVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcE92ZXJyaWRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFzeW5jIGNsb3VkUmVjb25uZWN0KHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvdWRDb25uZWN0aW9uU3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGluaXRDb25uZWN0KHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCd3YXJuJywgYEZhaWxlZCByZWNvbm5lY3Rpb24gdG8gQ2xvdWQgSW50ZXJvcCBTZXJ2aWNlLmAsIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXRzIHRoZSBsaXN0ZW5lciBmb3IgY29udGV4dCBldmVudHMgY29taW5nIGZyb20gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAgICAgICAgICogQHBhcmFtIGxpc3RlbmVyIENvbnRleHQgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAqIEByZXR1cm4geyp9IHt2b2lkfVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcE92ZXJyaWRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNldENsb3VkQ29udGV4dExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHQnLCB0aGlzLmNvbnRleHRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dCcsIHRoaXMuY29udGV4dExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0cyBhIGZpbHRlciB0aGF0IGlzIGFwcGxpZWQgdG8gbG9jYWwgY29udGV4dCBiZWZvcmUgaXQgaXMgZm9yd2FyZGVkIHRvIHRoZSBDbG91ZCBJbnRlcm9wIHNlcnZpY2VcbiAgICAgICAgICAgICAqIEBwYXJhbSBmaWx0ZXJcbiAgICAgICAgICAgICAqIEByZXR1cm4geyp9IHt2b2lkfVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcE92ZXJyaWRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNldENsb3VkU2V0Q29udGV4dEZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRGaWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXQgY2xvdWRDb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsaWVudC5tcXR0Q2xpZW50Py5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjb25uZWN0ZWQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2xpZW50Lm1xdHRDbGllbnQ/LnJlY29ubmVjdGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3JlY29ubmVjdGluZyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAnZGlzY29ubmVjdGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICNtYXliZVJlY29ubmVjdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhpcyBoZWxwZXIgd2hlbiBTQUFTLTE1ODggaXMgc29sdmVkXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvdWRDb25uZWN0aW9uU3RhdGUgIT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xvdWRSZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG59XG5cbmV4cG9ydCB7IGNsb3VkSW50ZXJvcE92ZXJyaWRlIH07XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG5jb25zdCBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG5jb25zdCBjdXN0b21JbnNwZWN0U3ltYm9sID1cbiAgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbFsnZm9yJ10gPT09ICdmdW5jdGlvbicpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgPyBTeW1ib2xbJ2ZvciddKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgOiBudWxsXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuY29uc3QgS19NQVhfTEVOR1RIID0gMHg3ZmZmZmZmZlxuZXhwb3J0cy5rTWF4TGVuZ3RoID0gS19NQVhfTEVOR1RIXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFByaW50IHdhcm5pbmcgYW5kIHJlY29tbWVuZCB1c2luZyBgYnVmZmVyYCB2NC54IHdoaWNoIGhhcyBhbiBPYmplY3RcbiAqICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIFdlIHJlcG9ydCB0aGF0IHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGlmIHRoZSBhcmUgbm90IHN1YmNsYXNzYWJsZVxuICogdXNpbmcgX19wcm90b19fLiBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YFxuICogKFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4KS4gSUUgMTAgbGFja3Mgc3VwcG9ydFxuICogZm9yIF9fcHJvdG9fXyBhbmQgaGFzIGEgYnVnZ3kgdHlwZWQgYXJyYXkgaW1wbGVtZW50YXRpb24uXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gdHlwZWRBcnJheVN1cHBvcnQoKVxuXG5pZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gIGNvbnNvbGUuZXJyb3IoXG4gICAgJ1RoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSAnICtcbiAgICAnYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4nXG4gIClcbn1cblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICAvLyBDYW4gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWQ/XG4gIHRyeSB7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBjb25zdCBwcm90byA9IHsgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9IH1cbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJvdG8sIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihhcnIsIHByb3RvKVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLnByb3RvdHlwZSwgJ3BhcmVudCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGhpcykpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gdGhpcy5idWZmZXJcbiAgfVxufSlcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdvZmZzZXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldFxuICB9XG59KVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAobGVuZ3RoID4gS19NQVhfTEVOR1RIKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyBsZW5ndGggKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihidWYsIEJ1ZmZlci5wcm90b3R5cGUpXG4gIHJldHVybiBidWZcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZShhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20oYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG5mdW5jdGlvbiBmcm9tICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlWaWV3KHZhbHVlKVxuICB9XG5cbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksICcgK1xuICAgICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICAgIClcbiAgfVxuXG4gIGlmIChpc0luc3RhbmNlKHZhbHVlLCBBcnJheUJ1ZmZlcikgfHxcbiAgICAgICh2YWx1ZSAmJiBpc0luc3RhbmNlKHZhbHVlLmJ1ZmZlciwgQXJyYXlCdWZmZXIpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAoaXNJbnN0YW5jZSh2YWx1ZSwgU2hhcmVkQXJyYXlCdWZmZXIpIHx8XG4gICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIFNoYXJlZEFycmF5QnVmZmVyKSkpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IHZhbHVlT2YgPSB2YWx1ZS52YWx1ZU9mICYmIHZhbHVlLnZhbHVlT2YoKVxuICBpZiAodmFsdWVPZiAhPSBudWxsICYmIHZhbHVlT2YgIT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlT2YsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGNvbnN0IGIgPSBmcm9tT2JqZWN0KHZhbHVlKVxuICBpZiAoYikgcmV0dXJuIGJcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvUHJpbWl0aXZlICE9IG51bGwgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlW1N5bWJvbC50b1ByaW1pdGl2ZV0oJ3N0cmluZycpLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAnb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyArICh0eXBlb2YgdmFsdWUpXG4gIClcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbSh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG4vLyBOb3RlOiBDaGFuZ2UgcHJvdG90eXBlICphZnRlciogQnVmZmVyLmZyb20gaXMgZGVmaW5lZCB0byB3b3JrYXJvdW5kIENocm9tZSBidWc6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzE0OFxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlci5wcm90b3R5cGUsIFVpbnQ4QXJyYXkucHJvdG90eXBlKVxuT2JqZWN0LnNldFByb3RvdHlwZU9mKEJ1ZmZlciwgVWludDhBcnJheSlcblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJyArIHNpemUgKyAnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIoc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICB9XG5cbiAgY29uc3QgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgbGV0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG5cbiAgY29uc3QgYWN0dWFsID0gYnVmLndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICBidWYgPSBidWYuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlIChhcnJheSkge1xuICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgY29uc3QgYnVmID0gY3JlYXRlQnVmZmVyKGxlbmd0aClcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGJ1ZltpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlWaWV3IChhcnJheVZpZXcpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYXJyYXlWaWV3LCBVaW50OEFycmF5KSkge1xuICAgIGNvbnN0IGNvcHkgPSBuZXcgVWludDhBcnJheShhcnJheVZpZXcpXG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcihjb3B5LmJ1ZmZlciwgY29weS5ieXRlT2Zmc2V0LCBjb3B5LmJ5dGVMZW5ndGgpXG4gIH1cbiAgcmV0dXJuIGZyb21BcnJheUxpa2UoYXJyYXlWaWV3KVxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJsZW5ndGhcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgbGV0IGJ1ZlxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBidWYgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJ1ZiwgQnVmZmVyLnByb3RvdHlwZSlcblxuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICBjb25zdCBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIGNvbnN0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW4pXG5cbiAgICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGJ1ZlxuICAgIH1cblxuICAgIG9iai5jb3B5KGJ1ZiwgMCwgMCwgbGVuKVxuICAgIHJldHVybiBidWZcbiAgfVxuXG4gIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IG51bWJlcklzTmFOKG9iai5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKDApXG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKG9iailcbiAgfVxuXG4gIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgQXJyYXkuaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmouZGF0YSlcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwgS19NQVhfTEVOR1RIYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBLX01BWF9MRU5HVEgudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiBiICE9IG51bGwgJiYgYi5faXNCdWZmZXIgPT09IHRydWUgJiZcbiAgICBiICE9PSBCdWZmZXIucHJvdG90eXBlIC8vIHNvIEJ1ZmZlci5pc0J1ZmZlcihCdWZmZXIucHJvdG90eXBlKSB3aWxsIGJlIGZhbHNlXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoaXNJbnN0YW5jZShhLCBVaW50OEFycmF5KSkgYSA9IEJ1ZmZlci5mcm9tKGEsIGEub2Zmc2V0LCBhLmJ5dGVMZW5ndGgpXG4gIGlmIChpc0luc3RhbmNlKGIsIFVpbnQ4QXJyYXkpKSBiID0gQnVmZmVyLmZyb20oYiwgYi5vZmZzZXQsIGIuYnl0ZUxlbmd0aClcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheSdcbiAgICApXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICBsZXQgeCA9IGEubGVuZ3RoXG4gIGxldCB5ID0gYi5sZW5ndGhcblxuICBmb3IgKGxldCBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIGxldCBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgbGV0IHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgYnVmID0gbGlzdFtpXVxuICAgIGlmIChpc0luc3RhbmNlKGJ1ZiwgVWludDhBcnJheSkpIHtcbiAgICAgIGlmIChwb3MgKyBidWYubGVuZ3RoID4gYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSBidWYgPSBCdWZmZXIuZnJvbShidWYpXG4gICAgICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICAgICAgYnVmZmVyLFxuICAgICAgICAgIGJ1ZixcbiAgICAgICAgICBwb3NcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH0gZWxzZSB7XG4gICAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICB9XG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgaXNJbnN0YW5jZShzdHJpbmcsIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuICcgK1xuICAgICAgJ1JlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBzdHJpbmdcbiAgICApXG4gIH1cblxuICBjb25zdCBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGNvbnN0IG11c3RNYXRjaCA9IChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gPT09IHRydWUpXG4gIGlmICghbXVzdE1hdGNoICYmIGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkge1xuICAgICAgICAgIHJldHVybiBtdXN0TWF0Y2ggPyAtMSA6IHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIH1cbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2VyY2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgKGFuZCB0aGUgYGlzLWJ1ZmZlcmAgbnBtIHBhY2thZ2UpXG4vLyB0byBkZXRlY3QgYSBCdWZmZXIgaW5zdGFuY2UuIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBgaW5zdGFuY2VvZiBCdWZmZXJgXG4vLyByZWxpYWJseSBpbiBhIGJyb3dzZXJpZnkgY29udGV4dCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGRpZmZlcmVudFxuLy8gY29waWVzIG9mIHRoZSAnYnVmZmVyJyBwYWNrYWdlIGluIHVzZS4gVGhpcyBtZXRob2Qgd29ya3MgZXZlbiBmb3IgQnVmZmVyXG4vLyBpbnN0YW5jZXMgdGhhdCB3ZXJlIGNyZWF0ZWQgZnJvbSBhbm90aGVyIGNvcHkgb2YgdGhlIGBidWZmZXJgIHBhY2thZ2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8xNTRcbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIGNvbnN0IGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgY29uc3QgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZ1xuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIGxldCBzdHIgPSAnJ1xuICBjb25zdCBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkucmVwbGFjZSgvKC57Mn0pL2csICckMSAnKS50cmltKClcbiAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuaWYgKGN1c3RvbUluc3BlY3RTeW1ib2wpIHtcbiAgQnVmZmVyLnByb3RvdHlwZVtjdXN0b21JbnNwZWN0U3ltYm9sXSA9IEJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoaXNJbnN0YW5jZSh0YXJnZXQsIFVpbnQ4QXJyYXkpKSB7XG4gICAgdGFyZ2V0ID0gQnVmZmVyLmZyb20odGFyZ2V0LCB0YXJnZXQub2Zmc2V0LCB0YXJnZXQuYnl0ZUxlbmd0aClcbiAgfVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHRhcmdldClcbiAgICApXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICBsZXQgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgbGV0IHkgPSBlbmQgLSBzdGFydFxuICBjb25zdCBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIGNvbnN0IHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIGNvbnN0IHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0IC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChudW1iZXJJc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFt2YWxdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICBsZXQgaW5kZXhTaXplID0gMVxuICBsZXQgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICBsZXQgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICBsZXQgaVxuICBpZiAoZGlyKSB7XG4gICAgbGV0IGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICBjb25zdCByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICBjb25zdCBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgbGV0IGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChudW1iZXJJc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID4+PiAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgY29uc3QgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIGNvbnN0IHJlcyA9IFtdXG5cbiAgbGV0IGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIGNvbnN0IGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIGxldCBjb2RlUG9pbnQgPSBudWxsXG4gICAgbGV0IGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRilcbiAgICAgID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERilcbiAgICAgICAgICA/IDNcbiAgICAgICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKVxuICAgICAgICAgICAgICA/IDJcbiAgICAgICAgICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICBsZXQgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG5jb25zdCBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgY29uc3QgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICBsZXQgcmVzID0gJydcbiAgbGV0IGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGxldCByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBsZXQgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBjb25zdCBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgbGV0IG91dCA9ICcnXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IGhleFNsaWNlTG9va3VwVGFibGVbYnVmW2ldXVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgbGV0IHJlcyA9ICcnXG4gIC8vIElmIGJ5dGVzLmxlbmd0aCBpcyBvZGQsIHRoZSBsYXN0IDggYml0cyBtdXN0IGJlIGlnbm9yZWQgKHNhbWUgYXMgbm9kZS5qcylcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIChieXRlc1tpICsgMV0gKiAyNTYpKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgY29uc3QgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3QnVmLCBCdWZmZXIucHJvdG90eXBlKVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldF1cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludEJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICBsZXQgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQ4ID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkxFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDE2QkUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MzJMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQzMkJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdVSW50NjRMRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IGxvID0gZmlyc3QgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAyNFxuXG4gIGNvbnN0IGhpID0gdGhpc1srK29mZnNldF0gK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIGxhc3QgKiAyICoqIDI0XG5cbiAgcmV0dXJuIEJpZ0ludChsbykgKyAoQmlnSW50KGhpKSA8PCBCaWdJbnQoMzIpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnVUludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ1VJbnQ2NEJFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgaGkgPSBmaXJzdCAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdXG5cbiAgY29uc3QgbG8gPSB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIGxhc3RcblxuICByZXR1cm4gKEJpZ0ludChoaSkgPDwgQmlnSW50KDMyKSkgKyBCaWdJbnQobG8pXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXRdXG4gIGxldCBtdWwgPSAxXG4gIGxldCBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgbGV0IGkgPSBieXRlTGVuZ3RoXG4gIGxldCBtdWwgPSAxXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gcmVhZEJpZ0ludDY0TEUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCB2YWwgPSB0aGlzW29mZnNldCArIDRdICtcbiAgICB0aGlzW29mZnNldCArIDVdICogMiAqKiA4ICtcbiAgICB0aGlzW29mZnNldCArIDZdICogMiAqKiAxNiArXG4gICAgKGxhc3QgPDwgMjQpIC8vIE92ZXJmbG93XG5cbiAgcmV0dXJuIChCaWdJbnQodmFsKSA8PCBCaWdJbnQoMzIpKSArXG4gICAgQmlnSW50KGZpcnN0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjQpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdJbnQ2NEJFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgdmFsID0gKGZpcnN0IDw8IDI0KSArIC8vIE92ZXJmbG93XG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF1cblxuICByZXR1cm4gKEJpZ0ludCh2YWwpIDw8IEJpZ0ludCgzMikpICtcbiAgICBCaWdJbnQodGhpc1srK29mZnNldF0gKiAyICoqIDI0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICBsYXN0KVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgbGV0IG11bCA9IDFcbiAgbGV0IGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnRCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY29uc3QgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIGxldCBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDggPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MTZMRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2QkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQzMkxFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MzJCRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiB3cnRCaWdVSW50NjRMRSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBtaW4sIG1heCkge1xuICBjaGVja0ludEJJKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIDcpXG5cbiAgbGV0IGxvID0gTnVtYmVyKHZhbHVlICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbGV0IGhpID0gTnVtYmVyKHZhbHVlID4+IEJpZ0ludCgzMikgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICByZXR1cm4gb2Zmc2V0XG59XG5cbmZ1bmN0aW9uIHdydEJpZ1VJbnQ2NEJFIChidWYsIHZhbHVlLCBvZmZzZXQsIG1pbiwgbWF4KSB7XG4gIGNoZWNrSW50QkkodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgNylcblxuICBsZXQgbG8gPSBOdW1iZXIodmFsdWUgJiBCaWdJbnQoMHhmZmZmZmZmZikpXG4gIGJ1ZltvZmZzZXQgKyA3XSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0ICsgNl0gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCArIDVdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQgKyA0XSA9IGxvXG4gIGxldCBoaSA9IE51bWJlcih2YWx1ZSA+PiBCaWdJbnQoMzIpICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0ICsgM10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCArIDJdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQgKyAxXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0XSA9IGhpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ1VJbnQ2NExFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0TEUodGhpcywgdmFsdWUsIG9mZnNldCwgQmlnSW50KDApLCBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnVUludDY0QkUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRCRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBCaWdJbnQoMCksIEJpZ0ludCgnMHhmZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIGxldCBpID0gMFxuICBsZXQgbXVsID0gMVxuICBsZXQgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5wb3coMiwgKDggKiBieXRlTGVuZ3RoKSAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIGxldCBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgbGV0IG11bCA9IDFcbiAgbGV0IHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnSW50NjRMRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NExFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIC1CaWdJbnQoJzB4ODAwMDAwMDAwMDAwMDAwMCcpLCBCaWdJbnQoJzB4N2ZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdJbnQ2NEJFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0QkUodGhpcywgdmFsdWUsIG9mZnNldCwgLUJpZ0ludCgnMHg4MDAwMDAwMDAwMDAwMDAwJyksIEJpZ0ludCgnMHg3ZmZmZmZmZmZmZmZmZmZmJykpXG59KVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXInKVxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgY29uc3QgbGVuID0gZW5kIC0gc3RhcnRcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVXNlIGJ1aWx0LWluIHdoZW4gYXZhaWxhYmxlLCBtaXNzaW5nIGZyb20gSUUxMVxuICAgIHRoaXMuY29weVdpdGhpbih0YXJnZXRTdGFydCwgc3RhcnQsIGVuZClcbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmICgoZW5jb2RpbmcgPT09ICd1dGY4JyAmJiBjb2RlIDwgMTI4KSB8fFxuICAgICAgICAgIGVuY29kaW5nID09PSAnbGF0aW4xJykge1xuICAgICAgICAvLyBGYXN0IHBhdGg6IElmIGB2YWxgIGZpdHMgaW50byBhIHNpbmdsZSBieXRlLCB1c2UgdGhhdCBudW1lcmljIHZhbHVlLlxuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgdmFsID0gTnVtYmVyKHZhbClcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICBsZXQgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gICAgY29uc3QgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJyArIHZhbCArXG4gICAgICAgICdcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKVxuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBDVVNUT00gRVJST1JTXG4vLyA9PT09PT09PT09PT09XG5cbi8vIFNpbXBsaWZpZWQgdmVyc2lvbnMgZnJvbSBOb2RlLCBjaGFuZ2VkIGZvciBCdWZmZXItb25seSB1c2FnZVxuY29uc3QgZXJyb3JzID0ge31cbmZ1bmN0aW9uIEUgKHN5bSwgZ2V0TWVzc2FnZSwgQmFzZSkge1xuICBlcnJvcnNbc3ltXSA9IGNsYXNzIE5vZGVFcnJvciBleHRlbmRzIEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgIHN1cGVyKClcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdtZXNzYWdlJywge1xuICAgICAgICB2YWx1ZTogZ2V0TWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KVxuXG4gICAgICAvLyBBZGQgdGhlIGVycm9yIGNvZGUgdG8gdGhlIG5hbWUgdG8gaW5jbHVkZSBpdCBpbiB0aGUgc3RhY2sgdHJhY2UuXG4gICAgICB0aGlzLm5hbWUgPSBgJHt0aGlzLm5hbWV9IFske3N5bX1dYFxuICAgICAgLy8gQWNjZXNzIHRoZSBzdGFjayB0byBnZW5lcmF0ZSB0aGUgZXJyb3IgbWVzc2FnZSBpbmNsdWRpbmcgdGhlIGVycm9yIGNvZGVcbiAgICAgIC8vIGZyb20gdGhlIG5hbWUuXG4gICAgICB0aGlzLnN0YWNrIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG4gICAgICAvLyBSZXNldCB0aGUgbmFtZSB0byB0aGUgYWN0dWFsIG5hbWUuXG4gICAgICBkZWxldGUgdGhpcy5uYW1lXG4gICAgfVxuXG4gICAgZ2V0IGNvZGUgKCkge1xuICAgICAgcmV0dXJuIHN5bVxuICAgIH1cblxuICAgIHNldCBjb2RlICh2YWx1ZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjb2RlJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0b1N0cmluZyAoKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5uYW1lfSBbJHtzeW19XTogJHt0aGlzLm1lc3NhZ2V9YFxuICAgIH1cbiAgfVxufVxuXG5FKCdFUlJfQlVGRkVSX09VVF9PRl9CT1VORFMnLFxuICBmdW5jdGlvbiAobmFtZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICByZXR1cm4gYCR7bmFtZX0gaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzYFxuICAgIH1cblxuICAgIHJldHVybiAnQXR0ZW1wdCB0byBhY2Nlc3MgbWVtb3J5IG91dHNpZGUgYnVmZmVyIGJvdW5kcydcbiAgfSwgUmFuZ2VFcnJvcilcbkUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJyxcbiAgZnVuY3Rpb24gKG5hbWUsIGFjdHVhbCkge1xuICAgIHJldHVybiBgVGhlIFwiJHtuYW1lfVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgYWN0dWFsfWBcbiAgfSwgVHlwZUVycm9yKVxuRSgnRVJSX09VVF9PRl9SQU5HRScsXG4gIGZ1bmN0aW9uIChzdHIsIHJhbmdlLCBpbnB1dCkge1xuICAgIGxldCBtc2cgPSBgVGhlIHZhbHVlIG9mIFwiJHtzdHJ9XCIgaXMgb3V0IG9mIHJhbmdlLmBcbiAgICBsZXQgcmVjZWl2ZWQgPSBpbnB1dFxuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKGlucHV0KSAmJiBNYXRoLmFicyhpbnB1dCkgPiAyICoqIDMyKSB7XG4gICAgICByZWNlaXZlZCA9IGFkZE51bWVyaWNhbFNlcGFyYXRvcihTdHJpbmcoaW5wdXQpKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnYmlnaW50Jykge1xuICAgICAgcmVjZWl2ZWQgPSBTdHJpbmcoaW5wdXQpXG4gICAgICBpZiAoaW5wdXQgPiBCaWdJbnQoMikgKiogQmlnSW50KDMyKSB8fCBpbnB1dCA8IC0oQmlnSW50KDIpICoqIEJpZ0ludCgzMikpKSB7XG4gICAgICAgIHJlY2VpdmVkID0gYWRkTnVtZXJpY2FsU2VwYXJhdG9yKHJlY2VpdmVkKVxuICAgICAgfVxuICAgICAgcmVjZWl2ZWQgKz0gJ24nXG4gICAgfVxuICAgIG1zZyArPSBgIEl0IG11c3QgYmUgJHtyYW5nZX0uIFJlY2VpdmVkICR7cmVjZWl2ZWR9YFxuICAgIHJldHVybiBtc2dcbiAgfSwgUmFuZ2VFcnJvcilcblxuZnVuY3Rpb24gYWRkTnVtZXJpY2FsU2VwYXJhdG9yICh2YWwpIHtcbiAgbGV0IHJlcyA9ICcnXG4gIGxldCBpID0gdmFsLmxlbmd0aFxuICBjb25zdCBzdGFydCA9IHZhbFswXSA9PT0gJy0nID8gMSA6IDBcbiAgZm9yICg7IGkgPj0gc3RhcnQgKyA0OyBpIC09IDMpIHtcbiAgICByZXMgPSBgXyR7dmFsLnNsaWNlKGkgLSAzLCBpKX0ke3Jlc31gXG4gIH1cbiAgcmV0dXJuIGAke3ZhbC5zbGljZSgwLCBpKX0ke3Jlc31gXG59XG5cbi8vIENIRUNLIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGNoZWNrQm91bmRzIChidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBpZiAoYnVmW29mZnNldF0gPT09IHVuZGVmaW5lZCB8fCBidWZbb2Zmc2V0ICsgYnl0ZUxlbmd0aF0gPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgYnVmLmxlbmd0aCAtIChieXRlTGVuZ3RoICsgMSkpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tJbnRCSSAodmFsdWUsIG1pbiwgbWF4LCBidWYsIG9mZnNldCwgYnl0ZUxlbmd0aCkge1xuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHtcbiAgICBjb25zdCBuID0gdHlwZW9mIG1pbiA9PT0gJ2JpZ2ludCcgPyAnbicgOiAnJ1xuICAgIGxldCByYW5nZVxuICAgIGlmIChieXRlTGVuZ3RoID4gMykge1xuICAgICAgaWYgKG1pbiA9PT0gMCB8fCBtaW4gPT09IEJpZ0ludCgwKSkge1xuICAgICAgICByYW5nZSA9IGA+PSAwJHtufSBhbmQgPCAyJHtufSAqKiAkeyhieXRlTGVuZ3RoICsgMSkgKiA4fSR7bn1gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByYW5nZSA9IGA+PSAtKDIke259ICoqICR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn0pIGFuZCA8IDIgKiogYCArXG4gICAgICAgICAgICAgICAgYCR7KGJ5dGVMZW5ndGggKyAxKSAqIDggLSAxfSR7bn1gXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhbmdlID0gYD49ICR7bWlufSR7bn0gYW5kIDw9ICR7bWF4fSR7bn1gXG4gICAgfVxuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSgndmFsdWUnLCByYW5nZSwgdmFsdWUpXG4gIH1cbiAgY2hlY2tCb3VuZHMoYnVmLCBvZmZzZXQsIGJ5dGVMZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyICh2YWx1ZSwgbmFtZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX0lOVkFMSURfQVJHX1RZUEUobmFtZSwgJ251bWJlcicsIHZhbHVlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJvdW5kc0Vycm9yICh2YWx1ZSwgbGVuZ3RoLCB0eXBlKSB7XG4gIGlmIChNYXRoLmZsb29yKHZhbHVlKSAhPT0gdmFsdWUpIHtcbiAgICB2YWxpZGF0ZU51bWJlcih2YWx1ZSwgdHlwZSlcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9PVVRfT0ZfUkFOR0UodHlwZSB8fCAnb2Zmc2V0JywgJ2FuIGludGVnZXInLCB2YWx1ZSlcbiAgfVxuXG4gIGlmIChsZW5ndGggPCAwKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFMoKVxuICB9XG5cbiAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKHR5cGUgfHwgJ29mZnNldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgPj0gJHt0eXBlID8gMSA6IDB9IGFuZCA8PSAke2xlbmd0aH1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUpXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxuY29uc3QgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSB0YWtlcyBlcXVhbCBzaWducyBhcyBlbmQgb2YgdGhlIEJhc2U2NCBlbmNvZGluZ1xuICBzdHIgPSBzdHIuc3BsaXQoJz0nKVswXVxuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyLnRyaW0oKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIGxldCBjb2RlUG9pbnRcbiAgY29uc3QgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICBsZXQgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgY29uc3QgYnl0ZXMgPSBbXVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICBjb25zdCBieXRlQXJyYXkgPSBbXVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIGxldCBjLCBoaSwgbG9cbiAgY29uc3QgYnl0ZUFycmF5ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBsZXQgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuLy8gQXJyYXlCdWZmZXIgb3IgVWludDhBcnJheSBvYmplY3RzIGZyb20gb3RoZXIgY29udGV4dHMgKGkuZS4gaWZyYW1lcykgZG8gbm90IHBhc3Ncbi8vIHRoZSBgaW5zdGFuY2VvZmAgY2hlY2sgYnV0IHRoZXkgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgb2YgdGhhdCB0eXBlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTY2XG5mdW5jdGlvbiBpc0luc3RhbmNlIChvYmosIHR5cGUpIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIHR5cGUgfHxcbiAgICAob2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yLm5hbWUgIT0gbnVsbCAmJlxuICAgICAgb2JqLmNvbnN0cnVjdG9yLm5hbWUgPT09IHR5cGUubmFtZSlcbn1cbmZ1bmN0aW9uIG51bWJlcklzTmFOIChvYmopIHtcbiAgLy8gRm9yIElFMTEgc3VwcG9ydFxuICByZXR1cm4gb2JqICE9PSBvYmogLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cblxuLy8gQ3JlYXRlIGxvb2t1cCB0YWJsZSBmb3IgYHRvU3RyaW5nKCdoZXgnKWBcbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzIxOVxuY29uc3QgaGV4U2xpY2VMb29rdXBUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGFscGhhYmV0ID0gJzAxMjM0NTY3ODlhYmNkZWYnXG4gIGNvbnN0IHRhYmxlID0gbmV3IEFycmF5KDI1NilcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgY29uc3QgaTE2ID0gaSAqIDE2XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICB0YWJsZVtpMTYgKyBqXSA9IGFscGhhYmV0W2ldICsgYWxwaGFiZXRbal1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhYmxlXG59KSgpXG5cbi8vIFJldHVybiBub3QgZnVuY3Rpb24gd2l0aCBFcnJvciBpZiBCaWdJbnQgbm90IHN1cHBvcnRlZFxuZnVuY3Rpb24gZGVmaW5lQmlnSW50TWV0aG9kIChmbikge1xuICByZXR1cm4gdHlwZW9mIEJpZ0ludCA9PT0gJ3VuZGVmaW5lZCcgPyBCdWZmZXJCaWdJbnROb3REZWZpbmVkIDogZm5cbn1cblxuZnVuY3Rpb24gQnVmZmVyQmlnSW50Tm90RGVmaW5lZCAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignQmlnSW50IG5vdCBzdXBwb3J0ZWQnKVxufVxuIiwiLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9cbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsImltcG9ydCB0eXBlIE9wZW5GaW4gZnJvbSBcIkBvcGVuZmluL2NvcmVcIjtcbmltcG9ydCB0eXBlIHsgQ3VzdG9tU2V0dGluZ3MgfSBmcm9tIFwiLi9zaGFwZXNcIjtcblxuLyoqXG4gKiBMb2FkIHRoZSBjdXN0b21TZXR0aW5ncyBzZWN0aW9uIGZyb20gdGhlIGFwcGxpY2F0aW9uIG1hbmlmZXN0LlxuICogQHJldHVybnMgVGhlIGN1c3RvbSBzZXR0aW5ncyBmcm9tIHRoZSBtYW5pZmVzdC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE1hbmlmZXN0Q3VzdG9tU2V0dGluZ3MoKTogUHJvbWlzZTxDdXN0b21TZXR0aW5ncyB8IHVuZGVmaW5lZD4ge1xuXHRjb25zdCBhcHAgPSBhd2FpdCBmaW4uQXBwbGljYXRpb24uZ2V0Q3VycmVudCgpO1xuXHRjb25zdCBtYW5pZmVzdDogT3BlbkZpbi5NYW5pZmVzdCAmIHsgY3VzdG9tU2V0dGluZ3M/OiBDdXN0b21TZXR0aW5ncyB9ID0gYXdhaXQgYXBwLmdldE1hbmlmZXN0KCk7XG5cdHJldHVybiBtYW5pZmVzdC5jdXN0b21TZXR0aW5ncztcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmFtZE8gPSB7fTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBjbG91ZEludGVyb3BPdmVycmlkZSB9IGZyb20gXCJAb3BlbmZpbi9jbG91ZC1pbnRlcm9wXCI7XG5pbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5pbXBvcnQgeyBnZXRNYW5pZmVzdEN1c3RvbVNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcblx0Y29uc3QgY3VzdG9tU2V0dGluZ3MgPSBhd2FpdCBnZXRNYW5pZmVzdEN1c3RvbVNldHRpbmdzKCk7XG5cdGNvbnN0IGludGVyb3BPdmVycmlkZXMgPSBbXTtcblxuXHRpZiAoY3VzdG9tU2V0dGluZ3M/LmNsb3VkSW50ZXJvcFByb3ZpZGVyPy5lbmFibGVkKSB7XG5cdFx0Y29uc3QgaW5pdGlhbGl6ZWRDbG91ZEludGVyb3BPdmVycmlkZSA9IChhd2FpdCBjbG91ZEludGVyb3BPdmVycmlkZShcblx0XHRcdGN1c3RvbVNldHRpbmdzPy5jbG91ZEludGVyb3BQcm92aWRlcj8uY29ubmVjdFBhcmFtc1xuXHRcdCkpIGFzIHVua25vd24gYXMgT3BlbkZpbi5Db25zdHJ1Y3Rvck92ZXJyaWRlPE9wZW5GaW4uSW50ZXJvcEJyb2tlcj47XG5cdFx0aW50ZXJvcE92ZXJyaWRlcy5wdXNoKGluaXRpYWxpemVkQ2xvdWRJbnRlcm9wT3ZlcnJpZGUpO1xuXHR9XG5cdGZpbi5QbGF0Zm9ybS5pbml0KHsgaW50ZXJvcE92ZXJyaWRlOiBpbnRlcm9wT3ZlcnJpZGVzIH0pLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=