/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../../node_modules/base64-js/index.js":
/*!************************************************!*\
  !*** ../../../node_modules/base64-js/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "../../../node_modules/buffer/index.js":
/*!*********************************************!*\
  !*** ../../../node_modules/buffer/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



const base64 = __webpack_require__(/*! base64-js */ "../../../node_modules/base64-js/index.js")
const ieee754 = __webpack_require__(/*! ieee754 */ "../../../node_modules/ieee754/index.js")
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

const K_MAX_LENGTH = 0x7fffffff
exports.kMaxLength = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1)
    const proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0
  let buf = createBuffer(length)

  const actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0
  const buf = createBuffer(length)
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0
    const buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length
  let y = b.length

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  const buffer = Buffer.allocUnsafe(length)
  let pos = 0
  for (i = 0; i < list.length; ++i) {
    let buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)
        buf.copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length
  const mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  let loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  const i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  const length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  let str = ''
  const max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  let x = thisEnd - thisStart
  let y = end - start
  const len = Math.min(x, y)

  const thisCopy = this.slice(thisStart, thisEnd)
  const targetCopy = target.slice(start, end)

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1
  let arrLength = arr.length
  let valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i
  if (dir) {
    let foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      let found = true
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  const remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  const strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  let i
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  const res = []

  let i = start
  while (i < end) {
    const firstByte = buf[i]
    let codePoint = null
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = ''
  let i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  let out = ''
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end)
  let res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  const newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  let val = this[offset + --byteLength]
  let mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
})

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
})

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let i = byteLength
  let mul = 1
  let val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24) // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
})

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
})

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let mul = 1
  let i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let i = byteLength - 1
  let mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset + 7] = lo
  lo = lo >> 8
  buf[offset + 6] = lo
  lo = lo >> 8
  buf[offset + 5] = lo
  lo = lo >> 8
  buf[offset + 4] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset + 3] = hi
  hi = hi >> 8
  buf[offset + 2] = hi
  hi = hi >> 8
  buf[offset + 1] = hi
  hi = hi >> 8
  buf[offset] = hi
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = 0
  let mul = 1
  let sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = byteLength - 1
  let mul = 1
  let sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  const len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  let i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    const len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {}
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super()

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      })

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      })
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  }
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError)
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError)
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`
    let received = input
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input))
    } else if (typeof input === 'bigint') {
      received = String(input)
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received)
      }
      received += 'n'
    }
    msg += ` It must be ${range}. Received ${received}`
    return msg
  }, RangeError)

function addNumericalSeparator (val) {
  let res = ''
  let i = val.length
  const start = val[0] === '-' ? 1 : 0
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset')
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1))
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : ''
    let range
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength)
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type)
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  let codePoint
  const length = string.length
  let leadSurrogate = null
  const bytes = []

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef'
  const table = new Array(256)
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}


/***/ }),

/***/ "../../../node_modules/ieee754/index.js":
/*!**********************************************!*\
  !*** ../../../node_modules/ieee754/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./client/src/settings.ts":
/*!********************************!*\
  !*** ./client/src/settings.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getManifestCustomSettings: () => (/* binding */ getManifestCustomSettings)
/* harmony export */ });
/**
 * Load the customSettings section from the application manifest.
 * @returns The custom settings from the manifest.
 */
async function getManifestCustomSettings() {
    const app = await fin.Application.getCurrent();
    const manifest = await app.getManifest();
    return manifest.customSettings;
}


/***/ }),

/***/ "./node_modules/@openfin/cloud-interop/out/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@openfin/cloud-interop/out/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cloudInteropOverride: () => (/* binding */ cloudInteropOverride)
/* harmony export */ });
/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ "../../../node_modules/buffer/index.js");


function bind(fn, thisArg) {
  return function wrap() {
    return fn.apply(thisArg, arguments);
  };
}

// utils is a library of generic helper functions non-specific to axios

const {toString} = Object.prototype;
const {getPrototypeOf} = Object;

const kindOf = (cache => thing => {
    const str = toString.call(thing);
    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());
})(Object.create(null));

const kindOfTest = (type) => {
  type = type.toLowerCase();
  return (thing) => kindOf(thing) === type
};

const typeOfTest = type => thing => typeof thing === type;

/**
 * Determine if a value is an Array
 *
 * @param {Object} val The value to test
 *
 * @returns {boolean} True if value is an Array, otherwise false
 */
const {isArray} = Array;

/**
 * Determine if a value is undefined
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if the value is undefined, otherwise false
 */
const isUndefined = typeOfTest('undefined');

/**
 * Determine if a value is a Buffer
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Buffer, otherwise false
 */
function isBuffer(val) {
  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)
    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);
}

/**
 * Determine if a value is an ArrayBuffer
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is an ArrayBuffer, otherwise false
 */
const isArrayBuffer = kindOfTest('ArrayBuffer');


/**
 * Determine if a value is a view on an ArrayBuffer
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
 */
function isArrayBufferView(val) {
  let result;
  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {
    result = ArrayBuffer.isView(val);
  } else {
    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));
  }
  return result;
}

/**
 * Determine if a value is a String
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a String, otherwise false
 */
const isString = typeOfTest('string');

/**
 * Determine if a value is a Function
 *
 * @param {*} val The value to test
 * @returns {boolean} True if value is a Function, otherwise false
 */
const isFunction = typeOfTest('function');

/**
 * Determine if a value is a Number
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Number, otherwise false
 */
const isNumber = typeOfTest('number');

/**
 * Determine if a value is an Object
 *
 * @param {*} thing The value to test
 *
 * @returns {boolean} True if value is an Object, otherwise false
 */
const isObject = (thing) => thing !== null && typeof thing === 'object';

/**
 * Determine if a value is a Boolean
 *
 * @param {*} thing The value to test
 * @returns {boolean} True if value is a Boolean, otherwise false
 */
const isBoolean = thing => thing === true || thing === false;

/**
 * Determine if a value is a plain Object
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a plain Object, otherwise false
 */
const isPlainObject = (val) => {
  if (kindOf(val) !== 'object') {
    return false;
  }

  const prototype = getPrototypeOf(val);
  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);
};

/**
 * Determine if a value is a Date
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Date, otherwise false
 */
const isDate = kindOfTest('Date');

/**
 * Determine if a value is a File
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a File, otherwise false
 */
const isFile = kindOfTest('File');

/**
 * Determine if a value is a Blob
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Blob, otherwise false
 */
const isBlob = kindOfTest('Blob');

/**
 * Determine if a value is a FileList
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a File, otherwise false
 */
const isFileList = kindOfTest('FileList');

/**
 * Determine if a value is a Stream
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a Stream, otherwise false
 */
const isStream = (val) => isObject(val) && isFunction(val.pipe);

/**
 * Determine if a value is a FormData
 *
 * @param {*} thing The value to test
 *
 * @returns {boolean} True if value is an FormData, otherwise false
 */
const isFormData = (thing) => {
  let kind;
  return thing && (
    (typeof FormData === 'function' && thing instanceof FormData) || (
      isFunction(thing.append) && (
        (kind = kindOf(thing)) === 'formdata' ||
        // detect form-data instance
        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')
      )
    )
  )
};

/**
 * Determine if a value is a URLSearchParams object
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a URLSearchParams object, otherwise false
 */
const isURLSearchParams = kindOfTest('URLSearchParams');

const [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);

/**
 * Trim excess whitespace off the beginning and end of a string
 *
 * @param {String} str The String to trim
 *
 * @returns {String} The String freed of excess whitespace
 */
const trim = (str) => str.trim ?
  str.trim() : str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');

/**
 * Iterate over an Array or an Object invoking a function for each item.
 *
 * If `obj` is an Array callback will be called passing
 * the value, index, and complete array for each item.
 *
 * If 'obj' is an Object callback will be called passing
 * the value, key, and complete object for each property.
 *
 * @param {Object|Array} obj The object to iterate
 * @param {Function} fn The callback to invoke for each item
 *
 * @param {Boolean} [allOwnKeys = false]
 * @returns {any}
 */
function forEach(obj, fn, {allOwnKeys = false} = {}) {
  // Don't bother if no value provided
  if (obj === null || typeof obj === 'undefined') {
    return;
  }

  let i;
  let l;

  // Force an array if not already something iterable
  if (typeof obj !== 'object') {
    /*eslint no-param-reassign:0*/
    obj = [obj];
  }

  if (isArray(obj)) {
    // Iterate over array values
    for (i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    // Iterate over object keys
    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);
    const len = keys.length;
    let key;

    for (i = 0; i < len; i++) {
      key = keys[i];
      fn.call(null, obj[key], key, obj);
    }
  }
}

function findKey(obj, key) {
  key = key.toLowerCase();
  const keys = Object.keys(obj);
  let i = keys.length;
  let _key;
  while (i-- > 0) {
    _key = keys[i];
    if (key === _key.toLowerCase()) {
      return _key;
    }
  }
  return null;
}

const _global = (() => {
  /*eslint no-undef:0*/
  if (typeof globalThis !== "undefined") return globalThis;
  return typeof self !== "undefined" ? self : (typeof window !== 'undefined' ? window : __webpack_require__.g)
})();

const isContextDefined = (context) => !isUndefined(context) && context !== _global;

/**
 * Accepts varargs expecting each argument to be an object, then
 * immutably merges the properties of each object and returns result.
 *
 * When multiple objects contain the same key the later object in
 * the arguments list will take precedence.
 *
 * Example:
 *
 * ```js
 * var result = merge({foo: 123}, {foo: 456});
 * console.log(result.foo); // outputs 456
 * ```
 *
 * @param {Object} obj1 Object to merge
 *
 * @returns {Object} Result of all merge properties
 */
function merge(/* obj1, obj2, obj3, ... */) {
  const {caseless} = isContextDefined(this) && this || {};
  const result = {};
  const assignValue = (val, key) => {
    const targetKey = caseless && findKey(result, key) || key;
    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {
      result[targetKey] = merge(result[targetKey], val);
    } else if (isPlainObject(val)) {
      result[targetKey] = merge({}, val);
    } else if (isArray(val)) {
      result[targetKey] = val.slice();
    } else {
      result[targetKey] = val;
    }
  };

  for (let i = 0, l = arguments.length; i < l; i++) {
    arguments[i] && forEach(arguments[i], assignValue);
  }
  return result;
}

/**
 * Extends object a by mutably adding to it the properties of object b.
 *
 * @param {Object} a The object to be extended
 * @param {Object} b The object to copy properties from
 * @param {Object} thisArg The object to bind function to
 *
 * @param {Boolean} [allOwnKeys]
 * @returns {Object} The resulting value of object a
 */
const extend = (a, b, thisArg, {allOwnKeys}= {}) => {
  forEach(b, (val, key) => {
    if (thisArg && isFunction(val)) {
      a[key] = bind(val, thisArg);
    } else {
      a[key] = val;
    }
  }, {allOwnKeys});
  return a;
};

/**
 * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)
 *
 * @param {string} content with BOM
 *
 * @returns {string} content value without BOM
 */
const stripBOM = (content) => {
  if (content.charCodeAt(0) === 0xFEFF) {
    content = content.slice(1);
  }
  return content;
};

/**
 * Inherit the prototype methods from one constructor into another
 * @param {function} constructor
 * @param {function} superConstructor
 * @param {object} [props]
 * @param {object} [descriptors]
 *
 * @returns {void}
 */
const inherits = (constructor, superConstructor, props, descriptors) => {
  constructor.prototype = Object.create(superConstructor.prototype, descriptors);
  constructor.prototype.constructor = constructor;
  Object.defineProperty(constructor, 'super', {
    value: superConstructor.prototype
  });
  props && Object.assign(constructor.prototype, props);
};

/**
 * Resolve object with deep prototype chain to a flat object
 * @param {Object} sourceObj source object
 * @param {Object} [destObj]
 * @param {Function|Boolean} [filter]
 * @param {Function} [propFilter]
 *
 * @returns {Object}
 */
const toFlatObject = (sourceObj, destObj, filter, propFilter) => {
  let props;
  let i;
  let prop;
  const merged = {};

  destObj = destObj || {};
  // eslint-disable-next-line no-eq-null,eqeqeq
  if (sourceObj == null) return destObj;

  do {
    props = Object.getOwnPropertyNames(sourceObj);
    i = props.length;
    while (i-- > 0) {
      prop = props[i];
      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {
        destObj[prop] = sourceObj[prop];
        merged[prop] = true;
      }
    }
    sourceObj = filter !== false && getPrototypeOf(sourceObj);
  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);

  return destObj;
};

/**
 * Determines whether a string ends with the characters of a specified string
 *
 * @param {String} str
 * @param {String} searchString
 * @param {Number} [position= 0]
 *
 * @returns {boolean}
 */
const endsWith = (str, searchString, position) => {
  str = String(str);
  if (position === undefined || position > str.length) {
    position = str.length;
  }
  position -= searchString.length;
  const lastIndex = str.indexOf(searchString, position);
  return lastIndex !== -1 && lastIndex === position;
};


/**
 * Returns new array from array like object or null if failed
 *
 * @param {*} [thing]
 *
 * @returns {?Array}
 */
const toArray = (thing) => {
  if (!thing) return null;
  if (isArray(thing)) return thing;
  let i = thing.length;
  if (!isNumber(i)) return null;
  const arr = new Array(i);
  while (i-- > 0) {
    arr[i] = thing[i];
  }
  return arr;
};

/**
 * Checking if the Uint8Array exists and if it does, it returns a function that checks if the
 * thing passed in is an instance of Uint8Array
 *
 * @param {TypedArray}
 *
 * @returns {Array}
 */
// eslint-disable-next-line func-names
const isTypedArray = (TypedArray => {
  // eslint-disable-next-line func-names
  return thing => {
    return TypedArray && thing instanceof TypedArray;
  };
})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));

/**
 * For each entry in the object, call the function with the key and value.
 *
 * @param {Object<any, any>} obj - The object to iterate over.
 * @param {Function} fn - The function to call for each entry.
 *
 * @returns {void}
 */
const forEachEntry = (obj, fn) => {
  const generator = obj && obj[Symbol.iterator];

  const iterator = generator.call(obj);

  let result;

  while ((result = iterator.next()) && !result.done) {
    const pair = result.value;
    fn.call(obj, pair[0], pair[1]);
  }
};

/**
 * It takes a regular expression and a string, and returns an array of all the matches
 *
 * @param {string} regExp - The regular expression to match against.
 * @param {string} str - The string to search.
 *
 * @returns {Array<boolean>}
 */
const matchAll = (regExp, str) => {
  let matches;
  const arr = [];

  while ((matches = regExp.exec(str)) !== null) {
    arr.push(matches);
  }

  return arr;
};

/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */
const isHTMLForm = kindOfTest('HTMLFormElement');

const toCamelCase = str => {
  return str.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,
    function replacer(m, p1, p2) {
      return p1.toUpperCase() + p2;
    }
  );
};

/* Creating a function that will check if an object has a property. */
const hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);

/**
 * Determine if a value is a RegExp object
 *
 * @param {*} val The value to test
 *
 * @returns {boolean} True if value is a RegExp object, otherwise false
 */
const isRegExp = kindOfTest('RegExp');

const reduceDescriptors = (obj, reducer) => {
  const descriptors = Object.getOwnPropertyDescriptors(obj);
  const reducedDescriptors = {};

  forEach(descriptors, (descriptor, name) => {
    let ret;
    if ((ret = reducer(descriptor, name, obj)) !== false) {
      reducedDescriptors[name] = ret || descriptor;
    }
  });

  Object.defineProperties(obj, reducedDescriptors);
};

/**
 * Makes all methods read-only
 * @param {Object} obj
 */

const freezeMethods = (obj) => {
  reduceDescriptors(obj, (descriptor, name) => {
    // skip restricted props in strict mode
    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {
      return false;
    }

    const value = obj[name];

    if (!isFunction(value)) return;

    descriptor.enumerable = false;

    if ('writable' in descriptor) {
      descriptor.writable = false;
      return;
    }

    if (!descriptor.set) {
      descriptor.set = () => {
        throw Error('Can not rewrite read-only method \'' + name + '\'');
      };
    }
  });
};

const toObjectSet = (arrayOrString, delimiter) => {
  const obj = {};

  const define = (arr) => {
    arr.forEach(value => {
      obj[value] = true;
    });
  };

  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));

  return obj;
};

const noop = () => {};

const toFiniteNumber = (value, defaultValue) => {
  return value != null && Number.isFinite(value = +value) ? value : defaultValue;
};

const ALPHA = 'abcdefghijklmnopqrstuvwxyz';

const DIGIT = '0123456789';

const ALPHABET = {
  DIGIT,
  ALPHA,
  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT
};

const generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {
  let str = '';
  const {length} = alphabet;
  while (size--) {
    str += alphabet[Math.random() * length|0];
  }

  return str;
};

/**
 * If the thing is a FormData object, return true, otherwise return false.
 *
 * @param {unknown} thing - The thing to check.
 *
 * @returns {boolean}
 */
function isSpecCompliantForm(thing) {
  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);
}

const toJSONObject = (obj) => {
  const stack = new Array(10);

  const visit = (source, i) => {

    if (isObject(source)) {
      if (stack.indexOf(source) >= 0) {
        return;
      }

      if(!('toJSON' in source)) {
        stack[i] = source;
        const target = isArray(source) ? [] : {};

        forEach(source, (value, key) => {
          const reducedValue = visit(value, i + 1);
          !isUndefined(reducedValue) && (target[key] = reducedValue);
        });

        stack[i] = undefined;

        return target;
      }
    }

    return source;
  };

  return visit(obj, 0);
};

const isAsyncFn = kindOfTest('AsyncFunction');

const isThenable = (thing) =>
  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);

// original code
// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34

const _setImmediate = ((setImmediateSupported, postMessageSupported) => {
  if (setImmediateSupported) {
    return setImmediate;
  }

  return postMessageSupported ? ((token, callbacks) => {
    _global.addEventListener("message", ({source, data}) => {
      if (source === _global && data === token) {
        callbacks.length && callbacks.shift()();
      }
    }, false);

    return (cb) => {
      callbacks.push(cb);
      _global.postMessage(token, "*");
    }
  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);
})(
  typeof setImmediate === 'function',
  isFunction(_global.postMessage)
);

const asap = typeof queueMicrotask !== 'undefined' ?
  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);

// *********************

var utils$1 = {
  isArray,
  isArrayBuffer,
  isBuffer,
  isFormData,
  isArrayBufferView,
  isString,
  isNumber,
  isBoolean,
  isObject,
  isPlainObject,
  isReadableStream,
  isRequest,
  isResponse,
  isHeaders,
  isUndefined,
  isDate,
  isFile,
  isBlob,
  isRegExp,
  isFunction,
  isStream,
  isURLSearchParams,
  isTypedArray,
  isFileList,
  forEach,
  merge,
  extend,
  trim,
  stripBOM,
  inherits,
  toFlatObject,
  kindOf,
  kindOfTest,
  endsWith,
  toArray,
  forEachEntry,
  matchAll,
  isHTMLForm,
  hasOwnProperty,
  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection
  reduceDescriptors,
  freezeMethods,
  toObjectSet,
  toCamelCase,
  noop,
  toFiniteNumber,
  findKey,
  global: _global,
  isContextDefined,
  ALPHABET,
  generateString,
  isSpecCompliantForm,
  toJSONObject,
  isAsyncFn,
  isThenable,
  setImmediate: _setImmediate,
  asap
};

/**
 * Create an Error with the specified message, config, error code, request and response.
 *
 * @param {string} message The error message.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 * @param {Object} [config] The config.
 * @param {Object} [request] The request.
 * @param {Object} [response] The response.
 *
 * @returns {Error} The created error.
 */
function AxiosError$1(message, code, config, request, response) {
  Error.call(this);

  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, this.constructor);
  } else {
    this.stack = (new Error()).stack;
  }

  this.message = message;
  this.name = 'AxiosError';
  code && (this.code = code);
  config && (this.config = config);
  request && (this.request = request);
  if (response) {
    this.response = response;
    this.status = response.status ? response.status : null;
  }
}

utils$1.inherits(AxiosError$1, Error, {
  toJSON: function toJSON() {
    return {
      // Standard
      message: this.message,
      name: this.name,
      // Microsoft
      description: this.description,
      number: this.number,
      // Mozilla
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      // Axios
      config: utils$1.toJSONObject(this.config),
      code: this.code,
      status: this.status
    };
  }
});

const prototype$1 = AxiosError$1.prototype;
const descriptors = {};

[
  'ERR_BAD_OPTION_VALUE',
  'ERR_BAD_OPTION',
  'ECONNABORTED',
  'ETIMEDOUT',
  'ERR_NETWORK',
  'ERR_FR_TOO_MANY_REDIRECTS',
  'ERR_DEPRECATED',
  'ERR_BAD_RESPONSE',
  'ERR_BAD_REQUEST',
  'ERR_CANCELED',
  'ERR_NOT_SUPPORT',
  'ERR_INVALID_URL'
// eslint-disable-next-line func-names
].forEach(code => {
  descriptors[code] = {value: code};
});

Object.defineProperties(AxiosError$1, descriptors);
Object.defineProperty(prototype$1, 'isAxiosError', {value: true});

// eslint-disable-next-line func-names
AxiosError$1.from = (error, code, config, request, response, customProps) => {
  const axiosError = Object.create(prototype$1);

  utils$1.toFlatObject(error, axiosError, function filter(obj) {
    return obj !== Error.prototype;
  }, prop => {
    return prop !== 'isAxiosError';
  });

  AxiosError$1.call(axiosError, error.message, code, config, request, response);

  axiosError.cause = error;

  axiosError.name = error.name;

  customProps && Object.assign(axiosError, customProps);

  return axiosError;
};

// eslint-disable-next-line strict
var httpAdapter = null;

/**
 * Determines if the given thing is a array or js object.
 *
 * @param {string} thing - The object or array to be visited.
 *
 * @returns {boolean}
 */
function isVisitable(thing) {
  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);
}

/**
 * It removes the brackets from the end of a string
 *
 * @param {string} key - The key of the parameter.
 *
 * @returns {string} the key without the brackets.
 */
function removeBrackets(key) {
  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;
}

/**
 * It takes a path, a key, and a boolean, and returns a string
 *
 * @param {string} path - The path to the current key.
 * @param {string} key - The key of the current object being iterated over.
 * @param {string} dots - If true, the key will be rendered with dots instead of brackets.
 *
 * @returns {string} The path to the current key.
 */
function renderKey(path, key, dots) {
  if (!path) return key;
  return path.concat(key).map(function each(token, i) {
    // eslint-disable-next-line no-param-reassign
    token = removeBrackets(token);
    return !dots && i ? '[' + token + ']' : token;
  }).join(dots ? '.' : '');
}

/**
 * If the array is an array and none of its elements are visitable, then it's a flat array.
 *
 * @param {Array<any>} arr - The array to check
 *
 * @returns {boolean}
 */
function isFlatArray(arr) {
  return utils$1.isArray(arr) && !arr.some(isVisitable);
}

const predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {
  return /^is[A-Z]/.test(prop);
});

/**
 * Convert a data object to FormData
 *
 * @param {Object} obj
 * @param {?Object} [formData]
 * @param {?Object} [options]
 * @param {Function} [options.visitor]
 * @param {Boolean} [options.metaTokens = true]
 * @param {Boolean} [options.dots = false]
 * @param {?Boolean} [options.indexes = false]
 *
 * @returns {Object}
 **/

/**
 * It converts an object into a FormData object
 *
 * @param {Object<any, any>} obj - The object to convert to form data.
 * @param {string} formData - The FormData object to append to.
 * @param {Object<string, any>} options
 *
 * @returns
 */
function toFormData$1(obj, formData, options) {
  if (!utils$1.isObject(obj)) {
    throw new TypeError('target must be an object');
  }

  // eslint-disable-next-line no-param-reassign
  formData = formData || new (FormData)();

  // eslint-disable-next-line no-param-reassign
  options = utils$1.toFlatObject(options, {
    metaTokens: true,
    dots: false,
    indexes: false
  }, false, function defined(option, source) {
    // eslint-disable-next-line no-eq-null,eqeqeq
    return !utils$1.isUndefined(source[option]);
  });

  const metaTokens = options.metaTokens;
  // eslint-disable-next-line no-use-before-define
  const visitor = options.visitor || defaultVisitor;
  const dots = options.dots;
  const indexes = options.indexes;
  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;
  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);

  if (!utils$1.isFunction(visitor)) {
    throw new TypeError('visitor must be a function');
  }

  function convertValue(value) {
    if (value === null) return '';

    if (utils$1.isDate(value)) {
      return value.toISOString();
    }

    if (!useBlob && utils$1.isBlob(value)) {
      throw new AxiosError$1('Blob is not supported. Use a Buffer instead.');
    }

    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {
      return useBlob && typeof Blob === 'function' ? new Blob([value]) : buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(value);
    }

    return value;
  }

  /**
   * Default visitor.
   *
   * @param {*} value
   * @param {String|Number} key
   * @param {Array<String|Number>} path
   * @this {FormData}
   *
   * @returns {boolean} return true to visit the each prop of the value recursively
   */
  function defaultVisitor(value, key, path) {
    let arr = value;

    if (value && !path && typeof value === 'object') {
      if (utils$1.endsWith(key, '{}')) {
        // eslint-disable-next-line no-param-reassign
        key = metaTokens ? key : key.slice(0, -2);
        // eslint-disable-next-line no-param-reassign
        value = JSON.stringify(value);
      } else if (
        (utils$1.isArray(value) && isFlatArray(value)) ||
        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))
        )) {
        // eslint-disable-next-line no-param-reassign
        key = removeBrackets(key);

        arr.forEach(function each(el, index) {
          !(utils$1.isUndefined(el) || el === null) && formData.append(
            // eslint-disable-next-line no-nested-ternary
            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),
            convertValue(el)
          );
        });
        return false;
      }
    }

    if (isVisitable(value)) {
      return true;
    }

    formData.append(renderKey(path, key, dots), convertValue(value));

    return false;
  }

  const stack = [];

  const exposedHelpers = Object.assign(predicates, {
    defaultVisitor,
    convertValue,
    isVisitable
  });

  function build(value, path) {
    if (utils$1.isUndefined(value)) return;

    if (stack.indexOf(value) !== -1) {
      throw Error('Circular reference detected in ' + path.join('.'));
    }

    stack.push(value);

    utils$1.forEach(value, function each(el, key) {
      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(
        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers
      );

      if (result === true) {
        build(el, path ? path.concat(key) : [key]);
      }
    });

    stack.pop();
  }

  if (!utils$1.isObject(obj)) {
    throw new TypeError('data must be an object');
  }

  build(obj);

  return formData;
}

/**
 * It encodes a string by replacing all characters that are not in the unreserved set with
 * their percent-encoded equivalents
 *
 * @param {string} str - The string to encode.
 *
 * @returns {string} The encoded string.
 */
function encode$1(str) {
  const charMap = {
    '!': '%21',
    "'": '%27',
    '(': '%28',
    ')': '%29',
    '~': '%7E',
    '%20': '+',
    '%00': '\x00'
  };
  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {
    return charMap[match];
  });
}

/**
 * It takes a params object and converts it to a FormData object
 *
 * @param {Object<string, any>} params - The parameters to be converted to a FormData object.
 * @param {Object<string, any>} options - The options object passed to the Axios constructor.
 *
 * @returns {void}
 */
function AxiosURLSearchParams(params, options) {
  this._pairs = [];

  params && toFormData$1(params, this, options);
}

const prototype = AxiosURLSearchParams.prototype;

prototype.append = function append(name, value) {
  this._pairs.push([name, value]);
};

prototype.toString = function toString(encoder) {
  const _encode = encoder ? function(value) {
    return encoder.call(this, value, encode$1);
  } : encode$1;

  return this._pairs.map(function each(pair) {
    return _encode(pair[0]) + '=' + _encode(pair[1]);
  }, '').join('&');
};

/**
 * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their
 * URI encoded counterparts
 *
 * @param {string} val The value to be encoded.
 *
 * @returns {string} The encoded value.
 */
function encode(val) {
  return encodeURIComponent(val).
    replace(/%3A/gi, ':').
    replace(/%24/g, '$').
    replace(/%2C/gi, ',').
    replace(/%20/g, '+').
    replace(/%5B/gi, '[').
    replace(/%5D/gi, ']');
}

/**
 * Build a URL by appending params to the end
 *
 * @param {string} url The base of the url (e.g., http://www.google.com)
 * @param {object} [params] The params to be appended
 * @param {?object} options
 *
 * @returns {string} The formatted url
 */
function buildURL(url, params, options) {
  /*eslint no-param-reassign:0*/
  if (!params) {
    return url;
  }
  
  const _encode = options && options.encode || encode;

  const serializeFn = options && options.serialize;

  let serializedParams;

  if (serializeFn) {
    serializedParams = serializeFn(params, options);
  } else {
    serializedParams = utils$1.isURLSearchParams(params) ?
      params.toString() :
      new AxiosURLSearchParams(params, options).toString(_encode);
  }

  if (serializedParams) {
    const hashmarkIndex = url.indexOf("#");

    if (hashmarkIndex !== -1) {
      url = url.slice(0, hashmarkIndex);
    }
    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
  }

  return url;
}

class InterceptorManager {
  constructor() {
    this.handlers = [];
  }

  /**
   * Add a new interceptor to the stack
   *
   * @param {Function} fulfilled The function to handle `then` for a `Promise`
   * @param {Function} rejected The function to handle `reject` for a `Promise`
   *
   * @return {Number} An ID used to remove interceptor later
   */
  use(fulfilled, rejected, options) {
    this.handlers.push({
      fulfilled,
      rejected,
      synchronous: options ? options.synchronous : false,
      runWhen: options ? options.runWhen : null
    });
    return this.handlers.length - 1;
  }

  /**
   * Remove an interceptor from the stack
   *
   * @param {Number} id The ID that was returned by `use`
   *
   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise
   */
  eject(id) {
    if (this.handlers[id]) {
      this.handlers[id] = null;
    }
  }

  /**
   * Clear all interceptors from the stack
   *
   * @returns {void}
   */
  clear() {
    if (this.handlers) {
      this.handlers = [];
    }
  }

  /**
   * Iterate over all the registered interceptors
   *
   * This method is particularly useful for skipping over any
   * interceptors that may have become `null` calling `eject`.
   *
   * @param {Function} fn The function to call for each interceptor
   *
   * @returns {void}
   */
  forEach(fn) {
    utils$1.forEach(this.handlers, function forEachHandler(h) {
      if (h !== null) {
        fn(h);
      }
    });
  }
}

var transitionalDefaults = {
  silentJSONParsing: true,
  forcedJSONParsing: true,
  clarifyTimeoutError: false
};

var URLSearchParams$1 = typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;

var FormData$1 = typeof FormData !== 'undefined' ? FormData : null;

var Blob$1 = typeof Blob !== 'undefined' ? Blob : null;

var platform$1 = {
  isBrowser: true,
  classes: {
    URLSearchParams: URLSearchParams$1,
    FormData: FormData$1,
    Blob: Blob$1
  },
  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']
};

const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';

const _navigator = typeof navigator === 'object' && navigator || undefined;

/**
 * Determine if we're running in a standard browser environment
 *
 * This allows axios to run in a web worker, and react-native.
 * Both environments support XMLHttpRequest, but not fully standard globals.
 *
 * web workers:
 *  typeof window -> undefined
 *  typeof document -> undefined
 *
 * react-native:
 *  navigator.product -> 'ReactNative'
 * nativescript
 *  navigator.product -> 'NativeScript' or 'NS'
 *
 * @returns {boolean}
 */
const hasStandardBrowserEnv = hasBrowserEnv &&
  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);

/**
 * Determine if we're running in a standard browser webWorker environment
 *
 * Although the `isStandardBrowserEnv` method indicates that
 * `allows axios to run in a web worker`, the WebWorker will still be
 * filtered out due to its judgment standard
 * `typeof window !== 'undefined' && typeof document !== 'undefined'`.
 * This leads to a problem when axios post `FormData` in webWorker
 */
const hasStandardBrowserWebWorkerEnv = (() => {
  return (
    typeof WorkerGlobalScope !== 'undefined' &&
    // eslint-disable-next-line no-undef
    self instanceof WorkerGlobalScope &&
    typeof self.importScripts === 'function'
  );
})();

const origin = hasBrowserEnv && window.location.href || 'http://localhost';

var utils = /*#__PURE__*/Object.freeze({
  __proto__: null,
  hasBrowserEnv: hasBrowserEnv,
  hasStandardBrowserEnv: hasStandardBrowserEnv,
  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,
  navigator: _navigator,
  origin: origin
});

var platform = {
  ...utils,
  ...platform$1
};

function toURLEncodedForm(data, options) {
  return toFormData$1(data, new platform.classes.URLSearchParams(), Object.assign({
    visitor: function(value, key, path, helpers) {
      if (platform.isNode && utils$1.isBuffer(value)) {
        this.append(key, value.toString('base64'));
        return false;
      }

      return helpers.defaultVisitor.apply(this, arguments);
    }
  }, options));
}

/**
 * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']
 *
 * @param {string} name - The name of the property to get.
 *
 * @returns An array of strings.
 */
function parsePropPath(name) {
  // foo[x][y][z]
  // foo.x.y.z
  // foo-x-y-z
  // foo x y z
  return utils$1.matchAll(/\w+|\[(\w*)]/g, name).map(match => {
    return match[0] === '[]' ? '' : match[1] || match[0];
  });
}

/**
 * Convert an array to an object.
 *
 * @param {Array<any>} arr - The array to convert to an object.
 *
 * @returns An object with the same keys and values as the array.
 */
function arrayToObject(arr) {
  const obj = {};
  const keys = Object.keys(arr);
  let i;
  const len = keys.length;
  let key;
  for (i = 0; i < len; i++) {
    key = keys[i];
    obj[key] = arr[key];
  }
  return obj;
}

/**
 * It takes a FormData object and returns a JavaScript object
 *
 * @param {string} formData The FormData object to convert to JSON.
 *
 * @returns {Object<string, any> | null} The converted object.
 */
function formDataToJSON(formData) {
  function buildPath(path, value, target, index) {
    let name = path[index++];

    if (name === '__proto__') return true;

    const isNumericKey = Number.isFinite(+name);
    const isLast = index >= path.length;
    name = !name && utils$1.isArray(target) ? target.length : name;

    if (isLast) {
      if (utils$1.hasOwnProp(target, name)) {
        target[name] = [target[name], value];
      } else {
        target[name] = value;
      }

      return !isNumericKey;
    }

    if (!target[name] || !utils$1.isObject(target[name])) {
      target[name] = [];
    }

    const result = buildPath(path, value, target[name], index);

    if (result && utils$1.isArray(target[name])) {
      target[name] = arrayToObject(target[name]);
    }

    return !isNumericKey;
  }

  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {
    const obj = {};

    utils$1.forEachEntry(formData, (name, value) => {
      buildPath(parsePropPath(name), value, obj, 0);
    });

    return obj;
  }

  return null;
}

/**
 * It takes a string, tries to parse it, and if it fails, it returns the stringified version
 * of the input
 *
 * @param {any} rawValue - The value to be stringified.
 * @param {Function} parser - A function that parses a string into a JavaScript object.
 * @param {Function} encoder - A function that takes a value and returns a string.
 *
 * @returns {string} A stringified version of the rawValue.
 */
function stringifySafely(rawValue, parser, encoder) {
  if (utils$1.isString(rawValue)) {
    try {
      (parser || JSON.parse)(rawValue);
      return utils$1.trim(rawValue);
    } catch (e) {
      if (e.name !== 'SyntaxError') {
        throw e;
      }
    }
  }

  return (0, JSON.stringify)(rawValue);
}

const defaults = {

  transitional: transitionalDefaults,

  adapter: ['xhr', 'http', 'fetch'],

  transformRequest: [function transformRequest(data, headers) {
    const contentType = headers.getContentType() || '';
    const hasJSONContentType = contentType.indexOf('application/json') > -1;
    const isObjectPayload = utils$1.isObject(data);

    if (isObjectPayload && utils$1.isHTMLForm(data)) {
      data = new FormData(data);
    }

    const isFormData = utils$1.isFormData(data);

    if (isFormData) {
      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;
    }

    if (utils$1.isArrayBuffer(data) ||
      utils$1.isBuffer(data) ||
      utils$1.isStream(data) ||
      utils$1.isFile(data) ||
      utils$1.isBlob(data) ||
      utils$1.isReadableStream(data)
    ) {
      return data;
    }
    if (utils$1.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils$1.isURLSearchParams(data)) {
      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);
      return data.toString();
    }

    let isFileList;

    if (isObjectPayload) {
      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {
        return toURLEncodedForm(data, this.formSerializer).toString();
      }

      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {
        const _FormData = this.env && this.env.FormData;

        return toFormData$1(
          isFileList ? {'files[]': data} : data,
          _FormData && new _FormData(),
          this.formSerializer
        );
      }
    }

    if (isObjectPayload || hasJSONContentType ) {
      headers.setContentType('application/json', false);
      return stringifySafely(data);
    }

    return data;
  }],

  transformResponse: [function transformResponse(data) {
    const transitional = this.transitional || defaults.transitional;
    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;
    const JSONRequested = this.responseType === 'json';

    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {
      return data;
    }

    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {
      const silentJSONParsing = transitional && transitional.silentJSONParsing;
      const strictJSONParsing = !silentJSONParsing && JSONRequested;

      try {
        return JSON.parse(data);
      } catch (e) {
        if (strictJSONParsing) {
          if (e.name === 'SyntaxError') {
            throw AxiosError$1.from(e, AxiosError$1.ERR_BAD_RESPONSE, this, null, this.response);
          }
          throw e;
        }
      }
    }

    return data;
  }],

  /**
   * A timeout in milliseconds to abort a request. If set to 0 (default) a
   * timeout is not created.
   */
  timeout: 0,

  xsrfCookieName: 'XSRF-TOKEN',
  xsrfHeaderName: 'X-XSRF-TOKEN',

  maxContentLength: -1,
  maxBodyLength: -1,

  env: {
    FormData: platform.classes.FormData,
    Blob: platform.classes.Blob
  },

  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  },

  headers: {
    common: {
      'Accept': 'application/json, text/plain, */*',
      'Content-Type': undefined
    }
  }
};

utils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {
  defaults.headers[method] = {};
});

// RawAxiosHeaders whose duplicates are ignored by node
// c.f. https://nodejs.org/api/http.html#http_message_headers
const ignoreDuplicateOf = utils$1.toObjectSet([
  'age', 'authorization', 'content-length', 'content-type', 'etag',
  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',
  'last-modified', 'location', 'max-forwards', 'proxy-authorization',
  'referer', 'retry-after', 'user-agent'
]);

/**
 * Parse headers into an object
 *
 * ```
 * Date: Wed, 27 Aug 2014 08:58:49 GMT
 * Content-Type: application/json
 * Connection: keep-alive
 * Transfer-Encoding: chunked
 * ```
 *
 * @param {String} rawHeaders Headers needing to be parsed
 *
 * @returns {Object} Headers parsed into an object
 */
var parseHeaders = rawHeaders => {
  const parsed = {};
  let key;
  let val;
  let i;

  rawHeaders && rawHeaders.split('\n').forEach(function parser(line) {
    i = line.indexOf(':');
    key = line.substring(0, i).trim().toLowerCase();
    val = line.substring(i + 1).trim();

    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {
      return;
    }

    if (key === 'set-cookie') {
      if (parsed[key]) {
        parsed[key].push(val);
      } else {
        parsed[key] = [val];
      }
    } else {
      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;
    }
  });

  return parsed;
};

const $internals = Symbol('internals');

function normalizeHeader(header) {
  return header && String(header).trim().toLowerCase();
}

function normalizeValue(value) {
  if (value === false || value == null) {
    return value;
  }

  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);
}

function parseTokens(str) {
  const tokens = Object.create(null);
  const tokensRE = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let match;

  while ((match = tokensRE.exec(str))) {
    tokens[match[1]] = match[2];
  }

  return tokens;
}

const isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());

function matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {
  if (utils$1.isFunction(filter)) {
    return filter.call(this, value, header);
  }

  if (isHeaderNameFilter) {
    value = header;
  }

  if (!utils$1.isString(value)) return;

  if (utils$1.isString(filter)) {
    return value.indexOf(filter) !== -1;
  }

  if (utils$1.isRegExp(filter)) {
    return filter.test(value);
  }
}

function formatHeader(header) {
  return header.trim()
    .toLowerCase().replace(/([a-z\d])(\w*)/g, (w, char, str) => {
      return char.toUpperCase() + str;
    });
}

function buildAccessors(obj, header) {
  const accessorName = utils$1.toCamelCase(' ' + header);

  ['get', 'set', 'has'].forEach(methodName => {
    Object.defineProperty(obj, methodName + accessorName, {
      value: function(arg1, arg2, arg3) {
        return this[methodName].call(this, header, arg1, arg2, arg3);
      },
      configurable: true
    });
  });
}

let AxiosHeaders$1 = class AxiosHeaders {
  constructor(headers) {
    headers && this.set(headers);
  }

  set(header, valueOrRewrite, rewrite) {
    const self = this;

    function setHeader(_value, _header, _rewrite) {
      const lHeader = normalizeHeader(_header);

      if (!lHeader) {
        throw new Error('header name must be a non-empty string');
      }

      const key = utils$1.findKey(self, lHeader);

      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {
        self[key || _header] = normalizeValue(_value);
      }
    }

    const setHeaders = (headers, _rewrite) =>
      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));

    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {
      setHeaders(header, valueOrRewrite);
    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {
      setHeaders(parseHeaders(header), valueOrRewrite);
    } else if (utils$1.isHeaders(header)) {
      for (const [key, value] of header.entries()) {
        setHeader(value, key, rewrite);
      }
    } else {
      header != null && setHeader(valueOrRewrite, header, rewrite);
    }

    return this;
  }

  get(header, parser) {
    header = normalizeHeader(header);

    if (header) {
      const key = utils$1.findKey(this, header);

      if (key) {
        const value = this[key];

        if (!parser) {
          return value;
        }

        if (parser === true) {
          return parseTokens(value);
        }

        if (utils$1.isFunction(parser)) {
          return parser.call(this, value, key);
        }

        if (utils$1.isRegExp(parser)) {
          return parser.exec(value);
        }

        throw new TypeError('parser must be boolean|regexp|function');
      }
    }
  }

  has(header, matcher) {
    header = normalizeHeader(header);

    if (header) {
      const key = utils$1.findKey(this, header);

      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));
    }

    return false;
  }

  delete(header, matcher) {
    const self = this;
    let deleted = false;

    function deleteHeader(_header) {
      _header = normalizeHeader(_header);

      if (_header) {
        const key = utils$1.findKey(self, _header);

        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {
          delete self[key];

          deleted = true;
        }
      }
    }

    if (utils$1.isArray(header)) {
      header.forEach(deleteHeader);
    } else {
      deleteHeader(header);
    }

    return deleted;
  }

  clear(matcher) {
    const keys = Object.keys(this);
    let i = keys.length;
    let deleted = false;

    while (i--) {
      const key = keys[i];
      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {
        delete this[key];
        deleted = true;
      }
    }

    return deleted;
  }

  normalize(format) {
    const self = this;
    const headers = {};

    utils$1.forEach(this, (value, header) => {
      const key = utils$1.findKey(headers, header);

      if (key) {
        self[key] = normalizeValue(value);
        delete self[header];
        return;
      }

      const normalized = format ? formatHeader(header) : String(header).trim();

      if (normalized !== header) {
        delete self[header];
      }

      self[normalized] = normalizeValue(value);

      headers[normalized] = true;
    });

    return this;
  }

  concat(...targets) {
    return this.constructor.concat(this, ...targets);
  }

  toJSON(asStrings) {
    const obj = Object.create(null);

    utils$1.forEach(this, (value, header) => {
      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);
    });

    return obj;
  }

  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }

  toString() {
    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\n');
  }

  get [Symbol.toStringTag]() {
    return 'AxiosHeaders';
  }

  static from(thing) {
    return thing instanceof this ? thing : new this(thing);
  }

  static concat(first, ...targets) {
    const computed = new this(first);

    targets.forEach((target) => computed.set(target));

    return computed;
  }

  static accessor(header) {
    const internals = this[$internals] = (this[$internals] = {
      accessors: {}
    });

    const accessors = internals.accessors;
    const prototype = this.prototype;

    function defineAccessor(_header) {
      const lHeader = normalizeHeader(_header);

      if (!accessors[lHeader]) {
        buildAccessors(prototype, _header);
        accessors[lHeader] = true;
      }
    }

    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);

    return this;
  }
};

AxiosHeaders$1.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);

// reserved names hotfix
utils$1.reduceDescriptors(AxiosHeaders$1.prototype, ({value}, key) => {
  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`
  return {
    get: () => value,
    set(headerValue) {
      this[mapped] = headerValue;
    }
  }
});

utils$1.freezeMethods(AxiosHeaders$1);

/**
 * Transform the data for a request or a response
 *
 * @param {Array|Function} fns A single function or Array of functions
 * @param {?Object} response The response object
 *
 * @returns {*} The resulting transformed data
 */
function transformData(fns, response) {
  const config = this || defaults;
  const context = response || config;
  const headers = AxiosHeaders$1.from(context.headers);
  let data = context.data;

  utils$1.forEach(fns, function transform(fn) {
    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);
  });

  headers.normalize();

  return data;
}

function isCancel$1(value) {
  return !!(value && value.__CANCEL__);
}

/**
 * A `CanceledError` is an object that is thrown when an operation is canceled.
 *
 * @param {string=} message The message.
 * @param {Object=} config The config.
 * @param {Object=} request The request.
 *
 * @returns {CanceledError} The created error.
 */
function CanceledError$1(message, config, request) {
  // eslint-disable-next-line no-eq-null,eqeqeq
  AxiosError$1.call(this, message == null ? 'canceled' : message, AxiosError$1.ERR_CANCELED, config, request);
  this.name = 'CanceledError';
}

utils$1.inherits(CanceledError$1, AxiosError$1, {
  __CANCEL__: true
});

/**
 * Resolve or reject a Promise based on response status.
 *
 * @param {Function} resolve A function that resolves the promise.
 * @param {Function} reject A function that rejects the promise.
 * @param {object} response The response.
 *
 * @returns {object} The response.
 */
function settle(resolve, reject, response) {
  const validateStatus = response.config.validateStatus;
  if (!response.status || !validateStatus || validateStatus(response.status)) {
    resolve(response);
  } else {
    reject(new AxiosError$1(
      'Request failed with status code ' + response.status,
      [AxiosError$1.ERR_BAD_REQUEST, AxiosError$1.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],
      response.config,
      response.request,
      response
    ));
  }
}

function parseProtocol(url) {
  const match = /^([-+\w]{1,25})(:?\/\/|:)/.exec(url);
  return match && match[1] || '';
}

/**
 * Calculate data maxRate
 * @param {Number} [samplesCount= 10]
 * @param {Number} [min= 1000]
 * @returns {Function}
 */
function speedometer(samplesCount, min) {
  samplesCount = samplesCount || 10;
  const bytes = new Array(samplesCount);
  const timestamps = new Array(samplesCount);
  let head = 0;
  let tail = 0;
  let firstSampleTS;

  min = min !== undefined ? min : 1000;

  return function push(chunkLength) {
    const now = Date.now();

    const startedAt = timestamps[tail];

    if (!firstSampleTS) {
      firstSampleTS = now;
    }

    bytes[head] = chunkLength;
    timestamps[head] = now;

    let i = tail;
    let bytesCount = 0;

    while (i !== head) {
      bytesCount += bytes[i++];
      i = i % samplesCount;
    }

    head = (head + 1) % samplesCount;

    if (head === tail) {
      tail = (tail + 1) % samplesCount;
    }

    if (now - firstSampleTS < min) {
      return;
    }

    const passed = startedAt && now - startedAt;

    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;
  };
}

/**
 * Throttle decorator
 * @param {Function} fn
 * @param {Number} freq
 * @return {Function}
 */
function throttle(fn, freq) {
  let timestamp = 0;
  let threshold = 1000 / freq;
  let lastArgs;
  let timer;

  const invoke = (args, now = Date.now()) => {
    timestamp = now;
    lastArgs = null;
    if (timer) {
      clearTimeout(timer);
      timer = null;
    }
    fn.apply(null, args);
  };

  const throttled = (...args) => {
    const now = Date.now();
    const passed = now - timestamp;
    if ( passed >= threshold) {
      invoke(args, now);
    } else {
      lastArgs = args;
      if (!timer) {
        timer = setTimeout(() => {
          timer = null;
          invoke(lastArgs);
        }, threshold - passed);
      }
    }
  };

  const flush = () => lastArgs && invoke(lastArgs);

  return [throttled, flush];
}

const progressEventReducer = (listener, isDownloadStream, freq = 3) => {
  let bytesNotified = 0;
  const _speedometer = speedometer(50, 250);

  return throttle(e => {
    const loaded = e.loaded;
    const total = e.lengthComputable ? e.total : undefined;
    const progressBytes = loaded - bytesNotified;
    const rate = _speedometer(progressBytes);
    const inRange = loaded <= total;

    bytesNotified = loaded;

    const data = {
      loaded,
      total,
      progress: total ? (loaded / total) : undefined,
      bytes: progressBytes,
      rate: rate ? rate : undefined,
      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,
      event: e,
      lengthComputable: total != null,
      [isDownloadStream ? 'download' : 'upload']: true
    };

    listener(data);
  }, freq);
};

const progressEventDecorator = (total, throttled) => {
  const lengthComputable = total != null;

  return [(loaded) => throttled[0]({
    lengthComputable,
    total,
    loaded
  }), throttled[1]];
};

const asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));

var isURLSameOrigin = platform.hasStandardBrowserEnv ?

// Standard browser envs have full support of the APIs needed to test
// whether the request URL is of the same origin as current location.
  (function standardBrowserEnv() {
    const msie = platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent);
    const urlParsingNode = document.createElement('a');
    let originURL;

    /**
    * Parse a URL to discover its components
    *
    * @param {String} url The URL to be parsed
    * @returns {Object}
    */
    function resolveURL(url) {
      let href = url;

      if (msie) {
        // IE needs attribute set twice to normalize properties
        urlParsingNode.setAttribute('href', href);
        href = urlParsingNode.href;
      }

      urlParsingNode.setAttribute('href', href);

      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
      return {
        href: urlParsingNode.href,
        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',
        host: urlParsingNode.host,
        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '',
        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',
        hostname: urlParsingNode.hostname,
        port: urlParsingNode.port,
        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?
          urlParsingNode.pathname :
          '/' + urlParsingNode.pathname
      };
    }

    originURL = resolveURL(window.location.href);

    /**
    * Determine if a URL shares the same origin as the current location
    *
    * @param {String} requestURL The URL to test
    * @returns {boolean} True if URL shares the same origin, otherwise false
    */
    return function isURLSameOrigin(requestURL) {
      const parsed = (utils$1.isString(requestURL)) ? resolveURL(requestURL) : requestURL;
      return (parsed.protocol === originURL.protocol &&
          parsed.host === originURL.host);
    };
  })() :

  // Non standard browser envs (web workers, react-native) lack needed support.
  (function nonStandardBrowserEnv() {
    return function isURLSameOrigin() {
      return true;
    };
  })();

var cookies = platform.hasStandardBrowserEnv ?

  // Standard browser envs support document.cookie
  {
    write(name, value, expires, path, domain, secure) {
      const cookie = [name + '=' + encodeURIComponent(value)];

      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());

      utils$1.isString(path) && cookie.push('path=' + path);

      utils$1.isString(domain) && cookie.push('domain=' + domain);

      secure === true && cookie.push('secure');

      document.cookie = cookie.join('; ');
    },

    read(name) {
      const match = document.cookie.match(new RegExp('(^|;\\s*)(' + name + ')=([^;]*)'));
      return (match ? decodeURIComponent(match[3]) : null);
    },

    remove(name) {
      this.write(name, '', Date.now() - 86400000);
    }
  }

  :

  // Non-standard browser env (web workers, react-native) lack needed support.
  {
    write() {},
    read() {
      return null;
    },
    remove() {}
  };

/**
 * Determines whether the specified URL is absolute
 *
 * @param {string} url The URL to test
 *
 * @returns {boolean} True if the specified URL is absolute, otherwise false
 */
function isAbsoluteURL(url) {
  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
  // by any combination of letters, digits, plus, period, or hyphen.
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(url);
}

/**
 * Creates a new URL by combining the specified URLs
 *
 * @param {string} baseURL The base URL
 * @param {string} relativeURL The relative URL
 *
 * @returns {string} The combined URL
 */
function combineURLs(baseURL, relativeURL) {
  return relativeURL
    ? baseURL.replace(/\/?\/$/, '') + '/' + relativeURL.replace(/^\/+/, '')
    : baseURL;
}

/**
 * Creates a new URL by combining the baseURL with the requestedURL,
 * only when the requestedURL is not already an absolute URL.
 * If the requestURL is absolute, this function returns the requestedURL untouched.
 *
 * @param {string} baseURL The base URL
 * @param {string} requestedURL Absolute or relative URL to combine
 *
 * @returns {string} The combined full path
 */
function buildFullPath(baseURL, requestedURL) {
  if (baseURL && !isAbsoluteURL(requestedURL)) {
    return combineURLs(baseURL, requestedURL);
  }
  return requestedURL;
}

const headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;

/**
 * Config-specific merge-function which creates a new config-object
 * by merging two configuration objects together.
 *
 * @param {Object} config1
 * @param {Object} config2
 *
 * @returns {Object} New object resulting from merging config2 to config1
 */
function mergeConfig$1(config1, config2) {
  // eslint-disable-next-line no-param-reassign
  config2 = config2 || {};
  const config = {};

  function getMergedValue(target, source, caseless) {
    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {
      return utils$1.merge.call({caseless}, target, source);
    } else if (utils$1.isPlainObject(source)) {
      return utils$1.merge({}, source);
    } else if (utils$1.isArray(source)) {
      return source.slice();
    }
    return source;
  }

  // eslint-disable-next-line consistent-return
  function mergeDeepProperties(a, b, caseless) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(a, b, caseless);
    } else if (!utils$1.isUndefined(a)) {
      return getMergedValue(undefined, a, caseless);
    }
  }

  // eslint-disable-next-line consistent-return
  function valueFromConfig2(a, b) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(undefined, b);
    }
  }

  // eslint-disable-next-line consistent-return
  function defaultToConfig2(a, b) {
    if (!utils$1.isUndefined(b)) {
      return getMergedValue(undefined, b);
    } else if (!utils$1.isUndefined(a)) {
      return getMergedValue(undefined, a);
    }
  }

  // eslint-disable-next-line consistent-return
  function mergeDirectKeys(a, b, prop) {
    if (prop in config2) {
      return getMergedValue(a, b);
    } else if (prop in config1) {
      return getMergedValue(undefined, a);
    }
  }

  const mergeMap = {
    url: valueFromConfig2,
    method: valueFromConfig2,
    data: valueFromConfig2,
    baseURL: defaultToConfig2,
    transformRequest: defaultToConfig2,
    transformResponse: defaultToConfig2,
    paramsSerializer: defaultToConfig2,
    timeout: defaultToConfig2,
    timeoutMessage: defaultToConfig2,
    withCredentials: defaultToConfig2,
    withXSRFToken: defaultToConfig2,
    adapter: defaultToConfig2,
    responseType: defaultToConfig2,
    xsrfCookieName: defaultToConfig2,
    xsrfHeaderName: defaultToConfig2,
    onUploadProgress: defaultToConfig2,
    onDownloadProgress: defaultToConfig2,
    decompress: defaultToConfig2,
    maxContentLength: defaultToConfig2,
    maxBodyLength: defaultToConfig2,
    beforeRedirect: defaultToConfig2,
    transport: defaultToConfig2,
    httpAgent: defaultToConfig2,
    httpsAgent: defaultToConfig2,
    cancelToken: defaultToConfig2,
    socketPath: defaultToConfig2,
    responseEncoding: defaultToConfig2,
    validateStatus: mergeDirectKeys,
    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)
  };

  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {
    const merge = mergeMap[prop] || mergeDeepProperties;
    const configValue = merge(config1[prop], config2[prop], prop);
    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);
  });

  return config;
}

var resolveConfig = (config) => {
  const newConfig = mergeConfig$1({}, config);

  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;

  newConfig.headers = headers = AxiosHeaders$1.from(headers);

  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);

  // HTTP basic authentication
  if (auth) {
    headers.set('Authorization', 'Basic ' +
      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))
    );
  }

  let contentType;

  if (utils$1.isFormData(data)) {
    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {
      headers.setContentType(undefined); // Let the browser set it
    } else if ((contentType = headers.getContentType()) !== false) {
      // fix semicolon duplication issue for ReactNative FormData implementation
      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];
      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));
    }
  }

  // Add xsrf header
  // This is only done if running in a standard browser environment.
  // Specifically not if we're in a web worker, or react-native.

  if (platform.hasStandardBrowserEnv) {
    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));

    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {
      // Add xsrf header
      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);

      if (xsrfValue) {
        headers.set(xsrfHeaderName, xsrfValue);
      }
    }
  }

  return newConfig;
};

const isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';

var xhrAdapter = isXHRAdapterSupported && function (config) {
  return new Promise(function dispatchXhrRequest(resolve, reject) {
    const _config = resolveConfig(config);
    let requestData = _config.data;
    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();
    let {responseType, onUploadProgress, onDownloadProgress} = _config;
    let onCanceled;
    let uploadThrottled, downloadThrottled;
    let flushUpload, flushDownload;

    function done() {
      flushUpload && flushUpload(); // flush events
      flushDownload && flushDownload(); // flush events

      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);

      _config.signal && _config.signal.removeEventListener('abort', onCanceled);
    }

    let request = new XMLHttpRequest();

    request.open(_config.method.toUpperCase(), _config.url, true);

    // Set the request timeout in MS
    request.timeout = _config.timeout;

    function onloadend() {
      if (!request) {
        return;
      }
      // Prepare the response
      const responseHeaders = AxiosHeaders$1.from(
        'getAllResponseHeaders' in request && request.getAllResponseHeaders()
      );
      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?
        request.responseText : request.response;
      const response = {
        data: responseData,
        status: request.status,
        statusText: request.statusText,
        headers: responseHeaders,
        config,
        request
      };

      settle(function _resolve(value) {
        resolve(value);
        done();
      }, function _reject(err) {
        reject(err);
        done();
      }, response);

      // Clean up request
      request = null;
    }

    if ('onloadend' in request) {
      // Use onloadend if available
      request.onloadend = onloadend;
    } else {
      // Listen for ready state to emulate onloadend
      request.onreadystatechange = function handleLoad() {
        if (!request || request.readyState !== 4) {
          return;
        }

        // The request errored out and we didn't get a response, this will be
        // handled by onerror instead
        // With one exception: request that using file: protocol, most browsers
        // will return status as 0 even though it's a successful request
        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {
          return;
        }
        // readystate handler is calling before onerror or ontimeout handlers,
        // so we should call onloadend on the next 'tick'
        setTimeout(onloadend);
      };
    }

    // Handle browser request cancellation (as opposed to a manual cancellation)
    request.onabort = function handleAbort() {
      if (!request) {
        return;
      }

      reject(new AxiosError$1('Request aborted', AxiosError$1.ECONNABORTED, config, request));

      // Clean up request
      request = null;
    };

    // Handle low level network errors
    request.onerror = function handleError() {
      // Real errors are hidden from us by the browser
      // onerror should only fire if it's a network error
      reject(new AxiosError$1('Network Error', AxiosError$1.ERR_NETWORK, config, request));

      // Clean up request
      request = null;
    };

    // Handle timeout
    request.ontimeout = function handleTimeout() {
      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';
      const transitional = _config.transitional || transitionalDefaults;
      if (_config.timeoutErrorMessage) {
        timeoutErrorMessage = _config.timeoutErrorMessage;
      }
      reject(new AxiosError$1(
        timeoutErrorMessage,
        transitional.clarifyTimeoutError ? AxiosError$1.ETIMEDOUT : AxiosError$1.ECONNABORTED,
        config,
        request));

      // Clean up request
      request = null;
    };

    // Remove Content-Type if data is undefined
    requestData === undefined && requestHeaders.setContentType(null);

    // Add headers to the request
    if ('setRequestHeader' in request) {
      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {
        request.setRequestHeader(key, val);
      });
    }

    // Add withCredentials to request if needed
    if (!utils$1.isUndefined(_config.withCredentials)) {
      request.withCredentials = !!_config.withCredentials;
    }

    // Add responseType to request if needed
    if (responseType && responseType !== 'json') {
      request.responseType = _config.responseType;
    }

    // Handle progress if needed
    if (onDownloadProgress) {
      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));
      request.addEventListener('progress', downloadThrottled);
    }

    // Not all browsers support upload events
    if (onUploadProgress && request.upload) {
      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));

      request.upload.addEventListener('progress', uploadThrottled);

      request.upload.addEventListener('loadend', flushUpload);
    }

    if (_config.cancelToken || _config.signal) {
      // Handle cancellation
      // eslint-disable-next-line func-names
      onCanceled = cancel => {
        if (!request) {
          return;
        }
        reject(!cancel || cancel.type ? new CanceledError$1(null, config, request) : cancel);
        request.abort();
        request = null;
      };

      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);
      if (_config.signal) {
        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);
      }
    }

    const protocol = parseProtocol(_config.url);

    if (protocol && platform.protocols.indexOf(protocol) === -1) {
      reject(new AxiosError$1('Unsupported protocol ' + protocol + ':', AxiosError$1.ERR_BAD_REQUEST, config));
      return;
    }


    // Send the request
    request.send(requestData || null);
  });
};

const composeSignals = (signals, timeout) => {
  const {length} = (signals = signals ? signals.filter(Boolean) : []);

  if (timeout || length) {
    let controller = new AbortController();

    let aborted;

    const onabort = function (reason) {
      if (!aborted) {
        aborted = true;
        unsubscribe();
        const err = reason instanceof Error ? reason : this.reason;
        controller.abort(err instanceof AxiosError$1 ? err : new CanceledError$1(err instanceof Error ? err.message : err));
      }
    };

    let timer = timeout && setTimeout(() => {
      timer = null;
      onabort(new AxiosError$1(`timeout ${timeout} of ms exceeded`, AxiosError$1.ETIMEDOUT));
    }, timeout);

    const unsubscribe = () => {
      if (signals) {
        timer && clearTimeout(timer);
        timer = null;
        signals.forEach(signal => {
          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);
        });
        signals = null;
      }
    };

    signals.forEach((signal) => signal.addEventListener('abort', onabort));

    const {signal} = controller;

    signal.unsubscribe = () => utils$1.asap(unsubscribe);

    return signal;
  }
};

const streamChunk = function* (chunk, chunkSize) {
  let len = chunk.byteLength;

  if (len < chunkSize) {
    yield chunk;
    return;
  }

  let pos = 0;
  let end;

  while (pos < len) {
    end = pos + chunkSize;
    yield chunk.slice(pos, end);
    pos = end;
  }
};

const readBytes = async function* (iterable, chunkSize) {
  for await (const chunk of readStream(iterable)) {
    yield* streamChunk(chunk, chunkSize);
  }
};

const readStream = async function* (stream) {
  if (stream[Symbol.asyncIterator]) {
    yield* stream;
    return;
  }

  const reader = stream.getReader();
  try {
    for (;;) {
      const {done, value} = await reader.read();
      if (done) {
        break;
      }
      yield value;
    }
  } finally {
    await reader.cancel();
  }
};

const trackStream = (stream, chunkSize, onProgress, onFinish) => {
  const iterator = readBytes(stream, chunkSize);

  let bytes = 0;
  let done;
  let _onFinish = (e) => {
    if (!done) {
      done = true;
      onFinish && onFinish(e);
    }
  };

  return new ReadableStream({
    async pull(controller) {
      try {
        const {done, value} = await iterator.next();

        if (done) {
         _onFinish();
          controller.close();
          return;
        }

        let len = value.byteLength;
        if (onProgress) {
          let loadedBytes = bytes += len;
          onProgress(loadedBytes);
        }
        controller.enqueue(new Uint8Array(value));
      } catch (err) {
        _onFinish(err);
        throw err;
      }
    },
    cancel(reason) {
      _onFinish(reason);
      return iterator.return();
    }
  }, {
    highWaterMark: 2
  })
};

const isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';
const isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';

// used only inside the fetch adapter
const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?
    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :
    async (str) => new Uint8Array(await new Response(str).arrayBuffer())
);

const test = (fn, ...args) => {
  try {
    return !!fn(...args);
  } catch (e) {
    return false
  }
};

const supportsRequestStream = isReadableStreamSupported && test(() => {
  let duplexAccessed = false;

  const hasContentType = new Request(platform.origin, {
    body: new ReadableStream(),
    method: 'POST',
    get duplex() {
      duplexAccessed = true;
      return 'half';
    },
  }).headers.has('Content-Type');

  return duplexAccessed && !hasContentType;
});

const DEFAULT_CHUNK_SIZE = 64 * 1024;

const supportsResponseStream = isReadableStreamSupported &&
  test(() => utils$1.isReadableStream(new Response('').body));


const resolvers = {
  stream: supportsResponseStream && ((res) => res.body)
};

isFetchSupported && (((res) => {
  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {
    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :
      (_, config) => {
        throw new AxiosError$1(`Response type '${type}' is not supported`, AxiosError$1.ERR_NOT_SUPPORT, config);
      });
  });
})(new Response));

const getBodyLength = async (body) => {
  if (body == null) {
    return 0;
  }

  if(utils$1.isBlob(body)) {
    return body.size;
  }

  if(utils$1.isSpecCompliantForm(body)) {
    const _request = new Request(platform.origin, {
      method: 'POST',
      body,
    });
    return (await _request.arrayBuffer()).byteLength;
  }

  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {
    return body.byteLength;
  }

  if(utils$1.isURLSearchParams(body)) {
    body = body + '';
  }

  if(utils$1.isString(body)) {
    return (await encodeText(body)).byteLength;
  }
};

const resolveBodyLength = async (headers, body) => {
  const length = utils$1.toFiniteNumber(headers.getContentLength());

  return length == null ? getBodyLength(body) : length;
};

var fetchAdapter = isFetchSupported && (async (config) => {
  let {
    url,
    method,
    data,
    signal,
    cancelToken,
    timeout,
    onDownloadProgress,
    onUploadProgress,
    responseType,
    headers,
    withCredentials = 'same-origin',
    fetchOptions
  } = resolveConfig(config);

  responseType = responseType ? (responseType + '').toLowerCase() : 'text';

  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);

  let request;

  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {
      composedSignal.unsubscribe();
  });

  let requestContentLength;

  try {
    if (
      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&
      (requestContentLength = await resolveBodyLength(headers, data)) !== 0
    ) {
      let _request = new Request(url, {
        method: 'POST',
        body: data,
        duplex: "half"
      });

      let contentTypeHeader;

      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {
        headers.setContentType(contentTypeHeader);
      }

      if (_request.body) {
        const [onProgress, flush] = progressEventDecorator(
          requestContentLength,
          progressEventReducer(asyncDecorator(onUploadProgress))
        );

        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);
      }
    }

    if (!utils$1.isString(withCredentials)) {
      withCredentials = withCredentials ? 'include' : 'omit';
    }

    // Cloudflare Workers throws when credentials are defined
    // see https://github.com/cloudflare/workerd/issues/902
    const isCredentialsSupported = "credentials" in Request.prototype;
    request = new Request(url, {
      ...fetchOptions,
      signal: composedSignal,
      method: method.toUpperCase(),
      headers: headers.normalize().toJSON(),
      body: data,
      duplex: "half",
      credentials: isCredentialsSupported ? withCredentials : undefined
    });

    let response = await fetch(request);

    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');

    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {
      const options = {};

      ['status', 'statusText', 'headers'].forEach(prop => {
        options[prop] = response[prop];
      });

      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));

      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(
        responseContentLength,
        progressEventReducer(asyncDecorator(onDownloadProgress), true)
      ) || [];

      response = new Response(
        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {
          flush && flush();
          unsubscribe && unsubscribe();
        }),
        options
      );
    }

    responseType = responseType || 'text';

    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);

    !isStreamResponse && unsubscribe && unsubscribe();

    return await new Promise((resolve, reject) => {
      settle(resolve, reject, {
        data: responseData,
        headers: AxiosHeaders$1.from(response.headers),
        status: response.status,
        statusText: response.statusText,
        config,
        request
      });
    })
  } catch (err) {
    unsubscribe && unsubscribe();

    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {
      throw Object.assign(
        new AxiosError$1('Network Error', AxiosError$1.ERR_NETWORK, config, request),
        {
          cause: err.cause || err
        }
      )
    }

    throw AxiosError$1.from(err, err && err.code, config, request);
  }
});

const knownAdapters = {
  http: httpAdapter,
  xhr: xhrAdapter,
  fetch: fetchAdapter
};

utils$1.forEach(knownAdapters, (fn, value) => {
  if (fn) {
    try {
      Object.defineProperty(fn, 'name', {value});
    } catch (e) {
      // eslint-disable-next-line no-empty
    }
    Object.defineProperty(fn, 'adapterName', {value});
  }
});

const renderReason = (reason) => `- ${reason}`;

const isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;

var adapters = {
  getAdapter: (adapters) => {
    adapters = utils$1.isArray(adapters) ? adapters : [adapters];

    const {length} = adapters;
    let nameOrAdapter;
    let adapter;

    const rejectedReasons = {};

    for (let i = 0; i < length; i++) {
      nameOrAdapter = adapters[i];
      let id;

      adapter = nameOrAdapter;

      if (!isResolvedHandle(nameOrAdapter)) {
        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];

        if (adapter === undefined) {
          throw new AxiosError$1(`Unknown adapter '${id}'`);
        }
      }

      if (adapter) {
        break;
      }

      rejectedReasons[id || '#' + i] = adapter;
    }

    if (!adapter) {

      const reasons = Object.entries(rejectedReasons)
        .map(([id, state]) => `adapter ${id} ` +
          (state === false ? 'is not supported by the environment' : 'is not available in the build')
        );

      let s = length ?
        (reasons.length > 1 ? 'since :\n' + reasons.map(renderReason).join('\n') : ' ' + renderReason(reasons[0])) :
        'as no adapter specified';

      throw new AxiosError$1(
        `There is no suitable adapter to dispatch the request ` + s,
        'ERR_NOT_SUPPORT'
      );
    }

    return adapter;
  },
  adapters: knownAdapters
};

/**
 * Throws a `CanceledError` if cancellation has been requested.
 *
 * @param {Object} config The config that is to be used for the request
 *
 * @returns {void}
 */
function throwIfCancellationRequested(config) {
  if (config.cancelToken) {
    config.cancelToken.throwIfRequested();
  }

  if (config.signal && config.signal.aborted) {
    throw new CanceledError$1(null, config);
  }
}

/**
 * Dispatch a request to the server using the configured adapter.
 *
 * @param {object} config The config that is to be used for the request
 *
 * @returns {Promise} The Promise to be fulfilled
 */
function dispatchRequest(config) {
  throwIfCancellationRequested(config);

  config.headers = AxiosHeaders$1.from(config.headers);

  // Transform request data
  config.data = transformData.call(
    config,
    config.transformRequest
  );

  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {
    config.headers.setContentType('application/x-www-form-urlencoded', false);
  }

  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);

  return adapter(config).then(function onAdapterResolution(response) {
    throwIfCancellationRequested(config);

    // Transform response data
    response.data = transformData.call(
      config,
      config.transformResponse,
      response
    );

    response.headers = AxiosHeaders$1.from(response.headers);

    return response;
  }, function onAdapterRejection(reason) {
    if (!isCancel$1(reason)) {
      throwIfCancellationRequested(config);

      // Transform response data
      if (reason && reason.response) {
        reason.response.data = transformData.call(
          config,
          config.transformResponse,
          reason.response
        );
        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);
      }
    }

    return Promise.reject(reason);
  });
}

const VERSION$1 = "1.7.7";

const validators$1 = {};

// eslint-disable-next-line func-names
['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {
  validators$1[type] = function validator(thing) {
    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;
  };
});

const deprecatedWarnings = {};

/**
 * Transitional option validator
 *
 * @param {function|boolean?} validator - set to false if the transitional option has been removed
 * @param {string?} version - deprecated version / removed since version
 * @param {string?} message - some message with additional info
 *
 * @returns {function}
 */
validators$1.transitional = function transitional(validator, version, message) {
  function formatMessage(opt, desc) {
    return '[Axios v' + VERSION$1 + '] Transitional option \'' + opt + '\'' + desc + (message ? '. ' + message : '');
  }

  // eslint-disable-next-line func-names
  return (value, opt, opts) => {
    if (validator === false) {
      throw new AxiosError$1(
        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),
        AxiosError$1.ERR_DEPRECATED
      );
    }

    if (version && !deprecatedWarnings[opt]) {
      deprecatedWarnings[opt] = true;
      // eslint-disable-next-line no-console
      console.warn(
        formatMessage(
          opt,
          ' has been deprecated since v' + version + ' and will be removed in the near future'
        )
      );
    }

    return validator ? validator(value, opt, opts) : true;
  };
};

/**
 * Assert object's properties type
 *
 * @param {object} options
 * @param {object} schema
 * @param {boolean?} allowUnknown
 *
 * @returns {object}
 */

function assertOptions(options, schema, allowUnknown) {
  if (typeof options !== 'object') {
    throw new AxiosError$1('options must be an object', AxiosError$1.ERR_BAD_OPTION_VALUE);
  }
  const keys = Object.keys(options);
  let i = keys.length;
  while (i-- > 0) {
    const opt = keys[i];
    const validator = schema[opt];
    if (validator) {
      const value = options[opt];
      const result = value === undefined || validator(value, opt, options);
      if (result !== true) {
        throw new AxiosError$1('option ' + opt + ' must be ' + result, AxiosError$1.ERR_BAD_OPTION_VALUE);
      }
      continue;
    }
    if (allowUnknown !== true) {
      throw new AxiosError$1('Unknown option ' + opt, AxiosError$1.ERR_BAD_OPTION);
    }
  }
}

var validator = {
  assertOptions,
  validators: validators$1
};

const validators = validator.validators;

/**
 * Create a new instance of Axios
 *
 * @param {Object} instanceConfig The default config for the instance
 *
 * @return {Axios} A new instance of Axios
 */
let Axios$1 = class Axios {
  constructor(instanceConfig) {
    this.defaults = instanceConfig;
    this.interceptors = {
      request: new InterceptorManager(),
      response: new InterceptorManager()
    };
  }

  /**
   * Dispatch a request
   *
   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)
   * @param {?Object} config
   *
   * @returns {Promise} The Promise to be fulfilled
   */
  async request(configOrUrl, config) {
    try {
      return await this._request(configOrUrl, config);
    } catch (err) {
      if (err instanceof Error) {
        let dummy;

        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());

        // slice off the Error: ... line
        const stack = dummy.stack ? dummy.stack.replace(/^.+\n/, '') : '';
        try {
          if (!err.stack) {
            err.stack = stack;
            // match without the 2 top stack lines
          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\n.+\n/, ''))) {
            err.stack += '\n' + stack;
          }
        } catch (e) {
          // ignore the case where "stack" is an un-writable property
        }
      }

      throw err;
    }
  }

  _request(configOrUrl, config) {
    /*eslint no-param-reassign:0*/
    // Allow for axios('example/url'[, config]) a la fetch API
    if (typeof configOrUrl === 'string') {
      config = config || {};
      config.url = configOrUrl;
    } else {
      config = configOrUrl || {};
    }

    config = mergeConfig$1(this.defaults, config);

    const {transitional, paramsSerializer, headers} = config;

    if (transitional !== undefined) {
      validator.assertOptions(transitional, {
        silentJSONParsing: validators.transitional(validators.boolean),
        forcedJSONParsing: validators.transitional(validators.boolean),
        clarifyTimeoutError: validators.transitional(validators.boolean)
      }, false);
    }

    if (paramsSerializer != null) {
      if (utils$1.isFunction(paramsSerializer)) {
        config.paramsSerializer = {
          serialize: paramsSerializer
        };
      } else {
        validator.assertOptions(paramsSerializer, {
          encode: validators.function,
          serialize: validators.function
        }, true);
      }
    }

    // Set config.method
    config.method = (config.method || this.defaults.method || 'get').toLowerCase();

    // Flatten headers
    let contextHeaders = headers && utils$1.merge(
      headers.common,
      headers[config.method]
    );

    headers && utils$1.forEach(
      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],
      (method) => {
        delete headers[method];
      }
    );

    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);

    // filter out skipped interceptors
    const requestInterceptorChain = [];
    let synchronousRequestInterceptors = true;
    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {
        return;
      }

      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;

      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);
    });

    const responseInterceptorChain = [];
    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);
    });

    let promise;
    let i = 0;
    let len;

    if (!synchronousRequestInterceptors) {
      const chain = [dispatchRequest.bind(this), undefined];
      chain.unshift.apply(chain, requestInterceptorChain);
      chain.push.apply(chain, responseInterceptorChain);
      len = chain.length;

      promise = Promise.resolve(config);

      while (i < len) {
        promise = promise.then(chain[i++], chain[i++]);
      }

      return promise;
    }

    len = requestInterceptorChain.length;

    let newConfig = config;

    i = 0;

    while (i < len) {
      const onFulfilled = requestInterceptorChain[i++];
      const onRejected = requestInterceptorChain[i++];
      try {
        newConfig = onFulfilled(newConfig);
      } catch (error) {
        onRejected.call(this, error);
        break;
      }
    }

    try {
      promise = dispatchRequest.call(this, newConfig);
    } catch (error) {
      return Promise.reject(error);
    }

    i = 0;
    len = responseInterceptorChain.length;

    while (i < len) {
      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);
    }

    return promise;
  }

  getUri(config) {
    config = mergeConfig$1(this.defaults, config);
    const fullPath = buildFullPath(config.baseURL, config.url);
    return buildURL(fullPath, config.params, config.paramsSerializer);
  }
};

// Provide aliases for supported request methods
utils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {
  /*eslint func-names:0*/
  Axios$1.prototype[method] = function(url, config) {
    return this.request(mergeConfig$1(config || {}, {
      method,
      url,
      data: (config || {}).data
    }));
  };
});

utils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  /*eslint func-names:0*/

  function generateHTTPMethod(isForm) {
    return function httpMethod(url, data, config) {
      return this.request(mergeConfig$1(config || {}, {
        method,
        headers: isForm ? {
          'Content-Type': 'multipart/form-data'
        } : {},
        url,
        data
      }));
    };
  }

  Axios$1.prototype[method] = generateHTTPMethod();

  Axios$1.prototype[method + 'Form'] = generateHTTPMethod(true);
});

/**
 * A `CancelToken` is an object that can be used to request cancellation of an operation.
 *
 * @param {Function} executor The executor function.
 *
 * @returns {CancelToken}
 */
let CancelToken$1 = class CancelToken {
  constructor(executor) {
    if (typeof executor !== 'function') {
      throw new TypeError('executor must be a function.');
    }

    let resolvePromise;

    this.promise = new Promise(function promiseExecutor(resolve) {
      resolvePromise = resolve;
    });

    const token = this;

    // eslint-disable-next-line func-names
    this.promise.then(cancel => {
      if (!token._listeners) return;

      let i = token._listeners.length;

      while (i-- > 0) {
        token._listeners[i](cancel);
      }
      token._listeners = null;
    });

    // eslint-disable-next-line func-names
    this.promise.then = onfulfilled => {
      let _resolve;
      // eslint-disable-next-line func-names
      const promise = new Promise(resolve => {
        token.subscribe(resolve);
        _resolve = resolve;
      }).then(onfulfilled);

      promise.cancel = function reject() {
        token.unsubscribe(_resolve);
      };

      return promise;
    };

    executor(function cancel(message, config, request) {
      if (token.reason) {
        // Cancellation has already been requested
        return;
      }

      token.reason = new CanceledError$1(message, config, request);
      resolvePromise(token.reason);
    });
  }

  /**
   * Throws a `CanceledError` if cancellation has been requested.
   */
  throwIfRequested() {
    if (this.reason) {
      throw this.reason;
    }
  }

  /**
   * Subscribe to the cancel signal
   */

  subscribe(listener) {
    if (this.reason) {
      listener(this.reason);
      return;
    }

    if (this._listeners) {
      this._listeners.push(listener);
    } else {
      this._listeners = [listener];
    }
  }

  /**
   * Unsubscribe from the cancel signal
   */

  unsubscribe(listener) {
    if (!this._listeners) {
      return;
    }
    const index = this._listeners.indexOf(listener);
    if (index !== -1) {
      this._listeners.splice(index, 1);
    }
  }

  toAbortSignal() {
    const controller = new AbortController();

    const abort = (err) => {
      controller.abort(err);
    };

    this.subscribe(abort);

    controller.signal.unsubscribe = () => this.unsubscribe(abort);

    return controller.signal;
  }

  /**
   * Returns an object that contains a new `CancelToken` and a function that, when called,
   * cancels the `CancelToken`.
   */
  static source() {
    let cancel;
    const token = new CancelToken(function executor(c) {
      cancel = c;
    });
    return {
      token,
      cancel
    };
  }
};

/**
 * Syntactic sugar for invoking a function and expanding an array for arguments.
 *
 * Common use case would be to use `Function.prototype.apply`.
 *
 *  ```js
 *  function f(x, y, z) {}
 *  var args = [1, 2, 3];
 *  f.apply(null, args);
 *  ```
 *
 * With `spread` this example can be re-written.
 *
 *  ```js
 *  spread(function(x, y, z) {})([1, 2, 3]);
 *  ```
 *
 * @param {Function} callback
 *
 * @returns {Function}
 */
function spread$1(callback) {
  return function wrap(arr) {
    return callback.apply(null, arr);
  };
}

/**
 * Determines whether the payload is an error thrown by Axios
 *
 * @param {*} payload The value to test
 *
 * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false
 */
function isAxiosError$1(payload) {
  return utils$1.isObject(payload) && (payload.isAxiosError === true);
}

const HttpStatusCode$1 = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511,
};

Object.entries(HttpStatusCode$1).forEach(([key, value]) => {
  HttpStatusCode$1[value] = key;
});

/**
 * Create an instance of Axios
 *
 * @param {Object} defaultConfig The default config for the instance
 *
 * @returns {Axios} A new instance of Axios
 */
function createInstance(defaultConfig) {
  const context = new Axios$1(defaultConfig);
  const instance = bind(Axios$1.prototype.request, context);

  // Copy axios.prototype to instance
  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});

  // Copy context to instance
  utils$1.extend(instance, context, null, {allOwnKeys: true});

  // Factory for creating new instances
  instance.create = function create(instanceConfig) {
    return createInstance(mergeConfig$1(defaultConfig, instanceConfig));
  };

  return instance;
}

// Create the default instance to be exported
const axios = createInstance(defaults);

// Expose Axios class to allow class inheritance
axios.Axios = Axios$1;

// Expose Cancel & CancelToken
axios.CanceledError = CanceledError$1;
axios.CancelToken = CancelToken$1;
axios.isCancel = isCancel$1;
axios.VERSION = VERSION$1;
axios.toFormData = toFormData$1;

// Expose AxiosError class
axios.AxiosError = AxiosError$1;

// alias for CanceledError for backward compatibility
axios.Cancel = axios.CanceledError;

// Expose all/spread
axios.all = function all(promises) {
  return Promise.all(promises);
};

axios.spread = spread$1;

// Expose isAxiosError
axios.isAxiosError = isAxiosError$1;

// Expose mergeConfig
axios.mergeConfig = mergeConfig$1;

axios.AxiosHeaders = AxiosHeaders$1;

axios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);

axios.getAdapter = adapters.getAdapter;

axios.HttpStatusCode = HttpStatusCode$1;

axios.default = axios;

// This module is intended to unwrap Axios default export as named.
// Keep top-level export same with static properties
// so that it can keep same with es module or cjs
const {
  Axios,
  AxiosError,
  CanceledError,
  isCancel,
  CancelToken,
  VERSION,
  all,
  Cancel,
  isAxiosError,
  spread,
  toFormData,
  AxiosHeaders,
  HttpStatusCode,
  formToJSON,
  getAdapter,
  mergeConfig
} = axios;

var ys=Object.defineProperty;var Kg=Object.getOwnPropertyDescriptor;var Gg=Object.getOwnPropertyNames;var Qg=Object.prototype.hasOwnProperty;var _e=(t,e)=>()=>(t&&(e=t(t=0)),e);var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Jt=(t,e)=>{for(var r in e)ys(t,r,{get:e[r],enumerable:!0});},Yg=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Gg(e))!Qg.call(t,n)&&n!==r&&ys(t,n,{get:()=>e[n],enumerable:!(i=Kg(e,n))||i.enumerable});return t};var X=t=>Yg(ys({},"__esModule",{value:!0}),t);var _=_e(()=>{});var B={};Jt(B,{_debugEnd:()=>yu,_debugProcess:()=>gu,_events:()=>Ou,_eventsCount:()=>xu,_exiting:()=>Yl,_fatalExceptions:()=>cu,_getActiveHandles:()=>eu,_getActiveRequests:()=>Zl,_kill:()=>ru,_linkedBinding:()=>Gl,_maxListeners:()=>ku,_preload_modules:()=>Cu,_rawDebug:()=>zl,_startProfilerIdleNotifier:()=>bu,_stopProfilerIdleNotifier:()=>wu,_tickCallback:()=>pu,abort:()=>Eu,addListener:()=>Mu,allowedNodeEnvironmentFlags:()=>lu,arch:()=>xl,argv:()=>Ul,argv0:()=>Ru,assert:()=>uu,binding:()=>Fl,chdir:()=>Hl,config:()=>Jl,cpuUsage:()=>$i,cwd:()=>$l,debugPort:()=>Tu,default:()=>$u,dlopen:()=>Xl,domain:()=>Ql,emit:()=>Du,emitWarning:()=>jl,env:()=>Ll,execArgv:()=>Nl,execPath:()=>Iu,exit:()=>ou,features:()=>fu,hasUncaughtExceptionCaptureCallback:()=>du,hrtime:()=>Wi,kill:()=>su,listeners:()=>Wu,memoryUsage:()=>nu,moduleLoadList:()=>Kl,nextTick:()=>Pl,off:()=>Uu,on:()=>wt,once:()=>Lu,openStdin:()=>au,pid:()=>Su,platform:()=>Ml,ppid:()=>Au,prependListener:()=>ju,prependOnceListener:()=>Fu,reallyExit:()=>tu,release:()=>Vl,removeAllListeners:()=>qu,removeListener:()=>Nu,resourceUsage:()=>iu,setSourceMapsEnabled:()=>Bu,setUncaughtExceptionCaptureCallback:()=>hu,stderr:()=>mu,stdin:()=>vu,stdout:()=>_u,title:()=>Ol,umask:()=>Wl,uptime:()=>Pu,version:()=>ql,versions:()=>Dl});function _s(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Jg(){!Lr||!Xt||(Lr=!1,Xt.length?bt=Xt.concat(bt):Fi=-1,bt.length&&Bl());}function Bl(){if(!Lr){var t=setTimeout(Jg,0);Lr=!0;for(var e=bt.length;e;){for(Xt=bt,bt=[];++Fi<e;)Xt&&Xt[Fi].run();Fi=-1,e=bt.length;}Xt=null,Lr=!1,clearTimeout(t);}}function Pl(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];bt.push(new kl(t,e)),bt.length===1&&!Lr&&setTimeout(Bl,0);}function kl(t,e){this.fun=t,this.array=e;}function Ee(){}function Gl(t){_s("_linkedBinding");}function Xl(t){_s("dlopen");}function Zl(){return []}function eu(){return []}function uu(t,e){if(!t)throw new Error(e||"assertion error")}function du(){return !1}function Pu(){return Lt.now()/1e3}function Wi(t){var e=Math.floor((Date.now()-Lt.now())*.001),r=Lt.now()*.001,i=Math.floor(r)+e,n=Math.floor(r%1*1e9);return t&&(i=i-t[0],n=n-t[1],n<0&&(i--,n+=ws)),[i,n]}function wt(){return $u}function Wu(t){return []}var bt,Lr,Xt,Fi,Ol,xl,Ml,Ll,Ul,Nl,ql,Dl,jl,Fl,Wl,$l,Hl,Vl,zl,Kl,Ql,Yl,Jl,tu,ru,$i,iu,nu,su,ou,au,lu,fu,cu,hu,pu,gu,yu,bu,wu,_u,mu,vu,Eu,Su,Au,Iu,Tu,Ru,Cu,Bu,Lt,bs,ws,ku,Ou,xu,Mu,Lu,Uu,Nu,qu,Du,ju,Fu,$u,Hu=_e(()=>{_();v();m();bt=[],Lr=!1,Fi=-1;kl.prototype.run=function(){this.fun.apply(null,this.array);};Ol="browser",xl="x64",Ml="browser",Ll={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Ul=["/usr/bin/node"],Nl=[],ql="v16.8.0",Dl={},jl=function(t,e){console.warn((e?e+": ":"")+t);},Fl=function(t){_s("binding");},Wl=function(t){return 0},$l=function(){return "/"},Hl=function(t){},Vl={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};zl=Ee,Kl=[];Ql={},Yl=!1,Jl={};tu=Ee,ru=Ee,$i=function(){return {}},iu=$i,nu=$i,su=Ee,ou=Ee,au=Ee,lu={};fu={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},cu=Ee,hu=Ee;pu=Ee,gu=Ee,yu=Ee,bu=Ee,wu=Ee,_u=void 0,mu=void 0,vu=void 0,Eu=Ee,Su=2,Au=1,Iu="/bin/usr/node",Tu=9229,Ru="node",Cu=[],Bu=Ee,Lt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};Lt.now===void 0&&(bs=Date.now(),Lt.timing&&Lt.timing.navigationStart&&(bs=Lt.timing.navigationStart),Lt.now=()=>Date.now()-bs);ws=1e9;Wi.bigint=function(t){var e=Wi(t);return typeof BigInt>"u"?e[0]*ws+e[1]:BigInt(e[0]*ws)+BigInt(e[1])};ku=10,Ou={},xu=0;Mu=wt,Lu=wt,Uu=wt,Nu=wt,qu=wt,Du=Ee,ju=wt,Fu=wt;$u={version:ql,versions:Dl,arch:xl,platform:Ml,release:Vl,_rawDebug:zl,moduleLoadList:Kl,binding:Fl,_linkedBinding:Gl,_events:Ou,_eventsCount:xu,_maxListeners:ku,on:wt,addListener:Mu,once:Lu,off:Uu,removeListener:Nu,removeAllListeners:qu,emit:Du,prependListener:ju,prependOnceListener:Fu,listeners:Wu,domain:Ql,_exiting:Yl,config:Jl,dlopen:Xl,uptime:Pu,_getActiveRequests:Zl,_getActiveHandles:eu,reallyExit:tu,_kill:ru,cpuUsage:$i,resourceUsage:iu,memoryUsage:nu,kill:su,exit:ou,openStdin:au,allowedNodeEnvironmentFlags:lu,assert:uu,features:fu,_fatalExceptions:cu,setUncaughtExceptionCaptureCallback:hu,hasUncaughtExceptionCaptureCallback:du,emitWarning:jl,nextTick:Pl,_tickCallback:pu,_debugProcess:gu,_debugEnd:yu,_startProfilerIdleNotifier:bu,_stopProfilerIdleNotifier:wu,stdout:_u,stdin:vu,stderr:mu,abort:Eu,umask:Wl,chdir:Hl,cwd:$l,env:Ll,title:Ol,argv:Ul,execArgv:Nl,pid:Su,ppid:Au,execPath:Iu,debugPort:Tu,hrtime:Wi,argv0:Ru,_preload_modules:Cu,setSourceMapsEnabled:Bu};});var m=_e(()=>{Hu();});var me={};Jt(me,{Buffer:()=>x,INSPECT_MAX_BYTES:()=>ty,default:()=>Ut,kMaxLength:()=>ry});function Xg(){if(Vu)return ci;Vu=!0,ci.byteLength=a,ci.toByteArray=c,ci.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=i.length;n<o;++n)t[n]=i[n],e[i.charCodeAt(n)]=n;e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63;function s(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=y.indexOf("=");S===-1&&(S=w);var E=S===w?0:4-S%4;return [S,E]}function a(y){var w=s(y),S=w[0],E=w[1];return (S+E)*3/4-E}function l(y,w,S){return (w+S)*3/4-S}function c(y){var w,S=s(y),E=S[0],I=S[1],C=new r(l(y,E,I)),R=0,U=I>0?E-4:E,N;for(N=0;N<U;N+=4)w=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],C[R++]=w>>16&255,C[R++]=w>>8&255,C[R++]=w&255;return I===2&&(w=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,C[R++]=w&255),I===1&&(w=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,C[R++]=w>>8&255,C[R++]=w&255),C}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function d(y,w,S){for(var E,I=[],C=w;C<S;C+=3)E=(y[C]<<16&16711680)+(y[C+1]<<8&65280)+(y[C+2]&255),I.push(h(E));return I.join("")}function g(y){for(var w,S=y.length,E=S%3,I=[],C=16383,R=0,U=S-E;R<U;R+=C)I.push(d(y,R,R+C>U?U:R+C));return E===1?(w=y[S-1],I.push(t[w>>2]+t[w<<4&63]+"==")):E===2&&(w=(y[S-2]<<8)+y[S-1],I.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),I.join("")}return ci}function Zg(){if(zu)return Hi;zu=!0;return Hi.read=function(t,e,r,i,n){var o,s,a=n*8-i-1,l=(1<<a)-1,c=l>>1,h=-7,d=r?n-1:0,g=r?-1:1,y=t[e+d];for(d+=g,o=y&(1<<-h)-1,y>>=-h,h+=a;h>0;o=o*256+t[e+d],d+=g,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=s*256+t[e+d],d+=g,h-=8);if(o===0)o=1-c;else {if(o===l)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,i),o=o-c;}return (y?-1:1)*s*Math.pow(2,o-i)},Hi.write=function(t,e,r,i,n,o){var s,a,l,c=o*8-n-1,h=(1<<c)-1,d=h>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:o-1,w=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=g/l:e+=g*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(e*l-1)*Math.pow(2,n),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+y]=a&255,y+=w,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;t[r+y]=s&255,y+=w,s/=256,c-=8);t[r+y-w]|=S*128;},Hi}function ey(){if(Ku)return Zt;Ku=!0;let t=Xg(),e=Zg(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Zt.Buffer=s,Zt.SlowBuffer=I,Zt.INSPECT_MAX_BYTES=50;let i=2147483647;Zt.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=n(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{let p=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(p,u),p.foo()===42}catch{return !1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');let u=new Uint8Array(p);return Object.setPrototypeOf(u,s.prototype),u}function s(p,u,f){if(typeof p=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(p)}return a(p,u,f)}s.poolSize=8192;function a(p,u,f){if(typeof p=="string")return d(p,u);if(ArrayBuffer.isView(p))return y(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Ye(p,ArrayBuffer)||p&&Ye(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(p,SharedArrayBuffer)||p&&Ye(p.buffer,SharedArrayBuffer)))return w(p,u,f);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let b=p.valueOf&&p.valueOf();if(b!=null&&b!==p)return s.from(b,u,f);let A=S(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return s.from(p[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}s.from=function(p,u,f){return a(p,u,f)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function c(p,u,f){return l(p),p<=0?o(p):u!==void 0?typeof f=="string"?o(p).fill(u,f):o(p).fill(u):o(p)}s.alloc=function(p,u,f){return c(p,u,f)};function h(p){return l(p),o(p<0?0:E(p)|0)}s.allocUnsafe=function(p){return h(p)},s.allocUnsafeSlow=function(p){return h(p)};function d(p,u){if((typeof u!="string"||u==="")&&(u="utf8"),!s.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let f=C(p,u)|0,b=o(f),A=b.write(p,u);return A!==f&&(b=b.slice(0,A)),b}function g(p){let u=p.length<0?0:E(p.length)|0,f=o(u);for(let b=0;b<u;b+=1)f[b]=p[b]&255;return f}function y(p){if(Ye(p,Uint8Array)){let u=new Uint8Array(p);return w(u.buffer,u.byteOffset,u.byteLength)}return g(p)}function w(p,u,f){if(u<0||p.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');let b;return u===void 0&&f===void 0?b=new Uint8Array(p):f===void 0?b=new Uint8Array(p,u):b=new Uint8Array(p,u,f),Object.setPrototypeOf(b,s.prototype),b}function S(p){if(s.isBuffer(p)){let u=E(p.length)|0,f=o(u);return f.length===0||p.copy(f,0,0,u),f}if(p.length!==void 0)return typeof p.length!="number"||gs(p.length)?o(0):g(p);if(p.type==="Buffer"&&Array.isArray(p.data))return g(p.data)}function E(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function I(p){return +p!=p&&(p=0),s.alloc(+p)}s.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==s.prototype},s.compare=function(u,f){if(Ye(u,Uint8Array)&&(u=s.from(u,u.offset,u.byteLength)),Ye(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),!s.isBuffer(u)||!s.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;let b=u.length,A=f.length;for(let T=0,P=Math.min(b,A);T<P;++T)if(u[T]!==f[T]){b=u[T],A=f[T];break}return b<A?-1:A<b?1:0},s.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},s.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return s.alloc(0);let b;if(f===void 0)for(f=0,b=0;b<u.length;++b)f+=u[b].length;let A=s.allocUnsafe(f),T=0;for(b=0;b<u.length;++b){let P=u[b];if(Ye(P,Uint8Array))T+P.length>A.length?(s.isBuffer(P)||(P=s.from(P)),P.copy(A,T)):Uint8Array.prototype.set.call(A,P,T);else if(s.isBuffer(P))P.copy(A,T);else throw new TypeError('"list" argument must be an Array of Buffers');T+=P.length;}return A};function C(p,u){if(s.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Ye(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);let f=p.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&f===0)return 0;let A=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return ps(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Cl(p).length;default:if(A)return b?-1:ps(p).length;u=(""+u).toLowerCase(),A=!0;}}s.byteLength=C;function R(p,u,f){let b=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return "";for(p||(p="utf8");;)switch(p){case"hex":return qg(this,u,f);case"utf8":case"utf-8":return Pr(this,u,f);case"ascii":return hs(this,u,f);case"latin1":case"binary":return Ng(this,u,f);case"base64":return ge(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dg(this,u,f);default:if(b)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),b=!0;}}s.prototype._isBuffer=!0;function U(p,u,f){let b=p[u];p[u]=p[f],p[f]=b;}s.prototype.swap16=function(){let u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<u;f+=2)U(this,f,f+1);return this},s.prototype.swap32=function(){let u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<u;f+=4)U(this,f,f+3),U(this,f+1,f+2);return this},s.prototype.swap64=function(){let u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<u;f+=8)U(this,f,f+7),U(this,f+1,f+6),U(this,f+2,f+5),U(this,f+3,f+4);return this},s.prototype.toString=function(){let u=this.length;return u===0?"":arguments.length===0?Pr(this,0,u):R.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(u){if(!s.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:s.compare(this,u)===0},s.prototype.inspect=function(){let u="",f=Zt.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(u,f,b,A,T){if(Ye(u,Uint8Array)&&(u=s.from(u,u.offset,u.byteLength)),!s.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),b===void 0&&(b=u?u.length:0),A===void 0&&(A=0),T===void 0&&(T=this.length),f<0||b>u.length||A<0||T>this.length)throw new RangeError("out of range index");if(A>=T&&f>=b)return 0;if(A>=T)return -1;if(f>=b)return 1;if(f>>>=0,b>>>=0,A>>>=0,T>>>=0,this===u)return 0;let P=T-A,$=b-f,se=Math.min(P,$),te=this.slice(A,T),oe=u.slice(f,b);for(let J=0;J<se;++J)if(te[J]!==oe[J]){P=te[J],$=oe[J];break}return P<$?-1:$<P?1:0};function N(p,u,f,b,A){if(p.length===0)return -1;if(typeof f=="string"?(b=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,gs(f)&&(f=A?0:p.length-1),f<0&&(f=p.length+f),f>=p.length){if(A)return -1;f=p.length-1;}else if(f<0)if(A)f=0;else return -1;if(typeof u=="string"&&(u=s.from(u,b)),s.isBuffer(u))return u.length===0?-1:W(p,u,f,b,A);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,u,f):Uint8Array.prototype.lastIndexOf.call(p,u,f):W(p,[u],f,b,A);throw new TypeError("val must be string, number or Buffer")}function W(p,u,f,b,A){let T=1,P=p.length,$=u.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(p.length<2||u.length<2)return -1;T=2,P/=2,$/=2,f/=2;}function se(oe,J){return T===1?oe[J]:oe.readUInt16BE(J*T)}let te;if(A){let oe=-1;for(te=f;te<P;te++)if(se(p,te)===se(u,oe===-1?0:te-oe)){if(oe===-1&&(oe=te),te-oe+1===$)return oe*T}else oe!==-1&&(te-=te-oe),oe=-1;}else for(f+$>P&&(f=P-$),te=f;te>=0;te--){let oe=!0;for(let J=0;J<$;J++)if(se(p,te+J)!==se(u,J)){oe=!1;break}if(oe)return te}return -1}s.prototype.includes=function(u,f,b){return this.indexOf(u,f,b)!==-1},s.prototype.indexOf=function(u,f,b){return N(this,u,f,b,!0)},s.prototype.lastIndexOf=function(u,f,b){return N(this,u,f,b,!1)};function K(p,u,f,b){f=Number(f)||0;let A=p.length-f;b?(b=Number(b),b>A&&(b=A)):b=A;let T=u.length;b>T/2&&(b=T/2);let P;for(P=0;P<b;++P){let $=parseInt(u.substr(P*2,2),16);if(gs($))return P;p[f+P]=$;}return P}function z(p,u,f,b){return ji(ps(u,p.length-f),p,f,b)}function Q(p,u,f,b){return ji($g(u),p,f,b)}function pe(p,u,f,b){return ji(Cl(u),p,f,b)}function Yt(p,u,f,b){return ji(Hg(u,p.length-f),p,f,b)}s.prototype.write=function(u,f,b,A){if(f===void 0)A="utf8",b=this.length,f=0;else if(b===void 0&&typeof f=="string")A=f,b=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(b)?(b=b>>>0,A===void 0&&(A="utf8")):(A=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let T=this.length-f;if((b===void 0||b>T)&&(b=T),u.length>0&&(b<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let P=!1;for(;;)switch(A){case"hex":return K(this,u,f,b);case"utf8":case"utf-8":return z(this,u,f,b);case"ascii":case"latin1":case"binary":return Q(this,u,f,b);case"base64":return pe(this,u,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yt(this,u,f,b);default:if(P)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),P=!0;}},s.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ge(p,u,f){return u===0&&f===p.length?t.fromByteArray(p):t.fromByteArray(p.slice(u,f))}function Pr(p,u,f){f=Math.min(p.length,f);let b=[],A=u;for(;A<f;){let T=p[A],P=null,$=T>239?4:T>223?3:T>191?2:1;if(A+$<=f){let se,te,oe,J;switch($){case 1:T<128&&(P=T);break;case 2:se=p[A+1],(se&192)===128&&(J=(T&31)<<6|se&63,J>127&&(P=J));break;case 3:se=p[A+1],te=p[A+2],(se&192)===128&&(te&192)===128&&(J=(T&15)<<12|(se&63)<<6|te&63,J>2047&&(J<55296||J>57343)&&(P=J));break;case 4:se=p[A+1],te=p[A+2],oe=p[A+3],(se&192)===128&&(te&192)===128&&(oe&192)===128&&(J=(T&15)<<18|(se&63)<<12|(te&63)<<6|oe&63,J>65535&&J<1114112&&(P=J));}}P===null?(P=65533,$=1):P>65535&&(P-=65536,b.push(P>>>10&1023|55296),P=56320|P&1023),b.push(P),A+=$;}return Or(b)}let kr=4096;function Or(p){let u=p.length;if(u<=kr)return String.fromCharCode.apply(String,p);let f="",b=0;for(;b<u;)f+=String.fromCharCode.apply(String,p.slice(b,b+=kr));return f}function hs(p,u,f){let b="";f=Math.min(p.length,f);for(let A=u;A<f;++A)b+=String.fromCharCode(p[A]&127);return b}function Ng(p,u,f){let b="";f=Math.min(p.length,f);for(let A=u;A<f;++A)b+=String.fromCharCode(p[A]);return b}function qg(p,u,f){let b=p.length;(!u||u<0)&&(u=0),(!f||f<0||f>b)&&(f=b);let A="";for(let T=u;T<f;++T)A+=Vg[p[T]];return A}function Dg(p,u,f){let b=p.slice(u,f),A="";for(let T=0;T<b.length-1;T+=2)A+=String.fromCharCode(b[T]+b[T+1]*256);return A}s.prototype.slice=function(u,f){let b=this.length;u=~~u,f=f===void 0?b:~~f,u<0?(u+=b,u<0&&(u=0)):u>b&&(u=b),f<0?(f+=b,f<0&&(f=0)):f>b&&(f=b),f<u&&(f=u);let A=this.subarray(u,f);return Object.setPrototypeOf(A,s.prototype),A};function ye(p,u,f){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+u>f)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=this[u],T=1,P=0;for(;++P<f&&(T*=256);)A+=this[u+P]*T;return A},s.prototype.readUintBE=s.prototype.readUIntBE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=this[u+--f],T=1;for(;f>0&&(T*=256);)A+=this[u+--f]*T;return A},s.prototype.readUint8=s.prototype.readUInt8=function(u,f){return u=u>>>0,f||ye(u,1,this.length),this[u]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||ye(u,2,this.length),this[u]|this[u+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||ye(u,2,this.length),this[u]<<8|this[u+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},s.prototype.readBigUInt64LE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,T=this[++u]+this[++u]*2**8+this[++u]*2**16+b*2**24;return BigInt(A)+(BigInt(T)<<BigInt(32))}),s.prototype.readBigUInt64BE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=f*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],T=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+b;return (BigInt(A)<<BigInt(32))+BigInt(T)}),s.prototype.readIntLE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=this[u],T=1,P=0;for(;++P<f&&(T*=256);)A+=this[u+P]*T;return T*=128,A>=T&&(A-=Math.pow(2,8*f)),A},s.prototype.readIntBE=function(u,f,b){u=u>>>0,f=f>>>0,b||ye(u,f,this.length);let A=f,T=1,P=this[u+--A];for(;A>0&&(T*=256);)P+=this[u+--A]*T;return T*=128,P>=T&&(P-=Math.pow(2,8*f)),P},s.prototype.readInt8=function(u,f){return u=u>>>0,f||ye(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},s.prototype.readInt16LE=function(u,f){u=u>>>0,f||ye(u,2,this.length);let b=this[u]|this[u+1]<<8;return b&32768?b|4294901760:b},s.prototype.readInt16BE=function(u,f){u=u>>>0,f||ye(u,2,this.length);let b=this[u+1]|this[u]<<8;return b&32768?b|4294901760:b},s.prototype.readInt32LE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},s.prototype.readInt32BE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},s.prototype.readBigInt64LE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(b<<24);return (BigInt(A)<<BigInt(32))+BigInt(f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),s.prototype.readBigInt64BE=Mt(function(u){u=u>>>0,Mr(u,"offset");let f=this[u],b=this[u+7];(f===void 0||b===void 0)&&fi(u,this.length-8);let A=(f<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return (BigInt(A)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+b)}),s.prototype.readFloatLE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),e.read(this,u,!0,23,4)},s.prototype.readFloatBE=function(u,f){return u=u>>>0,f||ye(u,4,this.length),e.read(this,u,!1,23,4)},s.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||ye(u,8,this.length),e.read(this,u,!0,52,8)},s.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||ye(u,8,this.length),e.read(this,u,!1,52,8)};function Ce(p,u,f,b,A,T){if(!s.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>A||u<T)throw new RangeError('"value" argument is out of bounds');if(f+b>p.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(u,f,b,A){if(u=+u,f=f>>>0,b=b>>>0,!A){let $=Math.pow(2,8*b)-1;Ce(this,u,f,b,$,0);}let T=1,P=0;for(this[f]=u&255;++P<b&&(T*=256);)this[f+P]=u/T&255;return f+b},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(u,f,b,A){if(u=+u,f=f>>>0,b=b>>>0,!A){let $=Math.pow(2,8*b)-1;Ce(this,u,f,b,$,0);}let T=b-1,P=1;for(this[f+T]=u&255;--T>=0&&(P*=256);)this[f+T]=u/P&255;return f+b},s.prototype.writeUint8=s.prototype.writeUInt8=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,1,255,0),this[f]=u&255,f+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function vl(p,u,f,b,A){Rl(u,b,A,p,f,7);let T=Number(u&BigInt(4294967295));p[f++]=T,T=T>>8,p[f++]=T,T=T>>8,p[f++]=T,T=T>>8,p[f++]=T;let P=Number(u>>BigInt(32)&BigInt(4294967295));return p[f++]=P,P=P>>8,p[f++]=P,P=P>>8,p[f++]=P,P=P>>8,p[f++]=P,f}function El(p,u,f,b,A){Rl(u,b,A,p,f,7);let T=Number(u&BigInt(4294967295));p[f+7]=T,T=T>>8,p[f+6]=T,T=T>>8,p[f+5]=T,T=T>>8,p[f+4]=T;let P=Number(u>>BigInt(32)&BigInt(4294967295));return p[f+3]=P,P=P>>8,p[f+2]=P,P=P>>8,p[f+1]=P,P=P>>8,p[f]=P,f+8}s.prototype.writeBigUInt64LE=Mt(function(u,f=0){return vl(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Mt(function(u,f=0){return El(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(u,f,b,A){if(u=+u,f=f>>>0,!A){let se=Math.pow(2,8*b-1);Ce(this,u,f,b,se-1,-se);}let T=0,P=1,$=0;for(this[f]=u&255;++T<b&&(P*=256);)u<0&&$===0&&this[f+T-1]!==0&&($=1),this[f+T]=(u/P>>0)-$&255;return f+b},s.prototype.writeIntBE=function(u,f,b,A){if(u=+u,f=f>>>0,!A){let se=Math.pow(2,8*b-1);Ce(this,u,f,b,se-1,-se);}let T=b-1,P=1,$=0;for(this[f+T]=u&255;--T>=0&&(P*=256);)u<0&&$===0&&this[f+T+1]!==0&&($=1),this[f+T]=(u/P>>0)-$&255;return f+b},s.prototype.writeInt8=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},s.prototype.writeInt16LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},s.prototype.writeInt16BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},s.prototype.writeInt32LE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},s.prototype.writeInt32BE=function(u,f,b){return u=+u,f=f>>>0,b||Ce(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},s.prototype.writeBigInt64LE=Mt(function(u,f=0){return vl(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Mt(function(u,f=0){return El(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Sl(p,u,f,b,A,T){if(f+b>p.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function Al(p,u,f,b,A){return u=+u,f=f>>>0,A||Sl(p,u,f,4),e.write(p,u,f,b,23,4),f+4}s.prototype.writeFloatLE=function(u,f,b){return Al(this,u,f,!0,b)},s.prototype.writeFloatBE=function(u,f,b){return Al(this,u,f,!1,b)};function Il(p,u,f,b,A){return u=+u,f=f>>>0,A||Sl(p,u,f,8),e.write(p,u,f,b,52,8),f+8}s.prototype.writeDoubleLE=function(u,f,b){return Il(this,u,f,!0,b)},s.prototype.writeDoubleBE=function(u,f,b){return Il(this,u,f,!1,b)},s.prototype.copy=function(u,f,b,A){if(!s.isBuffer(u))throw new TypeError("argument should be a Buffer");if(b||(b=0),!A&&A!==0&&(A=this.length),f>=u.length&&(f=u.length),f||(f=0),A>0&&A<b&&(A=b),A===b||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),u.length-f<A-b&&(A=u.length-f+b);let T=A-b;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,b,A):Uint8Array.prototype.set.call(u,this.subarray(b,A),f),T},s.prototype.fill=function(u,f,b,A){if(typeof u=="string"){if(typeof f=="string"?(A=f,f=0,b=this.length):typeof b=="string"&&(A=b,b=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!s.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(u.length===1){let P=u.charCodeAt(0);(A==="utf8"&&P<128||A==="latin1")&&(u=P);}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<b)throw new RangeError("Out of range index");if(b<=f)return this;f=f>>>0,b=b===void 0?this.length:b>>>0,u||(u=0);let T;if(typeof u=="number")for(T=f;T<b;++T)this[T]=u;else {let P=s.isBuffer(u)?u:s.from(u,A),$=P.length;if($===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(T=0;T<b-f;++T)this[T+f]=P[T%$];}return this};let xr={};function ds(p,u,f){xr[p]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name;}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0});}toString(){return `${this.name} [${p}]: ${this.message}`}};}ds("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ds("ERR_INVALID_ARG_TYPE",function(p,u){return `The "${p}" argument must be of type number. Received type ${typeof u}`},TypeError),ds("ERR_OUT_OF_RANGE",function(p,u,f){let b=`The value of "${p}" is out of range.`,A=f;return Number.isInteger(f)&&Math.abs(f)>2**32?A=Tl(String(f)):typeof f=="bigint"&&(A=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(A=Tl(A)),A+="n"),b+=` It must be ${u}. Received ${A}`,b},RangeError);function Tl(p){let u="",f=p.length,b=p[0]==="-"?1:0;for(;f>=b+4;f-=3)u=`_${p.slice(f-3,f)}${u}`;return `${p.slice(0,f)}${u}`}function jg(p,u,f){Mr(u,"offset"),(p[u]===void 0||p[u+f]===void 0)&&fi(u,p.length-(f+1));}function Rl(p,u,f,b,A,T){if(p>f||p<u){let P=typeof u=="bigint"?"n":"",$;throw u===0||u===BigInt(0)?$=`>= 0${P} and < 2${P} ** ${(T+1)*8}${P}`:$=`>= -(2${P} ** ${(T+1)*8-1}${P}) and < 2 ** ${(T+1)*8-1}${P}`,new xr.ERR_OUT_OF_RANGE("value",$,p)}jg(b,A,T);}function Mr(p,u){if(typeof p!="number")throw new xr.ERR_INVALID_ARG_TYPE(u,"number",p)}function fi(p,u,f){throw Math.floor(p)!==p?(Mr(p,f),new xr.ERR_OUT_OF_RANGE("offset","an integer",p)):u<0?new xr.ERR_BUFFER_OUT_OF_BOUNDS:new xr.ERR_OUT_OF_RANGE("offset",`>= ${0} and <= ${u}`,p)}let Fg=/[^+/0-9A-Za-z-_]/g;function Wg(p){if(p=p.split("=")[0],p=p.trim().replace(Fg,""),p.length<2)return "";for(;p.length%4!==0;)p=p+"=";return p}function ps(p,u){u=u||1/0;let f,b=p.length,A=null,T=[];for(let P=0;P<b;++P){if(f=p.charCodeAt(P),f>55295&&f<57344){if(!A){if(f>56319){(u-=3)>-1&&T.push(239,191,189);continue}else if(P+1===b){(u-=3)>-1&&T.push(239,191,189);continue}A=f;continue}if(f<56320){(u-=3)>-1&&T.push(239,191,189),A=f;continue}f=(A-55296<<10|f-56320)+65536;}else A&&(u-=3)>-1&&T.push(239,191,189);if(A=null,f<128){if((u-=1)<0)break;T.push(f);}else if(f<2048){if((u-=2)<0)break;T.push(f>>6|192,f&63|128);}else if(f<65536){if((u-=3)<0)break;T.push(f>>12|224,f>>6&63|128,f&63|128);}else if(f<1114112){if((u-=4)<0)break;T.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128);}else throw new Error("Invalid code point")}return T}function $g(p){let u=[];for(let f=0;f<p.length;++f)u.push(p.charCodeAt(f)&255);return u}function Hg(p,u){let f,b,A,T=[];for(let P=0;P<p.length&&!((u-=2)<0);++P)f=p.charCodeAt(P),b=f>>8,A=f%256,T.push(A),T.push(b);return T}function Cl(p){return t.toByteArray(Wg(p))}function ji(p,u,f,b){let A;for(A=0;A<b&&!(A+f>=u.length||A>=p.length);++A)u[A+f]=p[A];return A}function Ye(p,u){return p instanceof u||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===u.name}function gs(p){return p!==p}let Vg=function(){let p="0123456789abcdef",u=new Array(256);for(let f=0;f<16;++f){let b=f*16;for(let A=0;A<16;++A)u[b+A]=p[f]+p[A];}return u}();function Mt(p){return typeof BigInt>"u"?zg:p}function zg(){throw new Error("BigInt not supported")}return Zt}var ci,Vu,Hi,zu,Zt,Ku,Ut,x,ty,ry,be=_e(()=>{_();v();m();ci={},Vu=!1;Hi={},zu=!1;Zt={},Ku=!1;Ut=ey();Ut.Buffer;Ut.SlowBuffer;Ut.INSPECT_MAX_BYTES;Ut.kMaxLength;x=Ut.Buffer,ty=Ut.INSPECT_MAX_BYTES,ry=Ut.kMaxLength;});var v=_e(()=>{be();});var Gu=M(vs=>{_();v();m();Object.defineProperty(vs,"__esModule",{value:!0});var ms=class{constructor(e){this.aliasToTopic={},this.max=e;}put(e,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={};}};vs.default=ms;});var ce=M((xA,Qu)=>{_();v();m();Qu.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array};});var Je=M(($A,Ss)=>{_();v();m();var iy=(be(),X(me)),ny=Object.getPrototypeOf(async function(){}).constructor,Yu=globalThis.Blob||iy.Blob,sy=typeof Yu<"u"?function(e){return e instanceof Yu}:function(e){return !1},Es=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let i=0;i<e.length;i++)r+=`    ${e[i].stack}
`;super(r),this.name="AggregateError",this.errors=e;}};Ss.exports={AggregateError:Es,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r));}},createDeferredPromise:function(){let t,e;return {promise:new Promise((i,n)=>{t=i,e=n;}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((i,...n)=>i?r(i):e(...n));})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,i]){let n=e.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return `\`${t}\``}else return `"${t}"`;return `'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return `${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return "{}"}},types:{isAsyncFunction(t){return t instanceof ny},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:sy};Ss.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom");});var zi=M((ZA,Vi)=>{_();v();m();var{AbortController:Ju,AbortSignal:oy}=typeof self<"u"?self:typeof window<"u"?window:void 0;Vi.exports=Ju;Vi.exports.AbortSignal=oy;Vi.exports.default=Ju;});var Ae=M((uI,ef)=>{_();v();m();var{format:ay,inspect:Ki,AggregateError:ly}=Je(),uy=globalThis.AggregateError||ly,fy=Symbol("kIsNodeError"),cy=["string","function","number","object","Function","Object","boolean","bigint","symbol"],hy=/^([A-Z][a-z0-9]*)+$/,dy="__node_internal_",Gi={};function er(t,e){if(!t)throw new Gi.ERR_INTERNAL_ASSERTION(e)}function Xu(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return `${t.slice(0,r)}${e}`}function py(t,e,r){if(typeof e=="function")return er(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let i=(e.match(/%[dfijoOs]/g)||[]).length;return er(i===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),r.length===0?e:ay(e,...r)}function ve(t,e,r){r||(r=Error);class i extends r{constructor(...o){super(py(t,e,o));}toString(){return `${this.name} [${t}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return `${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=t,i.prototype[fy]=!0,Gi[t]=i;}function Zu(t){let e=dy+t.name;return Object.defineProperty(t,"name",{value:e}),t}function gy(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new uy([e,t],e.message);return r.code=e.code,r}return t||e}var As=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Gi.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError";}};ve("ERR_ASSERTION","%s",Error);ve("ERR_INVALID_ARG_TYPE",(t,e,r)=>{er(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";let n=[],o=[],s=[];for(let l of e)er(typeof l=="string","All expected entries have to be of type string"),cy.includes(l)?n.push(l.toLowerCase()):hy.test(l)?o.push(l):(er(l!=="object",'The value "object" should be written as "Object"'),s.push(l));if(o.length>0){let l=n.indexOf("object");l!==-1&&(n.splice(n,l,1),o.push("Object"));}if(n.length>0){switch(n.length){case 1:i+=`of type ${n[0]}`;break;case 2:i+=`one of type ${n[0]} or ${n[1]}`;break;default:{let l=n.pop();i+=`one of type ${n.join(", ")}, or ${l}`;}}(o.length>0||s.length>0)&&(i+=" or ");}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();i+=`an instance of ${o.join(", ")}, or ${l}`;}}s.length>0&&(i+=" or ");}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(i+="an "),i+=`${s[0]}`;break;case 2:i+=`one of ${s[0]} or ${s[1]}`;break;default:{let l=s.pop();i+=`one of ${s.join(", ")}, or ${l}`;}}if(r==null)i+=`. Received ${r}`;else if(typeof r=="function"&&r.name)i+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)i+=`. Received an instance of ${r.constructor.name}`;else {let l=Ki(r,{depth:-1});i+=`. Received ${l}`;}}else {let l=Ki(r,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),i+=`. Received type ${typeof r} (${l})`;}return i},TypeError);ve("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let i=Ki(e);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`},TypeError);ve("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var i;let n=r!=null&&(i=r.constructor)!==null&&i!==void 0&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return `Expected ${t} to be returned from the "${e}" function but got ${n}.`},TypeError);ve("ERR_MISSING_ARGS",(...t)=>{er(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(i=>`"${i}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let i=t.pop();e+=`The ${t.join(", ")}, and ${i} arguments`;}break}return `${e} must be specified`},TypeError);ve("ERR_OUT_OF_RANGE",(t,e,r)=>{er(e,'Missing "range" argument');let i;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Xu(String(r)):typeof r=="bigint"?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=Xu(i)),i+="n"):i=Ki(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`},RangeError);ve("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ve("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ve("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ve("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ve("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ve("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ve("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ve("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ve("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ve("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ve("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);ef.exports={AbortError:As,aggregateTwoErrors:Zu(gy),hideStackFrames:Zu,codes:Gi};});var hi=M((_I,ff)=>{_();v();m();var{ArrayIsArray:Ts,ArrayPrototypeIncludes:sf,ArrayPrototypeJoin:of,ArrayPrototypeMap:yy,NumberIsInteger:Rs,NumberIsNaN:by,NumberMAX_SAFE_INTEGER:wy,NumberMIN_SAFE_INTEGER:_y,NumberParseInt:my,ObjectPrototypeHasOwnProperty:vy,RegExpPrototypeExec:af,String:Ey,StringPrototypeToUpperCase:Sy,StringPrototypeTrim:Ay}=ce(),{hideStackFrames:Ue,codes:{ERR_SOCKET_BAD_PORT:Iy,ERR_INVALID_ARG_TYPE:Ie,ERR_INVALID_ARG_VALUE:Ur,ERR_OUT_OF_RANGE:tr,ERR_UNKNOWN_SIGNAL:tf}}=Ae(),{normalizeEncoding:Ty}=Je(),{isAsyncFunction:Ry,isArrayBufferView:Cy}=Je().types,rf={};function By(t){return t===(t|0)}function Py(t){return t===t>>>0}var ky=/^[0-7]+$/,Oy="must be a 32-bit unsigned integer or an octal string";function xy(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(af(ky,t)===null)throw new Ur(e,t,Oy);t=my(t,8);}return lf(t,e),t}var My=Ue((t,e,r=_y,i=wy)=>{if(typeof t!="number")throw new Ie(e,"number",t);if(!Rs(t))throw new tr(e,"an integer",t);if(t<r||t>i)throw new tr(e,`>= ${r} && <= ${i}`,t)}),Ly=Ue((t,e,r=-2147483648,i=2147483647)=>{if(typeof t!="number")throw new Ie(e,"number",t);if(!Rs(t))throw new tr(e,"an integer",t);if(t<r||t>i)throw new tr(e,`>= ${r} && <= ${i}`,t)}),lf=Ue((t,e,r=!1)=>{if(typeof t!="number")throw new Ie(e,"number",t);if(!Rs(t))throw new tr(e,"an integer",t);let i=r?1:0,n=4294967295;if(t<i||t>n)throw new tr(e,`>= ${i} && <= ${n}`,t)});function Cs(t,e){if(typeof t!="string")throw new Ie(e,"string",t)}function Uy(t,e,r=void 0,i){if(typeof t!="number")throw new Ie(e,"number",t);if(r!=null&&t<r||i!=null&&t>i||(r!=null||i!=null)&&by(t))throw new tr(e,`${r!=null?`>= ${r}`:""}${r!=null&&i!=null?" && ":""}${i!=null?`<= ${i}`:""}`,t)}var Ny=Ue((t,e,r)=>{if(!sf(r,t)){let n="must be one of: "+of(yy(r,o=>typeof o=="string"?`'${o}'`:Ey(o)),", ");throw new Ur(e,t,n)}});function uf(t,e){if(typeof t!="boolean")throw new Ie(e,"boolean",t)}function Is(t,e,r){return t==null||!vy(t,e)?r:t[e]}var qy=Ue((t,e,r=null)=>{let i=Is(r,"allowArray",!1),n=Is(r,"allowFunction",!1);if(!Is(r,"nullable",!1)&&t===null||!i&&Ts(t)||typeof t!="object"&&(!n||typeof t!="function"))throw new Ie(e,"Object",t)}),Dy=Ue((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Ie(e,"a dictionary",t)}),Bs=Ue((t,e,r=0)=>{if(!Ts(t))throw new Ie(e,"Array",t);if(t.length<r){let i=`must be longer than ${r}`;throw new Ur(e,t,i)}});function jy(t,e){Bs(t,e);for(let r=0;r<t.length;r++)Cs(t[r],`${e}[${r}]`);}function Fy(t,e){Bs(t,e);for(let r=0;r<t.length;r++)uf(t[r],`${e}[${r}]`);}function Wy(t,e="signal"){if(Cs(t,e),rf[t]===void 0)throw rf[Sy(t)]!==void 0?new tf(t+" (signals must use all capital letters)"):new tf(t)}var $y=Ue((t,e="buffer")=>{if(!Cy(t))throw new Ie(e,["Buffer","TypedArray","DataView"],t)});function Hy(t,e){let r=Ty(e),i=t.length;if(r==="hex"&&i%2!==0)throw new Ur("encoding",e,`is invalid for data of length ${i}`)}function Vy(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Ay(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Iy(e,t,r);return t|0}var zy=Ue((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Ie(e,"AbortSignal",t)}),Ky=Ue((t,e)=>{if(typeof t!="function")throw new Ie(e,"Function",t)}),Gy=Ue((t,e)=>{if(typeof t!="function"||Ry(t))throw new Ie(e,"Function",t)}),Qy=Ue((t,e)=>{if(t!==void 0)throw new Ie(e,"undefined",t)});function Yy(t,e,r){if(!sf(r,t))throw new Ie(e,`('${of(r,"|")}')`,t)}var Jy=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function nf(t,e){if(typeof t>"u"||!af(Jy,t))throw new Ur(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Xy(t){if(typeof t=="string")return nf(t,"hints"),t;if(Ts(t)){let e=t.length,r="";if(e===0)return r;for(let i=0;i<e;i++){let n=t[i];nf(n,"hints"),r+=n,i!==e-1&&(r+=", ");}return r}throw new Ur("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ff.exports={isInt32:By,isUint32:Py,parseFileMode:xy,validateArray:Bs,validateStringArray:jy,validateBooleanArray:Fy,validateBoolean:uf,validateBuffer:$y,validateDictionary:Dy,validateEncoding:Hy,validateFunction:Ky,validateInt32:Ly,validateInteger:My,validateNumber:Uy,validateObject:qy,validateOneOf:Ny,validatePlainFunction:Gy,validatePort:Vy,validateSignalName:Wy,validateString:Cs,validateUint32:lf,validateUndefined:Qy,validateUnion:Yy,validateAbortSignal:zy,validateLinkHeaderValue:Xy};});var Nt=M((BI,pf)=>{_();v();m();var ae=pf.exports={},Xe,Ze;function Ps(){throw new Error("setTimeout has not been defined")}function ks(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Xe=setTimeout:Xe=Ps;}catch{Xe=Ps;}try{typeof clearTimeout=="function"?Ze=clearTimeout:Ze=ks;}catch{Ze=ks;}})();function cf(t){if(Xe===setTimeout)return setTimeout(t,0);if((Xe===Ps||!Xe)&&setTimeout)return Xe=setTimeout,setTimeout(t,0);try{return Xe(t,0)}catch{try{return Xe.call(null,t,0)}catch{return Xe.call(this,t,0)}}}function Zy(t){if(Ze===clearTimeout)return clearTimeout(t);if((Ze===ks||!Ze)&&clearTimeout)return Ze=clearTimeout,clearTimeout(t);try{return Ze(t)}catch{try{return Ze.call(null,t)}catch{return Ze.call(this,t)}}}var _t=[],Nr=!1,rr,Qi=-1;function eb(){!Nr||!rr||(Nr=!1,rr.length?_t=rr.concat(_t):Qi=-1,_t.length&&hf());}function hf(){if(!Nr){var t=cf(eb);Nr=!0;for(var e=_t.length;e;){for(rr=_t,_t=[];++Qi<e;)rr&&rr[Qi].run();Qi=-1,e=_t.length;}rr=null,Nr=!1,Zy(t);}}ae.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];_t.push(new df(t,e)),_t.length===1&&!Nr&&cf(hf);};function df(t,e){this.fun=t,this.array=e;}df.prototype.run=function(){this.fun.apply(null,this.array);};ae.title="browser";ae.browser=!0;ae.env={};ae.argv=[];ae.version="";ae.versions={};function mt(){}ae.on=mt;ae.addListener=mt;ae.once=mt;ae.off=mt;ae.removeListener=mt;ae.removeAllListeners=mt;ae.emit=mt;ae.prependListener=mt;ae.prependOnceListener=mt;ae.listeners=function(t){return []};ae.binding=function(t){throw new Error("process.binding is not supported")};ae.cwd=function(){return "/"};ae.chdir=function(t){throw new Error("process.chdir is not supported")};ae.umask=function(){return 0};});var tt=M((DI,Pf)=>{_();v();m();var{Symbol:Yi,SymbolAsyncIterator:gf,SymbolIterator:yf,SymbolFor:bf}=ce(),wf=Yi("kDestroyed"),_f=Yi("kIsErrored"),Os=Yi("kIsReadable"),mf=Yi("kIsDisturbed"),tb=bf("nodejs.webstream.isClosedPromise"),rb=bf("nodejs.webstream.controllerErrorFunction");function Ji(t,e=!1){var r;return !!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Xi(t){var e;return !!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function ib(t){return !!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function et(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function vf(t){return !!(t&&!et(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Ef(t){return !!(t&&!et(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Sf(t){return !!(t&&!et(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function nb(t){return vf(t)||Ef(t)||Sf(t)}function sb(t,e){return t==null?!1:e===!0?typeof t[gf]=="function":e===!1?typeof t[yf]=="function":typeof t[gf]=="function"||typeof t[yf]=="function"}function Zi(t){if(!et(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return !!(t.destroyed||t[wf]||i!=null&&i.destroyed)}function Af(t){if(!Xi(t))return null;if(t.writableEnded===!0)return !0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function ob(t,e){if(!Xi(t))return null;if(t.writableFinished===!0)return !0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function ab(t){if(!Ji(t))return null;if(t.readableEnded===!0)return !0;let e=t._readableState;return !e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function If(t,e){if(!Ji(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Tf(t){return t&&t[Os]!=null?t[Os]:typeof t?.readable!="boolean"?null:Zi(t)?!1:Ji(t)&&t.readable&&!If(t)}function Rf(t){return typeof t?.writable!="boolean"?null:Zi(t)?!1:Xi(t)&&t.writable&&!Af(t)}function lb(t,e){return et(t)?Zi(t)?!0:!(e?.readable!==!1&&Tf(t)||e?.writable!==!1&&Rf(t)):null}function ub(t){var e,r;return et(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function fb(t){var e,r;return et(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function cb(t){if(!et(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Cf(t)?t._closed:null}function Cf(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Bf(t){return typeof t._sent100=="boolean"&&Cf(t)}function hb(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function db(t){if(!et(t))return null;let e=t._writableState,r=t._readableState,i=e||r;return !i&&Bf(t)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function pb(t){var e;return !!(t&&((e=t[mf])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function gb(t){var e,r,i,n,o,s,a,l,c,h;return !!(t&&((e=(r=(i=(n=(o=(s=t[_f])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&n!==void 0?n:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&i!==void 0?i:(l=t._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&r!==void 0?r:(c=t._readableState)===null||c===void 0?void 0:c.errored)!==null&&e!==void 0?e:!((h=t._writableState)===null||h===void 0)&&h.errored))}Pf.exports={kDestroyed:wf,isDisturbed:pb,kIsDisturbed:mf,isErrored:gb,kIsErrored:_f,isReadable:Tf,kIsReadable:Os,kIsClosedPromise:tb,kControllerErrorFunction:rb,isClosed:cb,isDestroyed:Zi,isDuplexNodeStream:ib,isFinished:lb,isIterable:sb,isReadableNodeStream:Ji,isReadableStream:vf,isReadableEnded:ab,isReadableFinished:If,isReadableErrored:fb,isNodeStream:et,isWebStream:nb,isWritable:Rf,isWritableNodeStream:Xi,isWritableStream:Ef,isWritableEnded:Af,isWritableFinished:ob,isWritableErrored:ub,isServerRequest:hb,isServerResponse:Bf,willEmitClose:db,isTransformStream:Sf};});var vt=M((QI,Ns)=>{_();v();m();var qt=Nt(),{AbortError:Df,codes:yb}=Ae(),{ERR_INVALID_ARG_TYPE:bb,ERR_STREAM_PREMATURE_CLOSE:kf}=yb,{kEmptyObject:Ms,once:Ls}=Je(),{validateAbortSignal:wb,validateFunction:_b,validateObject:mb,validateBoolean:vb}=hi(),{Promise:Eb,PromisePrototypeThen:Sb}=ce(),{isClosed:Ab,isReadable:Of,isReadableNodeStream:xs,isReadableStream:Ib,isReadableFinished:xf,isReadableErrored:Mf,isWritable:Lf,isWritableNodeStream:Uf,isWritableStream:Tb,isWritableFinished:Nf,isWritableErrored:qf,isNodeStream:Rb,willEmitClose:Cb,kIsClosedPromise:Bb}=tt();function Pb(t){return t.setHeader&&typeof t.abort=="function"}var Us=()=>{};function jf(t,e,r){var i,n;if(arguments.length===2?(r=e,e=Ms):e==null?e=Ms:mb(e,"options"),_b(r,"callback"),wb(e.signal,"options.signal"),r=Ls(r),Ib(t)||Tb(t))return kb(t,e,r);if(!Rb(t))throw new bb("stream",["ReadableStream","WritableStream","Stream"],t);let o=(i=e.readable)!==null&&i!==void 0?i:xs(t),s=(n=e.writable)!==null&&n!==void 0?n:Uf(t),a=t._writableState,l=t._readableState,c=()=>{t.writable||g();},h=Cb(t)&&xs(t)===o&&Uf(t)===s,d=Nf(t,!1),g=()=>{d=!0,t.destroyed&&(h=!1),!(h&&(!t.readable||o))&&(!o||y)&&r.call(t);},y=xf(t,!1),w=()=>{y=!0,t.destroyed&&(h=!1),!(h&&(!t.writable||s))&&(!s||d)&&r.call(t);},S=N=>{r.call(t,N);},E=Ab(t),I=()=>{E=!0;let N=qf(t)||Mf(t);if(N&&typeof N!="boolean")return r.call(t,N);if(o&&!y&&xs(t,!0)&&!xf(t,!1))return r.call(t,new kf);if(s&&!d&&!Nf(t,!1))return r.call(t,new kf);r.call(t);},C=()=>{E=!0;let N=qf(t)||Mf(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t);},R=()=>{t.req.on("finish",g);};Pb(t)?(t.on("complete",g),h||t.on("abort",I),t.req?R():t.on("request",R)):s&&!a&&(t.on("end",c),t.on("close",c)),!h&&typeof t.aborted=="boolean"&&t.on("aborted",I),t.on("end",w),t.on("finish",g),e.error!==!1&&t.on("error",S),t.on("close",I),E?qt.nextTick(I):a!=null&&a.errorEmitted||l!=null&&l.errorEmitted?h||qt.nextTick(C):(!o&&(!h||Of(t))&&(d||Lf(t)===!1)||!s&&(!h||Lf(t))&&(y||Of(t)===!1)||l&&t.req&&t.aborted)&&qt.nextTick(C);let U=()=>{r=Us,t.removeListener("aborted",I),t.removeListener("complete",g),t.removeListener("abort",I),t.removeListener("request",R),t.req&&t.req.removeListener("finish",g),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",g),t.removeListener("end",w),t.removeListener("error",S),t.removeListener("close",I);};if(e.signal&&!E){let N=()=>{let W=r;U(),W.call(t,new Df(void 0,{cause:e.signal.reason}));};if(e.signal.aborted)qt.nextTick(N);else {let W=r;r=Ls((...K)=>{e.signal.removeEventListener("abort",N),W.apply(t,K);}),e.signal.addEventListener("abort",N);}}return U}function kb(t,e,r){let i=!1,n=Us;if(e.signal)if(n=()=>{i=!0,r.call(t,new Df(void 0,{cause:e.signal.reason}));},e.signal.aborted)qt.nextTick(n);else {let s=r;r=Ls((...a)=>{e.signal.removeEventListener("abort",n),s.apply(t,a);}),e.signal.addEventListener("abort",n);}let o=(...s)=>{i||qt.nextTick(()=>r.apply(t,s));};return Sb(t[Bb].promise,o,o),Us}function Ob(t,e){var r;let i=!1;return e===null&&(e=Ms),(r=e)!==null&&r!==void 0&&r.cleanup&&(vb(e.cleanup,"cleanup"),i=e.cleanup),new Eb((n,o)=>{let s=jf(t,e,a=>{i&&s(),a?o(a):n();});})}Ns.exports=jf;Ns.exports.finished=Ob;});var ir=M((sT,Gf)=>{_();v();m();var rt=Nt(),{aggregateTwoErrors:xb,codes:{ERR_MULTIPLE_CALLBACK:Mb},AbortError:Lb}=Ae(),{Symbol:$f}=ce(),{kDestroyed:Ub,isDestroyed:Nb,isFinished:qb,isServerRequest:Db}=tt(),Hf=$f("kDestroy"),qs=$f("kConstruct");function Vf(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t));}function jb(t,e){let r=this._readableState,i=this._writableState,n=i||r;return i!=null&&i.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Vf(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),n.constructed?Ff(this,t,e):this.once(Hf,function(o){Ff(this,xb(o,t),e);}),this)}function Ff(t,e,r){let i=!1;function n(o){if(i)return;i=!0;let s=t._readableState,a=t._writableState;Vf(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?rt.nextTick(Fb,t,o):rt.nextTick(zf,t);}try{t._destroy(e||null,n);}catch(o){n(o);}}function Fb(t,e){Ds(t,e),zf(t);}function zf(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close");}function Ds(t,e){let r=t._readableState,i=t._writableState;i!=null&&i.errorEmitted||r!=null&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e));}function Wb(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1);}function js(t,e,r){let i=t._readableState,n=t._writableState;if(n!=null&&n.destroyed||i!=null&&i.destroyed)return this;i!=null&&i.autoDestroy||n!=null&&n.autoDestroy?t.destroy(e):e&&(e.stack,n&&!n.errored&&(n.errored=e),i&&!i.errored&&(i.errored=e),r?rt.nextTick(Ds,t,e):Ds(t,e));}function $b(t,e){if(typeof t._construct!="function")return;let r=t._readableState,i=t._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),t.once(qs,e),!(t.listenerCount(qs)>1)&&rt.nextTick(Hb,t);}function Hb(t){let e=!1;function r(i){if(e){js(t,i??new Mb);return}e=!0;let n=t._readableState,o=t._writableState,s=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(Hf,i):i?js(t,i,!0):rt.nextTick(Vb,t);}try{t._construct(i=>{rt.nextTick(r,i);});}catch(i){rt.nextTick(r,i);}}function Vb(t){t.emit(qs);}function Wf(t){return t?.setHeader&&typeof t.abort=="function"}function Kf(t){t.emit("close");}function zb(t,e){t.emit("error",e),rt.nextTick(Kf,t);}function Kb(t,e){!t||Nb(t)||(!e&&!qb(t)&&(e=new Lb),Db(t)?(t.socket=null,t.destroy(e)):Wf(t)?t.abort():Wf(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?rt.nextTick(zb,t,e):rt.nextTick(Kf,t),t.destroyed||(t[Ub]=!0));}Gf.exports={construct:$b,destroyer:Kb,destroy:jb,undestroy:Wb,errorOrDestroy:js};});function Y(){Y.init.call(this);}function en(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function nc(t){return t._maxListeners===void 0?Y.defaultMaxListeners:t._maxListeners}function Xf(t,e,r,i){var n,o,s,a;if(en(r),(o=t._events)===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=nc(t))>0&&s.length>n&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a=l,console&&console.warn&&console.warn(a);}return t}function Gb(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Zf(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Gb.bind(i);return n.listener=r,i.wrapFn=n,n}function ec(t,e,r){var i=t._events;if(i===void 0)return [];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(n):sc(n,n.length)}function tc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function sc(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}var rc,ic,qr,Qf,Yf,Jf,Be,Fs=_e(()=>{_();v();m();qr=typeof Reflect=="object"?Reflect:null,Qf=qr&&typeof qr.apply=="function"?qr.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};ic=qr&&typeof qr.ownKeys=="function"?qr.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};Yf=Number.isNaN||function(t){return t!=t};rc=Y,Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;Jf=10;Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return Jf},set:function(t){if(typeof t!="number"||t<0||Yf(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Jf=t;}}),Y.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0;},Y.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Yf(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},Y.prototype.getMaxListeners=function(){return nc(this)},Y.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=t==="error",n=this._events;if(n!==void 0)i=i&&n.error===void 0;else if(!i)return !1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=n[t];if(a===void 0)return !1;if(typeof a=="function")Qf(a,this,e);else {var l=a.length,c=sc(a,l);for(r=0;r<l;++r)Qf(c[r],this,e);}return !0},Y.prototype.addListener=function(t,e){return Xf(this,t,e,!1)},Y.prototype.on=Y.prototype.addListener,Y.prototype.prependListener=function(t,e){return Xf(this,t,e,!0)},Y.prototype.once=function(t,e){return en(e),this.on(t,Zf(this,t,e)),this},Y.prototype.prependOnceListener=function(t,e){return en(e),this.prependListener(t,Zf(this,t,e)),this},Y.prototype.removeListener=function(t,e){var r,i,n,o,s;if(en(e),(i=this._events)===void 0)return this;if((r=i[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,n=o;break}if(n<0)return this;n===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop();}(r,n),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||e);}return this},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(t){var e,r,i;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var n,o=Object.keys(r);for(i=0;i<o.length;++i)(n=o[i])!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},Y.prototype.listeners=function(t){return ec(this,t,!0)},Y.prototype.rawListeners=function(t){return ec(this,t,!1)},Y.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):tc.call(t,e)},Y.prototype.listenerCount=tc,Y.prototype.eventNames=function(){return this._eventsCount>0?ic(this._events):[]};Be=rc;Be.EventEmitter;Be.defaultMaxListeners;Be.init;Be.listenerCount;Be.EventEmitter;Be.defaultMaxListeners;Be.init;Be.listenerCount;});var nr={};Jt(nr,{EventEmitter:()=>Qb,default:()=>Be,defaultMaxListeners:()=>Yb,init:()=>Jb,listenerCount:()=>Xb,on:()=>Zb,once:()=>ew});var Qb,Yb,Jb,Xb,Zb,ew,sr=_e(()=>{_();v();m();Fs();Fs();Be.once=function(t,e){return new Promise((r,i)=>{function n(...s){o!==void 0&&t.removeListener("error",o),r(s);}let o;e!=="error"&&(o=s=>{t.removeListener(name,n),i(s);},t.once("error",o)),t.once(e,n);})};Be.on=function(t,e){let r=[],i=[],n=null,o=!1,s={async next(){let c=r.shift();if(c)return createIterResult(c,!1);if(n){let h=Promise.reject(n);return n=null,h}return o?createIterResult(void 0,!0):new Promise((h,d)=>i.push({resolve:h,reject:d}))},async return(){t.removeListener(e,a),t.removeListener("error",l),o=!0;for(let c of i)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){n=c,t.removeListener(e,a),t.removeListener("error",l);},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",l),s;function a(...c){let h=i.shift();h?h.resolve(createIterResult(c,!1)):r.push(c);}function l(c){o=!0;let h=i.shift();h?h.reject(c):n=c,s.return();}};({EventEmitter:Qb,defaultMaxListeners:Yb,init:Jb,listenerCount:Xb,on:Zb,once:ew}=Be);});var nn=M((UT,ac)=>{_();v();m();var{ArrayIsArray:tw,ObjectSetPrototypeOf:oc}=ce(),{EventEmitter:tn}=(sr(),X(nr));function rn(t){tn.call(this,t);}oc(rn.prototype,tn.prototype);oc(rn,tn);rn.prototype.pipe=function(t,e){let r=this;function i(h){t.writable&&t.write(h)===!1&&r.pause&&r.pause();}r.on("data",i);function n(){r.readable&&r.resume&&r.resume();}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));let o=!1;function s(){o||(o=!0,t.end());}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy());}function l(h){c(),tn.listenerCount(this,"error")===0&&this.emit("error",h);}Ws(r,"error",l),Ws(t,"error",l);function c(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c);}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t};function Ws(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):tw(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]];}ac.exports={Stream:rn,prependListener:Ws};});var di=M((zT,sn)=>{_();v();m();var{AbortError:lc,codes:rw}=Ae(),{isNodeStream:uc,isWebStream:iw,kControllerErrorFunction:nw}=tt(),sw=vt(),{ERR_INVALID_ARG_TYPE:fc}=rw,ow=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new fc(e,"AbortSignal",t)};sn.exports.addAbortSignal=function(e,r){if(ow(e,"signal"),!uc(r)&&!iw(r))throw new fc("stream",["ReadableStream","WritableStream","Stream"],r);return sn.exports.addAbortSignalNoValidate(e,r)};sn.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=uc(e)?()=>{e.destroy(new lc(void 0,{cause:t.reason}));}:()=>{e[nw](new lc(void 0,{cause:t.reason}));};return t.aborted?r():(t.addEventListener("abort",r),sw(e,()=>t.removeEventListener("abort",r))),e};});var dc=M((i2,hc)=>{_();v();m();var{StringPrototypeSlice:cc,SymbolIterator:aw,TypedArrayPrototypeSet:on,Uint8Array:lw}=ce(),{Buffer:$s}=(be(),X(me)),{inspect:uw}=Je();hc.exports=class{constructor(){this.head=null,this.tail=null,this.length=0;}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length;}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length;}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0;}join(e){if(this.length===0)return "";let r=this.head,i=""+r.data;for(;(r=r.next)!==null;)i+=e+r.data;return i}concat(e){if(this.length===0)return $s.alloc(0);let r=$s.allocUnsafe(e>>>0),i=this.head,n=0;for(;i;)on(r,i.data,n),n+=i.data.length,i=i.next;return r}consume(e,r){let i=this.head.data;if(e<i.length){let n=i.slice(0,e);return this.head.data=i.slice(e),n}return e===i.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[aw](){for(let e=this.head;e;e=e.next)yield e.data;}_getString(e){let r="",i=this.head,n=0;do{let o=i.data;if(e>o.length)r+=o,e-=o.length;else {e===o.length?(r+=o,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=cc(o,0,e),this.head=i,i.data=cc(o,e));break}++n;}while((i=i.next)!==null);return this.length-=n,r}_getBuffer(e){let r=$s.allocUnsafe(e),i=e,n=this.head,o=0;do{let s=n.data;if(e>s.length)on(r,s,i-e),e-=s.length;else {e===s.length?(on(r,s,i-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(on(r,new lw(s.buffer,s.byteOffset,e),i-e),this.head=n,n.data=s.slice(e));break}++o;}while((n=n.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return uw(this,{...r,depth:0,customInspect:!1})}};});var an=M((d2,gc)=>{_();v();m();var{MathFloor:fw,NumberIsInteger:cw}=ce(),{ERR_INVALID_ARG_VALUE:hw}=Ae().codes;function dw(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function pc(t){return t?16:16*1024}function pw(t,e,r,i){let n=dw(e,i,r);if(n!=null){if(!cw(n)||n<0){let o=i?`options.${r}`:"options.highWaterMark";throw new hw(o,n)}return fw(n)}return pc(t.objectMode)}gc.exports={getHighWaterMark:pw,getDefaultHighWaterMark:pc};});function wc(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=e),[r,r===e?0:4-r%4]}function gw(t,e,r){for(var i,n,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push($e[(n=i)>>18&63]+$e[n>>12&63]+$e[n>>6&63]+$e[63&n]);return o.join("")}function Et(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,O.prototype),e}function O(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ks(t)}return Cc(t,e,r)}function Cc(t,e,r){if(typeof t=="string")return function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!O.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|Pc(o,s),l=Et(a),c=l.write(o,s);return c!==a&&(l=l.slice(0,c)),l}(t,e);if(ArrayBuffer.isView(t))return Hs(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(St(t,ArrayBuffer)||t&&St(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(St(t,SharedArrayBuffer)||t&&St(t.buffer,SharedArrayBuffer)))return mc(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return O.from(i,e,r);var n=function(o){if(O.isBuffer(o)){var s=0|Ys(o.length),a=Et(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||Js(o.length)?Et(0):Hs(o);if(o.type==="Buffer"&&Array.isArray(o.data))return Hs(o.data)}(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return O.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function Bc(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Ks(t){return Bc(t),Et(t<0?0:0|Ys(t))}function Hs(t){for(var e=t.length<0?0:0|Ys(t.length),r=Et(e),i=0;i<e;i+=1)r[i]=255&t[i];return r}function mc(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(i,O.prototype),i}function Ys(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|t}function Pc(t,e){if(O.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||St(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Gs(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Mc(t).length;default:if(n)return i?-1:Gs(t).length;e=(""+e).toLowerCase(),n=!0;}}function bw(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return "";for(t||(t="utf8");;)switch(t){case"hex":return Tw(this,e,r);case"utf8":case"utf-8":return Oc(this,e,r);case"ascii":return Aw(this,e,r);case"latin1":case"binary":return Iw(this,e,r);case"base64":return Sw(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rw(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0;}}function ar(t,e,r){var i=t[e];t[e]=t[r],t[r]=i;}function vc(t,e,r,i,n){if(t.length===0)return -1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Js(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return -1;r=t.length-1;}else if(r<0){if(!n)return -1;r=0;}if(typeof e=="string"&&(e=O.from(e,i)),O.isBuffer(e))return e.length===0?-1:Ec(t,e,r,i,n);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Ec(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function Ec(t,e,r,i,n){var o,s=1,a=t.length,l=e.length;if(i!==void 0&&((i=String(i).toLowerCase())==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return -1;s=2,a/=2,l/=2,r/=2;}function c(y,w){return s===1?y[w]:y.readUInt16BE(w*s)}if(n){var h=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,h===-1?0:o-h)){if(h===-1&&(h=o),o-h+1===l)return h*s}else h!==-1&&(o-=o-h),h=-1;}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var d=!0,g=0;g<l;g++)if(c(t,o+g)!==c(e,g)){d=!1;break}if(d)return o}return -1}function ww(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=e.length;i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(Js(a))return s;t[r+s]=a;}return s}function _w(t,e,r,i){return cn(Gs(e,t.length-r),t,r,i)}function kc(t,e,r,i){return cn(function(n){for(var o=[],s=0;s<n.length;++s)o.push(255&n.charCodeAt(s));return o}(e),t,r,i)}function mw(t,e,r,i){return kc(t,e,r,i)}function vw(t,e,r,i){return cn(Mc(e),t,r,i)}function Ew(t,e,r,i){return cn(function(n,o){for(var s,a,l,c=[],h=0;h<n.length&&!((o-=2)<0);++h)s=n.charCodeAt(h),a=s>>8,l=s%256,c.push(l),c.push(a);return c}(e,t.length-r),t,r,i)}function Sw(t,e,r){return e===0&&r===t.length?zs.fromByteArray(t):zs.fromByteArray(t.slice(e,r))}function Oc(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,s,a,l,c=t[n],h=null,d=c>239?4:c>223?3:c>191?2:1;if(n+d<=r)switch(d){case 1:c<128&&(h=c);break;case 2:(192&(o=t[n+1]))==128&&(l=(31&c)<<6|63&o)>127&&(h=l);break;case 3:o=t[n+1],s=t[n+2],(192&o)==128&&(192&s)==128&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=t[n+1],s=t[n+2],a=t[n+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(h=l);}h===null?(h=65533,d=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),n+=d;}return function(g){var y=g.length;if(y<=4096)return String.fromCharCode.apply(String,g);for(var w="",S=0;S<y;)w+=String.fromCharCode.apply(String,g.slice(S,S+=4096));return w}(i)}function Aw(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function Iw(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function Tw(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=e;o<r;++o)n+=Bw[t[o]];return n}function Rw(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function we(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Pe(t,e,r,i,n,o){if(!O.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function xc(t,e,r,i,n,o){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Sc(t,e,r,i,n){return e=+e,r>>>=0,n||xc(t,0,r,4),Dr.write(t,e,r,i,23,4),r+4}function Ac(t,e,r,i,n){return e=+e,r>>>=0,n||xc(t,0,r,8),Dr.write(t,e,r,i,52,8),r+8}function Gs(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],s=0;s<i;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320);}else n&&(e-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;o.push(r);}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128);}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128);}else {if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128);}}return o}function Mc(t){return zs.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Cw,"")).length<2)return "";for(;e.length%4!=0;)e+="=";return e}(t))}function cn(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function St(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Js(t){return t!=t}function Ic(t,e){for(var r in t)e[r]=t[r];}function lr(t,e,r){return it(t,e,r)}function pi(t){var e;switch(this.encoding=function(r){var i=function(n){if(!n)return "utf8";for(var o;;)switch(n){case"utf8":case"utf-8":return "utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return "utf16le";case"latin1":case"binary":return "latin1";case"base64":case"ascii":case"hex":return n;default:if(o)return;n=(""+n).toLowerCase(),o=!0;}}(r);if(typeof i!="string"&&(Qs.isEncoding===Tc||!Tc(r)))throw new Error("Unknown encoding: "+r);return i||r}(t),this.encoding){case"utf16le":this.text=Ow,this.end=xw,e=4;break;case"utf8":this.fillLast=kw,e=4;break;case"base64":this.text=Mw,this.end=Lw,e=3;break;default:return this.write=Uw,this.end=Nw,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Qs.allocUnsafe(e);}function Vs(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function kw(t){var e=this.lastTotal-this.lastNeed,r=function(i,n,o){if((192&n[0])!=128)return i.lastNeed=0,"\uFFFD";if(i.lastNeed>1&&n.length>1){if((192&n[1])!=128)return i.lastNeed=1,"\uFFFD";if(i.lastNeed>2&&n.length>2&&(192&n[2])!=128)return i.lastNeed=2,"\uFFFD"}}(this,t);return r!==void 0?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function Ow(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function xw(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Mw(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Lw(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Uw(t){return t.toString(this.encoding)}function Nw(t){return t&&t.length?this.write(t):""}var Rc,$e,Oe,yc,ln,or,bc,yw,At,zs,Dr,_c,Cw,Bw,un,fn,it,Pw,ur,Qs,Tc,Xs=_e(()=>{_();v();m();for(Rc={byteLength:function(t){var e=wc(t),r=e[0],i=e[1];return 3*(r+i)/4-i},toByteArray:function(t){var e,r,i=wc(t),n=i[0],o=i[1],s=new yc(function(c,h,d){return 3*(h+d)/4-d}(0,n,o)),a=0,l=o>0?n-4:n;for(r=0;r<l;r+=4)e=Oe[t.charCodeAt(r)]<<18|Oe[t.charCodeAt(r+1)]<<12|Oe[t.charCodeAt(r+2)]<<6|Oe[t.charCodeAt(r+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return o===2&&(e=Oe[t.charCodeAt(r)]<<2|Oe[t.charCodeAt(r+1)]>>4,s[a++]=255&e),o===1&&(e=Oe[t.charCodeAt(r)]<<10|Oe[t.charCodeAt(r+1)]<<4|Oe[t.charCodeAt(r+2)]>>2,s[a++]=e>>8&255,s[a++]=255&e),s},fromByteArray:function(t){for(var e,r=t.length,i=r%3,n=[],o=0,s=r-i;o<s;o+=16383)n.push(gw(t,o,o+16383>s?s:o+16383));return i===1?(e=t[r-1],n.push($e[e>>2]+$e[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push($e[e>>10]+$e[e>>4&63]+$e[e<<2&63]+"=")),n.join("")}},$e=[],Oe=[],yc=typeof Uint8Array<"u"?Uint8Array:Array,ln="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",or=0,bc=ln.length;or<bc;++or)$e[or]=ln[or],Oe[ln.charCodeAt(or)]=or;Oe["-".charCodeAt(0)]=62,Oe["_".charCodeAt(0)]=63;yw={read:function(t,e,r,i,n){var o,s,a=8*n-i-1,l=(1<<a)-1,c=l>>1,h=-7,d=r?n-1:0,g=r?-1:1,y=t[e+d];for(d+=g,o=y&(1<<-h)-1,y>>=-h,h+=a;h>0;o=256*o+t[e+d],d+=g,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=256*s+t[e+d],d+=g,h-=8);if(o===0)o=1-c;else {if(o===l)return s?NaN:1/0*(y?-1:1);s+=Math.pow(2,i),o-=c;}return (y?-1:1)*s*Math.pow(2,o-i)},write:function(t,e,r,i,n,o){var s,a,l,c=8*o-n-1,h=(1<<c)-1,d=h>>1,g=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:o-1,w=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+d>=1?g/l:g*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(e*l-1)*Math.pow(2,n),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+y]=255&a,y+=w,a/=256,n-=8);for(s=s<<n|a,c+=n;c>0;t[r+y]=255&s,y+=w,s/=256,c-=8);t[r+y-w]|=128*S;}},At={},zs=Rc,Dr=yw,_c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;At.Buffer=O,At.SlowBuffer=function(t){return +t!=t&&(t=0),O.alloc(+t)},At.INSPECT_MAX_BYTES=50;At.kMaxLength=2147483647,O.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return !1}}(),O.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.buffer}}),Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(O.isBuffer(this))return this.byteOffset}}),O.poolSize=8192,O.from=function(t,e,r){return Cc(t,e,r)},Object.setPrototypeOf(O.prototype,Uint8Array.prototype),Object.setPrototypeOf(O,Uint8Array),O.alloc=function(t,e,r){return function(i,n,o){return Bc(i),i<=0?Et(i):n!==void 0?typeof o=="string"?Et(i).fill(n,o):Et(i).fill(n):Et(i)}(t,e,r)},O.allocUnsafe=function(t){return Ks(t)},O.allocUnsafeSlow=function(t){return Ks(t)},O.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==O.prototype},O.compare=function(t,e){if(St(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),St(e,Uint8Array)&&(e=O.from(e,e.offset,e.byteLength)),!O.isBuffer(t)||!O.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},O.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},O.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return O.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var i=O.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(St(o,Uint8Array)&&(o=O.from(o)),!O.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length;}return i},O.byteLength=Pc,O.prototype._isBuffer=!0,O.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)ar(this,e,e+1);return this},O.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)ar(this,e,e+3),ar(this,e+1,e+2);return this},O.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)ar(this,e,e+7),ar(this,e+1,e+6),ar(this,e+2,e+5),ar(this,e+3,e+4);return this},O.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Oc(this,0,t):bw.apply(this,arguments)},O.prototype.toLocaleString=O.prototype.toString,O.prototype.equals=function(t){if(!O.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||O.compare(this,t)===0},O.prototype.inspect=function(){var t="",e=At.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},_c&&(O.prototype[_c]=O.prototype.inspect),O.prototype.compare=function(t,e,r,i,n){if(St(t,Uint8Array)&&(t=O.from(t,t.offset,t.byteLength)),!O.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),i===void 0&&(i=0),n===void 0&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return -1;if(e>=r)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(i,n),c=t.slice(e,r),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},O.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},O.prototype.indexOf=function(t,e,r){return vc(this,t,e,r,!0)},O.prototype.lastIndexOf=function(t,e,r){return vc(this,t,e,r,!1)},O.prototype.write=function(t,e,r,i){if(e===void 0)i="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")i=e,r=this.length,e=0;else {if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,i===void 0&&(i="utf8")):(i=r,r=void 0);}var n=this.length-e;if((r===void 0||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return ww(this,t,e,r);case"utf8":case"utf-8":return _w(this,t,e,r);case"ascii":return kc(this,t,e,r);case"latin1":case"binary":return mw(this,t,e,r);case"base64":return vw(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ew(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0;}},O.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};O.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var i=this.subarray(t,e);return Object.setPrototypeOf(i,O.prototype),i},O.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},O.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},O.prototype.readUInt8=function(t,e){return t>>>=0,e||we(t,1,this.length),this[t]},O.prototype.readUInt16LE=function(t,e){return t>>>=0,e||we(t,2,this.length),this[t]|this[t+1]<<8},O.prototype.readUInt16BE=function(t,e){return t>>>=0,e||we(t,2,this.length),this[t]<<8|this[t+1]},O.prototype.readUInt32LE=function(t,e){return t>>>=0,e||we(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},O.prototype.readUInt32BE=function(t,e){return t>>>=0,e||we(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},O.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},O.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||we(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},O.prototype.readInt8=function(t,e){return t>>>=0,e||we(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},O.prototype.readInt16LE=function(t,e){t>>>=0,e||we(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},O.prototype.readInt16BE=function(t,e){t>>>=0,e||we(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},O.prototype.readInt32LE=function(t,e){return t>>>=0,e||we(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},O.prototype.readInt32BE=function(t,e){return t>>>=0,e||we(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},O.prototype.readFloatLE=function(t,e){return t>>>=0,e||we(t,4,this.length),Dr.read(this,t,!0,23,4)},O.prototype.readFloatBE=function(t,e){return t>>>=0,e||we(t,4,this.length),Dr.read(this,t,!1,23,4)},O.prototype.readDoubleLE=function(t,e){return t>>>=0,e||we(t,8,this.length),Dr.read(this,t,!0,52,8)},O.prototype.readDoubleBE=function(t,e){return t>>>=0,e||we(t,8,this.length),Dr.read(this,t,!1,52,8)},O.prototype.writeUIntLE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||Pe(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},O.prototype.writeUIntBE=function(t,e,r,i){t=+t,e>>>=0,r>>>=0,i||Pe(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+r},O.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,1,255,0),this[e]=255&t,e+1},O.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},O.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},O.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},O.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},O.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);Pe(this,t,e,r,n-1,-n);}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&a===0&&this[e+o-1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},O.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){var n=Math.pow(2,8*r-1);Pe(this,t,e,r,n-1,-n);}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&a===0&&this[e+o+1]!==0&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},O.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},O.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},O.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},O.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},O.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||Pe(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},O.prototype.writeFloatLE=function(t,e,r){return Sc(this,t,e,!0,r)},O.prototype.writeFloatBE=function(t,e,r){return Sc(this,t,e,!1,r)},O.prototype.writeDoubleLE=function(t,e,r){return Ac(this,t,e,!0,r)},O.prototype.writeDoubleBE=function(t,e,r){return Ac(this,t,e,!1,r)},O.prototype.copy=function(t,e,r,i){if(!O.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||i===0||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n=i-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,i);else if(this===t&&r<e&&e<i)for(var o=n-1;o>=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),e);return n},O.prototype.fill=function(t,e,r,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!O.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){var n=t.charCodeAt(0);(i==="utf8"&&n<128||i==="latin1")&&(t=n);}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(o=e;o<r;++o)this[o]=t;else {var s=O.isBuffer(t)?t:O.from(t,i),a=s.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a];}return this};Cw=/[^+/0-9A-Za-z-_]/g;Bw=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,i=0;i<16;++i)t[r+i]="0123456789abcdef"[e]+"0123456789abcdef"[i];return t}();At.Buffer;At.INSPECT_MAX_BYTES;At.kMaxLength;un={},fn=At,it=fn.Buffer;it.from&&it.alloc&&it.allocUnsafe&&it.allocUnsafeSlow?un=fn:(Ic(fn,un),un.Buffer=lr),lr.prototype=Object.create(it.prototype),Ic(it,lr),lr.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return it(t,e,r)},lr.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=it(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i},lr.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return it(t)},lr.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return fn.SlowBuffer(t)};Pw=un,ur={},Qs=Pw.Buffer,Tc=Qs.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return !0;default:return !1}};ur.StringDecoder=pi,pi.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},pi.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e},pi.prototype.text=function(t,e){var r=function(n,o,s){var a=o.length-1;if(a<s)return 0;var l=Vs(o[a]);return l>=0?(l>0&&(n.lastNeed=l-1),l):--a<s||l===-2?0:(l=Vs(o[a]))>=0?(l>0&&(n.lastNeed=l-2),l):--a<s||l===-2?0:(l=Vs(o[a]))>=0?(l>0&&(l===2?l=0:n.lastNeed=l-3),l):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},pi.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};ur.StringDecoder;ur.StringDecoder;});var Lc={};Jt(Lc,{StringDecoder:()=>qw,default:()=>ur});var qw,Uc=_e(()=>{_();v();m();Xs();Xs();qw=ur.StringDecoder;});var Zs=M((H2,jc)=>{_();v();m();var Nc=Nt(),{PromisePrototypeThen:Dw,SymbolAsyncIterator:qc,SymbolIterator:Dc}=ce(),{Buffer:jw}=(be(),X(me)),{ERR_INVALID_ARG_TYPE:Fw,ERR_STREAM_NULL_VALUES:Ww}=Ae().codes;function $w(t,e,r){let i;if(typeof e=="string"||e instanceof jw)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null);}});let n;if(e&&e[qc])n=!0,i=e[qc]();else if(e&&e[Dc])n=!1,i=e[Dc]();else throw new Fw("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,l());},o._destroy=function(c,h){Dw(a(c),()=>Nc.nextTick(h,c),d=>Nc.nextTick(h,d||c));};async function a(c){let h=c!=null,d=typeof i.throw=="function";if(h&&d){let{value:g,done:y}=await i.throw(c);if(await g,y)return}if(typeof i.return=="function"){let{value:g}=await i.return();await g;}}async function l(){for(;;){try{let{value:c,done:h}=n?await i.next():i.next();if(h)o.push(null);else {let d=c&&typeof c.then=="function"?await c:c;if(d===null)throw s=!1,new Ww;if(o.push(d))continue;s=!1;}}catch(c){o.destroy(c);}break}}return o}jc.exports=$w;});var gi=M((eR,Zc)=>{_();v();m();var He=Nt(),{ArrayPrototypeIndexOf:Hw,NumberIsInteger:Vw,NumberIsNaN:zw,NumberParseInt:Kw,ObjectDefineProperties:$c,ObjectKeys:Gw,ObjectSetPrototypeOf:Hc,Promise:Qw,SafeSet:Yw,SymbolAsyncIterator:Jw,Symbol:Xw}=ce();Zc.exports=F;F.ReadableState=so;var{EventEmitter:Zw}=(sr(),X(nr)),{Stream:Dt,prependListener:e_}=nn(),{Buffer:eo}=(be(),X(me)),{addAbortSignal:t_}=di(),r_=vt(),H=Je().debuglog("stream",t=>{H=t;}),i_=dc(),Fr=ir(),{getHighWaterMark:n_,getDefaultHighWaterMark:s_}=an(),{aggregateTwoErrors:Fc,codes:{ERR_INVALID_ARG_TYPE:o_,ERR_METHOD_NOT_IMPLEMENTED:a_,ERR_OUT_OF_RANGE:l_,ERR_STREAM_PUSH_AFTER_EOF:u_,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f_}}=Ae(),{validateObject:c_}=hi(),fr=Xw("kPaused"),{StringDecoder:Vc}=(Uc(),X(Lc)),h_=Zs();Hc(F.prototype,Dt.prototype);Hc(F,Dt);var to=()=>{},{errorOrDestroy:jr}=Fr;function so(t,e,r){typeof r!="boolean"&&(r=e instanceof nt()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?n_(this,t,"readableHighWaterMark",r):s_(!1),this.buffer=new i_,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[fr]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Vc(t.encoding),this.encoding=t.encoding);}function F(t){if(!(this instanceof F))return new F(t);let e=this instanceof nt();this._readableState=new so(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&t_(t.signal,this)),Dt.call(this,t),Fr.construct(this,()=>{this._readableState.needReadable&&hn(this,this._readableState);});}F.prototype.destroy=Fr.destroy;F.prototype._undestroy=Fr.undestroy;F.prototype._destroy=function(t,e){e(t);};F.prototype[Zw.captureRejectionSymbol]=function(t){this.destroy(t);};F.prototype.push=function(t,e){return zc(this,t,e,!1)};F.prototype.unshift=function(t,e){return zc(this,t,e,!0)};function zc(t,e,r,i){H("readableAddChunk",e);let n=t._readableState,o;if(n.objectMode||(typeof e=="string"?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=eo.from(e,r).toString(n.encoding):(e=eo.from(e,r),r=""))):e instanceof eo?r="":Dt._isUint8Array(e)?(e=Dt._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new o_("chunk",["string","Buffer","Uint8Array"],e))),o)jr(t,o);else if(e===null)n.reading=!1,g_(t,n);else if(n.objectMode||e&&e.length>0)if(i)if(n.endEmitted)jr(t,new f_);else {if(n.destroyed||n.errored)return !1;ro(t,n,e,!0);}else if(n.ended)jr(t,new u_);else {if(n.destroyed||n.errored)return !1;n.reading=!1,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||e.length!==0?ro(t,n,e,!1):hn(t,n)):ro(t,n,e,!1);}else i||(n.reading=!1,hn(t,n));return !n.ended&&(n.length<n.highWaterMark||n.length===0)}function ro(t,e,r,i){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&dn(t)),hn(t,e);}F.prototype.isPaused=function(){let t=this._readableState;return t[fr]===!0||t.flowing===!1};F.prototype.setEncoding=function(t){let e=new Vc(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let n of r)i+=e.write(n);return r.clear(),i!==""&&r.push(i),this._readableState.length=i.length,this};var d_=1073741824;function p_(t){if(t>d_)throw new l_("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function Wc(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:zw(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}F.prototype.read=function(t){H("read",t),t===void 0?t=NaN:Vw(t)||(t=Kw(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=p_(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return H("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?io(this):dn(this),null;if(t=Wc(t,e),t===0&&e.ended)return e.length===0&&io(this),null;let i=e.needReadable;if(H("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,H("length less than watermark",i)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)i=!1,H("reading, ended or constructing",i);else if(i){H("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark);}catch(o){jr(this,o);}e.sync=!1,e.reading||(t=Wc(r,e));}let n;return t>0?n=Jc(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&io(this)),n!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",n)),n};function g_(t,e){if(H("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length);}e.ended=!0,e.sync?dn(t):(e.needReadable=!1,e.emittedReadable=!0,Kc(t));}}function dn(t){let e=t._readableState;H("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(H("emitReadable",e.flowing),e.emittedReadable=!0,He.nextTick(Kc,t));}function Kc(t){let e=t._readableState;H("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Qc(t);}function hn(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,He.nextTick(y_,t,e));}function y_(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(H("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1;}F.prototype._read=function(t){throw new a_("_read()")};F.prototype.pipe=function(t,e){let r=this,i=this._readableState;i.pipes.length===1&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new Yw(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(t),H("pipe count=%d opts=%j",i.pipes.length,e);let o=(!e||e.end!==!1)&&t!==He.stdout&&t!==He.stderr?a:E;i.endEmitted?He.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(I,C){H("onunpipe"),I===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,h());}function a(){H("onend"),t.end();}let l,c=!1;function h(){H("cleanup"),t.removeListener("close",w),t.removeListener("finish",S),l&&t.removeListener("drain",l),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",g),c=!0,l&&i.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l();}function d(){c||(i.pipes.length===1&&i.pipes[0]===t?(H("false write response, pause",0),i.awaitDrainWriters=t,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(t)&&(H("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(t)),r.pause()),l||(l=b_(r,t),t.on("drain",l));}r.on("data",g);function g(I){H("ondata");let C=t.write(I);H("dest.write",C),C===!1&&d();}function y(I){if(H("onerror",I),E(),t.removeListener("error",y),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?jr(t,I):t.emit("error",I);}}e_(t,"error",y);function w(){t.removeListener("finish",S),E();}t.once("close",w);function S(){H("onfinish"),t.removeListener("close",w),E();}t.once("finish",S);function E(){H("unpipe"),r.unpipe(t);}return t.emit("pipe",r),t.writableNeedDrain===!0?i.flowing&&d():i.flowing||(H("pipe resume"),r.resume()),t};function b_(t,e){return function(){let i=t._readableState;i.awaitDrainWriters===e?(H("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(H("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume();}}F.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let n=e.pipes;e.pipes=[],this.pause();for(let o=0;o<n.length;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}let i=Hw(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};F.prototype.on=function(t,e){let r=Dt.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,H("on readable",i.length,i.reading),i.length?dn(this):i.reading||He.nextTick(w_,this)),r};F.prototype.addListener=F.prototype.on;F.prototype.removeListener=function(t,e){let r=Dt.prototype.removeListener.call(this,t,e);return t==="readable"&&He.nextTick(Gc,this),r};F.prototype.off=F.prototype.removeListener;F.prototype.removeAllListeners=function(t){let e=Dt.prototype.removeAllListeners.apply(this,arguments);return (t==="readable"||t===void 0)&&He.nextTick(Gc,this),e};function Gc(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[fr]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null);}function w_(t){H("readable nexttick read 0"),t.read(0);}F.prototype.resume=function(){let t=this._readableState;return t.flowing||(H("resume"),t.flowing=!t.readableListening,__(this,t)),t[fr]=!1,this};function __(t,e){e.resumeScheduled||(e.resumeScheduled=!0,He.nextTick(m_,t,e));}function m_(t,e){H("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Qc(t),e.flowing&&!e.reading&&t.read(0);}F.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[fr]=!0,this};function Qc(t){let e=t._readableState;for(H("flow",e.flowing);e.flowing&&t.read()!==null;);}F.prototype.wrap=function(t){let e=!1;t.on("data",i=>{!this.push(i)&&t.pause&&(e=!0,t.pause());}),t.on("end",()=>{this.push(null);}),t.on("error",i=>{jr(this,i);}),t.on("close",()=>{this.destroy();}),t.on("destroy",()=>{this.destroy();}),this._read=()=>{e&&t.resume&&(e=!1,t.resume());};let r=Gw(t);for(let i=1;i<r.length;i++){let n=r[i];this[n]===void 0&&typeof t[n]=="function"&&(this[n]=t[n].bind(t));}return this};F.prototype[Jw]=function(){return Yc(this)};F.prototype.iterator=function(t){return t!==void 0&&c_(t,"options"),Yc(this,t)};function Yc(t,e){typeof t.read!="function"&&(t=F.wrap(t,{objectMode:!0}));let r=v_(t,e);return r.stream=t,r}async function*v_(t,e){let r=to;function i(s){this===t?(r(),r=to):r=s;}t.on("readable",i);let n,o=r_(t,{writable:!1},s=>{n=s?Fc(n,s):null,r(),r=to;});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else {if(n)throw n;if(n===null)return;await new Qw(i);}}}catch(s){throw n=Fc(n,s),n}finally{(n||e?.destroyOnReturn!==!1)&&(n===void 0||t._readableState.autoDestroy)?Fr.destroyer(t,null):(t.off("readable",i),o());}}$c(F.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return !!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t);}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return !!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t);}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t);}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});$c(so.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[fr]!==!1},set(t){this[fr]=!!t;}}});F._fromList=Jc;function Jc(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function io(t){let e=t._readableState;H("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,He.nextTick(E_,e,t));}function E_(t,e){if(H("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)He.nextTick(S_,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy();}}}function S_(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end();}F.from=function(t,e){return h_(F,t,e)};var no;function Xc(){return no===void 0&&(no={}),no}F.fromWeb=function(t,e){return Xc().newStreamReadableFromReadableStream(t,e)};F.toWeb=function(t,e){return Xc().newReadableStreamFromStreamReadable(t,e)};F.wrap=function(t,e){var r,i;return new F({objectMode:(r=(i=t.readableObjectMode)!==null&&i!==void 0?i:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(n,o){Fr.destroyer(t,n),o(n);}}).wrap(t)};});var ho=M((fR,ch)=>{_();v();m();var cr=Nt(),{ArrayPrototypeSlice:rh,Error:A_,FunctionPrototypeSymbolHasInstance:ih,ObjectDefineProperty:nh,ObjectDefineProperties:I_,ObjectSetPrototypeOf:sh,StringPrototypeToLowerCase:T_,Symbol:R_,SymbolHasInstance:C_}=ce();ch.exports=ie;ie.WritableState=wi;var{EventEmitter:B_}=(sr(),X(nr)),yi=nn().Stream,{Buffer:pn}=(be(),X(me)),bn=ir(),{addAbortSignal:P_}=di(),{getHighWaterMark:k_,getDefaultHighWaterMark:O_}=an(),{ERR_INVALID_ARG_TYPE:x_,ERR_METHOD_NOT_IMPLEMENTED:M_,ERR_MULTIPLE_CALLBACK:oh,ERR_STREAM_CANNOT_PIPE:L_,ERR_STREAM_DESTROYED:bi,ERR_STREAM_ALREADY_FINISHED:U_,ERR_STREAM_NULL_VALUES:N_,ERR_STREAM_WRITE_AFTER_END:q_,ERR_UNKNOWN_ENCODING:ah}=Ae().codes,{errorOrDestroy:Wr}=bn;sh(ie.prototype,yi.prototype);sh(ie,yi);function lo(){}var $r=R_("kOnFinished");function wi(t,e,r){typeof r!="boolean"&&(r=e instanceof nt()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?k_(this,t,"writableHighWaterMark",r):O_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(t&&t.decodeStrings===!1);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j_.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,yn(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[$r]=[];}function yn(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0;}wi.prototype.getBuffer=function(){return rh(this.buffered,this.bufferedIndex)};nh(wi.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(t){let e=this instanceof nt();if(!e&&!ih(ie,this))return new ie(t);this._writableState=new wi(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&P_(t.signal,this)),yi.call(this,t),bn.construct(this,()=>{let r=this._writableState;r.writing||fo(this,r),co(this,r);});}nh(ie,C_,{__proto__:null,value:function(t){return ih(this,t)?!0:this!==ie?!1:t&&t._writableState instanceof wi}});ie.prototype.pipe=function(){Wr(this,new L_);};function lh(t,e,r,i){let n=t._writableState;if(typeof r=="function")i=r,r=n.defaultEncoding;else {if(!r)r=n.defaultEncoding;else if(r!=="buffer"&&!pn.isEncoding(r))throw new ah(r);typeof i!="function"&&(i=lo);}if(e===null)throw new N_;if(!n.objectMode)if(typeof e=="string")n.decodeStrings!==!1&&(e=pn.from(e,r),r="buffer");else if(e instanceof pn)r="buffer";else if(yi._isUint8Array(e))e=yi._uint8ArrayToBuffer(e),r="buffer";else throw new x_("chunk",["string","Buffer","Uint8Array"],e);let o;return n.ending?o=new q_:n.destroyed&&(o=new bi("write")),o?(cr.nextTick(i,o),Wr(t,o,!0),o):(n.pendingcb++,D_(t,n,e,r,i))}ie.prototype.write=function(t,e,r){return lh(this,t,e,r)===!0};ie.prototype.cork=function(){this._writableState.corked++;};ie.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||fo(this,t));};ie.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=T_(e)),!pn.isEncoding(e))throw new ah(e);return this._writableState.defaultEncoding=e,this};function D_(t,e,r,i,n){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&i!=="buffer"&&(e.allBuffers=!1),e.allNoop&&n!==lo&&(e.allNoop=!1)):(e.writelen=o,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function eh(t,e,r,i,n,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new bi("write")):r?t._writev(n,e.onwrite):t._write(n,o,e.onwrite),e.sync=!1;}function th(t,e,r,i){--e.pendingcb,i(r),uo(e),Wr(t,r);}function j_(t,e){let r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function"){Wr(t,new oh);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),i?cr.nextTick(th,t,r,e,n):th(t,r,e,n)):(r.buffered.length>r.bufferedIndex&&fo(t,r),i?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===n?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:n,stream:t,state:r},cr.nextTick(F_,r.afterWriteTickInfo)):uh(t,r,1,n));}function F_({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,uh(t,e,r,i)}function uh(t,e,r,i){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&uo(e),co(t,e);}function uo(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;let{chunk:o,callback:s}=t.buffered[n],a=t.objectMode?1:o.length;t.length-=a,s((e=t.errored)!==null&&e!==void 0?e:new bi("write"));}let r=t[$r].splice(0);for(let n=0;n<r.length;n++){var i;r[n]((i=t.errored)!==null&&i!==void 0?i:new bi("end"));}yn(t);}function fo(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:n}=e,o=r.length-i;if(!o)return;let s=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let a=e.allNoop?lo:c=>{for(let h=s;h<r.length;++h)r[h].callback(c);},l=e.allNoop&&s===0?r:rh(r,s);l.allBuffers=e.allBuffers,eh(t,e,!0,e.length,l,"",a),yn(e);}else {do{let{chunk:a,encoding:l,callback:c}=r[s];r[s++]=null;let h=n?1:a.length;eh(t,e,!1,h,a,l,c);}while(s<r.length&&!e.writing);s===r.length?yn(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s;}e.bufferProcessing=!1;}ie.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new M_("_write()")};ie.prototype._writev=null;ie.prototype.end=function(t,e,r){let i=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let n;if(t!=null){let o=lh(this,t,e);o instanceof A_&&(n=o);}return i.corked&&(i.corked=1,this.uncork()),n||(!i.errored&&!i.ending?(i.ending=!0,co(this,i,!0),i.ended=!0):i.finished?n=new U_("end"):i.destroyed&&(n=new bi("end"))),typeof r=="function"&&(n||i.finished?cr.nextTick(r,n):i[$r].push(r)),this};function gn(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function W_(t,e){let r=!1;function i(n){if(r){Wr(t,n??oh());return}if(r=!0,e.pendingcb--,n){let o=e[$r].splice(0);for(let s=0;s<o.length;s++)o[s](n);Wr(t,n,e.sync);}else gn(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,cr.nextTick(ao,t,e));}e.sync=!0,e.pendingcb++;try{t._final(i);}catch(n){i(n);}e.sync=!1;}function $_(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,W_(t,e)):(e.prefinished=!0,t.emit("prefinish")));}function co(t,e,r){gn(e)&&($_(t,e),e.pendingcb===0&&(r?(e.pendingcb++,cr.nextTick((i,n)=>{gn(n)?ao(i,n):n.pendingcb--;},t,e)):gn(e)&&(e.pendingcb++,ao(t,e))));}function ao(t,e){e.pendingcb--,e.finished=!0;let r=e[$r].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){let i=t._readableState;(!i||i.autoDestroy&&(i.endEmitted||i.readable===!1))&&t.destroy();}}I_(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t);}},writable:{__proto__:null,get(){let t=this._writableState;return !!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t);}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return !!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var H_=bn.destroy;ie.prototype.destroy=function(t,e){let r=this._writableState;return !r.destroyed&&(r.bufferedIndex<r.buffered.length||r[$r].length)&&cr.nextTick(uo,r),H_.call(this,t,e),this};ie.prototype._undestroy=bn.undestroy;ie.prototype._destroy=function(t,e){e(t);};ie.prototype[B_.captureRejectionSymbol]=function(t){this.destroy(t);};var oo;function fh(){return oo===void 0&&(oo={}),oo}ie.fromWeb=function(t,e){return fh().newStreamWritableFromWritableStream(t,e)};ie.toWeb=function(t){return fh().newWritableStreamFromStreamWritable(t)};});var Sh=M((mR,Eh)=>{_();v();m();var po=Nt(),V_=(be(),X(me)),{isReadable:z_,isWritable:K_,isIterable:hh,isNodeStream:G_,isReadableNodeStream:dh,isWritableNodeStream:ph,isDuplexNodeStream:Q_}=tt(),gh=vt(),{AbortError:vh,codes:{ERR_INVALID_ARG_TYPE:Y_,ERR_INVALID_RETURN_VALUE:yh}}=Ae(),{destroyer:Hr}=ir(),J_=nt(),X_=gi(),{createDeferredPromise:bh}=Je(),wh=Zs(),_h=globalThis.Blob||V_.Blob,Z_=typeof _h<"u"?function(e){return e instanceof _h}:function(e){return !1},e0=globalThis.AbortController||zi().AbortController,{FunctionPrototypeCall:mh}=ce(),hr=class extends J_{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0);}};Eh.exports=function t(e,r){if(Q_(e))return e;if(dh(e))return wn({readable:e});if(ph(e))return wn({writable:e});if(G_(e))return wn({writable:!1,readable:!1});if(typeof e=="function"){let{value:n,write:o,final:s,destroy:a}=t0(e);if(hh(n))return wh(hr,n,{objectMode:!0,write:o,final:s,destroy:a});let l=n?.then;if(typeof l=="function"){let c,h=mh(l,n,d=>{if(d!=null)throw new yh("nully","body",d)},d=>{Hr(c,d);});return c=new hr({objectMode:!0,readable:!1,write:o,final(d){s(async()=>{try{await h,po.nextTick(d,null);}catch(g){po.nextTick(d,g);}});},destroy:a})}throw new yh("Iterable, AsyncIterable or AsyncFunction",r,n)}if(Z_(e))return t(e.arrayBuffer());if(hh(e))return wh(hr,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let n=e!=null&&e.readable?dh(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?ph(e?.writable)?e?.writable:t(e.writable):void 0;return wn({readable:n,writable:o})}let i=e?.then;if(typeof i=="function"){let n;return mh(i,e,o=>{o!=null&&n.push(o),n.push(null);},o=>{Hr(n,o);}),n=new hr({objectMode:!0,writable:!1,read(){}})}throw new Y_(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function t0(t){let{promise:e,resolve:r}=bh(),i=new e0,n=i.signal;return {value:t(async function*(){for(;;){let s=e;e=null;let{chunk:a,done:l,cb:c}=await s;if(po.nextTick(c),l)return;if(n.aborted)throw new vh(void 0,{cause:n.reason});((({promise:e,resolve:r}=bh()))),yield a;}}(),{signal:n}),write(s,a,l){let c=r;r=null,c({chunk:s,done:!1,cb:l});},final(s){let a=r;r=null,a({done:!0,cb:s});},destroy(s,a){i.abort(),a(s);}}}function wn(t){let e=t.readable&&typeof t.readable.read!="function"?X_.wrap(t.readable):t.readable,r=t.writable,i=!!z_(e),n=!!K_(r),o,s,a,l,c;function h(d){let g=l;l=null,g?g(d):d&&c.destroy(d);}return c=new hr({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:i,writable:n}),n&&(gh(r,d=>{n=!1,d&&Hr(e,d),h(d);}),c._write=function(d,g,y){r.write(d,g)?y():o=y;},c._final=function(d){r.end(),s=d;},r.on("drain",function(){if(o){let d=o;o=null,d();}}),r.on("finish",function(){if(s){let d=s;s=null,d();}})),i&&(gh(e,d=>{i=!1,d&&Hr(e,d),h(d);}),e.on("readable",function(){if(a){let d=a;a=null,d();}}),e.on("end",function(){c.push(null);}),c._read=function(){for(;;){let d=e.read();if(d===null){a=c._read;return}if(!c.push(d))return}}),c._destroy=function(d,g){!d&&l!==null&&(d=new vh),a=null,o=null,s=null,l===null?g(d):(l=g,Hr(r,d),Hr(e,d));},c}});var nt=M((PR,Th)=>{_();v();m();var{ObjectDefineProperties:r0,ObjectGetOwnPropertyDescriptor:It,ObjectKeys:i0,ObjectSetPrototypeOf:Ah}=ce();Th.exports=Ve;var bo=gi(),Ne=ho();Ah(Ve.prototype,bo.prototype);Ah(Ve,bo);{let t=i0(Ne.prototype);for(let e=0;e<t.length;e++){let r=t[e];Ve.prototype[r]||(Ve.prototype[r]=Ne.prototype[r]);}}function Ve(t){if(!(this instanceof Ve))return new Ve(t);bo.call(this,t),Ne.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0;}r0(Ve.prototype,{writable:{__proto__:null,...It(Ne.prototype,"writable")},writableHighWaterMark:{__proto__:null,...It(Ne.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...It(Ne.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...It(Ne.prototype,"writableBuffer")},writableLength:{__proto__:null,...It(Ne.prototype,"writableLength")},writableFinished:{__proto__:null,...It(Ne.prototype,"writableFinished")},writableCorked:{__proto__:null,...It(Ne.prototype,"writableCorked")},writableEnded:{__proto__:null,...It(Ne.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...It(Ne.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t);}}});var go;function Ih(){return go===void 0&&(go={}),go}Ve.fromWeb=function(t,e){return Ih().newStreamDuplexFromReadableWritablePair(t,e)};Ve.toWeb=function(t){return Ih().newReadableWritablePairFromDuplex(t)};var yo;Ve.from=function(t){return yo||(yo=Sh()),yo(t,"body")};});var mo=M((jR,Ch)=>{_();v();m();var{ObjectSetPrototypeOf:Rh,Symbol:n0}=ce();Ch.exports=Tt;var{ERR_METHOD_NOT_IMPLEMENTED:s0}=Ae().codes,_o=nt(),{getHighWaterMark:o0}=an();Rh(Tt.prototype,_o.prototype);Rh(Tt,_o);var _i=n0("kCallback");function Tt(t){if(!(this instanceof Tt))return new Tt(t);let e=t?o0(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),_o.call(this,t),this._readableState.sync=!1,this[_i]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",a0);}function wo(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t();}):(this.push(null),t&&t());}function a0(){this._final!==wo&&wo.call(this);}Tt.prototype._final=wo;Tt.prototype._transform=function(t,e,r){throw new s0("_transform()")};Tt.prototype._write=function(t,e,r){let i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,(s,a)=>{if(s){r(s);return}a!=null&&this.push(a),n.ended||o===i.length||i.length<i.highWaterMark?r():this[_i]=r;});};Tt.prototype._read=function(){if(this[_i]){let t=this[_i];this[_i]=null,t();}};});var Eo=M((YR,Ph)=>{_();v();m();var{ObjectSetPrototypeOf:Bh}=ce();Ph.exports=Vr;var vo=mo();Bh(Vr.prototype,vo.prototype);Bh(Vr,vo);function Vr(t){if(!(this instanceof Vr))return new Vr(t);vo.call(this,t);}Vr.prototype._transform=function(t,e,r){r(null,t);};});var En=M((oC,Lh)=>{_();v();m();var mi=Nt(),{ArrayIsArray:l0,Promise:u0,SymbolAsyncIterator:f0}=ce(),vn=vt(),{once:c0}=Je(),h0=ir(),kh=nt(),{aggregateTwoErrors:d0,codes:{ERR_INVALID_ARG_TYPE:Po,ERR_INVALID_RETURN_VALUE:So,ERR_MISSING_ARGS:p0,ERR_STREAM_DESTROYED:g0,ERR_STREAM_PREMATURE_CLOSE:y0},AbortError:b0}=Ae(),{validateFunction:w0,validateAbortSignal:_0}=hi(),{isIterable:dr,isReadable:Ao,isReadableNodeStream:mn,isNodeStream:Oh,isTransformStream:zr,isWebStream:m0,isReadableStream:Io,isReadableEnded:v0}=tt(),E0=globalThis.AbortController||zi().AbortController,To,Ro;function xh(t,e,r){let i=!1;t.on("close",()=>{i=!0;});let n=vn(t,{readable:e,writable:r},o=>{i=!o;});return {destroy:o=>{i||(i=!0,h0.destroyer(t,o||new g0("pipe")));},cleanup:n}}function S0(t){return w0(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Co(t){if(dr(t))return t;if(mn(t))return A0(t);throw new Po("val",["Readable","Iterable","AsyncIterable"],t)}async function*A0(t){Ro||(Ro=gi()),yield*Ro.prototype[f0].call(t);}async function _n(t,e,r,{end:i}){let n,o=null,s=c=>{if(c&&(n=c),o){let h=o;o=null,h();}},a=()=>new u0((c,h)=>{n?h(n):o=()=>{n?h(n):c();};});e.on("drain",s);let l=vn(e,{readable:!1},s);try{e.writableNeedDrain&&await a();for await(let c of t)e.write(c)||await a();i&&e.end(),await a(),r();}catch(c){r(n!==c?d0(n,c):c);}finally{l(),e.off("drain",s);}}async function Bo(t,e,r,{end:i}){zr(e)&&(e=e.writable);let n=e.getWriter();try{for await(let o of t)await n.ready,n.write(o).catch(()=>{});await n.ready,i&&await n.close(),r();}catch(o){try{await n.abort(o),r(o);}catch(s){r(s);}}}function I0(...t){return Mh(t,c0(S0(t)))}function Mh(t,e,r){if(t.length===1&&l0(t[0])&&(t=t[0]),t.length<2)throw new p0("streams");let i=new E0,n=i.signal,o=r?.signal,s=[];_0(o,"options.signal");function a(){y(new b0);}o?.addEventListener("abort",a);let l,c,h=[],d=0;function g(C){y(C,--d===0);}function y(C,R){if(C&&(!l||l.code==="ERR_STREAM_PREMATURE_CLOSE")&&(l=C),!(!l&&!R)){for(;h.length;)h.shift()(l);o?.removeEventListener("abort",a),i.abort(),R&&(l||s.forEach(U=>U()),mi.nextTick(e,l,c));}}let w;for(let C=0;C<t.length;C++){let R=t[C],U=C<t.length-1,N=C>0,W=U||r?.end!==!1,K=C===t.length-1;if(Oh(R)){let z=function(Q){Q&&Q.name!=="AbortError"&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"&&g(Q);};if(W){let{destroy:Q,cleanup:pe}=xh(R,U,N);h.push(Q),Ao(R)&&K&&s.push(pe);}R.on("error",z),Ao(R)&&K&&s.push(()=>{R.removeListener("error",z);});}if(C===0)if(typeof R=="function"){if(w=R({signal:n}),!dr(w))throw new So("Iterable, AsyncIterable or Stream","source",w)}else dr(R)||mn(R)||zr(R)?w=R:w=kh.from(R);else if(typeof R=="function"){if(zr(w)){var S;w=Co((S=w)===null||S===void 0?void 0:S.readable);}else w=Co(w);if(w=R(w,{signal:n}),U){if(!dr(w,!0))throw new So("AsyncIterable",`transform[${C-1}]`,w)}else {var E;To||(To=Eo());let z=new To({objectMode:!0}),Q=(E=w)===null||E===void 0?void 0:E.then;if(typeof Q=="function")d++,Q.call(w,ge=>{c=ge,ge!=null&&z.write(ge),W&&z.end(),mi.nextTick(g);},ge=>{z.destroy(ge),mi.nextTick(g,ge);});else if(dr(w,!0))d++,_n(w,z,g,{end:W});else if(Io(w)||zr(w)){let ge=w.readable||w;d++,_n(ge,z,g,{end:W});}else throw new So("AsyncIterable or Promise","destination",w);w=z;let{destroy:pe,cleanup:Yt}=xh(w,!1,!0);h.push(pe),K&&s.push(Yt);}}else if(Oh(R)){if(mn(w)){d+=2;let z=T0(w,R,g,{end:W});Ao(R)&&K&&s.push(z);}else if(zr(w)||Io(w)){let z=w.readable||w;d++,_n(z,R,g,{end:W});}else if(dr(w))d++,_n(w,R,g,{end:W});else throw new Po("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=R;}else if(m0(R)){if(mn(w))d++,Bo(Co(w),R,g,{end:W});else if(Io(w)||dr(w))d++,Bo(w,R,g,{end:W});else if(zr(w))d++,Bo(w.readable,R,g,{end:W});else throw new Po("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],w);w=R;}else w=kh.from(R);}return (n!=null&&n.aborted||o!=null&&o.aborted)&&mi.nextTick(a),w}function T0(t,e,r,{end:i}){let n=!1;if(e.on("close",()=>{n||r(new y0);}),t.pipe(e,{end:!1}),i){let s=function(){n=!0,e.end();};v0(t)?mi.nextTick(s):t.once("end",s);}else r();return vn(t,{readable:!0,writable:!1},s=>{let a=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(s);}),vn(e,{readable:!1,writable:!0},r)}Lh.exports={pipelineImpl:Mh,pipeline:I0};});var Oo=M((yC,Fh)=>{_();v();m();var{pipeline:R0}=En(),Sn=nt(),{destroyer:C0}=ir(),{isNodeStream:An,isReadable:Uh,isWritable:Nh,isWebStream:ko,isTransformStream:pr,isWritableStream:qh,isReadableStream:Dh}=tt(),{AbortError:B0,codes:{ERR_INVALID_ARG_VALUE:jh,ERR_MISSING_ARGS:P0}}=Ae(),k0=vt();Fh.exports=function(...e){if(e.length===0)throw new P0("streams");if(e.length===1)return Sn.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=Sn.from(e[0])),typeof e[e.length-1]=="function"){let y=e.length-1;e[y]=Sn.from(e[y]);}for(let y=0;y<e.length;++y)if(!(!An(e[y])&&!ko(e[y]))){if(y<e.length-1&&!(Uh(e[y])||Dh(e[y])||pr(e[y])))throw new jh(`streams[${y}]`,r[y],"must be readable");if(y>0&&!(Nh(e[y])||qh(e[y])||pr(e[y])))throw new jh(`streams[${y}]`,r[y],"must be writable")}let i,n,o,s,a;function l(y){let w=s;s=null,w?w(y):y?a.destroy(y):!g&&!d&&a.destroy();}let c=e[0],h=R0(e,l),d=!!(Nh(c)||qh(c)||pr(c)),g=!!(Uh(h)||Dh(h)||pr(h));if(a=new Sn({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(h!=null&&h.writableObjectMode),writable:d,readable:g}),d){if(An(c))a._write=function(w,S,E){c.write(w,S)?E():i=E;},a._final=function(w){c.end(),n=w;},c.on("drain",function(){if(i){let w=i;i=null,w();}});else if(ko(c)){let S=(pr(c)?c.writable:c).getWriter();a._write=async function(E,I,C){try{await S.ready,S.write(E).catch(()=>{}),C();}catch(R){C(R);}},a._final=async function(E){try{await S.ready,S.close().catch(()=>{}),n=E;}catch(I){E(I);}};}let y=pr(h)?h.readable:h;k0(y,()=>{if(n){let w=n;n=null,w();}});}if(g){if(An(h))h.on("readable",function(){if(o){let y=o;o=null,y();}}),h.on("end",function(){a.push(null);}),a._read=function(){for(;;){let y=h.read();if(y===null){o=a._read;return}if(!a.push(y))return}};else if(ko(h)){let w=(pr(h)?h.readable:h).getReader();a._read=async function(){for(;;)try{let{value:S,done:E}=await w.read();if(!a.push(S))return;if(E){a.push(null);return}}catch{return}};}}return a._destroy=function(y,w){!y&&s!==null&&(y=new B0),o=null,i=null,n=null,s===null?w(y):(s=w,An(h)&&C0(h,y));},a};});var Qh=M((TC,Lo)=>{_();v();m();var Vh=globalThis.AbortController||zi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:O0,ERR_INVALID_ARG_TYPE:vi,ERR_MISSING_ARGS:x0,ERR_OUT_OF_RANGE:M0},AbortError:st}=Ae(),{validateAbortSignal:gr,validateInteger:L0,validateObject:yr}=hi(),U0=ce().Symbol("kWeak"),{finished:N0}=vt(),q0=Oo(),{addAbortSignalNoValidate:D0}=di(),{isWritable:j0,isNodeStream:F0}=tt(),{ArrayPrototypePush:W0,MathFloor:$0,Number:H0,NumberIsNaN:V0,Promise:Wh,PromiseReject:$h,PromisePrototypeThen:z0,Symbol:zh}=ce(),In=zh("kEmpty"),Hh=zh("kEof");function K0(t,e){if(e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal"),F0(t)&&!j0(t))throw new O0("stream",t,"must be writable");let r=q0(this,t);return e!=null&&e.signal&&D0(e.signal,r),r}function Tn(t,e){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=$0(e.concurrency)),L0(r,"concurrency",1),async function*(){var n,o;let s=new Vh,a=this,l=[],c=s.signal,h={signal:c},d=()=>s.abort();e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted&&d(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",d);let g,y,w=!1;function S(){w=!0;}async function E(){try{for await(let R of a){var I;if(w)return;if(c.aborted)throw new st;try{R=t(R,h);}catch(U){R=$h(U);}R!==In&&(typeof((I=R)===null||I===void 0?void 0:I.catch)=="function"&&R.catch(S),l.push(R),g&&(g(),g=null),!w&&l.length&&l.length>=r&&await new Wh(U=>{y=U;}));}l.push(Hh);}catch(R){let U=$h(R);z0(U,void 0,S),l.push(U);}finally{var C;w=!0,g&&(g(),g=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",d);}}E();try{for(;;){for(;l.length>0;){let I=await l[0];if(I===Hh)return;if(c.aborted)throw new st;I!==In&&(yield I),l.shift(),y&&(y(),y=null);}await new Wh(I=>{g=I;});}}finally{s.abort(),w=!0,y&&(y(),y=null);}}.call(this)}function G0(t=void 0){return t!=null&&yr(t,"options"),t?.signal!=null&&gr(t.signal,"options.signal"),async function*(){let r=0;for await(let n of this){var i;if(t!=null&&(i=t.signal)!==null&&i!==void 0&&i.aborted)throw new st({cause:t.signal.reason});yield [r++,n];}}.call(this)}async function Kh(t,e=void 0){for await(let r of Mo.call(this,t,e))return !0;return !1}async function Q0(t,e=void 0){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);return !await Kh.call(this,async(...r)=>!await t(...r),e)}async function Y0(t,e){for await(let r of Mo.call(this,t,e))return r}async function J0(t,e){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n),In}for await(let i of Tn.call(this,r,e));}function Mo(t,e){if(typeof t!="function")throw new vi("fn",["Function","AsyncFunction"],t);async function r(i,n){return await t(i,n)?i:In}return Tn.call(this,r,e)}var xo=class extends x0{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value";}};async function X0(t,e,r){var i;if(typeof t!="function")throw new vi("reducer",["Function","AsyncFunction"],t);r!=null&&yr(r,"options"),r?.signal!=null&&gr(r.signal,"options.signal");let n=arguments.length>1;if(r!=null&&(i=r.signal)!==null&&i!==void 0&&i.aborted){let c=new st(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await N0(this.destroy(c)),c}let o=new Vh,s=o.signal;if(r!=null&&r.signal){let c={once:!0,[U0]:this};r.signal.addEventListener("abort",()=>o.abort(),c);}let a=!1;try{for await(let c of this){var l;if(a=!0,r!=null&&(l=r.signal)!==null&&l!==void 0&&l.aborted)throw new st;n?e=await t(e,c,{signal:s}):(e=c,n=!0);}if(!a&&!n)throw new xo}finally{o.abort();}return e}async function Z0(t){t!=null&&yr(t,"options"),t?.signal!=null&&gr(t.signal,"options.signal");let e=[];for await(let i of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new st(void 0,{cause:t.signal.reason});W0(e,i);}return e}function em(t,e){let r=Tn.call(this,t,e);return async function*(){for await(let n of r)yield*n;}.call(this)}function Gh(t){if(t=H0(t),V0(t))return 0;if(t<0)throw new M0("number",">= 0",t);return t}function tm(t,e=void 0){return e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal"),t=Gh(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new st;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new st;t--<=0&&(yield o);}}.call(this)}function rm(t,e=void 0){return e!=null&&yr(e,"options"),e?.signal!=null&&gr(e.signal,"options.signal"),t=Gh(t),async function*(){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new st;for await(let o of this){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new st;if(t-- >0)yield o;else return}}.call(this)}Lo.exports.streamReturningOperators={asIndexedPairs:G0,drop:tm,filter:Mo,flatMap:em,map:Tn,take:rm,compose:K0};Lo.exports.promiseReturningOperators={every:Q0,forEach:J0,reduce:X0,toArray:Z0,some:Kh,find:Y0};});var Uo=M((UC,Yh)=>{_();v();m();var{ArrayPrototypePop:im,Promise:nm}=ce(),{isIterable:sm,isNodeStream:om,isWebStream:am}=tt(),{pipelineImpl:lm}=En(),{finished:um}=vt();No();function fm(...t){return new nm((e,r)=>{let i,n,o=t[t.length-1];if(o&&typeof o=="object"&&!om(o)&&!sm(o)&&!am(o)){let s=im(t);i=s.signal,n=s.end;}lm(t,(s,a)=>{s?r(s):e(a);},{signal:i,end:n});})}Yh.exports={finished:um,pipeline:fm};});var No=M((zC,sd)=>{_();v();m();var{Buffer:cm}=(be(),X(me)),{ObjectDefineProperty:Rt,ObjectKeys:Zh,ReflectApply:ed}=ce(),{promisify:{custom:td}}=Je(),{streamReturningOperators:Jh,promiseReturningOperators:Xh}=Qh(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:rd}}=Ae(),hm=Oo(),{pipeline:id}=En(),{destroyer:dm}=ir(),nd=vt(),qo=Uo(),Do=tt(),le=sd.exports=nn().Stream;le.isDisturbed=Do.isDisturbed;le.isErrored=Do.isErrored;le.isReadable=Do.isReadable;le.Readable=gi();for(let t of Zh(Jh)){let r=function(...i){if(new.target)throw rd();return le.Readable.from(ed(e,this,i))};let e=Jh[t];Rt(r,"name",{__proto__:null,value:e.name}),Rt(r,"length",{__proto__:null,value:e.length}),Rt(le.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0});}for(let t of Zh(Xh)){let r=function(...n){if(new.target)throw rd();return ed(e,this,n)};let e=Xh[t];Rt(r,"name",{__proto__:null,value:e.name}),Rt(r,"length",{__proto__:null,value:e.length}),Rt(le.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0});}le.Writable=ho();le.Duplex=nt();le.Transform=mo();le.PassThrough=Eo();le.pipeline=id;var{addAbortSignal:pm}=di();le.addAbortSignal=pm;le.finished=nd;le.destroy=dm;le.compose=hm;Rt(le,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return qo}});Rt(id,td,{__proto__:null,enumerable:!0,get(){return qo.pipeline}});Rt(nd,td,{__proto__:null,enumerable:!0,get(){return qo.finished}});le.Stream=le;le._isUint8Array=function(e){return e instanceof Uint8Array};le._uint8ArrayToBuffer=function(e){return cm.from(e.buffer,e.byteOffset,e.byteLength)};});var jt=M((rB,ue)=>{_();v();m();var he=No(),gm=Uo(),ym=he.Readable.destroy;ue.exports=he.Readable;ue.exports._uint8ArrayToBuffer=he._uint8ArrayToBuffer;ue.exports._isUint8Array=he._isUint8Array;ue.exports.isDisturbed=he.isDisturbed;ue.exports.isErrored=he.isErrored;ue.exports.isReadable=he.isReadable;ue.exports.Readable=he.Readable;ue.exports.Writable=he.Writable;ue.exports.Duplex=he.Duplex;ue.exports.Transform=he.Transform;ue.exports.PassThrough=he.PassThrough;ue.exports.addAbortSignal=he.addAbortSignal;ue.exports.finished=he.finished;ue.exports.destroy=he.destroy;ue.exports.destroy=ym;ue.exports.pipeline=he.pipeline;ue.exports.compose=he.compose;Object.defineProperty(he,"promises",{configurable:!0,enumerable:!0,get(){return gm}});ue.exports.Stream=he.Stream;ue.exports.default=ue.exports;});var od=M((hB,Fo)=>{_();v();m();typeof Object.create=="function"?Fo.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}));}:Fo.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e;}};});var ud=M((EB,ld)=>{_();v();m();var{Buffer:ze}=(be(),X(me)),ad=Symbol.for("BufferList");function ee(t){if(!(this instanceof ee))return new ee(t);ee._init.call(this,t);}ee._init=function(e){Object.defineProperty(this,ad,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e);};ee.prototype._new=function(e){return new ee(e)};ee.prototype._offset=function(e){if(e===0)return [0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return [i,e-r];r=n;}};ee.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};ee.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};ee.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};ee.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||ze.alloc(0);let o=!!e,s=this._offset(i),a=n-i,l=a,c=o&&r||0,h=s[1];if(i===0&&n===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:ze.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,c),c+=this._bufs[d].length;return e}if(l<=this._bufs[s[0]].length-h)return o?this._bufs[s[0]].copy(e,r,h,h+l):this._bufs[s[0]].slice(h,h+l);o||(e=ze.allocUnsafe(a));for(let d=s[0];d<this._bufs.length;d++){let g=this._bufs[d].length-h;if(l>g)this._bufs[d].copy(e,c,h),c+=g;else {this._bufs[d].copy(e,c,h,h+l),c+=g;break}l-=g,h&&(h=0);}return e.length>c?e.slice(0,c):e};ee.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),o=this._bufs.slice(i[0],n[0]+1);return n[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),i[1]!==0&&(o[0]=o[0].slice(i[1])),this._new(o)};ee.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};ee.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else {this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};ee.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};ee.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(ze.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(ze.from(e));return this};ee.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length;};ee.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=ze.from([t]):typeof t=="string"?t=ze.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=ze.from(t.buffer,t.byteOffset,t.byteLength):ze.isBuffer(t)||(t=ze.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],o=i[1];for(;n<this._bufs.length;n++){let s=this._bufs[n];for(;o<s.length;)if(s.length-o>=t.length){let l=s.indexOf(t,o);if(l!==-1)return this._reverseOffset([n,l]);o=s.length-t.length+1;}else {let l=this._reverseOffset([n,o]);if(this._match(l,t))return l;o++;}o=0;}return -1};ee.prototype._match=function(t,e){if(this.length-t<e.length)return !1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return !1;return !0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?ee.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:ee.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)};})(e);})();ee.prototype._isBufferList=function(e){return e instanceof ee||ee.isBufferList(e)};ee.isBufferList=function(e){return e!=null&&e[ad]};ld.exports=ee;});var fd=M((OB,Rn)=>{_();v();m();var Wo=jt().Duplex,bm=od(),Ei=ud();function Se(t){if(!(this instanceof Se))return new Se(t);if(typeof t=="function"){this._callback=t;let e=function(i){this._callback&&(this._callback(i),this._callback=null);}.bind(this);this.on("pipe",function(i){i.on("error",e);}),this.on("unpipe",function(i){i.removeListener("error",e);}),t=null;}Ei._init.call(this,t),Wo.call(this);}bm(Se,Wo);Object.assign(Se.prototype,Ei.prototype);Se.prototype._new=function(e){return new Se(e)};Se.prototype._write=function(e,r,i){this._appendBuffer(e),typeof i=="function"&&i();};Se.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e);};Se.prototype.end=function(e){Wo.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null);};Se.prototype._destroy=function(e,r){this._bufs.length=0,this.length=0,r(e);};Se.prototype._isBufferList=function(e){return e instanceof Se||e instanceof Ei||Se.isBufferList(e)};Se.isBufferList=Ei.isBufferList;Rn.exports=Se;Rn.exports.BufferListStream=Se;Rn.exports.BufferList=Ei;});var hd=M((WB,cd)=>{_();v();m();var $o=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null;}};cd.exports=$o;});var Ho=M((XB,dd)=>{_();v();m();var L=dd.exports,{Buffer:ke}=(be(),X(me));L.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"};L.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0};L.requiredHeaderFlagsErrors={};for(let t in L.requiredHeaderFlags){let e=L.requiredHeaderFlags[t];L.requiredHeaderFlagsErrors[t]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+L.types[t]+" packet";}L.codes={};for(let t in L.types){let e=L.types[t];L.codes[e]=t;}L.CMD_SHIFT=4;L.CMD_MASK=240;L.DUP_MASK=8;L.QOS_MASK=3;L.QOS_SHIFT=1;L.RETAIN_MASK=1;L.VARBYTEINT_MASK=127;L.VARBYTEINT_FIN_MASK=128;L.VARBYTEINT_MAX=268435455;L.SESSIONPRESENT_MASK=1;L.SESSIONPRESENT_HEADER=ke.from([L.SESSIONPRESENT_MASK]);L.CONNACK_HEADER=ke.from([L.codes.connack<<L.CMD_SHIFT]);L.USERNAME_MASK=128;L.PASSWORD_MASK=64;L.WILL_RETAIN_MASK=32;L.WILL_QOS_MASK=24;L.WILL_QOS_SHIFT=3;L.WILL_FLAG_MASK=4;L.CLEAN_SESSION_MASK=2;L.CONNECT_HEADER=ke.from([L.codes.connect<<L.CMD_SHIFT]);L.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11};L.propertiesCodes={};for(let t in L.properties){let e=L.properties[t];L.propertiesCodes[e]=t;}L.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function Ft(t){return [0,1,2].map(e=>[0,1].map(r=>[0,1].map(i=>{let n=ke.alloc(1);return n.writeUInt8(L.codes[t]<<L.CMD_SHIFT|(r?L.DUP_MASK:0)|e<<L.QOS_SHIFT|i,0,!0),n})))}L.PUBLISH_HEADER=Ft("publish");L.SUBSCRIBE_HEADER=Ft("subscribe");L.SUBSCRIBE_OPTIONS_QOS_MASK=3;L.SUBSCRIBE_OPTIONS_NL_MASK=1;L.SUBSCRIBE_OPTIONS_NL_SHIFT=2;L.SUBSCRIBE_OPTIONS_RAP_MASK=1;L.SUBSCRIBE_OPTIONS_RAP_SHIFT=3;L.SUBSCRIBE_OPTIONS_RH_MASK=3;L.SUBSCRIBE_OPTIONS_RH_SHIFT=4;L.SUBSCRIBE_OPTIONS_RH=[0,16,32];L.SUBSCRIBE_OPTIONS_NL=4;L.SUBSCRIBE_OPTIONS_RAP=8;L.SUBSCRIBE_OPTIONS_QOS=[0,1,2];L.UNSUBSCRIBE_HEADER=Ft("unsubscribe");L.ACKS={unsuback:Ft("unsuback"),puback:Ft("puback"),pubcomp:Ft("pubcomp"),pubrel:Ft("pubrel"),pubrec:Ft("pubrec")};L.SUBACK_HEADER=ke.from([L.codes.suback<<L.CMD_SHIFT]);L.VERSION3=ke.from([3]);L.VERSION4=ke.from([4]);L.VERSION5=ke.from([5]);L.VERSION131=ke.from([131]);L.VERSION132=ke.from([132]);L.QOS=[0,1,2].map(t=>ke.from([t]));L.EMPTY={pingreq:ke.from([L.codes.pingreq<<4,0]),pingresp:ke.from([L.codes.pingresp<<4,0]),disconnect:ke.from([L.codes.disconnect<<4,0])};L.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"};L.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"};L.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};L.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"};L.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};L.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"};});var gd=M((lP,pd)=>{_();v();m();var Kr=1e3,Gr=Kr*60,Qr=Gr*60,br=Qr*24,wm=br*7,_m=br*365.25;pd.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return mm(t);if(r==="number"&&isFinite(t))return e.long?Em(t):vm(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function mm(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*_m;case"weeks":case"week":case"w":return r*wm;case"days":case"day":case"d":return r*br;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Gr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Kr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function vm(t){var e=Math.abs(t);return e>=br?Math.round(t/br)+"d":e>=Qr?Math.round(t/Qr)+"h":e>=Gr?Math.round(t/Gr)+"m":e>=Kr?Math.round(t/Kr)+"s":t+"ms"}function Em(t){var e=Math.abs(t);return e>=br?Cn(t,e,br,"day"):e>=Qr?Cn(t,e,Qr,"hour"):e>=Gr?Cn(t,e,Gr,"minute"):e>=Kr?Cn(t,e,Kr,"second"):t+" ms"}function Cn(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var bd=M((wP,yd)=>{_();v();m();function Sm(t){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=n,r.enabled=s,r.humanize=gd(),r.destroy=c,Object.keys(t).forEach(h=>{r[h]=t[h];}),r.names=[],r.skips=[],r.formatters={};function e(h){let d=0;for(let g=0;g<h.length;g++)d=(d<<5)-d+h.charCodeAt(g),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(h){let d,g=null,y,w;function S(...E){if(!S.enabled)return;let I=S,C=Number(new Date),R=C-(d||C);I.diff=R,I.prev=d,I.curr=C,d=C,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let U=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(W,K)=>{if(W==="%%")return "%";U++;let z=r.formatters[K];if(typeof z=="function"){let Q=E[U];W=z.call(I,Q),E.splice(U,1),U--;}return W}),r.formatArgs.call(I,E),(I.log||r.log).apply(I,E);}return S.namespace=h,S.useColors=r.useColors(),S.color=r.selectColor(h),S.extend=i,S.destroy=r.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,w=r.enabled(h)),w),set:E=>{g=E;}}),typeof r.init=="function"&&r.init(S),S}function i(h,d){let g=r(this.namespace+(typeof d>"u"?":":d)+h);return g.log=this.log,g}function n(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let d,g=(typeof h=="string"?h:"").split(/[\s,]+/),y=g.length;for(d=0;d<y;d++)g[d]&&(h=g[d].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")));}function o(){let h=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),h}function s(h){if(h[h.length-1]==="*")return !0;let d,g;for(d=0,g=r.skips.length;d<g;d++)if(r.skips[d].test(h))return !1;for(d=0,g=r.names.length;d<g;d++)if(r.names[d].test(h))return !0;return !1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function l(h){return h instanceof Error?h.stack||h.message:h}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return r.enable(r.load()),r}yd.exports=Sm;});var ot=M((xe,Bn)=>{_();v();m();xe.formatArgs=Im;xe.save=Tm;xe.load=Rm;xe.useColors=Am;xe.storage=Cm();xe.destroy=(()=>{let t=!1;return ()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));}})();xe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Am(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Im(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Bn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r));}),t.splice(i,0,e);}xe.log=console.debug||console.log||(()=>{});function Tm(t){try{t?xe.storage.setItem("debug",t):xe.storage.removeItem("debug");}catch{}}function Rm(){let t;try{t=xe.storage.getItem("debug");}catch{}return !t&&typeof B<"u"&&"env"in B&&(t=B.env.DEBUG),t}function Cm(){try{return localStorage}catch{}}Bn.exports=bd()(xe);var{formatters:Bm}=Bn.exports;Bm.j=function(t){try{return JSON.stringify(t)}catch(e){return "[UnexpectedJSONParseError]: "+e.message}};});var md=M((NP,_d)=>{_();v();m();var Pm=fd(),{EventEmitter:km}=(sr(),X(nr)),wd=hd(),V=Ho(),D=ot()("mqtt-packet:parser"),Vo=class t extends km{constructor(){super(),this.parser=this.constructor.parser;}static parser(e){return this instanceof t?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new t().parser(e)}_resetState(){D("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new wd,this.error=null,this._list=Pm(),this._stateCounter=0;}parse(e){for(this.error&&this._resetState(),this._list.append(e),D("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,D("parse: state complete. _stateCounter is now: %d",this._stateCounter),D("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return D("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let e=this._list.readUInt8(0),r=e>>V.CMD_SHIFT;this.packet.cmd=V.types[r];let i=e&15,n=V.requiredHeaderFlags[r];return n!=null&&i!==n?this._emitError(new Error(V.requiredHeaderFlagsErrors[r])):(this.packet.retain=(e&V.RETAIN_MASK)!==0,this.packet.qos=e>>V.QOS_SHIFT&V.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(e&V.DUP_MASK)!==0,D("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),D("_parseLength %d",e.value),!!e}_parsePayload(){D("_parsePayload: payload %O",this._list);let e=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"));}e=!0;}return D("_parsePayload complete result: %s",e),e}_parseConnect(){D("_parseConnect");let e,r,i,n,o={},s=this.packet,a=this._parseString();if(a===null)return this._emitError(new Error("Cannot parse protocolId"));if(a!=="MQTT"&&a!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(s.protocolId=a,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(s.protocolVersion=this._list.readUInt8(this._pos),s.protocolVersion>=128&&(s.bridgeMode=!0,s.protocolVersion=s.protocolVersion-128),s.protocolVersion!==3&&s.protocolVersion!==4&&s.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));o.username=this._list.readUInt8(this._pos)&V.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&V.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&V.WILL_FLAG_MASK;let l=!!(this._list.readUInt8(this._pos)&V.WILL_RETAIN_MASK),c=(this._list.readUInt8(this._pos)&V.WILL_QOS_MASK)>>V.WILL_QOS_SHIFT;if(o.will)s.will={},s.will.retain=l,s.will.qos=c;else {if(l)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(c)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(s.clean=(this._list.readUInt8(this._pos)&V.CLEAN_SESSION_MASK)!==0,this._pos++,s.keepalive=this._parseNum(),s.keepalive===-1)return this._emitError(new Error("Packet too short"));if(s.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(s.properties=d);}let h=this._parseString();if(h===null)return this._emitError(new Error("Packet too short"));if(s.clientId=h,D("_parseConnect: packet.clientId: %s",s.clientId),o.will){if(s.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(s.will.properties=d);}if(e=this._parseString(),e===null)return this._emitError(new Error("Cannot parse will topic"));if(s.will.topic=e,D("_parseConnect: packet.will.topic: %s",s.will.topic),r=this._parseBuffer(),r===null)return this._emitError(new Error("Cannot parse will payload"));s.will.payload=r,D("_parseConnect: packet.will.paylaod: %s",s.will.payload);}if(o.username){if(n=this._parseString(),n===null)return this._emitError(new Error("Cannot parse username"));s.username=n,D("_parseConnect: packet.username: %s",s.username);}if(o.password){if(i=this._parseBuffer(),i===null)return this._emitError(new Error("Cannot parse password"));s.password=i;}return this.settings=s,D("_parseConnect: complete"),s}_parseConnack(){D("_parseConnack");let e=this.packet;if(this._list.length<1)return null;let r=this._list.readUInt8(this._pos++);if(r>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(r&V.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else {if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++);}if(e.returnCode===-1||e.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let i=this._parseProperties();Object.getOwnPropertyNames(i).length&&(e.properties=i);}D("_parseConnack: complete");}_parsePublish(){D("_parsePublish");let e=this.packet;if(e.topic=this._parseString(),e.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}e.payload=this._list.slice(this._pos,e.length),D("_parsePublish: payload from buffer list: %o",e.payload);}}_parseSubscribe(){D("_parseSubscribe");let e=this.packet,r,i,n,o,s,a,l;if(e.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(e.properties=c);}if(e.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<e.length;){if(r=this._parseString(),r===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(i=this._parseByte(),this.settings.protocolVersion===5){if(i&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(i&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(n=i&V.SUBSCRIBE_OPTIONS_QOS_MASK,n>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(a=(i>>V.SUBSCRIBE_OPTIONS_NL_SHIFT&V.SUBSCRIBE_OPTIONS_NL_MASK)!==0,s=(i>>V.SUBSCRIBE_OPTIONS_RAP_SHIFT&V.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,o=i>>V.SUBSCRIBE_OPTIONS_RH_SHIFT&V.SUBSCRIBE_OPTIONS_RH_MASK,o>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));l={topic:r,qos:n},this.settings.protocolVersion===5?(l.nl=a,l.rap=s,l.rh=o):this.settings.bridgeMode&&(l.rh=0,l.rap=!0,l.nl=!0),D("_parseSubscribe: push subscription `%s` to subscription",l),e.subscriptions.push(l);}}}_parseSuback(){D("_parseSuback");let e=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}if(e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let r=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!V.MQTT5_SUBACK_CODES[r])return this._emitError(new Error("Invalid suback code"))}else if(r>2&&r!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(r);}}}_parseUnsubscribe(){D("_parseUnsubscribe");let e=this.packet;if(e.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}if(e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){let r=this._parseString();if(r===null)return this._emitError(new Error("Cannot parse topic"));D("_parseUnsubscribe: push topic `%s` to unsubscriptions",r),e.unsubscriptions.push(r);}}}_parseUnsuback(){D("_parseUnsuback");let e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&e.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let r=this._parseProperties();for(Object.getOwnPropertyNames(r).length&&(e.properties=r),e.granted=[];this._pos<this.packet.length;){let i=this._list.readUInt8(this._pos++);if(!V.MQTT5_UNSUBACK_CODES[i])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(i);}}}_parseConfirmation(){D("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let e=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(e.length>2){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!V.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!V.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}D("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode);}else e.reasonCode=0;if(e.length>3){let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}}return !0}_parseDisconnect(){let e=this.packet;if(D("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(e.reasonCode=this._parseByte(),V.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0;let r=this._parseProperties();Object.getOwnPropertyNames(r).length&&(e.properties=r);}return D("_parseDisconnect result: true"),!0}_parseAuth(){D("_parseAuth");let e=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!V.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let r=this._parseProperties();return Object.getOwnPropertyNames(r).length&&(e.properties=r),D("_parseAuth: result: true"),!0}_parseMessageId(){let e=this.packet;return e.messageId=this._parseNum(),e.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(D("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){let r=this._parseNum(),i=r+this._pos;if(r===-1||i>this._list.length||i>this.packet.length)return null;let n=this._list.toString("utf8",this._pos,i);return this._pos+=r,D("_parseString: result: %s",n),n}_parseStringPair(){return D("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let e=this._parseNum(),r=e+this._pos;if(e===-1||r>this._list.length||r>this.packet.length)return null;let i=this._list.slice(this._pos,r);return this._pos+=e,D("_parseBuffer: result: %o",i),i}_parseNum(){if(this._list.length-this._pos<2)return -1;let e=this._list.readUInt16BE(this._pos);return this._pos+=2,D("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return -1;let e=this._list.readUInt32BE(this._pos);return this._pos+=4,D("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){D("_parseVarByteNum");let r=4,i=0,n=1,o=0,s=!1,a,l=this._pos?this._pos:0;for(;i<r&&l+i<this._list.length;){if(a=this._list.readUInt8(l+i++),o+=n*(a&V.VARBYTEINT_MASK),n*=128,!(a&V.VARBYTEINT_FIN_MASK)){s=!0;break}if(this._list.length<=i)break}return !s&&i===r&&this._list.length>=i&&this._emitError(new Error("Invalid variable byte integer")),l&&(this._pos+=i),s?e?s={bytes:i,value:o}:s=o:s=!1,D("_parseVarByteNum: result: %o",s),s}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),D("_parseByte: result: %o",e),e}_parseByType(e){switch(D("_parseByType: type: %s",e),e){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){D("_parseProperties");let e=this._parseVarByteNum(),i=this._pos+e,n={};for(;this._pos<i;){let o=this._parseByte();if(!o)return this._emitError(new Error("Cannot parse property code type")),!1;let s=V.propertiesCodes[o];if(!s)return this._emitError(new Error("Unknown property")),!1;if(s==="userProperties"){n[s]||(n[s]=Object.create(null));let a=this._parseByType(V.propertiesTypes[s]);if(n[s][a.name])if(Array.isArray(n[s][a.name]))n[s][a.name].push(a.value);else {let l=n[s][a.name];n[s][a.name]=[l],n[s][a.name].push(a.value);}else n[s][a.name]=a.value;continue}n[s]?Array.isArray(n[s])?n[s].push(this._parseByType(V.propertiesTypes[s])):(n[s]=[n[s]],n[s].push(this._parseByType(V.propertiesTypes[s]))):n[s]=this._parseByType(V.propertiesTypes[s]);}return n}_newPacket(){return D("_newPacket"),this.packet&&(this._list.consume(this.packet.length),D("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),D("_newPacket: new packet"),this.packet=new wd,this._pos=0,!0}_emitError(e){D("_emitError",e),this.error=e,this.emit("error",e);}};_d.exports=Vo;});var Ad=M((KP,Sd)=>{_();v();m();var{Buffer:Si}=(be(),X(me)),Om=65536,vd={},xm=Si.isBuffer(Si.from([1,2]).subarray(0,1));function Ed(t){let e=Si.allocUnsafe(2);return e.writeUInt8(t>>8,0),e.writeUInt8(t&255,0+1),e}function Mm(){for(let t=0;t<Om;t++)vd[t]=Ed(t);}function Lm(t){let r=0,i=0,n=Si.allocUnsafe(4);do r=t%128|0,t=t/128|0,t>0&&(r=r|128),n.writeUInt8(r,i++);while(t>0&&i<4);return t>0&&(i=0),xm?n.subarray(0,i):n.slice(0,i)}function Um(t){let e=Si.allocUnsafe(4);return e.writeUInt32BE(t,0),e}Sd.exports={cache:vd,generateCache:Mm,generateNumber:Ed,genBufVariableByteInt:Lm,generate4ByteBuffer:Um};});var Id=M((ik,zo)=>{_();v();m();typeof B>"u"||!B.version||B.version.indexOf("v0.")===0||B.version.indexOf("v1.")===0&&B.version.indexOf("v1.8.")!==0?zo.exports={nextTick:Nm}:zo.exports=B;function Nm(t,e,r,i){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,o,s;switch(n){case 0:case 1:return B.nextTick(t);case 2:return B.nextTick(function(){t.call(null,e);});case 3:return B.nextTick(function(){t.call(null,e,r);});case 4:return B.nextTick(function(){t.call(null,e,r,i);});default:for(o=new Array(n-1),s=0;s<o.length;)o[s++]=arguments[s];return B.nextTick(function(){t.apply(null,o);})}}});var Qo=M((dk,xd)=>{_();v();m();var j=Ho(),{Buffer:q}=(be(),X(me)),qm=q.allocUnsafe(0),Dm=q.from([0]),Ai=Ad(),jm=Id().nextTick,qe=ot()("mqtt-packet:writeToStream"),Pn=Ai.cache,Fm=Ai.generateNumber,Wm=Ai.generateCache,Ko=Ai.genBufVariableByteInt,$m=Ai.generate4ByteBuffer,Te=Go,kn=!0;function kd(t,e,r){switch(qe("generate called"),e.cork&&(e.cork(),jm(Hm,e)),kn&&(kn=!1,Wm()),qe("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return Vm(t,e);case"connack":return zm(t,e,r);case"publish":return Km(t,e,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return Gm(t,e,r);case"subscribe":return Qm(t,e,r);case"suback":return Ym(t,e,r);case"unsubscribe":return Jm(t,e,r);case"unsuback":return Xm(t,e,r);case"pingreq":case"pingresp":return Zm(t,e);case"disconnect":return e1(t,e,r);case"auth":return t1(t,e,r);default:return e.destroy(new Error("Unknown command")),!1}}Object.defineProperty(kd,"cacheNumbers",{get(){return Te===Go},set(t){t?((!Pn||Object.keys(Pn).length===0)&&(kn=!0),Te=Go):(kn=!1,Te=r1);}});function Hm(t){t.uncork();}function Vm(t,e,r){let i=t||{},n=i.protocolId||"MQTT",o=i.protocolVersion||4,s=i.will,a=i.clean,l=i.keepalive||0,c=i.clientId||"",h=i.username,d=i.password,g=i.properties;a===void 0&&(a=!0);let y=0;if(!n||typeof n!="string"&&!q.isBuffer(n))return e.destroy(new Error("Invalid protocolId")),!1;if(y+=n.length+2,o!==3&&o!==4&&o!==5)return e.destroy(new Error("Invalid protocol version")),!1;if(y+=1,(typeof c=="string"||q.isBuffer(c))&&(c||o>=4)&&(c||a))y+=q.byteLength(c)+2;else {if(o<4)return e.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(a*1===0)return e.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof l!="number"||l<0||l>65535||l%1!==0)return e.destroy(new Error("Invalid keepalive")),!1;y+=2,y+=1;let w,S;if(o===5){if(w=Wt(e,g),!w)return !1;y+=w.length;}if(s){if(typeof s!="object")return e.destroy(new Error("Invalid will")),!1;if(!s.topic||typeof s.topic!="string")return e.destroy(new Error("Invalid will topic")),!1;if(y+=q.byteLength(s.topic)+2,y+=2,s.payload)if(s.payload.length>=0)typeof s.payload=="string"?y+=q.byteLength(s.payload):y+=s.payload.length;else return e.destroy(new Error("Invalid will payload")),!1;if(S={},o===5){if(S=Wt(e,s.properties),!S)return !1;y+=S.length;}}let E=!1;if(h!=null)if(Pd(h))E=!0,y+=q.byteLength(h)+2;else return e.destroy(new Error("Invalid username")),!1;if(d!=null){if(!E)return e.destroy(new Error("Username is required to use password")),!1;if(Pd(d))y+=Od(d)+2;else return e.destroy(new Error("Invalid password")),!1}e.write(j.CONNECT_HEADER),De(e,y),Yr(e,n),i.bridgeMode&&(o+=128),e.write(o===131?j.VERSION131:o===132?j.VERSION132:o===4?j.VERSION4:o===5?j.VERSION5:j.VERSION3);let I=0;return I|=h!=null?j.USERNAME_MASK:0,I|=d!=null?j.PASSWORD_MASK:0,I|=s&&s.retain?j.WILL_RETAIN_MASK:0,I|=s&&s.qos?s.qos<<j.WILL_QOS_SHIFT:0,I|=s?j.WILL_FLAG_MASK:0,I|=a?j.CLEAN_SESSION_MASK:0,e.write(q.from([I])),Te(e,l),o===5&&w.write(),Yr(e,c),s&&(o===5&&S.write(),wr(e,s.topic),Yr(e,s.payload)),h!=null&&Yr(e,h),d!=null&&Yr(e,d),!0}function zm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=i===5?n.reasonCode:n.returnCode,s=n.properties,a=2;if(typeof o!="number")return e.destroy(new Error("Invalid return code")),!1;let l=null;if(i===5){if(l=Wt(e,s),!l)return !1;a+=l.length;}return e.write(j.CONNACK_HEADER),De(e,a),e.write(n.sessionPresent?j.SESSIONPRESENT_HEADER:Dm),e.write(q.from([o])),l?.write(),!0}function Km(t,e,r){qe("publish: packet: %o",t);let i=r?r.protocolVersion:4,n=t||{},o=n.qos||0,s=n.retain?j.RETAIN_MASK:0,a=n.topic,l=n.payload||qm,c=n.messageId,h=n.properties,d=0;if(typeof a=="string")d+=q.byteLength(a)+2;else if(q.isBuffer(a))d+=a.length+2;else return e.destroy(new Error("Invalid topic")),!1;if(q.isBuffer(l)?d+=l.length:d+=q.byteLength(l),o&&typeof c!="number")return e.destroy(new Error("Invalid messageId")),!1;o&&(d+=2);let g=null;if(i===5){if(g=Wt(e,h),!g)return !1;d+=g.length;}return e.write(j.PUBLISH_HEADER[o][n.dup?1:0][s?1:0]),De(e,d),Te(e,Od(a)),e.write(a),o>0&&Te(e,c),g?.write(),qe("publish: payload: %o",l),e.write(l)}function Gm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.cmd||"puback",s=n.messageId,a=n.dup&&o==="pubrel"?j.DUP_MASK:0,l=0,c=n.reasonCode,h=n.properties,d=i===5?3:2;if(o==="pubrel"&&(l=1),typeof s!="number")return e.destroy(new Error("Invalid messageId")),!1;let g=null;if(i===5&&typeof h=="object"){if(g=Ii(e,h,r,d),!g)return !1;d+=g.length;}return e.write(j.ACKS[o][l][a][0]),d===3&&(d+=c!==0?1:-1),De(e,d),Te(e,s),i===5&&d!==2&&e.write(q.from([c])),g!==null?g.write():d===4&&e.write(q.from([0])),!0}function Qm(t,e,r){qe("subscribe: packet: ");let i=r?r.protocolVersion:4,n=t||{},o=n.dup?j.DUP_MASK:0,s=n.messageId,a=n.subscriptions,l=n.properties,c=0;if(typeof s!="number")return e.destroy(new Error("Invalid messageId")),!1;c+=2;let h=null;if(i===5){if(h=Wt(e,l),!h)return !1;c+=h.length;}if(typeof a=="object"&&a.length)for(let g=0;g<a.length;g+=1){let y=a[g].topic,w=a[g].qos;if(typeof y!="string")return e.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof w!="number")return e.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(i===5){if(typeof(a[g].nl||!1)!="boolean")return e.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(a[g].rap||!1)!="boolean")return e.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let I=a[g].rh||0;if(typeof I!="number"||I>2)return e.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}c+=q.byteLength(y)+2+1;}else return e.destroy(new Error("Invalid subscriptions")),!1;qe("subscribe: writing to stream: %o",j.SUBSCRIBE_HEADER),e.write(j.SUBSCRIBE_HEADER[1][o?1:0][0]),De(e,c),Te(e,s),h!==null&&h.write();let d=!0;for(let g of a){let y=g.topic,w=g.qos,S=+g.nl,E=+g.rap,I=g.rh,C;wr(e,y),C=j.SUBSCRIBE_OPTIONS_QOS[w],i===5&&(C|=S?j.SUBSCRIBE_OPTIONS_NL:0,C|=E?j.SUBSCRIBE_OPTIONS_RAP:0,C|=I?j.SUBSCRIBE_OPTIONS_RH[I]:0),d=e.write(q.from([C]));}return d}function Ym(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.granted,a=n.properties,l=0;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(l+=2,typeof s=="object"&&s.length)for(let h=0;h<s.length;h+=1){if(typeof s[h]!="number")return e.destroy(new Error("Invalid qos vector")),!1;l+=1;}else return e.destroy(new Error("Invalid qos vector")),!1;let c=null;if(i===5){if(c=Ii(e,a,r,l),!c)return !1;l+=c.length;}return e.write(j.SUBACK_HEADER),De(e,l),Te(e,o),c!==null&&c.write(),e.write(q.from(s))}function Jm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.dup?j.DUP_MASK:0,a=n.unsubscriptions,l=n.properties,c=0;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(c+=2,typeof a=="object"&&a.length)for(let g=0;g<a.length;g+=1){if(typeof a[g]!="string")return e.destroy(new Error("Invalid unsubscriptions")),!1;c+=q.byteLength(a[g])+2;}else return e.destroy(new Error("Invalid unsubscriptions")),!1;let h=null;if(i===5){if(h=Wt(e,l),!h)return !1;c+=h.length;}e.write(j.UNSUBSCRIBE_HEADER[1][s?1:0][0]),De(e,c),Te(e,o),h!==null&&h.write();let d=!0;for(let g=0;g<a.length;g++)d=wr(e,a[g]);return d}function Xm(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.messageId,s=n.dup?j.DUP_MASK:0,a=n.granted,l=n.properties,c=n.cmd,h=0,d=2;if(typeof o!="number")return e.destroy(new Error("Invalid messageId")),!1;if(i===5)if(typeof a=="object"&&a.length)for(let y=0;y<a.length;y+=1){if(typeof a[y]!="number")return e.destroy(new Error("Invalid qos vector")),!1;d+=1;}else return e.destroy(new Error("Invalid qos vector")),!1;let g=null;if(i===5){if(g=Ii(e,l,r,d),!g)return !1;d+=g.length;}return e.write(j.ACKS[c][h][s][0]),De(e,d),Te(e,o),g!==null&&g.write(),i===5&&e.write(q.from(a)),!0}function Zm(t,e,r){return e.write(j.EMPTY[t.cmd])}function e1(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.reasonCode,s=n.properties,a=i===5?1:0,l=null;if(i===5){if(l=Ii(e,s,r,a),!l)return !1;a+=l.length;}return e.write(q.from([j.codes.disconnect<<4])),De(e,a),i===5&&e.write(q.from([o])),l!==null&&l.write(),!0}function t1(t,e,r){let i=r?r.protocolVersion:4,n=t||{},o=n.reasonCode,s=n.properties,a=i===5?1:0;i!==5&&e.destroy(new Error("Invalid mqtt version for auth packet"));let l=Ii(e,s,r,a);return l?(a+=l.length,e.write(q.from([j.codes.auth<<4])),De(e,a),e.write(q.from([o])),l!==null&&l.write(),!0):!1}var Td={};function De(t,e){if(e>j.VARBYTEINT_MAX)return t.destroy(new Error(`Invalid variable byte integer: ${e}`)),!1;let r=Td[e];return r||(r=Ko(e),e<16384&&(Td[e]=r)),qe("writeVarByteInt: writing to stream: %o",r),t.write(r)}function wr(t,e){let r=q.byteLength(e);return Te(t,r),qe("writeString: %s",e),t.write(e,"utf8")}function Rd(t,e,r){wr(t,e),wr(t,r);}function Go(t,e){return qe("writeNumberCached: number: %d",e),qe("writeNumberCached: %o",Pn[e]),t.write(Pn[e])}function r1(t,e){let r=Fm(e);return qe("writeNumberGenerated: %o",r),t.write(r)}function i1(t,e){let r=$m(e);return qe("write4ByteNumber: %o",r),t.write(r)}function Yr(t,e){typeof e=="string"?wr(t,e):e?(Te(t,e.length),t.write(e)):Te(t,0);}function Wt(t,e){if(typeof e!="object"||e.length!=null)return {length:1,write(){Bd(t,{},0);}};let r=0;function i(o,s){let a=j.propertiesTypes[o],l=0;switch(a){case"byte":{if(typeof s!="boolean")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+1;break}case"int8":{if(typeof s!="number"||s<0||s>255)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+1;break}case"binary":{if(s&&s===null)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+q.byteLength(s)+2;break}case"int16":{if(typeof s!="number"||s<0||s>65535)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+2;break}case"int32":{if(typeof s!="number"||s<0||s>4294967295)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+4;break}case"var":{if(typeof s!="number"||s<0||s>268435455)return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+q.byteLength(Ko(s));break}case"string":{if(typeof s!="string")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=1+2+q.byteLength(s.toString());break}case"pair":{if(typeof s!="object")return t.destroy(new Error(`Invalid ${o}: ${s}`)),!1;l+=Object.getOwnPropertyNames(s).reduce((c,h)=>{let d=s[h];return Array.isArray(d)?c+=d.reduce((g,y)=>(g+=1+2+q.byteLength(h.toString())+2+q.byteLength(y.toString()),g),0):c+=1+2+q.byteLength(h.toString())+2+q.byteLength(s[h].toString()),c},0);break}default:return t.destroy(new Error(`Invalid property ${o}: ${s}`)),!1}return l}if(e)for(let o in e){let s=0,a=0,l=e[o];if(Array.isArray(l))for(let c=0;c<l.length;c++){if(a=i(o,l[c]),!a)return !1;s+=a;}else {if(a=i(o,l),!a)return !1;s=a;}if(!s)return !1;r+=s;}return {length:q.byteLength(Ko(r))+r,write(){Bd(t,e,r);}}}function Ii(t,e,r,i){let n=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=Wt(t,e);if(o)for(;i+s.length>o;){let a=n.shift();if(a&&e[a])delete e[a],s=Wt(t,e);else return !1}return s}function Cd(t,e,r){switch(j.propertiesTypes[e]){case"byte":{t.write(q.from([j.properties[e]])),t.write(q.from([+r]));break}case"int8":{t.write(q.from([j.properties[e]])),t.write(q.from([r]));break}case"binary":{t.write(q.from([j.properties[e]])),Yr(t,r);break}case"int16":{t.write(q.from([j.properties[e]])),Te(t,r);break}case"int32":{t.write(q.from([j.properties[e]])),i1(t,r);break}case"var":{t.write(q.from([j.properties[e]])),De(t,r);break}case"string":{t.write(q.from([j.properties[e]])),wr(t,r);break}case"pair":{Object.getOwnPropertyNames(r).forEach(n=>{let o=r[n];Array.isArray(o)?o.forEach(s=>{t.write(q.from([j.properties[e]])),Rd(t,n.toString(),s.toString());}):(t.write(q.from([j.properties[e]])),Rd(t,n.toString(),o.toString()));});break}default:return t.destroy(new Error(`Invalid property ${e} value: ${r}`)),!1}}function Bd(t,e,r){De(t,r);for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==null){let n=e[i];if(Array.isArray(n))for(let o=0;o<n.length;o++)Cd(t,i,n[o]);else Cd(t,i,n);}}function Od(t){return t?t instanceof q?t.length:q.byteLength(t):0}function Pd(t){return typeof t=="string"||t instanceof q}xd.exports=kd;});var Ud=M((Sk,Ld)=>{_();v();m();var n1=Qo(),{EventEmitter:s1}=(sr(),X(nr)),{Buffer:Md}=(be(),X(me));function o1(t,e){let r=new Yo;return n1(t,r,e),r.concat()}var Yo=class extends s1{constructor(){super(),this._array=new Array(20),this._i=0;}write(e){return this._array[this._i++]=e,!0}concat(){let e=0,r=new Array(this._array.length),i=this._array,n=0,o;for(o=0;o<i.length&&i[o]!==void 0;o++)typeof i[o]!="string"?r[o]=i[o].length:r[o]=Md.byteLength(i[o]),e+=r[o];let s=Md.allocUnsafe(e);for(o=0;o<i.length&&i[o]!==void 0;o++)typeof i[o]!="string"?(i[o].copy(s,n),n+=r[o]):(s.write(i[o],n),n+=r[o]);return s}destroy(e){e&&this.emit("error",e);}};Ld.exports=o1;});var Nd=M(On=>{_();v();m();On.parser=md().parser;On.generate=Ud();On.writeToStream=Qo();});var Zo=M(Xo=>{_();v();m();Object.defineProperty(Xo,"__esModule",{value:!0});var Jo=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535));}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return !0}deallocate(e){}clear(){}};Xo.default=Jo;});var Dd=M((Zk,qd)=>{_();v();m();qd.exports=a1;function Jr(t){return t instanceof x?x.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function a1(t){if(t=t||{},t.circles)return l1(t);return t.proto?i:r;function e(n,o){for(var s=Object.keys(n),a=new Array(s.length),l=0;l<s.length;l++){var c=s[l],h=n[c];typeof h!="object"||h===null?a[c]=h:h instanceof Date?a[c]=new Date(h):ArrayBuffer.isView(h)?a[c]=Jr(h):a[c]=o(h);}return a}function r(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,r);if(n instanceof Map)return new Map(e(Array.from(n),r));if(n instanceof Set)return new Set(e(Array.from(n),r));var o={};for(var s in n)if(Object.hasOwnProperty.call(n,s)!==!1){var a=n[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),r)):a instanceof Set?o[s]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?o[s]=Jr(a):o[s]=r(a);}return o}function i(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return e(n,i);if(n instanceof Map)return new Map(e(Array.from(n),i));if(n instanceof Set)return new Set(e(Array.from(n),i));var o={};for(var s in n){var a=n[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(e(Array.from(a),i)):a instanceof Set?o[s]=new Set(e(Array.from(a),i)):ArrayBuffer.isView(a)?o[s]=Jr(a):o[s]=i(a);}return o}}function l1(t){var e=[],r=[];return t.proto?o:n;function i(s,a){for(var l=Object.keys(s),c=new Array(l.length),h=0;h<l.length;h++){var d=l[h],g=s[d];if(typeof g!="object"||g===null)c[d]=g;else if(g instanceof Date)c[d]=new Date(g);else if(ArrayBuffer.isView(g))c[d]=Jr(g);else {var y=e.indexOf(g);y!==-1?c[d]=r[y]:c[d]=a(g);}}return c}function n(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return i(s,n);if(s instanceof Map)return new Map(i(Array.from(s),n));if(s instanceof Set)return new Set(i(Array.from(s),n));var a={};e.push(s),r.push(a);for(var l in s)if(Object.hasOwnProperty.call(s,l)!==!1){var c=s[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(i(Array.from(c),n));else if(c instanceof Set)a[l]=new Set(i(Array.from(c),n));else if(ArrayBuffer.isView(c))a[l]=Jr(c);else {var h=e.indexOf(c);h!==-1?a[l]=r[h]:a[l]=n(c);}}return e.pop(),r.pop(),a}function o(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return i(s,o);if(s instanceof Map)return new Map(i(Array.from(s),o));if(s instanceof Set)return new Set(i(Array.from(s),o));var a={};e.push(s),r.push(a);for(var l in s){var c=s[l];if(typeof c!="object"||c===null)a[l]=c;else if(c instanceof Date)a[l]=new Date(c);else if(c instanceof Map)a[l]=new Map(i(Array.from(c),o));else if(c instanceof Set)a[l]=new Set(i(Array.from(c),o));else if(ArrayBuffer.isView(c))a[l]=Jr(c);else {var h=e.indexOf(c);h!==-1?a[l]=r[h]:a[l]=o(c);}}return e.pop(),r.pop(),a}}});var Fd=M((uO,jd)=>{_();v();m();jd.exports=Dd()();});var $d=M(Xr=>{_();v();m();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.validateTopics=Xr.validateTopic=void 0;function Wd(t){let e=t.split("/");for(let r=0;r<e.length;r++)if(e[r]!=="+"){if(e[r]==="#")return r===e.length-1;if(e[r].indexOf("+")!==-1||e[r].indexOf("#")!==-1)return !1}return !0}Xr.validateTopic=Wd;function u1(t){if(t.length===0)return "empty_topic_list";for(let e=0;e<t.length;e++)if(!Wd(t[e]))return t[e];return null}Xr.validateTopics=u1;});var ra=M(ta=>{_();v();m();Object.defineProperty(ta,"__esModule",{value:!0});var f1=jt(),c1={objectMode:!0},h1={clean:!0},ea=class{constructor(e){this.options=e||{},this.options=Object.assign(Object.assign({},h1),e),this._inflights=new Map;}put(e,r){return this._inflights.set(e.messageId,e),r&&r(),this}createStream(){let e=new f1.Readable(c1),r=[],i=!1,n=0;return this._inflights.forEach((o,s)=>{r.push(o);}),e._read=()=>{!i&&n<r.length?e.push(r[n++]):e.push(null);},e.destroy=o=>{if(!i)return i=!0,setTimeout(()=>{e.emit("close");},0),e},e}del(e,r){let i=this._inflights.get(e.messageId);return i?(this._inflights.delete(e.messageId),r(null,i)):r&&r(new Error("missing packet")),this}get(e,r){let i=this._inflights.get(e.messageId);return i?r(null,i):r&&r(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e();}};ta.default=ea;});var Vd=M(ia=>{_();v();m();Object.defineProperty(ia,"__esModule",{value:!0});var Hd=[0,16,128,131,135,144,145,151,153],d1=(t,e,r)=>{t.log("handlePublish: packet %o",e),r=typeof r<"u"?r:t.noop;let i=e.topic.toString(),n=e.payload,{qos:o}=e,{messageId:s}=e,{options:a}=t;if(t.options.protocolVersion===5){let l;if(e.properties&&(l=e.properties.topicAlias),typeof l<"u")if(i.length===0)if(l>0&&l<=65535){let c=t.topicAliasRecv.getTopicByAlias(l);if(c)i=c,t.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",i,l);else {t.log("handlePublish :: unregistered topic alias. alias: %d",l),t.emit("error",new Error("Received unregistered Topic Alias"));return}}else {t.log("handlePublish :: topic alias out of range. alias: %d",l),t.emit("error",new Error("Received Topic Alias is out of range"));return}else if(t.topicAliasRecv.put(i,l))t.log("handlePublish :: registered topic: %s - alias: %d",i,l);else {t.log("handlePublish :: topic alias out of range. alias: %d",l),t.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(t.log("handlePublish: qos %d",o),o){case 2:{a.customHandleAcks(i,n,e,(l,c)=>{if(typeof l=="number"&&(c=l,l=null),l)return t.emit("error",l);if(Hd.indexOf(c)===-1)return t.emit("error",new Error("Wrong reason code for pubrec"));c?t._sendPacket({cmd:"pubrec",messageId:s,reasonCode:c},r):t.incomingStore.put(e,()=>{t._sendPacket({cmd:"pubrec",messageId:s},r);});});break}case 1:{a.customHandleAcks(i,n,e,(l,c)=>{if(typeof l=="number"&&(c=l,l=null),l)return t.emit("error",l);if(Hd.indexOf(c)===-1)return t.emit("error",new Error("Wrong reason code for puback"));c||t.emit("message",i,n,e),t.handleMessage(e,h=>{if(h)return r&&r(h);t._sendPacket({cmd:"puback",messageId:s,reasonCode:c},r);});});break}case 0:t.emit("message",i,n,e),t.handleMessage(e,r);break;default:t.log("handlePublish: unknown QoS. Doing nothing.");break}};ia.default=d1;});var zd=M((QO,p1)=>{p1.exports={version:"5.10.1"};});var _r=M(at=>{_();v();m();Object.defineProperty(at,"__esModule",{value:!0});at.MQTTJS_VERSION=at.nextTick=at.applyMixin=at.ErrorWithReasonCode=void 0;var na=class t extends Error{constructor(e,r){super(e),this.code=r,Object.setPrototypeOf(this,t.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode";}};at.ErrorWithReasonCode=na;function g1(t,e,r=!1){var i;let n=[e];for(;;){let o=n[0],s=Object.getPrototypeOf(o);if(s?.prototype)n.unshift(s);else break}for(let o of n)for(let s of Object.getOwnPropertyNames(o.prototype))(r||s!=="constructor")&&Object.defineProperty(t.prototype,s,(i=Object.getOwnPropertyDescriptor(o.prototype,s))!==null&&i!==void 0?i:Object.create(null));}at.applyMixin=g1;at.nextTick=typeof(B===null||B===void 0?void 0:B.nextTick)=="function"?B.nextTick:t=>{setTimeout(t,0);};at.MQTTJS_VERSION=zd().version;});var Ti=M($t=>{_();v();m();Object.defineProperty($t,"__esModule",{value:!0});$t.ReasonCodes=void 0;var Kd=_r();$t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var y1=(t,e)=>{let{messageId:r}=e,i=e.cmd,n=null,o=t.outgoing[r]?t.outgoing[r].cb:null,s=null;if(!o){t.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(t.log("_handleAck :: packet type",i),i){case"pubcomp":case"puback":{let a=e.reasonCode;a&&a>0&&a!==16?(s=new Kd.ErrorWithReasonCode(`Publish error: ${$t.ReasonCodes[a]}`,a),t._removeOutgoingAndStoreMessage(r,()=>{o(s,e);})):t._removeOutgoingAndStoreMessage(r,o);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:r};let a=e.reasonCode;a&&a>0&&a!==16?(s=new Kd.ErrorWithReasonCode(`Publish error: ${$t.ReasonCodes[a]}`,a),t._removeOutgoingAndStoreMessage(r,()=>{o(s,e);})):t._sendPacket(n);break}case"suback":{delete t.outgoing[r],t.messageIdProvider.deallocate(r);let a=e.granted;for(let l=0;l<a.length;l++){let c=a[l];if(c&128){s=new Error(`Subscribe error: ${$t.ReasonCodes[c]}`),s.code=c;let h=t.messageIdToTopic[r];h&&h.forEach(d=>{delete t._resubscribeTopics[d];});}}delete t.messageIdToTopic[r],t._invokeStoreProcessingQueue(),o(s,e);break}case"unsuback":{delete t.outgoing[r],t.messageIdProvider.deallocate(r),t._invokeStoreProcessingQueue(),o(null,e);break}default:t.emit("error",new Error("unrecognized packet type"));}t.disconnecting&&Object.keys(t.outgoing).length===0&&t.emit("outgoingEmpty");};$t.default=y1;});var Qd=M(sa=>{_();v();m();Object.defineProperty(sa,"__esModule",{value:!0});var Gd=_r(),b1=Ti(),w1=(t,e)=>{let{options:r}=t,i=r.protocolVersion,n=i===5?e.reasonCode:e.returnCode;if(i!==5){let o=new Gd.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${i}`,n);t.emit("error",o);return}t.handleAuth(e,(o,s)=>{if(o){t.emit("error",o);return}if(n===24)t.reconnecting=!1,t._sendPacket(s);else {let a=new Gd.ErrorWithReasonCode(`Connection refused: ${b1.ReasonCodes[n]}`,n);t.emit("error",a);}});};sa.default=w1;});var ep=M(Mn=>{_();v();m();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.LRUCache=void 0;var Ri=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Jd=new Set,oa=typeof B=="object"&&B?B:{},Xd=(t,e,r,i)=>{typeof oa.emitWarning=="function"?oa.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`);},xn=globalThis.AbortController,Yd=globalThis.AbortSignal;if(typeof xn>"u"){Yd=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n);}},xn=class{constructor(){e();}signal=new Yd;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i);}}};let t=oa.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,Xd("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e));};}var _1=t=>!Jd.has(t),Ht=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Zd=t=>Ht(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Zr:null:null,Zr=class extends Array{constructor(e){super(e),this.fill(0);}},aa=class t{heap;length;static#l=!1;static create(e){let r=Zd(e);if(!r)return [];t.#l=!0;let i=new t(e,r);return t.#l=!1,i}constructor(e,r){if(!t.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0;}push(e){this.heap[this.length++]=e;}pop(){return this.heap[--this.length]}},la=class t{#l;#c;#p;#g;#B;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#n;#r;#e;#u;#h;#a;#s;#b;#o;#E;#S;#w;#_;#I;#f;static unsafeExposeInternals(e){return {starts:e.#S,ttls:e.#w,sizes:e.#E,keyMap:e.#n,keyList:e.#r,valList:e.#e,next:e.#u,prev:e.#h,get head(){return e.#a},get tail(){return e.#s},free:e.#b,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,i,n,o)=>e.#O(r,i,n,o),moveToTail:r=>e.#C(r),indexes:r=>e.#m(r),rindexes:r=>e.#v(r),isStale:r=>e.#d(r)}}get max(){return this.#l}get maxSize(){return this.#c}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#B}get dispose(){return this.#p}get disposeAfter(){return this.#g}constructor(e){let{max:r=0,ttl:i,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:a,allowStale:l,dispose:c,disposeAfter:h,noDisposeOnSet:d,noUpdateTTL:g,maxSize:y=0,maxEntrySize:w=0,sizeCalculation:S,fetchMethod:E,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:C,allowStaleOnFetchRejection:R,allowStaleOnFetchAbort:U,ignoreFetchAbort:N}=e;if(r!==0&&!Ht(r))throw new TypeError("max option must be a nonnegative integer");let W=r?Zd(r):Array;if(!W)throw new Error("invalid max value: "+r);if(this.#l=r,this.#c=y,this.maxEntrySize=w||this.#c,this.sizeCalculation=S,this.sizeCalculation){if(!this.#c&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#B=E,this.#I=!!E,this.#n=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#u=new W(r),this.#h=new W(r),this.#a=0,this.#s=0,this.#b=aa.create(r),this.#i=0,this.#y=0,typeof c=="function"&&(this.#p=c),typeof h=="function"?(this.#g=h,this.#o=[]):(this.#g=void 0,this.#o=void 0),this.#_=!!this.#p,this.#f=!!this.#g,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!I,this.allowStaleOnFetchRejection=!!R,this.allowStaleOnFetchAbort=!!U,this.ignoreFetchAbort=!!N,this.maxEntrySize!==0){if(this.#c!==0&&!Ht(this.#c))throw new TypeError("maxSize must be a positive integer if specified");if(!Ht(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#q();}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!C,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!a,this.ttlResolution=Ht(n)||n===0?n:1,this.ttlAutopurge=!!o,this.ttl=i||0,this.ttl){if(!Ht(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#x();}if(this.#l===0&&this.ttl===0&&this.#c===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#c){let K="LRU_CACHE_UNBOUNDED";_1(K)&&(Jd.add(K),Xd("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",K,t));}}getRemainingTTL(e){return this.#n.has(e)?1/0:0}#x(){let e=new Zr(this.#l),r=new Zr(this.#l);this.#w=e,this.#S=r,this.#M=(o,s,a=Ri.now())=>{if(r[o]=s!==0?a:0,e[o]=s,s!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.#d(o)&&this.delete(this.#r[o]);},s+1);l.unref&&l.unref();}},this.#T=o=>{r[o]=e[o]!==0?Ri.now():0;},this.#A=(o,s)=>{if(e[s]){let a=e[s],l=r[s];o.ttl=a,o.start=l,o.now=i||n();let c=o.now-l;o.remainingTTL=a-c;}};let i=0,n=()=>{let o=Ri.now();if(this.ttlResolution>0){i=o;let s=setTimeout(()=>i=0,this.ttlResolution);s.unref&&s.unref();}return o};this.getRemainingTTL=o=>{let s=this.#n.get(o);if(s===void 0)return 0;let a=e[s],l=r[s];if(a===0||l===0)return 1/0;let c=(i||n())-l;return a-c},this.#d=o=>e[o]!==0&&r[o]!==0&&(i||n())-r[o]>e[o];}#T=()=>{};#A=()=>{};#M=()=>{};#d=()=>!1;#q(){let e=new Zr(this.#l);this.#y=0,this.#E=e,this.#R=r=>{this.#y-=e[r],e[r]=0;},this.#L=(r,i,n,o)=>{if(this.#t(i))return 0;if(!Ht(n))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(n=o(i,r),!Ht(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#P=(r,i,n)=>{if(e[r]=i,this.#c){let o=this.#c-e[r];for(;this.#y>o;)this.#k(!0);}this.#y+=e[r],n&&(n.entrySize=i,n.totalCalculatedSize=this.#y);};}#R=e=>{};#P=(e,r,i)=>{};#L=(e,r,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#m({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#s;!(!this.#U(r)||((e||!this.#d(r))&&(yield r),r===this.#a));)r=this.#h[r];}*#v({allowStale:e=this.allowStale}={}){if(this.#i)for(let r=this.#a;!(!this.#U(r)||((e||!this.#d(r))&&(yield r),r===this.#s));)r=this.#u[r];}#U(e){return e!==void 0&&this.#n.get(this.#r[e])===e}*entries(){for(let e of this.#m())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*rentries(){for(let e of this.#v())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield [this.#r[e],this.#e[e]]);}*keys(){for(let e of this.#m()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*rkeys(){for(let e of this.#v()){let r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r);}}*values(){for(let e of this.#m())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}*rvalues(){for(let e of this.#v())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e]);}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let i of this.#m()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;if(o!==void 0&&e(o,this.#r[i],this))return this.get(this.#r[i],r)}}forEach(e,r=this){for(let i of this.#m()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this);}}rforEach(e,r=this){for(let i of this.#v()){let n=this.#e[i],o=this.#t(n)?n.__staleWhileFetching:n;o!==void 0&&e.call(r,o,this.#r[i],this);}}purgeStale(){let e=!1;for(let r of this.#v({allowStale:!0}))this.#d(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){let e=[];for(let r of this.#m({allowStale:!0})){let i=this.#r[r],n=this.#e[r],o=this.#t(n)?n.__staleWhileFetching:n;if(o===void 0||i===void 0)continue;let s={value:o};if(this.#w&&this.#S){s.ttl=this.#w[r];let a=Ri.now()-this.#S[r];s.start=Math.floor(Date.now()-a);}this.#E&&(s.size=this.#E[r]),e.unshift([i,s]);}return e}load(e){this.clear();for(let[r,i]of e){if(i.start){let n=Date.now()-i.start;i.start=Ri.now()-n;}this.set(r,i.value,i);}}set(e,r,i={}){if(r===void 0)return this.delete(e),this;let{ttl:n=this.ttl,start:o,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:l}=i,{noUpdateTTL:c=this.noUpdateTTL}=i,h=this.#L(e,r,i.size||0,a);if(this.maxEntrySize&&h>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.delete(e),this;let d=this.#i===0?void 0:this.#n.get(e);if(d===void 0)d=this.#i===0?this.#s:this.#b.length!==0?this.#b.pop():this.#i===this.#l?this.#k(!1):this.#i,this.#r[d]=e,this.#e[d]=r,this.#n.set(e,d),this.#u[this.#s]=d,this.#h[d]=this.#s,this.#s=d,this.#i++,this.#P(d,h,l),l&&(l.set="add"),c=!1;else {this.#C(d);let g=this.#e[d];if(r!==g){if(this.#I&&this.#t(g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:y}=g;y!==void 0&&!s&&(this.#_&&this.#p?.(y,e,"set"),this.#f&&this.#o?.push([y,e,"set"]));}else s||(this.#_&&this.#p?.(g,e,"set"),this.#f&&this.#o?.push([g,e,"set"]));if(this.#R(d),this.#P(d,h,l),this.#e[d]=r,l){l.set="replace";let y=g&&this.#t(g)?g.__staleWhileFetching:g;y!==void 0&&(l.oldValue=y);}}else l&&(l.set="update");}if(n!==0&&!this.#w&&this.#x(),this.#w&&(c||this.#M(d,n,o),l&&this.#A(l,d)),!s&&this.#f&&this.#o){let g=this.#o,y;for(;y=g?.shift();)this.#g?.(...y);}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#a];if(this.#k(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#f&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#g?.(...r);}}}#k(e){let r=this.#a,i=this.#r[r],n=this.#e[r];return this.#I&&this.#t(n)?n.__abortController.abort(new Error("evicted")):(this.#_||this.#f)&&(this.#_&&this.#p?.(n,i,"evict"),this.#f&&this.#o?.push([n,i,"evict"])),this.#R(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#b.push(r)),this.#i===1?(this.#a=this.#s=0,this.#b.length=0):this.#a=this.#u[r],this.#n.delete(i),this.#i--,r}has(e,r={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=r,o=this.#n.get(e);if(o!==void 0){let s=this.#e[o];if(this.#t(s)&&s.__staleWhileFetching===void 0)return !1;if(this.#d(o))n&&(n.has="stale",this.#A(n,o));else return i&&this.#T(o),n&&(n.has="hit",this.#A(n,o)),!0}else n&&(n.has="miss");return !1}peek(e,r={}){let{allowStale:i=this.allowStale}=r,n=this.#n.get(e);if(n!==void 0&&(i||!this.#d(n))){let o=this.#e[n];return this.#t(o)?o.__staleWhileFetching:o}}#O(e,r,i,n){let o=r===void 0?void 0:this.#e[r];if(this.#t(o))return o;let s=new xn,{signal:a}=i;a?.addEventListener("abort",()=>s.abort(a.reason),{signal:s.signal});let l={signal:s.signal,options:i,context:n},c=(S,E=!1)=>{let{aborted:I}=s.signal,C=i.ignoreFetchAbort&&S!==void 0;if(i.status&&(I&&!E?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,C&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),I&&!C&&!E)return d(s.signal.reason);let R=y;return this.#e[r]===y&&(S===void 0?R.__staleWhileFetching?this.#e[r]=R.__staleWhileFetching:this.delete(e):(i.status&&(i.status.fetchUpdated=!0),this.set(e,S,l.options))),S},h=S=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=S),d(S)),d=S=>{let{aborted:E}=s.signal,I=E&&i.allowStaleOnFetchAbort,C=I||i.allowStaleOnFetchRejection,R=C||i.noDeleteOnFetchRejection,U=y;if(this.#e[r]===y&&(!R||U.__staleWhileFetching===void 0?this.delete(e):I||(this.#e[r]=U.__staleWhileFetching)),C)return i.status&&U.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),U.__staleWhileFetching;if(U.__returned===U)throw S},g=(S,E)=>{let I=this.#B?.(e,o,l);I&&I instanceof Promise&&I.then(C=>S(C===void 0?void 0:C),E),s.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(S(void 0),i.allowStaleOnFetchAbort&&(S=C=>c(C,!0)));});};i.status&&(i.status.fetchDispatched=!0);let y=new Promise(g).then(c,h),w=Object.assign(y,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,w,{...l.options,status:void 0}),r=this.#n.get(e)):this.#e[r]=w,w}#t(e){if(!this.#I)return !1;let r=e;return !!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof xn}async fetch(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:h=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:g=this.allowStaleOnFetchRejection,ignoreFetchAbort:y=this.ignoreFetchAbort,allowStaleOnFetchAbort:w=this.allowStaleOnFetchAbort,context:S,forceRefresh:E=!1,status:I,signal:C}=r;if(!this.#I)return I&&(I.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:I});let R={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:h,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:g,allowStaleOnFetchAbort:w,ignoreFetchAbort:y,status:I,signal:C},U=this.#n.get(e);if(U===void 0){I&&(I.fetch="miss");let N=this.#O(e,U,R,S);return N.__returned=N}else {let N=this.#e[U];if(this.#t(N)){let pe=i&&N.__staleWhileFetching!==void 0;return I&&(I.fetch="inflight",pe&&(I.returnedStale=!0)),pe?N.__staleWhileFetching:N.__returned=N}let W=this.#d(U);if(!E&&!W)return I&&(I.fetch="hit"),this.#C(U),n&&this.#T(U),I&&this.#A(I,U),N;let K=this.#O(e,U,R,S),Q=K.__staleWhileFetching!==void 0&&i;return I&&(I.fetch=W?"stale":"refresh",Q&&W&&(I.returnedStale=!0)),Q?K.__staleWhileFetching:K.__returned=K}}get(e,r={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=r,a=this.#n.get(e);if(a!==void 0){let l=this.#e[a],c=this.#t(l);return s&&this.#A(s,a),this.#d(a)?(s&&(s.get="stale"),c?(s&&i&&l.__staleWhileFetching!==void 0&&(s.returnedStale=!0),i?l.__staleWhileFetching:void 0):(o||this.delete(e),s&&i&&(s.returnedStale=!0),i?l:void 0)):(s&&(s.get="hit"),c?l.__staleWhileFetching:(this.#C(a),n&&this.#T(a),l))}else s&&(s.get="miss");}#N(e,r){this.#h[r]=e,this.#u[e]=r;}#C(e){e!==this.#s&&(e===this.#a?this.#a=this.#u[e]:this.#N(this.#h[e],this.#u[e]),this.#N(this.#s,e),this.#s=e);}delete(e){let r=!1;if(this.#i!==0){let i=this.#n.get(e);if(i!==void 0)if(r=!0,this.#i===1)this.clear();else {this.#R(i);let n=this.#e[i];this.#t(n)?n.__abortController.abort(new Error("deleted")):(this.#_||this.#f)&&(this.#_&&this.#p?.(n,e,"delete"),this.#f&&this.#o?.push([n,e,"delete"])),this.#n.delete(e),this.#r[i]=void 0,this.#e[i]=void 0,i===this.#s?this.#s=this.#h[i]:i===this.#a?this.#a=this.#u[i]:(this.#u[this.#h[i]]=this.#u[i],this.#h[this.#u[i]]=this.#h[i]),this.#i--,this.#b.push(i);}}if(this.#f&&this.#o?.length){let i=this.#o,n;for(;n=i?.shift();)this.#g?.(...n);}return r}clear(){for(let e of this.#v({allowStale:!0})){let r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else {let i=this.#r[e];this.#_&&this.#p?.(r,i,"delete"),this.#f&&this.#o?.push([r,i,"delete"]);}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#w&&this.#S&&(this.#w.fill(0),this.#S.fill(0)),this.#E&&this.#E.fill(0),this.#a=0,this.#s=0,this.#b.length=0,this.#y=0,this.#i=0,this.#f&&this.#o){let e=this.#o,r;for(;r=e?.shift();)this.#g?.(...r);}}};Mn.LRUCache=la;});var lt=M(Vt=>{_();v();m();Object.defineProperty(Vt,"t",{value:!0});Vt.ContainerIterator=Vt.Container=Vt.Base=void 0;var ua=class{constructor(e=0){this.iteratorType=e;}equals(e){return this.o===e.o}};Vt.ContainerIterator=ua;var Ln=class{constructor(){this.i=0;}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};Vt.Base=Ln;var fa=class extends Ln{};Vt.Container=fa;});var tp=M(Un=>{_();v();m();Object.defineProperty(Un,"t",{value:!0});Un.default=void 0;var m1=lt(),ca=class extends m1.Base{constructor(e=[]){super(),this.S=[];let r=this;e.forEach(function(i){r.push(i);});}clear(){this.i=0,this.S=[];}push(e){return this.S.push(e),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},v1=ca;Un.default=v1;});var rp=M(Nn=>{_();v();m();Object.defineProperty(Nn,"t",{value:!0});Nn.default=void 0;var E1=lt(),ha=class extends E1.Base{constructor(e=[]){super(),this.j=0,this.q=[];let r=this;e.forEach(function(i){r.push(i);});}clear(){this.q=[],this.i=this.j=0;}push(e){let r=this.q.length;if(this.j/r>.5&&this.j+this.i>=r&&r>4096){let i=this.i;for(let n=0;n<i;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=e;}else this.q[this.j+this.i]=e;return ++this.i}pop(){if(this.i===0)return;let e=this.q[this.j++];return this.i-=1,e}front(){if(this.i!==0)return this.q[this.j]}},S1=ha;Nn.default=S1;});var ip=M(qn=>{_();v();m();Object.defineProperty(qn,"t",{value:!0});qn.default=void 0;var A1=lt(),da=class extends A1.Base{constructor(e=[],r=function(n,o){return n>o?-1:n<o?1:0},i=!0){if(super(),this.v=r,Array.isArray(e))this.C=i?[...e]:e;else {this.C=[];let o=this;e.forEach(function(s){o.C.push(s);});}this.i=this.C.length;let n=this.i>>1;for(let o=this.i-1>>1;o>=0;--o)this.k(o,n);}m(e){let r=this.C[e];for(;e>0;){let i=e-1>>1,n=this.C[i];if(this.v(n,r)<=0)break;this.C[e]=n,e=i;}this.C[e]=r;}k(e,r){let i=this.C[e];for(;e<r;){let n=e<<1|1,o=n+1,s=this.C[n];if(o<this.i&&this.v(s,this.C[o])>0&&(n=o,s=this.C[o]),this.v(s,i)>=0)break;this.C[e]=s,e=n;}this.C[e]=i;}clear(){this.i=0,this.C.length=0;}push(e){this.C.push(e),this.m(this.i),this.i+=1;}pop(){if(this.i===0)return;let e=this.C[0],r=this.C.pop();return this.i-=1,this.i&&(this.C[0]=r,this.k(0,this.i>>1)),e}top(){return this.C[0]}find(e){return this.C.indexOf(e)>=0}remove(e){let r=this.C.indexOf(e);return r<0?!1:(r===0?this.pop():r===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(r,1,this.C.pop()),this.i-=1,this.m(r),this.k(r,this.i>>1)),!0)}updateItem(e){let r=this.C.indexOf(e);return r<0?!1:(this.m(r),this.k(r,this.i>>1),!0)}toArray(){return [...this.C]}},I1=da;qn.default=I1;});var jn=M(Dn=>{_();v();m();Object.defineProperty(Dn,"t",{value:!0});Dn.default=void 0;var T1=lt(),pa=class extends T1.Container{},R1=pa;Dn.default=R1;});var ut=M(ga=>{_();v();m();Object.defineProperty(ga,"t",{value:!0});ga.throwIteratorAccessError=C1;function C1(){throw new RangeError("Iterator access denied!")}});var ba=M(Wn=>{_();v();m();Object.defineProperty(Wn,"t",{value:!0});Wn.RandomIterator=void 0;var B1=lt(),Fn=ut(),ya=class extends B1.ContainerIterator{constructor(e,r){super(r),this.o=e,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0, Fn.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0, Fn.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0, Fn.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0, Fn.throwIteratorAccessError)(),this.o-=1,this});}get pointer(){return this.container.getElementByPos(this.o)}set pointer(e){this.container.setElementByPos(this.o,e);}};Wn.RandomIterator=ya;});var np=M($n=>{_();v();m();Object.defineProperty($n,"t",{value:!0});$n.default=void 0;var P1=O1(jn()),k1=ba();function O1(t){return t&&t.t?t:{default:t}}var mr=class t extends k1.RandomIterator{constructor(e,r,i){super(e,i),this.container=r;}copy(){return new t(this.o,this.container,this.iteratorType)}},wa=class extends P1.default{constructor(e=[],r=!0){if(super(),Array.isArray(e))this.J=r?[...e]:e,this.i=e.length;else {this.J=[];let i=this;e.forEach(function(n){i.pushBack(n);});}}clear(){this.i=0,this.J.length=0;}begin(){return new mr(0,this)}end(){return new mr(this.i,this)}rBegin(){return new mr(this.i-1,this,1)}rEnd(){return new mr(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),this.i-=1,this.i}eraseElementByValue(e){let r=0;for(let i=0;i<this.i;++i)this.J[i]!==e&&(this.J[r++]=this.J[i]);return this.i=this.J.length=r,this.i}eraseElementByIterator(e){let r=e.o;return e=e.next(),this.eraseElementByPos(r),e}pushBack(e){return this.J.push(e),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;return this.J.splice(e,0,...new Array(i).fill(r)),this.i+=i,this.i}find(e){for(let r=0;r<this.i;++r)if(this.J[r]===e)return new mr(r,this);return this.end()}reverse(){this.J.reverse();}unique(){let e=1;for(let r=1;r<this.i;++r)this.J[r]!==this.J[r-1]&&(this.J[e++]=this.J[r]);return this.i=this.J.length=e,this.i}sort(e){this.J.sort(e);}forEach(e){for(let r=0;r<this.i;++r)e(this.J[r],r,this);}[Symbol.iterator](){return function*(){yield*this.J;}.bind(this)()}},x1=wa;$n.default=x1;});var sp=M(Hn=>{_();v();m();Object.defineProperty(Hn,"t",{value:!0});Hn.default=void 0;var M1=U1(jn()),L1=lt(),vr=ut();function U1(t){return t&&t.t?t:{default:t}}var Er=class t extends L1.ContainerIterator{constructor(e,r,i,n){super(n),this.o=e,this.h=r,this.container=i,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o=this.o.L,this});}get pointer(){return this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o.l}set pointer(e){this.o===this.h&&(0, vr.throwIteratorAccessError)(),this.o.l=e;}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},_a=class extends M1.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let r=this;e.forEach(function(i){r.pushBack(i);});}V(e){let{L:r,B:i}=e;r.B=i,i.L=r,e===this.p&&(this.p=i),e===this._&&(this._=r),this.i-=1;}G(e,r){let i=r.B,n={l:e,L:r,B:i};r.B=n,i.L=n,r===this.h&&(this.p=n),i===this.h&&(this._=n),this.i+=1;}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h;}begin(){return new Er(this.p,this.h,this)}end(){return new Er(this.h,this.h,this)}rBegin(){return new Er(this._,this.h,this,1)}rEnd(){return new Er(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return r.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return this.V(r),this.i}eraseElementByValue(e){let r=this.p;for(;r!==this.h;)r.l===e&&this.V(r),r=r.B;return this.i}eraseElementByIterator(e){let r=e.o;return r===this.h&&(0, vr.throwIteratorAccessError)(),e=e.next(),this.V(r),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;i.l=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;if(i<=0)return this.i;if(e===0)for(;i--;)this.pushFront(r);else if(e===this.i)for(;i--;)this.pushBack(r);else {let n=this.p;for(let s=1;s<e;++s)n=n.B;let o=n.B;for(this.i+=i;i--;)n.B={l:r,L:n},n.B.L=n,n=n.B;n.B=o,o.L=n;}return this.i}find(e){let r=this.p;for(;r!==this.h;){if(r.l===e)return new Er(r,this.h,this);r=r.B;}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,r=this._,i=0;for(;i<<1<this.i;){let n=e.l;e.l=r.l,r.l=n,e=e.B,r=r.L,i+=1;}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let r=e;for(;r.B!==this.h&&r.l===r.B.l;)r=r.B,this.i-=1;e.B=r.B,e.B.L=e,e=e.B;}return this.i}sort(e){if(this.i<=1)return;let r=[];this.forEach(function(n){r.push(n);}),r.sort(e);let i=this.p;r.forEach(function(n){i.l=n,i=i.B;});}merge(e){let r=this;if(this.i===0)e.forEach(function(i){r.pushBack(i);});else {let i=this.p;e.forEach(function(n){for(;i!==r.h&&i.l<=n;)i=i.B;r.G(n,i.L);});}return this.i}forEach(e){let r=this.p,i=0;for(;r!==this.h;)e(r.l,i++,this),r=r.B;}[Symbol.iterator](){return function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B;}.bind(this)()}},N1=_a;Hn.default=N1;});var op=M(Vn=>{_();v();m();Object.defineProperty(Vn,"t",{value:!0});Vn.default=void 0;var q1=j1(jn()),D1=ba();function j1(t){return t&&t.t?t:{default:t}}var Sr=class t extends D1.RandomIterator{constructor(e,r,i){super(e,i),this.container=r;}copy(){return new t(this.o,this.container,this.iteratorType)}},ma=class extends q1.default{constructor(e=[],r=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.size=="function")return e.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=r,this.P=Math.max(Math.ceil(i/this.F),1);for(let s=0;s<this.P;++s)this.A.push(new Array(this.F));let n=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(n>>1),this.D=this.N=this.F-i%this.F>>1;let o=this;e.forEach(function(s){o.pushBack(s);});}T(){let e=[],r=Math.max(this.P>>1,1);for(let i=0;i<r;++i)e[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)e[e.length]=this.A[i];for(let i=0;i<this.R;++i)e[e.length]=this.A[i];e[e.length]=[...this.A[this.R]],this.j=r,this.R=e.length-1;for(let i=0;i<r;++i)e[e.length]=new Array(this.F);this.A=e,this.P=e.length;}O(e){let r=this.D+e+1,i=r%this.F,n=i-1,o=this.j+(r-i)/this.F;return i===0&&(o-=1),o%=this.P,n<0&&(n+=this.F),{curNodeBucketIndex:o,curNodePointerIndex:n}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1;}begin(){return new Sr(0,this)}end(){return new Sr(this.i,this)}rBegin(){return new Sr(this.i-1,this,1)}rEnd(){return new Sr(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(e){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}popBack(){if(this.i===0)return;let e=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,e}pushFront(e){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}popFront(){if(this.i===0)return;let e=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,e}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:r,curNodePointerIndex:i}=this.O(e);return this.A[r][i]}setElementByPos(e,r){if(e<0||e>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:n}=this.O(e);this.A[i][n]=r;}insert(e,r,i=1){if(e<0||e>this.i)throw new RangeError;if(e===0)for(;i--;)this.pushFront(r);else if(e===this.i)for(;i--;)this.pushBack(r);else {let n=[];for(let o=e;o<this.i;++o)n.push(this.getElementByPos(o));this.cut(e-1);for(let o=0;o<i;++o)this.pushBack(r);for(let o=0;o<n.length;++o)this.pushBack(n[o]);}return this.i}cut(e){if(e<0)return this.clear(),0;let{curNodeBucketIndex:r,curNodePointerIndex:i}=this.O(e);return this.R=r,this.N=i,this.i=e+1,this.i}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;if(e===0)this.popFront();else if(e===this.i-1)this.popBack();else {let r=[];for(let n=e+1;n<this.i;++n)r.push(this.getElementByPos(n));this.cut(e),this.popBack();let i=this;r.forEach(function(n){i.pushBack(n);});}return this.i}eraseElementByValue(e){if(this.i===0)return 0;let r=[];for(let n=0;n<this.i;++n){let o=this.getElementByPos(n);o!==e&&r.push(o);}let i=r.length;for(let n=0;n<i;++n)this.setElementByPos(n,r[n]);return this.cut(i-1)}eraseElementByIterator(e){let r=e.o;return this.eraseElementByPos(r),e=e.next(),e}find(e){for(let r=0;r<this.i;++r)if(this.getElementByPos(r)===e)return new Sr(r,this);return this.end()}reverse(){let e=0,r=this.i-1;for(;e<r;){let i=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(r)),this.setElementByPos(r,i),e+=1,r-=1;}}unique(){if(this.i<=1)return this.i;let e=1,r=this.getElementByPos(0);for(let i=1;i<this.i;++i){let n=this.getElementByPos(i);n!==r&&(r=n,this.setElementByPos(e++,n));}for(;this.i>e;)this.popBack();return this.i}sort(e){let r=[];for(let i=0;i<this.i;++i)r.push(this.getElementByPos(i));r.sort(e);for(let i=0;i<this.i;++i)this.setElementByPos(i,r[i]);}shrinkToFit(){if(this.i===0)return;let e=[];this.forEach(function(r){e.push(r);}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let r=0;r<this.P;++r)this.A.push(new Array(this.F));for(let r=0;r<e.length;++r)this.pushBack(e[r]);}forEach(e){for(let r=0;r<this.i;++r)e(this.getElementByPos(r),r,this);}[Symbol.iterator](){return function*(){for(let e=0;e<this.i;++e)yield this.getElementByPos(e);}.bind(this)()}},F1=ma;Vn.default=F1;});var ap=M(ei=>{_();v();m();Object.defineProperty(ei,"t",{value:!0});ei.TreeNodeEnableIndex=ei.TreeNode=void 0;var zn=class{constructor(e,r){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=e,this.l=r;}L(){let e=this;if(e.ee===1&&e.tt.tt===e)e=e.W;else if(e.U)for(e=e.U;e.W;)e=e.W;else {let r=e.tt;for(;r.U===e;)e=r,r=e.tt;e=r;}return e}B(){let e=this;if(e.W){for(e=e.W;e.U;)e=e.U;return e}else {let r=e.tt;for(;r.W===e;)e=r,r=e.tt;return e.W!==r?r:e}}te(){let e=this.tt,r=this.W,i=r.U;return e.tt===this?e.tt=r:e.U===this?e.U=r:e.W=r,r.tt=e,r.U=this,this.tt=r,this.W=i,i&&(i.tt=this),r}se(){let e=this.tt,r=this.U,i=r.W;return e.tt===this?e.tt=r:e.U===this?e.U=r:e.W=r,r.tt=e,r.W=this,this.tt=r,this.U=i,i&&(i.tt=this),r}};ei.TreeNode=zn;var va=class extends zn{constructor(){super(...arguments),this.rt=1;}te(){let e=super.te();return this.ie(),e.ie(),e}se(){let e=super.se();return this.ie(),e.ie(),e}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt);}};ei.TreeNodeEnableIndex=va;});var Sa=M(Kn=>{_();v();m();Object.defineProperty(Kn,"t",{value:!0});Kn.default=void 0;var lp=ap(),W1=lt(),up=ut(),Ea=class extends W1.Container{constructor(e=function(i,n){return i<n?-1:i>n?1:0},r=!1){super(),this.Y=void 0,this.v=e,r?(this.re=lp.TreeNodeEnableIndex,this.M=function(i,n,o){let s=this.ne(i,n,o);if(s){let a=s.tt;for(;a!==this.h;)a.rt+=1,a=a.tt;let l=this.he(s);if(l){let{parentNode:c,grandParent:h,curNode:d}=l;c.ie(),h.ie(),d.ie();}}return this.i},this.V=function(i){let n=this.fe(i);for(;n!==this.h;)n.rt-=1,n=n.tt;}):(this.re=lp.TreeNode,this.M=function(i,n,o){let s=this.ne(i,n,o);return s&&this.he(s),this.i},this.V=this.fe),this.h=new this.re;}X(e,r){let i=this.h;for(;e;){let n=this.v(e.u,r);if(n<0)e=e.W;else if(n>0)i=e,e=e.U;else return e}return i}Z(e,r){let i=this.h;for(;e;)this.v(e.u,r)<=0?e=e.W:(i=e,e=e.U);return i}$(e,r){let i=this.h;for(;e;){let n=this.v(e.u,r);if(n<0)i=e,e=e.W;else if(n>0)e=e.U;else return e}return i}rr(e,r){let i=this.h;for(;e;)this.v(e.u,r)<0?(i=e,e=e.W):e=e.U;return i}ue(e){for(;;){let r=e.tt;if(r===this.h)return;if(e.ee===1){e.ee=0;return}if(e===r.U){let i=r.W;if(i.ee===1)i.ee=0,r.ee=1,r===this.Y?this.Y=r.te():r.te();else if(i.W&&i.W.ee===1){i.ee=r.ee,r.ee=0,i.W.ee=0,r===this.Y?this.Y=r.te():r.te();return}else i.U&&i.U.ee===1?(i.ee=1,i.U.ee=0,i.se()):(i.ee=1,e=r);}else {let i=r.U;if(i.ee===1)i.ee=0,r.ee=1,r===this.Y?this.Y=r.se():r.se();else if(i.U&&i.U.ee===1){i.ee=r.ee,r.ee=0,i.U.ee=0,r===this.Y?this.Y=r.se():r.se();return}else i.W&&i.W.ee===1?(i.ee=1,i.W.ee=0,i.te()):(i.ee=1,e=r);}}}fe(e){if(this.i===1)return this.clear(),this.h;let r=e;for(;r.U||r.W;){if(r.W)for(r=r.W;r.U;)r=r.U;else r=r.U;[e.u,r.u]=[r.u,e.u],[e.l,r.l]=[r.l,e.l],e=r;}this.h.U===r?this.h.U=r.tt:this.h.W===r&&(this.h.W=r.tt),this.ue(r);let i=r.tt;return r===i.U?i.U=void 0:i.W=void 0,this.i-=1,this.Y.ee=0,i}oe(e,r){return e===void 0?!1:this.oe(e.U,r)||r(e)?!0:this.oe(e.W,r)}he(e){for(;;){let r=e.tt;if(r.ee===0)return;let i=r.tt;if(r===i.U){let n=i.W;if(n&&n.ee===1){if(n.ee=r.ee=0,i===this.Y)return;i.ee=1,e=i;continue}else if(e===r.W){if(e.ee=0,e.U&&(e.U.tt=r),e.W&&(e.W.tt=i),r.W=e.U,i.U=e.W,e.U=r,e.W=i,i===this.Y)this.Y=e,this.h.tt=e;else {let o=i.tt;o.U===i?o.U=e:o.W=e;}return e.tt=i.tt,r.tt=e,i.tt=e,i.ee=1,{parentNode:r,grandParent:i,curNode:e}}else r.ee=0,i===this.Y?this.Y=i.se():i.se(),i.ee=1;}else {let n=i.U;if(n&&n.ee===1){if(n.ee=r.ee=0,i===this.Y)return;i.ee=1,e=i;continue}else if(e===r.U){if(e.ee=0,e.U&&(e.U.tt=i),e.W&&(e.W.tt=r),i.W=e.U,r.U=e.W,e.U=i,e.W=r,i===this.Y)this.Y=e,this.h.tt=e;else {let o=i.tt;o.U===i?o.U=e:o.W=e;}return e.tt=i.tt,r.tt=e,i.tt=e,i.ee=1,{parentNode:r,grandParent:i,curNode:e}}else r.ee=0,i===this.Y?this.Y=i.te():i.te(),i.ee=1;}return}}ne(e,r,i){if(this.Y===void 0){this.i+=1,this.Y=new this.re(e,r),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let n,o=this.h.U,s=this.v(o.u,e);if(s===0){o.l=r;return}else if(s>0)o.U=new this.re(e,r),o.U.tt=o,n=o.U,this.h.U=n;else {let a=this.h.W,l=this.v(a.u,e);if(l===0){a.l=r;return}else if(l<0)a.W=new this.re(e,r),a.W.tt=a,n=a.W,this.h.W=n;else {if(i!==void 0){let c=i.o;if(c!==this.h){let h=this.v(c.u,e);if(h===0){c.l=r;return}else if(h>0){let d=c.L(),g=this.v(d.u,e);if(g===0){d.l=r;return}else g<0&&(n=new this.re(e,r),d.W===void 0?(d.W=n,n.tt=d):(c.U=n,n.tt=c));}}}if(n===void 0)for(n=this.Y;;){let c=this.v(n.u,e);if(c>0){if(n.U===void 0){n.U=new this.re(e,r),n.U.tt=n,n=n.U;break}n=n.U;}else if(c<0){if(n.W===void 0){n.W=new this.re(e,r),n.W.tt=n,n=n.W;break}n=n.W;}else {n.l=r;return}}}}return this.i+=1,n}I(e,r){for(;e;){let i=this.v(e.u,r);if(i<0)e=e.W;else if(i>0)e=e.U;else return e}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0;}updateKeyByIterator(e,r){let i=e.o;if(i===this.h&&(0, up.throwIteratorAccessError)(),this.i===1)return i.u=r,!0;if(i===this.h.U)return this.v(i.B().u,r)>0?(i.u=r,!0):!1;if(i===this.h.W)return this.v(i.L().u,r)<0?(i.u=r,!0):!1;let n=i.L().u;if(this.v(n,r)>=0)return !1;let o=i.B().u;return this.v(o,r)<=0?!1:(i.u=r,!0)}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=0,i=this;return this.oe(this.Y,function(n){return e===r?(i.V(n),!0):(r+=1,!1)}),this.i}eraseElementByKey(e){if(this.i===0)return !1;let r=this.I(this.Y,e);return r===this.h?!1:(this.V(r),!0)}eraseElementByIterator(e){let r=e.o;r===this.h&&(0, up.throwIteratorAccessError)();let i=r.W===void 0;return e.iteratorType===0?i&&e.next():(!i||r.U===void 0)&&e.next(),this.V(r),e}forEach(e){let r=0;for(let i of this)e(i,r++,this);}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r,i=0;for(let n of this){if(i===e){r=n;break}i+=1;}return r}getHeight(){if(this.i===0)return 0;let e=function(r){return r?Math.max(e(r.U),e(r.W))+1:0};return e(this.Y)}},$1=Ea;Kn.default=$1;});var Ia=M(Qn=>{_();v();m();Object.defineProperty(Qn,"t",{value:!0});Qn.default=void 0;var H1=lt(),Gn=ut(),Aa=class extends H1.ContainerIterator{constructor(e,r,i){super(i),this.o=e,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0, Gn.throwIteratorAccessError)(),this.o=this.o.L(),this});}get index(){let e=this.o,r=this.h.tt;if(e===this.h)return r?r.rt-1:0;let i=0;for(e.U&&(i+=e.U.rt);e!==r;){let n=e.tt;e===n.W&&(i+=1,n.U&&(i+=n.U.rt)),e=n;}return i}},V1=Aa;Qn.default=V1;});var cp=M(Yn=>{_();v();m();Object.defineProperty(Yn,"t",{value:!0});Yn.default=void 0;var z1=fp(Sa()),K1=fp(Ia()),G1=ut();function fp(t){return t&&t.t?t:{default:t}}var Ke=class t extends K1.default{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){return this.o===this.h&&(0, G1.throwIteratorAccessError)(),this.o.u}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Ta=class extends z1.default{constructor(e=[],r,i){super(r,i);let n=this;e.forEach(function(o){n.insert(o);});}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W));}begin(){return new Ke(this.h.U||this.h,this.h,this)}end(){return new Ke(this.h,this.h,this)}rBegin(){return new Ke(this.h.W||this.h,this.h,this,1)}rEnd(){return new Ke(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,r){return this.M(e,void 0,r)}find(e){let r=this.I(this.Y,e);return new Ke(r,this.h,this)}lowerBound(e){let r=this.X(this.Y,e);return new Ke(r,this.h,this)}upperBound(e){let r=this.Z(this.Y,e);return new Ke(r,this.h,this)}reverseLowerBound(e){let r=this.$(this.Y,e);return new Ke(r,this.h,this)}reverseUpperBound(e){let r=this.rr(this.Y,e);return new Ke(r,this.h,this)}union(e){let r=this;return e.forEach(function(i){r.insert(i);}),this.i}[Symbol.iterator](){return this.K(this.Y)}},Q1=Ta;Yn.default=Q1;});var dp=M(Jn=>{_();v();m();Object.defineProperty(Jn,"t",{value:!0});Jn.default=void 0;var Y1=hp(Sa()),J1=hp(Ia()),X1=ut();function hp(t){return t&&t.t?t:{default:t}}var Ge=class t extends J1.default{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){this.o===this.h&&(0, X1.throwIteratorAccessError)();let e=this;return new Proxy([],{get(r,i){if(i==="0")return e.o.u;if(i==="1")return e.o.l},set(r,i,n){if(i!=="1")throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Ra=class extends Y1.default{constructor(e=[],r,i){super(r,i);let n=this;e.forEach(function(o){n.setElement(o[0],o[1]);});}*K(e){e!==void 0&&(yield*this.K(e.U),yield [e.u,e.l],yield*this.K(e.W));}begin(){return new Ge(this.h.U||this.h,this.h,this)}end(){return new Ge(this.h,this.h,this)}rBegin(){return new Ge(this.h.W||this.h,this.h,this,1)}rEnd(){return new Ge(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return [e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return [e.u,e.l]}lowerBound(e){let r=this.X(this.Y,e);return new Ge(r,this.h,this)}upperBound(e){let r=this.Z(this.Y,e);return new Ge(r,this.h,this)}reverseLowerBound(e){let r=this.$(this.Y,e);return new Ge(r,this.h,this)}reverseUpperBound(e){let r=this.rr(this.Y,e);return new Ge(r,this.h,this)}setElement(e,r,i){return this.M(e,r,i)}find(e){let r=this.I(this.Y,e);return new Ge(r,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let r=this;return e.forEach(function(i){r.setElement(i[0],i[1]);}),this.i}[Symbol.iterator](){return this.K(this.Y)}},Z1=Ra;Jn.default=Z1;});var Ba=M(Ca=>{_();v();m();Object.defineProperty(Ca,"t",{value:!0});Ca.default=ev;function ev(t){let e=typeof t;return e==="object"&&t!==null||e==="function"}});var xa=M(ti=>{_();v();m();Object.defineProperty(ti,"t",{value:!0});ti.HashContainerIterator=ti.HashContainer=void 0;var pp=lt(),Pa=tv(Ba()),Ci=ut();function tv(t){return t&&t.t?t:{default:t}}var ka=class extends pp.ContainerIterator{constructor(e,r,i){super(i),this.o=e,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0, Ci.throwIteratorAccessError)(),this.o=this.o.L,this});}};ti.HashContainerIterator=ka;var Oa=class extends pp.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h;}V(e){let{L:r,B:i}=e;r.B=i,i.L=r,e===this.p&&(this.p=i),e===this._&&(this._=r),this.i-=1;}M(e,r,i){i===void 0&&(i=(0, Pa.default)(e));let n;if(i){let o=e[this.HASH_TAG];if(o!==void 0)return this.H[o].l=r,this.i;Object.defineProperty(e,this.HASH_TAG,{value:this.H.length,configurable:!0}),n={u:e,l:r,L:this._,B:this.h},this.H.push(n);}else {let o=this.g[e];if(o)return o.l=r,this.i;n={u:e,l:r,L:this._,B:this.h},this.g[e]=n;}return this.i===0?(this.p=n,this.h.B=n):this._.B=n,this._=n,this.h.L=n,++this.i}I(e,r){if(r===void 0&&(r=(0, Pa.default)(e)),r){let i=e[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[e]||this.h}clear(){let e=this.HASH_TAG;this.H.forEach(function(r){delete r.u[e];}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h;}eraseElementByKey(e,r){let i;if(r===void 0&&(r=(0, Pa.default)(e)),r){let n=e[this.HASH_TAG];if(n===void 0)return !1;delete e[this.HASH_TAG],i=this.H[n],delete this.H[n];}else {if(i=this.g[e],i===void 0)return !1;delete this.g[e];}return this.V(i),!0}eraseElementByIterator(e){let r=e.o;return r===this.h&&(0, Ci.throwIteratorAccessError)(),this.V(r),e.next()}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return this.V(r),this.i}};ti.HashContainer=Oa;});var yp=M(Xn=>{_();v();m();Object.defineProperty(Xn,"t",{value:!0});Xn.default=void 0;var gp=xa(),rv=ut(),Ar=class t extends gp.HashContainerIterator{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){return this.o===this.h&&(0, rv.throwIteratorAccessError)(),this.o.u}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},Ma=class extends gp.HashContainer{constructor(e=[]){super();let r=this;e.forEach(function(i){r.insert(i);});}begin(){return new Ar(this.p,this.h,this)}end(){return new Ar(this.h,this.h,this)}rBegin(){return new Ar(this._,this.h,this,1)}rEnd(){return new Ar(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,r){return this.M(e,void 0,r)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return r.u}find(e,r){let i=this.I(e,r);return new Ar(i,this.h,this)}forEach(e){let r=0,i=this.p;for(;i!==this.h;)e(i.u,r++,this),i=i.B;}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B;}.bind(this)()}},iv=Ma;Xn.default=iv;});var wp=M(Zn=>{_();v();m();Object.defineProperty(Zn,"t",{value:!0});Zn.default=void 0;var bp=xa(),nv=ov(Ba()),sv=ut();function ov(t){return t&&t.t?t:{default:t}}var Ir=class t extends bp.HashContainerIterator{constructor(e,r,i,n){super(e,r,n),this.container=i;}get pointer(){this.o===this.h&&(0, sv.throwIteratorAccessError)();let e=this;return new Proxy([],{get(r,i){if(i==="0")return e.o.u;if(i==="1")return e.o.l},set(r,i,n){if(i!=="1")throw new TypeError("props must be 1");return e.o.l=n,!0}})}copy(){return new t(this.o,this.h,this.container,this.iteratorType)}},La=class extends bp.HashContainer{constructor(e=[]){super();let r=this;e.forEach(function(i){r.setElement(i[0],i[1]);});}begin(){return new Ir(this.p,this.h,this)}end(){return new Ir(this.h,this.h,this)}rBegin(){return new Ir(this._,this.h,this,1)}rEnd(){return new Ir(this.h,this.h,this,1)}front(){if(this.i!==0)return [this.p.u,this.p.l]}back(){if(this.i!==0)return [this._.u,this._.l]}setElement(e,r,i){return this.M(e,r,i)}getElementByKey(e,r){if(r===void 0&&(r=(0, nv.default)(e)),r){let n=e[this.HASH_TAG];return n!==void 0?this.H[n].l:void 0}let i=this.g[e];return i?i.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let r=this.p;for(;e--;)r=r.B;return [r.u,r.l]}find(e,r){let i=this.I(e,r);return new Ir(i,this.h,this)}forEach(e){let r=0,i=this.p;for(;i!==this.h;)e([i.u,i.l],r++,this),i=i.B;}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield [e.u,e.l],e=e.B;}.bind(this)()}},av=La;Zn.default=av;});var _p=M(je=>{_();v();m();Object.defineProperty(je,"t",{value:!0});Object.defineProperty(je,"Deque",{enumerable:!0,get:function(){return dv.default}});Object.defineProperty(je,"HashMap",{enumerable:!0,get:function(){return bv.default}});Object.defineProperty(je,"HashSet",{enumerable:!0,get:function(){return yv.default}});Object.defineProperty(je,"LinkList",{enumerable:!0,get:function(){return hv.default}});Object.defineProperty(je,"OrderedMap",{enumerable:!0,get:function(){return gv.default}});Object.defineProperty(je,"OrderedSet",{enumerable:!0,get:function(){return pv.default}});Object.defineProperty(je,"PriorityQueue",{enumerable:!0,get:function(){return fv.default}});Object.defineProperty(je,"Queue",{enumerable:!0,get:function(){return uv.default}});Object.defineProperty(je,"Stack",{enumerable:!0,get:function(){return lv.default}});Object.defineProperty(je,"Vector",{enumerable:!0,get:function(){return cv.default}});var lv=ft(tp()),uv=ft(rp()),fv=ft(ip()),cv=ft(np()),hv=ft(sp()),dv=ft(op()),pv=ft(cp()),gv=ft(dp()),yv=ft(yp()),bv=ft(wp());function ft(t){return t&&t.t?t:{default:t}}});var vp=M((AN,mp)=>{_();v();m();var wv=_p().OrderedSet,ct=ot()("number-allocator:trace"),_v=ot()("number-allocator:error");function Re(t,e){this.low=t,this.high=e;}Re.prototype.equals=function(t){return this.low===t.low&&this.high===t.high};Re.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function ht(t,e){if(!(this instanceof ht))return new ht(t,e);this.min=t,this.max=e,this.ss=new wv([],(r,i)=>r.compare(i)),ct("Create"),this.clear();}ht.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low};ht.prototype.alloc=function(){if(this.ss.size()===0)return ct("alloc():empty"),null;let t=this.ss.begin(),e=t.pointer.low,r=t.pointer.high,i=e;return i+1<=r?this.ss.updateKeyByIterator(t,new Re(e+1,r)):this.ss.eraseElementByPos(0),ct("alloc():"+i),i};ht.prototype.use=function(t){let e=new Re(t,t),r=this.ss.lowerBound(e);if(!r.equals(this.ss.end())){let i=r.pointer.low,n=r.pointer.high;return r.pointer.equals(e)?(this.ss.eraseElementByIterator(r),ct("use():"+t),!0):i>t?!1:i===t?(this.ss.updateKeyByIterator(r,new Re(i+1,n)),ct("use():"+t),!0):n===t?(this.ss.updateKeyByIterator(r,new Re(i,n-1)),ct("use():"+t),!0):(this.ss.updateKeyByIterator(r,new Re(t+1,n)),this.ss.insert(new Re(i,t-1)),ct("use():"+t),!0)}return ct("use():failed"),!1};ht.prototype.free=function(t){if(t<this.min||t>this.max){_v("free():"+t+" is out of range");return}let e=new Re(t,t),r=this.ss.upperBound(e);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin())){this.ss.insert(e);return}r.pre();let i=r.pointer.high;r.pointer.high+1===t?this.ss.updateKeyByIterator(r,new Re(i,t)):this.ss.insert(e);}else if(r.equals(this.ss.begin()))if(t+1===r.pointer.low){let i=r.pointer.high;this.ss.updateKeyByIterator(r,new Re(t,i));}else this.ss.insert(e);else {let i=r.pointer.low,n=r.pointer.high;r.pre();let o=r.pointer.low;r.pointer.high+1===t?t+1===i?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new Re(o,n))):this.ss.updateKeyByIterator(r,new Re(o,t)):t+1===i?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new Re(t,n))):this.ss.insert(e);}ct("free():"+t);};ht.prototype.clear=function(){ct("clear()"),this.ss.clear(),this.ss.insert(new Re(this.min,this.max));};ht.prototype.intervalCount=function(){return this.ss.size()};ht.prototype.dump=function(){console.log("length:"+this.ss.size());for(let t of this.ss)console.log(t);};mp.exports=ht;});var Ua=M((MN,Ep)=>{_();v();m();var mv=vp();Ep.exports.NumberAllocator=mv;});var Sp=M(qa=>{_();v();m();Object.defineProperty(qa,"__esModule",{value:!0});var vv=ep(),Ev=Ua(),Na=class{constructor(e){e>0&&(this.aliasToTopic=new vv.LRUCache({max:e}),this.topicToAlias={},this.numberAllocator=new Ev.NumberAllocator(1,e),this.max=e,this.length=0);}put(e,r){if(r===0||r>this.max)return !1;let i=this.aliasToTopic.get(r);return i&&delete this.topicToAlias[i],this.aliasToTopic.set(r,e),this.topicToAlias[e]=r,this.numberAllocator.use(r),this.length=this.aliasToTopic.size,!0}getTopicByAlias(e){return this.aliasToTopic.get(e)}getAliasByTopic(e){let r=this.topicToAlias[e];return typeof r<"u"&&this.aliasToTopic.get(r),r}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0;}getLruAlias(){let e=this.numberAllocator.firstVacant();return e||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};qa.default=Na;});var Ap=M(Bi=>{_();v();m();var Sv=Bi&&Bi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});var Av=Ti(),Iv=Sv(Sp()),Tv=_r(),Rv=(t,e)=>{t.log("_handleConnack");let{options:r}=t,n=r.protocolVersion===5?e.reasonCode:e.returnCode;if(clearTimeout(t.connackTimer),delete t.topicAliasSend,e.properties){if(e.properties.topicAliasMaximum){if(e.properties.topicAliasMaximum>65535){t.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}e.properties.topicAliasMaximum>0&&(t.topicAliasSend=new Iv.default(e.properties.topicAliasMaximum));}e.properties.serverKeepAlive&&r.keepalive&&(r.keepalive=e.properties.serverKeepAlive),e.properties.maximumPacketSize&&(r.properties||(r.properties={}),r.properties.maximumPacketSize=e.properties.maximumPacketSize);}if(n===0)t.reconnecting=!1,t._onConnect(e);else if(n>0){let o=new Tv.ErrorWithReasonCode(`Connection refused: ${Av.ReasonCodes[n]}`,n);t.emit("error",o);}};Bi.default=Rv;});var Ip=M(Da=>{_();v();m();Object.defineProperty(Da,"__esModule",{value:!0});var Cv=(t,e,r)=>{t.log("handling pubrel packet");let i=typeof r<"u"?r:t.noop,{messageId:n}=e,o={cmd:"pubcomp",messageId:n};t.incomingStore.get(e,(s,a)=>{s?t._sendPacket(o,i):(t.emit("message",a.topic,a.payload,a),t.handleMessage(a,l=>{if(l)return i(l);t.incomingStore.del(a,t.noop),t._sendPacket(o,i);}));});};Da.default=Cv;});var Tp=M(Pi=>{_();v();m();var ki=Pi&&Pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});var Bv=ki(Vd()),Pv=ki(Qd()),kv=ki(Ap()),Ov=ki(Ti()),xv=ki(Ip()),Mv=(t,e,r)=>{let{options:i}=t;if(i.protocolVersion===5&&i.properties&&i.properties.maximumPacketSize&&i.properties.maximumPacketSize<e.length)return t.emit("error",new Error(`exceeding packets size ${e.cmd}`)),t.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),t;switch(t.log("_handlePacket :: emitting packetreceive"),t.emit("packetreceive",e),e.cmd){case"publish":(0, Bv.default)(t,e,r);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":t.reschedulePing(),(0, Ov.default)(t,e),r();break;case"pubrel":t.reschedulePing(),(0, xv.default)(t,e,r);break;case"connack":(0, kv.default)(t,e),r();break;case"auth":t.reschedulePing(),(0, Pv.default)(t,e),r();break;case"pingresp":t.log("_handlePacket :: received pingresp"),t.reschedulePing(!0),r();break;case"disconnect":t.emit("disconnect",e),r();break;default:t.log("_handlePacket :: unknown command"),r();break}};Pi.default=Mv;});var Rp=M(ri=>{_();v();m();var Lv=ri&&ri.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ri,"__esModule",{value:!0});ri.TypedEventEmitter=void 0;var Uv=Lv((sr(),X(nr))),Nv=_r(),es=class{};ri.TypedEventEmitter=es;(0, Nv.applyMixin)(es,Uv.default);});var Oi=M(Tr=>{_();v();m();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isReactNativeBrowser=Tr.isWebWorker=void 0;var qv=()=>{var t;return typeof window<"u"?typeof navigator<"u"&&((t=navigator.userAgent)===null||t===void 0?void 0:t.toLowerCase().indexOf(" electron/"))>-1&&(!(B===null||B===void 0)&&B.versions)?!Object.prototype.hasOwnProperty.call(B.versions,"electron"):typeof window.document<"u":!1},Cp=()=>{var t,e;return !!(typeof self=="object"&&(!((e=(t=self?.constructor)===null||t===void 0?void 0:t.name)===null||e===void 0)&&e.includes("WorkerGlobalScope")))},Bp=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dv=qv()||Cp()||Bp();Tr.isWebWorker=Cp();Tr.isReactNativeBrowser=Bp();Tr.default=Dv;});var kp=M((ts,Pp)=>{_();v();m();(function(t,e){typeof ts=="object"&&typeof Pp<"u"?e(ts):typeof define=="function"&&__webpack_require__.amdO?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.fastUniqueNumbers={}));})(ts,function(t){var e=function(g){return function(y){var w=g(y);return y.add(w),w}},r=function(g){return function(y,w){return g.set(y,w),w}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,o=n*2,s=function(g,y){return function(w){var S=y.get(w),E=S===void 0?w.size:S<o?S+1:0;if(!w.has(E))return g(w,E);if(w.size<n){for(;w.has(E);)E=Math.floor(Math.random()*o);return g(w,E)}if(w.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;w.has(E);)E=Math.floor(Math.random()*i);return g(w,E)}},a=new WeakMap,l=r(a),c=s(l,a),h=e(c);t.addUniqueNumber=h,t.generateUniqueNumber=c;});});var xp=M((rs,Op)=>{_();v();m();(function(t,e){typeof rs=="object"&&typeof Op<"u"?e(rs,kp()):typeof define=="function"&&__webpack_require__.amdO?define(["exports","fast-unique-numbers"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.workerTimersBroker={},t.fastUniqueNumbers));})(rs,function(t,e){var r=function(s){return s.method!==void 0&&s.method==="call"},i=function(s){return s.error===null&&typeof s.id=="number"},n=function(s){var a=new Map([[0,function(){}]]),l=new Map([[0,function(){}]]),c=new Map,h=new Worker(s);h.addEventListener("message",function(S){var E=S.data;if(r(E)){var I=E.params,C=I.timerId,R=I.timerType;if(R==="interval"){var U=a.get(C);if(typeof U=="number"){var N=c.get(U);if(N===void 0||N.timerId!==C||N.timerType!==R)throw new Error("The timer is in an undefined state.")}else if(typeof U<"u")U();else throw new Error("The timer is in an undefined state.")}else if(R==="timeout"){var W=l.get(C);if(typeof W=="number"){var K=c.get(W);if(K===void 0||K.timerId!==C||K.timerType!==R)throw new Error("The timer is in an undefined state.")}else if(typeof W<"u")W(),l.delete(C);else throw new Error("The timer is in an undefined state.")}}else if(i(E)){var z=E.id,Q=c.get(z);if(Q===void 0)throw new Error("The timer is in an undefined state.");var pe=Q.timerId,Yt=Q.timerType;c.delete(z),Yt==="interval"?a.delete(pe):l.delete(pe);}else {var ge=E.error.message;throw new Error(ge)}});var d=function(E){var I=e.generateUniqueNumber(c);c.set(I,{timerId:E,timerType:"interval"}),a.set(E,I),h.postMessage({id:I,method:"clear",params:{timerId:E,timerType:"interval"}});},g=function(E){var I=e.generateUniqueNumber(c);c.set(I,{timerId:E,timerType:"timeout"}),l.set(E,I),h.postMessage({id:I,method:"clear",params:{timerId:E,timerType:"timeout"}});},y=function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=e.generateUniqueNumber(a);return a.set(C,function(){E(),typeof a.get(C)=="function"&&h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"interval"}});}),h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"interval"}}),C},w=function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=e.generateUniqueNumber(l);return l.set(C,E),h.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:C,timerType:"timeout"}}),C};return {clearInterval:d,clearTimeout:g,setInterval:y,setTimeout:w}};t.load=n;});});var Lp=M((is,Mp)=>{_();v();m();(function(t,e){typeof is=="object"&&typeof Mp<"u"?e(is,xp()):typeof define=="function"&&__webpack_require__.amdO?define(["exports","worker-timers-broker"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.workerTimers={},t.workerTimersBroker));})(is,function(t,e){var r=function(h,d){var g=null;return function(){if(g!==null)return g;var y=new Blob([d],{type:"application/javascript; charset=utf-8"}),w=URL.createObjectURL(y);return g=h(w),setTimeout(function(){return URL.revokeObjectURL(w)}),g}},i=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,n=r(e.load,i),o=function(h){return n().clearInterval(h)},s=function(h){return n().clearTimeout(h)},a=function(){var h;return (h=n()).setInterval.apply(h,arguments)},l=function(){var h;return (h=n()).setTimeout.apply(h,arguments)};t.clearInterval=o,t.clearTimeout=s,t.setInterval=a,t.setTimeout=l;});});var Dp=M(Ct=>{_();v();m();var jv=Ct&&Ct.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),Fv=Ct&&Ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),Wv=Ct&&Ct.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jv(e,t,r);return Fv(e,t),e};Object.defineProperty(Ct,"__esModule",{value:!0});var ja=Wv(Oi()),Up=Lp(),Np={set:Up.setInterval,clear:Up.clearInterval},qp={set:(t,e)=>setInterval(t,e),clear:t=>clearInterval(t)},$v=t=>{switch(t){case"native":return qp;case"worker":return Np;case"auto":default:return ja.default&&!ja.isWebWorker&&!ja.isReactNativeBrowser?Np:qp}};Ct.default=$v;});var Wa=M(xi=>{_();v();m();var Hv=xi&&xi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});var Vv=Hv(Dp()),Fa=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(e,r){this.destroyed=!1,this.client=e,this.timer=typeof r=="object"&&"set"in r&&"clear"in r?r:(0, Vv.default)(r),this.setKeepalive(e.options.keepalive);}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null);}setKeepalive(e){if(e*=1e3,isNaN(e)||e<=0||e>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${e}`);this._keepalive=e,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${e}ms`);}destroy(){this.clear(),this.destroyed=!0;}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let e=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+e,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout());},this._intervalEvery);}};xi.default=Fa;});var os=M(Qe=>{_();v();m();var zv=Qe&&Qe.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),Kv=Qe&&Qe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),Hp=Qe&&Qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zv(e,t,r);return Kv(e,t),e},zt=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qe,"__esModule",{value:!0});var Gv=zt(Gu()),$a=zt(Nd()),Qv=zt(Zo()),Yv=jt(),jp=zt(Fd()),Fp=Hp($d()),Jv=zt(ot()),ii=zt(ra()),Xv=zt(Tp()),ns=_r(),Zv=Rp(),eE=zt(Wa()),Wp=Hp(Oi()),Ha=globalThis.setImmediate||((...t)=>{let e=t.shift();(0, ns.nextTick)(()=>{e(...t);});}),$p={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},ss=class t extends Zv.TypedEventEmitter{static defaultId(){return `mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(e,r){super(),this.options=r||{};for(let i in $p)typeof this.options[i]>"u"?this.options[i]=$p[i]:this.options[i]=r[i];this.log=this.options.log||(0, Jv.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",t.VERSION),Wp.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",Wp.default?"browser":"node"),this.log("MqttClient :: options.protocol",r.protocol),this.log("MqttClient :: options.protocolVersion",r.protocolVersion),this.log("MqttClient :: options.username",r.username),this.log("MqttClient :: options.keepalive",r.keepalive),this.log("MqttClient :: options.reconnectPeriod",r.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",r.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",r.properties?r.properties.topicAliasMaximum:void 0),this.options.clientId=typeof r.clientId=="string"?r.clientId:t.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=r.protocolVersion===5&&r.customHandleAcks?r.customHandleAcks:(...i)=>{i[3](null,0);},this.options.writeCache||($a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=e,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new Qv.default:this.options.messageIdProvider,this.outgoingStore=r.outgoingStore||new ii.default,this.incomingStore=r.incomingStore||new ii.default,this.queueQoSZero=r.queueQoSZero===void 0?!0:r.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,r.properties&&r.properties.topicAliasMaximum>0&&(r.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new Gv.default(r.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:i}=this,n=()=>{let o=i.shift();this.log("deliver :: entry %o",o);let s=null;if(!o){this._resubscribe();return}s=o.packet,this.log("deliver :: call _sendPacket for %o",s);let a=!0;s.messageId&&s.messageId!==0&&(this.messageIdProvider.register(s.messageId)||(a=!1)),a?this._sendPacket(s,l=>{o.cb&&o.cb(l),n();}):(this.log("messageId: %d has already used. The message is skipped and removed.",s.messageId),n());};this.log("connect :: sending queued packets"),n();}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect();}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect());}handleAuth(e,r){r();}handleMessage(e,r){r();}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var e;let r=new Yv.Writable,i=$a.default.parser(this.options),n=null,o=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new ii.default,this.outgoingStore=this.options.outgoingStore||new ii.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),i.on("packet",h=>{this.log("parser :: on packet push to packets array."),o.push(h);});let s=()=>{this.log("work :: getting next packet in queue");let h=o.shift();if(h)this.log("work :: packet pulled from queue"),(0, Xv.default)(this,h,a);else {this.log("work :: no packets in queue");let d=n;n=null,this.log("work :: done flag is %s",!!d),d&&d();}},a=()=>{if(o.length)(0, ns.nextTick)(s);else {let h=n;n=null,h();}};r._write=(h,d,g)=>{n=g,this.log("writable stream :: parsing buffer"),i.parse(h),s();};let l=h=>{this.log("streamErrorHandler :: error",h.message),h.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",h)):this.noop(h);};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(r),this.stream.on("error",l),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close");}),this.log("connect: sending packet `connect`");let c={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(c.will=Object.assign(Object.assign({},this.options.will),{payload:(e=this.options.will)===null||e===void 0?void 0:e.payload})),this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(c),i.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let h=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(h);}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0);},this.options.connectTimeout),this}publish(e,r,i,n){this.log("publish :: message `%s` to topic `%s`",r,e);let{options:o}=this;typeof i=="function"&&(n=i,i=null),i=i||{},i=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),i);let{qos:a,retain:l,dup:c,properties:h,cbStorePut:d}=i;if(this._checkDisconnecting(n))return this;let g=()=>{let y=0;if((a===1||a===2)&&(y=this._nextId(),y===null))return this.log("No messageId left"),!1;let w={cmd:"publish",topic:e,payload:r,qos:a,retain:l,messageId:y,dup:c};switch(o.protocolVersion===5&&(w.properties=h),this.log("publish :: qos",a),a){case 1:case 2:this.outgoing[w.messageId]={volatile:!1,cb:n||this.noop},this.log("MqttClient:publish: packet cmd: %s",w.cmd),this._sendPacket(w,void 0,d);break;default:this.log("MqttClient:publish: packet cmd: %s",w.cmd),this._sendPacket(w,n,d);break}return !0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!g())&&this._storeProcessingQueue.push({invoke:g,cbStorePut:i.cbStorePut,callback:n}),this}publishAsync(e,r,i){return new Promise((n,o)=>{this.publish(e,r,i,(s,a)=>{s?o(s):n(a);});})}subscribe(e,r,i){let n=this.options.protocolVersion;typeof r=="function"&&(i=r),i=i||this.noop;let o=!1,s=[];typeof e=="string"?(e=[e],s=e):Array.isArray(e)?s=e:typeof e=="object"&&(o=e.resubscribe,delete e.resubscribe,s=Object.keys(e));let a=Fp.validateTopics(s);if(a!==null)return Ha(i,new Error(`Invalid topic ${a}`)),this;if(this._checkDisconnecting(i))return this.log("subscribe: discconecting true"),this;let l={qos:0};n===5&&(l.nl=!1,l.rap=!1,l.rh=0),r=Object.assign(Object.assign({},l),r);let c=r.properties,h=[],d=(y,w)=>{if(w=w||r,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,y)||this._resubscribeTopics[y].qos<w.qos||o){let S={topic:y,qos:w.qos};n===5&&(S.nl=w.nl,S.rap=w.rap,S.rh=w.rh,S.properties=c),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",S.topic,S.qos),h.push(S);}};if(Array.isArray(e)?e.forEach(y=>{this.log("subscribe: array topic %s",y),d(y);}):Object.keys(e).forEach(y=>{this.log("subscribe: object topic %s, %o",y,e[y]),d(y,e[y]);}),!h.length)return i(null,[]),this;let g=()=>{let y=this._nextId();if(y===null)return this.log("No messageId left"),!1;let w={cmd:"subscribe",subscriptions:h,messageId:y};if(c&&(w.properties=c),this.options.resubscribe){this.log("subscribe :: resubscribe true");let S=[];h.forEach(E=>{if(this.options.reconnectPeriod>0){let I={qos:E.qos};n===5&&(I.nl=E.nl||!1,I.rap=E.rap||!1,I.rh=E.rh||0,I.properties=E.properties),this._resubscribeTopics[E.topic]=I,S.push(E.topic);}}),this.messageIdToTopic[w.messageId]=S;}return this.outgoing[w.messageId]={volatile:!0,cb(S,E){if(!S){let{granted:I}=E;for(let C=0;C<I.length;C+=1)h[C].qos=I[C];}i(S,h,E);}},this.log("subscribe :: call _sendPacket"),this._sendPacket(w),!0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!g())&&this._storeProcessingQueue.push({invoke:g,callback:i}),this}subscribeAsync(e,r){return new Promise((i,n)=>{this.subscribe(e,r,(o,s)=>{o?n(o):i(s);});})}unsubscribe(e,r,i){typeof e=="string"&&(e=[e]),typeof r=="function"&&(i=r),i=i||this.noop;let n=Fp.validateTopics(e);if(n!==null)return Ha(i,new Error(`Invalid topic ${n}`)),this;if(this._checkDisconnecting(i))return this;let o=()=>{let s=this._nextId();if(s===null)return this.log("No messageId left"),!1;let a={cmd:"unsubscribe",messageId:s,unsubscriptions:[]};return typeof e=="string"?a.unsubscriptions=[e]:Array.isArray(e)&&(a.unsubscriptions=e),this.options.resubscribe&&a.unsubscriptions.forEach(l=>{delete this._resubscribeTopics[l];}),typeof r=="object"&&r.properties&&(a.properties=r.properties),this.outgoing[a.messageId]={volatile:!0,cb:i},this.log("unsubscribe: call _sendPacket"),this._sendPacket(a),!0};return (this._storeProcessing||this._storeProcessingQueue.length>0||!o())&&this._storeProcessingQueue.push({invoke:o,callback:i}),this}unsubscribeAsync(e,r){return new Promise((i,n)=>{this.unsubscribe(e,r,(o,s)=>{o?n(o):i(s);});})}end(e,r,i){this.log("end :: (%s)",this.options.clientId),(e==null||typeof e!="boolean")&&(i=i||r,r=e,e=!1),typeof r!="object"&&(i=i||r,r=null),this.log("end :: cb? %s",!!i),(!i||typeof i!="function")&&(i=this.noop);let n=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(s=>{this.outgoingStore.close(a=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),i){let l=s||a;this.log("end :: closeStores: invoking callback with args"),i(l);}});}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1);},o=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,e),this._cleanUp(e,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0, ns.nextTick)(n);},r);};return this.disconnecting?(i(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),o()),this)}endAsync(e,r){return new Promise((i,n)=>{this.end(e,r,o=>{o?n(o):i();});})}removeOutgoingMessage(e){if(this.outgoing[e]){let{cb:r}=this.outgoing[e];this._removeOutgoingAndStoreMessage(e,()=>{r(new Error("Message removed"));});}return this}reconnect(e){this.log("client reconnect");let r=()=>{e?(this.options.incomingStore=e.incomingStore,this.options.outgoingStore=e.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new ii.default,this.outgoingStore=this.options.outgoingStore||new ii.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect();};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(e=>{this.outgoing[e].volatile&&typeof this.outgoing[e].cb=="function"&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e]);}));}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(e=>{typeof this.outgoing[e].cb=="function"&&(this.outgoing[e].cb(new Error("Connection closed")),delete this.outgoing[e]);}));}_removeTopicAliasAndRecoverTopicName(e){let r;e.properties&&(r=e.properties.topicAlias);let i=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",r,i),i.length===0){if(typeof r>"u")return new Error("Unregistered Topic Alias");if(i=this.topicAliasSend.getTopicByAlias(r),typeof i>"u")return new Error("Unregistered Topic Alias");e.topic=i;}r&&delete e.properties.topicAlias;}_checkDisconnecting(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect();}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect());}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect();},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...");}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null);}_cleanUp(e,r,i={}){if(r&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",r)),this.log("_cleanUp :: forced? %s",e),e)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else {let n=Object.assign({cmd:"disconnect"},i);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(n,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),Ha(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId);});});});}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),r&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",r),r());}_storeAndSend(e,r,i){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let n=e,o;if(n.cmd==="publish"&&(n=(0, jp.default)(e),o=this._removeTopicAliasAndRecoverTopicName(n),o))return r&&r(o);this.outgoingStore.put(n,s=>{if(s)return r&&r(s);i(),this._writePacket(e,r);});}_applyTopicAlias(e){if(this.options.protocolVersion===5&&e.cmd==="publish"){let r;e.properties&&(r=e.properties.topicAlias);let i=e.topic.toString();if(this.topicAliasSend)if(r){if(i.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",i,r),!this.topicAliasSend.put(i,r)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}else i.length!==0&&(this.options.autoAssignTopicAlias?(r=this.topicAliasSend.getAliasByTopic(i),r?(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",i,r)):(r=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(i,r),e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",i,r))):this.options.autoUseTopicAlias&&(r=this.topicAliasSend.getAliasByTopic(i),r&&(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:r}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",i,r))));else if(r)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",i,r),new Error("Sending Topic Alias out of range")}}_noop(e){this.log("noop ::",e);}_writePacket(e,r){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this.log("_writePacket :: writing to stream");let i=$a.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",i),!i&&r&&r!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",r)):r&&(this.log("_writePacket :: invoking cb"),r());}_sendPacket(e,r,i,n){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),i=i||this.noop,r=r||this.noop;let o=this._applyTopicAlias(e);if(o){r(o);return}if(!this.connected){if(e.cmd==="auth"){this._writePacket(e,r);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(e,r,i);return}if(n){this._writePacket(e,r);return}switch(e.cmd){case"publish":break;case"pubrel":this._storeAndSend(e,r,i);return;default:this._writePacket(e,r);return}switch(e.qos){case 2:case 1:this._storeAndSend(e,r,i);break;case 0:default:this._writePacket(e,r);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId);}_storePacket(e,r,i){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!r),i=i||this.noop;let n=e;if(n.cmd==="publish"){n=(0, jp.default)(e);let s=this._removeTopicAliasAndRecoverTopicName(n);if(s)return r&&r(s)}let o=n.qos||0;o===0&&this.queueQoSZero||n.cmd!=="publish"?this.queue.push({packet:n,cb:r}):o>0?(r=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,s=>{if(s)return r&&r(s);i();})):r&&r(new Error("No connection to broker"));}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new eE.default(this,this.options.timerVariant));}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null);}reschedulePing(e=!1){this.keepaliveManager&&this.options.keepalive&&(e||this.options.reschedulePings)&&this._reschedulePing();}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule();}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"});}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0);}_resubscribe(){this.log("_resubscribe");let e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let r=0;r<e.length;r++){let i={};i[e[r]]=this._resubscribeTopics[e[r]],i.resubscribe=!0,this.subscribe(i,{properties:i[e[r]].properties});}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1;}_onConnect(e){if(this.disconnected){this.emit("connect",e);return}this.connackPacket=e,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let r=()=>{let i=this.outgoingStore.createStream(),n=()=>{i.destroy(),i=null,this._flushStoreProcessingQueue(),o();},o=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={};};this.once("close",n),i.on("error",a=>{o(),this._flushStoreProcessingQueue(),this.removeListener("close",n),this.emit("error",a);});let s=()=>{if(!i)return;let a=i.read(1),l;if(!a){i.once("readable",s);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[a.messageId]){s();return}!this.disconnecting&&!this.reconnectTimer?(l=this.outgoing[a.messageId]?this.outgoing[a.messageId].cb:null,this.outgoing[a.messageId]={volatile:!1,cb(c,h){l&&l(c,h),s();}},this._packetIdsDuringStoreProcessing[a.messageId]=!0,this.messageIdProvider.register(a.messageId)?this._sendPacket(a,void 0,void 0,!0):this.log("messageId: %d has already used.",a.messageId)):i.destroy&&i.destroy();};i.on("end",()=>{let a=!0;for(let l in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[l]){a=!1;break}this.removeListener("close",n),a?(o(),this._invokeAllStoreProcessingQueue(),this.emit("connect",e)):r();}),s();};r();}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return !1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let e of this._storeProcessingQueue)e.cbStorePut&&e.cbStorePut(new Error("Connection closed")),e.callback&&e.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0);}_removeOutgoingAndStoreMessage(e,r){delete this.outgoing[e],this.outgoingStore.del({messageId:e},(i,n)=>{r(i,n),this.messageIdProvider.deallocate(e),this._invokeStoreProcessingQueue();});}};ss.VERSION=ns.MQTTJS_VERSION;Qe.default=ss;});var Vp=M(za=>{_();v();m();Object.defineProperty(za,"__esModule",{value:!0});var tE=Ua(),Va=class{constructor(){this.numberAllocator=new tE.NumberAllocator(1,65535);}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(e){return this.numberAllocator.use(e)}deallocate(e){this.numberAllocator.free(e);}clear(){this.numberAllocator.clear();}};za.default=Va;});function Rr(t){throw new RangeError(sE[t])}function zp(t,e){let r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]);let n=function(o,s){let a=[],l=o.length;for(;l--;)a[l]=s(o[l]);return a}((t=t.replace(nE,".")).split("."),e).join(".");return i+n}function Yp(t){let e=[],r=0,i=t.length;for(;r<i;){let n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){let o=t.charCodeAt(r++);(64512&o)==56320?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),r--);}else e.push(n);}return e}var rE,iE,nE,sE,dt,Ka,Kp,Jp,Gp,Qp,Kt,Xp=_e(()=>{_();v();m();rE=/^xn--/,iE=/[^\0-\x7E]/,nE=/[\x2E\u3002\uFF0E\uFF61]/g,sE={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},dt=Math.floor,Ka=String.fromCharCode;Kp=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Jp=function(t,e,r){let i=0;for(t=r?dt(t/700):t>>1,t+=dt(t/e);t>455;i+=36)t=dt(t/35);return dt(i+36*t/(t+38))},Gp=function(t){let e=[],r=t.length,i=0,n=128,o=72,s=t.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)t.charCodeAt(l)>=128&&Rr("not-basic"),e.push(t.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let c=i;for(let d=1,g=36;;g+=36){l>=r&&Rr("invalid-input");let y=(a=t.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(y>=36||y>dt((2147483647-i)/d))&&Rr("overflow"),i+=y*d;let w=g<=o?1:g>=o+26?26:g-o;if(y<w)break;let S=36-w;d>dt(2147483647/S)&&Rr("overflow"),d*=S;}let h=e.length+1;o=Jp(i-c,h,c==0),dt(i/h)>2147483647-n&&Rr("overflow"),n+=dt(i/h),i%=h,e.splice(i++,0,n);}var a;return String.fromCodePoint(...e)},Qp=function(t){let e=[],r=(t=Yp(t)).length,i=128,n=0,o=72;for(let l of t)l<128&&e.push(Ka(l));let s=e.length,a=s;for(s&&e.push("-");a<r;){let l=2147483647;for(let h of t)h>=i&&h<l&&(l=h);let c=a+1;l-i>dt((2147483647-n)/c)&&Rr("overflow"),n+=(l-i)*c,i=l;for(let h of t)if(h<i&&++n>2147483647&&Rr("overflow"),h==i){let d=n;for(let g=36;;g+=36){let y=g<=o?1:g>=o+26?26:g-o;if(d<y)break;let w=d-y,S=36-y;e.push(Ka(Kp(y+w%S,0))),d=dt(w/S);}e.push(Ka(Kp(d,0))),o=Jp(n,c,a==s),n=0,++a;}++n,++i;}return e.join("")},Kt={version:"2.1.0",ucs2:{decode:Yp,encode:t=>String.fromCodePoint(...t)},decode:Gp,encode:Qp,toASCII:function(t){return zp(t,function(e){return iE.test(e)?"xn--"+Qp(e):e})},toUnicode:function(t){return zp(t,function(e){return rE.test(e)?Gp(e.slice(4).toLowerCase()):e})}};Kt.decode;Kt.encode;Kt.toASCII;Kt.toUnicode;Kt.ucs2;Kt.version;});function oE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var aE,Mi,lE,pt,Zp=_e(()=>{_();v();m();aE=function(t,e,r,i){e=e||"&",r=r||"=";var n={};if(typeof t!="string"||t.length===0)return n;var o=/\+/g;t=t.split(e);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var c,h,d,g,y=t[l].replace(o,"%20"),w=y.indexOf(r);w>=0?(c=y.substr(0,w),h=y.substr(w+1)):(c=y,h=""),d=decodeURIComponent(c),g=decodeURIComponent(h),oE(n,d)?Array.isArray(n[d])?n[d].push(g):n[d]=[n[d],g]:n[d]=g;}return n},Mi=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return ""}},lE=function(t,e,r,i){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(n){var o=encodeURIComponent(Mi(n))+r;return Array.isArray(t[n])?t[n].map(function(s){return o+encodeURIComponent(Mi(s))}).join(e):o+encodeURIComponent(Mi(t[n]))}).join(e):i?encodeURIComponent(Mi(i))+r+encodeURIComponent(Mi(t)):""},pt={};pt.decode=pt.parse=aE,pt.encode=pt.stringify=lE;pt.decode;pt.encode;pt.parse;pt.stringify;});function Ga(){throw new Error("setTimeout has not been defined")}function Qa(){throw new Error("clearTimeout has not been defined")}function rg(t){if(Pt===setTimeout)return setTimeout(t,0);if((Pt===Ga||!Pt)&&setTimeout)return Pt=setTimeout,setTimeout(t,0);try{return Pt(t,0)}catch{try{return Pt.call(null,t,0)}catch{return Pt.call(this||si,t,0)}}}function uE(){ni&&Cr&&(ni=!1,Cr.length?Ot=Cr.concat(Ot):as=-1,Ot.length&&ig());}function ig(){if(!ni){var t=rg(uE);ni=!0;for(var e=Ot.length;e;){for(Cr=Ot,Ot=[];++as<e;)Cr&&Cr[as].run();as=-1,e=Ot.length;}Cr=null,ni=!1,function(r){if(kt===clearTimeout)return clearTimeout(r);if((kt===Qa||!kt)&&clearTimeout)return kt=clearTimeout,clearTimeout(r);try{kt(r);}catch{try{return kt.call(null,r)}catch{return kt.call(this||si,r)}}}(t);}}function eg(t,e){(this||si).fun=t,(this||si).array=e;}function Bt(){}var tg,Pt,kt,si,fe,Cr,Ot,ni,as,ne,ng=_e(()=>{_();v();m();si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:__webpack_require__.g,fe=tg={};(function(){try{Pt=typeof setTimeout=="function"?setTimeout:Ga;}catch{Pt=Ga;}try{kt=typeof clearTimeout=="function"?clearTimeout:Qa;}catch{kt=Qa;}})();Ot=[],ni=!1,as=-1;fe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ot.push(new eg(t,e)),Ot.length!==1||ni||rg(ig);},eg.prototype.run=function(){(this||si).fun.apply(null,(this||si).array);},fe.title="browser",fe.browser=!0,fe.env={},fe.argv=[],fe.version="",fe.versions={},fe.on=Bt,fe.addListener=Bt,fe.once=Bt,fe.off=Bt,fe.removeListener=Bt,fe.removeAllListeners=Bt,fe.emit=Bt,fe.prependListener=Bt,fe.prependOnceListener=Bt,fe.listeners=function(t){return []},fe.binding=function(t){throw new Error("process.binding is not supported")},fe.cwd=function(){return "/"},fe.chdir=function(t){throw new Error("process.chdir is not supported")},fe.umask=function(){return 0};ne=tg;ne.addListener;ne.argv;ne.binding;ne.browser;ne.chdir;ne.cwd;ne.emit;ne.env;ne.listeners;ne.nextTick;ne.off;ne.on;ne.once;ne.prependListener;ne.prependOnceListener;ne.removeAllListeners;ne.removeListener;ne.title;ne.umask;ne.version;ne.versions;});function fE(){if(sg)return Ya;sg=!0;var t=Ya={},e,r;function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=i;}catch{e=i;}try{typeof clearTimeout=="function"?r=clearTimeout:r=n;}catch{r=n;}})();function o(S){if(e===setTimeout)return setTimeout(S,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(S,0);try{return e(S,0)}catch{try{return e.call(null,S,0)}catch{return e.call(this||oi,S,0)}}}function s(S){if(r===clearTimeout)return clearTimeout(S);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(S);try{return r(S)}catch{try{return r.call(null,S)}catch{return r.call(this||oi,S)}}}var a=[],l=!1,c,h=-1;function d(){!l||!c||(l=!1,c.length?a=c.concat(a):h=-1,a.length&&g());}function g(){if(!l){var S=o(d);l=!0;for(var E=a.length;E;){for(c=a,a=[];++h<E;)c&&c[h].run();h=-1,E=a.length;}c=null,l=!1,s(S);}}t.nextTick=function(S){var E=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)E[I-1]=arguments[I];a.push(new y(S,E)),a.length===1&&!l&&o(g);};function y(S,E){(this||oi).fun=S,(this||oi).array=E;}y.prototype.run=function(){(this||oi).fun.apply(null,(this||oi).array);},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function w(){}return t.on=w,t.addListener=w,t.once=w,t.off=w,t.removeListener=w,t.removeAllListeners=w,t.emit=w,t.prependListener=w,t.prependOnceListener=w,t.listeners=function(S){return []},t.binding=function(S){throw new Error("process.binding is not supported")},t.cwd=function(){return "/"},t.chdir=function(S){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Ya}var Ya,sg,oi,re,Ja=_e(()=>{_();v();m();Ya={},sg=!1,oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:__webpack_require__.g;re=fE();re.platform="browser";re.addListener;re.argv;re.binding;re.browser;re.chdir;re.cwd;re.emit;re.env;re.listeners;re.nextTick;re.off;re.on;re.once;re.prependListener;re.prependOnceListener;re.removeAllListeners;re.removeListener;re.title;re.umask;re.version;re.versions;});function cE(){if(og)return Xa;og=!0;var t=re;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,c=-1,h=0,d,g=0;g<=o.length;++g){if(g<o.length)d=o.charCodeAt(g);else {if(d===47)break;d=47;}if(d===47){if(!(c===g-1||h===1))if(c!==g-1&&h===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",l=0):(a=a.slice(0,y),l=a.length-1-a.lastIndexOf("/")),c=g,h=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=g,h=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2);}else a.length>0?a+="/"+o.slice(c+1,g):a=o.slice(c+1,g),l=g-c-1;c=g,h=0;}else d===46&&h!==-1?++h:h=-1;}return a}function i(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var n={resolve:function(){for(var s="",a=!1,l,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(l===void 0&&(l=t.cwd()),h=l),e(h),h.length!==0&&(s=h+"/"+s,a=h.charCodeAt(0)===47);}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return ".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];e(l),l.length>0&&(s===void 0?s=l:s+="/"+l);}return s===void 0?".":n.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=n.resolve(s),a=n.resolve(a),s===a))return "";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var c=s.length,h=c-l,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var g=a.length,y=g-d,w=h<y?h:y,S=-1,E=0;E<=w;++E){if(E===w){if(y>w){if(a.charCodeAt(d+E)===47)return a.slice(d+E+1);if(E===0)return a.slice(d+E)}else h>w&&(s.charCodeAt(l+E)===47?S=E:E===0&&(S=0));break}var I=s.charCodeAt(l+E),C=a.charCodeAt(d+E);if(I!==C)break;I===47&&(S=E);}var R="";for(E=l+S+1;E<=c;++E)(E===c||s.charCodeAt(E)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+a.slice(d+S):(d+=S,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return ".";for(var a=s.charCodeAt(0),l=a===47,c=-1,h=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?l?"/":".":l&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var l=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return "";var g=a.length-1,y=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!h){l=d+1;break}}else y===-1&&(h=!1,y=d+1),g>=0&&(w===a.charCodeAt(g)?--g===-1&&(c=d):(g=-1,c=y));}return l===c?c=y:c===-1&&(c=s.length),s.slice(l,c)}else {for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!h){l=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":s.slice(l,c)}},extname:function(s){e(s);for(var a=-1,l=0,c=-1,h=!0,d=0,g=s.length-1;g>=0;--g){var y=s.charCodeAt(g);if(y===47){if(!h){l=g+1;break}continue}c===-1&&(h=!1,c=g+1),y===46?a===-1?a=g:d!==1&&(d=1):a!==-1&&(d=-1);}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return i("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),c=l===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,g=0,y=-1,w=!0,S=s.length-1,E=0;S>=h;--S){if(l=s.charCodeAt(S),l===47){if(!w){g=S+1;break}continue}y===-1&&(w=!1,y=S+1),l===46?d===-1?d=S:E!==1&&(E=1):d!==-1&&(E=-1);}return d===-1||y===-1||E===0||E===1&&d===y-1&&d===g+1?y!==-1&&(g===0&&c?a.base=a.name=s.slice(1,y):a.base=a.name=s.slice(g,y)):(g===0&&c?(a.name=s.slice(1,d),a.base=s.slice(1,y)):(a.name=s.slice(g,d),a.base=s.slice(g,y)),a.ext=s.slice(d,y)),g>0?a.dir=s.slice(0,g-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Xa=n,Xa}var Xa,og,Za,ag=_e(()=>{_();v();m();Ja();Xa={},og=!1;Za=cE();});var gg={};Jt(gg,{URL:()=>FE,Url:()=>UE,default:()=>Z,fileURLToPath:()=>dg,format:()=>NE,parse:()=>jE,pathToFileURL:()=>pg,resolve:()=>qE,resolveObject:()=>DE});function Fe(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null;}function Li(t,e,r){if(t&&gt.isObject(t)&&t instanceof Fe)return t;var i=new Fe;return i.parse(t,e,r),i}function _E(){if(cg)return rl;cg=!0;var t=ne;function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,c=-1,h=0,d,g=0;g<=o.length;++g){if(g<o.length)d=o.charCodeAt(g);else {if(d===47)break;d=47;}if(d===47){if(!(c===g-1||h===1))if(c!==g-1&&h===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var y=a.lastIndexOf("/");if(y!==a.length-1){y===-1?(a="",l=0):(a=a.slice(0,y),l=a.length-1-a.lastIndexOf("/")),c=g,h=0;continue}}else if(a.length===2||a.length===1){a="",l=0,c=g,h=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2);}else a.length>0?a+="/"+o.slice(c+1,g):a=o.slice(c+1,g),l=g-c-1;c=g,h=0;}else d===46&&h!==-1?++h:h=-1;}return a}function i(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var n={resolve:function(){for(var s="",a=!1,l,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(l===void 0&&(l=t.cwd()),h=l),e(h),h.length!==0&&(s=h+"/"+s,a=h.charCodeAt(0)===47);}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return ".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];e(l),l.length>0&&(s===void 0?s=l:s+="/"+l);}return s===void 0?".":n.normalize(s)},relative:function(s,a){if(e(s),e(a),s===a||(s=n.resolve(s),a=n.resolve(a),s===a))return "";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var c=s.length,h=c-l,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var g=a.length,y=g-d,w=h<y?h:y,S=-1,E=0;E<=w;++E){if(E===w){if(y>w){if(a.charCodeAt(d+E)===47)return a.slice(d+E+1);if(E===0)return a.slice(d+E)}else h>w&&(s.charCodeAt(l+E)===47?S=E:E===0&&(S=0));break}var I=s.charCodeAt(l+E),C=a.charCodeAt(d+E);if(I!==C)break;I===47&&(S=E);}var R="";for(E=l+S+1;E<=c;++E)(E===c||s.charCodeAt(E)===47)&&(R.length===0?R+="..":R+="/..");return R.length>0?R+a.slice(d+S):(d+=S,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return ".";for(var a=s.charCodeAt(0),l=a===47,c=-1,h=!0,d=s.length-1;d>=1;--d)if(a=s.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?l?"/":".":l&&c===1?"//":s.slice(0,c)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(s);var l=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return "";var g=a.length-1,y=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!h){l=d+1;break}}else y===-1&&(h=!1,y=d+1),g>=0&&(w===a.charCodeAt(g)?--g===-1&&(c=d):(g=-1,c=y));}return l===c?c=y:c===-1&&(c=s.length),s.slice(l,c)}else {for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!h){l=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":s.slice(l,c)}},extname:function(s){e(s);for(var a=-1,l=0,c=-1,h=!0,d=0,g=s.length-1;g>=0;--g){var y=s.charCodeAt(g);if(y===47){if(!h){l=g+1;break}continue}c===-1&&(h=!1,c=g+1),y===46?a===-1?a=g:d!==1&&(d=1):a!==-1&&(d=-1);}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===l+1?"":s.slice(a,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return i("/",s)},parse:function(s){e(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),c=l===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,g=0,y=-1,w=!0,S=s.length-1,E=0;S>=h;--S){if(l=s.charCodeAt(S),l===47){if(!w){g=S+1;break}continue}y===-1&&(w=!1,y=S+1),l===46?d===-1?d=S:E!==1&&(E=1):d!==-1&&(E=-1);}return d===-1||y===-1||E===0||E===1&&d===y-1&&d===g+1?y!==-1&&(g===0&&c?a.base=a.name=s.slice(1,y):a.base=a.name=s.slice(g,y)):(g===0&&c?(a.name=s.slice(1,d),a.base=s.slice(1,y)):(a.name=s.slice(g,d),a.base=s.slice(g,y)),a.ext=s.slice(d,y)),g>0?a.dir=s.slice(0,g-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,rl=n,rl}function kE(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return nl?OE(t):xE(t)}function OE(t){let e=t.hostname,r=t.pathname;for(let i=0;i<r.length;i++)if(r[i]==="%"){let n=r.codePointAt(i+2)||32;if(r[i+1]==="2"&&n===102||r[i+1]==="5"&&n===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(IE,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let i=r.codePointAt(1)|32,n=r[2];if(i<SE||i>AE||n!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function xE(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function ME(t){let e=hg.resolve(t),r=t.charCodeAt(t.length-1);(r===EE||nl&&r===vE)&&e[e.length-1]!==hg.sep&&(e+="/");let i=new URL("file://");return e.includes("%")&&(e=e.replace(TE,"%25")),!nl&&e.includes("\\")&&(e=e.replace(RE,"%5C")),e.includes(`
`)&&(e=e.replace(CE,"%0A")),e.includes("\r")&&(e=e.replace(BE,"%0D")),e.includes("	")&&(e=e.replace(PE,"%09")),i.pathname=e,i}function dg(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return sl?XE(t):ZE(t)}function XE(t){let e=t.hostname,r=t.pathname;for(let i=0;i<r.length;i++)if(r[i]==="%"){let n=r.codePointAt(i+2)||32;if(r[i+1]==="2"&&n===102||r[i+1]==="5"&&n===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(zE,"\\"),r=decodeURIComponent(r),e!=="")return `\\\\${e}${r}`;{let i=r.codePointAt(1)|32,n=r[2];if(i<HE||i>VE||n!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function ZE(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let i=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&i===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function pg(t){let e=Za.resolve(t),r=t.charCodeAt(t.length-1);(r===$E||sl&&r===WE)&&e[e.length-1]!==Za.sep&&(e+="/");let i=new URL("file://");return e.includes("%")&&(e=e.replace(KE,"%25")),!sl&&e.includes("\\")&&(e=e.replace(GE,"%5C")),e.includes(`
`)&&(e=e.replace(QE,"%0A")),e.includes("\r")&&(e=e.replace(YE,"%0D")),e.includes("	")&&(e=e.replace(JE,"%09")),i.pathname=e,i}var Z,hE,gt,dE,pE,gE,yE,il,lg,ug,fg,bE,wE,el,ai,tl,rl,cg,hg,mE,vE,EE,SE,AE,nl,IE,TE,RE,CE,BE,PE,LE,UE,NE,qE,DE,jE,FE,WE,$E,HE,VE,sl,zE,KE,GE,QE,YE,JE,yg=_e(()=>{_();v();m();Xp();Zp();ng();ag();Ja();Z={},hE=Kt,gt={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}};Z.parse=Li,Z.resolve=function(t,e){return Li(t,!1,!0).resolve(e)},Z.resolveObject=function(t,e){return t?Li(t,!1,!0).resolveObject(e):e},Z.format=function(t){return gt.isString(t)&&(t=Li(t)),t instanceof Fe?t.format():Fe.prototype.format.call(t)},Z.Url=Fe;dE=/^([a-z0-9.+-]+:)/i,pE=/:[0-9]*$/,gE=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,yE=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),il=["'"].concat(yE),lg=["%","/","?",";","#"].concat(il),ug=["/","?","#"],fg=/^[+a-z0-9A-Z_-]{0,63}$/,bE=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,wE={javascript:!0,"javascript:":!0},el={javascript:!0,"javascript:":!0},ai={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},tl=pt;Fe.prototype.parse=function(t,e,r){if(!gt.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!r&&t.split("#").length===1){var a=gE.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?tl.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=dE.exec(s);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,s=s.substr(l.length);}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var h=s.substr(0,2)==="//";!h||l&&el[l]||(s=s.substr(2),this.slashes=!0);}if(!el[l]&&(h||l&&!ai[l])){for(var d,g,y=-1,w=0;w<ug.length;w++)(S=s.indexOf(ug[w]))!==-1&&(y===-1||S<y)&&(y=S);for((g=y===-1?s.lastIndexOf("@"):s.lastIndexOf("@",y))!==-1&&(d=s.slice(0,g),s=s.slice(g+1),this.auth=decodeURIComponent(d)),y=-1,w=0;w<lg.length;w++){var S;(S=s.indexOf(lg[w]))!==-1&&(y===-1||S<y)&&(y=S);}y===-1&&(y=s.length),this.host=s.slice(0,y),s=s.slice(y),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var I=this.hostname.split(/\./),C=(w=0,I.length);w<C;w++){var R=I[w];if(R&&!R.match(fg)){for(var U="",N=0,W=R.length;N<W;N++)R.charCodeAt(N)>127?U+="x":U+=R[N];if(!U.match(fg)){var K=I.slice(0,w),z=I.slice(w+1),Q=R.match(bE);Q&&(K.push(Q[1]),z.unshift(Q[2])),z.length&&(s="/"+z.join(".")+s),this.hostname=K.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=hE.toASCII(this.hostname));var pe=this.port?":"+this.port:"",Yt=this.hostname||"";this.host=Yt+pe,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s));}if(!wE[c])for(w=0,C=il.length;w<C;w++){var ge=il[w];if(s.indexOf(ge)!==-1){var Pr=encodeURIComponent(ge);Pr===ge&&(Pr=escape(ge)),s=s.split(ge).join(Pr);}}var kr=s.indexOf("#");kr!==-1&&(this.hash=s.substr(kr),s=s.slice(0,kr));var Or=s.indexOf("?");if(Or!==-1?(this.search=s.substr(Or),this.query=s.substr(Or+1),e&&(this.query=tl.parse(this.query)),s=s.slice(0,Or)):e&&(this.search="",this.query={}),s&&(this.pathname=s),ai[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){pe=this.pathname||"";var hs=this.search||"";this.path=pe+hs;}return this.href=this.format(),this},Fe.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&gt.isObject(this.query)&&Object.keys(this.query).length&&(o=tl.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ai[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),s&&s.charAt(0)!=="?"&&(s="?"+s),e+n+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},Fe.prototype.resolve=function(t){return this.resolveObject(Li(t,!1,!0)).format()},Fe.prototype.resolveObject=function(t){if(gt.isString(t)){var e=new Fe;e.parse(t,!1,!0),t=e;}for(var r=new Fe,i=Object.keys(this),n=0;n<i.length;n++){var o=i[n];r[o]=this[o];}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=t[l]);}return ai[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ai[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var d=c[h];r[d]=t[d];}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||el[t.protocol])r.pathname=t.pathname;else {for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/");}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",w=r.search||"";r.path=y+w;}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var S=r.pathname&&r.pathname.charAt(0)==="/",E=t.host||t.pathname&&t.pathname.charAt(0)==="/",I=E||S||r.host&&t.pathname,C=I,R=r.pathname&&r.pathname.split("/")||[],U=(g=t.pathname&&t.pathname.split("/")||[],r.protocol&&!ai[r.protocol]);if(U&&(r.hostname="",r.port=null,r.host&&(R[0]===""?R[0]=r.host:R.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),I=I&&(g[0]===""||R[0]==="")),E)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,R=g;else if(g.length)R||(R=[]),R.pop(),R=R.concat(g),r.search=t.search,r.query=t.query;else if(!gt.isNullOrUndefined(t.search))return U&&(r.hostname=r.host=R.shift(),(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),r.search=t.search,r.query=t.query,gt.isNull(r.pathname)&&gt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!R.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=R.slice(-1)[0],W=(r.host||t.host||R.length>1)&&(N==="."||N==="..")||N==="",K=0,z=R.length;z>=0;z--)(N=R[z])==="."?R.splice(z,1):N===".."?(R.splice(z,1),K++):K&&(R.splice(z,1),K--);if(!I&&!C)for(;K--;K)R.unshift("..");!I||R[0]===""||R[0]&&R[0].charAt(0)==="/"||R.unshift(""),W&&R.join("/").substr(-1)!=="/"&&R.push("");var Q,pe=R[0]===""||R[0]&&R[0].charAt(0)==="/";return U&&(r.hostname=r.host=pe?"":R.length?R.shift():"",(Q=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=Q.shift(),r.host=r.hostname=Q.shift())),(I=I||r.host&&R.length)&&!pe&&R.unshift(""),R.length?r.pathname=R.join("/"):(r.pathname=null,r.path=null),gt.isNull(r.pathname)&&gt.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Fe.prototype.parseHost=function(){var t=this.host,e=pE.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t);};Z.Url;Z.format;Z.resolve;Z.resolveObject;rl={},cg=!1;hg=_E(),mE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Z.URL=typeof URL<"u"?URL:null;Z.pathToFileURL=ME;Z.fileURLToPath=kE;Z.Url;Z.format;Z.resolve;Z.resolveObject;Z.URL;vE=92,EE=47,SE=97,AE=122,nl=mE==="win32",IE=/\//g,TE=/%/g,RE=/\\/g,CE=/\n/g,BE=/\r/g,PE=/\t/g;LE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0;Z.URL=typeof URL<"u"?URL:null;Z.pathToFileURL=pg;Z.fileURLToPath=dg;UE=Z.Url,NE=Z.format,qE=Z.resolve,DE=Z.resolveObject,jE=Z.parse,FE=Z.URL,WE=92,$E=47,HE=97,VE=122,sl=LE==="win32",zE=/\//g,KE=/%/g,GE=/\\/g,QE=/\n/g,YE=/\r/g,JE=/\t/g;});var wg=M((m8,bg)=>{_();v();m();bg.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};});var ls=M(li=>{_();v();m();Object.defineProperty(li,"__esModule",{value:!0});li.BufferedDuplex=li.writev=void 0;var eS=jt(),_g=(be(),X(me));function mg(t,e){let r=new Array(t.length);for(let i=0;i<t.length;i++)typeof t[i].chunk=="string"?r[i]=_g.Buffer.from(t[i].chunk,"utf8"):r[i]=t[i].chunk;this._write(_g.Buffer.concat(r),"binary",e);}li.writev=mg;var ol=class extends eS.Duplex{constructor(e,r,i){super({objectMode:!0}),this.proxy=r,this.socket=i,this.writeQueue=[],e.objectMode||(this._writev=mg.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",n=>{this.destroyed||this.push(n);});}_read(e){this.proxy.read(e);}_write(e,r,i){this.isSocketOpen?this.writeToProxy(e,r,i):this.writeQueue.push({chunk:e,encoding:r,cb:i});}_final(e){this.writeQueue=[],this.proxy.end(e);}_destroy(e,r){this.writeQueue=[],this.proxy.destroy(),r(e);}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue();}writeToProxy(e,r,i){this.proxy.write(e,r)===!1?this.proxy.once("drain",i):i();}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:r,cb:i}=this.writeQueue.shift();this.writeToProxy(e,r,i);}}};li.BufferedDuplex=ol;});var Ui=M(Qt=>{_();v();m();var ll=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.streamBuilder=Qt.browserStreamBuilder=void 0;var us=(be(),X(me)),vg=ll(wg()),tS=ll(ot()),rS=jt(),iS=ll(Oi()),al=ls(),Gt=(0, tS.default)("mqttjs:ws"),nS=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function Eg(t,e){let r=`${t.protocol}://${t.hostname}:${t.port}${t.path}`;return typeof t.transformWsUrl=="function"&&(r=t.transformWsUrl(r,t,e)),r}function Sg(t){let e=t;return t.port||(t.protocol==="wss"?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),!iS.default&&!t.forceNativeWebSocket&&t.protocol==="wss"&&nS.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r]);}),e}function sS(t){let e=Sg(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let r=new URL(document.URL);e.hostname=r.hostname,e.port||(e.port=Number(r.port));}return e.objectMode===void 0&&(e.objectMode=!(e.binary===!0||e.binary===void 0)),e}function oS(t,e,r){Gt("createWebSocket"),Gt(`protocol: ${r.protocolId} ${r.protocolVersion}`);let i=r.protocolId==="MQIsdp"&&r.protocolVersion===3?"mqttv3.1":"mqtt";Gt(`creating new Websocket for url: ${e} and protocol: ${i}`);let n;return r.createWebsocket?n=r.createWebsocket(e,[i],r):n=new vg.default(e,[i],r.wsOptions),n}function aS(t,e){let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt",i=Eg(e,t),n;return e.createWebsocket?n=e.createWebsocket(i,[r],e):n=new WebSocket(i,[r]),n.binaryType="arraybuffer",n}var lS=(t,e)=>{Gt("streamBuilder");let r=Sg(e);r.hostname=r.hostname||r.host||"localhost";let i=Eg(r,t),n=oS(t,i,r),o=vg.default.createWebSocketStream(n,r.wsOptions);return o.url=i,n.on("close",()=>{o.destroy();}),o};Qt.streamBuilder=lS;var uS=(t,e)=>{Gt("browserStreamBuilder");let r,n=sS(e).browserBufferSize||1024*512,o=e.browserBufferTimeout||1e3,s=!e.objectMode,a=aS(t,e),l=h(e,S,E);e.objectMode||(l._writev=al.writev.bind(l)),l.on("close",()=>{a.close();});let c=typeof a.addEventListener<"u";a.readyState===a.OPEN?(r=l,r.socket=a):(r=new al.BufferedDuplex(e,l,a),c?a.addEventListener("open",d):a.onopen=d),c?(a.addEventListener("close",g),a.addEventListener("error",y),a.addEventListener("message",w)):(a.onclose=g,a.onerror=y,a.onmessage=w);function h(I,C,R){let U=new rS.Transform({objectMode:I.objectMode});return U._write=C,U._flush=R,U}function d(){Gt("WebSocket onOpen"),r instanceof al.BufferedDuplex&&r.socketReady();}function g(I){Gt("WebSocket onClose",I),r.end(),r.destroy();}function y(I){Gt("WebSocket onError",I);let C=new Error("WebSocket error");C.event=I,r.destroy(C);}async function w(I){let{data:C}=I;C instanceof ArrayBuffer?C=us.Buffer.from(C):C instanceof Blob?C=us.Buffer.from(await new Response(C).arrayBuffer()):C=us.Buffer.from(C,"utf8"),l&&!l.destroyed&&l.push(C);}function S(I,C,R){if(a.bufferedAmount>n){setTimeout(S,o,I,C,R);return}s&&typeof I=="string"&&(I=us.Buffer.from(I,"utf8"));try{a.send(I);}catch(U){return R(U)}R();}function E(I){a.close(),I();}return r};Qt.browserStreamBuilder=uS;});var ul={};Jt(ul,{Server:()=>Me,Socket:()=>Me,Stream:()=>Me,_createServerHandle:()=>Me,_normalizeArgs:()=>Me,_setSimultaneousAccepts:()=>Me,connect:()=>Me,createConnection:()=>Me,createServer:()=>Me,default:()=>fS,isIP:()=>Me,isIPv4:()=>Me,isIPv6:()=>Me});function Me(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var fS,fl=_e(()=>{_();v();m();fS={_createServerHandle:Me,_normalizeArgs:Me,_setSimultaneousAccepts:Me,connect:Me,createConnection:Me,createServer:Me,isIP:Me,isIPv4:Me,isIPv6:Me,Server:Me,Socket:Me,Stream:Me};});var cl=M(Ni=>{_();v();m();var Ag=Ni&&Ni.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});var cS=Ag((fl(),X(ul))),hS=Ag(ot()),dS=(0, hS.default)("mqttjs:tcp"),pS=(t,e)=>{e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";let{port:r,path:i}=e,n=e.hostname;return dS("port %d and host %s",r,n),cS.default.createConnection({port:r,host:n,path:i})};Ni.default=pS;});var Ig={};Jt(Ig,{default:()=>gS});var gS,Tg=_e(()=>{_();v();m();gS={};});var dl=M(qi=>{_();v();m();var hl=qi&&qi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qi,"__esModule",{value:!0});var yS=hl((Tg(),X(Ig))),bS=hl((fl(),X(ul))),wS=hl(ot()),_S=(0, wS.default)("mqttjs:tls"),mS=(t,e)=>{e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",bS.default.isIP(e.host)===0&&(e.servername=e.host),e.rejectUnauthorized=e.rejectUnauthorized!==!1,delete e.path,_S("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);let r=yS.default.connect(e);r.on("secureConnect",()=>{e.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",i);});function i(n){e.rejectUnauthorized&&t.emit("error",n),r.end();}return r.on("error",i),r};qi.default=mS;});var yl=M(gl=>{_();v();m();Object.defineProperty(gl,"__esModule",{value:!0});var Rg=(be(),X(me)),vS=jt(),ES=ls(),yt,pl,Le;function SS(){let t=new vS.Transform;return t._write=(e,r,i)=>{yt.send({data:e.buffer,success(){i();},fail(n){i(new Error(n));}});},t._flush=e=>{yt.close({success(){e();}});},t}function AS(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={});}function IS(t,e){let r=t.protocol==="wxs"?"wss":"ws",i=`${r}://${t.hostname}${t.path}`;return t.port&&t.port!==80&&t.port!==443&&(i=`${r}://${t.hostname}:${t.port}${t.path}`),typeof t.transformWsUrl=="function"&&(i=t.transformWsUrl(i,t,e)),i}function TS(){yt.onOpen(()=>{Le.socketReady();}),yt.onMessage(t=>{let{data:e}=t;e instanceof ArrayBuffer?e=Rg.Buffer.from(e):e=Rg.Buffer.from(e,"utf8"),pl.push(e);}),yt.onClose(()=>{Le.emit("close"),Le.end(),Le.destroy();}),yt.onError(t=>{let e=new Error(t.errMsg);Le.destroy(e);});}var RS=(t,e)=>{if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt";AS(e);let i=IS(e,t);yt=wx.connectSocket({url:i,protocols:[r]}),pl=SS(),Le=new ES.BufferedDuplex(e,pl,yt),Le._destroy=(o,s)=>{yt.close({success(){s&&s(o);}});};let n=Le.destroy;return Le.destroy=(o,s)=>(Le.destroy=n,setTimeout(()=>{yt.close({fail(){Le._destroy(o,s);}});},0),Le),TS(),Le};gl.default=RS;});var _l=M(wl=>{_();v();m();Object.defineProperty(wl,"__esModule",{value:!0});var bl=(be(),X(me)),CS=jt(),BS=ls(),xt,fs,ui,Cg=!1;function PS(){let t=new CS.Transform;return t._write=(e,r,i)=>{xt.sendSocketMessage({data:e.buffer,success(){i();},fail(){i(new Error);}});},t._flush=e=>{xt.closeSocket({success(){e();}});},t}function kS(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={});}function OS(t,e){let r=t.protocol==="alis"?"wss":"ws",i=`${r}://${t.hostname}${t.path}`;return t.port&&t.port!==80&&t.port!==443&&(i=`${r}://${t.hostname}:${t.port}${t.path}`),typeof t.transformWsUrl=="function"&&(i=t.transformWsUrl(i,t,e)),i}function xS(){Cg||(Cg=!0,xt.onSocketOpen(()=>{ui.socketReady();}),xt.onSocketMessage(t=>{if(typeof t.data=="string"){let e=bl.Buffer.from(t.data,"base64");fs.push(e);}else {let e=new FileReader;e.addEventListener("load",()=>{let r=e.result;r instanceof ArrayBuffer?r=bl.Buffer.from(r):r=bl.Buffer.from(r,"utf8"),fs.push(r);}),e.readAsArrayBuffer(t.data);}}),xt.onSocketClose(()=>{ui.end(),ui.destroy();}),xt.onSocketError(t=>{ui.destroy(t);}));}var MS=(t,e)=>{if(e.hostname=e.hostname||e.host,!e.hostname)throw new Error("Could not determine host. Specify host manually.");let r=e.protocolId==="MQIsdp"&&e.protocolVersion===3?"mqttv3.1":"mqtt";kS(e);let i=OS(e,t);return xt=e.my,xt.connectSocket({url:i,protocols:r}),fs=PS(),ui=new BS.BufferedDuplex(e,fs,xt),xS(),ui};wl.default=MS;});var kg=M(Br=>{_();v();m();var cs=Br&&Br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});Br.connectAsync=void 0;var LS=cs(ot()),US=cs((yg(),X(gg))),NS=cs(os()),qS=cs(Oi());typeof(B===null||B===void 0?void 0:B.nextTick)!="function"&&(B.nextTick=setImmediate);var Bg=(0, LS.default)("mqttjs"),de=null;function DS(t){let e;t.auth&&(e=t.auth.match(/^(.+):(.+)$/),e?(t.username=e[1],t.password=e[2]):t.username=t.auth);}function Pg(t,e){var r,i,n,o;if(Bg("connecting to an MQTT broker..."),typeof t=="object"&&!e&&(e=t,t=""),e=e||{},t&&typeof t=="string"){let l=US.default.parse(t,!0),c={};if(l.port!=null&&(c.port=Number(l.port)),c.host=l.hostname,c.query=l.query,c.auth=l.auth,c.protocol=l.protocol,c.path=l.path,c.protocol=(r=c.protocol)===null||r===void 0?void 0:r.replace(/:$/,""),e=Object.assign(Object.assign({},c),e),!e.protocol)throw new Error("Missing protocol")}if(e.unixSocket=e.unixSocket||((i=e.protocol)===null||i===void 0?void 0:i.includes("+unix")),e.unixSocket?e.protocol=e.protocol.replace("+unix",""):!(!((n=e.protocol)===null||n===void 0)&&n.startsWith("ws"))&&!(!((o=e.protocol)===null||o===void 0)&&o.startsWith("wx"))&&delete e.path,DS(e),e.query&&typeof e.query.clientId=="string"&&(e.clientId=e.query.clientId),e.cert&&e.key)if(e.protocol){if(["mqtts","wss","wxs","alis"].indexOf(e.protocol)===-1)switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${e.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(de||(de={},!qS.default&&!e.forceNativeWebSocket?(de.ws=Ui().streamBuilder,de.wss=Ui().streamBuilder,de.mqtt=cl().default,de.tcp=cl().default,de.ssl=dl().default,de.tls=de.ssl,de.mqtts=dl().default):(de.ws=Ui().browserStreamBuilder,de.wss=Ui().browserStreamBuilder,de.wx=yl().default,de.wxs=yl().default,de.ali=_l().default,de.alis=_l().default)),!de[e.protocol]){let l=["mqtts","wss"].indexOf(e.protocol)!==-1;e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((c,h)=>l&&h%2===0?!1:typeof de[c]=="function")[0];}if(e.clean===!1&&!e.clientId)throw new Error("Missing clientId for unclean clients");e.protocol&&(e.defaultProtocol=e.protocol);function s(l){return e.servers&&((!l._reconnectCount||l._reconnectCount===e.servers.length)&&(l._reconnectCount=0),e.host=e.servers[l._reconnectCount].host,e.port=e.servers[l._reconnectCount].port,e.protocol=e.servers[l._reconnectCount].protocol?e.servers[l._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,l._reconnectCount++),Bg("calling streambuilder for",e.protocol),de[e.protocol](l,e)}let a=new NS.default(s,e);return a.on("error",()=>{}),a}function jS(t,e,r=!0){return new Promise((i,n)=>{let o=Pg(t,e),s={connect:l=>{a(),i(o);},end:()=>{a(),i(o);},error:l=>{a(),o.end(),n(l);}};r===!1&&(s.close=()=>{s.error(new Error("Couldn't connect to server"));});function a(){Object.keys(s).forEach(l=>{o.off(l,s[l]);});}Object.keys(s).forEach(l=>{o.on(l,s[l]);});})}Br.connectAsync=jS;Br.default=Pg;});var ml=M(G=>{_();v();m();var Og=G&&G.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),FS=G&&G.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),WS=G&&G.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Og(e,t,r);return FS(e,t),e},xg=G&&G.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Og(e,t,r);},Di=G&&G.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(G,"__esModule",{value:!0});G.ReasonCodes=G.KeepaliveManager=G.UniqueMessageIdProvider=G.DefaultMessageIdProvider=G.Store=G.MqttClient=G.connectAsync=G.connect=G.Client=void 0;var Mg=Di(os());G.MqttClient=Mg.default;var $S=Di(Zo());G.DefaultMessageIdProvider=$S.default;var HS=Di(Vp());G.UniqueMessageIdProvider=HS.default;var VS=Di(ra());G.Store=VS.default;var Lg=WS(kg());G.connect=Lg.default;Object.defineProperty(G,"connectAsync",{enumerable:!0,get:function(){return Lg.connectAsync}});var zS=Di(Wa());G.KeepaliveManager=zS.default;G.Client=Mg.default;xg(os(),G);xg(_r(),G);var KS=Ti();Object.defineProperty(G,"ReasonCodes",{enumerable:!0,get:function(){return KS.ReasonCodes}});});var XS=M(We=>{_();v();m();var Ug=We&&We.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n);}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r];}),GS=We&&We.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),QS=We&&We.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ug(e,t,r);return GS(e,t),e},YS=We&&We.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ug(e,t,r);};Object.defineProperty(We,"__esModule",{value:!0});var JS=QS(ml());We.default=JS;YS(ml(),We);});var mqtt = XS();
/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/

class CloudInteropAPIError extends Error {
    code;
    constructor(message = 'An unexpected error has occurred', code = 'UNEXPECTED_ERROR', cause) {
        super(message, { cause: cause });
        this.name = this.constructor.name;
        this.code = code;
    }
}
class AuthorizationError extends CloudInteropAPIError {
    constructor(message = 'Not authorized', code = 'ERR_UNAUTHORIZED') {
        super(message, code, undefined);
    }
}

// Error codes as defined in https://docs.emqx.com/en/cloud/latest/connect_to_deployments/mqtt_client_error_codes.html
const BadUserNamePasswordError = 134;
/**
 * Represents a single connection to a Cloud Interop service
 *
 * @export
 * @class CloudInteropAPI
 * @implements {Client}
 */
class CloudInteropAPI {
    #cloudInteropSettings;
    #sessionDetails;
    #mqttClient;
    #reconnectRetryLimit = 30;
    #keepAliveIntervalSeconds = 30;
    #logger = (level, message) => {
        console[level](message);
    };
    #reconnectRetries = 0;
    #connectionParams;
    #eventListeners = new Map();
    #attemptingToReconnect = false;
    constructor(cloudInteropSettings) {
        this.#cloudInteropSettings = cloudInteropSettings;
    }
    get sessionDetails() {
        return this.#sessionDetails;
    }
    get mqttClient() {
        return this.#mqttClient;
    }
    /**
     * Connects and creates a session on the Cloud Interop service
     *
     * @param {ConnectParameters} parameters - The parameters to use to connect
     * @return {*}  {Promise<void>}
     * @memberof CloudInteropAPI
     * @throws {CloudInteropAPIError} - If an error occurs during connection
     * @throws {AuthorizationError} - If the connection is unauthorized
     */
    async connect(parameters) {
        this.#validateConnectParams(parameters);
        this.#connectionParams = parameters;
        this.#reconnectRetryLimit = parameters.reconnectRetryLimit || this.#reconnectRetryLimit;
        this.#keepAliveIntervalSeconds = parameters.keepAliveIntervalSeconds || this.#keepAliveIntervalSeconds;
        this.#logger = parameters.logger || this.#logger;
        const { sourceId, platformId } = this.#connectionParams;
        try {
            const createSessionResponse = await axios.post(`${this.#cloudInteropSettings.url}/api/sessions`, {
                sourceId,
                platformId,
            }, {
                headers: this.#getRequestHeaders(),
            });
            if (createSessionResponse.status !== 201) {
                throw new CloudInteropAPIError(`Failed to connect to the Cloud Interop service: ${this.#cloudInteropSettings.url}`, 'ERR_CONNECT', createSessionResponse.status);
            }
            this.#sessionDetails = createSessionResponse.data;
            const sessionRootTopic = this.#sessionDetails.sessionRootTopic;
            const clientOptions = {
                keepalive: this.#keepAliveIntervalSeconds,
                clientId: this.#sessionDetails.sessionId,
                clean: true,
                protocolVersion: 5,
                // The "will" message will be published on an unexpected disconnection
                // The server can then tidy up.  So it needs every for this client to do that, the session details is perfect
                will: {
                    topic: 'interop/lastwill',
                    payload: buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(JSON.stringify(this.#sessionDetails)),
                    qos: 0,
                    retain: false,
                    properties: {
                        willDelayInterval: 10,
                    },
                },
                username: this.#sessionDetails.token,
            };
            this.#mqttClient = await mqtt.connectAsync(this.#sessionDetails.url, clientOptions);
            this.#logger('log', `Cloud Interop successfully connected to ${this.#cloudInteropSettings.url}`);
            this.#mqttClient.on('error', async (error) => {
                // We will receive errors for each failed reconnection attempt
                // We don't won't to disconnect on these else we will never reconnect
                if (!this.#attemptingToReconnect) {
                    await this.#disconnect(false);
                }
                if (error instanceof mqtt.ErrorWithReasonCode) {
                    switch (error.code) {
                        case BadUserNamePasswordError: {
                            await this.#disconnect(false);
                            this.#logger('warn', `Session expired`);
                            this.#emitEvent('session-expired');
                            return;
                        }
                        default: {
                            this.#logger('error', `Unknown Infrastructure Error Code ${error.code} : ${error.message}${this.#attemptingToReconnect ? ' during reconnection attempt' : ''}`);
                            // As we are in the middle of a reconnect, lets not emit an error to cut down on the event noise
                            if (!this.#attemptingToReconnect) {
                                this.#emitEvent('error', new CloudInteropAPIError(`Unknown Infrastructure Error Code ${error.code} : ${error.message}`, 'ERR_INFRASTRUCTURE', error));
                                break;
                            }
                        }
                    }
                }
                else {
                    this.#logger('error', `Unknown Error${this.#attemptingToReconnect ? ' during reconnection attempt' : ''}: ${error}`);
                    // As we are in the middle of a reconnect, lets not emit an error to cut down on the event noise
                    if (!this.#attemptingToReconnect) {
                        this.#emitEvent('error', new CloudInteropAPIError(`Unknown Error`, 'ERR_UNKNOWN', error));
                    }
                }
            });
            this.#mqttClient.on('reconnect', () => {
                this.#attemptingToReconnect = true;
                this.#reconnectRetries += 1;
                this.#logger('debug', `Cloud Interop attempting reconnection - ${this.#reconnectRetries}...`);
                if (this.#reconnectRetries === this.#reconnectRetryLimit) {
                    this.#logger('warn', `Cloud Interop reached max reconnection attempts - ${this.#reconnectRetryLimit}...`);
                    this.#disconnect(true);
                }
                this.#emitEvent('reconnecting', this.#reconnectRetries);
            });
            // Does not fire on initial connection, only successful reconnection attempts
            this.#mqttClient.on('connect', () => {
                this.#logger('debug', `Cloud Interop successfully reconnected after ${this.#reconnectRetries} attempts`);
                this.#reconnectRetries = 0;
                this.#attemptingToReconnect = false;
                this.#emitEvent('reconnected');
            });
            this.#mqttClient.on('message', (topic, message) => {
                if (!this.#sessionDetails) {
                    this.#logger('warn', 'Received message when session not connected');
                    return;
                }
                this.#handleCommand(topic, message, this.#sessionDetails);
            });
            // Subscribe to all context groups
            this.#mqttClient.subscribe(`${sessionRootTopic}/context-groups/#`);
            // Listen out for global commands
            this.#mqttClient.subscribe(`${sessionRootTopic}/commands`);
        }
        catch (error) {
            if (axios.isAxiosError(error)) {
                if (error.response?.status === 401 || error.response?.status === 403) {
                    throw new AuthorizationError();
                }
                throw new CloudInteropAPIError();
            }
            throw error;
        }
    }
    /**
     * Disconnects from the Cloud Interop service
     *
     * @return {*}  {Promise<void>}
     * @memberof CloudInteropAPI
     * @throws {CloudInteropAPIError} - If an error occurs during disconnection
     */
    async disconnect() {
        await this.#disconnect(true);
    }
    /**
     * Publishes a new context for the given context group to the other connected sessions
     *
     * @param {string} contextGroup - The context group to publish to
     * @param {object} context - The context to publish
     * @return {*}  {Promise<void>}
     * @memberof CloudInteropAPI
     */
    async setContext(contextGroup, context) {
        if (!this.#sessionDetails || !this.#connectionParams) {
            throw new Error('Session not connected');
        }
        const payload = {
            context,
            timestamp: Date.now(),
        };
        await axios.post(`${this.#cloudInteropSettings.url}/api/context-groups/${this.#sessionDetails.sessionId}/${contextGroup}`, payload, {
            headers: this.#getRequestHeaders(),
        });
    }
    addEventListener(type, callback) {
        const listeners = this.#eventListeners.get(type) || [];
        listeners.push(callback);
        this.#eventListeners.set(type, listeners);
    }
    removeEventListener(type, callback) {
        const listeners = this.#eventListeners.get(type) || [];
        const index = listeners.indexOf(callback);
        if (index !== -1) {
            listeners.splice(index, 1);
        }
        this.#eventListeners.set(type, listeners);
    }
    async #disconnect(fireDisconnectedEvent) {
        if (!this.#sessionDetails) {
            return;
        }
        try {
            const disconnectResponse = await axios.delete(`${this.#cloudInteropSettings.url}/api/sessions/${this.#sessionDetails.sessionId}`, {
                headers: this.#getRequestHeaders(),
            });
            if (disconnectResponse.status !== 200) {
                throw new CloudInteropAPIError('Error during session tear down - unexpected status', 'ERR_DISCONNECT', disconnectResponse.status);
            }
        }
        catch {
            throw new CloudInteropAPIError('Error during disconnection', 'ERR_DISCONNECT');
        }
        finally {
            this.#mqttClient?.removeAllListeners();
            await this.#mqttClient?.endAsync(true);
            this.#sessionDetails = undefined;
            this.#mqttClient = undefined;
            this.#reconnectRetries = 0;
            this.#attemptingToReconnect = false;
            if (fireDisconnectedEvent) {
                this.#emitEvent('disconnected');
            }
        }
    }
    #handleCommand(topic, message, sessionDetails) {
        if (message.length === 0 || !sessionDetails) {
            // Ignore clean up messages
            return;
        }
        const messageEnvelope = JSON.parse(message.toString());
        if (topic.startsWith(`${sessionDetails.sessionRootTopic}/context-groups/`)) {
            if (messageEnvelope.source.sessionId === sessionDetails.sessionId) {
                return;
            }
            const { channelName: contextGroup, payload: context, source, history } = messageEnvelope;
            this.#emitEvent('context', { contextGroup, context, source, history: { ...history, clientReceived: Date.now() } });
        }
    }
    #emitEvent(type, ...args) {
        const listeners = this.#eventListeners.get(type) || [];
        listeners.forEach((listener) => listener(...args));
    }
    #validateConnectParams = (parameters) => {
        if (!parameters) {
            throw new Error('Connect parameters must be provided');
        }
        if (parameters.authenticationType === 'jwt' &&
            (!parameters.jwtAuthenticationParameters?.jwtRequestCallback || !parameters.jwtAuthenticationParameters?.authenticationId)) {
            throw new Error('jwtAuthenticationParameters must be provided when using jwt authentication');
        }
        if (parameters.authenticationType === 'basic' &&
            (!parameters.basicAuthenticationParameters?.username || !parameters.basicAuthenticationParameters?.password)) {
            throw new Error('basicAuthenticationParameters must be provided when using basic authentication');
        }
    };
    #getRequestHeaders = () => {
        if (!this.#connectionParams) {
            throw new Error('Connect parameters must be provided');
        }
        const headers = new AxiosHeaders();
        headers['Content-Type'] = 'application/json';
        if (this.#connectionParams.authenticationType === 'jwt' && this.#connectionParams.jwtAuthenticationParameters) {
            const tokenResult = this.#connectionParams.jwtAuthenticationParameters.jwtRequestCallback();
            if (!tokenResult) {
                throw new Error('jwtRequestCallback must return a token');
            }
            headers['x-of-auth-id'] = this.#connectionParams.jwtAuthenticationParameters.authenticationId;
            headers['Authorization'] =
                typeof tokenResult === 'string' ? `Bearer ${tokenResult}` : `Bearer ${buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(JSON.stringify(tokenResult)).toString('base64')}`;
        }
        if (this.#connectionParams.authenticationType === 'basic' && this.#connectionParams.basicAuthenticationParameters) {
            const { username, password } = this.#connectionParams.basicAuthenticationParameters;
            headers['Authorization'] = `Basic ${buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(`${username}:${password}`).toString('base64')}`;
        }
        return headers;
    };
}

/**
 * Enhances InteropBroker with Cloud Interop functionality
 * @param {CloudInteropOverrideParams} config Configuration to connect to the Cloud Interop service
 */
async function cloudInteropOverride(config) {
    const { url, ...settings } = config;
    const client = new CloudInteropAPI({ url });
    try {
        await client.connect(settings);
    }
    catch (err) {
        // eslint-disable-next-line no-console
        console.warn(`[CloudInteropOverride] Failed to connect to Cloud Interop Service. Call interopBroker.cloudReconnect() to attempt reconnection`, err);
    }
    return (Base) => {
        return class CloudInteropOverride extends Base {
            contextListener;
            setContextFilter = (context) => true;
            constructor() {
                super();
                this.contextListener = (event) => {
                    const { contextGroup, context, source } = event;
                    if (this.getContextGroups()
                        .map(({ id }) => id)
                        .includes(contextGroup) &&
                        client.sessionDetails?.sessionId !== source.sessionId) {
                        super.setContextForGroup({ context: context }, contextGroup);
                    }
                };
                client.addEventListener('context', this.contextListener);
            }
            async setContextForGroup({ context }, contextGroupId) {
                if (this.cloudConnectionState === 'connected' && this.setContextFilter(context)) {
                    client.setContext(contextGroupId, context);
                }
                super.setContextForGroup({ context }, contextGroupId);
            }
            /**
             * Attempts reconnection to the Cloud Interop service
             * @param {ConnectParameters} settings Parameters for connecting to the Interop Service
             * @return {*} {Promise<void>}
             * @throws {CloudInteropAPIError}
             * @throws {AuthorizationError}
             * @memberof CloudInteropOverride
             */
            async cloudReconnect(settings) {
                try {
                    if (this.cloudConnectionState === 'connected') {
                        await client.disconnect();
                    }
                    await client.connect(settings || config);
                }
                catch (err) {
                    console.warn(`[CloudInteropOverride] Failed reconnection to Cloud Interop Service.`, err);
                }
            }
            /**
             * Sets the listener for context events coming from the Cloud Interop service
             * @param listener Context event listener
             * @return {*} {void}
             * @memberof CloudInteropOverride
             */
            setCloudContextListener(listener) {
                client.removeEventListener('context', this.contextListener);
                this.contextListener = listener;
                client.addEventListener('context', this.contextListener);
            }
            /**
             * Sets a filter that is applied to local context before it is forwarded to the Cloud Interop service
             * @param filter
             * @return {*} {void}
             * @memberof CloudInteropOverride
             */
            setCloudSetContextFilter(filter) {
                this.setContextFilter = filter;
            }
            get cloudConnectionState() {
                if (client.mqttClient?.connected) {
                    return 'connected';
                }
                if (client.mqttClient?.reconnecting) {
                    return 'reconnecting';
                }
                return 'disconnected';
            }
        };
    };
}




/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	(() => {
/******/ 		__webpack_require__.amdO = {};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_cloud_interop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/cloud-interop */ "./node_modules/@openfin/cloud-interop/out/index.js");
/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings */ "./client/src/settings.ts");


window.addEventListener("DOMContentLoaded", async () => {
    const customSettings = await (0,_settings__WEBPACK_IMPORTED_MODULE_1__.getManifestCustomSettings)();
    const interopOverrides = [];
    if (customSettings?.cloudInteropProvider?.enabled) {
        const initializedCloudInteropOverride = (await (0,_openfin_cloud_interop__WEBPACK_IMPORTED_MODULE_0__.cloudInteropOverride)(customSettings?.cloudInteropProvider?.connectParams));
        interopOverrides.push(initializedCloudInteropOverride);
    }
    fin.Platform.init({ interopOverride: interopOverrides }).catch((error) => console.error(error));
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaURBQWlELEVBQUU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSx5QkFBeUIsUUFBUTtBQUNqQztBQUNBLHNCQUFzQixlQUFlO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFlBQVk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsU0FBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsVUFBVTtBQUNyQjtBQUNBLFdBQVcsU0FBUztB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QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCLG1CQUFtQjtBQUM5Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esc0RBQXNELE1BQU07QUFDNUQsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtB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Q0Esa0VBQWtFO0FBQ2xFLGdGQUFnRjtBQUNoRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsb0RBQW9EO0FBQzdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQztBQUNwQyx3Q0FBd0M7O0FBRXhDOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUyxRQUFROztBQUVqQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBDQUEwQyxTQUFTO0FBQ25ELEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxXQUFXLFFBQVE7O0FBRW5COztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYLGFBQWEsYUFBYTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxhQUFhOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELEtBQUs7QUFDdEQsT0FBTztBQUNQLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxNQUFNO0FBQy9DLE1BQU07QUFDTjtBQUNBO0FBQ0EsOENBQThDLE1BQU07QUFDcEQ7QUFDQSxDQUFDOztBQUVELHNDQUFzQyxPQUFPOztBQUU3Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7O0FBRUE7O0FBRUEsb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscURBQXFELEdBQUc7QUFDeEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHlDQUF5QyxJQUFJO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsU0FBUztBQUNwQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCLGFBQWEsU0FBUztBQUN0QjtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBLG9FQUFvRTs7QUFFcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQSxXQUFXLHlDQUF5Qzs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixLQUFLO0FBQ0w7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxVQUFVLElBQUk7QUFDZDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3REFBd0QsaUJBQWlCOztBQUV6RTtBQUNBLDJDQUEyQyxpQkFBaUI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLDZCQUE2Qix1Q0FBdUMsa0NBQWtDLHVDQUF1QyxvQ0FBb0MsMkJBQTJCLFdBQVcsbUNBQW1DLHVCQUF1Qix1QkFBdUIsR0FBRyxnQkFBZ0IsZ0dBQWdHLG1EQUFtRCxFQUFFLFVBQVUsaUJBQWlCLGVBQWUsU0FBUyxLQUFLLGVBQWUsRUFBRSxTQUFTLE1BQU0saXZDQUFpdkMsRUFBRSxlQUFlLDBGQUEwRixjQUFjLG9FQUFvRSxjQUFjLFFBQVEsdUJBQXVCLE1BQU0sb0JBQW9CLEVBQUUsRUFBRSxnQkFBZ0IsT0FBTyxrQkFBa0IsbUJBQW1CLGdDQUFnQyxlQUFlLG9DQUFvQyxrQ0FBa0MsbUJBQW1CLHdCQUF3QiwyREFBMkQsaUJBQWlCLHlCQUF5QixlQUFlLGVBQWUsc0JBQXNCLGVBQWUsY0FBYyxjQUFjLFVBQVUsY0FBYyxVQUFVLGlCQUFpQiw0Q0FBNEMsY0FBYyxVQUFVLGNBQWMsb0JBQW9CLGVBQWUscUdBQXFHLHFEQUFxRCxjQUFjLFVBQVUsZUFBZSxVQUFVLHFOQUFxTixJQUFJLElBQUksSUFBSSxrQkFBa0IsNEJBQTRCLGtDQUFrQyx1Q0FBdUMsaUZBQWlGLDhDQUE4QyxrQkFBa0IsK0JBQStCLGdCQUFnQixlQUFlLGdCQUFnQixTQUFTLGVBQWUsV0FBVyxpQkFBaUIsS0FBSyxrREFBa0QsWUFBWSxLQUFLLGFBQWEsMEJBQTBCLFVBQVUscUNBQXFDLElBQUksaUdBQWlHLGFBQWEsaUlBQWlJLDZIQUE2SCwrSEFBK0gsT0FBTyxzQkFBc0IsWUFBWSxvRUFBb0UsV0FBVyxNQUFNLGdEQUFnRCxJQUFJLGc5QkFBZzlCLEVBQUUsY0FBYyxNQUFNLEVBQUUsVUFBVSxPQUFPLHVFQUF1RSxFQUFFLGNBQWMsZ0JBQWdCLDBEQUEwRCwrSUFBK0ksSUFBSSxtQ0FBbUMsZ0RBQWdELGNBQWMsZUFBZSwyRUFBMkUscUJBQXFCLGNBQWMsb0JBQW9CLGFBQWEsY0FBYyx5QkFBeUIsbUJBQW1CLGtCQUFrQixtQkFBbUIsY0FBYywrREFBK0QsUUFBUSxJQUFJLGtKQUFrSiw4TEFBOEwsY0FBYyxrREFBa0Qsa0JBQWtCLG1CQUFtQixJQUFJLHVFQUF1RSxrQkFBa0IsY0FBYyxrREFBa0QsSUFBSSxnQ0FBZ0MsNElBQTRJLFVBQVUsY0FBYyxnQkFBZ0IsTUFBTSxtQ0FBbUMscUVBQXFFLG1DQUFtQyxJQUFJLDBCQUEwQiw4QkFBOEIsSUFBSSwwQkFBMEIsZUFBZSxNQUFNLHFDQUFxQyx5QkFBeUIsa0NBQWtDLGdDQUFnQyw0SEFBNEgsdVJBQXVSLEtBQUssK0JBQStCLGtCQUFrQixJQUFJLCtCQUErQixpQkFBaUIsSUFBSSxjQUFjLGdCQUFnQixNQUFNLDJIQUEySCxvREFBb0QsaUJBQWlCLHVSQUF1UixhQUFhLElBQUksMkJBQTJCLGVBQWUsWUFBWSw2RkFBNkYsTUFBTSxXQUFXLDRDQUE0Qyw2QkFBNkIsd0NBQXdDLDhDQUE4Qyw2QkFBNkIsNENBQTRDLEVBQUUsY0FBYyw4RUFBOEUsd0JBQXdCLDhDQUE4QyxrQkFBa0IsdUJBQXVCLGdIQUFnSCxZQUFZLGdCQUFnQixnQkFBZ0Isa0JBQWtCLG9DQUFvQyxxQ0FBcUMsMkpBQTJKLDhKQUE4SixtSEFBbUgsNkJBQTZCLHVDQUF1QyxXQUFXLGNBQWMsNElBQTRJLGdKQUFnSix1QkFBdUIsZ0JBQWdCLDZGQUE2RixjQUFjLG9GQUFvRiw4RUFBOEUsa0JBQWtCLHFGQUFxRix3QkFBd0IsaUJBQWlCLGNBQWMsNEJBQTRCLDBCQUEwQixZQUFZLCtCQUErQixhQUFhLGdCQUFnQix5R0FBeUcscUNBQXFDLGlDQUFpQyxjQUFjLHdDQUF3QyxZQUFZLElBQUksbUJBQW1CLFNBQVMsY0FBYyxxQkFBcUIsd0JBQXdCLDZDQUE2QyxZQUFZLGtCQUFrQixvRkFBb0Ysc0ZBQXNGLE1BQU0sa0pBQWtKLGNBQWMsa0JBQWtCLDJCQUEyQix1Q0FBdUMsOEVBQThFLDZEQUE2RCxjQUFjLGdIQUFnSCxXQUFXLGNBQWMsZ0NBQWdDLHVCQUF1QixrREFBa0QseUJBQXlCLDJPQUEyTyxrQkFBa0IsMEJBQTBCLDRCQUE0QixJQUFJLG9CQUFvQixjQUFjLE1BQU0sc0JBQXNCLDBCQUEwQixnQ0FBZ0Msa0pBQWtKLG1CQUFtQix3QkFBd0Isd0ZBQXdGLGtDQUFrQyxNQUFNLDBCQUEwQixXQUFXLG1CQUFtQiwyQkFBMkIsUUFBUSxXQUFXLEtBQUssV0FBVyx3SEFBd0gsa0NBQWtDLHdFQUF3RSxhQUFhLFVBQVUsZ0JBQWdCLGlDQUFpQyxnRUFBZ0UsK0lBQStJLHVEQUF1RCxzQkFBc0IsU0FBUyxNQUFNLFdBQVcsK0NBQStDLDJDQUEyQywrREFBK0QsdUJBQXVCLGlDQUFpQyxzQ0FBc0MsOEJBQThCLGVBQWUsa0JBQWtCLFNBQVMsK0hBQStILG1CQUFtQixXQUFXLDhCQUE4QiwyQ0FBMkMsZ0NBQWdDLDhDQUE4QyxpQ0FBaUMsd0VBQXdFLHlEQUF5RCw4QkFBOEIseUJBQXlCLGtCQUFrQixXQUFXLGtCQUFrQiw4QkFBOEIsa0JBQWtCLDZFQUE2RSxZQUFZLElBQUksbUJBQW1CLFlBQVksK0JBQStCLGtCQUFrQiw2RUFBNkUsWUFBWSxJQUFJLG1DQUFtQyxZQUFZLCtCQUErQixrQkFBa0IsNkVBQTZFLFlBQVksSUFBSSxtRUFBbUUsWUFBWSxpQ0FBaUMsa0JBQWtCLDBFQUEwRSxnRkFBZ0YsbUVBQW1FLHlDQUF5QyxnQ0FBZ0MsZ0NBQWdDLDhDQUE4QyxFQUFFLCtEQUErRCxpRkFBaUYsdUxBQXVMLCtLQUErSyx1QkFBdUIsa0JBQWtCLGlCQUFpQixpREFBaUQsb0VBQW9FLFlBQVksS0FBSyxzQkFBc0IsZ0JBQWdCLE1BQU0sdUJBQXVCLHNCQUFzQiwwQkFBMEIseUpBQXlKLGVBQWUsY0FBYyxxQkFBcUIsZUFBZSx5RkFBeUYsNExBQTRMLDREQUE0RCxzQkFBc0IsOEJBQThCLG1HQUFtRyxvQ0FBb0Msb0JBQW9CLGtCQUFrQix3Q0FBd0MsT0FBTyxNQUFNLFVBQVUsU0FBUyxLQUFLLDBDQUEwQyw0Q0FBNEMsaUNBQWlDLDZCQUE2QixNQUFNLE1BQU0sVUFBVSxZQUFZLElBQUksNkJBQTZCLE1BQU0sTUFBTSxnQkFBZ0IsVUFBVSxxQ0FBcUMsZ0NBQWdDLHFDQUFxQyx3QkFBd0IseUNBQXlDLHlCQUF5QixvQkFBb0IsZUFBZSxpQkFBaUIsK0JBQStCLGVBQWUsZUFBZSxNQUFNLFFBQVEsSUFBSSxLQUFLLG1DQUFtQyxrQkFBa0IsVUFBVSxTQUFTLG9CQUFvQixrQ0FBa0Msb0JBQW9CLHVCQUF1QixxQkFBcUIsdUJBQXVCLHFCQUFxQixrQ0FBa0Msb0NBQW9DLHlDQUF5Qyw2REFBNkQsd0ZBQXdGLGdHQUFnRyxvQkFBb0IsaUlBQWlJLGNBQWMsU0FBUyxNQUFNLFdBQVcsK0JBQStCLDRDQUE0QywyREFBMkQsbUNBQW1DLDBFQUEwRSx5REFBeUQsOEJBQThCLCtCQUErQixRQUFRLG1FQUFtRSxtQkFBbUIsNEVBQTRFLG1CQUFtQix1QkFBdUIsYUFBYSxLQUFLLElBQUksRUFBRSw4Q0FBOEMsV0FBVyxlQUFlLFVBQVUsb0JBQW9CLE1BQU0sa0VBQWtFLE1BQU0sNkhBQTZILE1BQU0sNkpBQTZKLG9HQUFvRyxhQUFhLFlBQVksZUFBZSxlQUFlLG9EQUFvRCxhQUFhLEtBQUssSUFBSSx1REFBdUQsU0FBUyxtQkFBbUIsU0FBUyx1QkFBdUIsWUFBWSxJQUFJLHFDQUFxQyxTQUFTLG1CQUFtQixTQUFTLHVCQUF1QixZQUFZLElBQUksaUNBQWlDLFNBQVMsbUJBQW1CLGVBQWUsdUNBQXVDLFNBQVMsWUFBWSxJQUFJLGdCQUFnQixTQUFTLG1CQUFtQix3QkFBd0IsWUFBWSxhQUFhLDZDQUE2QyxTQUFTLGdDQUFnQyxrQkFBa0Isc0dBQXNHLHlCQUF5QiwrQ0FBK0MsbUJBQW1CLDJEQUEyRCx1RUFBdUUsOERBQThELHVDQUF1QyxzQkFBc0IsS0FBSyxnQkFBZ0IsZ0JBQWdCLFNBQVMsK0RBQStELHVDQUF1QyxzQkFBc0IsS0FBSyxjQUFjLGtCQUFrQixTQUFTLDJEQUEyRCw4Q0FBOEMsaUVBQWlFLDJEQUEyRCxpRUFBaUUsMkRBQTJELGlFQUFpRSw4RkFBOEYsaUVBQWlFLDhGQUE4Riw0Q0FBNEMsdUJBQXVCLDBCQUEwQiw4Q0FBOEMsMEdBQTBHLHlDQUF5Qyw2Q0FBNkMsdUJBQXVCLDBCQUEwQiw4Q0FBOEMsMEdBQTBHLHlDQUF5Qyx3Q0FBd0MsdUNBQXVDLHNCQUFzQixLQUFLLGdCQUFnQixnQkFBZ0IsMkNBQTJDLHVDQUF1Qyx1Q0FBdUMsMEJBQTBCLEtBQUssY0FBYyxrQkFBa0IsMkNBQTJDLG9DQUFvQyw2RUFBNkUsdUNBQXVDLCtCQUErQiwyQkFBMkIsOEJBQThCLHVDQUF1QywrQkFBK0IsMkJBQTJCLDhCQUE4Qix1Q0FBdUMsdUZBQXVGLHVDQUF1Qyx1RkFBdUYsMkNBQTJDLHVCQUF1QiwwQkFBMEIsOENBQThDLHVEQUF1RCx3RkFBd0YsNENBQTRDLHVCQUF1QiwwQkFBMEIsOENBQThDLHVEQUF1RCx3RkFBd0Ysd0NBQXdDLDZEQUE2RCx1Q0FBdUMsNkRBQTZELHdDQUF3Qyw2REFBNkQsd0NBQXdDLDhEQUE4RCx5QkFBeUIscUZBQXFGLHNFQUFzRSwyREFBMkQsa0VBQWtFLDRCQUE0Qix3QkFBd0Isb0JBQW9CLFlBQVksa0JBQWtCLGdCQUFnQixtQkFBbUIsV0FBVyxtRUFBbUUsNEJBQTRCLHdCQUF3QixvQkFBb0IsY0FBYyxvQkFBb0IsaUJBQWlCLG1CQUFtQixXQUFXLCtEQUErRCw4REFBOEQscUVBQXFFLGdGQUFnRixxRUFBcUUsZ0ZBQWdGLHFFQUFxRSx1SEFBdUgscUVBQXFFLHdIQUF3SCx1QkFBdUIsZ0JBQWdCLG1DQUFtQyx5REFBeUQsK0NBQStDLGtFQUFrRSx1QkFBdUIsZ0JBQWdCLG1DQUFtQyx5REFBeUQsK0NBQStDLGtFQUFrRSxnREFBZ0QsMkRBQTJELGtEQUFrRCwyREFBMkQsMkNBQTJDLG9CQUFvQix5QkFBeUIseUJBQXlCLGdCQUFnQixrQkFBa0IsZ0JBQWdCLDZEQUE2RCxXQUFXLDBDQUEwQyxvQkFBb0IseUJBQXlCLHlCQUF5QixrQkFBa0Isb0JBQW9CLGlCQUFpQiw2REFBNkQsV0FBVyx1Q0FBdUMsa0ZBQWtGLDBDQUEwQyxxRkFBcUYsMENBQTBDLHFGQUFxRiwwQ0FBMEMsaUlBQWlJLDBDQUEwQyx5SkFBeUosZ0RBQWdELCtFQUErRSxpREFBaUQsK0VBQStFLEVBQUUseUJBQXlCLDJEQUEyRCxrREFBa0QsdUJBQXVCLDZEQUE2RCx5Q0FBeUMseUJBQXlCLDBDQUEwQywwQkFBMEIsdUJBQXVCLDZEQUE2RCwwQ0FBMEMseUJBQXlCLDJDQUEyQyx5QkFBeUIsb0NBQW9DLHFFQUFxRSx3SUFBd0kseURBQXlELGtFQUFrRSx1REFBdUQsZ0VBQWdFLFVBQVUsbUpBQW1KLG9DQUFvQyx1QkFBdUIsc0tBQXNLLG9GQUFvRixpQkFBaUIsc0JBQXNCLDJDQUEyQyxtRUFBbUUsZ0ZBQWdGLG9CQUFvQixnREFBZ0QsTUFBTSw4QkFBOEIsSUFBSSxjQUFjLE1BQU0sNkNBQTZDLGtGQUFrRixRQUFRLE1BQU0sc0JBQXNCLGFBQWEsVUFBVSxtQkFBbUIsc0JBQXNCLGNBQWMsOENBQThDLDBEQUEwRCxlQUFlLFdBQVcsR0FBRyxFQUFFLGdDQUFnQyxXQUFXLFNBQVMsWUFBWSxtQ0FBbUMsa0RBQWtELEdBQUcsV0FBVyxVQUFVLFdBQVcsR0FBRyxFQUFFLEtBQUssYUFBYSxLQUFLLDBDQUEwQyxZQUFZLEdBQUcsOEVBQThFLHFEQUFxRCxlQUFlLEVBQUUsbURBQW1ELFNBQVMsRUFBRSxrREFBa0QsdUJBQXVCLEVBQUUsd0JBQXdCLDBMQUEwTCxFQUFFLGFBQWEsRUFBRSxJQUFJLGFBQWEsZUFBZSxxQ0FBcUMsS0FBSyxPQUFPLFdBQVcsZUFBZSxFQUFFLEVBQUUsRUFBRSxVQUFVLGFBQWEsRUFBRSxFQUFFLEVBQUUsbUJBQW1CLHVFQUF1RSx5QkFBeUIsYUFBYSxrQ0FBa0Msb0NBQW9DLEdBQUcsU0FBUyxHQUFHLEtBQUssUUFBUSxFQUFFLEVBQUUsYUFBYSxHQUFHLEtBQUssVUFBVSxFQUFFLEVBQUUsZUFBZSxVQUFVLEVBQUUsRUFBRSx1Q0FBdUMsV0FBVyxpQkFBaUIsc0VBQXNFLG1CQUFtQiw4SkFBOEosR0FBRyxTQUFTLEVBQUUsS0FBSywyQkFBMkIsZUFBZSxvRUFBb0UsS0FBSyxlQUFlLFNBQVMsU0FBUyxpQkFBaUIsU0FBUyw2QkFBNkIsWUFBWSxJQUFJLEtBQUssdUNBQXVDLE9BQU8sWUFBWSwrQkFBK0IsU0FBUyxpQkFBaUIsK0JBQStCLFNBQVMsSUFBSSxTQUFTLFlBQVksbUNBQW1DLFNBQVMsK0JBQStCLHVDQUF1QyxpQkFBaUIsa0JBQWtCLFdBQVcsZ0JBQWdCLGtCQUFrQiwyQkFBMkIsaUJBQWlCLGtCQUFrQix3Q0FBd0MsbUJBQW1CLGtCQUFrQixxREFBcUQsMkNBQTJDLFNBQVMsZUFBZSxTQUFTLFlBQVksV0FBVyxnQ0FBZ0MsU0FBUyxpQkFBaUIsZUFBZSxZQUFZLHdCQUF3Qix5REFBeUQsU0FBUyxlQUFlLDRCQUE0QixxQkFBcUIsTUFBTSxRQUFRLG1DQUFtQyxnQkFBZ0IsU0FBUyxpQkFBaUIsMkdBQTJHLGVBQWUsYUFBYSxrQkFBa0IsMENBQTBDLFlBQVksS0FBSyxLQUFLLFdBQVcsWUFBWSxLQUFLLHNCQUFzQixTQUFTLEdBQUcsZUFBZSw4QkFBOEIsY0FBYyx3Q0FBd0MsVUFBVSw0Q0FBNEMsSUFBSSxJQUFJLElBQUksS0FBSyxPQUFPLEtBQUssT0FBTyxLQUFLLE9BQU8sUUFBUSxVQUFVLGNBQWMscUJBQXFCLGNBQWMsc0RBQXNELEVBQUUsY0FBYyxNQUFNLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLGFBQWEsZUFBZSxvQkFBb0IsYUFBYSxTQUFTLDBHQUEwRyxtQkFBbUIsNEJBQTRCLFFBQVEsd0JBQXdCLGVBQWUsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksWUFBWSxnQkFBZ0Isd0JBQXdCLDZCQUE2QixxQkFBcUIsNEJBQTRCLG9CQUFvQix5QkFBeUIsaUJBQWlCLHdCQUF3QixnQkFBZ0Isd0JBQXdCLGdCQUFnQix5QkFBeUIsaUJBQWlCLDRCQUE0QixvQkFBb0IsdUNBQXVDLHNCQUFzQix5Q0FBeUMsd0RBQXdELGdQQUFnUCxvQ0FBb0MsNkJBQTZCLG9DQUFvQyxxQ0FBcUMsNENBQTRDLGVBQWUsc0JBQXNCLDJCQUEyQixrQ0FBa0Msb0NBQW9DLGtCQUFrQiw2QkFBNkIsbUJBQW1CLGtCQUFrQix5QkFBeUIscURBQXFELGlCQUFpQixnREFBZ0Qsb0JBQW9CLCtCQUErQix1QkFBdUIsK0JBQStCLHVCQUF1Qix3QkFBd0IsZ0JBQWdCLHdLQUF3SyxrQkFBa0IsY0FBYyxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSwrREFBK0QsdUVBQXVFLHVCQUF1QixhQUFhLFVBQVUsd0JBQXdCLGVBQWUsK0VBQStFLFNBQVMsR0FBRyxTQUFTLFlBQVksV0FBVyxjQUFjO0FBQzExbEMsRUFBRSxxREFBcUQsWUFBWSwrQ0FBK0MsVUFBVSxTQUFTLHNCQUFzQiw0QkFBNEIsa0NBQWtDLFFBQVEsUUFBUSw0QkFBNEIsU0FBUyxzQkFBc0IsY0FBYywyQkFBMkIsNkJBQTZCLEVBQUUsWUFBWSxvQkFBb0IsZ0JBQWdCLGtEQUFrRCxnQkFBZ0IscUZBQXFGLGdEQUFnRCxzQkFBc0IsRUFBRSxZQUFZLGlCQUFpQixvREFBb0Qsb0NBQW9DLGVBQWUsRUFBRSxJQUFJLGdCQUFnQixFQUFFLEdBQUcsV0FBVyxFQUFFLEdBQUcsK0RBQStELHVCQUF1QixVQUFVLEdBQUcsK0NBQStDLHVCQUF1QixHQUFHLFFBQVEsbUJBQW1CLHVCQUF1QixzQkFBc0IsOEJBQThCLFlBQVksd0VBQXdFLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksa0NBQWtDLHNEQUFzRCxjQUFjLDBCQUEwQix1QkFBdUIsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSx1Q0FBdUMsaU5BQWlOLGlCQUFpQiw2Q0FBNkMsZUFBZSxxQ0FBcUMsS0FBSyxPQUFPLFdBQVcsZUFBZSxFQUFFLEVBQUUsRUFBRSxVQUFVLGFBQWEsRUFBRSxFQUFFLEVBQUUsbUJBQW1CLDhEQUE4RCxJQUFJLGlDQUFpQyxTQUFTLHNDQUFzQyxTQUFTLGFBQWEsMENBQTBDLGdDQUFnQyxJQUFJLGlDQUFpQyxTQUFTLHNDQUFzQyxFQUFFLCtCQUErQixtQkFBbUIsYUFBYSxrQkFBa0Isa0JBQWtCLGtCQUFrQixXQUFXLFVBQVUsV0FBVyxHQUFHLEVBQUUsS0FBSyxhQUFhLEdBQUcscUNBQXFDLE1BQU0sdURBQXVELFdBQVcsUUFBUSxVQUFVLFdBQVcsR0FBRyxFQUFFLEtBQUssYUFBYSxFQUFFLDRDQUE0QyxpREFBaUQsZUFBZSxnQkFBZ0IsdUNBQXVDLFFBQVEsSUFBSSxpQkFBaUIsZ0JBQWdCLHFEQUFxRCw4QkFBOEIsdUJBQXVCLFlBQVksMkJBQTJCLG9EQUFvRCwwRkFBMEYsMkRBQTJELCtCQUErQixvQ0FBb0MsMkVBQTJFLGFBQWEsOEJBQThCLEdBQUcsU0FBUyxFQUFFLElBQUksdUNBQXVDLGdCQUFnQixtQkFBbUIsbU9BQW1PLGVBQWUsMEJBQTBCLDRDQUE0QyxlQUFlLGlCQUFpQixxQkFBcUIsS0FBSyxFQUFFLE1BQU0seUJBQXlCLE1BQU0sS0FBSyxLQUFLLEVBQUUsTUFBTSxTQUFTLGNBQWMsa0JBQWtCLGFBQWEsT0FBTyxFQUFFLElBQUksdUNBQXVDLGVBQWUsaUJBQWlCLDRCQUE0QixLQUFLLEVBQUUsTUFBTSw0QkFBNEIsTUFBTSxLQUFLLEtBQUssRUFBRSxNQUFNLFNBQVMsY0FBYyxxQkFBcUIsYUFBYSxPQUFPLEVBQUUsSUFBSSx5QkFBeUIsaUJBQWlCLGFBQWEsbURBQW1ELEtBQUssRUFBRSxNQUFNLG9CQUFvQixNQUFNLEtBQUssS0FBSyxFQUFFLE1BQU0sU0FBUyxjQUFjLGFBQWEsYUFBYSxPQUFPLEVBQUUsSUFBSSw0QkFBNEIsRUFBRSxFQUFFLCtEQUErRCxPQUFPLEVBQUUsNEJBQTRCLE1BQU0sZ0ZBQWdGLG1CQUFtQixFQUFFLE1BQU0sWUFBWSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxNQUFNLFlBQVksVUFBVSxFQUFFLG1CQUFtQixjQUFjLDRCQUE0QixVQUFVLEdBQUcsRUFBRSxJQUFJLFNBQVMsWUFBWSxrREFBa0QsWUFBWSxxREFBcUQsdUNBQXVDLEdBQUcsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUUsWUFBWSx3Q0FBd0MsTUFBTSwyRUFBMkUsbUJBQW1CLFVBQVUsU0FBUyxFQUFFLG1CQUFtQixHQUFHLDJCQUEyQixFQUFFLHFCQUFxQixFQUFFLEdBQUcsWUFBWSwrQkFBK0Isd0RBQXdELGlCQUFpQiw2Q0FBNkMsRUFBRSxvQkFBb0IsaUJBQWlCLE1BQU0sVUFBVSxNQUFNLGlCQUFpQixNQUFNLE1BQU0sTUFBTSxXQUFXLE1BQU0sU0FBUyxjQUFjLFVBQVUsYUFBYSxRQUFRLEdBQUcsWUFBWSxNQUFNLFVBQVUsR0FBRyxtQkFBbUIsWUFBWSxnQ0FBZ0MsaUNBQWlDLE1BQU0sb0tBQW9LLEVBQUUsZ0NBQWdDLEVBQUUsYUFBYSxFQUFFLEVBQUUsYUFBYSxtRUFBbUUsMEVBQTBFLHFGQUFxRiwrREFBK0QsK0VBQStFLDZFQUE2RSx5REFBeUQsZ0VBQWdFLGtGQUFrRix5REFBeUQsNERBQTRELFlBQVksc0VBQXNFLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksb1RBQW9ULE9BQU8sMEJBQTBCLG1IQUFtSCxPQUFPLHFCQUFxQixPQUFPLHdDQUF3QyxrQkFBa0IsZUFBZSxpQkFBaUIsZUFBZSxpQkFBaUIsNEVBQTRFLG1CQUFtQiwyQ0FBMkMsd0NBQXdDLFdBQVcsaUJBQWlCLDRCQUE0QixpREFBaUQseUNBQXlDLGlDQUFpQyxHQUFHLFFBQVEsRUFBRSxLQUFLLDJDQUEyQyxpREFBaUQseUNBQXlDLGlDQUFpQyxHQUFHLFFBQVEsRUFBRSxLQUFLLHFCQUFxQixpREFBaUQseUNBQXlDLHlCQUF5QixpQ0FBaUMsR0FBRyxRQUFRLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixpREFBaUQsNEJBQTRCLGlEQUFpRCwyRUFBMkUsY0FBYyxFQUFFLEtBQUssRUFBRSwyQkFBMkIsRUFBRSxjQUFjLEVBQUUsS0FBSyxLQUFLLG9CQUFvQixhQUFhLDJEQUEyRCxFQUFFLGdCQUFnQixxQkFBcUIsRUFBRSxpQkFBaUIsbURBQW1ELG1CQUFtQixnQ0FBZ0MseUJBQXlCLHVEQUF1RCx3SEFBd0gsZ0JBQWdCLHNGQUFzRixvQkFBb0Isb0NBQW9DLGVBQWUsNkJBQTZCLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxpQkFBaUIsUUFBUSxZQUFZLFdBQVcsZUFBZSxFQUFFLEdBQUcsRUFBRSxLQUFLLGlCQUFpQixRQUFRLFlBQVksV0FBVyxlQUFlLEVBQUUsR0FBRyxFQUFFLEtBQUssMEJBQTBCLGlIQUFpSCwyQkFBMkIsK0RBQStELEVBQUUsaUJBQWlCLHVCQUF1QixpRkFBaUYsRUFBRSxHQUFHLDZCQUE2QixxSUFBcUksV0FBVyxrQkFBa0IsZ0dBQWdHLGdCQUFnQixxREFBcUQsZ0JBQWdCLDREQUE0RCxnQkFBZ0IsNENBQTRDLEVBQUUsbUJBQW1CLGdDQUFnQyxVQUFVLE9BQU8sMkJBQTJCLE1BQU0sZ0JBQWdCLGNBQWMsaUJBQWlCLGtHQUFrRyxhQUFhLFlBQVksZUFBZSw2Q0FBNkMsVUFBVSxvQkFBb0Isa0JBQWtCLFlBQVksSUFBSSxLQUFLLFdBQVcsdUNBQXVDLFNBQVMsNkVBQTZFLGFBQWEsWUFBWSxZQUFZLGllQUFpZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxvQkFBb0IsT0FBTyxjQUFjLG1EQUFtRCxjQUFjLHFEQUFxRCxZQUFZLElBQUksbURBQW1ELE1BQU0sT0FBTyxJQUFJLHVEQUF1RCxNQUFNLFFBQVEsSUFBSSxlQUFlLDBDQUEwQyxtRUFBbUUsSUFBSSxlQUFlLE1BQU0sSUFBSSx5QkFBeUIsTUFBTSwyQkFBMkIsZUFBZSw0Q0FBNEMsdUVBQXVFLElBQUksYUFBYSxNQUFNLElBQUksdUJBQXVCLE1BQU0seUJBQXlCLHlCQUF5QixjQUFjLG9FQUFvRSxjQUFjLFFBQVEsYUFBYSxNQUFNLG9CQUFvQixFQUFFLEVBQUUsZ0JBQWdCLE9BQU8sa0JBQWtCLG1CQUFtQixzQkFBc0Isd0JBQXdCLG9DQUFvQyxrQ0FBa0MsbUJBQW1CLHdCQUF3QixrREFBa0QsaUJBQWlCLHlCQUF5Qiw0QkFBNEIsa0NBQWtDLG1CQUFtQixjQUFjLFVBQVUsV0FBVyxjQUFjLGVBQWUsZUFBZSxTQUFTLGtCQUFrQixXQUFXLFVBQVUscUJBQXFCLHlCQUF5QixXQUFXLHNCQUFzQiwwQkFBMEIseUJBQXlCLFdBQVcsdUJBQXVCLHFEQUFxRCxrQkFBa0IsWUFBWSxxQkFBcUIsbURBQW1ELG9CQUFvQixXQUFXLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksZ0VBQWdFLHFMQUFxTCxvQkFBb0IsTUFBTSw4UEFBOFAsZUFBZSxNQUFNLHlKQUF5SixlQUFlLCtHQUErRyxlQUFlLHdKQUF3SixlQUFlLG9IQUFvSCxlQUFlLGlGQUFpRixlQUFlLCtFQUErRSxlQUFlLDJCQUEyQixpQkFBaUIscUlBQXFJLGVBQWUsc0JBQXNCLGlEQUFpRCxvREFBb0QsZUFBZSxzQkFBc0Isa0NBQWtDLHVCQUF1QixxRUFBcUUsaUJBQWlCLHNCQUFzQixxQ0FBcUMsdUJBQXVCLG1IQUFtSCxlQUFlLHNCQUFzQixrQ0FBa0MsdUJBQXVCLGdFQUFnRSxpQkFBaUIsc0JBQXNCLHVCQUF1Qix1SEFBdUgsZUFBZSxrR0FBa0csZUFBZSw2RUFBNkUsaUJBQWlCLCtFQUErRSxlQUFlLFFBQVEsNklBQTZJLGVBQWUsUUFBUSw2SUFBNkksZUFBZSxzQkFBc0IsOENBQThDLDBDQUEwQyx1SUFBdUksZUFBZSx1SkFBdUosZUFBZSwyQ0FBMkMsZUFBZSxNQUFNLHNJQUFzSSxlQUFlLHNCQUFzQixpREFBaUQsbUVBQW1FLGVBQWUsTUFBTSxvRkFBb0YsZUFBZSx3QkFBd0IsMmJBQTJiLFlBQVksa2pCQUFrakIsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksYUFBYSx1QkFBdUIsT0FBTyxzREFBc0QsS0FBSyx3QkFBd0IsT0FBTyxnRkFBZ0YsT0FBTyxtQ0FBbUMsT0FBTywyUUFBMlEsTUFBTSxlQUFlLCtDQUErQyxjQUFjLG1CQUFtQixRQUFRLHFKQUFxSixnRkFBZ0YseUlBQXlJLGlCQUFpQixpREFBaUQscUVBQXFFLG1CQUFtQixxRUFBcUUsT0FBTyxhQUFhLGdCQUFnQixLQUFLLG1CQUFtQiw2Q0FBNkMsc0RBQXNELDRDQUE0QyxXQUFXLFFBQVEsS0FBSyxtQkFBbUIsNkNBQTZDLFdBQVcsUUFBUSx1QkFBdUIsK2FBQSthLFdBQVcsMlVBQTJVLGlCQUFpQixXQUFXLFFBQVEsNEJBQTRCLHNCQUFzQixLQUFLLG1DQUFtQyxNQUFNLFFBQVEsY0FBYyxzREFBc0QseUNBQXlDLFNBQVMsbUJBQW1CLGNBQWMsc0JBQXNCLDZCQUE2QixzQkFBc0IsSUFBSSxpQ0FBaUMsTUFBTSxRQUFRLGNBQWMsc0RBQXNELHdDQUF3QyxlQUFlLG1DQUFtQyxnQ0FBZ0MsaUJBQWlCLE1BQU0sU0FBUyxrSEFBa0gsaUJBQWlCLG1CQUFtQixHQUFHLEVBQUUsY0FBYyx3QkFBd0IsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksYUFBYSw2QkFBNkIseUJBQXlCLGVBQWUsT0FBTyxVQUFVLE9BQU8sOERBQThELDRDQUE0QyxtQkFBbUIsd0VBQXdFLGlCQUFpQix1REFBdUQsMExBQTBMLG9CQUFvQixRQUFRLG1CQUFtQixTQUFTLGNBQWMsWUFBWSxLQUFLLDBDQUEwQyxnSEFBZ0gsSUFBSSx1QkFBdUIsU0FBUyxPQUFPLGlCQUFpQixlQUFlLGVBQWUsMENBQTBDLDZHQUE2RyxpQkFBaUIsMENBQTBDLHFIQUFxSCxjQUFjLGdEQUFnRCx5WEFBeVgsbUJBQW1CLDBDQUEwQywwREFBMEQsa0tBQWtLLGlCQUFpQiwwQ0FBMEMsMENBQTBDLHNHQUFzRyxlQUFlLFNBQVMsY0FBYyxNQUFNLGdCQUFnQixPQUFPLEtBQUssaURBQWlELHFHQUFxRyxJQUFJLGlCQUFpQixrQkFBa0IsR0FBRyxTQUFTLG1CQUFtQixlQUFlLFlBQVksZUFBZSxnREFBZ0QsZUFBZSxpQkFBaUIsaUJBQWlCLHFDQUFxQyxpQkFBaUIsK1BBQStQLFlBQVksc0VBQXNFLEVBQUUsYUFBYSxtQkFBbUIsZUFBZSx5SEFBeUgsZUFBZSxzRUFBc0UscUJBQXFCLFlBQVksdU5BQXVOLCtHQUErRyxZQUFZLDJKQUEySix1SEFBdUgsU0FBUyxjQUFjLHNMQUFzTCxtQkFBbUIsT0FBTyxrREFBa0QsY0FBYyxpQ0FBaUMsbUJBQW1CLGdCQUFnQix3QkFBd0IsV0FBVyw4RUFBOEUsa0NBQWtDLFdBQVcsNkJBQTZCLFNBQVMsbUJBQW1CLGVBQWUsbUJBQW1CLGVBQWUsV0FBVyxpQ0FBaUMsOEJBQThCLFNBQVMsaUJBQWlCLDJCQUEyQixJQUFJLGNBQWMsU0FBUyxvQ0FBb0MsSUFBSSxJQUFJLElBQUkscUdBQXFHLDZDQUE2Qyx5RkFBeUYsNkVBQTZFLGFBQWEsc0NBQXNDLDZCQUE2QixhQUFhLDZHQUE2RyxNQUFNLCtDQUErQyw2QkFBNkIsVUFBVSxpQkFBaUIsZ0tBQWdLLE9BQU8sb0JBQW9CLGlMQUFpTCx5Q0FBeUMsOElBQThJLGlDQUFpQyx3Q0FBd0MsZ0JBQWdCLDhCQUE4QixpQkFBaUIsbUJBQW1CLHlCQUF5QixpQ0FBaUMsb0NBQW9DLHFCQUFxQixNQUFNLE1BQU0sbURBQW1ELDhEQUE4RCxvQkFBb0IsV0FBVyx3QkFBd0IscUNBQXFDLE1BQU0seUJBQXlCLFFBQVEsSUFBSSxxQkFBcUIsVUFBVSx1Q0FBdUMsdUJBQXVCLGtGQUFrRix1QkFBdUIsZ0NBQWdDLDBDQUEwQywrQ0FBK0MsdURBQXVELDBDQUEwQyxjQUFjLCtDQUErQyxpQ0FBaUMsNkpBQTZKLDhCQUE4QixzQkFBc0IsS0FBSyxvQ0FBb0Msb0JBQW9CLE1BQU0sbUJBQW1CLDhCQUE4QixLQUFLLGFBQWEsZ0JBQWdCLFNBQVMsK0ZBQStGLFlBQVksdUZBQXVGLFVBQVUseUNBQXlDLDBNQUEwTSx5QkFBeUIsdUJBQXVCLFFBQVEsV0FBVyw0REFBNEQsMkdBQTJHLHVEQUF1RCxvQ0FBb0MsS0FBSyxnQ0FBZ0MsWUFBWSxtQ0FBbUMscUJBQXFCLHNDQUFzQyxxQkFBcUIsK0JBQStCLDBFQUEwRSxnRUFBZ0UsZ0RBQWdELE1BQU0sZ0JBQWdCLHVCQUF1QixRQUFRLGlCQUFpQixnQkFBZ0IsdUJBQXVCLFFBQVEsa0JBQWtCLEVBQUUsVUFBVSxPQUFPLHFIQUFxSCxFQUFFLGlDQUFpQyxJQUFJLElBQUksSUFBSSxLQUFLLEtBQUssc0JBQXNCLDJCQUEyQixpQkFBaUIsOENBQThDLE1BQU0sb0JBQW9CLCtCQUErQixpQ0FBaUMsR0FBRyxvQkFBb0IsNkJBQTZCLGFBQWEsZ0JBQWdCLG1DQUFtQyxNQUFNLHdCQUF3QixnQkFBZ0IsZ0VBQWdFLG1CQUFtQixHQUFHLGdCQUFnQix1REFBdUQsc0RBQXNELG1DQUFtQyxVQUFVLHVEQUF1RCwwQkFBMEIsY0FBYyxtQ0FBbUMsaUJBQWlCLGdCQUFnQiwrQ0FBK0MsY0FBYyxLQUFLLGdCQUFnQixnQ0FBZ0MsRUFBRSw4RUFBOEUsTUFBTSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLHdDQUF3QyxPQUFPLGdCQUFnQixjQUFjLGVBQWUsaUJBQWlCLDhCQUE4QixVQUFVLGdDQUFnQyxXQUFXLGNBQWMsaURBQWlELGVBQWUsYUFBYSxrQ0FBa0MsK0VBQStFLFNBQVMsYUFBYSxtQkFBbUIsYUFBYSxxREFBcUQsY0FBYyw4REFBOEQsZ0NBQWdDLGFBQWEsd1BBQXdQLHlFQUF5RSxtQkFBbUIsc0VBQXNFLDRHQUE0RyxZQUFZLCtCQUErQixFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLHVCQUF1QixPQUFPLDJEQUEyRCxlQUFlLHdCQUF3QixlQUFlLHlFQUF5RSx3Q0FBd0MsdUdBQXVHLGlEQUFpRCxrREFBa0QsaURBQWlELGlCQUFpQix5QkFBeUIsZUFBZSxJQUFJLE1BQU0scUJBQXFCLGVBQWUsS0FBSyxvR0FBb0csRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksSUFBSSxrRkFBa0YsT0FBTyxVQUFVLGVBQWUsV0FBVyxNQUFNLGlCQUFpQixjQUFjLDZDQUE2QyxRQUFRLE9BQU8sa0JBQWtCLHNFQUFzRSxXQUFXLE9BQU8sdUJBQXVCLDBEQUEwRCxRQUFRLDBCQUEwQixxQkFBcUIseUZBQXlGLFFBQVEsd0NBQXdDLFFBQVEsNkJBQTZCLDRCQUE0QixLQUFLLGtCQUFrQixhQUFhLFNBQVMsVUFBVSxzQ0FBc0MsNENBQTRDLEtBQUssRUFBRSwwQ0FBMEMsU0FBUyxhQUFhLHFCQUFxQixlQUFlLG1CQUFtQixtQ0FBbUMseUVBQXlFLFFBQVEsc0JBQXNCLFFBQVEsb0JBQW9CLEVBQUUsdUJBQXVCLGNBQWMseUJBQXlCLEdBQUcsYUFBYSwrQkFBK0IsTUFBTSxtSEFBbUgsTUFBTSxLQUFLLHlCQUF5Qix3QkFBd0IsY0FBYyw0Q0FBNEMsR0FBRyxhQUFhLHNDQUFzQyxNQUFNLDBKQUEwSixNQUFNLEtBQUsseUJBQXlCLHdCQUF3QixnREFBZ0QsZ0JBQWdCLDhCQUE4QixLQUFLLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksZ0NBQWdDLE9BQU8seUJBQXlCLFlBQVksbUJBQW1CLHlEQUF5RCxlQUFlLG9CQUFvQixxQkFBcUIsZ0JBQWdCLFlBQVksZ0JBQWdCLG1CQUFtQixFQUFFLDBCQUEwQixrQkFBa0IsYUFBYSx3QkFBd0IsWUFBWSxpREFBaUQsRUFBRSxlQUFlLGVBQWUsMkVBQTJFLHFCQUFxQix1Q0FBdUMsbUJBQW1CLHFCQUFxQixJQUFJLHFIQUFxSCxrQkFBa0IsZUFBZSx1RkFBdUYsd0JBQXdCLDhDQUE4QyxrQkFBa0IsdUJBQXVCLGdIQUFnSCxhQUFhLGlCQUFpQixtQkFBbUIsMkNBQTJDLHVHQUF1Ryx1Q0FBdUMsaUNBQWlDLE1BQU0sc0NBQXNDLDJKQUEySiwrSkFBK0osbUhBQW1ILDZCQUE2Qix1Q0FBdUMsa0JBQWtCLGtCQUFrQiw2QkFBNkIsdUNBQXVDLGdGQUFnRiw4REFBOEQsSUFBSSxjQUFjLDRJQUE0SSxnSkFBZ0osZUFBZSxvRkFBb0YsOEVBQThFLGVBQWUsK0JBQStCLGVBQWUsa0RBQWtELElBQUksbUJBQW1CLFNBQVMsbUJBQW1CLG9GQUFvRixzRkFBc0YsTUFBTSw4SUFBOEksZUFBZSxtSUFBbUksV0FBVyxpQkFBaUIsaUNBQWlDLGdFQUFnRSwrSUFBK0ksdURBQXVELHNCQUFzQixjQUFjLFdBQVcsK0NBQStDLDJDQUEyQywrREFBK0QsdUJBQXVCLGlDQUFpQyxzQ0FBc0MsOEJBQThCLG1CQUFtQixTQUFTLDZIQUE2SCxtQkFBbUIsV0FBVyw4QkFBOEIsMkNBQTJDLGdDQUFnQyw4Q0FBOEMsaUNBQWlDLHdFQUF3RSx5REFBeUQsOEJBQThCLG1CQUFtQixXQUFXLGtCQUFrQix1QkFBdUIsMEJBQTBCLHVKQUF1SixlQUFlLGNBQWMsYUFBYSxnQkFBZ0IsS0FBSywwRkFBMEYsNExBQTRMLDREQUE0RCx1QkFBdUIsZ0NBQWdDLG1HQUFtRyxvQ0FBb0Msb0JBQW9CLGdCQUFnQixzQ0FBc0MsTUFBTSxTQUFTLFFBQVEsSUFBSSxtQ0FBbUMsc0NBQXNDLDRCQUE0Qiw0QkFBNEIsS0FBSyxLQUFLLGlCQUFpQixJQUFJLDBCQUEwQixLQUFLLE1BQU0sY0FBYyxVQUFVLHFCQUFxQixlQUFlLGlCQUFpQiw2QkFBNkIsZUFBZSxlQUFlLFlBQVksSUFBSSxLQUFLLG1DQUFtQyxrQkFBa0IsVUFBVSxTQUFTLHFCQUFxQixrQ0FBa0MscUJBQXFCLHNCQUFzQixpQkFBaUIsV0FBVyxnQ0FBZ0MsU0FBUyxXQUFXLHFCQUFxQixtQkFBbUIscUJBQXFCLHVCQUF1QixxQkFBcUIsd0JBQXdCLHVCQUF1Qix3QkFBd0IseURBQXlELFNBQVMsc0JBQXNCLG1CQUFtQiw4RUFBOEUsbUJBQW1CLHVCQUF1QixpQkFBaUIsSUFBSSxFQUFFLHNEQUFzRCxvQkFBb0Isb0JBQW9CLE1BQU0sNERBQTRELE1BQU0sbUhBQW1ILE1BQU0sOElBQThJLG9HQUFvRyxtQkFBbUIsZUFBZSxzREFBc0QsaUJBQWlCLElBQUkseURBQXlELFNBQVMsSUFBSSxtQkFBbUIsU0FBUyx1QkFBdUIsWUFBWSxJQUFJLHFDQUFxQyxTQUFTLG1CQUFtQixTQUFTLHVCQUF1QixZQUFZLElBQUksaUNBQWlDLFNBQVMsbUJBQW1CLGVBQWUsdUNBQXVDLGlCQUFpQixJQUFJLGdCQUFnQixTQUFTLG1CQUFtQixnQ0FBZ0MsV0FBVyw2Q0FBNkMsU0FBUyxtQkFBbUIsMERBQTBELHVFQUF1RSx5QkFBeUIscUZBQXFGLHNFQUFzRSwyREFBMkQseUJBQXlCLDJEQUEyRCxrREFBa0QsdUJBQXVCLDZEQUE2RCx1QkFBdUIsNkRBQTZELGlCQUFpQixNQUFNLFNBQVMsbUNBQW1DLElBQUksS0FBSyx1Q0FBdUMsT0FBTyxZQUFZLCtCQUErQixTQUFTLFlBQVksK0JBQStCLFNBQVMsSUFBSSxTQUFTLFlBQVksbUNBQW1DLFNBQVMsK0JBQStCLHVDQUF1QyxpQkFBaUIsa0JBQWtCLFdBQVcsZ0JBQWdCLGtCQUFrQiwyQkFBMkIsaUJBQWlCLGtCQUFrQix3Q0FBd0MsTUFBTSxzREFBc0Qsa0JBQWtCLHNEQUFzRCxTQUFTLGVBQWUsa0NBQWtDLG9FQUFvRSxLQUFLLGNBQWMsUUFBUSxTQUFTLEtBQUsscUJBQXFCLFlBQVksbUNBQW1DLGdCQUFnQixTQUFTLGlCQUFpQiwyR0FBMkcsZUFBZSxZQUFZLGlCQUFpQiwwQkFBMEIsbUJBQW1CLGlCQUFpQixlQUFlLE1BQU0saUNBQWlDLGtCQUFrQixvQkFBb0IsV0FBVyxXQUFXLHFDQUFxQyxxRUFBcUUsMENBQTBDLDRDQUE0QyxvQkFBb0IsOEJBQThCLElBQUksNEZBQTRGLFlBQVksbUJBQW1CLDJDQUEyQyxNQUFNLGdDQUFnQyxNQUFNLDBDQUEwQyxNQUFNLGdEQUFnRCxrRUFBa0UsZUFBZSw4REFBOEQsZUFBZSxxREFBcUQsZ0RBQWdELDZCQUE2QixnREFBZ0QsMkVBQTJFLFNBQVMsaU5BQWlOLGlCQUFpQixzQkFBc0IsOEJBQThCLE1BQU0sK0JBQStCLDBJQUEwSSxTQUFTLDBHQUEwRyxlQUFlLG1DQUFtQyxrQkFBa0IsbUNBQW1DLCtDQUErQyxTQUFTLGlCQUFpQixxQkFBcUIsZ05BQWdOLGVBQWUsbUNBQW1DLDRFQUE0RSxlQUFlLGlDQUFpQyxlQUFlLG9DQUFvQyw4RUFBOEUsSUFBSSxJQUFJLElBQUksUUFBUSx1QkFBdUIsMEJBQTBCLG1CQUFtQix5QkFBeUIsdURBQXVELG1CQUFtQix5QkFBeUIsUUFBUSxJQUFJLHNKQUFzSixtTUFBbU0sMkJBQTJCLDBDQUEwQyxJQUFJLDZDQUE2QyxrSkFBa0osK0lBQStJLE1BQU0sNENBQTRDLGtEQUFrRCxJQUFJLHlCQUF5QixxRUFBcUUsbUNBQW1DLElBQUksMEJBQTBCLDhCQUE4QixJQUFJLDBCQUEwQixlQUFlLE1BQU0sbUNBQW1DLHVCQUF1QixrQ0FBa0MsNkJBQTZCLDRIQUE0SCxtUkFBbVIsS0FBSywrQkFBK0Isa0JBQWtCLElBQUksK0JBQStCLGtCQUFrQixNQUFNLHVIQUF1SCxzQ0FBc0MsZ0NBQWdDLHlCQUF5QiwwREFBMEQsSUFBSSwyQkFBMkIsZUFBZSxZQUFZLDZGQUE2RixNQUFNLFdBQVcsMlJBQTJSLDZCQUE2Qix3Q0FBd0MsOENBQThDLDZCQUE2Qiw0Q0FBNEMseUNBQXlDLGlCQUFpQixxSEFBcUgsdUJBQXVCLDBGQUEwRixRQUFRLDJCQUEyQixhQUFhLCtCQUErQixhQUFhLHdCQUF3QixrREFBa0QseUJBQXlCLDJPQUEyTyxrQkFBa0Isa0RBQWtELElBQUksb0JBQW9CLGNBQWMsTUFBTSxzQkFBc0IsMEJBQTBCLGdDQUFnQyxrSkFBa0osbUJBQW1CLHdCQUF3Qix3RkFBd0Ysa0NBQWtDLE1BQU0sMEJBQTBCLFdBQVcsbUJBQW1CLDJCQUEyQixRQUFRLFdBQVcsS0FBSyxXQUFXLHFIQUFxSCx5QkFBeUIsU0FBUyx3RUFBd0Usa0JBQWtCLDRFQUE0RSxZQUFZLElBQUksb0JBQW9CLFlBQVksK0JBQStCLGtCQUFrQiw0RUFBNEUsWUFBWSxJQUFJLHFDQUFxQyxZQUFZLCtCQUErQixrQkFBa0IsNEVBQTRFLFlBQVksSUFBSSx1RUFBdUUsWUFBWSxpQ0FBaUMsa0JBQWtCLDJFQUEyRSxnRkFBZ0YsbUVBQW1FLHVDQUF1QyxnQ0FBZ0MsZ0NBQWdDLDhDQUE4QyxFQUFFLCtEQUErRCxtRkFBbUYsdUxBQXVMLCtLQUErSyx1QkFBdUIsa0JBQWtCLGlCQUFpQixxQkFBcUIscUdBQXFHLElBQUksb0JBQW9CLGNBQWMsTUFBTSxzQkFBc0Isc0NBQXNDLGdDQUFnQyxxQ0FBcUMseUJBQXlCLHlDQUF5Qyx5QkFBeUIscUNBQXFDLHlDQUF5Qyw2REFBNkQsTUFBTSwyR0FBMkcsbUVBQW1FLG9CQUFvQixpSUFBaUksY0FBYyxjQUFjLFdBQVcsZ0NBQWdDLDZDQUE2QyxrQ0FBa0MsZ0RBQWdELG1DQUFtQywwRUFBMEUseURBQXlELDhCQUE4QiwrQkFBK0IsUUFBUSxtRUFBbUUsZ0NBQWdDLGtCQUFrQixrR0FBa0cseUJBQXlCLDhDQUE4Qyx3Q0FBd0MscUNBQXFDLDBCQUEwQixnQkFBZ0IsZ0JBQWdCLFNBQVMsd0NBQXdDLHFDQUFxQywwQkFBMEIsY0FBYyxrQkFBa0IsU0FBUyxxQ0FBcUMsNkNBQTZDLHdDQUF3QywwREFBMEQsd0NBQXdDLDBEQUEwRCx3Q0FBd0MsNkZBQTZGLHdDQUF3Qyw2RkFBNkYsdUNBQXVDLHFDQUFxQywwQkFBMEIsZ0JBQWdCLGdCQUFnQiwyQ0FBMkMsdUNBQXVDLHFDQUFxQyw4QkFBOEIsY0FBYyxrQkFBa0IsMkNBQTJDLG9DQUFvQyw0RUFBNEUsdUNBQXVDLDhCQUE4QiwyQkFBMkIsOEJBQThCLHVDQUF1Qyw4QkFBOEIsMkJBQTJCLDhCQUE4Qix1Q0FBdUMsc0ZBQXNGLHVDQUF1QyxzRkFBc0YsdUNBQXVDLDZEQUE2RCx1Q0FBdUMsNkRBQTZELHdDQUF3Qyw2REFBNkQsd0NBQXdDLDZEQUE2RCwyQ0FBMkMseURBQXlELFlBQVksa0JBQWtCLGdCQUFnQixtQkFBbUIsV0FBVywyQ0FBMkMseURBQXlELGNBQWMsb0JBQW9CLGlCQUFpQixtQkFBbUIsV0FBVyx3Q0FBd0MsNkRBQTZELDJDQUEyQywrRUFBK0UsMkNBQTJDLCtFQUErRSwyQ0FBMkMsc0hBQXNILDJDQUEyQyxzSEFBc0gsMENBQTBDLG1CQUFtQix3QkFBd0IsdUJBQXVCLGdCQUFnQixrQkFBa0IsZ0JBQWdCLDZEQUE2RCxXQUFXLDBDQUEwQyxtQkFBbUIsd0JBQXdCLHVCQUF1QixrQkFBa0Isb0JBQW9CLGlCQUFpQiw2REFBNkQsV0FBVyx1Q0FBdUMsaUZBQWlGLDBDQUEwQyxvRkFBb0YsMENBQTBDLG9GQUFvRiwwQ0FBMEMsZ0lBQWdJLDBDQUEwQyx3SkFBd0osMENBQTBDLHlCQUF5QiwwQ0FBMEMseUJBQXlCLDJDQUEyQyx5QkFBeUIsMkNBQTJDLHlCQUF5QixvQ0FBb0MscUVBQXFFLHVJQUF1SSx5REFBeUQsa0VBQWtFLHVEQUF1RCxnRUFBZ0UsVUFBVSx1RkFBdUYseUNBQXlDLEtBQUsscUJBQXFCLDJEQUEyRCxTQUFTLG9DQUFvQyx1QkFBdUIsc0tBQXNLLG9GQUFvRixpQkFBaUIsc0JBQXNCLDJDQUEyQyxrRUFBa0UsZ0ZBQWdGLG9CQUFvQixNQUFNLDZFQUE2RSxJQUFJLGNBQWMsTUFBTSw2Q0FBNkMsa0ZBQWtGLFFBQVEsTUFBTSxzQkFBc0IsYUFBYSx1QkFBdUIsY0FBYyw2QkFBNkIsS0FBSyx1QkFBdUIsS0FBSyx1REFBdUQsU0FBUyxHQUFHLFVBQVUscUJBQXFCLGNBQWMsS0FBSyxvQkFBb0IsZ0tBQWdLLDJFQUEyRSxpQkFBaUIsMEJBQTBCLHVFQUF1RSxZQUFZLHVFQUF1RSw0QkFBNEIsdUVBQXVFLGFBQWEsZ0NBQWdDLHVFQUF1RSx5QkFBeUIsV0FBVyw0Q0FBNEMsa0NBQWtDLCtJQUErSSxvQkFBb0IsbURBQW1ELDBCQUEwQixRQUFRLGtCQUFrQiwyQ0FBMkMsaUNBQWlDLFNBQVMsMERBQTBELDhCQUE4QixtQ0FBbUMsa0NBQWtDLGlDQUFpQyxzQkFBc0IsaUJBQWlCLGdCQUFnQixlQUFlLHNLQUFzSyxXQUFXLDhDQUE4QyxpQkFBaUIsaUNBQWlDLHdEQUF3RCxtQ0FBbUMsNEpBQTRKLHdGQUF3RixpQkFBaUIsa0JBQWtCLEVBQUUsVUFBVSxPQUFPLG9DQUFvQyxFQUFFLGtCQUFrQixJQUFJLElBQUksSUFBSSxLQUFLLEtBQUsscUJBQXFCLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGFBQWEsaUVBQWlFLE9BQU8sVUFBVSxlQUFlLGtEQUFrRCxZQUFZLG1CQUFtQixNQUFNLHFEQUFxRCwwQkFBMEIsK0JBQStCLEVBQUUsTUFBTSwyQkFBMkIsZ0NBQWdDLDZDQUE2QyxhQUFhLG1DQUFtQyxPQUFPLG1CQUFtQixlQUFlLDBCQUEwQix1REFBdUQsb0JBQW9CLDJDQUEyQyxTQUFTLElBQUksZUFBZSxrQkFBa0Isb0JBQW9CLGdDQUFnQyxJQUFJLFFBQVEsa0JBQWtCLFVBQVUsbUJBQW1CLE1BQU0sRUFBRSxJQUFJLElBQUksZUFBZSwyQkFBMkIsa0JBQWtCLE1BQU0sNkNBQTZDLDhCQUE4QixzQkFBc0IsT0FBTyxTQUFTLGNBQWMsT0FBTyxTQUFTLGVBQWUsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksYUFBYSxvTUFBb00sTUFBTSxhQUFhLG1CQUFtQixJQUFJLGdCQUFnQixlQUFlLDZCQUE2QixPQUFPLFVBQVUsZUFBZSxrQkFBa0IsMkNBQTJDLEtBQUssbUJBQW1CLCtDQUErQyxPQUFPLDZCQUE2Qiw4SUFBOEksT0FBTyxrQkFBa0Isd0JBQXdCLGlCQUFpQixzQkFBc0IsNkJBQTZCLFNBQVMsYUFBYSxFQUFFLGtCQUFrQixJQUFJLG1CQUFtQix5M0JBQXkzQixjQUFjLHdDQUF3QywyQkFBMkIsc1JBQXNSLGdFQUFnRSxHQUFHLCtCQUErQixvQ0FBb0MsbUNBQW1DLE9BQU8sbURBQW1ELGtCQUFrQiwrQkFBK0Isd0JBQXdCLGtDQUFrQyx3QkFBd0IscUJBQXFCLHdCQUF3Qix5QkFBeUIsK1NBQStTLHNDQUFzQyxzRUFBc0UsTUFBTSxvQ0FBb0MsY0FBYyw2QkFBNkIsTUFBTSxvQ0FBb0MsZ0hBQWdILCtCQUErQiwwREFBMEQscUJBQXFCLGlSQUFpUixnQ0FBZ0MsMEJBQTBCLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCLGdHQUFnRyxzQ0FBc0MsNkJBQTZCLDZFQUE2RSxrQkFBa0IsZUFBZSx5Q0FBeUMsK0RBQStELGlCQUFpQixnSkFBZ0osNkJBQTZCLGlEQUFpRCw4QkFBOEIsc1FBQXNRLCtEQUErRCxxQkFBcUIsbU5BQW1OLFdBQVcsc0VBQXNFLElBQUksNkJBQTZCLFNBQVMsWUFBWSxrQ0FBa0MsTUFBTSxxVUFBcVUsaUJBQWlCLDZCQUE2QixjQUFjLHNCQUFzQixtRUFBbUUseUVBQXlFLGVBQWUsdUJBQXVCLDhKQUE4SixlQUFlLHVCQUF1QiwrTUFBK00saUJBQWlCLHVFQUF1RSxpQkFBaUIsS0FBSywwRUFBMEUsRUFBRSxlQUFlLDBEQUEwRCxrQkFBa0IsOEJBQThCLHlCQUF5QiwrQkFBK0IsaUNBQWlDLHFNQUFxTSx5REFBeUQsNkRBQTZELGdCQUFnQixrRUFBa0UsYUFBYSxvQkFBb0IsV0FBVyxhQUFhLGdVQUFnVSxhQUFhLGdTQUFnUyxlQUFlLGNBQWMsWUFBWSxpQkFBaUIsK0JBQStCLGNBQWMsZ0ZBQWdGLHlDQUF5QywrQ0FBK0MsZ0JBQWdCLGFBQWEsa0NBQWtDLGtCQUFrQixhQUFhLCtDQUErQyxtQkFBbUIsYUFBYSx5QkFBeUIsNEdBQTRHLGlCQUFpQixrQkFBa0IsdUJBQXVCLCtQQUErUCwrQkFBK0IsNkJBQTZCLGVBQWUsa0NBQWtDLE9BQU8sY0FBYyx3QkFBd0IsWUFBWSxXQUFXLDZCQUE2QixjQUFjLEVBQUUsWUFBWSxvQkFBb0Isd0dBQXdHLDZCQUE2QiwyREFBMkQsK1RBQStULHVDQUF1Qyx5Q0FBeUMsaURBQWlELCtDQUErQywyQ0FBMkMsMkNBQTJDLDREQUE0RCw2REFBNkQsZUFBZSx1QkFBdUIseUtBQXlLLGVBQWUseUNBQXlDLDhCQUE4QiwwQkFBMEIseUZBQXlGLGlCQUFpQiwrREFBK0QsaUJBQWlCLHlIQUF5SCw2QkFBNkIsZ01BQWdNLGVBQWUsdUJBQXVCLHdCQUF3QiwyQkFBMkIsR0FBRyw2QkFBNkIsU0FBUyxnQkFBZ0IsMENBQTBDLGtCQUFrQixpQkFBaUIsbUJBQW1CLFlBQVksb0JBQW9CLGdCQUFnQixzQkFBc0IsZ0JBQWdCLGtCQUFrQixpQ0FBaUMsWUFBWSxZQUFZLFdBQVcsS0FBSyxXQUFXLG1FQUFtRSxhQUFhLDJCQUEyQixpQkFBaUIsaUNBQWlDLCtDQUErQyxpQkFBaUIsd0NBQXdDLGNBQWMsR0FBRyxjQUFjLG9CQUFvQix1QkFBdUIsU0FBUyxjQUFjLHlCQUF5QixtQkFBbUIsY0FBYyxZQUFZLEtBQUssMkJBQTJCLEVBQUUsSUFBSSxNQUFNLEVBQUUsZ0NBQWdDLG9CQUFvQixNQUFNLGFBQWEsbUJBQW1CLG1CQUFtQixTQUFTLGtCQUFrQixRQUFRLDBIQUEwSCxnQkFBZ0IsVUFBVSxxQkFBcUIsMEJBQTBCLDBFQUEwRSxRQUFRLDBEQUEwRCxrQkFBa0IsNENBQTRDLHdDQUF3QyxrQkFBa0IsNENBQTRDLDZJQUE2SSx3QkFBd0IsNENBQTRDLDBDQUEwQyxpQkFBaUIsNENBQTRDLHdEQUF3RCxrQkFBa0IsNENBQTRDLG1DQUFtQyxpQkFBaUIsdURBQXVELGlCQUFpQixtQ0FBbUMsbUNBQW1DLHFCQUFxQixtQ0FBbUMsOERBQThELG1CQUFtQixtQ0FBbUMsOERBQThELFVBQVUsbUNBQW1DLDZEQUE2RCxTQUFTLHFCQUFxQiwwREFBMEQsWUFBWSxtQ0FBbUMsNERBQTRELFFBQVEseURBQXlELGdCQUFnQixtQ0FBbUMsK0RBQStELEVBQUUsaUJBQWlCLFlBQVkscUJBQXFCLDBCQUEwQixTQUFTLHFCQUFxQixxQkFBcUIsUUFBUSxnQkFBZ0IsRUFBRSxlQUFlLGlCQUFpQiw0QkFBNEIsTUFBTSw2TUFBNk0sZUFBZSx1QkFBdUIsOEVBQThFLGlCQUFpQixzR0FBc0csb0ZBQW9GLHVCQUF1Qix1QkFBdUIsbUVBQW1FLGVBQWUscURBQXFELHFCQUFxQixrQkFBa0IsT0FBTyxjQUFjLDBCQUEwQixLQUFLLHdCQUF3QixzREFBc0Qsc0JBQXNCLHNEQUFzRCxxQkFBcUIsUUFBUSxjQUFjLG9IQUFvSCx5QkFBeUIsWUFBWSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxhQUFhLDZNQUE2TSxNQUFNLGNBQWMsb0JBQW9CLElBQUksZ0JBQWdCLDhCQUE4QixVQUFVLHVCQUF1QixrQkFBa0IsT0FBTywrQ0FBK0MsT0FBTyxnUEFBZ1AsYUFBYSxrQkFBa0IsSUFBSSw4QkFBOEIsVUFBVSxlQUFlLHlCQUF5QixtQkFBbUIsd1RBQXdULGtDQUFrQyw4ZEFBOGQsZUFBZSw4REFBOEQsa0NBQWtDLDZDQUE2Qyx3Q0FBd0MscUJBQXFCLGdEQUFnRCxFQUFFLGVBQWUsMkJBQTJCLHFDQUFxQyw0WEFBNFgsMEJBQTBCLGtDQUFrQyxHQUFHLFVBQVUsaUNBQWlDLHFFQUFxRSxFQUFFLDZCQUE2QixrQkFBa0IscUJBQXFCLHVCQUF1QixnREFBZ0QsTUFBTSwwQkFBMEIsd0RBQXdELDhCQUE4Qix5QkFBeUIseUZBQXlGLG1DQUFtQyxtRUFBbUUsOERBQThELE1BQU0sMEhBQTBILG1DQUFtQyw0QkFBNEIsNkJBQTZCLCtCQUErQiwrQkFBK0IsMEJBQTBCLCtDQUErQyw0Q0FBNEMsbUVBQW1FLG1EQUFtRCx1QkFBdUIsOEJBQThCLFlBQVksK0JBQStCLDRGQUE0Riw4QkFBOEIsbU1BQW1NLDJCQUEyQixtSkFBbUoscUJBQXFCLGtDQUFrQyxpQkFBaUIsNENBQTRDLHlCQUF5QixhQUFhLE9BQU8sOFdBQThXLDhCQUE4QixxREFBcUQsYUFBYSw4QkFBOEIsRUFBRSw2Q0FBNkMscUJBQXFCLHlGQUF5RixPQUFPLG1CQUFtQiw0QkFBNEIsZUFBZSxvQkFBb0IsMEJBQTBCLG9CQUFvQixLQUFLLE1BQU0sSUFBSSxtQkFBbUIseUNBQXlDLG1FQUFtRSxzQkFBc0IsWUFBWSxXQUFXLEtBQUssTUFBTSx3REFBd0QsT0FBTyxpQkFBaUIsb0VBQW9FLElBQUksd0NBQXdDLGdCQUFnQixhQUFhLFFBQVEseUNBQXlDLGlCQUFpQix1QkFBdUIsWUFBWSxXQUFXLHNCQUFzQiw4QkFBOEIsNERBQTRELE1BQU0sR0FBRyxJQUFJLDhCQUE4QixNQUFNLFlBQVksbUJBQW1CLG9CQUFvQiw4QkFBOEIsOEVBQThFLHVCQUF1QixvQ0FBb0MsK0JBQStCLG1CQUFtQixLQUFLLCtCQUErQiwwQkFBMEIsaUNBQWlDLDBCQUEwQiw0RUFBNEUsTUFBTSxZQUFZLG1CQUFtQix3QkFBd0IsbVBBQW1QLGVBQWUseUpBQXlKLGlCQUFpQixTQUFTLGNBQWMsTUFBTSxjQUFjLE9BQU8seUJBQXlCLHNCQUFzQixZQUFZLFdBQVcsWUFBWSxnQkFBZ0Isc0ZBQXNGLHdCQUF3QixJQUFJLGFBQWEsU0FBUyxNQUFNLFdBQVcsaUJBQWlCLCtJQUErSSxtQkFBbUIsdUVBQXVFLDZCQUE2Qix5Q0FBeUMsaUJBQWlCLDRCQUE0QixzQkFBc0IsWUFBWSxXQUFXLFdBQVcsbUNBQW1DLHVCQUF1QixvRUFBb0UsaUJBQWlCLFFBQVEscUJBQXFCLDBEQUEwRCxZQUFZLHFCQUFxQiw0REFBNEQsUUFBUSx5REFBeUQsV0FBVyxxQkFBcUIsMEJBQTBCLDJFQUEyRSxRQUFRLDBEQUEwRCxtQkFBbUIscUJBQXFCLDREQUE0RCxxQkFBcUIscUJBQXFCLDhEQUE4RCxpQkFBaUIscUJBQXFCLDZEQUE2RCxnQkFBZ0IscUJBQXFCLDBEQUEwRCxvQkFBb0IscUJBQXFCLDBCQUEwQixrREFBa0Qsd0JBQXdCLHFCQUFxQiwrREFBK0QsaUJBQWlCLHFCQUFxQix5REFBeUQsaUJBQWlCLHFCQUFxQix3REFBd0QsVUFBVSxtQ0FBbUMsNkRBQTZELGtCQUFrQiw0Q0FBNEMsNElBQTRJLEVBQUUsa0JBQWtCLG1DQUFtQywwQkFBMEIsa0hBQWtILHFDQUFxQyxvQ0FBb0MsT0FBTyxvREFBb0Qsa0JBQWtCLE9BQU8sY0FBYywwQkFBMEIsS0FBSyx5QkFBeUIsc0RBQXNELHFCQUFxQixxREFBcUQsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksNkJBQTZCLGdJQUFnSSxlQUFlLHFCQUFxQixxREFBcUQsT0FBTyxhQUFhLHVCQUF1Qix5QkFBeUIsdUVBQXVFLHVCQUF1QixhQUFhLFVBQVUsc0RBQXNELHlCQUF5QiwwQkFBMEIsZUFBZSw4UUFBOFEsMkJBQTJCLGtCQUFrQixvQkFBb0IsV0FBVyxFQUFFLG9CQUFvQixXQUFXLEVBQUUsb0JBQW9CLHdCQUF3QixFQUFFLHlCQUF5QixJQUFJLGtDQUFrQyxPQUFPLHlCQUF5Qix3Q0FBd0MsRUFBRSxjQUFjLHlCQUF5QixtQkFBbUIsMENBQTBDLEtBQUssU0FBUyxFQUFFLGlCQUFpQiwyQ0FBMkMsWUFBWSxJQUFJLDZCQUE2QixTQUFTLG1CQUFtQixHQUFHLFdBQVcsRUFBRSw2REFBNkQsbUNBQW1DLHlCQUF5QiwwQkFBMEIsRUFBRSwrREFBK0Qsa0pBQWtKLFdBQVcsc0JBQXNCLEVBQUUsY0FBYyx5QkFBeUIsTUFBTSxrQkFBa0IsaUNBQWlDLEtBQUssU0FBUyxZQUFZLG1DQUFtQyxFQUFFLDJHQUEyRyxxQkFBcUIscUJBQXFCLGVBQWUsSUFBSSxvQkFBb0IsMEJBQTBCLFFBQVEsMEJBQTBCLE1BQU0sRUFBRSxRQUFRLE9BQU8sSUFBSSxvQkFBb0IsU0FBUywyQkFBMkIsa0NBQWtDLGVBQWUsRUFBRSxJQUFJLG9CQUFvQixtQkFBbUIsSUFBSSxTQUFTLGVBQWUsUUFBUSxVQUFVLHFCQUFxQixHQUFHLFVBQVUsUUFBUSxVQUFVLGFBQWEsR0FBRyxjQUFjLGtCQUFrQixlQUFlLCtIQUErSCxjQUFjLFFBQVEsK0JBQStCLGlCQUFpQixnSUFBZ0ksZUFBZSxzQkFBc0IsMkJBQTJCLHNCQUFzQixzQkFBc0IsYUFBYSx5QkFBeUIsTUFBTSxRQUFRLGFBQWEsMkJBQTJCLE1BQU0sUUFBUSxhQUFhLGdCQUFnQixzQkFBc0IsNkJBQTZCLE1BQU0sUUFBUSxhQUFhLHdCQUF3QixjQUFjLHFCQUFxQixNQUFNLEVBQUUsZUFBZSxhQUFhLFVBQVUsT0FBTyxzQkFBc0IsMkJBQTJCLG1GQUFtRixJQUFJLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksa0dBQWtHLE1BQU0sY0FBYyxvQkFBb0IsOEJBQThCLFdBQVcsdUJBQXVCLFlBQVksV0FBVyxLQUFLLFdBQVcscURBQXFELGVBQWUsMENBQTBDLG1XQUFtVyxpQkFBaUIsVUFBVSw4Q0FBOEMsd0JBQXdCLDJEQUEyRCxxQkFBcUIsd0RBQXdELGlCQUFpQixvREFBb0QsaUJBQWlCLG9EQUFvRCxtQkFBbUIsc0RBQXNELGlCQUFpQixvREFBb0QsZ0JBQWdCLG1EQUFtRCxvQkFBb0IsdURBQXVELFlBQVkscUJBQXFCLGtJQUFrSSxRQUFRLCtHQUErRyxFQUFFLE9BQU8sY0FBYywwQkFBMEIsS0FBSyx5QkFBeUIsMERBQTBELHFCQUFxQixrREFBa0QsT0FBTyxvQkFBb0Isb0NBQW9DLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksa0NBQWtDLE1BQU0sY0FBYyxJQUFJLDhCQUE4QixxQkFBcUIsb0JBQW9CLE1BQU0sOEJBQThCLFVBQVUsdUJBQXVCLGVBQWUsMENBQTBDLG1EQUFtRCxXQUFXLGlHQUFpRywwTUFBME0sZUFBZSxvRUFBb0UsTUFBTSx1QkFBdUIsT0FBTyw4Q0FBOEMsNEJBQTRCLGNBQWMsaUNBQWlDLHVCQUF1Qix3Q0FBd0MsOEJBQThCLG9DQUFvQywyREFBMkQsNEJBQTRCLE1BQU0sS0FBSyxPQUFPLHNGQUFzRixJQUFJLDhCQUE4QixhQUFhLGVBQWUsc0JBQXNCLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksd0JBQXdCLE1BQU0sY0FBYyxZQUFZLDhCQUE4QixVQUFVLGVBQWUsMENBQTBDLGlCQUFpQix3Q0FBd0MsYUFBYSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxhQUFhLGtEQUFrRCxlQUFlLFFBQVEsdUJBQXVCLDZCQUE2Qiw4SEFBOEgsZUFBZSxPQUFPLDJDQUEyQyxPQUFPLCtJQUErSSxnRUFBZ0UsbUJBQW1CLFNBQVMsa0JBQWtCLE1BQU0sRUFBRSxZQUFZLHNCQUFzQixLQUFLLE1BQU0sRUFBRSxRQUFRLFlBQVksNkNBQTZDLFlBQVksZUFBZSw4REFBOEQsZUFBZSxrQkFBa0Isc0JBQXNCLDhEQUE4RCxxQkFBcUIsOENBQThDLHlCQUF5QixNQUFNLEVBQUUsbUJBQW1CLGVBQWUsUUFBUSxhQUFhLHNCQUFzQixjQUFjLGNBQWMsRUFBRSxnQkFBZ0IsWUFBWSxZQUFZLElBQUksSUFBSSwrQkFBK0IsMkNBQTJDLDBCQUEwQixTQUFTLG9CQUFvQixRQUFRLHVCQUF1Qix5QkFBeUIsTUFBTSxFQUFFLHNCQUFzQixvQkFBb0IsSUFBSSwwREFBMEQsRUFBRSxzQ0FBc0MsU0FBUyxJQUFJLHVCQUF1QixTQUFTLFFBQVEsa0JBQWtCLHVCQUF1QixtQkFBbUIsdUVBQXVFLHlDQUF5Qyx1QkFBdUIsYUFBYSxXQUFXLCtCQUErQixpQkFBaUIsY0FBYyxjQUFjLGdCQUFnQixvRUFBb0UsS0FBSyxTQUFTLGNBQWMsMkZBQTJGLE1BQU0sWUFBWSxXQUFXLEtBQUssa0VBQWtFLFVBQVUsa0JBQWtCLHdFQUF3RSxNQUFNLElBQUkscUJBQXFCLFdBQVcsZ0NBQWdDLHNDQUFzQyw2QkFBNkIsR0FBRyxrQ0FBa0MsUUFBUSxTQUFTLHNFQUFzRSwwQ0FBMEMsOEJBQThCLFVBQVUsTUFBTSxrREFBa0QsYUFBYSxVQUFVLFNBQVMsS0FBSyx1REFBdUQsSUFBSSxNQUFNLE1BQU0sTUFBTSxjQUFjLGNBQWMsY0FBYywyQ0FBMkMsMENBQTBDLHNEQUFzRCxNQUFNLGlDQUFpQyxFQUFFLCtCQUErQixNQUFNLEVBQUUsc0JBQXNCLHFCQUFxQixlQUFlLE1BQU0sR0FBRyw4REFBOEQsSUFBSSxJQUFJLHNCQUFzQixhQUFhLDJCQUEyQixlQUFlLFVBQVUsS0FBSyxnQkFBZ0IsTUFBTSxFQUFFLHFCQUFxQixzQkFBc0Isb0JBQW9CLGNBQWMsTUFBTSxHQUFHLDRCQUE0QixNQUFNLEVBQUUsc0dBQXNHLEtBQUssZUFBZSwyQkFBMkIsTUFBTSxFQUFFLG1DQUFtQyxNQUFNLEVBQUUscUNBQXFDLE1BQU0sRUFBRSxzR0FBc0csS0FBSyxtQkFBbUIsa0VBQWtFLG1CQUFtQixNQUFNLEVBQUUsU0FBUyxxQkFBcUIsY0FBYyxZQUFZLE9BQU8sS0FBSyxpQkFBaUIsZUFBZSxzQ0FBc0MsU0FBUyxhQUFhLHdCQUF3QixLQUFLLHVCQUF1Qix3SEFBd0gsUUFBUSx3QkFBd0IsSUFBSSxZQUFZLDhCQUE4QixFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLFlBQVksZUFBZSxhQUFhLE9BQU8sd0hBQXdILE9BQU8scUJBQXFCLDhDQUE4QyxjQUFjLDBCQUEwQix3Q0FBd0MscUNBQXFDLGFBQWEsbUZBQW1GLGlCQUFpQixvQkFBb0IsWUFBWSxXQUFXLGdDQUFnQyx5RUFBeUUsRUFBRSw0QkFBNEIsZ0VBQWdFLEVBQUUsNEJBQTRCLGNBQWMsY0FBYyxRQUFRLGtEQUFrRCx5RUFBeUUsYUFBYSxnSUFBZ0ksS0FBSyxrQ0FBa0Msc0JBQXNCLHNCQUFzQixhQUFhLHlCQUF5QixNQUFNLFFBQVEsYUFBYSxFQUFFLGVBQWUsdUNBQXVDLCtCQUErQixJQUFJLHFDQUFxQyxPQUFPLFNBQVMsT0FBTyw0QkFBNEIsSUFBSSxvQ0FBb0MsT0FBTyxTQUFTLFNBQVMseUJBQXlCLFVBQVUsTUFBTSxRQUFRLGFBQWEsR0FBRyxNQUFNLG9DQUFvQyxNQUFNLFFBQVEsYUFBYSx3QkFBd0IsY0FBYyxxQkFBcUIsTUFBTSxFQUFFLGVBQWUsYUFBYSxVQUFVLE9BQU8sdUJBQXVCLGVBQWUsdUNBQXVDLHlCQUF5QixNQUFNLEtBQUssSUFBSSxlQUFlLGdCQUFnQixxQkFBcUIsTUFBTSxhQUFhLFFBQVEsTUFBTSxXQUFXLGdDQUFnQyxrRkFBa0YsS0FBSyxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSx5REFBeUQsT0FBTyx5RkFBeUYsZUFBZSxPQUFPLDREQUE0RCwrQkFBK0IsWUFBWSxlQUFlLDRCQUE0QixPQUFPLDhCQUE4QixPQUFPLDBIQUEwSCxvQ0FBb0MsaUJBQWlCLHFJQUFxSSxpQkFBaUIsMkNBQTJDLGlCQUFpQiwwRUFBMEUsd0VBQXdFLFFBQVEsMkZBQTJGLFFBQVEsdUNBQXVDLFNBQVMsaUJBQWlCLGlJQUFpSSxhQUFhLGFBQWEsTUFBTSxtQkFBbUIsSUFBSSxzQkFBc0IsTUFBTSxZQUFZLDBCQUEwQixJQUFJLFVBQVUsU0FBUyxTQUFTLHVKQUF1SixLQUFLLElBQUksWUFBWSxTQUFTLFlBQVksMEJBQTBCLFFBQVEsTUFBTSxrR0FBa0csSUFBSSxJQUFJLE1BQU0sRUFBRSxLQUFLLFdBQVcsRUFBRSxpQkFBaUIsaUJBQWlCLDBCQUEwQiw2Q0FBNkMsaUJBQWlCLEtBQUssSUFBSSxRQUFRLGlDQUFpQyxZQUFZLHNCQUFzQixpR0FBaUcsUUFBUSx5QkFBeUIsTUFBTSxxRUFBcUUsc0JBQXNCLEVBQUUsZ0JBQWdCLFlBQVksOEJBQThCLCtDQUErQyxVQUFVLDhCQUE4QiwwRUFBMEUsMERBQTBELHVCQUF1Qiw4Q0FBOEMsdUJBQXVCLDBFQUEwRSxzQkFBc0IsdUJBQXVCLHVDQUF1QyxpQkFBaUIsMEVBQTBFLHNCQUFzQix5QkFBeUIseUJBQXlCLHdCQUF3QixjQUFjLHNGQUFzRix5QkFBeUIsTUFBTSwrRUFBK0Usd0VBQXdFLHlCQUF5Qix3REFBd0QscUJBQXFCLHNCQUFzQixFQUFFLDhCQUE4Qiw4QkFBOEIsd0JBQXdCLHNCQUFzQixPQUFPLG1CQUFtQixvREFBb0QsU0FBUyxJQUFJLHlCQUF5QixNQUFNLHlFQUF5RSxpQkFBaUIsU0FBUyxjQUFjLHVCQUF1QixRQUFRLFdBQVcsU0FBUyxxQkFBcUIsd0VBQXdFLFNBQVMseUJBQXlCLE1BQU0sNEVBQTRFLHNCQUFzQixFQUFFLFNBQVMsU0FBUyxpQkFBaUIsd0JBQXdCLHlCQUF5Qiw4QkFBOEIsWUFBWSxlQUFlLDBCQUEwQix1Q0FBdUMsU0FBUyx3QkFBd0IseUdBQXlHLE1BQU0sb0VBQW9FLHlCQUF5QixNQUFNLG9FQUFvRSxvQkFBb0IsWUFBWSx3QkFBd0IseUdBQXlHLE1BQU0sb0VBQW9FLHlCQUF5QixNQUFNLG9FQUFvRSxrQkFBa0IsYUFBYSxZQUFZLHFDQUFxQywwRUFBMEUsc0NBQXNDLDJEQUEyRCxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLGdDQUFnQyxPQUFPLDZDQUE2QyxPQUFPLGdCQUFnQixPQUFPLFlBQVksTUFBTSxLQUFLLGtCQUFrQixzQkFBc0Isd0JBQXdCLGtEQUFrRCxZQUFZLG9CQUFvQixhQUFhLGFBQWEsRUFBRSxlQUFlLEdBQUcsRUFBRSxZQUFZLDBCQUEwQixFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLFVBQVUsZUFBZSxzREFBc0QsT0FBTyxXQUFXLFdBQVcsT0FBTyx5REFBeUQsT0FBTyxPQUFPLDRCQUE0QixlQUFlLFlBQVksT0FBTyxhQUFhLHdEQUF3RCw4QkFBOEIsMEJBQTBCLDRCQUE0QixpQkFBaUIscUJBQXFCLHFCQUFxQix5QkFBeUIsdUNBQXVDLFlBQVksYUFBYSw0QkFBNEIsaUJBQWlCLDhCQUE4Qiw4QkFBOEIsaUVBQWlFLEdBQUcscUJBQXFCLHFCQUFxQix5QkFBeUIscUJBQXFCLFlBQVksYUFBYSw0QkFBNEIsaUJBQWlCLDhCQUE4Qiw4QkFBOEIsaUVBQWlFLEdBQUcsaUJBQWlCLGVBQWUsa0JBQWtCLG9CQUFvQixlQUFlLElBQUksa0JBQWtCLE1BQU0scUJBQXFCLGVBQWUsY0FBYyxjQUFjLGtCQUFrQixtREFBbUQsV0FBVyxFQUFFLFVBQVUsbUNBQW1DLG9CQUFvQixFQUFFLFVBQVUsbUNBQW1DLG9CQUFvQixFQUFFLGFBQWEsNkJBQTZCLGdDQUFnQyxtQ0FBbUMscURBQXFELEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLDJDQUEyQyx1QkFBdUIsc0RBQXNELDBDQUEwQyxzQ0FBc0Msa0NBQWtDLG9DQUFvQyxnQ0FBZ0MsZ0NBQWdDLDRCQUE0QixrQ0FBa0Msc0NBQXNDLDRDQUE0QyxnQ0FBZ0MsOEJBQThCLHNCQUFzQixnQ0FBZ0MsOEJBQThCLHFDQUFxQyxvQ0FBb0MsV0FBVyxFQUFFLDRCQUE0QiwrQkFBK0IsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksMERBQTBELHNEQUFzRCxhQUFhLG1EQUFtRCxJQUFJLDBCQUEwQixNQUFNLFdBQVcsbUJBQW1CLHdFQUF3RSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxJQUFJLFVBQVUsMENBQTBDLGVBQWUsMENBQTBDLHVCQUF1QixxQkFBcUIsK0JBQStCLFNBQVMsa0RBQWtELDhCQUE4QixrQkFBa0IsaUNBQWlDLHNCQUFzQixRQUFRLFlBQVksb0JBQW9CLEtBQUssNkJBQTZCLCtDQUErQyxPQUFPLHdDQUF3QyxrQkFBa0IsWUFBWSxJQUFJLDRCQUE0QixVQUFVLDZCQUE2Qiw2QkFBNkIsc0JBQXNCLCtCQUErQixpQ0FBaUMsa0hBQWtILG9DQUFvQyxvSUFBb0ksdURBQXVELDJCQUEyQixtRkFBbUYsWUFBWSxvQkFBb0Isb0RBQW9ELFNBQVMsd0dBQXdHLHlCQUF5QixlQUFlLG9CQUFvQixLQUFLLDZCQUE2QixzQ0FBc0MsTUFBTSxtQ0FBbUMsTUFBTSxlQUFlLGtDQUFrQyx3Q0FBd0Msa0hBQWtILHdFQUF3RSxrSEFBa0gsc0NBQXNDLG9DQUFvQyxpQ0FBaUMscURBQXFELEtBQUssa0JBQWtCLHlHQUF5RyxNQUFNLG9EQUFvRCxNQUFNLGFBQWEsa0NBQWtDLGtCQUFrQixZQUFZLG9CQUFvQiw0QkFBNEIsVUFBVSxnQ0FBZ0MsdUJBQXVCLDRFQUE0RSxxQ0FBcUMsV0FBVyxzQkFBc0IsMENBQTBDLGlCQUFpQiw0QkFBNEIseUVBQXlFLGFBQWEsdUNBQXVDLDJDQUEyQyxxQ0FBcUMsb01BQW9NLCtUQUErVCxvQ0FBb0MsS0FBSyxvQkFBb0IsS0FBSyxvQkFBb0IsS0FBSyxXQUFXLDBCQUEwQixxQkFBcUIsNENBQTRDLHVCQUF1QixNQUFNLGlDQUFpQyw2QkFBNkIsS0FBSyxLQUFLLFdBQVcsa0NBQWtDLG9DQUFvQyxZQUFZLFdBQVcsc0NBQXNDLFdBQVcsWUFBWSxPQUFPLDBVQUEwVSw0QkFBNEIsMENBQTBDLGlDQUFpQywrQkFBK0Isb0NBQW9DLE1BQU0sSUFBSSx1Q0FBdUMsNENBQTRDLDRCQUE0Qix1QkFBdUIsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxtQ0FBbUMsZUFBZSwwQ0FBMEMseUJBQXlCLGlCQUFpQixrQkFBa0IseURBQXlELFlBQVksMkJBQTJCLGlCQUFpQiwrQkFBK0IsNkJBQTZCLFVBQVUscUNBQXFDLFVBQVUseUNBQXlDLDhCQUE4QixrQkFBa0Isb0NBQW9DLGtEQUFrRCwrQkFBK0IsdUNBQXVDLHVFQUF1RSw2QkFBNkIsd0dBQXdHLG9DQUFvQyx5Q0FBeUMsdUNBQXVDLDZEQUE2RCxnQ0FBZ0MsY0FBYywrQkFBK0IsMEJBQTBCLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGFBQWEsY0FBYyx3R0FBd0csZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxrQkFBa0IsVUFBVSxjQUFjLFNBQVMsNE1BQTRNLHVCQUF1QiwrREFBK0QsK0JBQStCLG9DQUFvQywrQkFBK0IsbUhBQW1ILFdBQVcsc0JBQXNCLGlCQUFpQixjQUFjLGNBQWMsZUFBZSxhQUFhLGFBQWEsY0FBYyxnQkFBZ0Isc0JBQXNCLDBCQUEwQiwyQkFBMkIsd0JBQXdCLHlEQUF5RCx5REFBeUQsb0JBQW9CLG1CQUFtQixzQkFBc0IsbUJBQW1CLG1CQUFtQixtQkFBbUIsdUJBQXVCLHlEQUF5RCxjQUFjLDZsQkFBNmxCLHFCQUFxQiwyQkFBMkIsc0JBQXNCLHdCQUF3QixtQkFBbUIsdXVCQUF1dUIsZUFBZSxpREFBaUQsa0JBQWtCLHNGQUFzRixJQUFJLCtCQUErQixtQ0FBbUMsK0JBQStCLDhCQUE4QiwrQkFBK0IsK0JBQStCLGdDQUFnQyw4QkFBOEIsK0JBQStCLGlDQUFpQyx5QkFBeUIsMEJBQTBCLGdDQUFnQyx1Q0FBdUMsUUFBUSwyR0FBMkcsdURBQXVELHdCQUF3Qix3QkFBd0Isd0JBQXdCLDRCQUE0Qiw0QkFBNEIsbUNBQW1DLFNBQVMsaUlBQWlJLDZCQUE2QixxT0FBcU8sOEJBQThCLCtDQUErQyxzQkFBc0Isd1ZBQXdWLHdCQUF3QixxTEFBcUwsMEJBQTBCLCt4QkFBK3hCLG9CQUFvQixnRUFBZ0UsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksMkRBQTJELHlCQUF5QixRQUFRLGVBQWUseUNBQXlDLHVEQUF1RCw0RkFBNEYsZUFBZSxnQ0FBZ0MsaUpBQWlKLE1BQU0sb0RBQW9ELFVBQVUsOERBQThELDJDQUEyQyx5Q0FBeUMsOERBQThELG9FQUFvRSxvRUFBb0UsOEVBQThFLGtCQUFrQixlQUFlLGtCQUFrQiwwSEFBMEgsZUFBZSxrQkFBa0Isa0hBQWtILHFCQUFxQixlQUFlLHlDQUF5QyxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxlQUFlLDJIQUEySCxXQUFXLHdDQUF3QyxjQUFjLFFBQVEsWUFBWSxXQUFXLG9DQUFvQyw2Q0FBNkMsZ0JBQWdCLGNBQWMsaUJBQWlCLGlCQUFpQixxQkFBcUIsc0NBQXNDLDBGQUEwRixRQUFRLDBDQUEwQyx1QkFBdUIsSUFBSSxzQkFBc0IseUJBQXlCLFdBQVcsaUNBQWlDLFNBQVMsb0RBQW9ELDBJQUEwSSwrR0FBK0csTUFBTSx5Q0FBeUMsZ0JBQWdCLCtDQUErQyx3QkFBd0IsY0FBYywrQ0FBK0MsNkRBQTZELFFBQVEsSUFBSSxxSUFBcUksYUFBYSxvRUFBb0Usc0JBQXNCLGNBQWMsaUNBQWlDLFFBQVEseUJBQXlCLElBQUksb0NBQW9DLHlCQUF5QixJQUFJLG9DQUFvQyxVQUFVLGNBQWMsOEVBQThFLGNBQWMsK0NBQStDLGFBQWEsdUpBQXVKLDRCQUE0QixlQUFlLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGlCQUFpQixXQUFXLFdBQVcsZ0JBQWdCLGdCQUFnQixpQkFBaUIsU0FBUyxZQUFZLGtLQUFrSyxJQUFJLG93QkFBb3dCLGNBQWMsOHFCQUE4cUIsZUFBZSxxS0FBcUssMkJBQTJCLGlDQUFpQyxZQUFZLCtCQUErQixpQ0FBaUMsbUJBQW1CLDBDQUEwQyxFQUFFLGVBQWUsSUFBSSxnRUFBZ0UsUUFBUSxjQUFjLE1BQU0sSUFBSSwrQkFBK0IsT0FBTyxzREFBc0QsY0FBYyxJQUFJLG9CQUFvQixRQUFRLG9CQUFvQixJQUFJLGNBQWMsWUFBWSxpQkFBaUIsSUFBSSx5QkFBeUIsU0FBUyxtREFBbUQsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksYUFBYSxnQkFBZ0IsZ0ZBQWdGLGNBQWMsNkNBQTZDLGlCQUFpQiw2Q0FBNkMsc0hBQXNILGNBQWMsNklBQTZJLFNBQVMsdUhBQXVILHNHQUFzRyx5UEFBeVAsZ0lBQWdJLGVBQWUsK0NBQStDLDJCQUEyQixzQ0FBc0MsMFdBQTBXLGVBQWUsZ0NBQWdDLG9HQUFvRyxnQkFBZ0IsMENBQTBDLFNBQVMsa0VBQWtFLG9DQUFvQyxtQ0FBbUMsTUFBTSxtQ0FBbUMsTUFBTSxtQ0FBbUMsTUFBTSwrRUFBK0UsTUFBTSx1Q0FBdUMsTUFBTSxpQ0FBaUMsTUFBTSwyQ0FBMkMsTUFBTSxxQ0FBcUMsTUFBTSxtQ0FBbUMseUNBQXlDLE1BQU0sNkJBQTZCLE1BQU0scURBQXFELE1BQU0sa0RBQWtELGdCQUFnQixtQkFBbUIsZ0JBQWdCLHFDQUFxQyx5RUFBeUUsb0ZBQW9GLHFHQUFxRyx5UUFBeVEsa0dBQWtHLGtIQUFrSCw4S0FBOEssbUlBQW1JLG1CQUFtQiw4QkFBOEIsTUFBTSwwR0FBMEcsa0dBQWtHLHNMQUFzTCwwQkFBMEIsOEJBQThCLHdEQUF3RCwwQkFBMEIsa0VBQWtFLDJFQUEyRSwwQkFBMEIsOEJBQThCLDZEQUE2RCwrRkFBK0YsdUtBQXVLLDZFQUE2RSxlQUFlLDZGQUE2RixpRUFBaUUsZUFBZSw2RkFBNkYsY0FBYyxzREFBc0QsZ0JBQWdCLG1CQUFtQixrQkFBa0IsbUNBQW1DLHdDQUF3Qyw2RkFBNkYscUtBQXFLLE1BQU0sbUNBQW1DLGdEQUFnRCxzR0FBc0csc0NBQXNDLDhCQUE4Qix3REFBd0QsOEJBQThCLGdCQUFnQixtQkFBbUIsa0JBQWtCLHNHQUFzRyx3Q0FBd0Msc0NBQXNDLDhCQUE4Qix3REFBd0QsNEdBQTRHLGtCQUFrQixxQkFBcUIsZ0NBQWdDLGdEQUFnRCxzQ0FBc0MsOEJBQThCLHdEQUF3RCw4RkFBOEYsS0FBSyxtQkFBbUIsRUFBRSwwRkFBMEYsd0ZBQXdGLDBEQUEwRCxvR0FBb0cseUdBQXlHLGlIQUFpSCwwUkFBMFIsR0FBRyxjQUFjLHlNQUF5TSxlQUFlLGtCQUFrQixrQkFBa0Isb0RBQW9ELHNDQUFzQyw4QkFBOEIsd0RBQXdELDJGQUEyRixLQUFLLDZCQUE2QixFQUFFLHdDQUF3QyxzQ0FBc0MscUZBQXFGLHFHQUFxRywrQkFBK0Isb0JBQW9CLHVCQUF1QixrQkFBa0Isa0RBQWtELHNDQUFzQyw4QkFBOEIsd0RBQXdELGdHQUFnRyxLQUFLLG1CQUFtQixFQUFFLDBCQUEwQixvRUFBb0UsMEZBQTBGLGlCQUFpQixvQkFBb0Isa0JBQWtCLHVGQUF1RiwwS0FBMEssNkZBQTZGLHNDQUFzQyw4QkFBOEIsd0VBQXdFLDZCQUE2QixFQUFFLHdDQUF3Qyx5RkFBeUYsK0JBQStCLHFCQUFxQiwwREFBMEQsa0JBQWtCLDZEQUE2RCxlQUFlLHVEQUF1RCxxSkFBcUosTUFBTSx1SkFBdUosTUFBTSw4REFBOEQsb0JBQW9CLGVBQWUsOEJBQThCLHlEQUF5RCxVQUFVLG1CQUFtQixrQkFBa0IsNERBQTRELHlLQUF5Syw4QkFBOEIsd0RBQXdELDZDQUE2QyxhQUFhLGdCQUFnQixrQkFBa0IsMEhBQTBILGtJQUFrSSw4QkFBOEIsK0ZBQStGLGtCQUFrQixrQkFBa0IsNEtBQTRLLGdCQUFnQixxQ0FBcUMsaUVBQWlFLDhDQUE4QyxzREFBc0QsbUJBQW1CLDhCQUE4QixvREFBb0QsZUFBZSxxQ0FBcUMsaUVBQWlFLG9DQUFvQyxzREFBc0QsWUFBWSwyQ0FBMkMseUNBQXlDLG1EQUFtRCxpQkFBaUIsMkNBQTJDLHlDQUF5Qyx3REFBd0Qsb0JBQW9CLHNCQUFzQixtREFBbUQsS0FBSywyQkFBMkIsRUFBRSwrRkFBK0YsS0FBSyxNQUFNLDhCQUE4Qiw2SEFBNkgsZ0JBQWdCLGdEQUFnRCxhQUFhLE1BQU0sb0hBQW9ILGdCQUFnQix3Q0FBd0Msd0NBQXdDLG9DQUFvQyxvQ0FBb0MseUNBQXlDLHlDQUF5Qyx3Q0FBd0MsMENBQTBDLHlDQUF5QyxtQkFBbUIsc0JBQXNCLGlEQUFpRCxLQUFLLFlBQVksRUFBRSx3QkFBd0IsOEVBQThFLDJCQUEyQiwrREFBK0QseUJBQXlCLGlDQUFpQyw4Q0FBOEMsMEVBQTBFLE1BQU0sbUJBQW1CLDZDQUE2QywwQkFBMEIsU0FBUywyTEFBMkwsU0FBUyxhQUFhLDZUQUE2VCxjQUFjLHVEQUF1RCxlQUFlLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLElBQUksVUFBVSw0QkFBNEIsOENBQThDLGVBQWUsd0JBQXdCLHNEQUFzRCxjQUFjLFlBQVksS0FBSyxpQkFBaUIsZUFBZSxnQ0FBZ0MsMERBQTBELGdCQUFnQixrREFBa0QsZUFBZSx3QkFBd0IsOEJBQThCLFlBQVksOEZBQThGLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGlJQUFpSSxZQUFZLGNBQWMscUJBQXFCLHNGQUFzRiwyQkFBMkIsVUFBVSxtQ0FBbUMsb0NBQW9DLGdCQUFnQixFQUFFLG9DQUFvQyxrQkFBa0IsRUFBRSxvQ0FBb0Msb0JBQW9CLEVBQUUsaUNBQWlDLFdBQVcscUJBQXFCLDZCQUE2QixpQkFBaUIsSUFBSSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxZQUFZLFNBQVMsc09BQXNPLG1CQUFtQixzSEFBc0gsNkJBQTZCLCtCQUErQiwrQkFBK0Isc0VBQXNFLGlDQUFpQyw4QkFBOEIsbUNBQW1DLGdDQUFnQyw0Q0FBNEMsa0NBQWtDLDRCQUE0QiwyREFBMkQseUNBQXlDLE1BQU0sZUFBZSxRQUFRLHFFQUFxRSxFQUFFLGVBQWUsWUFBWSxtQkFBbUIsV0FBVyw2SUFBNkksbUJBQW1CLFFBQVEsK0ZBQStGLGdHQUFnRyxvRkFBb0YsTUFBTSxnRkFBZ0YsNkZBQTZGLGlHQUFpRyxVQUFVLFFBQVEsVUFBVSwwQkFBMEIsYUFBYSxNQUFNLHFFQUFxRSwyRkFBMkYsOElBQThJLDREQUE0RCxPQUFPLFFBQVEscUNBQXFDLGNBQWMsU0FBUyw4Q0FBOEMsd0RBQXdELFlBQVksNkVBQTZFLG9CQUFvQix3REFBd0QsaUtBQWlLLFFBQVEsOFVBQThVLG1CQUFtQixtQ0FBbUMsc0RBQXNELDRFQUE0RSxXQUFXLFVBQVUsMEJBQTBCLGFBQWEsaUlBQWlJLG1CQUFtQiw0QkFBNEIsbUNBQW1DLGtHQUFrRywyQ0FBMkMsb0NBQW9DLHFEQUFxRCwwSEFBMEgsVUFBVSxXQUFXLFVBQVUsMEJBQTBCLGFBQWEscUpBQXFKLG1CQUFtQixtQ0FBbUMsa0hBQWtILDhGQUE4RixXQUFXLDhCQUE4Qiw4QkFBOEIsYUFBYSwrSkFBK0osbUJBQW1CLDBCQUEwQixtQ0FBbUMseUVBQXlFLDBFQUEwRSxLQUFLLFdBQVcsVUFBVSwwQkFBMEIsYUFBYSw0Q0FBNEMsV0FBVyxNQUFNLDRCQUE0Qiw4RkFBOEYsNEZBQTRGLFVBQVUsNkdBQTZHLHlIQUF5SCxpQkFBaUIsNkdBQTZHLHdCQUF3Qiw2REFBNkQsdUlBQXVJLFNBQVMsZ0JBQWdCLGdEQUFnRCxvS0FBb0ssU0FBUyxtQkFBbUIsbUNBQW1DLDhDQUE4QywwRUFBMEUsaURBQWlELFdBQVcsTUFBTSw4RUFBOEUsTUFBTSwwREFBMEQsV0FBVyxVQUFVLDhCQUE4QixhQUFhLHVGQUF1RixtQkFBbUIsbUNBQW1DLDJFQUEyRSwwRUFBMEUsaURBQWlELFdBQVcsTUFBTSxtRkFBbUYseUJBQXlCLCtEQUErRCxXQUFXLFVBQVUsMEJBQTBCLGFBQWEsK0VBQStFLFNBQVMsWUFBWSxXQUFXLGlCQUFpQixTQUFTLG1CQUFtQixtQ0FBbUMsK0VBQStFLDBFQUEwRSxxREFBcUQsV0FBVyxNQUFNLDhFQUE4RSxNQUFNLDBEQUEwRCxXQUFXLFVBQVUsOEJBQThCLGFBQWEsb0dBQW9HLG1CQUFtQiwrQkFBK0IsbUJBQW1CLG1DQUFtQyxrREFBa0QsVUFBVSw4QkFBOEIsYUFBYSwyR0FBMkcsbUJBQW1CLG1DQUFtQywyQ0FBMkMsb0VBQW9FLGtCQUFrQixpSEFBaUgsVUFBVSxpQkFBaUIsbUZBQW1GLEVBQUUsT0FBTyxZQUFZLGlHQUFpRyxpQkFBaUIsc0JBQXNCLHlEQUF5RCxtQkFBbUIsaUJBQWlCLGlCQUFpQiw4RkFBOEYsaUJBQWlCLFlBQVksbURBQW1ELGlCQUFpQixZQUFZLCtDQUErQyxpQkFBaUIsa0VBQWtFLGlCQUFpQiw4Q0FBOEMsaUJBQWlCLE9BQU8sT0FBTyxRQUFRLGdCQUFnQiwrQkFBK0IsVUFBVSxZQUFZLDZEQUE2RCxFQUFFLElBQUksRUFBRSxPQUFPLE9BQU8sTUFBTSxZQUFZLHdFQUF3RSxFQUFFLElBQUksRUFBRSxPQUFPLE9BQU8sTUFBTSxjQUFjLHFEQUFxRCxFQUFFLElBQUksRUFBRSxPQUFPLHVCQUF1QixNQUFNLGFBQWEsMEVBQTBFLEVBQUUsSUFBSSxFQUFFLE9BQU8sT0FBTyxNQUFNLGFBQWEsK0VBQStFLEVBQUUsSUFBSSxFQUFFLE9BQU8sT0FBTyxNQUFNLFdBQVcsOEVBQThFLEVBQUUsSUFBSSxFQUFFLE9BQU8seUJBQXlCLE1BQU0sY0FBYyw0REFBNEQsRUFBRSxJQUFJLEVBQUUsT0FBTyxrQ0FBa0MsTUFBTSxZQUFZLDREQUE0RCxFQUFFLElBQUksRUFBRSxPQUFPLGdEQUFnRCxXQUFXLHFMQUFxTCxJQUFJLE1BQU0sdURBQXVELEVBQUUsSUFBSSxFQUFFLE9BQU8sU0FBUyxxQkFBcUIsbUJBQW1CLGdDQUFnQyxXQUFXLEtBQUssNEJBQTRCLE1BQU0sTUFBTSx5QkFBeUIsS0FBSyxnQkFBZ0IsTUFBTSxRQUFRLHFDQUFxQyxhQUFhLHFCQUFxQixxSUFBcUksVUFBVSxhQUFhLEVBQUUsZ0JBQWdCLGlDQUFpQyxlQUFlLFNBQVMsbUJBQW1CLDZCQUE2QixZQUFZLHlEQUF5RCxNQUFNLFlBQVksd0RBQXdELE1BQU0sY0FBYywyQ0FBMkMsTUFBTSxhQUFhLDJDQUEyQyxNQUFNLGFBQWEsMkNBQTJDLE1BQU0sV0FBVywyQ0FBMkMsTUFBTSxjQUFjLDJDQUEyQyxNQUFNLFlBQVksMENBQTBDLFdBQVcsK0JBQStCLG9FQUFvRSx3RUFBd0UsRUFBRSxNQUFNLHVEQUF1RCxHQUFHLFNBQVMsRUFBRSxRQUFRLG1CQUFtQixRQUFRLDBFQUEwRSxXQUFXLGdDQUFnQyxXQUFXLGlCQUFpQixpQkFBaUIsZUFBZSxtREFBbUQsZUFBZSwwQ0FBMEMsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxhQUFhLGdCQUFnQixlQUFlLFVBQVUsY0FBYyxpQkFBaUIsYUFBYSw0QkFBNEIsd0JBQXdCLGNBQWMsNkNBQTZDLFNBQVMsbUNBQW1DLFNBQVMsNERBQTRELFFBQVEsMEJBQTBCLDRFQUE0RSx3QkFBd0IsUUFBUSwwQkFBMEIsNkVBQTZFLFNBQVMsV0FBVywyQkFBMkIsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksc0JBQXNCLGlCQUFpQix1QkFBdUIsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsYUFBYSxjQUFjLHlEQUF5RCxXQUFXLG9CQUFvQiw4Q0FBOEMsbUJBQW1CLDJDQUEyQyxZQUFZLFVBQVUsZUFBZSxXQUFXLGVBQWUsRUFBRSxtQkFBbUIsSUFBSSxJQUFJLElBQUksY0FBYyxlQUFlLDBGQUEwRixlQUFlLFVBQVUsd0JBQXdCLG1CQUFtQixnQkFBZ0IsbURBQW1ELFdBQVcsS0FBSyxrQkFBa0IsbUhBQW1ILFNBQVMsY0FBYyx5Q0FBeUMsd0NBQXdDLGtDQUFrQyx1REFBdUQsdURBQXVELFNBQVMsd0RBQXdELFdBQVcsdU5BQXVOLFNBQVMsY0FBYyx5Q0FBeUMsd0NBQXdDLGtDQUFrQyx1REFBdUQsdURBQXVELFNBQVMsZ0JBQWdCLFdBQVcsdU5BQXVOLFVBQVUsZUFBZSxjQUFjLG1CQUFtQixnQkFBZ0IsbURBQW1ELFdBQVcsS0FBSyxrQkFBa0IsdUNBQXVDLDJDQUEyQyx5Q0FBeUMsTUFBTSxtQkFBbUIsNkJBQTZCLFNBQVMsY0FBYyx5Q0FBeUMsd0NBQXdDLGtDQUFrQyx1REFBdUQsdURBQXVELFNBQVMsb0JBQW9CLHdEQUF3RCxXQUFXLHVDQUF1QywyQ0FBMkMsMERBQTBELDBEQUEwRCx5Q0FBeUMsTUFBTSxtQkFBbUIsNkJBQTZCLHlCQUF5QixjQUFjLHlDQUF5Qyx3Q0FBd0Msa0NBQWtDLHVEQUF1RCx1REFBdUQsU0FBUyxvQkFBb0IsZ0JBQWdCLFdBQVcsdUNBQXVDLDJDQUEyQywwREFBMEQsMERBQTBELHlDQUF5QyxNQUFNLG1CQUFtQiw2QkFBNkIsMkJBQTJCLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLG1CQUFtQixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSwwQ0FBMEMsZUFBZSxtQkFBbUIsWUFBWSxXQUFXLG1CQUFtQixvQ0FBb0MsNERBQTRELFVBQVUsb0JBQW9CLGVBQWUsMENBQTBDLFlBQVksV0FBVyw2QkFBNkIsWUFBWSxzQkFBc0IsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsZ0JBQWdCLGNBQWMsS0FBSyxTQUFTLFVBQVUsZUFBZSxrQkFBa0IsNENBQTRDLGlDQUFpQyxTQUFTLHNEQUFzRCxlQUFlLHdDQUF3Qyx1Q0FBdUMsV0FBVyxlQUFlLDRDQUE0QyxlQUFlLGtDQUFrQyxpQkFBaUIsTUFBTSxHQUFHLFNBQVMsdUNBQXVDLGdHQUFnRyxTQUFTLHVDQUF1QywwREFBMEQsU0FBUyxxREFBcUQsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSx1REFBdUQsNERBQTRELHNDQUFzQyxNQUFNLElBQUksWUFBWSxJQUFJLFVBQVUsR0FBRyxrQ0FBa0MsTUFBTSw0RkFBNEYsMENBQTBDLDBGQUEwRixNQUFNLCtIQUErSCxRQUFRLE1BQU0sa0lBQWtJLE9BQU8saUdBQWlHLE1BQU0sa0lBQWtJLFFBQVEsMkNBQTJDLFFBQVEsaUNBQWlDLCtEQUErRCx1RkFBdUYsaUJBQWlCLHNDQUFzQywrQkFBK0IsZUFBZSx5QkFBeUIsS0FBSyxHQUFHLEVBQUUsTUFBTSxRQUFRLGlDQUFpQywrREFBK0QsdUZBQXVGLGlEQUFpRCxvQkFBb0IsZUFBZSxzQ0FBc0MsS0FBSyxHQUFHLEVBQUUsTUFBTSxvREFBb0QsTUFBTSw0REFBNEQsUUFBUSxlQUFlLEVBQUUsbUJBQW1CLFlBQVksbUJBQW1CLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLDBFQUEwRSw2QkFBNkIsaUJBQWlCLHVIQUF1SCwwQkFBMEIsc0JBQXNCLE1BQU0sVUFBVSxNQUFNLEVBQUUsc0NBQXNDLDZCQUE2QixXQUFXLDhOQUE4TixpQkFBaUIsc0ZBQXNGLGtCQUFrQixnQ0FBZ0MsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsc0JBQXNCLFlBQVksZ0JBQWdCLGlwQ0FBaXBDLGVBQWUsSUFBSSxZQUFZLCtEQUErRCxPQUFPLDhEQUE4RCxPQUFPLCtDQUErQyw0QkFBNEIsbUJBQW1CLCtEQUErRCxrQkFBa0IsNkNBQTZDLFFBQVEseUNBQXlDLE1BQU0sY0FBYyxHQUFHLGdDQUFnQyxtQkFBbUIsK0RBQStELGtCQUFrQiw2Q0FBNkMsUUFBUSxvQkFBb0IsTUFBTSxjQUFjLHVEQUF1RCxnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVyxVQUFVLGdDQUFnQyxrQkFBa0IsWUFBWSw0QkFBNEIsaUJBQWlCLGdDQUFnQyxJQUFJLG9FQUFvRSxNQUFNLGdCQUFnQixpR0FBaUcsTUFBTSwrREFBK0QsK0VBQStFLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsK0JBQStCLElBQUksVUFBVSx5REFBeUQsVUFBVSw0R0FBNEcsRUFBRSxLQUFLLGtCQUFrQixPQUFPLHVCQUF1QixNQUFNLGtCQUFrQixPQUFPLDZDQUE2QyxNQUFNLHdEQUF3RCxrQkFBa0IsS0FBSyxvQkFBb0IsSUFBSSxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLG1CQUFtQiw4SUFBOEksZ0JBQWdCLDRFQUE0RSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSx5REFBeUQsa0JBQWtCLFNBQVMsUUFBUSxZQUFZLE9BQU8sV0FBVyxzQkFBc0Isd0JBQXdCLFVBQVUsY0FBYyxLQUFLLGNBQWMsU0FBUyx5QkFBeUIsNENBQTRDLHVDQUF1Qyw2QkFBNkIsdURBQXVELHNkQUFzZCxxT0FBcU8sZUFBZSx3QkFBd0IsWUFBWSxLQUFLLE9BQU8sWUFBWSxpQkFBaUIsWUFBWSxnQkFBZ0IsUUFBUSxpQkFBaUIsaUJBQWlCLGlCQUFpQix3RUFBd0Usa0NBQWtDLFFBQVEsNEJBQTRCLE1BQU0saUNBQWlDLFlBQVksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksY0FBYyxhQUFhLGVBQWUsZUFBZSxXQUFXLGVBQWUsWUFBWSxhQUFhLGdCQUFnQix5QkFBeUIsbUJBQW1CLHVCQUF1QiwyQkFBMkIsaUJBQWlCLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxnQ0FBZ0MsUUFBUSxzR0FBc0csWUFBWSxZQUFZLFlBQVksa0tBQWtLLFVBQVUsZUFBZSxjQUFjLGVBQWUscUJBQXFCLGVBQWUsV0FBVyxlQUFlLGtCQUFrQixlQUFlLGNBQWMsZUFBZSxtQkFBbUIsZUFBZSxlQUFlLElBQUksNFVBQTRVLEdBQUcsaUZBQWlGLG9CQUFvQiwrQ0FBK0MsaUdBQWlHLDBIQUEwSCxzR0FBc0csdUdBQXVHLGtpQkFBa2lCLG9HQUFvRyxzR0FBc0csV0FBVyxxTEFBcUwsb0ZBQW9GLFdBQVcsa0hBQWtILDJDQUEyQyw0QkFBNEIscUpBQXFKLG1CQUFtQiw0QkFBNEIsS0FBSyx3Q0FBd0MsK0NBQStDLG1EQUFtRCxzQkFBc0IscUNBQXFDLE1BQU0scUJBQXFCLGFBQWEsMEJBQTBCLGlCQUFpQixTQUFTLGtCQUFrQiwrQkFBK0IsY0FBYyxzQkFBc0IsZUFBZSxlQUFlLHlCQUF5QixJQUFJLDZDQUE2QyxvQkFBb0IsVUFBVSx5QkFBeUIscUJBQXFCLHVCQUF1QixrQkFBa0IsMkJBQTJCLGlCQUFpQixXQUFXLG9EQUFvRCxVQUFVLFVBQVUsVUFBVSxVQUFVLEtBQUssc0JBQXNCLGdDQUFnQyxzQkFBc0IscUJBQXFCLHVCQUF1QixnQkFBZ0Isa0ZBQWtGLG1HQUFtRyxzSkFBc0osU0FBUyxtQkFBbUIsbUJBQW1CLG1CQUFtQixLQUFLLFVBQVUsY0FBYyxrRUFBa0UsU0FBUyxlQUFlLGVBQWUsZ0dBQWdHLFVBQVUsS0FBSyw2QkFBNkIsR0FBRyxFQUFFLDZCQUE2QiwwREFBMEQsZUFBZSxLQUFLLDZCQUE2QixHQUFHLEVBQUUsNkJBQTZCLDBEQUEwRCxlQUFlLE1BQU0sK0NBQStDLFdBQVcsd0hBQXdILFlBQVksd0hBQXdILFFBQVEsd0JBQXdCLGlCQUFpQiw4Q0FBOEMsU0FBUyx3QkFBd0IsaUJBQWlCLDhDQUE4QyxVQUFVLHNGQUFzRixXQUFXLHNGQUFzRixvQkFBb0Isc0JBQXNCLFdBQVcsRUFBRSx3QkFBd0IsdURBQXVELG1FQUFtRSxrQkFBa0Isd0JBQXdCLHVEQUF1RCwwQ0FBMEMsbUJBQW1CLHdCQUF3Qix1REFBdUQsMENBQTBDLGFBQWEsU0FBUyxzQkFBc0IsY0FBYyw2Q0FBNkMsU0FBUyxPQUFPLFNBQVMsc0JBQXNCLGNBQWMsR0FBRyxvRUFBb0UsbUNBQW1DLE9BQU8sU0FBUyxxQkFBcUIsaUJBQWlCLDBCQUEwQixrQ0FBa0MsK0NBQStDLFNBQVMsUUFBUSxhQUFhLGtCQUFrQixZQUFZLHlCQUF5QixvQkFBb0Isd0JBQXdCLFlBQVksRUFBRSx5Q0FBeUMsSUFBSSw0R0FBNEcsSUFBSSwrQkFBK0IsOEJBQThCLGlIQUFpSCx3Q0FBd0MscVBBQXFQLE1BQU0sV0FBVyxpQkFBaUIsVUFBVSx3QkFBd0IsaURBQWlELElBQUksdUJBQXVCLEdBQUcscUZBQXFGLDRFQUE0RSw2Q0FBNkMsZ0JBQWdCLDZDQUE2Qyw2QkFBNkIsMEJBQTBCLGlHQUFpRyxnQkFBZ0IsS0FBSyxhQUFhLGtCQUFrQixZQUFZLE1BQU0sSUFBSSxLQUFLLFFBQVEsRUFBRSx1QkFBdUIsMkJBQTJCLHdEQUF3RCw2QkFBNkIsUUFBUSxxQkFBcUIsZ0JBQWdCLEtBQUssYUFBYSxvQkFBb0IsTUFBTSx3Q0FBd0MsNlVBQTZVLFVBQVUsRUFBRSxJQUFJLDhDQUE4QyxvQkFBb0IsZUFBZSxpQkFBaUIseURBQXlELDhDQUE4QywyREFBMkQsdUJBQXVCLFVBQVUsV0FBVyxFQUFFLElBQUksNkJBQTZCLG9CQUFvQixpQ0FBaUMsaUJBQWlCLDRDQUE0QyxZQUFZLG1DQUFtQyx1QkFBdUIsY0FBYyxTQUFTLEdBQUcsbURBQW1ELGdCQUFnQixFQUFFLE9BQU8sb0NBQW9DLGNBQWMsSUFBSSxVQUFVLDJDQUEyQyxxTEFBcUwsUUFBUSw2S0FBNkssK0VBQStFLElBQUksVUFBVSw4R0FBOEcsc05BQXNOLDRCQUE0QixXQUFXLHVCQUF1QixvR0FBb0csdUdBQXVHLElBQUksd0NBQXdDLGtEQUFrRCw2REFBNkQsRUFBRSxpQ0FBaUMsMkJBQTJCLG1DQUFtQyxNQUFNLHNCQUFzQixRQUFRLDhHQUE4RyxrQkFBa0IsRUFBRSxJQUFJLG9mQUFvZixHQUFHLGtEQUFrRCw0REFBNEQsRUFBRSxPQUFPLHVPQUF1TyxrQkFBa0IsZUFBZSxvQkFBb0IsdUJBQXVCLHNCQUFzQixNQUFNLGlCQUFpQixlQUFlLDBDQUEwQyxpR0FBaUcsaUJBQWlCLCtFQUErRSw0REFBNEQsNEdBQTRHLFVBQVUsRUFBRSxJQUFJLHdIQUF3SCxvQkFBb0IsZUFBZSw4QkFBOEIsMFJBQTBSLHdCQUF3QixRQUFRLDJCQUEyQixNQUFNLDJHQUEyRyxVQUFVLFNBQVMsZ0JBQWdCLHFCQUFxQiwrQ0FBK0MsTUFBTSxXQUFXLGlCQUFpQix5V0FBeVcsNkJBQTZCLGdCQUFnQixLQUFLLGFBQWEsa0JBQWtCLFNBQVMsUUFBUSxzQkFBc0IsY0FBYyxHQUFHLGlCQUFpQiw4REFBOEQsTUFBTSxpQkFBaUIsMEVBQTBFLHFOQUFxTixnQkFBZ0IsS0FBSyxhQUFhLHFCQUFxQixnQkFBZ0IsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsaURBQWlELGFBQWEsaUJBQWlCLHFCQUFxQixVQUFVLHNCQUFzQix3QkFBd0IsYUFBYSxjQUFjLFVBQVUsYUFBYSxjQUFjLE9BQU8sY0FBYyxRQUFRLG9CQUFvQixXQUFXLDBCQUEwQixpQkFBaUIsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLHFDQUFxQyxrQkFBa0Isa0JBQWtCLFdBQVcsc0JBQXNCLFdBQVcsR0FBRyxRQUFRLG9CQUFvQixRQUFRLHVDQUF1QyxNQUFNLDRDQUE0QyxNQUFNLHlCQUF5QixPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLHFDQUFxQyxrQkFBa0IsMkJBQTJCLFdBQVcsc0JBQXNCLFdBQVcsR0FBRyxRQUFRLDJCQUEyQixRQUFRLG9CQUFvQiwwQ0FBMEMsYUFBYSxZQUFZLElBQUksK0JBQStCLDJCQUEyQiw2QkFBNkIsZ0JBQWdCLE1BQU0scUJBQXFCLHVCQUF1QixtQkFBbUIsUUFBUSxxQ0FBcUMsT0FBTyxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQixxQ0FBcUMsaUNBQWlDLHNCQUFzQixPQUFPLHVEQUF1RCxNQUFNLFVBQVUsV0FBVyxzQkFBc0IsYUFBYSxHQUFHLHFCQUFxQixnQkFBZ0Isc0JBQXNCLEtBQUssaUJBQWlCLEtBQUssZ0JBQWdCLEtBQUssSUFBSSxFQUFFLHlCQUF5Qix3QkFBd0IsaUJBQWlCLGFBQWEsT0FBTyxnQkFBZ0IsS0FBSyxJQUFJLEVBQUUsK0JBQStCLDJFQUEyRSxpQkFBaUIsYUFBYSxRQUFRLDBCQUEwQixRQUFRLHlDQUF5QyxNQUFNLHFCQUFxQiwrQkFBK0IsNkRBQTZELE1BQU0saUJBQWlCLFFBQVEsNEJBQTRCLFVBQVUsd0JBQXdCLG9KQUFvSixjQUFjLHdCQUF3QixpREFBaUQsVUFBVSxvQkFBb0IsT0FBTyxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQiwyQ0FBMkMsT0FBTyxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLCtCQUErQixjQUFjLGlEQUFpRCxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSx5QkFBeUIsMERBQTBELGlCQUFpQiw2REFBNkQscUVBQXFFLHNCQUFzQix5RkFBeUYsdUJBQXVCLDJGQUEyRixzQkFBc0Isc0VBQXNFLEdBQUcsY0FBYyw4Q0FBOEMsZUFBZSw0Q0FBNEMsc0JBQXNCLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQix3QkFBd0IsZUFBZSxpQkFBaUIsV0FBVyx5Q0FBeUMsbUJBQW1CLDZCQUE2QixPQUFPLHVEQUF1RCw2QkFBNkIsdUJBQXVCLDhEQUE4RCxNQUFNLFVBQVUsV0FBVyxzQkFBc0IsZUFBZSxJQUFJLFFBQVEsMEJBQTBCLFFBQVEsc0JBQXNCLE1BQU0sMkJBQTJCLFNBQVMsK0JBQStCLE9BQU8seUJBQXlCLFFBQVEsaUJBQWlCLE9BQU8sd0JBQXdCLG1CQUFtQix3Q0FBd0MsaUJBQWlCLHFCQUFxQix3Q0FBd0MsMkNBQTJDLHVCQUF1QixRQUFRLFlBQVksU0FBUywyQ0FBMkMscUNBQXFDLDBCQUEwQixVQUFVLDhDQUE4QyxZQUFZLHVDQUF1QyxVQUFVLDRDQUE0QyxxQkFBcUIsd0NBQXdDLGFBQWEsZ0JBQWdCLHNDQUFzQyxtRUFBbUUsUUFBUSxZQUFZLFNBQVMsMkNBQTJDLGtCQUFrQixVQUFVLGtCQUFrQixTQUFTLFFBQVEsWUFBWSxTQUFTLHFEQUFxRCxxQ0FBcUMsUUFBUSxnQkFBZ0IsV0FBVyxZQUFZLFNBQVMseUJBQXlCLG9CQUFvQixtQkFBbUIsY0FBYyxlQUFlLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0IsZ0NBQWdDLGVBQWUsaUJBQWlCLFdBQVcsNENBQTRDLHFCQUFxQix1RkFBdUYsa0ZBQWtGLHNCQUFzQixnRkFBZ0YsdUJBQXVCLGtGQUFrRixzQkFBc0IsZ0ZBQWdGLEdBQUcsY0FBYyxvRUFBb0UsZUFBZSxnRUFBZ0UsT0FBTyw4REFBOEQsNkJBQTZCLGtCQUFrQixpQkFBaUIsd0NBQXdDLFdBQVcsc0JBQXNCLGVBQWUsR0FBRyxLQUFLLElBQUksUUFBUSxHQUFHLHFFQUFxRSxPQUFPLGFBQWEsYUFBYSxxRUFBcUUsUUFBUSxpREFBaUQsUUFBUSxrQ0FBa0MsTUFBTSxrQ0FBa0MsU0FBUyxvQ0FBb0MsT0FBTyxvQ0FBb0MsUUFBUSxnQkFBZ0IsT0FBTyxnQkFBZ0IsbUJBQW1CLHdDQUF3QyxhQUFhLEtBQUssSUFBSSxPQUFPLFdBQVcscUJBQXFCLHdDQUF3QyxhQUFhLEtBQUssSUFBSSxPQUFPLHdCQUF3Qix1QkFBdUIsYUFBYSxLQUFLLFdBQVcsMEJBQTBCLGNBQWMsMEJBQTBCLFVBQVUsNkVBQTZFLFlBQVksK0JBQStCLFVBQVUscUJBQXFCLGVBQWUsd0JBQXdCLGFBQWEsK0JBQStCLFdBQVcscUJBQXFCLGVBQWUsd0JBQXdCLHFCQUFxQix3Q0FBd0MsYUFBYSxLQUFLLElBQUksT0FBTyxPQUFPLGdCQUFnQixzQ0FBc0Msc0JBQXNCLGNBQWMsSUFBSSxtQkFBbUIsd0JBQXdCLElBQUksa0JBQWtCLE1BQU0sYUFBYSxZQUFZLElBQUksVUFBVSxVQUFVLGNBQWMsSUFBSSxNQUFNLFFBQVEsZUFBZSxhQUFhLGNBQWMsUUFBUSxhQUFhLEtBQUssV0FBVyxFQUFFLHdDQUF3QyxPQUFPLGtCQUFrQixVQUFVLG9CQUFvQiwwQkFBMEIsS0FBSyxZQUFZLEVBQUUsVUFBVSxpQ0FBaUMsU0FBUywyQkFBMkIsYUFBYSxLQUFLLFdBQVcsRUFBRSxRQUFRLEtBQUssMEJBQTBCLGlCQUFpQix1QkFBdUIsY0FBYyxRQUFRLG9CQUFvQixTQUFTLHlCQUF5QixXQUFXLFlBQVksYUFBYSxzQkFBc0IsYUFBYSxHQUFHLFNBQVMsV0FBVyxvQ0FBb0MsZUFBZSxFQUFFLE1BQU0sYUFBYSxzQkFBc0IsS0FBSyxnQkFBZ0IsT0FBTyxZQUFZLEdBQUcsY0FBYyxXQUFXLGlCQUFpQixLQUFLLFdBQVcsd0JBQXdCLG9CQUFvQixtQkFBbUIscUJBQXFCLGFBQWEsS0FBSyxXQUFXLGtCQUFrQixlQUFlLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0Isd0JBQXdCLGVBQWUsaUJBQWlCLFdBQVcseUNBQXlDLG1CQUFtQiw2QkFBNkIsT0FBTyx1REFBdUQsNkJBQTZCLHlCQUF5QiwrREFBK0QsWUFBWSw2Q0FBNkMseUNBQXlDLDZDQUE2QyxzRUFBc0UsSUFBSSxnREFBZ0QsWUFBWSxTQUFTLG1DQUFtQywwQkFBMEIsa0VBQWtFLFdBQVcsc0JBQXNCLGVBQWUsR0FBRyxJQUFJLGlDQUFpQyxZQUFZLElBQUksMkJBQTJCLGlCQUFpQixTQUFTLDBCQUEwQixZQUFZLFNBQVMsMEJBQTBCLDJEQUEyRCxZQUFZLElBQUksa0NBQWtDLDBCQUEwQixLQUFLLHdEQUF3RCxpREFBaUQsNENBQTRDLFFBQVEsb0ZBQW9GLFFBQVEsc0JBQXNCLE1BQU0sMkJBQTJCLFNBQVMsK0JBQStCLE9BQU8seUJBQXlCLFFBQVEsNENBQTRDLE9BQU8sNENBQTRDLFlBQVkseUxBQXlMLFVBQVUscUJBQXFCLDZCQUE2QiwySEFBMkgsYUFBYSxnTUFBZ00sV0FBVyxxQkFBcUIsNkJBQTZCLG9IQUFvSCxtQkFBbUIsd0NBQXdDLElBQUksMkNBQTJDLFdBQVcsb0JBQW9CLHFCQUFxQix3Q0FBd0MsSUFBSSwyQ0FBMkMsV0FBVyxnQkFBZ0IsZ0JBQWdCLHNDQUFzQyxjQUFjLElBQUksbUJBQW1CLHdCQUF3QixJQUFJLGtCQUFrQixNQUFNLFNBQVMsWUFBWSxTQUFTLG9DQUFvQyxjQUFjLFlBQVksSUFBSSxxQkFBcUIsWUFBWSxXQUFXLHlCQUF5QixjQUFjLE9BQU8sNkJBQTZCLElBQUksMkNBQTJDLFdBQVcsMkNBQTJDLHFCQUFxQix3Q0FBd0MseUJBQXlCLG9DQUFvQyxNQUFNLFNBQVMsY0FBYyxTQUFTLG9DQUFvQywyQkFBMkIsV0FBVyxzQkFBc0IsZUFBZSxHQUFHLGNBQWMsdUJBQXVCLHVCQUF1QixTQUFTLFlBQVksU0FBUyxLQUFLLDhCQUE4QixrQkFBa0IsZUFBZSxZQUFZLElBQUksaUNBQWlDLHFCQUFxQiwwQkFBMEIsVUFBVSw4Q0FBOEMsUUFBUSxZQUFZLFNBQVMseURBQXlELGtCQUFrQixVQUFVLG1CQUFtQixLQUFLLElBQUksRUFBRSw4QkFBOEIsc0ZBQXNGLFNBQVMsMkJBQTJCLGtDQUFrQyxZQUFZLFNBQVMsS0FBSyw4QkFBOEIsMENBQTBDLEtBQUssU0FBUyxnQkFBZ0IsY0FBYyxRQUFRLFNBQVMsWUFBWSxTQUFTLG9DQUFvQyxVQUFVLFlBQVksU0FBUyxrQ0FBa0MsY0FBYyxxQkFBcUIsU0FBUyx5QkFBeUIsV0FBVyw2RkFBNkYsWUFBWSxTQUFTLG1DQUFtQyxZQUFZLFdBQVcseUJBQXlCLFdBQVcsWUFBWSxTQUFTLHVDQUF1QyxvQkFBb0IsbUJBQW1CLFlBQVksU0FBUyxtQ0FBbUMsZUFBZSxPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsMENBQTBDLGFBQWEsaUJBQWlCLG9HQUFvRyxJQUFJLFdBQVcsK0JBQStCLHNCQUFzQixJQUFJLE9BQU8sTUFBTSxXQUFXLEtBQUssUUFBUSxZQUFZLEtBQUssU0FBUyxJQUFJLFdBQVcsUUFBUSxVQUFVLElBQUksT0FBTyxTQUFTLE1BQU0sV0FBVyxLQUFLLFFBQVEsWUFBWSxvQkFBb0IsS0FBSyw2QkFBNkIscUdBQXFHLEtBQUssNkJBQTZCLHVHQUF1RyxlQUFlLHdCQUF3QixjQUFjLCtCQUErQixLQUFLLGlCQUFpQiwwQkFBMEIsS0FBSyxpQkFBaUIsMEJBQTBCLEtBQUssdUVBQXVFLDJCQUEyQixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQkFBa0IsMERBQTBELDRCQUE0QixzQkFBc0IsT0FBTyx3RkFBd0YscUJBQXFCLE1BQU0sV0FBVyxLQUFLLFdBQVcsZ0JBQWdCLGlCQUFpQixNQUFNLElBQUkscUNBQXFDLEdBQUcsdUJBQXVCLGNBQWMsb0JBQW9CLGlCQUFpQixLQUFLLFdBQVcsaUJBQWlCLDhDQUE4QyxxQkFBcUIsNEJBQTRCLHFDQUFxQyxPQUFPLGFBQWEsS0FBSyxFQUFFLEVBQUUsb0JBQW9CLGFBQWEsc0JBQXNCLGNBQWMsU0FBUyxPQUFPLGFBQWEsS0FBSyxFQUFFLG9DQUFvQyxTQUFTLE9BQU8sYUFBYSxLQUFLLEVBQUUsRUFBRSxvQkFBb0IsaUJBQWlCLGtCQUFrQixjQUFjLFNBQVMsUUFBUSxhQUFhLEtBQUssRUFBRSxtQ0FBbUMsU0FBUyxNQUFNLE1BQU0sRUFBRSxXQUFXLHFCQUFxQixhQUFhLE9BQU8sT0FBTyxZQUFZLFVBQVUsMERBQTBELHlCQUF5QiwwREFBMEQsT0FBTyw0REFBNEQsTUFBTSxVQUFVLDBEQUEwRCx5QkFBeUIsMERBQTBELE9BQU8sOERBQThELE1BQU0seUNBQXlDLFFBQVEsS0FBSyxTQUFTLEVBQUUsaUJBQWlCLElBQUksT0FBTyxXQUFXLDZDQUE2QyxvRUFBb0UsV0FBVyw2REFBNkQsUUFBUSw0REFBNEQsTUFBTSxNQUFNLEVBQUUsV0FBVyxtQkFBbUIsV0FBVyxZQUFZLFVBQVUsZ0JBQWdCLGlDQUFpQyxXQUFXLFNBQVMsaUJBQWlCLHNHQUFzRyxNQUFNLFdBQVcscUJBQXFCLHVDQUF1QyxzQ0FBc0Msb0RBQW9ELE1BQU0sVUFBVSxnQkFBZ0IsaUNBQWlDLFdBQVcsU0FBUyxpQkFBaUIsc0dBQXNHLE1BQU0sV0FBVyxxQkFBcUIsdUNBQXVDLHNDQUFzQyxvREFBb0QsUUFBUSxVQUFVLG9CQUFvQixnSEFBZ0gsT0FBTyxpQ0FBaUMsVUFBVSxNQUFNLE9BQU8sMkRBQTJELE1BQU0sK0JBQStCLFVBQVUsTUFBTSxPQUFPLDJEQUEyRCxNQUFNLGVBQWUsVUFBVSxlQUFlLG9CQUFvQixVQUFVLE1BQU0sT0FBTyxhQUFhLDRCQUE0QixVQUFVLE1BQU0sT0FBTyw2RUFBNkUsNEJBQTRCLEVBQUUsb0JBQW9CLFFBQVEsaUJBQWlCLG9DQUFvQyxNQUFNLE9BQU8sYUFBYSxpQkFBaUIsb0NBQW9DLE1BQU0sT0FBTyxNQUFNLE1BQU0sVUFBVSxtQkFBbUIsT0FBTyxLQUFLLEVBQUUsRUFBRSxvQkFBb0IsYUFBYSxrQkFBa0IsY0FBYyxpQkFBaUIsUUFBUSxrRUFBa0UseUJBQXlCLFVBQVUsNkVBQTZFLHlEQUF5RCx5REFBeUQsY0FBYyw0QkFBNEIsY0FBYyxvQ0FBb0MscUJBQXFCLHdDQUF3QyxlQUFlLGtDQUFrQyxtQ0FBbUMsU0FBUyxxQkFBcUIsd0JBQXdCLHVCQUF1QixvQ0FBb0MsMEJBQTBCLFVBQVUsK0NBQStDLG1CQUFtQiwrRUFBK0UsV0FBVyxRQUFRLGlDQUFpQyxtQkFBbUIsd0NBQXdDLFVBQVUsbUJBQW1CLFVBQVUsSUFBSSxNQUFNLE1BQU0sU0FBUyxZQUFZLHVCQUF1QixrQkFBa0Isc0NBQXNDLGtCQUFrQixPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLDBEQUEwRCxtQkFBbUIsc0VBQXNFLG9GQUFvRixzQkFBc0Isa0ZBQWtGLHVCQUF1QixvRkFBb0Ysc0JBQXNCLGtGQUFrRixHQUFHLFlBQVkseUJBQXlCLGdDQUFnQyxRQUFRLHFCQUFxQixNQUFNLEVBQUUsV0FBVyxzQ0FBc0MsVUFBVSxPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLG9DQUFvQyxlQUFlLGlCQUFpQixXQUFXLGtDQUFrQyxxQkFBcUIsK0JBQStCLGNBQWMsb0VBQW9FLE9BQU8sOERBQThELDZCQUE2QixzQkFBc0IsV0FBVyxXQUFXLHNCQUFzQixhQUFhLEdBQUcsTUFBTSw2REFBNkQsUUFBUSw0Q0FBNEMsTUFBTSxrQ0FBa0MsU0FBUyw4Q0FBOEMsT0FBTyxvQ0FBb0MsUUFBUSxrQ0FBa0MsT0FBTyxrQ0FBa0MsWUFBWSwwQkFBMEIsUUFBUSx1QkFBdUIsNkJBQTZCLGNBQWMsdUJBQXVCLDZCQUE2QixjQUFjLHVCQUF1Qiw2QkFBNkIscUJBQXFCLHVCQUF1Qiw2QkFBNkIscUJBQXFCLHdCQUF3Qiw2QkFBNkIsU0FBUyxXQUFXLDZCQUE2QixhQUFhLFNBQVMsb0JBQW9CLHVCQUF1QixPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsa0JBQWtCLG9DQUFvQyxlQUFlLGlCQUFpQixXQUFXLGtDQUFrQyxxQkFBcUIsK0JBQStCLGNBQWMsb0RBQW9ELFdBQVcscUJBQXFCLFNBQVMsd0JBQXdCLHdCQUF3QixZQUFZLGtEQUFrRCxtQkFBbUIsRUFBRSxPQUFPLDhEQUE4RCw2QkFBNkIsc0JBQXNCLFdBQVcsV0FBVyxzQkFBc0IseUJBQXlCLEdBQUcsTUFBTSxtRUFBbUUsUUFBUSw0Q0FBNEMsTUFBTSxrQ0FBa0MsU0FBUyw4Q0FBOEMsT0FBTyxvQ0FBb0MsUUFBUSxxQkFBcUIsZUFBZSxpQkFBaUIsT0FBTyxxQkFBcUIsZUFBZSxpQkFBaUIsY0FBYyx1QkFBdUIsNkJBQTZCLGNBQWMsdUJBQXVCLDZCQUE2QixxQkFBcUIsdUJBQXVCLDZCQUE2QixxQkFBcUIsd0JBQXdCLDZCQUE2QixrQkFBa0IscUJBQXFCLFFBQVEsdUJBQXVCLDZCQUE2QixtQkFBbUIsMEJBQTBCLFNBQVMsV0FBVyw2QkFBNkIseUJBQXlCLFNBQVMsb0JBQW9CLHVCQUF1QixPQUFPLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDhCQUE4QixTQUFTLEVBQUUsY0FBYyxlQUFlLGVBQWUsK0NBQStDLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGlEQUFpRCxnQ0FBZ0MsZUFBZSxpQkFBaUIsV0FBVywwQ0FBMEMsbUJBQW1CLHNFQUFzRSxrRkFBa0Ysc0JBQXNCLGdGQUFnRix1QkFBdUIsa0ZBQWtGLHNCQUFzQixnRkFBZ0YsS0FBSyw0QkFBNEIsa0NBQWtDLGNBQWMsMkJBQTJCLGdGQUFnRix5Q0FBeUMsS0FBSyxJQUFJLFFBQVEsR0FBRyxxRUFBcUUsU0FBUyxtQ0FBbUMsTUFBTSxNQUFNLHVCQUF1QiwwQ0FBMEMsdUNBQXVDLG9DQUFvQyxLQUFLLDBCQUEwQixpQkFBaUIsTUFBTSxnQkFBZ0IseUJBQXlCLEdBQUcsMEJBQTBCLGNBQWMsZ0ZBQWdGLE9BQU8seUNBQXlDLHVCQUF1QixtQ0FBbUMsOEJBQThCLFFBQVEsb0JBQW9CLDJCQUEyQixlQUFlLHFCQUFxQixxRkFBcUYsdUJBQXVCLE1BQU0seUNBQXlDLHVCQUF1Qix3QkFBd0Isc0RBQXNELE1BQU0sb0NBQW9DLGtCQUFrQixvQkFBb0IsMEJBQTBCLFVBQVUseUVBQXlFLHFCQUFxQix3Q0FBd0MsYUFBYSxLQUFLLElBQUksT0FBTywwQkFBMEIscUJBQXFCLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQixnRUFBZ0UscUJBQXFCLCtCQUErQixjQUFjLG9FQUFvRSxPQUFPLDhEQUE4RCxtQ0FBbUMsa0JBQWtCLFFBQVEsV0FBVyxzQkFBc0IsYUFBYSxHQUFHLFFBQVEsa0NBQWtDLE1BQU0sa0NBQWtDLFNBQVMsb0NBQW9DLE9BQU8sb0NBQW9DLFFBQVEsZ0JBQWdCLE9BQU8sZ0JBQWdCLFlBQVksMEJBQTBCLG1CQUFtQix3Q0FBd0MsYUFBYSxLQUFLLElBQUksT0FBTyxXQUFXLFVBQVUsa0JBQWtCLDZCQUE2QixXQUFXLGlCQUFpQixLQUFLLFdBQVcsd0JBQXdCLG9CQUFvQixtQkFBbUIsYUFBYSxLQUFLLFdBQVcsa0JBQWtCLGVBQWUsT0FBTyxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSw4QkFBOEIsU0FBUyxFQUFFLGtCQUFrQixnQ0FBZ0MsZUFBZSxpQkFBaUIsV0FBVyxnREFBZ0QscUJBQXFCLCtCQUErQixjQUFjLG9EQUFvRCxXQUFXLHFCQUFxQixTQUFTLHdCQUF3Qix3QkFBd0IsWUFBWSxrREFBa0QsbUJBQW1CLEVBQUUsT0FBTyw4REFBOEQsbUNBQW1DLGtCQUFrQixRQUFRLFdBQVcsc0JBQXNCLHlCQUF5QixHQUFHLFFBQVEsa0NBQWtDLE1BQU0sa0NBQWtDLFNBQVMsb0NBQW9DLE9BQU8sb0NBQW9DLFFBQVEseUNBQXlDLE9BQU8seUNBQXlDLGtCQUFrQixxQkFBcUIscUJBQXFCLHlDQUF5Qyx1QkFBdUIscUNBQXFDLGdCQUFnQixvQkFBb0IsbUJBQW1CLHdDQUF3QyxhQUFhLEtBQUssSUFBSSxPQUFPLGlCQUFpQixVQUFVLGtCQUFrQiw2QkFBNkIsV0FBVyxpQkFBaUIsS0FBSyxXQUFXLDhCQUE4QixvQkFBb0IsbUJBQW1CLGFBQWEsS0FBSyxXQUFXLHdCQUF3QixlQUFlLE9BQU8sZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksOEJBQThCLFNBQVMsRUFBRSxrQ0FBa0MsNkJBQTZCLG1CQUFtQixFQUFFLG9DQUFvQyw2QkFBNkIsbUJBQW1CLEVBQUUsb0NBQW9DLDZCQUE2QixtQkFBbUIsRUFBRSxxQ0FBcUMsNkJBQTZCLG1CQUFtQixFQUFFLHVDQUF1Qyw2QkFBNkIsbUJBQW1CLEVBQUUsdUNBQXVDLDZCQUE2QixtQkFBbUIsRUFBRSwwQ0FBMEMsNkJBQTZCLG1CQUFtQixFQUFFLGtDQUFrQyw2QkFBNkIsbUJBQW1CLEVBQUUsa0NBQWtDLDZCQUE2QixtQkFBbUIsRUFBRSxtQ0FBbUMsNkJBQTZCLG1CQUFtQixFQUFFLDRIQUE0SCxlQUFlLGlCQUFpQixZQUFZLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLDJGQUEyRixpQkFBaUIsd0JBQXdCLGdDQUFnQyw2Q0FBNkMsaUNBQWlDLCtFQUErRSxpQkFBaUIsNENBQTRDLHdGQUF3RixvQ0FBb0Msb0RBQW9ELDhCQUE4QixzREFBc0QsMkRBQTJELDRHQUE0Ryw2QkFBNkIsMENBQTBDLDZCQUE2QixxQ0FBcUMscVVBQXFVLDhCQUE4Qiw4QkFBOEIsMkJBQTJCLG1DQUFtQyxPQUFPLDBDQUEwQyw0QkFBNEIsOEJBQThCLGtCQUFrQixPQUFPLFFBQVEscUJBQXFCLG1GQUFtRiwwREFBMEQscUJBQXFCLDRDQUE0Qyx1QkFBdUIsTUFBTSxxQ0FBcUMsUUFBUSxvQkFBb0IseVBBQXlQLGtCQUFrQiw4QkFBOEIsMEVBQTBFLHNDQUFzQyx1QkFBdUIsNkJBQTZCLHNDQUFzQyxzQ0FBc0MsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxZQUFZLCtCQUErQixFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSw2QkFBNkIsZUFBZSx5Q0FBeUMsTUFBTSxzQkFBc0IsNkVBQTZFLFNBQVMsK0JBQStCLCtCQUErQiwwSkFBMEosbUJBQW1CLGdDQUFnQyxtQkFBbUIsMkJBQTJCLGdEQUFnRCxRQUFRLDhDQUE4Qyw2Q0FBNkMsY0FBYyx5Q0FBeUMsb0VBQW9FLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDJDQUEyQywwQkFBMEIsWUFBWSx1Q0FBdUMsU0FBUyxFQUFFLDJDQUEyQyx3QkFBd0IsSUFBSSxVQUFVLHFEQUFxRCxzRUFBc0UsbUNBQW1DLHlDQUF5QywyRUFBMkUsT0FBTyxxR0FBcUcscUpBQXFKLGtFQUFrRSwyQ0FBMkMsYUFBYSx3REFBd0Qsa0JBQWtCLEtBQUsscUJBQXFCLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsaUJBQWlCLGdDQUFnQyw2QkFBNkIsWUFBWSxNQUFNLDJCQUEyQiw4QkFBOEIsa0ZBQWtGLGlCQUFpQixrREFBa0QsSUFBSSxJQUFJLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDJDQUEyQywwQkFBMEIsWUFBWSx1Q0FBdUMsU0FBUyxFQUFFLDZFQUE2RSxJQUFJLFVBQVUsR0FBRywwS0FBMEssTUFBTSxXQUFXLDJCQUEyQixpREFBaUQsSUFBSSx5RkFBeUYscUNBQXFDLE1BQU0sZ0hBQWdILE1BQU0sdURBQXVELE1BQU0sdUNBQXVDLE1BQU0sdURBQXVELE1BQU0sb0ZBQW9GLE1BQU0sNENBQTRDLE1BQU0sc0RBQXNELFFBQVEsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksMkNBQTJDLDBCQUEwQixZQUFZLHVDQUF1QyxTQUFTLEVBQUUsNEJBQTRCLDJDQUEyQyx3QkFBd0IsbUNBQW1DLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSx1Q0FBdUMsU0FBUyxFQUFFLDhDQUE4QyxZQUFZLE1BQU0sOFFBQThRLFNBQVMsUUFBUSxzSkFBc0osb0ZBQW9GLG9CQUFvQiw2QkFBNkIsZUFBZSxFQUFFLG1CQUFtQixJQUFJLElBQUksSUFBSSxlQUFlLG9FQUFvRSx3QkFBVSwyRkFBMkYsSUFBSSxpQkFBaUIsa0JBQWtCLG1CQUFtQixXQUFXLG1CQUFtQixlQUFlLHFCQUFxQixxQkFBcUIsK0dBQStHLG1CQUFtQiw2Q0FBNkMsMkJBQTJCLGFBQWEsS0FBSyxTQUFTLCtCQUErQixjQUFjLDhIQUE4SCxLQUFLLFNBQVMsK0JBQStCLGVBQWUsc0NBQXNDLDhDQUE4QyxHQUFHLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGVBQWUseUVBQXlFLHdCQUFVLGtIQUFrSCx3QkFBd0IsbUJBQW1CLGtCQUFrQiw0Q0FBNEMsZUFBZSw2Q0FBNkMsZUFBZSw4QkFBOEIsOEJBQThCLDhCQUE4Qix5Q0FBeUMsYUFBYSxTQUFTLHlDQUF5QyxtQkFBbUIsZUFBZSx1QkFBdUIsZUFBZSxxR0FBcUcseUJBQXlCLDREQUE0RCx1QkFBdUIsZUFBZSx1QkFBdUIsZUFBZSxxR0FBcUcscUNBQXFDLDZEQUE2RCxjQUFjLHNCQUFzQixxRUFBcUUsZ0NBQWdDLHVEQUF1RCxNQUFNLHVCQUF1QixxQkFBcUIsRUFBRSxrQkFBa0IsZ0NBQWdDLFNBQVMsK0JBQStCLDRCQUE0Qiw0QkFBNEIsZ0NBQWdDLEdBQUcsZUFBZSxnQ0FBZ0MsU0FBUyw4QkFBOEIsNEJBQTRCLDRCQUE0QiwrQkFBK0IsR0FBRyxlQUFlLDJGQUEyRiwwQkFBMEIsZ0RBQWdELDZCQUE2Qiw4REFBOEQsR0FBRyxpQkFBaUIsNkJBQTZCLDhEQUE4RCxJQUFJLGVBQWUsMkZBQTJGLGlDQUFpQyw2QkFBNkIsNkRBQTZELEtBQUssUUFBUSw0REFBNEQsVUFBVSxHQUFHLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLGVBQWUseUVBQXlFLHdCQUFVLDZHQUE2Ryx5QkFBeUIsbUJBQW1CLG9CQUFvQixXQUFXLGtCQUFrQixxQkFBcUIsb0JBQW9CLDhCQUE4QixlQUFlLDJCQUEyQixvQ0FBb0MsOEJBQThCLEtBQUssVUFBVSxPQUFPLGNBQWMsUUFBUSw0Q0FBNEMsYUFBYSxzQ0FBc0MsZUFBZSxtR0FBbUcsNEJBQTRCLGVBQWUsZUFBZSxrR0FBa0csNEJBQTRCLGlCQUFpQiwwQkFBMEIsT0FBTyxtREFBbUQsdUJBQXVCLHdCQUF3QixpQkFBaUIsOEJBQThCLHVCQUF1QixxQ0FBcUMsbUJBQW1CLDZDQUE2QywwQ0FBMEMsbUJBQW1CLDZDQUE2QywwQ0FBMEMsd0NBQXdDLGFBQWEsSUFBSSx1QkFBdUIsZ0RBQWdELG9DQUFvQyxnQkFBZ0IsRUFBRSxLQUFLLG9GQUFvRixrQkFBa0IsZ0JBQWdCLEdBQUcsS0FBSyxnR0FBZ0csMkRBQTJELDJCQUEyQixLQUFLLG9GQUFvRixXQUFXLFNBQVMsYUFBYSxPQUFPLGtCQUFrQixxQkFBcUIsR0FBRyxHQUFHLHFDQUFxQyxNQUFNLGNBQWMsV0FBVywrQkFBK0IsWUFBWSxZQUFZLHFDQUFxQyxRQUFRLDBDQUEwQyxjQUFjLElBQUksSUFBSSxhQUFhLCtEQUErRCx1QkFBdUIsRUFBRSw0REFBNEQsYUFBYSxPQUFPLElBQUksSUFBSSw4QkFBOEIsNEJBQTRCLGVBQWUsMkJBQTJCLGNBQWMsTUFBTSw4Q0FBOEMsY0FBYyxNQUFNLDhDQUE4QyxtRUFBbUUsR0FBRyxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksZ0VBQWdFLGtCQUFrQiwyQ0FBMkMsZ0VBQWdFLDZCQUE2QixhQUFhLGdDQUFnQyxtQkFBbUIsNkJBQTZCLDZEQUE2RCxtQ0FBbUMsc0JBQXNCLEdBQUcsZUFBZSxhQUFhLHNDQUFzQyw0QkFBNEIsU0FBUyw4RkFBOEYsa0JBQWtCLHVDQUF1QyxTQUFTLEVBQUUsNEJBQTRCLDBDQUEwQyxLQUFLLHNEQUFzRCxRQUFRLFVBQVUsdUJBQXVCLHVCQUF1Qix3RkFBd0YsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksMkNBQTJDLDBCQUEwQixZQUFZLHVDQUF1QyxTQUFTLEVBQUUseUJBQXlCLGdDQUFnQyx1Q0FBdUMsb0JBQW9CLDJCQUEyQixnQkFBZ0IsdUJBQXVCLGlCQUFpQixtSkFBbUosUUFBUSxrRUFBa0UsZ0JBQWdCLHlJQUF5SSxFQUFFLEdBQUcsMEZBQTBGLEVBQUUsTUFBTSxVQUFVLGdDQUFnQyxhQUFhLHlCQUF5Qiw0QkFBNEIscUNBQXFDLCtIQUErSCw0SEFBNEgseUJBQXlCLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLGdFQUFnRSxrQkFBa0IsMkNBQTJDLGdFQUFnRSw2QkFBNkIsYUFBYSxnQ0FBZ0MsbUJBQW1CLDZCQUE2Qiw2REFBNkQsbUNBQW1DLHNCQUFzQixHQUFHLGVBQWUsYUFBYSxzQ0FBc0MsNEJBQTRCLFNBQVMsOEZBQThGLGlCQUFpQix3Q0FBd0MsMEJBQTBCLFlBQVksdUNBQXVDLFNBQVMsRUFBRSwwTEFBMEwsZ0JBQWdCLHNCQUFzQixTQUFTLEdBQUcsTUFBTSx3S0FBd0sseUNBQXlDLG1CQUFtQixpQkFBaUIsdUNBQXVDLEVBQUUsaUJBQWlCLDJCQUEyQixzRkFBc0YsNDlCQUE0OUIsY0FBYyxxWUFBcVkseUJBQXlCLHVOQUF1TiwrQ0FBK0MsMFJBQTBSLElBQUksUUFBUSxhQUFhLGdCQUFnQixrQ0FBa0MsV0FBVyxPQUFPLG9CQUFvQixPQUFPLDREQUE0RCxTQUFTLDhHQUE4RyxtQkFBbUIsc0dBQXNHLG1EQUFtRCx1QkFBdUIsaVNBQWlTLDRGQUE0RixnQkFBZ0IsS0FBSyxtQkFBbUIsS0FBSyxVQUFVLHlDQUF5QyxtQkFBbUIsaURBQWlELFVBQVUsTUFBTSxvRUFBb0Usc2FBQXNhLGtFQUFrRSxFQUFFLFdBQVcsaURBQWlELGdCQUFnQiw0RUFBNEUsTUFBTSx3Q0FBd0MsUUFBUSx3REFBd0QsUUFBUSxnQ0FBZ0MsTUFBTSxRQUFRLGNBQWMsbUJBQW1CLG1FQUFtRSxVQUFVLGdKQUFnSixnSUFBZ0ksZ0pBQWdKLGdEQUFnRCxPQUFPLHlSQUF5Uiw0REFBNEQscUJBQXFCLGtFQUFrRSx1REFBdUQsMEtBQTBLLDJMQUEyTCxvSEFBb0gscUJBQXFCLHdCQUF3QiwwQkFBMEIsdUJBQXVCLDBHQUEwRyx5SUFBeUksbUNBQW1DLGlCQUFpQixzREFBc0QsSUFBSSxVQUFVLE1BQU0sMENBQTBDLGlDQUFpQyxFQUFFLHVCQUF1QixLQUFLLElBQUksK0NBQStDLEdBQUcsMkNBQTJDLFdBQVcsUUFBUSx1RkFBdUYsT0FBTyxrRUFBa0UsK0VBQStFLDBDQUEwQyw0QkFBNEIsbUZBQW1GLE1BQU0scUZBQXFGLE1BQU0sV0FBVyw0R0FBNEcsNENBQTRDLE9BQU8sb0JBQW9CLDJCQUEyQiwyQkFBMkIsYUFBYSxHQUFHLEVBQUUsaUJBQWlCLG1DQUFtQywyQ0FBMkMsY0FBYyxnSUFBZ0ksMkJBQTJCLG1EQUFtRCxFQUFFLFNBQVMscUZBQXFGLE9BQU8sT0FBTyxpRUFBaUUsT0FBTyxrQ0FBa0MscUhBQXFILE9BQU8sbUJBQW1CLHVKQUF1SixrQ0FBa0MsOENBQThDLDZCQUE2Qiw2REFBNkQsbUNBQW1DLFdBQVcscUJBQXFCLG9EQUFvRCxPQUFPLDZDQUE2QyxpREFBaUQsMENBQTBDLFNBQVMsY0FBYyxtQ0FBbUMsT0FBTyxXQUFXLG1JQUFtSSx3Q0FBd0MsbUNBQW1DLG9CQUFvQixPQUFPLElBQUksVUFBVSxHQUFHLFlBQVksV0FBVyxvQkFBb0IsV0FBVyxtRUFBbUUsNEdBQTRHLG9CQUFvQixPQUFPLG9CQUFvQiwyQkFBMkIsMkJBQTJCLGFBQWEsR0FBRyxFQUFFLG1CQUFtQix1RUFBdUUsMkJBQTJCLG1EQUFtRCxFQUFFLFNBQVMsMkNBQTJDLFdBQVcscUJBQXFCLG9EQUFvRCxPQUFPLGtEQUFrRCxnSkFBZ0osbUNBQW1DLDRGQUE0RixpQkFBaUIsbUVBQW1FLDRHQUE0RyxvQkFBb0IsT0FBTyxzQkFBc0IsMkJBQTJCLDZCQUE2QixhQUFhLEdBQUcsRUFBRSxXQUFXLDRNQUE0TSxXQUFXLHVIQUF1SCw2QkFBNkIsb0VBQW9FLFdBQVcsbUVBQW1FLEdBQUcsNklBQTZJLFFBQVEsaUhBQWlILDBGQUEwRixNQUFNLDBXQUEwVyxjQUFjLDJCQUEyQixpQkFBaUIsWUFBWSxHQUFHLEVBQUUseUJBQXlCLHFCQUFxQixJQUFJLEtBQUssa0JBQWtCLDJDQUEyQyxpQ0FBaUMsR0FBRyxZQUFZLGFBQWEsNkJBQTZCLFdBQVcsb1hBQW9YLGlGQUFpRixpQkFBaUIsNktBQTZLLGtKQUFrSixJQUFJLFNBQVMsNEdBQTRHLHVIQUF1SCxJQUFJLHdDQUF3QyxNQUFNLDBDQUEwQyx5QkFBeUIsNEZBQTRGLDZEQUE2RCxzR0FBc0csV0FBVyxtQ0FBbUMsdUJBQXVCLDJKQUEySixhQUFhLDBHQUEwRyxnQkFBZ0Isd0hBQXdILGtCQUFrQiw0WEFBNFgsc0VBQXNFLGlGQUFpRixrQkFBa0IsMklBQTJJLGlCQUFpQixFQUFFLDhTQUE4UyxNQUFNLHFCQUFxQixpQkFBaUIsSUFBSSxzSEFBc0gsZ0ZBQWdGLHFCQUFxQix3RUFBd0UsR0FBRyxHQUFHLEdBQUcsa1lBQWtZLHFCQUFxQiw0RUFBNEUsVUFBVSw2R0FBNkcsNkJBQTZCLG9CQUFvQiw0QkFBNEIsR0FBRyxvQkFBb0Isd0RBQXdELE1BQU0sMENBQTBDLHlCQUF5Qiw2QkFBNkIscVBBQXFQLHlKQUF5SixnQkFBZ0IsYUFBYSwwTEFBMEwsZ0JBQWdCLGFBQWEsNk1BQTZNLGdCQUFnQixhQUFhLHVFQUF1RSw2SUFBNkksU0FBUyx1QkFBdUIsa0JBQWtCLG1LQUFtSywyREFBMkQsdU9BQXVPLHFCQUFxQiw4RkFBOEYsK0JBQStCLE1BQU0sS0FBSyxPQUFPLG9CQUFvQixtQkFBbUIsdUJBQXVCLE9BQU8sa0dBQWtHLE9BQU8sTUFBTSx1QkFBdUIsT0FBTyxjQUFjLG9CQUFvQix1Q0FBdUMsT0FBTywrQkFBK0IsT0FBTyxjQUFjLHdDQUF3QyxNQUFNLHNDQUFzQyxNQUFNLCtEQUErRCxvQkFBb0IsK0ZBQStGLFFBQVEsc0JBQXNCLHFCQUFxQixtREFBbUQsb0JBQW9CLGVBQWUsNkRBQTZELGNBQWMsb0dBQW9HLG9CQUFvQixLQUFLLCtDQUErQyx5QkFBeUIsNE1BQTRNLDJCQUEyQiwwSkFBMEoscUJBQXFCLDBHQUEwRyxrQkFBa0IscUZBQXFGLFdBQVcsMkRBQTJELGNBQWMsR0FBRyxxQkFBcUIsd0lBQXdJLGVBQWUseUJBQXlCLDJDQUEyQyxrTUFBa00sNENBQTRDLFlBQVksV0FBVyxLQUFLLFNBQVMseUVBQXlFLDhCQUE4QixJQUFJLG9GQUFvRixnQ0FBZ0MsMEJBQTBCLGNBQWMsc0JBQXNCLHVCQUF1QixPQUFPLG9HQUFvRyxXQUFXLCtDQUErQywwREFBMEQsUUFBUSxtRUFBbUUsc0NBQXNDLDJGQUEyRixFQUFFLFdBQVcsYUFBYSxrQkFBa0IsT0FBTyxxQkFBcUIsT0FBTywrRUFBK0UsSUFBSSxPQUFPLHVJQUF1SSxvQkFBb0IsZ0JBQWdCLDBOQUEwTixnQkFBZ0IsU0FBUywrRkFBK0YsS0FBSyxNQUFNLHlHQUF5RyxRQUFRLEtBQUssOEJBQThCLGdFQUFnRSxvQ0FBb0MsOERBQThELFVBQVUsaUNBQWlDLEtBQUssbUNBQW1DLEdBQUcsNkJBQTZCLDBKQUEwSixzQ0FBc0Msb0NBQW9DLGdEQUFnRCxZQUFZLFNBQVMsZ0ZBQWdGLEtBQUssNkJBQTZCLGVBQWUsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUscUJBQXFCLGNBQWMsc0RBQXNELFdBQVcsNERBQTRELG1CQUFtQixtQkFBbUIsWUFBWSxtQ0FBbUMsY0FBYyw4QkFBOEIsUUFBUSxnQ0FBZ0MsZUFBZSxFQUFFLGVBQWUsNEJBQTRCLGlCQUFpQix3QkFBd0IsZ0NBQWdDLG9CQUFvQixvQkFBb0IsS0FBSyxJQUFJLGNBQWMsU0FBUywrQ0FBK0MsV0FBVyxlQUFlLHdCQUF3QixLQUFLLElBQUksRUFBRSx3QkFBd0IsNEJBQTRCLHdCQUF3Qix3RUFBd0UsZ0JBQWdCLFNBQVMsZ0RBQWdELElBQUksSUFBSSxJQUFJLDhEQUE4RCx3SkFBd0osc0NBQXNDLGlCQUFpQixrQ0FBa0Msb0JBQW9CLFFBQVEsa0NBQWtDLE1BQU0saUJBQWlCLHlCQUF5QixnQkFBZ0Isd0RBQXdELFdBQVcsWUFBWSxJQUFJLGtFQUFrRSxvQkFBb0IsSUFBSSxFQUFFLFFBQVEsa0JBQWtCLE9BQU8sMEJBQTBCLG9FQUFvRSx1REFBdUQsNEJBQTRCLGFBQWEsV0FBVyx5Q0FBeUMsaUJBQWlCLHlGQUF5RixNQUFNLGtDQUFrQyxnQkFBZ0IsMkNBQTJDLG9DQUFvQyxtQkFBbUIsbUJBQW1CLElBQUksRUFBRSxpQkFBaUIsZ0NBQWdDLFVBQVUsd0RBQXdELDREQUE0RCxRQUFRLGNBQWMsT0FBTyw0QkFBNEIsYUFBYSxpQkFBaUIsbUNBQW1DLDRDQUE0QyxTQUFTLGtCQUFrQixLQUFLLHNCQUFzQiwrQ0FBK0MseUNBQXlDLHdCQUF3QixpQ0FBaUMsRUFBRSx1QkFBdUIsd0JBQXdCLGlEQUFpRCxJQUFJLFVBQVUsVUFBVSxXQUFXLGFBQWEsUUFBUSxZQUFZLEVBQUUsaUJBQWlCLGlEQUFpRCwyQkFBMkIsSUFBSSxJQUFJLElBQUkscUJBQXFCLGtCQUFrQixTQUFTLDZDQUE2QyxZQUFZLGFBQWEsVUFBVSw2Q0FBNkMsZUFBZSxnQkFBZ0IsWUFBWSxJQUFJLEtBQUssbURBQW1ELGlLQUFpSyxTQUFTLGdCQUFnQixpQkFBaUIsc0JBQXNCLHNDQUFzQyxxQ0FBcUMsbUJBQW1CLHNCQUFzQixnR0FBZ0csa0NBQWtDLGdEQUFnRCxtQ0FBbUMseUNBQXlDLHFFQUFxRSxPQUFPLGdEQUFnRCxVQUFVLFVBQVUsU0FBUyxjQUFjLEVBQUUsY0FBYyxtREFBbUQsY0FBYyxxREFBcUQsZUFBZSwwQ0FBMEMsbUVBQW1FLElBQUksZUFBZSxNQUFNLElBQUkseUJBQXlCLE1BQU0sK0JBQStCLGNBQWMsa0VBQWtFLGNBQWMsUUFBUSxhQUFhLE1BQU0sb0JBQW9CLEVBQUUsRUFBRSxnQkFBZ0IsT0FBTyxrQkFBa0IsbUJBQW1CLDBCQUEwQiw0Q0FBNEMsdUVBQXVFLElBQUksT0FBTyxNQUFNLElBQUksdUJBQXVCLE1BQU0sNkJBQTZCLE1BQU0saUJBQWlCLHFDQUFxQyxlQUFlLDZDQUE2QyxJQUFJLElBQUksSUFBSSx5REFBeUQscUJBQU0sVUFBVSxZQUFZLElBQUksZ0RBQWdELE1BQU0sT0FBTyxJQUFJLG9EQUFvRCxNQUFNLFFBQVEsSUFBSSxrQkFBa0Isd0JBQXdCLG9DQUFvQyxrQ0FBa0MsbUJBQW1CLHdCQUF3QixnREFBZ0QsNkJBQTZCLDZDQUE2QywyQ0FBMkMsd0NBQXdDLG1MQUFtTCxVQUFVLHdCQUF3QixvREFBb0QsbUJBQW1CLFdBQVcsc0JBQXNCLGtEQUFrRCxxQkFBcUIsVUFBVSxNQUFNLGVBQWUsUUFBUSxXQUFXLFdBQVcsU0FBUyxPQUFPLFFBQVEsT0FBTyxhQUFhLFlBQVksT0FBTyxNQUFNLFFBQVEsbUJBQW1CLHVCQUF1QixzQkFBc0Isa0JBQWtCLFNBQVMsU0FBUyxXQUFXLGFBQWEsRUFBRSxjQUFjLGdCQUFnQixNQUFNLFdBQVcsS0FBSyxhQUFhLG1EQUFtRCxhQUFhLHFEQUFxRCxZQUFZLElBQUksZ0RBQWdELE1BQU0sS0FBSyxJQUFJLG9EQUFvRCxNQUFNLE1BQU0sSUFBSSxjQUFjLHlDQUF5QywrREFBK0QsSUFBSSxjQUFjLE1BQU0sSUFBSSx3QkFBd0IsTUFBTSw4QkFBOEIsY0FBYywyQ0FBMkMsbUVBQW1FLElBQUksWUFBWSxNQUFNLElBQUksc0JBQXNCLE1BQU0sNEJBQTRCLHFCQUFxQixhQUFhLDBEQUEwRCxhQUFhLE9BQU8sV0FBVyxLQUFLLG1CQUFtQixFQUFFLEVBQUUsYUFBYSxNQUFNLGVBQWUsaUJBQWlCLG1CQUFtQix1QkFBdUIsb0NBQW9DLGtDQUFrQyxtQkFBbUIsd0JBQXdCLDRDQUE0QyxnQkFBZ0IscUNBQXFDLDJCQUEyQiw2Q0FBNkMsd0NBQXdDLHNDQUFzQyxjQUFjLHNLQUFzSyxVQUFVLHVCQUF1QixvREFBb0Qsa0JBQWtCLFdBQVcscUJBQXFCLGtEQUFrRCxvQkFBb0IsU0FBUyxJQUFJLDJCQUEyQixJQUFJLElBQUksSUFBSSxLQUFLLGdFQUFnRSxxQkFBTSxDQUFDLFFBQVEsc0JBQXNCLGVBQWUsUUFBUSxXQUFXLFdBQVcsU0FBUyxPQUFPLFFBQVEsT0FBTyxhQUFhLFlBQVksT0FBTyxNQUFNLFFBQVEsbUJBQW1CLHVCQUF1QixzQkFBc0Isa0JBQWtCLFNBQVMsU0FBUyxXQUFXLGFBQWEsRUFBRSxjQUFjLGdCQUFnQixNQUFNLFNBQVMsY0FBYyxnR0FBZ0csZ0JBQWdCLGdDQUFnQyxZQUFZLEtBQUssZ0NBQWdDLE1BQU0sZ0JBQWdCLE1BQU0sV0FBVyx3Q0FBd0Msb0ZBQW9GLGVBQWUseUJBQXlCLG1CQUFtQiwyRUFBMkUsVUFBVSxvQ0FBb0MsaUJBQWlCLFVBQVUscUNBQXFDLCtEQUErRCxTQUFTLDhCQUE4QixTQUFTLGdCQUFnQix1REFBdUQsZ0NBQWdDLE9BQU8sbUJBQW1CLHlDQUF5QyxVQUFVLEtBQUssTUFBTSx5R0FBeUcseURBQXlELHVCQUF1QixnQ0FBZ0MsMkRBQTJELDZFQUE2RSx3QkFBd0IsNkNBQTZDLGlCQUFpQixtQ0FBbUMsY0FBYyxtQkFBbUIsS0FBSyxtQkFBbUIsNENBQTRDLHFDQUFxQyx3QkFBd0Isb0VBQW9FLFlBQVksaUNBQWlDLEtBQUssNkJBQTZCLGlDQUFpQyxLQUFLLDRDQUE0QyxLQUFLLEtBQUssVUFBVSxRQUFRLGdEQUFnRCw2QkFBNkIsb0RBQW9ELE1BQU0sNENBQTRDLGVBQWUsZUFBZSxTQUFTLFlBQVksS0FBSyxtRUFBbUUsNkVBQTZFLHVCQUF1QixTQUFTLHFCQUFxQixnQ0FBZ0MsMERBQTBELEtBQUssaUNBQWlDLE9BQU8sSUFBSSxPQUFPLFVBQVUsbURBQW1ELHdCQUF3Qix5RkFBeUYsS0FBSyxvQkFBb0IsK0NBQStDLHdDQUF3QyxzQkFBc0IsaUJBQWlCLEtBQUssS0FBSyxzQkFBc0IsV0FBVyxPQUFPLE1BQU0sT0FBTyxrRkFBa0YsbURBQW1ELE1BQU0saUJBQWlCLEtBQUssNkJBQTZCLE9BQU8sTUFBTSxPQUFPLDBCQUEwQiwrQkFBK0IscUJBQXFCLEtBQUssNENBQTRDLEtBQUssS0FBSyxzQkFBc0IsV0FBVyxPQUFPLE1BQU0sTUFBTSxTQUFTLG9FQUFvRSxzRUFBc0Usb0JBQW9CLGlJQUFpSSxnQkFBZ0IsbUJBQW1CLEtBQUssT0FBTyx1Q0FBdUMseUJBQXlCLGlDQUFpQyx1QkFBdUIsNENBQTRDLEtBQUssS0FBSyw2QkFBNkIsT0FBTyxNQUFNLE1BQU0sU0FBUyxvRUFBb0UsMlJBQTJSLDhDQUE4Qyx5QkFBeUIsd0JBQXdCLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSyxPQUFPLFNBQVMsRUFBRSxVQUFVLE9BQU8sNklBQTZJLEVBQUUsY0FBYyx1TUFBdU0sbUJBQW1CLCtDQUErQyxhQUFhLHdCQUF3QixjQUFjLGdCQUFnQixNQUFNLFNBQVMsY0FBYyxnR0FBZ0csZ0JBQWdCLGdDQUFnQyxZQUFZLEtBQUssZ0NBQWdDLE1BQU0sZ0JBQWdCLE1BQU0sV0FBVyx3Q0FBd0Msb0ZBQW9GLGVBQWUseUJBQXlCLG1CQUFtQiwyRUFBMkUsVUFBVSxvQ0FBb0MsaUJBQWlCLFVBQVUscUNBQXFDLCtEQUErRCxTQUFTLDhCQUE4QixTQUFTLGdCQUFnQix1REFBdUQsZ0NBQWdDLE9BQU8sbUJBQW1CLHlDQUF5QyxVQUFVLEtBQUssTUFBTSx5R0FBeUcseURBQXlELHVCQUF1QixnQ0FBZ0MsMkRBQTJELDZFQUE2RSx3QkFBd0IsNkNBQTZDLGlCQUFpQixtQ0FBbUMsY0FBYyxtQkFBbUIsS0FBSyxtQkFBbUIsNENBQTRDLHFDQUFxQyx3QkFBd0Isb0VBQW9FLFlBQVksaUNBQWlDLEtBQUssNkJBQTZCLGlDQUFpQyxLQUFLLDRDQUE0QyxLQUFLLEtBQUssVUFBVSxRQUFRLGdEQUFnRCw2QkFBNkIsb0RBQW9ELE1BQU0sNENBQTRDLGVBQWUsZUFBZSxTQUFTLFlBQVksS0FBSyxtRUFBbUUsNkVBQTZFLHVCQUF1QixTQUFTLHFCQUFxQixnQ0FBZ0MsMERBQTBELEtBQUssaUNBQWlDLE9BQU8sSUFBSSxPQUFPLFVBQVUsbURBQW1ELHdCQUF3Qix5RkFBeUYsS0FBSyxvQkFBb0IsK0NBQStDLHdDQUF3QyxzQkFBc0IsaUJBQWlCLEtBQUssS0FBSyxzQkFBc0IsV0FBVyxPQUFPLE1BQU0sT0FBTyxrRkFBa0YsbURBQW1ELE1BQU0saUJBQWlCLEtBQUssNkJBQTZCLE9BQU8sTUFBTSxPQUFPLDBCQUEwQiwrQkFBK0IscUJBQXFCLEtBQUssNENBQTRDLEtBQUssS0FBSyxzQkFBc0IsV0FBVyxPQUFPLE1BQU0sTUFBTSxTQUFTLG9FQUFvRSxzRUFBc0Usb0JBQW9CLGlJQUFpSSxnQkFBZ0IsbUJBQW1CLEtBQUssT0FBTyx1Q0FBdUMseUJBQXlCLGlDQUFpQyx1QkFBdUIsNENBQTRDLEtBQUssS0FBSyw2QkFBNkIsT0FBTyxNQUFNLE1BQU0sU0FBUyxvRUFBb0UsMlJBQTJSLDhDQUE4Qyx5QkFBeUIsZUFBZSxtQ0FBbUMsaUhBQWlILGdGQUFnRixzQkFBc0IsZUFBZSw4QkFBOEIsWUFBWSxXQUFXLG1CQUFtQiw2QkFBNkIsZ0lBQWdJLHFFQUFxRSxFQUFFLEVBQUUsRUFBRSxHQUFHLGlDQUFpQywyRkFBMkYsbUJBQW1CLGVBQWUsa0ZBQWtGLGlCQUFpQixZQUFZLFdBQVcsbUJBQW1CLDZCQUE2QixvR0FBb0csNkJBQTZCLGVBQWUsK0NBQStDLHVEQUF1RCx5QkFBeUI7QUFDbHZ0USw4SEFBOEgsZUFBZSxtQ0FBbUMsaUhBQWlILGdGQUFnRixzQkFBc0IsZUFBZSw4QkFBOEIsWUFBWSxXQUFXLG1CQUFtQiw2QkFBNkIsZ0lBQWdJLHFFQUFxRSxFQUFFLEVBQUUsRUFBRSxHQUFHLGlDQUFpQywyRkFBMkYsbUJBQW1CLGVBQWUsa0ZBQWtGLGlCQUFpQixZQUFZLFdBQVcsbUJBQW1CLDZCQUE2QixvR0FBb0csNkJBQTZCLGVBQWUsK0NBQStDLHVEQUF1RCx5QkFBeUI7QUFDaHlDLDhIQUE4SCxpS0FBaUssSUFBSSxJQUFJLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLElBQUksV0FBVyxxQkFBcUIsMEJBQTBCLHNCQUFzQixvQ0FBb0Msb0JBQW9CLGdCQUFnQiwrQkFBK0IsaUJBQWlCLG1DQUFtQyw4QkFBOEIsK0JBQStCLHdDQUF3QyxzQkFBc0Isd0ZBQXdGLFVBQVUsbUZBQW1GLElBQUk7QUFDdjJCLDhDQUE4Qyx1REFBdUQsS0FBSyx3QkFBd0IsS0FBSyxZQUFZLCtCQUErQixLQUFLLCtCQUErQixLQUFLLG1HQUFtRyxPQUFPLG1DQUFtQywwRkFBMEYscUVBQXFFLDZCQUE2QixrQkFBa0IsMkNBQTJDLGlCQUFpQixrTEFBa0wsT0FBTyxpQkFBaUIsTUFBTSw2QkFBNkIsc0NBQXNDLDBDQUEwQywyQkFBMkIsK0NBQStDLDJCQUEyQixxQkFBcUIsWUFBWSxvREFBb0Qsc0lBQXNJLFlBQVksS0FBSyxNQUFNLGlEQUFpRCwwR0FBMEcsMEVBQTBFLDJEQUEyRCxJQUFJLEtBQUssV0FBVyxvQkFBb0IsNEJBQTRCLElBQUksdUNBQXVDLGlCQUFpQixnREFBZ0QsNEZBQTRGLFFBQVEsaUlBQWlJLHVEQUF1RCw4SEFBOEgsOEJBQThCLElBQUksS0FBSyxhQUFhLHVCQUF1Qiw4QkFBOEIsa0RBQWtELHNCQUFzQixrREFBa0Qsc0JBQXNCLHFKQUFxSiw2R0FBNkcscUJBQXFCLHVCQUF1QixpQkFBaUIsb0NBQW9DLGdDQUFnQyxvQkFBb0IsNERBQTRELHNFQUFzRSxtUEFBbVAsZ0NBQWdDLHlPQUF5Tyw2QkFBNkIsOEJBQThCLGtDQUFrQyxnREFBZ0Qsd0NBQXdDLG1CQUFtQixhQUFhLHNCQUFzQix5Q0FBeUMsV0FBVyxLQUFLLFdBQVcsY0FBYyx3REFBd0QsMkJBQTJCLDZCQUE2QixXQUFXLEtBQUssV0FBVyw2QkFBNkIsNEZBQTRGLHdDQUF3QyxvQkFBb0IsNkJBQTZCLFdBQVcsS0FBSyxXQUFXLFdBQVcsMkJBQTJCLHNFQUFzRSxNQUFNLHNDQUFzQyw4QkFBOEIsRUFBRSwySEFBMkgsdUlBQXVJLG9DQUFvQyxZQUFZLDBEQUEwRCw2T0FBNk8sZ1hBQWdYLG1GQUFtRixzVkFBc1YsaUdBQWlHLG9HQUFvRyxLQUFLLHFGQUFxRixlQUFlLElBQUksa0JBQWtCLHFHQUFxRywrQ0FBK0MsNmJBQTZiLG1DQUFtQyw2QkFBNkIsb0dBQW9HLE1BQU0sU0FBUyxVQUFVLGdCQUFnQixLQUFLLE9BQU8sa0ZBQWtGLDhCQUE4QixtQkFBbUIsbUJBQW1CLE1BQU0sU0FBUyxVQUFVLGdCQUFnQixNQUFNLDhGQUE4RiwwRUFBMEUsOEJBQThCLG1CQUFtQixtQkFBbUIsd0tBQXdLLEVBQUUsbUJBQW1CLElBQUksSUFBSSxJQUFJLHNCQUFzQiwyR0FBMkcsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLHVDQUF1QyxTQUFTLEVBQUUsbUNBQW1DLDRCQUE0QixpQkFBaUIsMEJBQTBCLFlBQVksV0FBVyx1RkFBdUYsNkNBQTZDLGFBQWEsK0JBQStCLG1CQUFtQixPQUFPLGNBQWMseUlBQXlJLDhCQUE4QixHQUFHLFNBQVMsb0JBQW9CLGNBQWMsaUVBQWlFLHdCQUF3QixHQUFHLFVBQVUsc0NBQXNDLGNBQWMsOENBQThDLGNBQWMsb0VBQW9FLG9CQUFvQiwyREFBMkQsb0JBQW9CLEtBQUsseUJBQXlCLEVBQUUsSUFBSSx3QkFBd0IseUJBQXlCLDZCQUE2QixzQkFBc0IsRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDJDQUEyQywwQkFBMEIsWUFBWSx1Q0FBdUMsU0FBUyxFQUFFLGdEQUFnRCx1S0FBdUssaUJBQWlCLFNBQVMsV0FBVyxLQUFLLFdBQVcsR0FBRyxPQUFPLEVBQUUsT0FBTyxFQUFFLDBFQUEwRSxlQUFlLFFBQVEsMEdBQTBHLDJFQUEyRSx3SEFBd0gsSUFBSSxlQUFlLFlBQVksZ0RBQWdELDJGQUEyRiw0QkFBNEIsdURBQXVELG1GQUFtRixtQkFBbUIsc0NBQXNDLGNBQWMsRUFBRSxrQkFBa0IsR0FBRyx1RUFBdUUsc0NBQXNDLEdBQUcsZ0JBQWdCLEVBQUUsR0FBRyxNQUFNLDRGQUE0RixpQkFBaUIsbUZBQW1GLDBHQUEwRyxlQUFlLG9CQUFvQixZQUFZLDJDQUEyQyw0RUFBNEUsaUNBQWlDLGFBQWEsS0FBSyxvQkFBb0IsZUFBZSwyQkFBMkIsNkdBQTZHLDhEQUE4RCxXQUFXLEVBQUUsb0NBQW9DLDBQQUEwUCxrQkFBa0Isd0JBQXdCLHdCQUF3QixFQUFFLCtCQUErQixhQUFhLHdFQUF3RSxjQUFjLCtDQUErQyxjQUFjLDBCQUEwQixtQ0FBbUMsd0JBQXdCLG9CQUFvQixJQUFJLE9BQU8sR0FBRyw0S0FBNEssa0JBQWtCLHVCQUF1QixzQkFBc0IsT0FBTyxvREFBb0QsSUFBSSxXQUFXLFNBQVMsWUFBWSxLQUFLLGNBQWMsZUFBZSxVQUFVLDRCQUE0QixFQUFFLFVBQVUsT0FBTyw0T0FBNE8sRUFBRSxjQUFjLHVGQUF1RixrQkFBa0IsSUFBSSxJQUFJLElBQUksSUFBSSwrS0FBK0ssRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDJDQUEyQywwQkFBMEIsWUFBWSx1Q0FBdUMsU0FBUyxFQUFFLGdGQUFnRiwrREFBK0QsSUFBSSxjQUFjLGdCQUFnQixrRUFBa0UscUJBQXFCLEdBQUcsZUFBZSxFQUFFLFVBQVUsT0FBTyxlQUFlLEVBQUUsa0JBQWtCLElBQUksSUFBSSxJQUFJLE9BQU8sRUFBRSxjQUFjLElBQUksSUFBSSxJQUFJLDJDQUEyQywwQkFBMEIsWUFBWSx1Q0FBdUMsU0FBUyxFQUFFLG9HQUFvRywwUEFBMFAsNEJBQTRCLDBCQUEwQixpSEFBaUgsRUFBRSxjQUFjLGlEQUFpRCwwQkFBMEIsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSw2Q0FBNkMsY0FBYyx1QkFBdUIsMEJBQTBCLFNBQVMsd0JBQXdCLEtBQUssU0FBUyxrQkFBa0IsR0FBRyxjQUFjLFVBQVUsVUFBVSxNQUFNLEdBQUcsR0FBRyxlQUFlLHNGQUFzRixHQUFHLGlCQUFpQix5Q0FBeUMsRUFBRSxLQUFLLFdBQVcsRUFBRSxPQUFPLEVBQUUsZ0RBQWdELEVBQUUsS0FBSyxXQUFXLEdBQUcsT0FBTyxFQUFFLE9BQU8sc0VBQXNFLGNBQWMsZUFBZSxrQkFBa0IsbUJBQW1CLElBQUksT0FBTyxHQUFHLG9GQUFvRixrQkFBa0Isd0NBQXdDLGlCQUFpQiwwQkFBMEIsZUFBZSxHQUFHLGVBQWUsaUhBQWlILHVFQUF1RSxNQUFNLGNBQWMscUJBQXFCLG9CQUFvQixnRUFBZ0UsVUFBVSxVQUFVLFVBQVUsSUFBSSxpQkFBaUIsdURBQXVELFVBQVUsT0FBTyxtQkFBbUIsR0FBRyxpQkFBaUIsZUFBZSxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksdUNBQXVDLFNBQVMsRUFBRSxtREFBbUQsY0FBYyx1QkFBdUIsMEJBQTBCLHNCQUFzQix3QkFBd0IsS0FBSyxRQUFRLGVBQWUsR0FBRyxjQUFjLGdCQUFnQixVQUFVLE1BQU0sR0FBRyxHQUFHLGVBQWUsc0ZBQXNGLEdBQUcsaUJBQWlCLDBDQUEwQyxFQUFFLEtBQUssV0FBVyxFQUFFLE9BQU8sRUFBRSxnREFBZ0QsRUFBRSxLQUFLLFdBQVcsR0FBRyxPQUFPLEVBQUUsT0FBTyxzRUFBc0UsY0FBYyxnQ0FBZ0Msa0JBQWtCLHlCQUF5Qiw0QkFBNEIsc0NBQXNDLFlBQVksTUFBTSxxQkFBcUIsK0JBQStCLGVBQWUsb0ZBQW9GLGdDQUFnQyx3QkFBd0IsdUJBQXVCLHVCQUF1QixlQUFlLElBQUksZUFBZSxpSEFBaUgsdUVBQXVFLE1BQU0sY0FBYyxpQ0FBaUMsa0JBQWtCLHFEQUFxRCxlQUFlLEVBQUUsY0FBYyxJQUFJLElBQUksSUFBSSwyQ0FBMkMsMEJBQTBCLFlBQVksdUNBQXVDLFNBQVMsRUFBRSx1QkFBdUIsNERBQTRELHNGQUFzRix5Q0FBeUMsZUFBZSxNQUFNLCtGQUErRixpQkFBaUIsWUFBWSxtRkFBbUYsd0JBQXdCLGtDQUFrQyxvT0FBb08sdURBQXVELHlZQUF5WSw0RUFBNEUsOEJBQThCLE1BQU0sMEJBQTBCLE1BQU0sMEJBQTBCLE1BQU0sNEJBQTRCLE1BQU0sb0VBQW9FLFdBQVcsTUFBTSxvREFBb0QsYUFBYSxpV0FBaVcsK0NBQStDLHlIQUF5SCxxRkFBcUYsMkNBQTJDLGNBQWMsc1lBQXNZLDBCQUEwQiwwQkFBMEIsSUFBSSxzQkFBc0IsMkJBQTJCLGlCQUFpQixZQUFZLFVBQVUsVUFBVSxVQUFVLFdBQVcsb0JBQW9CLHNCQUFzQixrREFBa0QsRUFBRSxhQUFhLDJCQUEyQixlQUFlLEdBQUcsMkJBQTJCLGNBQWMsR0FBRyxFQUFFLG1CQUFtQixlQUFlLEVBQUUsYUFBYSxJQUFJLElBQUksSUFBSSw4REFBOEQsa0JBQWtCLDJDQUEyQyxnRUFBZ0UsNkJBQTZCLGFBQWEsZ0NBQWdDLG1CQUFtQiw2QkFBNkIsMkRBQTJELG1DQUFtQyxzQkFBc0IsR0FBRyxlQUFlLGFBQWEsb0NBQW9DLDRCQUE0QixTQUFTLDhGQUE4RixpQkFBaUIscUNBQXFDLHFGQUFxRixzQ0FBc0MsMEJBQTBCLFlBQVksc0NBQXNDLFNBQVMsRUFBRSxvSkFBb0osZ0JBQWdCLHdCQUF3QixnQkFBZ0Isc0NBQXNDLGdCQUFnQixxQ0FBcUMsZ0JBQWdCLG1CQUFtQixnQkFBZ0IscUJBQXFCLHdDQUF3Qyw2QkFBNkIsd0JBQXdCLEVBQUUsZ0JBQWdCLDhCQUE4QixvQkFBb0IsV0FBVyxXQUFXLFlBQVksdUNBQXVDLDZCQUE2Qix1QkFBdUIsR0FBRyxFQUFFLGNBQWMsSUFBSSxJQUFJLElBQUksZ0VBQWdFLGtCQUFrQiwyQ0FBMkMsZ0VBQWdFLDZCQUE2QixhQUFhLGdDQUFnQyxtQkFBbUIsNkJBQTZCLDZEQUE2RCxtQ0FBbUMsc0JBQXNCLEdBQUcsZUFBZSxhQUFhLHNDQUFzQyw0QkFBNEIsU0FBUyw4RkFBOEYsaUJBQWlCLHVDQUF1QyxzRkFBc0YsdUNBQXVDLFNBQVMsRUFBRSxnQkFBZ0IsY0FBYyxhQUFhLEVBQUU7QUFDeDJyQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGNBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQyxnQkFBZ0IsS0FBSztBQUNyQjtBQUNBLGdCQUFnQixzQkFBc0I7QUFDdEMsZ0JBQWdCLG9CQUFvQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1QkFBdUI7QUFDdkM7QUFDQSw4REFBOEQsK0JBQStCO0FBQzdGO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQSxrR0FBa0csK0JBQStCO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwQ0FBTTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLCtCQUErQjtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsWUFBWSxJQUFJLGNBQWMsRUFBRSxrRUFBa0U7QUFDekw7QUFDQTtBQUNBLHVIQUF1SCxZQUFZLElBQUksY0FBYztBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsa0VBQWtFLElBQUksTUFBTTtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRix1QkFBdUI7QUFDeEc7QUFDQSw4RkFBOEYsMEJBQTBCO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esc0ZBQXNGLHdCQUF3QjtBQUM5RztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsMENBQTBDLGlCQUFpQjtBQUMzRDtBQUNBLDBDQUEwQyxpQkFBaUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixLQUFLO0FBQ3JCO0FBQ0EsZ0JBQWdCLHNCQUFzQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLEtBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0JBQStCLHNCQUFzQiwrQkFBK0IsR0FBRyxhQUFhO0FBQ2hJO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELCtCQUErQixnQkFBZ0IsK0JBQStCO0FBQzNJO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdDQUFnQztBQUNoRTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0RBQStEO0FBQ25GLHlDQUF5QywwQ0FBMEMsMENBQTBDO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsWUFBWSxjQUFjLDBDQUFNLHNEQUFzRDtBQUNsSjtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QyxnREFBZ0QsMENBQU0sU0FBUyxTQUFTLEdBQUcsU0FBUyxzQkFBc0I7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDO0FBQ0E7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQix5Q0FBeUMsS0FBSztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdDQUFnQztBQUM1RDtBQUNBLGdDQUFnQyxJQUFJO0FBQ3BDO0FBQ0E7QUFDQSxtREFBbUQsa0JBQWtCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFNBQVM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFtQjtBQUMxQyx3QkFBd0IsSUFBSTtBQUM1Qix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLElBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsSUFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnQzs7Ozs7OztVQ2xqSWhDO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7O1dDdEJBOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQSxHQUFHO1dBQ0g7V0FDQTtXQUNBLENBQUM7Ozs7O1dDUEQ7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7Ozs7Ozs7Ozs7OztBQ044RDtBQUVQO0FBRXZELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxLQUFLLElBQUksRUFBRTtJQUN0RCxNQUFNLGNBQWMsR0FBRyxNQUFNLG9FQUF5QixFQUFFLENBQUM7SUFDekQsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7SUFFNUIsSUFBSSxjQUFjLEVBQUUsb0JBQW9CLEVBQUUsT0FBTyxFQUFFLENBQUM7UUFDbkQsTUFBTSwrQkFBK0IsR0FBRyxDQUFDLE1BQU0sNEVBQW9CLENBQ2xFLGNBQWMsRUFBRSxvQkFBb0IsRUFBRSxhQUFhLENBQ25ELENBQWtFLENBQUM7UUFDcEUsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLCtCQUErQixDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNELEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUNqRyxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3AvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItc3RhcnRlci11c2UtaW50ZXJvcC0tY2xvdWQtaW50ZXJvcC8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItc3RhcnRlci11c2UtaW50ZXJvcC0tY2xvdWQtaW50ZXJvcC8uL2NsaWVudC9zcmMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3AvLi9ub2RlX21vZHVsZXMvQG9wZW5maW4vY2xvdWQtaW50ZXJvcC9vdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3Avd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3Avd2VicGFjay9ydW50aW1lL2FtZCBvcHRpb25zIiwid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jb250YWluZXItc3RhcnRlci11c2UtaW50ZXJvcC0tY2xvdWQtaW50ZXJvcC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2NvbnRhaW5lci1zdGFydGVyLXVzZS1pbnRlcm9wLS1jbG91ZC1pbnRlcm9wL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXN0YXJ0ZXItdXNlLWludGVyb3AtLWNsb3VkLWludGVyb3Avd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jb250YWluZXItc3RhcnRlci11c2UtaW50ZXJvcC0tY2xvdWQtaW50ZXJvcC8uL2NsaWVudC9zcmMvcHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG5jb25zdCBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxuY29uc3QgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxuY29uc3QgY3VzdG9tSW5zcGVjdFN5bWJvbCA9XG4gICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2xbJ2ZvciddID09PSAnZnVuY3Rpb24nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgID8gU3ltYm9sWydmb3InXSgnbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvblxuICAgIDogbnVsbFxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbmNvbnN0IEtfTUFYX0xFTkdUSCA9IDB4N2ZmZmZmZmZcbmV4cG9ydHMua01heExlbmd0aCA9IEtfTUFYX0xFTkdUSFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBQcmludCB3YXJuaW5nIGFuZCByZWNvbW1lbmQgdXNpbmcgYGJ1ZmZlcmAgdjQueCB3aGljaCBoYXMgYW4gT2JqZWN0XG4gKiAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBXZSByZXBvcnQgdGhhdCB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBpZiB0aGUgYXJlIG5vdCBzdWJjbGFzc2FibGVcbiAqIHVzaW5nIF9fcHJvdG9fXy4gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWBcbiAqIChTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOCkuIElFIDEwIGxhY2tzIHN1cHBvcnRcbiAqIGZvciBfX3Byb3RvX18gYW5kIGhhcyBhIGJ1Z2d5IHR5cGVkIGFycmF5IGltcGxlbWVudGF0aW9uLlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICBjb25zb2xlLmVycm9yKFxuICAgICdUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgJyArXG4gICAgJ2BidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuJ1xuICApXG59XG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgLy8gQ2FuIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkP1xuICB0cnkge1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgY29uc3QgcHJvdG8gPSB7IGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfSB9XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3RvLCBVaW50OEFycmF5LnByb3RvdHlwZSlcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXJyLCBwcm90bylcbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MlxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlci5wcm90b3R5cGUsICdwYXJlbnQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHRoaXMpKSByZXR1cm4gdW5kZWZpbmVkXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyXG4gIH1cbn0pXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIucHJvdG90eXBlLCAnb2Zmc2V0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0aGlzKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgIHJldHVybiB0aGlzLmJ5dGVPZmZzZXRcbiAgfVxufSlcblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKGxlbmd0aCA+IEtfTUFYX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgXCInICsgbGVuZ3RoICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYnVmLCBCdWZmZXIucHJvdG90eXBlKVxuICByZXR1cm4gYnVmXG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUoYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuZnVuY3Rpb24gZnJvbSAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5Vmlldyh2YWx1ZSlcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCAnICtcbiAgICAgICdvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB2YWx1ZSlcbiAgICApXG4gIH1cblxuICBpZiAoaXNJbnN0YW5jZSh2YWx1ZSwgQXJyYXlCdWZmZXIpIHx8XG4gICAgICAodmFsdWUgJiYgaXNJbnN0YW5jZSh2YWx1ZS5idWZmZXIsIEFycmF5QnVmZmVyKSkpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgKGlzSW5zdGFuY2UodmFsdWUsIFNoYXJlZEFycmF5QnVmZmVyKSB8fFxuICAgICAgKHZhbHVlICYmIGlzSW5zdGFuY2UodmFsdWUuYnVmZmVyLCBTaGFyZWRBcnJheUJ1ZmZlcikpKSkge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdUaGUgXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcidcbiAgICApXG4gIH1cblxuICBjb25zdCB2YWx1ZU9mID0gdmFsdWUudmFsdWVPZiAmJiB2YWx1ZS52YWx1ZU9mKClcbiAgaWYgKHZhbHVlT2YgIT0gbnVsbCAmJiB2YWx1ZU9mICE9PSB2YWx1ZSkge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZU9mLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBjb25zdCBiID0gZnJvbU9iamVjdCh2YWx1ZSlcbiAgaWYgKGIpIHJldHVybiBiXG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1ByaW1pdGl2ZSAhPSBudWxsICYmXG4gICAgICB0eXBlb2YgdmFsdWVbU3ltYm9sLnRvUHJpbWl0aXZlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZVtTeW1ib2wudG9QcmltaXRpdmVdKCdzdHJpbmcnKSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgJyArXG4gICAgJ29yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyAodHlwZW9mIHZhbHVlKVxuICApXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20odmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuLy8gTm90ZTogQ2hhbmdlIHByb3RvdHlwZSAqYWZ0ZXIqIEJ1ZmZlci5mcm9tIGlzIGRlZmluZWQgdG8gd29ya2Fyb3VuZCBDaHJvbWUgYnVnOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC8xNDhcbk9iamVjdC5zZXRQcm90b3R5cGVPZihCdWZmZXIucHJvdG90eXBlLCBVaW50OEFycmF5LnByb3RvdHlwZSlcbk9iamVjdC5zZXRQcm90b3R5cGVPZihCdWZmZXIsIFVpbnQ4QXJyYXkpXG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyBzaXplICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcInNpemVcIicpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIoc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcihzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2Moc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlIChzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcihzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgfVxuXG4gIGNvbnN0IGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIGxldCBidWYgPSBjcmVhdGVCdWZmZXIobGVuZ3RoKVxuXG4gIGNvbnN0IGFjdHVhbCA9IGJ1Zi53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgYnVmID0gYnVmLnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAoYXJyYXkpIHtcbiAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIGNvbnN0IGJ1ZiA9IGNyZWF0ZUJ1ZmZlcihsZW5ndGgpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBidWZbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5VmlldyAoYXJyYXlWaWV3KSB7XG4gIGlmIChpc0luc3RhbmNlKGFycmF5VmlldywgVWludDhBcnJheSkpIHtcbiAgICBjb25zdCBjb3B5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlWaWV3KVxuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIoY29weS5idWZmZXIsIGNvcHkuYnl0ZU9mZnNldCwgY29weS5ieXRlTGVuZ3RoKVxuICB9XG4gIHJldHVybiBmcm9tQXJyYXlMaWtlKGFycmF5Vmlldylcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyIChhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcIm9mZnNldFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGxldCBidWZcbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGJ1ZiA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihidWYsIEJ1ZmZlci5wcm90b3R5cGUpXG5cbiAgcmV0dXJuIGJ1ZlxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0IChvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgY29uc3QgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICBjb25zdCBidWYgPSBjcmVhdGVCdWZmZXIobGVuKVxuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBidWZcbiAgICB9XG5cbiAgICBvYmouY29weShidWYsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gYnVmXG4gIH1cblxuICBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBudW1iZXJJc05hTihvYmoubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcigwKVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5TGlrZShvYmopXG4gIH1cblxuICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIEFycmF5LmlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUxpa2Uob2JqLmRhdGEpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IEtfTUFYX0xFTkdUSGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBLX01BWF9MRU5HVEgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsgS19NQVhfTEVOR1RILnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyID09PSB0cnVlICYmXG4gICAgYiAhPT0gQnVmZmVyLnByb3RvdHlwZSAvLyBzbyBCdWZmZXIuaXNCdWZmZXIoQnVmZmVyLnByb3RvdHlwZSkgd2lsbCBiZSBmYWxzZVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKGlzSW5zdGFuY2UoYSwgVWludDhBcnJheSkpIGEgPSBCdWZmZXIuZnJvbShhLCBhLm9mZnNldCwgYS5ieXRlTGVuZ3RoKVxuICBpZiAoaXNJbnN0YW5jZShiLCBVaW50OEFycmF5KSkgYiA9IEJ1ZmZlci5mcm9tKGIsIGIub2Zmc2V0LCBiLmJ5dGVMZW5ndGgpXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcImJ1ZjFcIiwgXCJidWYyXCIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknXG4gICAgKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgbGV0IHggPSBhLmxlbmd0aFxuICBsZXQgeSA9IGIubGVuZ3RoXG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICBsZXQgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIGxldCBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoaXNJbnN0YW5jZShidWYsIFVpbnQ4QXJyYXkpKSB7XG4gICAgICBpZiAocG9zICsgYnVmLmxlbmd0aCA+IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgYnVmID0gQnVmZmVyLmZyb20oYnVmKVxuICAgICAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICBidWYsXG4gICAgICAgICAgcG9zXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgfVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IGlzSW5zdGFuY2Uoc3RyaW5nLCBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiAnICtcbiAgICAgICdSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2Ygc3RyaW5nXG4gICAgKVxuICB9XG5cbiAgY29uc3QgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBjb25zdCBtdXN0TWF0Y2ggPSAoYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdID09PSB0cnVlKVxuICBpZiAoIW11c3RNYXRjaCAmJiBsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIGxldCBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHtcbiAgICAgICAgICByZXR1cm4gbXVzdE1hdGNoID8gLTEgOiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICB9XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICBsZXQgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcmNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIChhbmQgdGhlIGBpcy1idWZmZXJgIG5wbSBwYWNrYWdlKVxuLy8gdG8gZGV0ZWN0IGEgQnVmZmVyIGluc3RhbmNlLiBJdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgYGluc3RhbmNlb2YgQnVmZmVyYFxuLy8gcmVsaWFibHkgaW4gYSBicm93c2VyaWZ5IGNvbnRleHQgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBkaWZmZXJlbnRcbi8vIGNvcGllcyBvZiB0aGUgJ2J1ZmZlcicgcGFja2FnZSBpbiB1c2UuIFRoaXMgbWV0aG9kIHdvcmtzIGV2ZW4gZm9yIEJ1ZmZlclxuLy8gaW5zdGFuY2VzIHRoYXQgd2VyZSBjcmVhdGVkIGZyb20gYW5vdGhlciBjb3B5IG9mIHRoZSBgYnVmZmVyYCBwYWNrYWdlLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9pc3N1ZXMvMTU0XG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICBjb25zdCBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIGNvbnN0IGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICBjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZyA9IEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmdcblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICBsZXQgc3RyID0gJydcbiAgY29uc3QgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLnJlcGxhY2UoLyguezJ9KS9nLCAnJDEgJykudHJpbSgpXG4gIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cbmlmIChjdXN0b21JbnNwZWN0U3ltYm9sKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGVbY3VzdG9tSW5zcGVjdFN5bWJvbF0gPSBCdWZmZXIucHJvdG90eXBlLmluc3BlY3Rcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKGlzSW5zdGFuY2UodGFyZ2V0LCBVaW50OEFycmF5KSkge1xuICAgIHRhcmdldCA9IEJ1ZmZlci5mcm9tKHRhcmdldCwgdGFyZ2V0Lm9mZnNldCwgdGFyZ2V0LmJ5dGVMZW5ndGgpXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gJyArXG4gICAgICAnUmVjZWl2ZWQgdHlwZSAnICsgKHR5cGVvZiB0YXJnZXQpXG4gICAgKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgbGV0IHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIGxldCB5ID0gZW5kIC0gc3RhcnRcbiAgY29uc3QgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICBjb25zdCB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICBjb25zdCB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAobnVtYmVySXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmICh0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbdmFsXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgbGV0IGluZGV4U2l6ZSA9IDFcbiAgbGV0IGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgbGV0IHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgbGV0IGlcbiAgaWYgKGRpcikge1xuICAgIGxldCBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgY29uc3QgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGxldCBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAobnVtYmVySXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA+Pj4gMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIGNvbnN0IHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgbGV0IGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICBjb25zdCByZXMgPSBbXVxuXG4gIGxldCBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICBjb25zdCBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICBsZXQgY29kZVBvaW50ID0gbnVsbFxuICAgIGxldCBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpXG4gICAgICA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpXG4gICAgICAgICAgPyAzXG4gICAgICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRilcbiAgICAgICAgICAgICAgPyAyXG4gICAgICAgICAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgbGV0IHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxuY29uc3QgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIGNvbnN0IGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgbGV0IHJlcyA9ICcnXG4gIGxldCBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBsZXQgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgbGV0IHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgY29uc3QgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIGxldCBvdXQgPSAnJ1xuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSBoZXhTbGljZUxvb2t1cFRhYmxlW2J1ZltpXV1cbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGNvbnN0IGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIGxldCByZXMgPSAnJ1xuICAvLyBJZiBieXRlcy5sZW5ndGggaXMgb2RkLCB0aGUgbGFzdCA4IGJpdHMgbXVzdCBiZSBpZ25vcmVkIChzYW1lIGFzIG5vZGUuanMpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoIC0gMTsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyAoYnl0ZXNbaSArIDFdICogMjU2KSlcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICBjb25zdCBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIGNvbnN0IG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2VcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG5ld0J1ZiwgQnVmZmVyLnByb3RvdHlwZSlcblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50TEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXRdXG4gIGxldCBtdWwgPSAxXG4gIGxldCBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnRCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIGxldCB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgbGV0IG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50OCA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MTZMRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVpbnQxNkJFID1cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVWludDMyTEUgPVxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVaW50MzJCRSA9XG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdVSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnVUludDY0TEUgKG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgY29uc3QgZmlyc3QgPSB0aGlzW29mZnNldF1cbiAgY29uc3QgbGFzdCA9IHRoaXNbb2Zmc2V0ICsgN11cbiAgaWYgKGZpcnN0ID09PSB1bmRlZmluZWQgfHwgbGFzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYm91bmRzRXJyb3Iob2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDgpXG4gIH1cblxuICBjb25zdCBsbyA9IGZpcnN0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMjRcblxuICBjb25zdCBoaSA9IHRoaXNbKytvZmZzZXRdICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICBsYXN0ICogMiAqKiAyNFxuXG4gIHJldHVybiBCaWdJbnQobG8pICsgKEJpZ0ludChoaSkgPDwgQmlnSW50KDMyKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdVSW50NjRCRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IGhpID0gZmlyc3QgKiAyICoqIDI0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICB0aGlzWysrb2Zmc2V0XVxuXG4gIGNvbnN0IGxvID0gdGhpc1srK29mZnNldF0gKiAyICoqIDI0ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogMTYgK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiA4ICtcbiAgICBsYXN0XG5cbiAgcmV0dXJuIChCaWdJbnQoaGkpIDw8IEJpZ0ludCgzMikpICsgQmlnSW50KGxvKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgbGV0IHZhbCA9IHRoaXNbb2Zmc2V0XVxuICBsZXQgbXVsID0gMVxuICBsZXQgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIGxldCBpID0gYnl0ZUxlbmd0aFxuICBsZXQgbXVsID0gMVxuICBsZXQgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIGNvbnN0IHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRCaWdJbnQ2NExFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHJlYWRCaWdJbnQ2NExFIChvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIHZhbGlkYXRlTnVtYmVyKG9mZnNldCwgJ29mZnNldCcpXG4gIGNvbnN0IGZpcnN0ID0gdGhpc1tvZmZzZXRdXG4gIGNvbnN0IGxhc3QgPSB0aGlzW29mZnNldCArIDddXG4gIGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkIHx8IGxhc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIGJvdW5kc0Vycm9yKG9mZnNldCwgdGhpcy5sZW5ndGggLSA4KVxuICB9XG5cbiAgY29uc3QgdmFsID0gdGhpc1tvZmZzZXQgKyA0XSArXG4gICAgdGhpc1tvZmZzZXQgKyA1XSAqIDIgKiogOCArXG4gICAgdGhpc1tvZmZzZXQgKyA2XSAqIDIgKiogMTYgK1xuICAgIChsYXN0IDw8IDI0KSAvLyBPdmVyZmxvd1xuXG4gIHJldHVybiAoQmlnSW50KHZhbCkgPDwgQmlnSW50KDMyKSkgK1xuICAgIEJpZ0ludChmaXJzdCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDI0KVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiByZWFkQmlnSW50NjRCRSAob2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICB2YWxpZGF0ZU51bWJlcihvZmZzZXQsICdvZmZzZXQnKVxuICBjb25zdCBmaXJzdCA9IHRoaXNbb2Zmc2V0XVxuICBjb25zdCBsYXN0ID0gdGhpc1tvZmZzZXQgKyA3XVxuICBpZiAoZmlyc3QgPT09IHVuZGVmaW5lZCB8fCBsYXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIHRoaXMubGVuZ3RoIC0gOClcbiAgfVxuXG4gIGNvbnN0IHZhbCA9IChmaXJzdCA8PCAyNCkgKyAvLyBPdmVyZmxvd1xuICAgIHRoaXNbKytvZmZzZXRdICogMiAqKiAxNiArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDggK1xuICAgIHRoaXNbKytvZmZzZXRdXG5cbiAgcmV0dXJuIChCaWdJbnQodmFsKSA8PCBCaWdJbnQoMzIpKSArXG4gICAgQmlnSW50KHRoaXNbKytvZmZzZXRdICogMiAqKiAyNCArXG4gICAgdGhpc1srK29mZnNldF0gKiAyICoqIDE2ICtcbiAgICB0aGlzWysrb2Zmc2V0XSAqIDIgKiogOCArXG4gICAgbGFzdClcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludExFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIGxldCBtdWwgPSAxXG4gIGxldCBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50QkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNvbnN0IG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgbGV0IGkgPSBieXRlTGVuZ3RoIC0gMVxuICBsZXQgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQ4ID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDE2TEUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFID1cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVaW50MzJMRSA9XG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVWludDMyQkUgPVxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gd3J0QmlnVUludDY0TEUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbWluLCBtYXgpIHtcbiAgY2hlY2tJbnRCSSh2YWx1ZSwgbWluLCBtYXgsIGJ1Ziwgb2Zmc2V0LCA3KVxuXG4gIGxldCBsbyA9IE51bWJlcih2YWx1ZSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0KytdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGxvXG4gIGxldCBoaSA9IE51bWJlcih2YWx1ZSA+PiBCaWdJbnQoMzIpICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQrK10gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldCsrXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0KytdID0gaGlcbiAgcmV0dXJuIG9mZnNldFxufVxuXG5mdW5jdGlvbiB3cnRCaWdVSW50NjRCRSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBtaW4sIG1heCkge1xuICBjaGVja0ludEJJKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIDcpXG5cbiAgbGV0IGxvID0gTnVtYmVyKHZhbHVlICYgQmlnSW50KDB4ZmZmZmZmZmYpKVxuICBidWZbb2Zmc2V0ICsgN10gPSBsb1xuICBsbyA9IGxvID4+IDhcbiAgYnVmW29mZnNldCArIDZdID0gbG9cbiAgbG8gPSBsbyA+PiA4XG4gIGJ1ZltvZmZzZXQgKyA1XSA9IGxvXG4gIGxvID0gbG8gPj4gOFxuICBidWZbb2Zmc2V0ICsgNF0gPSBsb1xuICBsZXQgaGkgPSBOdW1iZXIodmFsdWUgPj4gQmlnSW50KDMyKSAmIEJpZ0ludCgweGZmZmZmZmZmKSlcbiAgYnVmW29mZnNldCArIDNdID0gaGlcbiAgaGkgPSBoaSA+PiA4XG4gIGJ1ZltvZmZzZXQgKyAyXSA9IGhpXG4gIGhpID0gaGkgPj4gOFxuICBidWZbb2Zmc2V0ICsgMV0gPSBoaVxuICBoaSA9IGhpID4+IDhcbiAgYnVmW29mZnNldF0gPSBoaVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEUgPSBkZWZpbmVCaWdJbnRNZXRob2QoZnVuY3Rpb24gd3JpdGVCaWdVSW50NjRMRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NExFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIEJpZ0ludCgwKSwgQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ1VJbnQ2NEJFICh2YWx1ZSwgb2Zmc2V0ID0gMCkge1xuICByZXR1cm4gd3J0QmlnVUludDY0QkUodGhpcywgdmFsdWUsIG9mZnNldCwgQmlnSW50KDApLCBCaWdJbnQoJzB4ZmZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICBsZXQgaSA9IDBcbiAgbGV0IG11bCA9IDFcbiAgbGV0IHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgucG93KDIsICg4ICogYnl0ZUxlbmd0aCkgLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICBsZXQgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIGxldCBtdWwgPSAxXG4gIGxldCBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCA+Pj4gMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlQmlnSW50NjRMRSA9IGRlZmluZUJpZ0ludE1ldGhvZChmdW5jdGlvbiB3cml0ZUJpZ0ludDY0TEUgKHZhbHVlLCBvZmZzZXQgPSAwKSB7XG4gIHJldHVybiB3cnRCaWdVSW50NjRMRSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAtQmlnSW50KCcweDgwMDAwMDAwMDAwMDAwMDAnKSwgQmlnSW50KCcweDdmZmZmZmZmZmZmZmZmZmYnKSlcbn0pXG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NEJFID0gZGVmaW5lQmlnSW50TWV0aG9kKGZ1bmN0aW9uIHdyaXRlQmlnSW50NjRCRSAodmFsdWUsIG9mZnNldCA9IDApIHtcbiAgcmV0dXJuIHdydEJpZ1VJbnQ2NEJFKHRoaXMsIHZhbHVlLCBvZmZzZXQsIC1CaWdJbnQoJzB4ODAwMDAwMDAwMDAwMDAwMCcpLCBCaWdJbnQoJzB4N2ZmZmZmZmZmZmZmZmZmZicpKVxufSlcblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgPj4+IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0ID4+PiAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyJylcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIGNvbnN0IGxlbiA9IGVuZCAtIHN0YXJ0XG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFVzZSBidWlsdC1pbiB3aGVuIGF2YWlsYWJsZSwgbWlzc2luZyBmcm9tIElFMTFcbiAgICB0aGlzLmNvcHlXaXRoaW4odGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpXG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgY29uc3QgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoKGVuY29kaW5nID09PSAndXRmOCcgJiYgY29kZSA8IDEyOCkgfHxcbiAgICAgICAgICBlbmNvZGluZyA9PT0gJ2xhdGluMScpIHtcbiAgICAgICAgLy8gRmFzdCBwYXRoOiBJZiBgdmFsYCBmaXRzIGludG8gYSBzaW5nbGUgYnl0ZSwgdXNlIHRoYXQgbnVtZXJpYyB2YWx1ZS5cbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xuICAgIHZhbCA9IE51bWJlcih2YWwpXG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgbGV0IGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICAgIGNvbnN0IGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSBcIicgKyB2YWwgK1xuICAgICAgICAnXCIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgXCJ2YWx1ZVwiJylcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gQ1VTVE9NIEVSUk9SU1xuLy8gPT09PT09PT09PT09PVxuXG4vLyBTaW1wbGlmaWVkIHZlcnNpb25zIGZyb20gTm9kZSwgY2hhbmdlZCBmb3IgQnVmZmVyLW9ubHkgdXNhZ2VcbmNvbnN0IGVycm9ycyA9IHt9XG5mdW5jdGlvbiBFIChzeW0sIGdldE1lc3NhZ2UsIEJhc2UpIHtcbiAgZXJyb3JzW3N5bV0gPSBjbGFzcyBOb2RlRXJyb3IgZXh0ZW5kcyBCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICBzdXBlcigpXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbWVzc2FnZScsIHtcbiAgICAgICAgdmFsdWU6IGdldE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgLy8gQWRkIHRoZSBlcnJvciBjb2RlIHRvIHRoZSBuYW1lIHRvIGluY2x1ZGUgaXQgaW4gdGhlIHN0YWNrIHRyYWNlLlxuICAgICAgdGhpcy5uYW1lID0gYCR7dGhpcy5uYW1lfSBbJHtzeW19XWBcbiAgICAgIC8vIEFjY2VzcyB0aGUgc3RhY2sgdG8gZ2VuZXJhdGUgdGhlIGVycm9yIG1lc3NhZ2UgaW5jbHVkaW5nIHRoZSBlcnJvciBjb2RlXG4gICAgICAvLyBmcm9tIHRoZSBuYW1lLlxuICAgICAgdGhpcy5zdGFjayAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuICAgICAgLy8gUmVzZXQgdGhlIG5hbWUgdG8gdGhlIGFjdHVhbCBuYW1lLlxuICAgICAgZGVsZXRlIHRoaXMubmFtZVxuICAgIH1cblxuICAgIGdldCBjb2RlICgpIHtcbiAgICAgIHJldHVybiBzeW1cbiAgICB9XG5cbiAgICBzZXQgY29kZSAodmFsdWUpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnY29kZScsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdG9TdHJpbmcgKCkge1xuICAgICAgcmV0dXJuIGAke3RoaXMubmFtZX0gWyR7c3ltfV06ICR7dGhpcy5tZXNzYWdlfWBcbiAgICB9XG4gIH1cbn1cblxuRSgnRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTJyxcbiAgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuIGAke25hbWV9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2BcbiAgICB9XG5cbiAgICByZXR1cm4gJ0F0dGVtcHQgdG8gYWNjZXNzIG1lbW9yeSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnXG4gIH0sIFJhbmdlRXJyb3IpXG5FKCdFUlJfSU5WQUxJRF9BUkdfVFlQRScsXG4gIGZ1bmN0aW9uIChuYW1lLCBhY3R1YWwpIHtcbiAgICByZXR1cm4gYFRoZSBcIiR7bmFtZX1cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIGFjdHVhbH1gXG4gIH0sIFR5cGVFcnJvcilcbkUoJ0VSUl9PVVRfT0ZfUkFOR0UnLFxuICBmdW5jdGlvbiAoc3RyLCByYW5nZSwgaW5wdXQpIHtcbiAgICBsZXQgbXNnID0gYFRoZSB2YWx1ZSBvZiBcIiR7c3RyfVwiIGlzIG91dCBvZiByYW5nZS5gXG4gICAgbGV0IHJlY2VpdmVkID0gaW5wdXRcbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihpbnB1dCkgJiYgTWF0aC5hYnMoaW5wdXQpID4gMiAqKiAzMikge1xuICAgICAgcmVjZWl2ZWQgPSBhZGROdW1lcmljYWxTZXBhcmF0b3IoU3RyaW5nKGlucHV0KSlcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ2JpZ2ludCcpIHtcbiAgICAgIHJlY2VpdmVkID0gU3RyaW5nKGlucHV0KVxuICAgICAgaWYgKGlucHV0ID4gQmlnSW50KDIpICoqIEJpZ0ludCgzMikgfHwgaW5wdXQgPCAtKEJpZ0ludCgyKSAqKiBCaWdJbnQoMzIpKSkge1xuICAgICAgICByZWNlaXZlZCA9IGFkZE51bWVyaWNhbFNlcGFyYXRvcihyZWNlaXZlZClcbiAgICAgIH1cbiAgICAgIHJlY2VpdmVkICs9ICduJ1xuICAgIH1cbiAgICBtc2cgKz0gYCBJdCBtdXN0IGJlICR7cmFuZ2V9LiBSZWNlaXZlZCAke3JlY2VpdmVkfWBcbiAgICByZXR1cm4gbXNnXG4gIH0sIFJhbmdlRXJyb3IpXG5cbmZ1bmN0aW9uIGFkZE51bWVyaWNhbFNlcGFyYXRvciAodmFsKSB7XG4gIGxldCByZXMgPSAnJ1xuICBsZXQgaSA9IHZhbC5sZW5ndGhcbiAgY29uc3Qgc3RhcnQgPSB2YWxbMF0gPT09ICctJyA/IDEgOiAwXG4gIGZvciAoOyBpID49IHN0YXJ0ICsgNDsgaSAtPSAzKSB7XG4gICAgcmVzID0gYF8ke3ZhbC5zbGljZShpIC0gMywgaSl9JHtyZXN9YFxuICB9XG4gIHJldHVybiBgJHt2YWwuc2xpY2UoMCwgaSl9JHtyZXN9YFxufVxuXG4vLyBDSEVDSyBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBjaGVja0JvdW5kcyAoYnVmLCBvZmZzZXQsIGJ5dGVMZW5ndGgpIHtcbiAgdmFsaWRhdGVOdW1iZXIob2Zmc2V0LCAnb2Zmc2V0JylcbiAgaWYgKGJ1ZltvZmZzZXRdID09PSB1bmRlZmluZWQgfHwgYnVmW29mZnNldCArIGJ5dGVMZW5ndGhdID09PSB1bmRlZmluZWQpIHtcbiAgICBib3VuZHNFcnJvcihvZmZzZXQsIGJ1Zi5sZW5ndGggLSAoYnl0ZUxlbmd0aCArIDEpKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50QkkgKHZhbHVlLCBtaW4sIG1heCwgYnVmLCBvZmZzZXQsIGJ5dGVMZW5ndGgpIHtcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB7XG4gICAgY29uc3QgbiA9IHR5cGVvZiBtaW4gPT09ICdiaWdpbnQnID8gJ24nIDogJydcbiAgICBsZXQgcmFuZ2VcbiAgICBpZiAoYnl0ZUxlbmd0aCA+IDMpIHtcbiAgICAgIGlmIChtaW4gPT09IDAgfHwgbWluID09PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgcmFuZ2UgPSBgPj0gMCR7bn0gYW5kIDwgMiR7bn0gKiogJHsoYnl0ZUxlbmd0aCArIDEpICogOH0ke259YFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFuZ2UgPSBgPj0gLSgyJHtufSAqKiAkeyhieXRlTGVuZ3RoICsgMSkgKiA4IC0gMX0ke259KSBhbmQgPCAyICoqIGAgK1xuICAgICAgICAgICAgICAgIGAkeyhieXRlTGVuZ3RoICsgMSkgKiA4IC0gMX0ke259YFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZSA9IGA+PSAke21pbn0ke259IGFuZCA8PSAke21heH0ke259YFxuICAgIH1cbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9PVVRfT0ZfUkFOR0UoJ3ZhbHVlJywgcmFuZ2UsIHZhbHVlKVxuICB9XG4gIGNoZWNrQm91bmRzKGJ1Ziwgb2Zmc2V0LCBieXRlTGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZU51bWJlciAodmFsdWUsIG5hbWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkVSUl9JTlZBTElEX0FSR19UWVBFKG5hbWUsICdudW1iZXInLCB2YWx1ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBib3VuZHNFcnJvciAodmFsdWUsIGxlbmd0aCwgdHlwZSkge1xuICBpZiAoTWF0aC5mbG9vcih2YWx1ZSkgIT09IHZhbHVlKSB7XG4gICAgdmFsaWRhdGVOdW1iZXIodmFsdWUsIHR5cGUpXG4gICAgdGhyb3cgbmV3IGVycm9ycy5FUlJfT1VUX09GX1JBTkdFKHR5cGUgfHwgJ29mZnNldCcsICdhbiBpbnRlZ2VyJywgdmFsdWUpXG4gIH1cblxuICBpZiAobGVuZ3RoIDwgMCkge1xuICAgIHRocm93IG5ldyBlcnJvcnMuRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTKClcbiAgfVxuXG4gIHRocm93IG5ldyBlcnJvcnMuRVJSX09VVF9PRl9SQU5HRSh0eXBlIHx8ICdvZmZzZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYD49ICR7dHlwZSA/IDEgOiAwfSBhbmQgPD0gJHtsZW5ndGh9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlKVxufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbmNvbnN0IElOVkFMSURfQkFTRTY0X1JFID0gL1teKy8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgdGFrZXMgZXF1YWwgc2lnbnMgYXMgZW5kIG9mIHRoZSBCYXNlNjQgZW5jb2RpbmdcbiAgc3RyID0gc3RyLnNwbGl0KCc9JylbMF1cbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0ci50cmltKCkucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICBsZXQgY29kZVBvaW50XG4gIGNvbnN0IGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgbGV0IGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIGNvbnN0IGJ5dGVzID0gW11cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgY29uc3QgYnl0ZUFycmF5ID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICBsZXQgYywgaGksIGxvXG4gIGNvbnN0IGJ5dGVBcnJheSA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgbGV0IGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbi8vIEFycmF5QnVmZmVyIG9yIFVpbnQ4QXJyYXkgb2JqZWN0cyBmcm9tIG90aGVyIGNvbnRleHRzIChpLmUuIGlmcmFtZXMpIGRvIG5vdCBwYXNzXG4vLyB0aGUgYGluc3RhbmNlb2ZgIGNoZWNrIGJ1dCB0aGV5IHNob3VsZCBiZSB0cmVhdGVkIGFzIG9mIHRoYXQgdHlwZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvaXNzdWVzLzE2NlxuZnVuY3Rpb24gaXNJbnN0YW5jZSAob2JqLCB0eXBlKSB7XG4gIHJldHVybiBvYmogaW5zdGFuY2VvZiB0eXBlIHx8XG4gICAgKG9iaiAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3RvciAhPSBudWxsICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9IG51bGwgJiZcbiAgICAgIG9iai5jb25zdHJ1Y3Rvci5uYW1lID09PSB0eXBlLm5hbWUpXG59XG5mdW5jdGlvbiBudW1iZXJJc05hTiAob2JqKSB7XG4gIC8vIEZvciBJRTExIHN1cHBvcnRcbiAgcmV0dXJuIG9iaiAhPT0gb2JqIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG5cbi8vIENyZWF0ZSBsb29rdXAgdGFibGUgZm9yIGB0b1N0cmluZygnaGV4JylgXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2lzc3Vlcy8yMTlcbmNvbnN0IGhleFNsaWNlTG9va3VwVGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICBjb25zdCBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5YWJjZGVmJ1xuICBjb25zdCB0YWJsZSA9IG5ldyBBcnJheSgyNTYpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgIGNvbnN0IGkxNiA9IGkgKiAxNlxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgdGFibGVbaTE2ICsgal0gPSBhbHBoYWJldFtpXSArIGFscGhhYmV0W2pdXG4gICAgfVxuICB9XG4gIHJldHVybiB0YWJsZVxufSkoKVxuXG4vLyBSZXR1cm4gbm90IGZ1bmN0aW9uIHdpdGggRXJyb3IgaWYgQmlnSW50IG5vdCBzdXBwb3J0ZWRcbmZ1bmN0aW9uIGRlZmluZUJpZ0ludE1ldGhvZCAoZm4pIHtcbiAgcmV0dXJuIHR5cGVvZiBCaWdJbnQgPT09ICd1bmRlZmluZWQnID8gQnVmZmVyQmlnSW50Tm90RGVmaW5lZCA6IGZuXG59XG5cbmZ1bmN0aW9uIEJ1ZmZlckJpZ0ludE5vdERlZmluZWQgKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0JpZ0ludCBub3Qgc3VwcG9ydGVkJylcbn1cbiIsIi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJpbXBvcnQgdHlwZSBPcGVuRmluIGZyb20gXCJAb3BlbmZpbi9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEN1c3RvbVNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcGVzXCI7XG5cbi8qKlxuICogTG9hZCB0aGUgY3VzdG9tU2V0dGluZ3Mgc2VjdGlvbiBmcm9tIHRoZSBhcHBsaWNhdGlvbiBtYW5pZmVzdC5cbiAqIEByZXR1cm5zIFRoZSBjdXN0b20gc2V0dGluZ3MgZnJvbSB0aGUgbWFuaWZlc3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNYW5pZmVzdEN1c3RvbVNldHRpbmdzKCk6IFByb21pc2U8Q3VzdG9tU2V0dGluZ3MgfCB1bmRlZmluZWQ+IHtcblx0Y29uc3QgYXBwID0gYXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnQoKTtcblx0Y29uc3QgbWFuaWZlc3Q6IE9wZW5GaW4uTWFuaWZlc3QgJiB7IGN1c3RvbVNldHRpbmdzPzogQ3VzdG9tU2V0dGluZ3MgfSA9IGF3YWl0IGFwcC5nZXRNYW5pZmVzdCgpO1xuXHRyZXR1cm4gbWFuaWZlc3QuY3VzdG9tU2V0dGluZ3M7XG59XG4iLCJpbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG5jb25zdCB7dG9TdHJpbmd9ID0gT2JqZWN0LnByb3RvdHlwZTtcbmNvbnN0IHtnZXRQcm90b3R5cGVPZn0gPSBPYmplY3Q7XG5cbmNvbnN0IGtpbmRPZiA9IChjYWNoZSA9PiB0aGluZyA9PiB7XG4gICAgY29uc3Qgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGluZyk7XG4gICAgcmV0dXJuIGNhY2hlW3N0cl0gfHwgKGNhY2hlW3N0cl0gPSBzdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGtpbmRPZlRlc3QgPSAodHlwZSkgPT4ge1xuICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKHRoaW5nKSA9PiBraW5kT2YodGhpbmcpID09PSB0eXBlXG59O1xuXG5jb25zdCB0eXBlT2ZUZXN0ID0gdHlwZSA9PiB0aGluZyA9PiB0eXBlb2YgdGhpbmcgPT09IHR5cGU7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCB7aXNBcnJheX0gPSBBcnJheTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VuZGVmaW5lZCA9IHR5cGVPZlRlc3QoJ3VuZGVmaW5lZCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIGlzRnVuY3Rpb24odmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKSAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0FycmF5QnVmZmVyID0ga2luZE9mVGVzdCgnQXJyYXlCdWZmZXInKTtcblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIGxldCByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKGlzQXJyYXlCdWZmZXIodmFsLmJ1ZmZlcikpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJpbmcgPSB0eXBlT2ZUZXN0KCdzdHJpbmcnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Z1bmN0aW9uID0gdHlwZU9mVGVzdCgnZnVuY3Rpb24nKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc051bWJlciA9IHR5cGVPZlRlc3QoJ251bWJlcicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc09iamVjdCA9ICh0aGluZykgPT4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJvb2xlYW5cbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJvb2xlYW4sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jvb2xlYW4gPSB0aGluZyA9PiB0aGluZyA9PT0gdHJ1ZSB8fCB0aGluZyA9PT0gZmFsc2U7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHtcbiAgaWYgKGtpbmRPZih2YWwpICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKHZhbCk7XG4gIHJldHVybiAocHJvdG90eXBlID09PSBudWxsIHx8IHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKSA9PT0gbnVsbCkgJiYgIShTeW1ib2wudG9TdHJpbmdUYWcgaW4gdmFsKSAmJiAhKFN5bWJvbC5pdGVyYXRvciBpbiB2YWwpO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmVhbSA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRm9ybURhdGEgPSAodGhpbmcpID0+IHtcbiAgbGV0IGtpbmQ7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fCAoXG4gICAgICBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgKFxuICAgICAgICAoa2luZCA9IGtpbmRPZih0aGluZykpID09PSAnZm9ybWRhdGEnIHx8XG4gICAgICAgIC8vIGRldGVjdCBmb3JtLWRhdGEgaW5zdGFuY2VcbiAgICAgICAgKGtpbmQgPT09ICdvYmplY3QnICYmIGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEZvcm1EYXRhXScpXG4gICAgICApXG4gICAgKVxuICApXG59O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVUkxTZWFyY2hQYXJhbXMgPSBraW5kT2ZUZXN0KCdVUkxTZWFyY2hQYXJhbXMnKTtcblxuY29uc3QgW2lzUmVhZGFibGVTdHJlYW0sIGlzUmVxdWVzdCwgaXNSZXNwb25zZSwgaXNIZWFkZXJzXSA9IFsnUmVhZGFibGVTdHJlYW0nLCAnUmVxdWVzdCcsICdSZXNwb25zZScsICdIZWFkZXJzJ10ubWFwKGtpbmRPZlRlc3QpO1xuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5jb25zdCB0cmltID0gKHN0cikgPT4gc3RyLnRyaW0gP1xuICBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLCAnJyk7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzID0gZmFsc2VdXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4sIHthbGxPd25LZXlzID0gZmFsc2V9ID0ge30pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaTtcbiAgbGV0IGw7XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGNvbnN0IGtleXMgPSBhbGxPd25LZXlzID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSA6IE9iamVjdC5rZXlzKG9iaik7XG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZEtleShvYmosIGtleSkge1xuICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIGxldCBfa2V5O1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIF9rZXkgPSBrZXlzW2ldO1xuICAgIGlmIChrZXkgPT09IF9rZXkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgcmV0dXJuIF9rZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBfZ2xvYmFsID0gKCgpID0+IHtcbiAgLyplc2xpbnQgbm8tdW5kZWY6MCovXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIHJldHVybiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpXG59KSgpO1xuXG5jb25zdCBpc0NvbnRleHREZWZpbmVkID0gKGNvbnRleHQpID0+ICFpc1VuZGVmaW5lZChjb250ZXh0KSAmJiBjb250ZXh0ICE9PSBfZ2xvYmFsO1xuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIGNvbnN0IHtjYXNlbGVzc30gPSBpc0NvbnRleHREZWZpbmVkKHRoaXMpICYmIHRoaXMgfHwge307XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBjb25zdCBhc3NpZ25WYWx1ZSA9ICh2YWwsIGtleSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldEtleSA9IGNhc2VsZXNzICYmIGZpbmRLZXkocmVzdWx0LCBrZXkpIHx8IGtleTtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChyZXN1bHRbdGFyZ2V0S2V5XSkgJiYgaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHJlc3VsdFt0YXJnZXRLZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbDtcbiAgICB9XG4gIH07XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldICYmIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXNdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmNvbnN0IGV4dGVuZCA9IChhLCBiLCB0aGlzQXJnLCB7YWxsT3duS2V5c309IHt9KSA9PiB7XG4gIGZvckVhY2goYiwgKHZhbCwga2V5KSA9PiB7XG4gICAgaWYgKHRoaXNBcmcgJiYgaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0sIHthbGxPd25LZXlzfSk7XG4gIHJldHVybiBhO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYnl0ZSBvcmRlciBtYXJrZXIuIFRoaXMgY2F0Y2hlcyBFRiBCQiBCRiAodGhlIFVURi04IEJPTSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCB3aXRoIEJPTVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGNvbnRlbnQgdmFsdWUgd2l0aG91dCBCT01cbiAqL1xuY29uc3Qgc3RyaXBCT00gPSAoY29udGVudCkgPT4ge1xuICBpZiAoY29udGVudC5jaGFyQ29kZUF0KDApID09PSAweEZFRkYpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gY29udGVudDtcbn07XG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtwcm9wc11cbiAqIEBwYXJhbSB7b2JqZWN0fSBbZGVzY3JpcHRvcnNdXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGluaGVyaXRzID0gKGNvbnN0cnVjdG9yLCBzdXBlckNvbnN0cnVjdG9yLCBwcm9wcywgZGVzY3JpcHRvcnMpID0+IHtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZGVzY3JpcHRvcnMpO1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3RvcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnc3VwZXInLCB7XG4gICAgdmFsdWU6IHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlXG4gIH0pO1xuICBwcm9wcyAmJiBPYmplY3QuYXNzaWduKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcHMpO1xufTtcblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBbZmlsdGVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BGaWx0ZXJdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgdG9GbGF0T2JqZWN0ID0gKHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyLCBwcm9wRmlsdGVyKSA9PiB7XG4gIGxldCBwcm9wcztcbiAgbGV0IGk7XG4gIGxldCBwcm9wO1xuICBjb25zdCBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIGlmIChzb3VyY2VPYmogPT0gbnVsbCkgcmV0dXJuIGRlc3RPYmo7XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoKCFwcm9wRmlsdGVyIHx8IHByb3BGaWx0ZXIocHJvcCwgc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBmaWx0ZXIgIT09IGZhbHNlICYmIGdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgc3RyaW5nIGVuZHMgd2l0aCB0aGUgY2hhcmFjdGVycyBvZiBhIHNwZWNpZmllZCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nXG4gKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uPSAwXVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBlbmRzV2l0aCA9IChzdHIsIHNlYXJjaFN0cmluZywgcG9zaXRpb24pID0+IHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID4gc3RyLmxlbmd0aCkge1xuICAgIHBvc2l0aW9uID0gc3RyLmxlbmd0aDtcbiAgfVxuICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICBjb25zdCBsYXN0SW5kZXggPSBzdHIuaW5kZXhPZihzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKTtcbiAgcmV0dXJuIGxhc3RJbmRleCAhPT0gLTEgJiYgbGFzdEluZGV4ID09PSBwb3NpdGlvbjtcbn07XG5cblxuLyoqXG4gKiBSZXR1cm5zIG5ldyBhcnJheSBmcm9tIGFycmF5IGxpa2Ugb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKlxuICogQHBhcmFtIHsqfSBbdGhpbmddXG4gKlxuICogQHJldHVybnMgez9BcnJheX1cbiAqL1xuY29uc3QgdG9BcnJheSA9ICh0aGluZykgPT4ge1xuICBpZiAoIXRoaW5nKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlzQXJyYXkodGhpbmcpKSByZXR1cm4gdGhpbmc7XG4gIGxldCBpID0gdGhpbmcubGVuZ3RoO1xuICBpZiAoIWlzTnVtYmVyKGkpKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgYXJyID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGFycltpXSA9IHRoaW5nW2ldO1xuICB9XG4gIHJldHVybiBhcnI7XG59O1xuXG4vKipcbiAqIENoZWNraW5nIGlmIHRoZSBVaW50OEFycmF5IGV4aXN0cyBhbmQgaWYgaXQgZG9lcywgaXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICogdGhpbmcgcGFzc2VkIGluIGlzIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXlcbiAqXG4gKiBAcGFyYW0ge1R5cGVkQXJyYXl9XG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKFR5cGVkQXJyYXkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gdGhpbmcgPT4ge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbi8qKlxuICogRm9yIGVhY2ggZW50cnkgaW4gdGhlIG9iamVjdCwgY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCB0aGUga2V5IGFuZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbnRyeS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgZm9yRWFjaEVudHJ5ID0gKG9iaiwgZm4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gb2JqICYmIG9ialtTeW1ib2wuaXRlcmF0b3JdO1xuXG4gIGNvbnN0IGl0ZXJhdG9yID0gZ2VuZXJhdG9yLmNhbGwob2JqKTtcblxuICBsZXQgcmVzdWx0O1xuXG4gIHdoaWxlICgocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKSAmJiAhcmVzdWx0LmRvbmUpIHtcbiAgICBjb25zdCBwYWlyID0gcmVzdWx0LnZhbHVlO1xuICAgIGZuLmNhbGwob2JqLCBwYWlyWzBdLCBwYWlyWzFdKTtcbiAgfVxufTtcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhbmQgYSBzdHJpbmcsIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdFeHAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBzZWFyY2guXG4gKlxuICogQHJldHVybnMge0FycmF5PGJvb2xlYW4+fVxuICovXG5jb25zdCBtYXRjaEFsbCA9IChyZWdFeHAsIHN0cikgPT4ge1xuICBsZXQgbWF0Y2hlcztcbiAgY29uc3QgYXJyID0gW107XG5cbiAgd2hpbGUgKChtYXRjaGVzID0gcmVnRXhwLmV4ZWMoc3RyKSkgIT09IG51bGwpIHtcbiAgICBhcnIucHVzaChtYXRjaGVzKTtcbiAgfVxuXG4gIHJldHVybiBhcnI7XG59O1xuXG4vKiBDaGVja2luZyBpZiB0aGUga2luZE9mVGVzdCBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiBwYXNzZWQgYW4gSFRNTEZvcm1FbGVtZW50LiAqL1xuY29uc3QgaXNIVE1MRm9ybSA9IGtpbmRPZlRlc3QoJ0hUTUxGb3JtRWxlbWVudCcpO1xuXG5jb25zdCB0b0NhbWVsQ2FzZSA9IHN0ciA9PiB7XG4gIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9cXHNdKFthLXpcXGRdKShcXHcqKS9nLFxuICAgIGZ1bmN0aW9uIHJlcGxhY2VyKG0sIHAxLCBwMikge1xuICAgICAgcmV0dXJuIHAxLnRvVXBwZXJDYXNlKCkgKyBwMjtcbiAgICB9XG4gICk7XG59O1xuXG4vKiBDcmVhdGluZyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjaGVjayBpZiBhbiBvYmplY3QgaGFzIGEgcHJvcGVydHkuICovXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9ICgoe2hhc093blByb3BlcnR5fSkgPT4gKG9iaiwgcHJvcCkgPT4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKShPYmplY3QucHJvdG90eXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUmVnRXhwID0ga2luZE9mVGVzdCgnUmVnRXhwJyk7XG5cbmNvbnN0IHJlZHVjZURlc2NyaXB0b3JzID0gKG9iaiwgcmVkdWNlcikgPT4ge1xuICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaik7XG4gIGNvbnN0IHJlZHVjZWREZXNjcmlwdG9ycyA9IHt9O1xuXG4gIGZvckVhY2goZGVzY3JpcHRvcnMsIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgbGV0IHJldDtcbiAgICBpZiAoKHJldCA9IHJlZHVjZXIoZGVzY3JpcHRvciwgbmFtZSwgb2JqKSkgIT09IGZhbHNlKSB7XG4gICAgICByZWR1Y2VkRGVzY3JpcHRvcnNbbmFtZV0gPSByZXQgfHwgZGVzY3JpcHRvcjtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgcmVkdWNlZERlc2NyaXB0b3JzKTtcbn07XG5cbi8qKlxuICogTWFrZXMgYWxsIG1ldGhvZHMgcmVhZC1vbmx5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuY29uc3QgZnJlZXplTWV0aG9kcyA9IChvYmopID0+IHtcbiAgcmVkdWNlRGVzY3JpcHRvcnMob2JqLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIC8vIHNraXAgcmVzdHJpY3RlZCBwcm9wcyBpbiBzdHJpY3QgbW9kZVxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgJiYgWydhcmd1bWVudHMnLCAnY2FsbGVyJywgJ2NhbGxlZSddLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG5cbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblxuICAgIGlmICgnd3JpdGFibGUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kIFxcJycgKyBuYW1lICsgJ1xcJycpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgdG9PYmplY3RTZXQgPSAoYXJyYXlPclN0cmluZywgZGVsaW1pdGVyKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuXG4gIGNvbnN0IGRlZmluZSA9IChhcnIpID0+IHtcbiAgICBhcnIuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBvYmpbdmFsdWVdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICBpc0FycmF5KGFycmF5T3JTdHJpbmcpID8gZGVmaW5lKGFycmF5T3JTdHJpbmcpIDogZGVmaW5lKFN0cmluZyhhcnJheU9yU3RyaW5nKS5zcGxpdChkZWxpbWl0ZXIpKTtcblxuICByZXR1cm4gb2JqO1xufTtcblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG5jb25zdCB0b0Zpbml0ZU51bWJlciA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSA9ICt2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn07XG5cbmNvbnN0IEFMUEhBID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JztcblxuY29uc3QgRElHSVQgPSAnMDEyMzQ1Njc4OSc7XG5cbmNvbnN0IEFMUEhBQkVUID0ge1xuICBESUdJVCxcbiAgQUxQSEEsXG4gIEFMUEhBX0RJR0lUOiBBTFBIQSArIEFMUEhBLnRvVXBwZXJDYXNlKCkgKyBESUdJVFxufTtcblxuY29uc3QgZ2VuZXJhdGVTdHJpbmcgPSAoc2l6ZSA9IDE2LCBhbHBoYWJldCA9IEFMUEhBQkVULkFMUEhBX0RJR0lUKSA9PiB7XG4gIGxldCBzdHIgPSAnJztcbiAgY29uc3Qge2xlbmd0aH0gPSBhbHBoYWJldDtcbiAgd2hpbGUgKHNpemUtLSkge1xuICAgIHN0ciArPSBhbHBoYWJldFtNYXRoLnJhbmRvbSgpICogbGVuZ3RofDBdO1xuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogSWYgdGhlIHRoaW5nIGlzIGEgRm9ybURhdGEgb2JqZWN0LCByZXR1cm4gdHJ1ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IHRoaW5nIC0gVGhlIHRoaW5nIHRvIGNoZWNrLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NwZWNDb21wbGlhbnRGb3JtKHRoaW5nKSB7XG4gIHJldHVybiAhISh0aGluZyAmJiBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgdGhpbmdbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0Zvcm1EYXRhJyAmJiB0aGluZ1tTeW1ib2wuaXRlcmF0b3JdKTtcbn1cblxuY29uc3QgdG9KU09OT2JqZWN0ID0gKG9iaikgPT4ge1xuICBjb25zdCBzdGFjayA9IG5ldyBBcnJheSgxMCk7XG5cbiAgY29uc3QgdmlzaXQgPSAoc291cmNlLCBpKSA9PiB7XG5cbiAgICBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2Yoc291cmNlKSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYoISgndG9KU09OJyBpbiBzb3VyY2UpKSB7XG4gICAgICAgIHN0YWNrW2ldID0gc291cmNlO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBpc0FycmF5KHNvdXJjZSkgPyBbXSA6IHt9O1xuXG4gICAgICAgIGZvckVhY2goc291cmNlLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlZHVjZWRWYWx1ZSA9IHZpc2l0KHZhbHVlLCBpICsgMSk7XG4gICAgICAgICAgIWlzVW5kZWZpbmVkKHJlZHVjZWRWYWx1ZSkgJiYgKHRhcmdldFtrZXldID0gcmVkdWNlZFZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RhY2tbaV0gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc291cmNlO1xuICB9O1xuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufTtcblxuY29uc3QgaXNBc3luY0ZuID0ga2luZE9mVGVzdCgnQXN5bmNGdW5jdGlvbicpO1xuXG5jb25zdCBpc1RoZW5hYmxlID0gKHRoaW5nKSA9PlxuICB0aGluZyAmJiAoaXNPYmplY3QodGhpbmcpIHx8IGlzRnVuY3Rpb24odGhpbmcpKSAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRoZW4pICYmIGlzRnVuY3Rpb24odGhpbmcuY2F0Y2gpO1xuXG4vLyBvcmlnaW5hbCBjb2RlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vRGlnaXRhbEJyYWluSlMvQXhpb3NQcm9taXNlL2Jsb2IvMTZkZWFiMTM3MTBlYzA5Nzc5OTIyMTMxZjNmYTU5NTQzMjBmODNhYi9saWIvdXRpbHMuanMjTDExLUwzNFxuXG5jb25zdCBfc2V0SW1tZWRpYXRlID0gKChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQsIHBvc3RNZXNzYWdlU3VwcG9ydGVkKSA9PiB7XG4gIGlmIChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gc2V0SW1tZWRpYXRlO1xuICB9XG5cbiAgcmV0dXJuIHBvc3RNZXNzYWdlU3VwcG9ydGVkID8gKCh0b2tlbiwgY2FsbGJhY2tzKSA9PiB7XG4gICAgX2dsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoe3NvdXJjZSwgZGF0YX0pID0+IHtcbiAgICAgIGlmIChzb3VyY2UgPT09IF9nbG9iYWwgJiYgZGF0YSA9PT0gdG9rZW4pIHtcbiAgICAgICAgY2FsbGJhY2tzLmxlbmd0aCAmJiBjYWxsYmFja3Muc2hpZnQoKSgpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcblxuICAgIHJldHVybiAoY2IpID0+IHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgICAgIF9nbG9iYWwucG9zdE1lc3NhZ2UodG9rZW4sIFwiKlwiKTtcbiAgICB9XG4gIH0pKGBheGlvc0Ake01hdGgucmFuZG9tKCl9YCwgW10pIDogKGNiKSA9PiBzZXRUaW1lb3V0KGNiKTtcbn0pKFxuICB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nLFxuICBpc0Z1bmN0aW9uKF9nbG9iYWwucG9zdE1lc3NhZ2UpXG4pO1xuXG5jb25zdCBhc2FwID0gdHlwZW9mIHF1ZXVlTWljcm90YXNrICE9PSAndW5kZWZpbmVkJyA/XG4gIHF1ZXVlTWljcm90YXNrLmJpbmQoX2dsb2JhbCkgOiAoIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5leHRUaWNrIHx8IF9zZXRJbW1lZGlhdGUpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKipcblxudmFyIHV0aWxzJDEgPSB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1JlYWRhYmxlU3RyZWFtLFxuICBpc1JlcXVlc3QsXG4gIGlzUmVzcG9uc2UsXG4gIGlzSGVhZGVycyxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGF0ZSxcbiAgaXNGaWxlLFxuICBpc0Jsb2IsXG4gIGlzUmVnRXhwLFxuICBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdCxcbiAgZm9yRWFjaCxcbiAgbWVyZ2UsXG4gIGV4dGVuZCxcbiAgdHJpbSxcbiAgc3RyaXBCT00sXG4gIGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZixcbiAga2luZE9mVGVzdCxcbiAgZW5kc1dpdGgsXG4gIHRvQXJyYXksXG4gIGZvckVhY2hFbnRyeSxcbiAgbWF0Y2hBbGwsXG4gIGlzSFRNTEZvcm0sXG4gIGhhc093blByb3BlcnR5LFxuICBoYXNPd25Qcm9wOiBoYXNPd25Qcm9wZXJ0eSwgLy8gYW4gYWxpYXMgdG8gYXZvaWQgRVNMaW50IG5vLXByb3RvdHlwZS1idWlsdGlucyBkZXRlY3Rpb25cbiAgcmVkdWNlRGVzY3JpcHRvcnMsXG4gIGZyZWV6ZU1ldGhvZHMsXG4gIHRvT2JqZWN0U2V0LFxuICB0b0NhbWVsQ2FzZSxcbiAgbm9vcCxcbiAgdG9GaW5pdGVOdW1iZXIsXG4gIGZpbmRLZXksXG4gIGdsb2JhbDogX2dsb2JhbCxcbiAgaXNDb250ZXh0RGVmaW5lZCxcbiAgQUxQSEFCRVQsXG4gIGdlbmVyYXRlU3RyaW5nLFxuICBpc1NwZWNDb21wbGlhbnRGb3JtLFxuICB0b0pTT05PYmplY3QsXG4gIGlzQXN5bmNGbixcbiAgaXNUaGVuYWJsZSxcbiAgc2V0SW1tZWRpYXRlOiBfc2V0SW1tZWRpYXRlLFxuICBhc2FwXG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvciQxKG1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMubmFtZSA9ICdBeGlvc0Vycm9yJztcbiAgY29kZSAmJiAodGhpcy5jb2RlID0gY29kZSk7XG4gIGNvbmZpZyAmJiAodGhpcy5jb25maWcgPSBjb25maWcpO1xuICByZXF1ZXN0ICYmICh0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KTtcbiAgaWYgKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzID8gcmVzcG9uc2Uuc3RhdHVzIDogbnVsbDtcbiAgfVxufVxuXG51dGlscyQxLmluaGVyaXRzKEF4aW9zRXJyb3IkMSwgRXJyb3IsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdXRpbHMkMS50b0pTT05PYmplY3QodGhpcy5jb25maWcpLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1c1xuICAgIH07XG4gIH1cbn0pO1xuXG5jb25zdCBwcm90b3R5cGUkMSA9IEF4aW9zRXJyb3IkMS5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciQxLCBkZXNjcmlwdG9ycyk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlJDEsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IkMS5mcm9tID0gKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykgPT4ge1xuICBjb25zdCBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUkMSk7XG5cbiAgdXRpbHMkMS50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0sIHByb3AgPT4ge1xuICAgIHJldHVybiBwcm9wICE9PSAnaXNBeGlvc0Vycm9yJztcbiAgfSk7XG5cbiAgQXhpb3NFcnJvciQxLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG52YXIgaHR0cEFkYXB0ZXIgPSBudWxsO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzJDEuaXNQbGFpbk9iamVjdCh0aGluZykgfHwgdXRpbHMkMS5pc0FycmF5KHRoaW5nKTtcbn1cblxuLyoqXG4gKiBJdCByZW1vdmVzIHRoZSBicmFja2V0cyBmcm9tIHRoZSBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgcGFyYW1ldGVyLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgd2l0aG91dCB0aGUgYnJhY2tldHMuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJyYWNrZXRzKGtleSkge1xuICByZXR1cm4gdXRpbHMkMS5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzJDEuaXNBcnJheShhcnIpICYmICFhcnIuc29tZShpc1Zpc2l0YWJsZSk7XG59XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSB1dGlscyQxLnRvRmxhdE9iamVjdCh1dGlscyQxLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YSQxKG9iaiwgZm9ybURhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKCF1dGlscyQxLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBmb3JtRGF0YSA9IGZvcm1EYXRhIHx8IG5ldyAoRm9ybURhdGEpKCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdGlvbnMgPSB1dGlscyQxLnRvRmxhdE9iamVjdChvcHRpb25zLCB7XG4gICAgbWV0YVRva2VuczogdHJ1ZSxcbiAgICBkb3RzOiBmYWxzZSxcbiAgICBpbmRleGVzOiBmYWxzZVxuICB9LCBmYWxzZSwgZnVuY3Rpb24gZGVmaW5lZChvcHRpb24sIHNvdXJjZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIHJldHVybiAhdXRpbHMkMS5pc1VuZGVmaW5lZChzb3VyY2Vbb3B0aW9uXSk7XG4gIH0pO1xuXG4gIGNvbnN0IG1ldGFUb2tlbnMgPSBvcHRpb25zLm1ldGFUb2tlbnM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBjb25zdCB2aXNpdG9yID0gb3B0aW9ucy52aXNpdG9yIHx8IGRlZmF1bHRWaXNpdG9yO1xuICBjb25zdCBkb3RzID0gb3B0aW9ucy5kb3RzO1xuICBjb25zdCBpbmRleGVzID0gb3B0aW9ucy5pbmRleGVzO1xuICBjb25zdCBfQmxvYiA9IG9wdGlvbnMuQmxvYiB8fCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgQmxvYjtcbiAgY29uc3QgdXNlQmxvYiA9IF9CbG9iICYmIHV0aWxzJDEuaXNTcGVjQ29tcGxpYW50Rm9ybShmb3JtRGF0YSk7XG5cbiAgaWYgKCF1dGlscyQxLmlzRnVuY3Rpb24odmlzaXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2aXNpdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJyc7XG5cbiAgICBpZiAodXRpbHMkMS5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoIXVzZUJsb2IgJiYgdXRpbHMkMS5pc0Jsb2IodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvciQxKCdCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIGlmICh1dGlscyQxLmlzQXJyYXlCdWZmZXIodmFsdWUpIHx8IHV0aWxzJDEuaXNUeXBlZEFycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHVzZUJsb2IgJiYgdHlwZW9mIEJsb2IgPT09ICdmdW5jdGlvbicgPyBuZXcgQmxvYihbdmFsdWVdKSA6IEJ1ZmZlci5mcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCB2aXNpdG9yLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5XG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfE51bWJlcj59IHBhdGhcbiAgICogQHRoaXMge0Zvcm1EYXRhfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJuIHRydWUgdG8gdmlzaXQgdGhlIGVhY2ggcHJvcCBvZiB0aGUgdmFsdWUgcmVjdXJzaXZlbHlcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmF1bHRWaXNpdG9yKHZhbHVlLCBrZXksIHBhdGgpIHtcbiAgICBsZXQgYXJyID0gdmFsdWU7XG5cbiAgICBpZiAodmFsdWUgJiYgIXBhdGggJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHV0aWxzJDEuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gbWV0YVRva2VucyA/IGtleSA6IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh1dGlscyQxLmlzQXJyYXkodmFsdWUpICYmIGlzRmxhdEFycmF5KHZhbHVlKSkgfHxcbiAgICAgICAgKCh1dGlscyQxLmlzRmlsZUxpc3QodmFsdWUpIHx8IHV0aWxzJDEuZW5kc1dpdGgoa2V5LCAnW10nKSkgJiYgKGFyciA9IHV0aWxzJDEudG9BcnJheSh2YWx1ZSkpXG4gICAgICAgICkpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IHJlbW92ZUJyYWNrZXRzKGtleSk7XG5cbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gZWFjaChlbCwgaW5kZXgpIHtcbiAgICAgICAgICAhKHV0aWxzJDEuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGluZGV4ZXMgPT09IHRydWUgPyByZW5kZXJLZXkoW2tleV0sIGluZGV4LCBkb3RzKSA6IChpbmRleGVzID09PSBudWxsID8ga2V5IDoga2V5ICsgJ1tdJyksXG4gICAgICAgICAgICBjb252ZXJ0VmFsdWUoZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNWaXNpdGFibGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3JtRGF0YS5hcHBlbmQocmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cyksIGNvbnZlcnRWYWx1ZSh2YWx1ZSkpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgc3RhY2sgPSBbXTtcblxuICBjb25zdCBleHBvc2VkSGVscGVycyA9IE9iamVjdC5hc3NpZ24ocHJlZGljYXRlcywge1xuICAgIGRlZmF1bHRWaXNpdG9yLFxuICAgIGNvbnZlcnRWYWx1ZSxcbiAgICBpc1Zpc2l0YWJsZVxuICB9KTtcblxuICBmdW5jdGlvbiBidWlsZCh2YWx1ZSwgcGF0aCkge1xuICAgIGlmICh1dGlscyQxLmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAnICsgcGF0aC5qb2luKCcuJykpO1xuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgdXRpbHMkMS5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiBlYWNoKGVsLCBrZXkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9ICEodXRpbHMkMS5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIHZpc2l0b3IuY2FsbChcbiAgICAgICAgZm9ybURhdGEsIGVsLCB1dGlscyQxLmlzU3RyaW5nKGtleSkgPyBrZXkudHJpbSgpIDoga2V5LCBwYXRoLCBleHBvc2VkSGVscGVyc1xuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICBidWlsZChlbCwgcGF0aCA/IHBhdGguY29uY2F0KGtleSkgOiBba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdGFjay5wb3AoKTtcbiAgfVxuXG4gIGlmICghdXRpbHMkMS5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF0YSBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgYnVpbGQob2JqKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbi8qKlxuICogSXQgZW5jb2RlcyBhIHN0cmluZyBieSByZXBsYWNpbmcgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IGluIHRoZSB1bnJlc2VydmVkIHNldCB3aXRoXG4gKiB0aGVpciBwZXJjZW50LWVuY29kZWQgZXF1aXZhbGVudHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBlbmNvZGUuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGUkMShzdHIpIHtcbiAgY29uc3QgY2hhck1hcCA9IHtcbiAgICAnISc6ICclMjEnLFxuICAgIFwiJ1wiOiAnJTI3JyxcbiAgICAnKCc6ICclMjgnLFxuICAgICcpJzogJyUyOScsXG4gICAgJ34nOiAnJTdFJyxcbiAgICAnJTIwJzogJysnLFxuICAgICclMDAnOiAnXFx4MDAnXG4gIH07XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC9bIScoKX5dfCUyMHwlMDAvZywgZnVuY3Rpb24gcmVwbGFjZXIobWF0Y2gpIHtcbiAgICByZXR1cm4gY2hhck1hcFttYXRjaF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGFyYW1zIG9iamVjdCBhbmQgY29udmVydHMgaXQgdG8gYSBGb3JtRGF0YSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIHRvIGJlIGNvbnZlcnRlZCB0byBhIEZvcm1EYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIG9iamVjdCBwYXNzZWQgdG8gdGhlIEF4aW9zIGNvbnN0cnVjdG9yLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBBeGlvc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpIHtcbiAgdGhpcy5fcGFpcnMgPSBbXTtcblxuICBwYXJhbXMgJiYgdG9Gb3JtRGF0YSQxKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlJDEpO1xuICB9IDogZW5jb2RlJDE7XG5cbiAgcmV0dXJuIHRoaXMuX3BhaXJzLm1hcChmdW5jdGlvbiBlYWNoKHBhaXIpIHtcbiAgICByZXR1cm4gX2VuY29kZShwYWlyWzBdKSArICc9JyArIF9lbmNvZGUocGFpclsxXSk7XG4gIH0sICcnKS5qb2luKCcmJyk7XG59O1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSB7P29iamVjdH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzJDEuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSA/XG4gICAgICBwYXJhbXMudG9TdHJpbmcoKSA6XG4gICAgICBuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKS50b1N0cmluZyhfZW5jb2RlKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgY29uc3QgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblxuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuXG5jbGFzcyBJbnRlcmNlcHRvck1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAgICovXG4gIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkLCBvcHRpb25zKSB7XG4gICAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICAgIGZ1bGZpbGxlZCxcbiAgICAgIHJlamVjdGVkLFxuICAgICAgc3luY2hyb25vdXM6IG9wdGlvbnMgPyBvcHRpb25zLnN5bmNocm9ub3VzIDogZmFsc2UsXG4gICAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW50ZXJjZXB0b3Igd2FzIHJlbW92ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gICAqL1xuICBlamVjdChpZCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgaW50ZXJjZXB0b3JzIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAgICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZm9yRWFjaChmbikge1xuICAgIHV0aWxzJDEuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG52YXIgdHJhbnNpdGlvbmFsRGVmYXVsdHMgPSB7XG4gIHNpbGVudEpTT05QYXJzaW5nOiB0cnVlLFxuICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgY2xhcmlmeVRpbWVvdXRFcnJvcjogZmFsc2Vcbn07XG5cbnZhciBVUkxTZWFyY2hQYXJhbXMkMSA9IHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnID8gVVJMU2VhcmNoUGFyYW1zIDogQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG5cbnZhciBGb3JtRGF0YSQxID0gdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcblxudmFyIEJsb2IkMSA9IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyA/IEJsb2IgOiBudWxsO1xuXG52YXIgcGxhdGZvcm0kMSA9IHtcbiAgaXNCcm93c2VyOiB0cnVlLFxuICBjbGFzc2VzOiB7XG4gICAgVVJMU2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMkMSxcbiAgICBGb3JtRGF0YTogRm9ybURhdGEkMSxcbiAgICBCbG9iOiBCbG9iJDFcbiAgfSxcbiAgcHJvdG9jb2xzOiBbJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScsICdibG9iJywgJ3VybCcsICdkYXRhJ11cbn07XG5cbmNvbnN0IGhhc0Jyb3dzZXJFbnYgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG5jb25zdCBfbmF2aWdhdG9yID0gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yIHx8IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGhhc1N0YW5kYXJkQnJvd3NlckVudiA9IGhhc0Jyb3dzZXJFbnYgJiZcbiAgKCFfbmF2aWdhdG9yIHx8IFsnUmVhY3ROYXRpdmUnLCAnTmF0aXZlU2NyaXB0JywgJ05TJ10uaW5kZXhPZihfbmF2aWdhdG9yLnByb2R1Y3QpIDwgMCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIHdlYldvcmtlciBlbnZpcm9ubWVudFxuICpcbiAqIEFsdGhvdWdoIHRoZSBgaXNTdGFuZGFyZEJyb3dzZXJFbnZgIG1ldGhvZCBpbmRpY2F0ZXMgdGhhdFxuICogYGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyYCwgdGhlIFdlYldvcmtlciB3aWxsIHN0aWxsIGJlXG4gKiBmaWx0ZXJlZCBvdXQgZHVlIHRvIGl0cyBqdWRnbWVudCBzdGFuZGFyZFxuICogYHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdgLlxuICogVGhpcyBsZWFkcyB0byBhIHByb2JsZW0gd2hlbiBheGlvcyBwb3N0IGBGb3JtRGF0YWAgaW4gd2ViV29ya2VyXG4gKi9cbmNvbnN0IGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiA9ICgoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgIHR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbidcbiAgKTtcbn0pKCk7XG5cbmNvbnN0IG9yaWdpbiA9IGhhc0Jyb3dzZXJFbnYgJiYgd2luZG93LmxvY2F0aW9uLmhyZWYgfHwgJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuXG52YXIgdXRpbHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgaGFzQnJvd3NlckVudjogaGFzQnJvd3NlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52OiBoYXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudjogaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52LFxuICBuYXZpZ2F0b3I6IF9uYXZpZ2F0b3IsXG4gIG9yaWdpbjogb3JpZ2luXG59KTtcblxudmFyIHBsYXRmb3JtID0ge1xuICAuLi51dGlscyxcbiAgLi4ucGxhdGZvcm0kMVxufTtcblxuZnVuY3Rpb24gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b0Zvcm1EYXRhJDEoZGF0YSwgbmV3IHBsYXRmb3JtLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zKCksIE9iamVjdC5hc3NpZ24oe1xuICAgIHZpc2l0b3I6IGZ1bmN0aW9uKHZhbHVlLCBrZXksIHBhdGgsIGhlbHBlcnMpIHtcbiAgICAgIGlmIChwbGF0Zm9ybS5pc05vZGUgJiYgdXRpbHMkMS5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoZWxwZXJzLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCBvcHRpb25zKSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcgbGlrZSBgZm9vW3hdW3ldW3pdYCBhbmQgcmV0dXJucyBhbiBhcnJheSBsaWtlIGBbJ2ZvbycsICd4JywgJ3knLCAneiddXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlUHJvcFBhdGgobmFtZSkge1xuICAvLyBmb29beF1beV1bel1cbiAgLy8gZm9vLngueS56XG4gIC8vIGZvby14LXktelxuICAvLyBmb28geCB5IHpcbiAgcmV0dXJuIHV0aWxzJDEubWF0Y2hBbGwoL1xcdyt8XFxbKFxcdyopXS9nLCBuYW1lKS5tYXAobWF0Y2ggPT4ge1xuICAgIHJldHVybiBtYXRjaFswXSA9PT0gJ1tdJyA/ICcnIDogbWF0Y2hbMV0gfHwgbWF0Y2hbMF07XG4gIH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gYXJyYXkgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNvbnZlcnQgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYW5kIHZhbHVlcyBhcyB0aGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyKSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXJyKTtcbiAgbGV0IGk7XG4gIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICBsZXQga2V5O1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIG9ialtrZXldID0gYXJyW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIEZvcm1EYXRhIG9iamVjdCBhbmQgcmV0dXJucyBhIEphdmFTY3JpcHQgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gY29udmVydCB0byBKU09OLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBhbnk+IHwgbnVsbH0gVGhlIGNvbnZlcnRlZCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGZvcm1EYXRhVG9KU09OKGZvcm1EYXRhKSB7XG4gIGZ1bmN0aW9uIGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0LCBpbmRleCkge1xuICAgIGxldCBuYW1lID0gcGF0aFtpbmRleCsrXTtcblxuICAgIGlmIChuYW1lID09PSAnX19wcm90b19fJykgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBpc051bWVyaWNLZXkgPSBOdW1iZXIuaXNGaW5pdGUoK25hbWUpO1xuICAgIGNvbnN0IGlzTGFzdCA9IGluZGV4ID49IHBhdGgubGVuZ3RoO1xuICAgIG5hbWUgPSAhbmFtZSAmJiB1dGlscyQxLmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldC5sZW5ndGggOiBuYW1lO1xuXG4gICAgaWYgKGlzTGFzdCkge1xuICAgICAgaWYgKHV0aWxzJDEuaGFzT3duUHJvcCh0YXJnZXQsIG5hbWUpKSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IFt0YXJnZXRbbmFtZV0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFtuYW1lXSB8fCAhdXRpbHMkMS5pc09iamVjdCh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldFtuYW1lXSwgaW5kZXgpO1xuXG4gICAgaWYgKHJlc3VsdCAmJiB1dGlscyQxLmlzQXJyYXkodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gYXJyYXlUb09iamVjdCh0YXJnZXRbbmFtZV0pO1xuICAgIH1cblxuICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICB9XG5cbiAgaWYgKHV0aWxzJDEuaXNGb3JtRGF0YShmb3JtRGF0YSkgJiYgdXRpbHMkMS5pc0Z1bmN0aW9uKGZvcm1EYXRhLmVudHJpZXMpKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG5cbiAgICB1dGlscyQxLmZvckVhY2hFbnRyeShmb3JtRGF0YSwgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICBidWlsZFBhdGgocGFyc2VQcm9wUGF0aChuYW1lKSwgdmFsdWUsIG9iaiwgMCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcsIHRyaWVzIHRvIHBhcnNlIGl0LCBhbmQgaWYgaXQgZmFpbHMsIGl0IHJldHVybnMgdGhlIHN0cmluZ2lmaWVkIHZlcnNpb25cbiAqIG9mIHRoZSBpbnB1dFxuICpcbiAqIEBwYXJhbSB7YW55fSByYXdWYWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBzdHJpbmdpZmllZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBhcnNlciAtIEEgZnVuY3Rpb24gdGhhdCBwYXJzZXMgYSBzdHJpbmcgaW50byBhIEphdmFTY3JpcHQgb2JqZWN0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZW5jb2RlciAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHZhbHVlIGFuZCByZXR1cm5zIGEgc3RyaW5nLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5naWZpZWQgdmVyc2lvbiBvZiB0aGUgcmF3VmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVNhZmVseShyYXdWYWx1ZSwgcGFyc2VyLCBlbmNvZGVyKSB7XG4gIGlmICh1dGlscyQxLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscyQxLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKDAsIEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCcsICdmZXRjaCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscyQxLmlzT2JqZWN0KGRhdGEpO1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCAmJiB1dGlscyQxLmlzSFRNTEZvcm0oZGF0YSkpIHtcbiAgICAgIGRhdGEgPSBuZXcgRm9ybURhdGEoZGF0YSk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNGb3JtRGF0YSA9IHV0aWxzJDEuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMkMS5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscyQxLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscyQxLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscyQxLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMkMS5pc0Jsb2IoZGF0YSkgfHxcbiAgICAgIHV0aWxzJDEuaXNSZWFkYWJsZVN0cmVhbShkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscyQxLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscyQxLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcsIGZhbHNlKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgbGV0IGlzRmlsZUxpc3Q7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkKSB7XG4gICAgICBpZiAoY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCB0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGlzRmlsZUxpc3QgPSB1dGlscyQxLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhJDEoXG4gICAgICAgICAgaXNGaWxlTGlzdCA/IHsnZmlsZXNbXSc6IGRhdGF9IDogZGF0YSxcbiAgICAgICAgICBfRm9ybURhdGEgJiYgbmV3IF9Gb3JtRGF0YSgpLFxuICAgICAgICAgIHRoaXMuZm9ybVNlcmlhbGl6ZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkIHx8IGhhc0pTT05Db250ZW50VHlwZSApIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nLCBmYWxzZSk7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5U2FmZWx5KGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgY29uc3QgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIGNvbnN0IEpTT05SZXF1ZXN0ZWQgPSB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKHV0aWxzJDEuaXNSZXNwb25zZShkYXRhKSB8fCB1dGlscyQxLmlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIHV0aWxzJDEuaXNTdHJpbmcoZGF0YSkgJiYgKChmb3JjZWRKU09OUGFyc2luZyAmJiAhdGhpcy5yZXNwb25zZVR5cGUpIHx8IEpTT05SZXF1ZXN0ZWQpKSB7XG4gICAgICBjb25zdCBzaWxlbnRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuc2lsZW50SlNPTlBhcnNpbmc7XG4gICAgICBjb25zdCBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiBKU09OUmVxdWVzdGVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHN0cmljdEpTT05QYXJzaW5nKSB7XG4gICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgQXhpb3NFcnJvciQxLmZyb20oZSwgQXhpb3NFcnJvciQxLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcGxhdGZvcm0uY2xhc3Nlcy5Gb3JtRGF0YSxcbiAgICBCbG9iOiBwbGF0Zm9ybS5jbGFzc2VzLkJsb2JcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn07XG5cbnV0aWxzJDEuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCddLCAobWV0aG9kKSA9PiB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbi8vIFJhd0F4aW9zSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbmNvbnN0IGlnbm9yZUR1cGxpY2F0ZU9mID0gdXRpbHMkMS50b09iamVjdFNldChbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXSk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG52YXIgcGFyc2VIZWFkZXJzID0gcmF3SGVhZGVycyA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHt9O1xuICBsZXQga2V5O1xuICBsZXQgdmFsO1xuICBsZXQgaTtcblxuICByYXdIZWFkZXJzICYmIHJhd0hlYWRlcnMuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgaSkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gbGluZS5zdWJzdHJpbmcoaSArIDEpLnRyaW0oKTtcblxuICAgIGlmICgha2V5IHx8IChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZltrZXldKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgaWYgKHBhcnNlZFtrZXldKSB7XG4gICAgICAgIHBhcnNlZFtrZXldLnB1c2godmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gW3ZhbF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcblxuY29uc3QgJGludGVybmFscyA9IFN5bWJvbCgnaW50ZXJuYWxzJyk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlciAmJiBTdHJpbmcoaGVhZGVyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzJDEuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVmFsdWUpIDogU3RyaW5nKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUb2tlbnMoc3RyKSB7XG4gIGNvbnN0IHRva2VucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGNvbnN0IHRva2Vuc1JFID0gLyhbXlxccyw7PV0rKVxccyooPzo9XFxzKihbXiw7XSspKT8vZztcbiAgbGV0IG1hdGNoO1xuXG4gIHdoaWxlICgobWF0Y2ggPSB0b2tlbnNSRS5leGVjKHN0cikpKSB7XG4gICAgdG9rZW5zW21hdGNoWzFdXSA9IG1hdGNoWzJdO1xuICB9XG5cbiAgcmV0dXJuIHRva2Vucztcbn1cblxuY29uc3QgaXNWYWxpZEhlYWRlck5hbWUgPSAoc3RyKSA9PiAvXlstX2EtekEtWjAtOV5gfH4sISMkJSYnKisuXSskLy50ZXN0KHN0ci50cmltKCkpO1xuXG5mdW5jdGlvbiBtYXRjaEhlYWRlclZhbHVlKGNvbnRleHQsIHZhbHVlLCBoZWFkZXIsIGZpbHRlciwgaXNIZWFkZXJOYW1lRmlsdGVyKSB7XG4gIGlmICh1dGlscyQxLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMkMS5pc1N0cmluZyh2YWx1ZSkpIHJldHVybjtcblxuICBpZiAodXRpbHMkMS5pc1N0cmluZyhmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmluZGV4T2YoZmlsdGVyKSAhPT0gLTE7XG4gIH1cblxuICBpZiAodXRpbHMkMS5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscyQxLnRvQ2FtZWxDYXNlKCcgJyArIGhlYWRlcik7XG5cbiAgWydnZXQnLCAnc2V0JywgJ2hhcyddLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbWV0aG9kTmFtZSArIGFjY2Vzc29yTmFtZSwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kTmFtZV0uY2FsbCh0aGlzLCBoZWFkZXIsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxubGV0IEF4aW9zSGVhZGVycyQxID0gY2xhc3MgQXhpb3NIZWFkZXJzIHtcbiAgY29uc3RydWN0b3IoaGVhZGVycykge1xuICAgIGhlYWRlcnMgJiYgdGhpcy5zZXQoaGVhZGVycyk7XG4gIH1cblxuICBzZXQoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSwgcmV3cml0ZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghbEhlYWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzJDEuZmluZEtleShzZWxmLCBsSGVhZGVyKTtcblxuICAgICAgaWYoIWtleSB8fCBzZWxmW2tleV0gPT09IHVuZGVmaW5lZCB8fCBfcmV3cml0ZSA9PT0gdHJ1ZSB8fCAoX3Jld3JpdGUgPT09IHVuZGVmaW5lZCAmJiBzZWxmW2tleV0gIT09IGZhbHNlKSkge1xuICAgICAgICBzZWxmW2tleSB8fCBfaGVhZGVyXSA9IG5vcm1hbGl6ZVZhbHVlKF92YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0SGVhZGVycyA9IChoZWFkZXJzLCBfcmV3cml0ZSkgPT5cbiAgICAgIHV0aWxzJDEuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzJDEuaXNQbGFpbk9iamVjdChoZWFkZXIpIHx8IGhlYWRlciBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIHNldEhlYWRlcnMoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmKHV0aWxzJDEuaXNTdHJpbmcoaGVhZGVyKSAmJiAoaGVhZGVyID0gaGVhZGVyLnRyaW0oKSkgJiYgIWlzVmFsaWRIZWFkZXJOYW1lKGhlYWRlcikpIHtcbiAgICAgIHNldEhlYWRlcnMocGFyc2VIZWFkZXJzKGhlYWRlciksIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzJDEuaXNIZWFkZXJzKGhlYWRlcikpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGhlYWRlci5lbnRyaWVzKCkpIHtcbiAgICAgICAgc2V0SGVhZGVyKHZhbHVlLCBrZXksIHJld3JpdGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXIgIT0gbnVsbCAmJiBzZXRIZWFkZXIodmFsdWVPclJld3JpdGUsIGhlYWRlciwgcmV3cml0ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXQoaGVhZGVyLCBwYXJzZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzJDEuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMkMS5pc0Z1bmN0aW9uKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmNhbGwodGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMkMS5pc1JlZ0V4cChwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5leGVjKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcnNlciBtdXN0IGJlIGJvb2xlYW58cmVnZXhwfGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFzKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMkMS5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMkMS5maW5kS2V5KHNlbGYsIF9oZWFkZXIpO1xuXG4gICAgICAgIGlmIChrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUoc2VsZiwgc2VsZltrZXldLCBrZXksIG1hdGNoZXIpKSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW2tleV07XG5cbiAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscyQxLmlzQXJyYXkoaGVhZGVyKSkge1xuICAgICAgaGVhZGVyLmZvckVhY2goZGVsZXRlSGVhZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlSGVhZGVyKGhlYWRlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBjbGVhcihtYXRjaGVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICAgIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBpZighbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHRoaXMsIHRoaXNba2V5XSwga2V5LCBtYXRjaGVyLCB0cnVlKSkge1xuICAgICAgICBkZWxldGUgdGhpc1trZXldO1xuICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIG5vcm1hbGl6ZShmb3JtYXQpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG5cbiAgICB1dGlscyQxLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzJDEuZmluZEtleShoZWFkZXJzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHNlbGZba2V5XSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gZm9ybWF0ID8gZm9ybWF0SGVhZGVyKGhlYWRlcikgOiBTdHJpbmcoaGVhZGVyKS50cmltKCk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBoZWFkZXIpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgIH1cblxuICAgICAgc2VsZltub3JtYWxpemVkXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcblxuICAgICAgaGVhZGVyc1tub3JtYWxpemVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmNhdCguLi50YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsIC4uLnRhcmdldHMpO1xuICB9XG5cbiAgdG9KU09OKGFzU3RyaW5ncykge1xuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB1dGlscyQxLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09IGZhbHNlICYmIChvYmpbaGVhZGVyXSA9IGFzU3RyaW5ncyAmJiB1dGlscyQxLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgIHJldHVybiAnQXhpb3NIZWFkZXJzJztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKHRoaW5nKSB7XG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgdGhpcyA/IHRoaW5nIDogbmV3IHRoaXModGhpbmcpO1xuICB9XG5cbiAgc3RhdGljIGNvbmNhdChmaXJzdCwgLi4udGFyZ2V0cykge1xuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IHRoaXMoZmlyc3QpO1xuXG4gICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IGNvbXB1dGVkLnNldCh0YXJnZXQpKTtcblxuICAgIHJldHVybiBjb21wdXRlZDtcbiAgfVxuXG4gIHN0YXRpYyBhY2Nlc3NvcihoZWFkZXIpIHtcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB0aGlzWyRpbnRlcm5hbHNdID0gKHRoaXNbJGludGVybmFsc10gPSB7XG4gICAgICBhY2Nlc3NvcnM6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBpbnRlcm5hbHMuYWNjZXNzb3JzO1xuICAgIGNvbnN0IHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lQWNjZXNzb3IoX2hlYWRlcikge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFhY2Nlc3NvcnNbbEhlYWRlcl0pIHtcbiAgICAgICAgYnVpbGRBY2Nlc3NvcnMocHJvdG90eXBlLCBfaGVhZGVyKTtcbiAgICAgICAgYWNjZXNzb3JzW2xIZWFkZXJdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlscyQxLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuQXhpb3NIZWFkZXJzJDEuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbi8vIHJlc2VydmVkIG5hbWVzIGhvdGZpeFxudXRpbHMkMS5yZWR1Y2VEZXNjcmlwdG9ycyhBeGlvc0hlYWRlcnMkMS5wcm90b3R5cGUsICh7dmFsdWV9LCBrZXkpID0+IHtcbiAgbGV0IG1hcHBlZCA9IGtleVswXS50b1VwcGVyQ2FzZSgpICsga2V5LnNsaWNlKDEpOyAvLyBtYXAgYHNldGAgPT4gYFNldGBcbiAgcmV0dXJuIHtcbiAgICBnZXQ6ICgpID0+IHZhbHVlLFxuICAgIHNldChoZWFkZXJWYWx1ZSkge1xuICAgICAgdGhpc1ttYXBwZWRdID0gaGVhZGVyVmFsdWU7XG4gICAgfVxuICB9XG59KTtcblxudXRpbHMkMS5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyQxKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHBhcmFtIHs/T2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2Ugb2JqZWN0XG4gKlxuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGZucywgcmVzcG9uc2UpIHtcbiAgY29uc3QgY29uZmlnID0gdGhpcyB8fCBkZWZhdWx0cztcbiAgY29uc3QgY29udGV4dCA9IHJlc3BvbnNlIHx8IGNvbmZpZztcbiAgY29uc3QgaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMkMS5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuLmNhbGwoY29uZmlnLCBkYXRhLCBoZWFkZXJzLm5vcm1hbGl6ZSgpLCByZXNwb25zZSA/IHJlc3BvbnNlLnN0YXR1cyA6IHVuZGVmaW5lZCk7XG4gIH0pO1xuXG4gIGhlYWRlcnMubm9ybWFsaXplKCk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIGlzQ2FuY2VsJDEodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufVxuXG4vKipcbiAqIEEgYENhbmNlbGVkRXJyb3JgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3Q9fSByZXF1ZXN0IFRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxlZEVycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsZWRFcnJvciQxKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgQXhpb3NFcnJvciQxLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gJ2NhbmNlbGVkJyA6IG1lc3NhZ2UsIEF4aW9zRXJyb3IkMS5FUlJfQ0FOQ0VMRUQsIGNvbmZpZywgcmVxdWVzdCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMkMS5pbmhlcml0cyhDYW5jZWxlZEVycm9yJDEsIEF4aW9zRXJyb3IkMSwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvciQxKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yJDEuRVJSX0JBRF9SRVFVRVNULCBBeGlvc0Vycm9yJDEuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVByb3RvY29sKHVybCkge1xuICBjb25zdCBtYXRjaCA9IC9eKFstK1xcd117MSwyNX0pKDo/XFwvXFwvfDopLy5leGVjKHVybCk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgZGF0YSBtYXhSYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZXNDb3VudD0gMTBdXG4gKiBAcGFyYW0ge051bWJlcn0gW21pbj0gMTAwMF1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3BlZWRvbWV0ZXIoc2FtcGxlc0NvdW50LCBtaW4pIHtcbiAgc2FtcGxlc0NvdW50ID0gc2FtcGxlc0NvdW50IHx8IDEwO1xuICBjb25zdCBieXRlcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBjb25zdCB0aW1lc3RhbXBzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGxldCBoZWFkID0gMDtcbiAgbGV0IHRhaWwgPSAwO1xuICBsZXQgZmlyc3RTYW1wbGVUUztcblxuICBtaW4gPSBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IDEwMDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1c2goY2h1bmtMZW5ndGgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3Qgc3RhcnRlZEF0ID0gdGltZXN0YW1wc1t0YWlsXTtcblxuICAgIGlmICghZmlyc3RTYW1wbGVUUykge1xuICAgICAgZmlyc3RTYW1wbGVUUyA9IG5vdztcbiAgICB9XG5cbiAgICBieXRlc1toZWFkXSA9IGNodW5rTGVuZ3RoO1xuICAgIHRpbWVzdGFtcHNbaGVhZF0gPSBub3c7XG5cbiAgICBsZXQgaSA9IHRhaWw7XG4gICAgbGV0IGJ5dGVzQ291bnQgPSAwO1xuXG4gICAgd2hpbGUgKGkgIT09IGhlYWQpIHtcbiAgICAgIGJ5dGVzQ291bnQgKz0gYnl0ZXNbaSsrXTtcbiAgICAgIGkgPSBpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGhlYWQgPSAoaGVhZCArIDEpICUgc2FtcGxlc0NvdW50O1xuXG4gICAgaWYgKGhlYWQgPT09IHRhaWwpIHtcbiAgICAgIHRhaWwgPSAodGFpbCArIDEpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGlmIChub3cgLSBmaXJzdFNhbXBsZVRTIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFzc2VkID0gc3RhcnRlZEF0ICYmIG5vdyAtIHN0YXJ0ZWRBdDtcblxuICAgIHJldHVybiBwYXNzZWQgPyBNYXRoLnJvdW5kKGJ5dGVzQ291bnQgKiAxMDAwIC8gcGFzc2VkKSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaHJvdHRsZSBkZWNvcmF0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge051bWJlcn0gZnJlcVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBmcmVxKSB7XG4gIGxldCB0aW1lc3RhbXAgPSAwO1xuICBsZXQgdGhyZXNob2xkID0gMTAwMCAvIGZyZXE7XG4gIGxldCBsYXN0QXJncztcbiAgbGV0IHRpbWVyO1xuXG4gIGNvbnN0IGludm9rZSA9IChhcmdzLCBub3cgPSBEYXRlLm5vdygpKSA9PiB7XG4gICAgdGltZXN0YW1wID0gbm93O1xuICAgIGxhc3RBcmdzID0gbnVsbDtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgfVxuICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9O1xuXG4gIGNvbnN0IHRocm90dGxlZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBwYXNzZWQgPSBub3cgLSB0aW1lc3RhbXA7XG4gICAgaWYgKCBwYXNzZWQgPj0gdGhyZXNob2xkKSB7XG4gICAgICBpbnZva2UoYXJncywgbm93KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgICAgaWYgKCF0aW1lcikge1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgICBpbnZva2UobGFzdEFyZ3MpO1xuICAgICAgICB9LCB0aHJlc2hvbGQgLSBwYXNzZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBmbHVzaCA9ICgpID0+IGxhc3RBcmdzICYmIGludm9rZShsYXN0QXJncyk7XG5cbiAgcmV0dXJuIFt0aHJvdHRsZWQsIGZsdXNoXTtcbn1cblxuY29uc3QgcHJvZ3Jlc3NFdmVudFJlZHVjZXIgPSAobGlzdGVuZXIsIGlzRG93bmxvYWRTdHJlYW0sIGZyZXEgPSAzKSA9PiB7XG4gIGxldCBieXRlc05vdGlmaWVkID0gMDtcbiAgY29uc3QgX3NwZWVkb21ldGVyID0gc3BlZWRvbWV0ZXIoNTAsIDI1MCk7XG5cbiAgcmV0dXJuIHRocm90dGxlKGUgPT4ge1xuICAgIGNvbnN0IGxvYWRlZCA9IGUubG9hZGVkO1xuICAgIGNvbnN0IHRvdGFsID0gZS5sZW5ndGhDb21wdXRhYmxlID8gZS50b3RhbCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwcm9ncmVzc0J5dGVzID0gbG9hZGVkIC0gYnl0ZXNOb3RpZmllZDtcbiAgICBjb25zdCByYXRlID0gX3NwZWVkb21ldGVyKHByb2dyZXNzQnl0ZXMpO1xuICAgIGNvbnN0IGluUmFuZ2UgPSBsb2FkZWQgPD0gdG90YWw7XG5cbiAgICBieXRlc05vdGlmaWVkID0gbG9hZGVkO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGxvYWRlZCxcbiAgICAgIHRvdGFsLFxuICAgICAgcHJvZ3Jlc3M6IHRvdGFsID8gKGxvYWRlZCAvIHRvdGFsKSA6IHVuZGVmaW5lZCxcbiAgICAgIGJ5dGVzOiBwcm9ncmVzc0J5dGVzLFxuICAgICAgcmF0ZTogcmF0ZSA/IHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBlc3RpbWF0ZWQ6IHJhdGUgJiYgdG90YWwgJiYgaW5SYW5nZSA/ICh0b3RhbCAtIGxvYWRlZCkgLyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXZlbnQ6IGUsXG4gICAgICBsZW5ndGhDb21wdXRhYmxlOiB0b3RhbCAhPSBudWxsLFxuICAgICAgW2lzRG93bmxvYWRTdHJlYW0gPyAnZG93bmxvYWQnIDogJ3VwbG9hZCddOiB0cnVlXG4gICAgfTtcblxuICAgIGxpc3RlbmVyKGRhdGEpO1xuICB9LCBmcmVxKTtcbn07XG5cbmNvbnN0IHByb2dyZXNzRXZlbnREZWNvcmF0b3IgPSAodG90YWwsIHRocm90dGxlZCkgPT4ge1xuICBjb25zdCBsZW5ndGhDb21wdXRhYmxlID0gdG90YWwgIT0gbnVsbDtcblxuICByZXR1cm4gWyhsb2FkZWQpID0+IHRocm90dGxlZFswXSh7XG4gICAgbGVuZ3RoQ29tcHV0YWJsZSxcbiAgICB0b3RhbCxcbiAgICBsb2FkZWRcbiAgfSksIHRocm90dGxlZFsxXV07XG59O1xuXG5jb25zdCBhc3luY0RlY29yYXRvciA9IChmbikgPT4gKC4uLmFyZ3MpID0+IHV0aWxzJDEuYXNhcCgoKSA9PiBmbiguLi5hcmdzKSk7XG5cbnZhciBpc1VSTFNhbWVPcmlnaW4gPSBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4vLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3Rcbi8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIGNvbnN0IG1zaWUgPSBwbGF0Zm9ybS5uYXZpZ2F0b3IgJiYgLyhtc2llfHRyaWRlbnQpL2kudGVzdChwbGF0Zm9ybS5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBjb25zdCB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBsZXQgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdHMgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgbGV0IGhyZWYgPSB1cmw7XG5cbiAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgfVxuXG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9ICh1dGlscyQxLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKTtcblxudmFyIGNvb2tpZXMgPSBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICB7XG4gICAgd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICBjb25zdCBjb29raWUgPSBbbmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSldO1xuXG4gICAgICB1dGlscyQxLmlzTnVtYmVyKGV4cGlyZXMpICYmIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblxuICAgICAgdXRpbHMkMS5pc1N0cmluZyhwYXRoKSAmJiBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG5cbiAgICAgIHV0aWxzJDEuaXNTdHJpbmcoZG9tYWluKSAmJiBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuXG4gICAgICBzZWN1cmUgPT09IHRydWUgJiYgY29va2llLnB1c2goJ3NlY3VyZScpO1xuXG4gICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICB9LFxuXG4gICAgcmVhZChuYW1lKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgIH0sXG5cbiAgICByZW1vdmUobmFtZSkge1xuICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICB9XG4gIH1cblxuICA6XG5cbiAgLy8gTm9uLXN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICB7XG4gICAgd3JpdGUoKSB7fSxcbiAgICByZWFkKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICByZW1vdmUoKSB7fVxuICB9O1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8/XFwvJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBmdWxsIHBhdGhcbiAqL1xuZnVuY3Rpb24gYnVpbGRGdWxsUGF0aChiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpIHtcbiAgaWYgKGJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwocmVxdWVzdGVkVVJMKSkge1xuICAgIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0ZWRVUkw7XG59XG5cbmNvbnN0IGhlYWRlcnNUb09iamVjdCA9ICh0aGluZykgPT4gdGhpbmcgaW5zdGFuY2VvZiBBeGlvc0hlYWRlcnMkMSA/IHsgLi4udGhpbmcgfSA6IHRoaW5nO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ29uZmlnJDEoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIGNvbnN0IGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlLCBjYXNlbGVzcykge1xuICAgIGlmICh1dGlscyQxLmlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiB1dGlscyQxLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzJDEubWVyZ2UuY2FsbCh7Y2FzZWxlc3N9LCB0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscyQxLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzJDEubWVyZ2Uoe30sIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscyQxLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMoYSwgYiwgY2FzZWxlc3MpIHtcbiAgICBpZiAoIXV0aWxzJDEuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiLCBjYXNlbGVzcyk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSwgY2FzZWxlc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzJDEuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzJDEuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzJDEuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURpcmVjdEtleXMoYSwgYiwgcHJvcCkge1xuICAgIGlmIChwcm9wIGluIGNvbmZpZzIpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gY29uZmlnMSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWVyZ2VNYXAgPSB7XG4gICAgdXJsOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIG1ldGhvZDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBkYXRhOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGJhc2VVUkw6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBwYXJhbXNTZXJpYWxpemVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dE1lc3NhZ2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aENyZWRlbnRpYWxzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhYU1JGVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYWRhcHRlcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZVR5cGU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkNvb2tpZU5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkhlYWRlck5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25VcGxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvbkRvd25sb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgZGVjb21wcmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhDb250ZW50TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heEJvZHlMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYmVmb3JlUmVkaXJlY3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNwb3J0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwc0FnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGNhbmNlbFRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHNvY2tldFBhdGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VFbmNvZGluZzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB2YWxpZGF0ZVN0YXR1czogbWVyZ2VEaXJlY3RLZXlzLFxuICAgIGhlYWRlcnM6IChhLCBiKSA9PiBtZXJnZURlZXBQcm9wZXJ0aWVzKGhlYWRlcnNUb09iamVjdChhKSwgaGVhZGVyc1RvT2JqZWN0KGIpLCB0cnVlKVxuICB9O1xuXG4gIHV0aWxzJDEuZm9yRWFjaChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCBjb25maWcxLCBjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgY29uc3QgbWVyZ2UgPSBtZXJnZU1hcFtwcm9wXSB8fCBtZXJnZURlZXBQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gbWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSwgcHJvcCk7XG4gICAgKHV0aWxzJDEuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59XG5cbnZhciByZXNvbHZlQ29uZmlnID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBuZXdDb25maWcgPSBtZXJnZUNvbmZpZyQxKHt9LCBjb25maWcpO1xuXG4gIGxldCB7ZGF0YSwgd2l0aFhTUkZUb2tlbiwgeHNyZkhlYWRlck5hbWUsIHhzcmZDb29raWVOYW1lLCBoZWFkZXJzLCBhdXRofSA9IG5ld0NvbmZpZztcblxuICBuZXdDb25maWcuaGVhZGVycyA9IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKGhlYWRlcnMpO1xuXG4gIG5ld0NvbmZpZy51cmwgPSBidWlsZFVSTChidWlsZEZ1bGxQYXRoKG5ld0NvbmZpZy5iYXNlVVJMLCBuZXdDb25maWcudXJsKSwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuXG4gIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgaWYgKGF1dGgpIHtcbiAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICtcbiAgICAgIGJ0b2EoKGF1dGgudXNlcm5hbWUgfHwgJycpICsgJzonICsgKGF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYXV0aC5wYXNzd29yZCkpIDogJycpKVxuICAgICk7XG4gIH1cblxuICBsZXQgY29udGVudFR5cGU7XG5cbiAgaWYgKHV0aWxzJDEuaXNGb3JtRGF0YShkYXRhKSkge1xuICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCk7IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSkgIT09IGZhbHNlKSB7XG4gICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgW3R5cGUsIC4uLnRva2Vuc10gPSBjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JykubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKFt0eXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgLi4udG9rZW5zXS5qb2luKCc7ICcpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMkMS5pc0Z1bmN0aW9uKHdpdGhYU1JGVG9rZW4pICYmICh3aXRoWFNSRlRva2VuID0gd2l0aFhTUkZUb2tlbihuZXdDb25maWcpKTtcblxuICAgIGlmICh3aXRoWFNSRlRva2VuIHx8ICh3aXRoWFNSRlRva2VuICE9PSBmYWxzZSAmJiBpc1VSTFNhbWVPcmlnaW4obmV3Q29uZmlnLnVybCkpKSB7XG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIGNvbnN0IHhzcmZWYWx1ZSA9IHhzcmZIZWFkZXJOYW1lICYmIHhzcmZDb29raWVOYW1lICYmIGNvb2tpZXMucmVhZCh4c3JmQ29va2llTmFtZSk7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgaGVhZGVycy5zZXQoeHNyZkhlYWRlck5hbWUsIHhzcmZWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0NvbmZpZztcbn07XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbnZhciB4aHJBZGFwdGVyID0gaXNYSFJBZGFwdGVyU3VwcG9ydGVkICYmIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBfY29uZmlnID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IF9jb25maWcuZGF0YTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20oX2NvbmZpZy5oZWFkZXJzKS5ub3JtYWxpemUoKTtcbiAgICBsZXQge3Jlc3BvbnNlVHlwZSwgb25VcGxvYWRQcm9ncmVzcywgb25Eb3dubG9hZFByb2dyZXNzfSA9IF9jb25maWc7XG4gICAgbGV0IG9uQ2FuY2VsZWQ7XG4gICAgbGV0IHVwbG9hZFRocm90dGxlZCwgZG93bmxvYWRUaHJvdHRsZWQ7XG4gICAgbGV0IGZsdXNoVXBsb2FkLCBmbHVzaERvd25sb2FkO1xuXG4gICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgIGZsdXNoVXBsb2FkICYmIGZsdXNoVXBsb2FkKCk7IC8vIGZsdXNoIGV2ZW50c1xuICAgICAgZmx1c2hEb3dubG9hZCAmJiBmbHVzaERvd25sb2FkKCk7IC8vIGZsdXNoIGV2ZW50c1xuXG4gICAgICBfY29uZmlnLmNhbmNlbFRva2VuICYmIF9jb25maWcuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG5cbiAgICAgIF9jb25maWcuc2lnbmFsICYmIF9jb25maWcuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgfVxuXG4gICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHJlcXVlc3Qub3BlbihfY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBfY29uZmlnLnVybCwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IF9jb25maWcudGltZW91dDtcblxuICAgIGZ1bmN0aW9uIG9ubG9hZGVuZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShcbiAgICAgICAgJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCAmJiByZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvciQxKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yJDEuRUNPTk5BQk9SVEVELCBjb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IkMSgnTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IkMS5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIGxldCB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIF9jb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcgOiAndGltZW91dCBleGNlZWRlZCc7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSBfY29uZmlnLnRyYW5zaXRpb25hbCB8fCB0cmFuc2l0aW9uYWxEZWZhdWx0cztcbiAgICAgIGlmIChfY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvciQxKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IkMS5FVElNRURPVVQgOiBBeGlvc0Vycm9yJDEuRUNPTk5BQk9SVEVELFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICByZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKG51bGwpO1xuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzJDEuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMkMS5pc1VuZGVmaW5lZChfY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFfY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBfY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKG9uRG93bmxvYWRQcm9ncmVzcykge1xuICAgICAgKFtkb3dubG9hZFRocm90dGxlZCwgZmx1c2hEb3dubG9hZF0gPSBwcm9ncmVzc0V2ZW50UmVkdWNlcihvbkRvd25sb2FkUHJvZ3Jlc3MsIHRydWUpKTtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBkb3dubG9hZFRocm90dGxlZCk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAob25VcGxvYWRQcm9ncmVzcyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgKFt1cGxvYWRUaHJvdHRsZWQsIGZsdXNoVXBsb2FkXSA9IHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uVXBsb2FkUHJvZ3Jlc3MpKTtcblxuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB1cGxvYWRUaHJvdHRsZWQpO1xuXG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZmx1c2hVcGxvYWQpO1xuICAgIH1cblxuICAgIGlmIChfY29uZmlnLmNhbmNlbFRva2VuIHx8IF9jb25maWcuc2lnbmFsKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgb25DYW5jZWxlZCA9IGNhbmNlbCA9PiB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoIWNhbmNlbCB8fCBjYW5jZWwudHlwZSA/IG5ldyBDYW5jZWxlZEVycm9yJDEobnVsbCwgY29uZmlnLCByZXF1ZXN0KSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBfY29uZmlnLmNhbmNlbFRva2VuICYmIF9jb25maWcuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgaWYgKF9jb25maWcuc2lnbmFsKSB7XG4gICAgICAgIF9jb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBfY29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByb3RvY29sID0gcGFyc2VQcm90b2NvbChfY29uZmlnLnVybCk7XG5cbiAgICBpZiAocHJvdG9jb2wgJiYgcGxhdGZvcm0ucHJvdG9jb2xzLmluZGV4T2YocHJvdG9jb2wpID09PSAtMSkge1xuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yJDEoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvciQxLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhIHx8IG51bGwpO1xuICB9KTtcbn07XG5cbmNvbnN0IGNvbXBvc2VTaWduYWxzID0gKHNpZ25hbHMsIHRpbWVvdXQpID0+IHtcbiAgY29uc3Qge2xlbmd0aH0gPSAoc2lnbmFscyA9IHNpZ25hbHMgPyBzaWduYWxzLmZpbHRlcihCb29sZWFuKSA6IFtdKTtcblxuICBpZiAodGltZW91dCB8fCBsZW5ndGgpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGxldCBhYm9ydGVkO1xuXG4gICAgY29uc3Qgb25hYm9ydCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmICghYWJvcnRlZCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY29uc3QgZXJyID0gcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgPyByZWFzb24gOiB0aGlzLnJlYXNvbjtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yJDEgPyBlcnIgOiBuZXcgQ2FuY2VsZWRFcnJvciQxKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBlcnIpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IHRpbWVyID0gdGltZW91dCAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgIG9uYWJvcnQobmV3IEF4aW9zRXJyb3IkMShgdGltZW91dCAke3RpbWVvdXR9IG9mIG1zIGV4Y2VlZGVkYCwgQXhpb3NFcnJvciQxLkVUSU1FRE9VVCkpO1xuICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICBpZiAoc2lnbmFscykge1xuICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIHNpZ25hbHMuZm9yRWFjaChzaWduYWwgPT4ge1xuICAgICAgICAgIHNpZ25hbC51bnN1YnNjcmliZSA/IHNpZ25hbC51bnN1YnNjcmliZShvbmFib3J0KSA6IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2lnbmFscyA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNpZ25hbHMuZm9yRWFjaCgoc2lnbmFsKSA9PiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSk7XG5cbiAgICBjb25zdCB7c2lnbmFsfSA9IGNvbnRyb2xsZXI7XG5cbiAgICBzaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB1dGlscyQxLmFzYXAodW5zdWJzY3JpYmUpO1xuXG4gICAgcmV0dXJuIHNpZ25hbDtcbiAgfVxufTtcblxuY29uc3Qgc3RyZWFtQ2h1bmsgPSBmdW5jdGlvbiogKGNodW5rLCBjaHVua1NpemUpIHtcbiAgbGV0IGxlbiA9IGNodW5rLmJ5dGVMZW5ndGg7XG5cbiAgaWYgKGxlbiA8IGNodW5rU2l6ZSkge1xuICAgIHlpZWxkIGNodW5rO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3MgPSAwO1xuICBsZXQgZW5kO1xuXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICBlbmQgPSBwb3MgKyBjaHVua1NpemU7XG4gICAgeWllbGQgY2h1bmsuc2xpY2UocG9zLCBlbmQpO1xuICAgIHBvcyA9IGVuZDtcbiAgfVxufTtcblxuY29uc3QgcmVhZEJ5dGVzID0gYXN5bmMgZnVuY3Rpb24qIChpdGVyYWJsZSwgY2h1bmtTaXplKSB7XG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVhZFN0cmVhbShpdGVyYWJsZSkpIHtcbiAgICB5aWVsZCogc3RyZWFtQ2h1bmsoY2h1bmssIGNodW5rU2l6ZSk7XG4gIH1cbn07XG5cbmNvbnN0IHJlYWRTdHJlYW0gPSBhc3luYyBmdW5jdGlvbiogKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkge1xuICAgIHlpZWxkKiBzdHJlYW07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICB0cnkge1xuICAgIGZvciAoOzspIHtcbiAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB5aWVsZCB2YWx1ZTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgcmVhZGVyLmNhbmNlbCgpO1xuICB9XG59O1xuXG5jb25zdCB0cmFja1N0cmVhbSA9IChzdHJlYW0sIGNodW5rU2l6ZSwgb25Qcm9ncmVzcywgb25GaW5pc2gpID0+IHtcbiAgY29uc3QgaXRlcmF0b3IgPSByZWFkQnl0ZXMoc3RyZWFtLCBjaHVua1NpemUpO1xuXG4gIGxldCBieXRlcyA9IDA7XG4gIGxldCBkb25lO1xuICBsZXQgX29uRmluaXNoID0gKGUpID0+IHtcbiAgICBpZiAoIWRvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgb25GaW5pc2ggJiYgb25GaW5pc2goZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcblxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgX29uRmluaXNoKCk7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZW4gPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuICAgICAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgICAgIGxldCBsb2FkZWRCeXRlcyA9IGJ5dGVzICs9IGxlbjtcbiAgICAgICAgICBvblByb2dyZXNzKGxvYWRlZEJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb250cm9sbGVyLmVucXVldWUobmV3IFVpbnQ4QXJyYXkodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfb25GaW5pc2goZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FuY2VsKHJlYXNvbikge1xuICAgICAgX29uRmluaXNoKHJlYXNvbik7XG4gICAgICByZXR1cm4gaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgfVxuICB9LCB7XG4gICAgaGlnaFdhdGVyTWFyazogMlxuICB9KVxufTtcblxuY29uc3QgaXNGZXRjaFN1cHBvcnRlZCA9IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVzcG9uc2UgPT09ICdmdW5jdGlvbic7XG5jb25zdCBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkID0gaXNGZXRjaFN1cHBvcnRlZCAmJiB0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09ICdmdW5jdGlvbic7XG5cbi8vIHVzZWQgb25seSBpbnNpZGUgdGhlIGZldGNoIGFkYXB0ZXJcbmNvbnN0IGVuY29kZVRleHQgPSBpc0ZldGNoU3VwcG9ydGVkICYmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICgoZW5jb2RlcikgPT4gKHN0cikgPT4gZW5jb2Rlci5lbmNvZGUoc3RyKSkobmV3IFRleHRFbmNvZGVyKCkpIDpcbiAgICBhc3luYyAoc3RyKSA9PiBuZXcgVWludDhBcnJheShhd2FpdCBuZXcgUmVzcG9uc2Uoc3RyKS5hcnJheUJ1ZmZlcigpKVxuKTtcblxuY29uc3QgdGVzdCA9IChmbiwgLi4uYXJncykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAhIWZuKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn07XG5cbmNvbnN0IHN1cHBvcnRzUmVxdWVzdFN0cmVhbSA9IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgJiYgdGVzdCgoKSA9PiB7XG4gIGxldCBkdXBsZXhBY2Nlc3NlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGhhc0NvbnRlbnRUeXBlID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgYm9keTogbmV3IFJlYWRhYmxlU3RyZWFtKCksXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgZ2V0IGR1cGxleCgpIHtcbiAgICAgIGR1cGxleEFjY2Vzc2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiAnaGFsZic7XG4gICAgfSxcbiAgfSkuaGVhZGVycy5oYXMoJ0NvbnRlbnQtVHlwZScpO1xuXG4gIHJldHVybiBkdXBsZXhBY2Nlc3NlZCAmJiAhaGFzQ29udGVudFR5cGU7XG59KTtcblxuY29uc3QgREVGQVVMVF9DSFVOS19TSVpFID0gNjQgKiAxMDI0O1xuXG5jb25zdCBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJlxuICB0ZXN0KCgpID0+IHV0aWxzJDEuaXNSZWFkYWJsZVN0cmVhbShuZXcgUmVzcG9uc2UoJycpLmJvZHkpKTtcblxuXG5jb25zdCByZXNvbHZlcnMgPSB7XG4gIHN0cmVhbTogc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAoKHJlcykgPT4gcmVzLmJvZHkpXG59O1xuXG5pc0ZldGNoU3VwcG9ydGVkICYmICgoKHJlcykgPT4ge1xuICBbJ3RleHQnLCAnYXJyYXlCdWZmZXInLCAnYmxvYicsICdmb3JtRGF0YScsICdzdHJlYW0nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IHV0aWxzJDEuaXNGdW5jdGlvbihyZXNbdHlwZV0pID8gKHJlcykgPT4gcmVzW3R5cGVdKCkgOlxuICAgICAgKF8sIGNvbmZpZykgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvciQxKGBSZXNwb25zZSB0eXBlICcke3R5cGV9JyBpcyBub3Qgc3VwcG9ydGVkYCwgQXhpb3NFcnJvciQxLkVSUl9OT1RfU1VQUE9SVCwgY29uZmlnKTtcbiAgICAgIH0pO1xuICB9KTtcbn0pKG5ldyBSZXNwb25zZSkpO1xuXG5jb25zdCBnZXRCb2R5TGVuZ3RoID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYodXRpbHMkMS5pc0Jsb2IoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5zaXplO1xuICB9XG5cbiAgaWYodXRpbHMkMS5pc1NwZWNDb21wbGlhbnRGb3JtKGJvZHkpKSB7XG4gICAgY29uc3QgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keSxcbiAgICB9KTtcbiAgICByZXR1cm4gKGF3YWl0IF9yZXF1ZXN0LmFycmF5QnVmZmVyKCkpLmJ5dGVMZW5ndGg7XG4gIH1cblxuICBpZih1dGlscyQxLmlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpIHx8IHV0aWxzJDEuaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH1cblxuICBpZih1dGlscyQxLmlzVVJMU2VhcmNoUGFyYW1zKGJvZHkpKSB7XG4gICAgYm9keSA9IGJvZHkgKyAnJztcbiAgfVxuXG4gIGlmKHV0aWxzJDEuaXNTdHJpbmcoYm9keSkpIHtcbiAgICByZXR1cm4gKGF3YWl0IGVuY29kZVRleHQoYm9keSkpLmJ5dGVMZW5ndGg7XG4gIH1cbn07XG5cbmNvbnN0IHJlc29sdmVCb2R5TGVuZ3RoID0gYXN5bmMgKGhlYWRlcnMsIGJvZHkpID0+IHtcbiAgY29uc3QgbGVuZ3RoID0gdXRpbHMkMS50b0Zpbml0ZU51bWJlcihoZWFkZXJzLmdldENvbnRlbnRMZW5ndGgoKSk7XG5cbiAgcmV0dXJuIGxlbmd0aCA9PSBudWxsID8gZ2V0Qm9keUxlbmd0aChib2R5KSA6IGxlbmd0aDtcbn07XG5cbnZhciBmZXRjaEFkYXB0ZXIgPSBpc0ZldGNoU3VwcG9ydGVkICYmIChhc3luYyAoY29uZmlnKSA9PiB7XG4gIGxldCB7XG4gICAgdXJsLFxuICAgIG1ldGhvZCxcbiAgICBkYXRhLFxuICAgIHNpZ25hbCxcbiAgICBjYW5jZWxUb2tlbixcbiAgICB0aW1lb3V0LFxuICAgIG9uRG93bmxvYWRQcm9ncmVzcyxcbiAgICBvblVwbG9hZFByb2dyZXNzLFxuICAgIHJlc3BvbnNlVHlwZSxcbiAgICBoZWFkZXJzLFxuICAgIHdpdGhDcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbicsXG4gICAgZmV0Y2hPcHRpb25zXG4gIH0gPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG5cbiAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlID8gKHJlc3BvbnNlVHlwZSArICcnKS50b0xvd2VyQ2FzZSgpIDogJ3RleHQnO1xuXG4gIGxldCBjb21wb3NlZFNpZ25hbCA9IGNvbXBvc2VTaWduYWxzKFtzaWduYWwsIGNhbmNlbFRva2VuICYmIGNhbmNlbFRva2VuLnRvQWJvcnRTaWduYWwoKV0sIHRpbWVvdXQpO1xuXG4gIGxldCByZXF1ZXN0O1xuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gY29tcG9zZWRTaWduYWwgJiYgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUgJiYgKCgpID0+IHtcbiAgICAgIGNvbXBvc2VkU2lnbmFsLnVuc3Vic2NyaWJlKCk7XG4gIH0pO1xuXG4gIGxldCByZXF1ZXN0Q29udGVudExlbmd0aDtcblxuICB0cnkge1xuICAgIGlmIChcbiAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgJiYgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtICYmIG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcgJiZcbiAgICAgIChyZXF1ZXN0Q29udGVudExlbmd0aCA9IGF3YWl0IHJlc29sdmVCb2R5TGVuZ3RoKGhlYWRlcnMsIGRhdGEpKSAhPT0gMFxuICAgICkge1xuICAgICAgbGV0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICBkdXBsZXg6IFwiaGFsZlwiXG4gICAgICB9KTtcblxuICAgICAgbGV0IGNvbnRlbnRUeXBlSGVhZGVyO1xuXG4gICAgICBpZiAodXRpbHMkMS5pc0Zvcm1EYXRhKGRhdGEpICYmIChjb250ZW50VHlwZUhlYWRlciA9IF9yZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkpIHtcbiAgICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZShjb250ZW50VHlwZUhlYWRlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChfcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICAgIHJlcXVlc3RDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uVXBsb2FkUHJvZ3Jlc3MpKVxuICAgICAgICApO1xuXG4gICAgICAgIGRhdGEgPSB0cmFja1N0cmVhbShfcmVxdWVzdC5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsIGZsdXNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXV0aWxzJDEuaXNTdHJpbmcod2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgd2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzID8gJ2luY2x1ZGUnIDogJ29taXQnO1xuICAgIH1cblxuICAgIC8vIENsb3VkZmxhcmUgV29ya2VycyB0aHJvd3Mgd2hlbiBjcmVkZW50aWFscyBhcmUgZGVmaW5lZFxuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY2xvdWRmbGFyZS93b3JrZXJkL2lzc3Vlcy85MDJcbiAgICBjb25zdCBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID0gXCJjcmVkZW50aWFsc1wiIGluIFJlcXVlc3QucHJvdG90eXBlO1xuICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHtcbiAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgIHNpZ25hbDogY29tcG9zZWRTaWduYWwsXG4gICAgICBtZXRob2Q6IG1ldGhvZC50b1VwcGVyQ2FzZSgpLFxuICAgICAgaGVhZGVyczogaGVhZGVycy5ub3JtYWxpemUoKS50b0pTT04oKSxcbiAgICAgIGJvZHk6IGRhdGEsXG4gICAgICBkdXBsZXg6IFwiaGFsZlwiLFxuICAgICAgY3JlZGVudGlhbHM6IGlzQ3JlZGVudGlhbHNTdXBwb3J0ZWQgPyB3aXRoQ3JlZGVudGlhbHMgOiB1bmRlZmluZWRcbiAgICB9KTtcblxuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlcXVlc3QpO1xuXG4gICAgY29uc3QgaXNTdHJlYW1SZXNwb25zZSA9IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKHJlc3BvbnNlVHlwZSA9PT0gJ3N0cmVhbScgfHwgcmVzcG9uc2VUeXBlID09PSAncmVzcG9uc2UnKTtcblxuICAgIGlmIChzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChvbkRvd25sb2FkUHJvZ3Jlc3MgfHwgKGlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUpKSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG4gICAgICBbJ3N0YXR1cycsICdzdGF0dXNUZXh0JywgJ2hlYWRlcnMnXS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICBvcHRpb25zW3Byb3BdID0gcmVzcG9uc2VbcHJvcF07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VDb250ZW50TGVuZ3RoID0gdXRpbHMkMS50b0Zpbml0ZU51bWJlcihyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC1sZW5ndGgnKSk7XG5cbiAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBvbkRvd25sb2FkUHJvZ3Jlc3MgJiYgcHJvZ3Jlc3NFdmVudERlY29yYXRvcihcbiAgICAgICAgcmVzcG9uc2VDb250ZW50TGVuZ3RoLFxuICAgICAgICBwcm9ncmVzc0V2ZW50UmVkdWNlcihhc3luY0RlY29yYXRvcihvbkRvd25sb2FkUHJvZ3Jlc3MpLCB0cnVlKVxuICAgICAgKSB8fCBbXTtcblxuICAgICAgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoXG4gICAgICAgIHRyYWNrU3RyZWFtKHJlc3BvbnNlLmJvZHksIERFRkFVTFRfQ0hVTktfU0laRSwgb25Qcm9ncmVzcywgKCkgPT4ge1xuICAgICAgICAgIGZsdXNoICYmIGZsdXNoKCk7XG4gICAgICAgICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSksXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlIHx8ICd0ZXh0JztcblxuICAgIGxldCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNvbHZlcnNbdXRpbHMkMS5maW5kS2V5KHJlc29sdmVycywgcmVzcG9uc2VUeXBlKSB8fCAndGV4dCddKHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgaGVhZGVyczogQXhpb3NIZWFkZXJzJDEuZnJvbShyZXNwb25zZS5oZWFkZXJzKSxcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfSk7XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIGlmIChlcnIgJiYgZXJyLm5hbWUgPT09ICdUeXBlRXJyb3InICYmIC9mZXRjaC9pLnRlc3QoZXJyLm1lc3NhZ2UpKSB7XG4gICAgICB0aHJvdyBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQXhpb3NFcnJvciQxKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvciQxLkVSUl9ORVRXT1JLLCBjb25maWcsIHJlcXVlc3QpLFxuICAgICAgICB7XG4gICAgICAgICAgY2F1c2U6IGVyci5jYXVzZSB8fCBlcnJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIHRocm93IEF4aW9zRXJyb3IkMS5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICB9XG59KTtcblxuY29uc3Qga25vd25BZGFwdGVycyA9IHtcbiAgaHR0cDogaHR0cEFkYXB0ZXIsXG4gIHhocjogeGhyQWRhcHRlcixcbiAgZmV0Y2g6IGZldGNoQWRhcHRlclxufTtcblxudXRpbHMkMS5mb3JFYWNoKGtub3duQWRhcHRlcnMsIChmbiwgdmFsdWUpID0+IHtcbiAgaWYgKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ25hbWUnLCB7dmFsdWV9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnYWRhcHRlck5hbWUnLCB7dmFsdWV9KTtcbiAgfVxufSk7XG5cbmNvbnN0IHJlbmRlclJlYXNvbiA9IChyZWFzb24pID0+IGAtICR7cmVhc29ufWA7XG5cbmNvbnN0IGlzUmVzb2x2ZWRIYW5kbGUgPSAoYWRhcHRlcikgPT4gdXRpbHMkMS5pc0Z1bmN0aW9uKGFkYXB0ZXIpIHx8IGFkYXB0ZXIgPT09IG51bGwgfHwgYWRhcHRlciA9PT0gZmFsc2U7XG5cbnZhciBhZGFwdGVycyA9IHtcbiAgZ2V0QWRhcHRlcjogKGFkYXB0ZXJzKSA9PiB7XG4gICAgYWRhcHRlcnMgPSB1dGlscyQxLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgbGV0IGlkO1xuXG4gICAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkSGFuZGxlKG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yJDEoYFVua25vd24gYWRhcHRlciAnJHtpZH0nYCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJlamVjdGVkUmVhc29uc1tpZCB8fCAnIycgKyBpXSA9IGFkYXB0ZXI7XG4gICAgfVxuXG4gICAgaWYgKCFhZGFwdGVyKSB7XG5cbiAgICAgIGNvbnN0IHJlYXNvbnMgPSBPYmplY3QuZW50cmllcyhyZWplY3RlZFJlYXNvbnMpXG4gICAgICAgIC5tYXAoKFtpZCwgc3RhdGVdKSA9PiBgYWRhcHRlciAke2lkfSBgICtcbiAgICAgICAgICAoc3RhdGUgPT09IGZhbHNlID8gJ2lzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50JyA6ICdpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBidWlsZCcpXG4gICAgICAgICk7XG5cbiAgICAgIGxldCBzID0gbGVuZ3RoID9cbiAgICAgICAgKHJlYXNvbnMubGVuZ3RoID4gMSA/ICdzaW5jZSA6XFxuJyArIHJlYXNvbnMubWFwKHJlbmRlclJlYXNvbikuam9pbignXFxuJykgOiAnICcgKyByZW5kZXJSZWFzb24ocmVhc29uc1swXSkpIDpcbiAgICAgICAgJ2FzIG5vIGFkYXB0ZXIgc3BlY2lmaWVkJztcblxuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IkMShcbiAgICAgICAgYFRoZXJlIGlzIG5vIHN1aXRhYmxlIGFkYXB0ZXIgdG8gZGlzcGF0Y2ggdGhlIHJlcXVlc3QgYCArIHMsXG4gICAgICAgICdFUlJfTk9UX1NVUFBPUlQnXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBhZGFwdGVyO1xuICB9LFxuICBhZGFwdGVyczoga25vd25BZGFwdGVyc1xufTtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcbiAgfVxuXG4gIGlmIChjb25maWcuc2lnbmFsICYmIGNvbmZpZy5zaWduYWwuYWJvcnRlZCkge1xuICAgIHRocm93IG5ldyBDYW5jZWxlZEVycm9yJDEobnVsbCwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuZnJvbShjb25maWcuaGVhZGVycyk7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICBpZiAoWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmluZGV4T2YoY29uZmlnLm1ldGhvZCkgIT09IC0xKSB7XG4gICAgY29uZmlnLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyKGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXIpO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgY29uZmlnLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VcbiAgICApO1xuXG4gICAgcmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycyQxLmZyb20ocmVzcG9uc2UuaGVhZGVycyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsJDEocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMkMS5mcm9tKHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59XG5cbmNvbnN0IFZFUlNJT04kMSA9IFwiMS43LjdcIjtcblxuY29uc3QgdmFsaWRhdG9ycyQxID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaCgodHlwZSwgaSkgPT4ge1xuICB2YWxpZGF0b3JzJDFbdHlwZV0gPSBmdW5jdGlvbiB2YWxpZGF0b3IodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSB0eXBlIHx8ICdhJyArIChpIDwgMSA/ICduICcgOiAnICcpICsgdHlwZTtcbiAgfTtcbn0pO1xuXG5jb25zdCBkZXByZWNhdGVkV2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBUcmFuc2l0aW9uYWwgb3B0aW9uIHZhbGlkYXRvclxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb258Ym9vbGVhbj99IHZhbGlkYXRvciAtIHNldCB0byBmYWxzZSBpZiB0aGUgdHJhbnNpdGlvbmFsIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkXG4gKiBAcGFyYW0ge3N0cmluZz99IHZlcnNpb24gLSBkZXByZWNhdGVkIHZlcnNpb24gLyByZW1vdmVkIHNpbmNlIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nP30gbWVzc2FnZSAtIHNvbWUgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgaW5mb1xuICpcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xudmFsaWRhdG9ycyQxLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04kMSArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gKHZhbHVlLCBvcHQsIG9wdHMpID0+IHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IkMShcbiAgICAgICAgZm9ybWF0TWVzc2FnZShvcHQsICcgaGFzIGJlZW4gcmVtb3ZlZCcgKyAodmVyc2lvbiA/ICcgaW4gJyArIHZlcnNpb24gOiAnJykpLFxuICAgICAgICBBeGlvc0Vycm9yJDEuRVJSX0RFUFJFQ0FURURcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24gJiYgIWRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdKSB7XG4gICAgICBkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSA9IHRydWU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAnIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdicgKyB2ZXJzaW9uICsgJyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yID8gdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdHMpIDogdHJ1ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogQXNzZXJ0IG9iamVjdCdzIHByb3BlcnRpZXMgdHlwZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBhbGxvd1Vua25vd25cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGFzc2VydE9wdGlvbnMob3B0aW9ucywgc2NoZW1hLCBhbGxvd1Vua25vd24pIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBBeGlvc0Vycm9yJDEoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yJDEuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBjb25zdCBvcHQgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yJDEoJ29wdGlvbiAnICsgb3B0ICsgJyBtdXN0IGJlICcgKyByZXN1bHQsIEF4aW9zRXJyb3IkMS5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IkMSgnVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvciQxLkVSUl9CQURfT1BUSU9OKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHZhbGlkYXRvciA9IHtcbiAgYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yczogdmFsaWRhdG9ycyQxXG59O1xuXG5jb25zdCB2YWxpZGF0b3JzID0gdmFsaWRhdG9yLnZhbGlkYXRvcnM7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmxldCBBeGlvcyQxID0gY2xhc3MgQXhpb3Mge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbmZpZykge1xuICAgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbmZpZ09yVXJsIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGxldCBkdW1teTtcblxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA/IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGR1bW15ID0ge30pIDogKGR1bW15ID0gbmV3IEVycm9yKCkpO1xuXG4gICAgICAgIC8vIHNsaWNlIG9mZiB0aGUgRXJyb3I6IC4uLiBsaW5lXG4gICAgICAgIGNvbnN0IHN0YWNrID0gZHVtbXkuc3RhY2sgPyBkdW1teS5zdGFjay5yZXBsYWNlKC9eLitcXG4vLCAnJykgOiAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWVyci5zdGFjaykge1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgICAvLyBtYXRjaCB3aXRob3V0IHRoZSAyIHRvcCBzdGFjayBsaW5lc1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2sgJiYgIVN0cmluZyhlcnIuc3RhY2spLmVuZHNXaXRoKHN0YWNrLnJlcGxhY2UoL14uK1xcbi4rXFxuLywgJycpKSkge1xuICAgICAgICAgICAgZXJyLnN0YWNrICs9ICdcXG4nICsgc3RhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaWdub3JlIHRoZSBjYXNlIHdoZXJlIFwic3RhY2tcIiBpcyBhbiB1bi13cml0YWJsZSBwcm9wZXJ0eVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICBfcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICAgIGlmICh0eXBlb2YgY29uZmlnT3JVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgICBjb25maWcudXJsID0gY29uZmlnT3JVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICAgIH1cblxuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnJDEodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAgIGNvbnN0IHt0cmFuc2l0aW9uYWwsIHBhcmFtc1NlcmlhbGl6ZXIsIGhlYWRlcnN9ID0gY29uZmlnO1xuXG4gICAgaWYgKHRyYW5zaXRpb25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh0cmFuc2l0aW9uYWwsIHtcbiAgICAgICAgc2lsZW50SlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGZvcmNlZEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBjbGFyaWZ5VGltZW91dEVycm9yOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pXG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIgIT0gbnVsbCkge1xuICAgICAgaWYgKHV0aWxzJDEuaXNGdW5jdGlvbihwYXJhbXNTZXJpYWxpemVyKSkge1xuICAgICAgICBjb25maWcucGFyYW1zU2VyaWFsaXplciA9IHtcbiAgICAgICAgICBzZXJpYWxpemU6IHBhcmFtc1NlcmlhbGl6ZXJcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHBhcmFtc1NlcmlhbGl6ZXIsIHtcbiAgICAgICAgICBlbmNvZGU6IHZhbGlkYXRvcnMuZnVuY3Rpb24sXG4gICAgICAgICAgc2VyaWFsaXplOiB2YWxpZGF0b3JzLmZ1bmN0aW9uXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBjb25maWcubWV0aG9kXG4gICAgY29uZmlnLm1ldGhvZCA9IChjb25maWcubWV0aG9kIHx8IHRoaXMuZGVmYXVsdHMubWV0aG9kIHx8ICdnZXQnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gRmxhdHRlbiBoZWFkZXJzXG4gICAgbGV0IGNvbnRleHRIZWFkZXJzID0gaGVhZGVycyAmJiB1dGlscyQxLm1lcmdlKFxuICAgICAgaGVhZGVycy5jb21tb24sXG4gICAgICBoZWFkZXJzW2NvbmZpZy5tZXRob2RdXG4gICAgKTtcblxuICAgIGhlYWRlcnMgJiYgdXRpbHMkMS5mb3JFYWNoKFxuICAgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgICAobWV0aG9kKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzW21ldGhvZF07XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzJDEuY29uY2F0KGNvbnRleHRIZWFkZXJzLCBoZWFkZXJzKTtcblxuICAgIC8vIGZpbHRlciBvdXQgc2tpcHBlZCBpbnRlcmNlcHRvcnNcbiAgICBjb25zdCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIGxldCBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSB0cnVlO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvci5ydW5XaGVuID09PSAnZnVuY3Rpb24nICYmIGludGVyY2VwdG9yLnJ1bldoZW4oY29uZmlnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgJiYgaW50ZXJjZXB0b3Iuc3luY2hyb25vdXM7XG5cbiAgICAgIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBsZXQgcHJvbWlzZTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGxlbjtcblxuICAgIGlmICghc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzKSB7XG4gICAgICBjb25zdCBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QuYmluZCh0aGlzKSwgdW5kZWZpbmVkXTtcbiAgICAgIGNoYWluLnVuc2hpZnQuYXBwbHkoY2hhaW4sIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGNoYWluLnB1c2guYXBwbHkoY2hhaW4sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBsZW4gPSBjaGFpbi5sZW5ndGg7XG5cbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbltpKytdLCBjaGFpbltpKytdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgbGVuID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgbGV0IG5ld0NvbmZpZyA9IGNvbmZpZztcblxuICAgIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIGNvbnN0IG9uRnVsZmlsbGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIGNvbnN0IG9uUmVqZWN0ZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3Q29uZmlnID0gb25GdWxmaWxsZWQobmV3Q29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG9uUmVqZWN0ZWQuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBwcm9taXNlID0gZGlzcGF0Y2hSZXF1ZXN0LmNhbGwodGhpcywgbmV3Q29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpID0gMDtcbiAgICBsZW4gPSByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFVyaShjb25maWcpIHtcbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyQxKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXR1cm4gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbiAgfVxufTtcblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscyQxLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcyQxLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnJDEoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2QsXG4gICAgICB1cmwsXG4gICAgICBkYXRhOiAoY29uZmlnIHx8IHt9KS5kYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzJDEuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWckMShjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcyQxLnByb3RvdHlwZVttZXRob2RdID0gZ2VuZXJhdGVIVFRQTWV0aG9kKCk7XG5cbiAgQXhpb3MkMS5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxUb2tlbn1cbiAqL1xubGV0IENhbmNlbFRva2VuJDEgPSBjbGFzcyBDYW5jZWxUb2tlbiB7XG4gIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZTtcblxuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuKGNhbmNlbCA9PiB7XG4gICAgICBpZiAoIXRva2VuLl9saXN0ZW5lcnMpIHJldHVybjtcblxuICAgICAgbGV0IGkgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgdG9rZW4uX2xpc3RlbmVyc1tpXShjYW5jZWwpO1xuICAgICAgfVxuICAgICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuID0gb25mdWxmaWxsZWQgPT4ge1xuICAgICAgbGV0IF9yZXNvbHZlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgdG9rZW4uc3Vic2NyaWJlKHJlc29sdmUpO1xuICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgICAgcHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgIHRva2VuLnVuc3Vic2NyaWJlKF9yZXNvbHZlKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gICAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yJDEobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgdGhyb3cgdGhpcy5yZWFzb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICB0b0Fib3J0U2lnbmFsKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICBjb25zdCBhYm9ydCA9IChlcnIpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoZXJyKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJzY3JpYmUoYWJvcnQpO1xuXG4gICAgY29udHJvbGxlci5zaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB0aGlzLnVuc3Vic2NyaWJlKGFib3J0KTtcblxuICAgIHJldHVybiBjb250cm9sbGVyLnNpZ25hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gICAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gICAqL1xuICBzdGF0aWMgc291cmNlKCkge1xuICAgIGxldCBjYW5jZWw7XG4gICAgY29uc3QgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgICAgY2FuY2VsID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW4sXG4gICAgICBjYW5jZWxcbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwcmVhZCQxKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3MsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0F4aW9zRXJyb3IkMShwYXlsb2FkKSB7XG4gIHJldHVybiB1dGlscyQxLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59XG5cbmNvbnN0IEh0dHBTdGF0dXNDb2RlJDEgPSB7XG4gIENvbnRpbnVlOiAxMDAsXG4gIFN3aXRjaGluZ1Byb3RvY29sczogMTAxLFxuICBQcm9jZXNzaW5nOiAxMDIsXG4gIEVhcmx5SGludHM6IDEwMyxcbiAgT2s6IDIwMCxcbiAgQ3JlYXRlZDogMjAxLFxuICBBY2NlcHRlZDogMjAyLFxuICBOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246IDIwMyxcbiAgTm9Db250ZW50OiAyMDQsXG4gIFJlc2V0Q29udGVudDogMjA1LFxuICBQYXJ0aWFsQ29udGVudDogMjA2LFxuICBNdWx0aVN0YXR1czogMjA3LFxuICBBbHJlYWR5UmVwb3J0ZWQ6IDIwOCxcbiAgSW1Vc2VkOiAyMjYsXG4gIE11bHRpcGxlQ2hvaWNlczogMzAwLFxuICBNb3ZlZFBlcm1hbmVudGx5OiAzMDEsXG4gIEZvdW5kOiAzMDIsXG4gIFNlZU90aGVyOiAzMDMsXG4gIE5vdE1vZGlmaWVkOiAzMDQsXG4gIFVzZVByb3h5OiAzMDUsXG4gIFVudXNlZDogMzA2LFxuICBUZW1wb3JhcnlSZWRpcmVjdDogMzA3LFxuICBQZXJtYW5lbnRSZWRpcmVjdDogMzA4LFxuICBCYWRSZXF1ZXN0OiA0MDAsXG4gIFVuYXV0aG9yaXplZDogNDAxLFxuICBQYXltZW50UmVxdWlyZWQ6IDQwMixcbiAgRm9yYmlkZGVuOiA0MDMsXG4gIE5vdEZvdW5kOiA0MDQsXG4gIE1ldGhvZE5vdEFsbG93ZWQ6IDQwNSxcbiAgTm90QWNjZXB0YWJsZTogNDA2LFxuICBQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDQwNyxcbiAgUmVxdWVzdFRpbWVvdXQ6IDQwOCxcbiAgQ29uZmxpY3Q6IDQwOSxcbiAgR29uZTogNDEwLFxuICBMZW5ndGhSZXF1aXJlZDogNDExLFxuICBQcmVjb25kaXRpb25GYWlsZWQ6IDQxMixcbiAgUGF5bG9hZFRvb0xhcmdlOiA0MTMsXG4gIFVyaVRvb0xvbmc6IDQxNCxcbiAgVW5zdXBwb3J0ZWRNZWRpYVR5cGU6IDQxNSxcbiAgUmFuZ2VOb3RTYXRpc2ZpYWJsZTogNDE2LFxuICBFeHBlY3RhdGlvbkZhaWxlZDogNDE3LFxuICBJbUFUZWFwb3Q6IDQxOCxcbiAgTWlzZGlyZWN0ZWRSZXF1ZXN0OiA0MjEsXG4gIFVucHJvY2Vzc2FibGVFbnRpdHk6IDQyMixcbiAgTG9ja2VkOiA0MjMsXG4gIEZhaWxlZERlcGVuZGVuY3k6IDQyNCxcbiAgVG9vRWFybHk6IDQyNSxcbiAgVXBncmFkZVJlcXVpcmVkOiA0MjYsXG4gIFByZWNvbmRpdGlvblJlcXVpcmVkOiA0MjgsXG4gIFRvb01hbnlSZXF1ZXN0czogNDI5LFxuICBSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2U6IDQzMSxcbiAgVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnM6IDQ1MSxcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjogNTAwLFxuICBOb3RJbXBsZW1lbnRlZDogNTAxLFxuICBCYWRHYXRld2F5OiA1MDIsXG4gIFNlcnZpY2VVbmF2YWlsYWJsZTogNTAzLFxuICBHYXRld2F5VGltZW91dDogNTA0LFxuICBIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZDogNTA1LFxuICBWYXJpYW50QWxzb05lZ290aWF0ZXM6IDUwNixcbiAgSW5zdWZmaWNpZW50U3RvcmFnZTogNTA3LFxuICBMb29wRGV0ZWN0ZWQ6IDUwOCxcbiAgTm90RXh0ZW5kZWQ6IDUxMCxcbiAgTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDUxMSxcbn07XG5cbk9iamVjdC5lbnRyaWVzKEh0dHBTdGF0dXNDb2RlJDEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZSQxW3ZhbHVlXSA9IGtleTtcbn0pO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MkMShkZWZhdWx0Q29uZmlnKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBiaW5kKEF4aW9zJDEucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzJDEuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcyQxLnByb3RvdHlwZSwgY29udGV4dCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMkMS5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQsIG51bGwsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuICBpbnN0YW5jZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWckMShkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zJDE7XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsZWRFcnJvciA9IENhbmNlbGVkRXJyb3IkMTtcbmF4aW9zLkNhbmNlbFRva2VuID0gQ2FuY2VsVG9rZW4kMTtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWwkMTtcbmF4aW9zLlZFUlNJT04gPSBWRVJTSU9OJDE7XG5heGlvcy50b0Zvcm1EYXRhID0gdG9Gb3JtRGF0YSQxO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3IkMTtcblxuLy8gYWxpYXMgZm9yIENhbmNlbGVkRXJyb3IgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmF4aW9zLkNhbmNlbCA9IGF4aW9zLkNhbmNlbGVkRXJyb3I7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5cbmF4aW9zLnNwcmVhZCA9IHNwcmVhZCQxO1xuXG4vLyBFeHBvc2UgaXNBeGlvc0Vycm9yXG5heGlvcy5pc0F4aW9zRXJyb3IgPSBpc0F4aW9zRXJyb3IkMTtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnJDE7XG5cbmF4aW9zLkF4aW9zSGVhZGVycyA9IEF4aW9zSGVhZGVycyQxO1xuXG5heGlvcy5mb3JtVG9KU09OID0gdGhpbmcgPT4gZm9ybURhdGFUb0pTT04odXRpbHMkMS5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlJDE7XG5cbmF4aW9zLmRlZmF1bHQgPSBheGlvcztcblxuLy8gVGhpcyBtb2R1bGUgaXMgaW50ZW5kZWQgdG8gdW53cmFwIEF4aW9zIGRlZmF1bHQgZXhwb3J0IGFzIG5hbWVkLlxuLy8gS2VlcCB0b3AtbGV2ZWwgZXhwb3J0IHNhbWUgd2l0aCBzdGF0aWMgcHJvcGVydGllc1xuLy8gc28gdGhhdCBpdCBjYW4ga2VlcCBzYW1lIHdpdGggZXMgbW9kdWxlIG9yIGNqc1xuY29uc3Qge1xuICBBeGlvcyxcbiAgQXhpb3NFcnJvcixcbiAgQ2FuY2VsZWRFcnJvcixcbiAgaXNDYW5jZWwsXG4gIENhbmNlbFRva2VuLFxuICBWRVJTSU9OLFxuICBhbGwsXG4gIENhbmNlbCxcbiAgaXNBeGlvc0Vycm9yLFxuICBzcHJlYWQsXG4gIHRvRm9ybURhdGEsXG4gIEF4aW9zSGVhZGVycyxcbiAgSHR0cFN0YXR1c0NvZGUsXG4gIGZvcm1Ub0pTT04sXG4gIGdldEFkYXB0ZXIsXG4gIG1lcmdlQ29uZmlnXG59ID0gYXhpb3M7XG5cbnZhciB5cz1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIEtnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dmFyIEdnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO3ZhciBRZz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBfZT0odCxlKT0+KCk9Pih0JiYoZT10KHQ9MCkpLGUpO3ZhciBNPSh0LGUpPT4oKT0+KGV8fHQoKGU9e2V4cG9ydHM6e319KS5leHBvcnRzLGUpLGUuZXhwb3J0cyksSnQ9KHQsZSk9Pntmb3IodmFyIHIgaW4gZSl5cyh0LHIse2dldDplW3JdLGVudW1lcmFibGU6ITB9KTt9LFlnPSh0LGUscixpKT0+e2lmKGUmJnR5cGVvZiBlPT1cIm9iamVjdFwifHx0eXBlb2YgZT09XCJmdW5jdGlvblwiKWZvcihsZXQgbiBvZiBHZyhlKSkhUWcuY2FsbCh0LG4pJiZuIT09ciYmeXModCxuLHtnZXQ6KCk9PmVbbl0sZW51bWVyYWJsZTohKGk9S2coZSxuKSl8fGkuZW51bWVyYWJsZX0pO3JldHVybiB0fTt2YXIgWD10PT5ZZyh5cyh7fSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0KTt2YXIgXz1fZSgoKT0+e30pO3ZhciBCPXt9O0p0KEIse19kZWJ1Z0VuZDooKT0+eXUsX2RlYnVnUHJvY2VzczooKT0+Z3UsX2V2ZW50czooKT0+T3UsX2V2ZW50c0NvdW50OigpPT54dSxfZXhpdGluZzooKT0+WWwsX2ZhdGFsRXhjZXB0aW9uczooKT0+Y3UsX2dldEFjdGl2ZUhhbmRsZXM6KCk9PmV1LF9nZXRBY3RpdmVSZXF1ZXN0czooKT0+WmwsX2tpbGw6KCk9PnJ1LF9saW5rZWRCaW5kaW5nOigpPT5HbCxfbWF4TGlzdGVuZXJzOigpPT5rdSxfcHJlbG9hZF9tb2R1bGVzOigpPT5DdSxfcmF3RGVidWc6KCk9PnpsLF9zdGFydFByb2ZpbGVySWRsZU5vdGlmaWVyOigpPT5idSxfc3RvcFByb2ZpbGVySWRsZU5vdGlmaWVyOigpPT53dSxfdGlja0NhbGxiYWNrOigpPT5wdSxhYm9ydDooKT0+RXUsYWRkTGlzdGVuZXI6KCk9Pk11LGFsbG93ZWROb2RlRW52aXJvbm1lbnRGbGFnczooKT0+bHUsYXJjaDooKT0+eGwsYXJndjooKT0+VWwsYXJndjA6KCk9PlJ1LGFzc2VydDooKT0+dXUsYmluZGluZzooKT0+RmwsY2hkaXI6KCk9PkhsLGNvbmZpZzooKT0+SmwsY3B1VXNhZ2U6KCk9PiRpLGN3ZDooKT0+JGwsZGVidWdQb3J0OigpPT5UdSxkZWZhdWx0OigpPT4kdSxkbG9wZW46KCk9PlhsLGRvbWFpbjooKT0+UWwsZW1pdDooKT0+RHUsZW1pdFdhcm5pbmc6KCk9PmpsLGVudjooKT0+TGwsZXhlY0FyZ3Y6KCk9Pk5sLGV4ZWNQYXRoOigpPT5JdSxleGl0OigpPT5vdSxmZWF0dXJlczooKT0+ZnUsaGFzVW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2s6KCk9PmR1LGhydGltZTooKT0+V2ksa2lsbDooKT0+c3UsbGlzdGVuZXJzOigpPT5XdSxtZW1vcnlVc2FnZTooKT0+bnUsbW9kdWxlTG9hZExpc3Q6KCk9PktsLG5leHRUaWNrOigpPT5QbCxvZmY6KCk9PlV1LG9uOigpPT53dCxvbmNlOigpPT5MdSxvcGVuU3RkaW46KCk9PmF1LHBpZDooKT0+U3UscGxhdGZvcm06KCk9Pk1sLHBwaWQ6KCk9PkF1LHByZXBlbmRMaXN0ZW5lcjooKT0+anUscHJlcGVuZE9uY2VMaXN0ZW5lcjooKT0+RnUscmVhbGx5RXhpdDooKT0+dHUscmVsZWFzZTooKT0+VmwscmVtb3ZlQWxsTGlzdGVuZXJzOigpPT5xdSxyZW1vdmVMaXN0ZW5lcjooKT0+TnUscmVzb3VyY2VVc2FnZTooKT0+aXUsc2V0U291cmNlTWFwc0VuYWJsZWQ6KCk9PkJ1LHNldFVuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrOigpPT5odSxzdGRlcnI6KCk9Pm11LHN0ZGluOigpPT52dSxzdGRvdXQ6KCk9Pl91LHRpdGxlOigpPT5PbCx1bWFzazooKT0+V2wsdXB0aW1lOigpPT5QdSx2ZXJzaW9uOigpPT5xbCx2ZXJzaW9uczooKT0+RGx9KTtmdW5jdGlvbiBfcyh0KXt0aHJvdyBuZXcgRXJyb3IoXCJOb2RlLmpzIHByb2Nlc3MgXCIrdCtcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IEpTUE0gY29yZSBvdXRzaWRlIG9mIE5vZGUuanNcIil9ZnVuY3Rpb24gSmcoKXshTHJ8fCFYdHx8KExyPSExLFh0Lmxlbmd0aD9idD1YdC5jb25jYXQoYnQpOkZpPS0xLGJ0Lmxlbmd0aCYmQmwoKSk7fWZ1bmN0aW9uIEJsKCl7aWYoIUxyKXt2YXIgdD1zZXRUaW1lb3V0KEpnLDApO0xyPSEwO2Zvcih2YXIgZT1idC5sZW5ndGg7ZTspe2ZvcihYdD1idCxidD1bXTsrK0ZpPGU7KVh0JiZYdFtGaV0ucnVuKCk7Rmk9LTEsZT1idC5sZW5ndGg7fVh0PW51bGwsTHI9ITEsY2xlYXJUaW1lb3V0KHQpO319ZnVuY3Rpb24gUGwodCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTtidC5wdXNoKG5ldyBrbCh0LGUpKSxidC5sZW5ndGg9PT0xJiYhTHImJnNldFRpbWVvdXQoQmwsMCk7fWZ1bmN0aW9uIGtsKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWU7fWZ1bmN0aW9uIEVlKCl7fWZ1bmN0aW9uIEdsKHQpe19zKFwiX2xpbmtlZEJpbmRpbmdcIik7fWZ1bmN0aW9uIFhsKHQpe19zKFwiZGxvcGVuXCIpO31mdW5jdGlvbiBabCgpe3JldHVybiBbXX1mdW5jdGlvbiBldSgpe3JldHVybiBbXX1mdW5jdGlvbiB1dSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHxcImFzc2VydGlvbiBlcnJvclwiKX1mdW5jdGlvbiBkdSgpe3JldHVybiAhMX1mdW5jdGlvbiBQdSgpe3JldHVybiBMdC5ub3coKS8xZTN9ZnVuY3Rpb24gV2kodCl7dmFyIGU9TWF0aC5mbG9vcigoRGF0ZS5ub3coKS1MdC5ub3coKSkqLjAwMSkscj1MdC5ub3coKSouMDAxLGk9TWF0aC5mbG9vcihyKStlLG49TWF0aC5mbG9vcihyJTEqMWU5KTtyZXR1cm4gdCYmKGk9aS10WzBdLG49bi10WzFdLG48MCYmKGktLSxuKz13cykpLFtpLG5dfWZ1bmN0aW9uIHd0KCl7cmV0dXJuICR1fWZ1bmN0aW9uIFd1KHQpe3JldHVybiBbXX12YXIgYnQsTHIsWHQsRmksT2wseGwsTWwsTGwsVWwsTmwscWwsRGwsamwsRmwsV2wsJGwsSGwsVmwsemwsS2wsUWwsWWwsSmwsdHUscnUsJGksaXUsbnUsc3Usb3UsYXUsbHUsZnUsY3UsaHUscHUsZ3UseXUsYnUsd3UsX3UsbXUsdnUsRXUsU3UsQXUsSXUsVHUsUnUsQ3UsQnUsTHQsYnMsd3Msa3UsT3UseHUsTXUsTHUsVXUsTnUscXUsRHUsanUsRnUsJHUsSHU9X2UoKCk9PntfKCk7digpO20oKTtidD1bXSxMcj0hMSxGaT0tMTtrbC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KTt9O09sPVwiYnJvd3NlclwiLHhsPVwieDY0XCIsTWw9XCJicm93c2VyXCIsTGw9e1BBVEg6XCIvdXNyL2JpblwiLExBTkc6bmF2aWdhdG9yLmxhbmd1YWdlK1wiLlVURi04XCIsUFdEOlwiL1wiLEhPTUU6XCIvaG9tZVwiLFRNUDpcIi90bXBcIn0sVWw9W1wiL3Vzci9iaW4vbm9kZVwiXSxObD1bXSxxbD1cInYxNi44LjBcIixEbD17fSxqbD1mdW5jdGlvbih0LGUpe2NvbnNvbGUud2FybigoZT9lK1wiOiBcIjpcIlwiKSt0KTt9LEZsPWZ1bmN0aW9uKHQpe19zKFwiYmluZGluZ1wiKTt9LFdsPWZ1bmN0aW9uKHQpe3JldHVybiAwfSwkbD1mdW5jdGlvbigpe3JldHVybiBcIi9cIn0sSGw9ZnVuY3Rpb24odCl7fSxWbD17bmFtZTpcIm5vZGVcIixzb3VyY2VVcmw6XCJcIixoZWFkZXJzVXJsOlwiXCIsbGliVXJsOlwiXCJ9O3psPUVlLEtsPVtdO1FsPXt9LFlsPSExLEpsPXt9O3R1PUVlLHJ1PUVlLCRpPWZ1bmN0aW9uKCl7cmV0dXJuIHt9fSxpdT0kaSxudT0kaSxzdT1FZSxvdT1FZSxhdT1FZSxsdT17fTtmdT17aW5zcGVjdG9yOiExLGRlYnVnOiExLHV2OiExLGlwdjY6ITEsdGxzX2FscG46ITEsdGxzX3NuaTohMSx0bHNfb2NzcDohMSx0bHM6ITEsY2FjaGVkX2J1aWx0aW5zOiEwfSxjdT1FZSxodT1FZTtwdT1FZSxndT1FZSx5dT1FZSxidT1FZSx3dT1FZSxfdT12b2lkIDAsbXU9dm9pZCAwLHZ1PXZvaWQgMCxFdT1FZSxTdT0yLEF1PTEsSXU9XCIvYmluL3Vzci9ub2RlXCIsVHU9OTIyOSxSdT1cIm5vZGVcIixDdT1bXSxCdT1FZSxMdD17bm93OnR5cGVvZiBwZXJmb3JtYW5jZTxcInVcIj9wZXJmb3JtYW5jZS5ub3cuYmluZChwZXJmb3JtYW5jZSk6dm9pZCAwLHRpbWluZzp0eXBlb2YgcGVyZm9ybWFuY2U8XCJ1XCI/cGVyZm9ybWFuY2UudGltaW5nOnZvaWQgMH07THQubm93PT09dm9pZCAwJiYoYnM9RGF0ZS5ub3coKSxMdC50aW1pbmcmJkx0LnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQmJihicz1MdC50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSxMdC5ub3c9KCk9PkRhdGUubm93KCktYnMpO3dzPTFlOTtXaS5iaWdpbnQ9ZnVuY3Rpb24odCl7dmFyIGU9V2kodCk7cmV0dXJuIHR5cGVvZiBCaWdJbnQ+XCJ1XCI/ZVswXSp3cytlWzFdOkJpZ0ludChlWzBdKndzKStCaWdJbnQoZVsxXSl9O2t1PTEwLE91PXt9LHh1PTA7TXU9d3QsTHU9d3QsVXU9d3QsTnU9d3QscXU9d3QsRHU9RWUsanU9d3QsRnU9d3Q7JHU9e3ZlcnNpb246cWwsdmVyc2lvbnM6RGwsYXJjaDp4bCxwbGF0Zm9ybTpNbCxyZWxlYXNlOlZsLF9yYXdEZWJ1Zzp6bCxtb2R1bGVMb2FkTGlzdDpLbCxiaW5kaW5nOkZsLF9saW5rZWRCaW5kaW5nOkdsLF9ldmVudHM6T3UsX2V2ZW50c0NvdW50Onh1LF9tYXhMaXN0ZW5lcnM6a3Usb246d3QsYWRkTGlzdGVuZXI6TXUsb25jZTpMdSxvZmY6VXUscmVtb3ZlTGlzdGVuZXI6TnUscmVtb3ZlQWxsTGlzdGVuZXJzOnF1LGVtaXQ6RHUscHJlcGVuZExpc3RlbmVyOmp1LHByZXBlbmRPbmNlTGlzdGVuZXI6RnUsbGlzdGVuZXJzOld1LGRvbWFpbjpRbCxfZXhpdGluZzpZbCxjb25maWc6SmwsZGxvcGVuOlhsLHVwdGltZTpQdSxfZ2V0QWN0aXZlUmVxdWVzdHM6WmwsX2dldEFjdGl2ZUhhbmRsZXM6ZXUscmVhbGx5RXhpdDp0dSxfa2lsbDpydSxjcHVVc2FnZTokaSxyZXNvdXJjZVVzYWdlOml1LG1lbW9yeVVzYWdlOm51LGtpbGw6c3UsZXhpdDpvdSxvcGVuU3RkaW46YXUsYWxsb3dlZE5vZGVFbnZpcm9ubWVudEZsYWdzOmx1LGFzc2VydDp1dSxmZWF0dXJlczpmdSxfZmF0YWxFeGNlcHRpb25zOmN1LHNldFVuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrOmh1LGhhc1VuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrOmR1LGVtaXRXYXJuaW5nOmpsLG5leHRUaWNrOlBsLF90aWNrQ2FsbGJhY2s6cHUsX2RlYnVnUHJvY2VzczpndSxfZGVidWdFbmQ6eXUsX3N0YXJ0UHJvZmlsZXJJZGxlTm90aWZpZXI6YnUsX3N0b3BQcm9maWxlcklkbGVOb3RpZmllcjp3dSxzdGRvdXQ6X3Usc3RkaW46dnUsc3RkZXJyOm11LGFib3J0OkV1LHVtYXNrOldsLGNoZGlyOkhsLGN3ZDokbCxlbnY6TGwsdGl0bGU6T2wsYXJndjpVbCxleGVjQXJndjpObCxwaWQ6U3UscHBpZDpBdSxleGVjUGF0aDpJdSxkZWJ1Z1BvcnQ6VHUsaHJ0aW1lOldpLGFyZ3YwOlJ1LF9wcmVsb2FkX21vZHVsZXM6Q3Usc2V0U291cmNlTWFwc0VuYWJsZWQ6QnV9O30pO3ZhciBtPV9lKCgpPT57SHUoKTt9KTt2YXIgbWU9e307SnQobWUse0J1ZmZlcjooKT0+eCxJTlNQRUNUX01BWF9CWVRFUzooKT0+dHksZGVmYXVsdDooKT0+VXQsa01heExlbmd0aDooKT0+cnl9KTtmdW5jdGlvbiBYZygpe2lmKFZ1KXJldHVybiBjaTtWdT0hMCxjaS5ieXRlTGVuZ3RoPWEsY2kudG9CeXRlQXJyYXk9YyxjaS5mcm9tQnl0ZUFycmF5PWc7Zm9yKHZhciB0PVtdLGU9W10scj10eXBlb2YgVWludDhBcnJheTxcInVcIj9VaW50OEFycmF5OkFycmF5LGk9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsbj0wLG89aS5sZW5ndGg7bjxvOysrbil0W25dPWlbbl0sZVtpLmNoYXJDb2RlQXQobildPW47ZVtcIi1cIi5jaGFyQ29kZUF0KDApXT02MixlW1wiX1wiLmNoYXJDb2RlQXQoMCldPTYzO2Z1bmN0aW9uIHMoeSl7dmFyIHc9eS5sZW5ndGg7aWYodyU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgUz15LmluZGV4T2YoXCI9XCIpO1M9PT0tMSYmKFM9dyk7dmFyIEU9Uz09PXc/MDo0LVMlNDtyZXR1cm4gW1MsRV19ZnVuY3Rpb24gYSh5KXt2YXIgdz1zKHkpLFM9d1swXSxFPXdbMV07cmV0dXJuIChTK0UpKjMvNC1FfWZ1bmN0aW9uIGwoeSx3LFMpe3JldHVybiAodytTKSozLzQtU31mdW5jdGlvbiBjKHkpe3ZhciB3LFM9cyh5KSxFPVNbMF0sST1TWzFdLEM9bmV3IHIobCh5LEUsSSkpLFI9MCxVPUk+MD9FLTQ6RSxOO2ZvcihOPTA7TjxVO04rPTQpdz1lW3kuY2hhckNvZGVBdChOKV08PDE4fGVbeS5jaGFyQ29kZUF0KE4rMSldPDwxMnxlW3kuY2hhckNvZGVBdChOKzIpXTw8NnxlW3kuY2hhckNvZGVBdChOKzMpXSxDW1IrK109dz4+MTYmMjU1LENbUisrXT13Pj44JjI1NSxDW1IrK109dyYyNTU7cmV0dXJuIEk9PT0yJiYodz1lW3kuY2hhckNvZGVBdChOKV08PDJ8ZVt5LmNoYXJDb2RlQXQoTisxKV0+PjQsQ1tSKytdPXcmMjU1KSxJPT09MSYmKHc9ZVt5LmNoYXJDb2RlQXQoTildPDwxMHxlW3kuY2hhckNvZGVBdChOKzEpXTw8NHxlW3kuY2hhckNvZGVBdChOKzIpXT4+MixDW1IrK109dz4+OCYyNTUsQ1tSKytdPXcmMjU1KSxDfWZ1bmN0aW9uIGgoeSl7cmV0dXJuIHRbeT4+MTgmNjNdK3RbeT4+MTImNjNdK3RbeT4+NiY2M10rdFt5JjYzXX1mdW5jdGlvbiBkKHksdyxTKXtmb3IodmFyIEUsST1bXSxDPXc7QzxTO0MrPTMpRT0oeVtDXTw8MTYmMTY3MTE2ODApKyh5W0MrMV08PDgmNjUyODApKyh5W0MrMl0mMjU1KSxJLnB1c2goaChFKSk7cmV0dXJuIEkuam9pbihcIlwiKX1mdW5jdGlvbiBnKHkpe2Zvcih2YXIgdyxTPXkubGVuZ3RoLEU9UyUzLEk9W10sQz0xNjM4MyxSPTAsVT1TLUU7UjxVO1IrPUMpSS5wdXNoKGQoeSxSLFIrQz5VP1U6UitDKSk7cmV0dXJuIEU9PT0xPyh3PXlbUy0xXSxJLnB1c2godFt3Pj4yXSt0W3c8PDQmNjNdK1wiPT1cIikpOkU9PT0yJiYodz0oeVtTLTJdPDw4KSt5W1MtMV0sSS5wdXNoKHRbdz4+MTBdK3Rbdz4+NCY2M10rdFt3PDwyJjYzXStcIj1cIikpLEkuam9pbihcIlwiKX1yZXR1cm4gY2l9ZnVuY3Rpb24gWmcoKXtpZih6dSlyZXR1cm4gSGk7enU9ITA7cmV0dXJuIEhpLnJlYWQ9ZnVuY3Rpb24odCxlLHIsaSxuKXt2YXIgbyxzLGE9bio4LWktMSxsPSgxPDxhKS0xLGM9bD4+MSxoPS03LGQ9cj9uLTE6MCxnPXI/LTE6MSx5PXRbZStkXTtmb3IoZCs9ZyxvPXkmKDE8PC1oKS0xLHk+Pj0taCxoKz1hO2g+MDtvPW8qMjU2K3RbZStkXSxkKz1nLGgtPTgpO2ZvcihzPW8mKDE8PC1oKS0xLG8+Pj0taCxoKz1pO2g+MDtzPXMqMjU2K3RbZStkXSxkKz1nLGgtPTgpO2lmKG89PT0wKW89MS1jO2Vsc2Uge2lmKG89PT1sKXJldHVybiBzP05hTjooeT8tMToxKSooMS8wKTtzPXMrTWF0aC5wb3coMixpKSxvPW8tYzt9cmV0dXJuICh5Py0xOjEpKnMqTWF0aC5wb3coMixvLWkpfSxIaS53cml0ZT1mdW5jdGlvbih0LGUscixpLG4sbyl7dmFyIHMsYSxsLGM9byo4LW4tMSxoPSgxPDxjKS0xLGQ9aD4+MSxnPW49PT0yMz9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAseT1pPzA6by0xLHc9aT8xOi0xLFM9ZTwwfHxlPT09MCYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhhPWlzTmFOKGUpPzE6MCxzPWgpOihzPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKGw9TWF0aC5wb3coMiwtcykpPDEmJihzLS0sbCo9MikscytkPj0xP2UrPWcvbDplKz1nKk1hdGgucG93KDIsMS1kKSxlKmw+PTImJihzKyssbC89MikscytkPj1oPyhhPTAscz1oKTpzK2Q+PTE/KGE9KGUqbC0xKSpNYXRoLnBvdygyLG4pLHM9cytkKTooYT1lKk1hdGgucG93KDIsZC0xKSpNYXRoLnBvdygyLG4pLHM9MCkpO24+PTg7dFtyK3ldPWEmMjU1LHkrPXcsYS89MjU2LG4tPTgpO2ZvcihzPXM8PG58YSxjKz1uO2M+MDt0W3IreV09cyYyNTUseSs9dyxzLz0yNTYsYy09OCk7dFtyK3ktd118PVMqMTI4O30sSGl9ZnVuY3Rpb24gZXkoKXtpZihLdSlyZXR1cm4gWnQ7S3U9ITA7bGV0IHQ9WGcoKSxlPVpnKCkscj10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuZm9yPT1cImZ1bmN0aW9uXCI/U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpOm51bGw7WnQuQnVmZmVyPXMsWnQuU2xvd0J1ZmZlcj1JLFp0LklOU1BFQ1RfTUFYX0JZVEVTPTUwO2xldCBpPTIxNDc0ODM2NDc7WnQua01heExlbmd0aD1pLHMuVFlQRURfQVJSQVlfU1VQUE9SVD1uKCksIXMuVFlQRURfQVJSQVlfU1VQUE9SVCYmdHlwZW9mIGNvbnNvbGU8XCJ1XCImJnR5cGVvZiBjb25zb2xlLmVycm9yPT1cImZ1bmN0aW9uXCImJmNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC5cIik7ZnVuY3Rpb24gbigpe3RyeXtsZXQgcD1uZXcgVWludDhBcnJheSgxKSx1PXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihwLHUpLHAuZm9vKCk9PT00Mn1jYXRjaHtyZXR1cm4gITF9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcInBhcmVudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHMuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcIm9mZnNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHMuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KTtmdW5jdGlvbiBvKHApe2lmKHA+aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJytwKydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKTtsZXQgdT1uZXcgVWludDhBcnJheShwKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHUscy5wcm90b3R5cGUpLHV9ZnVuY3Rpb24gcyhwLHUsZil7aWYodHlwZW9mIHA9PVwibnVtYmVyXCIpe2lmKHR5cGVvZiB1PT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7cmV0dXJuIGgocCl9cmV0dXJuIGEocCx1LGYpfXMucG9vbFNpemU9ODE5MjtmdW5jdGlvbiBhKHAsdSxmKXtpZih0eXBlb2YgcD09XCJzdHJpbmdcIilyZXR1cm4gZChwLHUpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhwKSlyZXR1cm4geShwKTtpZihwPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSBcIit0eXBlb2YgcCk7aWYoWWUocCxBcnJheUJ1ZmZlcil8fHAmJlllKHAuYnVmZmVyLEFycmF5QnVmZmVyKXx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPFwidVwiJiYoWWUocCxTaGFyZWRBcnJheUJ1ZmZlcil8fHAmJlllKHAuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpcmV0dXJuIHcocCx1LGYpO2lmKHR5cGVvZiBwPT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7bGV0IGI9cC52YWx1ZU9mJiZwLnZhbHVlT2YoKTtpZihiIT1udWxsJiZiIT09cClyZXR1cm4gcy5mcm9tKGIsdSxmKTtsZXQgQT1TKHApO2lmKEEpcmV0dXJuIEE7aWYodHlwZW9mIFN5bWJvbDxcInVcIiYmU3ltYm9sLnRvUHJpbWl0aXZlIT1udWxsJiZ0eXBlb2YgcFtTeW1ib2wudG9QcmltaXRpdmVdPT1cImZ1bmN0aW9uXCIpcmV0dXJuIHMuZnJvbShwW1N5bWJvbC50b1ByaW1pdGl2ZV0oXCJzdHJpbmdcIiksdSxmKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIHApfXMuZnJvbT1mdW5jdGlvbihwLHUsZil7cmV0dXJuIGEocCx1LGYpfSxPYmplY3Quc2V0UHJvdG90eXBlT2Yocy5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihzLFVpbnQ4QXJyYXkpO2Z1bmN0aW9uIGwocCl7aWYodHlwZW9mIHAhPVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKHA8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIFwiJytwKydcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCInKX1mdW5jdGlvbiBjKHAsdSxmKXtyZXR1cm4gbChwKSxwPD0wP28ocCk6dSE9PXZvaWQgMD90eXBlb2YgZj09XCJzdHJpbmdcIj9vKHApLmZpbGwodSxmKTpvKHApLmZpbGwodSk6byhwKX1zLmFsbG9jPWZ1bmN0aW9uKHAsdSxmKXtyZXR1cm4gYyhwLHUsZil9O2Z1bmN0aW9uIGgocCl7cmV0dXJuIGwocCksbyhwPDA/MDpFKHApfDApfXMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24ocCl7cmV0dXJuIGgocCl9LHMuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHApe3JldHVybiBoKHApfTtmdW5jdGlvbiBkKHAsdSl7aWYoKHR5cGVvZiB1IT1cInN0cmluZ1wifHx1PT09XCJcIikmJih1PVwidXRmOFwiKSwhcy5pc0VuY29kaW5nKHUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIit1KTtsZXQgZj1DKHAsdSl8MCxiPW8oZiksQT1iLndyaXRlKHAsdSk7cmV0dXJuIEEhPT1mJiYoYj1iLnNsaWNlKDAsQSkpLGJ9ZnVuY3Rpb24gZyhwKXtsZXQgdT1wLmxlbmd0aDwwPzA6RShwLmxlbmd0aCl8MCxmPW8odSk7Zm9yKGxldCBiPTA7Yjx1O2IrPTEpZltiXT1wW2JdJjI1NTtyZXR1cm4gZn1mdW5jdGlvbiB5KHApe2lmKFllKHAsVWludDhBcnJheSkpe2xldCB1PW5ldyBVaW50OEFycmF5KHApO3JldHVybiB3KHUuYnVmZmVyLHUuYnl0ZU9mZnNldCx1LmJ5dGVMZW5ndGgpfXJldHVybiBnKHApfWZ1bmN0aW9uIHcocCx1LGYpe2lmKHU8MHx8cC5ieXRlTGVuZ3RoPHUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wib2Zmc2V0XCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYocC5ieXRlTGVuZ3RoPHUrKGZ8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCdcImxlbmd0aFwiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2xldCBiO3JldHVybiB1PT09dm9pZCAwJiZmPT09dm9pZCAwP2I9bmV3IFVpbnQ4QXJyYXkocCk6Zj09PXZvaWQgMD9iPW5ldyBVaW50OEFycmF5KHAsdSk6Yj1uZXcgVWludDhBcnJheShwLHUsZiksT2JqZWN0LnNldFByb3RvdHlwZU9mKGIscy5wcm90b3R5cGUpLGJ9ZnVuY3Rpb24gUyhwKXtpZihzLmlzQnVmZmVyKHApKXtsZXQgdT1FKHAubGVuZ3RoKXwwLGY9byh1KTtyZXR1cm4gZi5sZW5ndGg9PT0wfHxwLmNvcHkoZiwwLDAsdSksZn1pZihwLmxlbmd0aCE9PXZvaWQgMClyZXR1cm4gdHlwZW9mIHAubGVuZ3RoIT1cIm51bWJlclwifHxncyhwLmxlbmd0aCk/bygwKTpnKHApO2lmKHAudHlwZT09PVwiQnVmZmVyXCImJkFycmF5LmlzQXJyYXkocC5kYXRhKSlyZXR1cm4gZyhwLmRhdGEpfWZ1bmN0aW9uIEUocCl7aWYocD49aSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHhcIitpLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gcHwwfWZ1bmN0aW9uIEkocCl7cmV0dXJuICtwIT1wJiYocD0wKSxzLmFsbG9jKCtwKX1zLmlzQnVmZmVyPWZ1bmN0aW9uKHUpe3JldHVybiB1IT1udWxsJiZ1Ll9pc0J1ZmZlcj09PSEwJiZ1IT09cy5wcm90b3R5cGV9LHMuY29tcGFyZT1mdW5jdGlvbih1LGYpe2lmKFllKHUsVWludDhBcnJheSkmJih1PXMuZnJvbSh1LHUub2Zmc2V0LHUuYnl0ZUxlbmd0aCkpLFllKGYsVWludDhBcnJheSkmJihmPXMuZnJvbShmLGYub2Zmc2V0LGYuYnl0ZUxlbmd0aCkpLCFzLmlzQnVmZmVyKHUpfHwhcy5pc0J1ZmZlcihmKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJidWYxXCIsIFwiYnVmMlwiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7aWYodT09PWYpcmV0dXJuIDA7bGV0IGI9dS5sZW5ndGgsQT1mLmxlbmd0aDtmb3IobGV0IFQ9MCxQPU1hdGgubWluKGIsQSk7VDxQOysrVClpZih1W1RdIT09ZltUXSl7Yj11W1RdLEE9ZltUXTticmVha31yZXR1cm4gYjxBPy0xOkE8Yj8xOjB9LHMuaXNFbmNvZGluZz1mdW5jdGlvbih1KXtzd2l0Y2goU3RyaW5nKHUpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuICEwO2RlZmF1bHQ6cmV0dXJuICExfX0scy5jb25jYXQ9ZnVuY3Rpb24odSxmKXtpZighQXJyYXkuaXNBcnJheSh1KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZih1Lmxlbmd0aD09PTApcmV0dXJuIHMuYWxsb2MoMCk7bGV0IGI7aWYoZj09PXZvaWQgMClmb3IoZj0wLGI9MDtiPHUubGVuZ3RoOysrYilmKz11W2JdLmxlbmd0aDtsZXQgQT1zLmFsbG9jVW5zYWZlKGYpLFQ9MDtmb3IoYj0wO2I8dS5sZW5ndGg7KytiKXtsZXQgUD11W2JdO2lmKFllKFAsVWludDhBcnJheSkpVCtQLmxlbmd0aD5BLmxlbmd0aD8ocy5pc0J1ZmZlcihQKXx8KFA9cy5mcm9tKFApKSxQLmNvcHkoQSxUKSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoQSxQLFQpO2Vsc2UgaWYocy5pc0J1ZmZlcihQKSlQLmNvcHkoQSxUKTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO1QrPVAubGVuZ3RoO31yZXR1cm4gQX07ZnVuY3Rpb24gQyhwLHUpe2lmKHMuaXNCdWZmZXIocCkpcmV0dXJuIHAubGVuZ3RoO2lmKEFycmF5QnVmZmVyLmlzVmlldyhwKXx8WWUocCxBcnJheUJ1ZmZlcikpcmV0dXJuIHAuYnl0ZUxlbmd0aDtpZih0eXBlb2YgcCE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBwKTtsZXQgZj1wLmxlbmd0aCxiPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdPT09ITA7aWYoIWImJmY9PT0wKXJldHVybiAwO2xldCBBPSExO2Zvcig7Oylzd2l0Y2godSl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gZjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gcHMocCkubGVuZ3RoO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBmKjI7Y2FzZVwiaGV4XCI6cmV0dXJuIGY+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBDbChwKS5sZW5ndGg7ZGVmYXVsdDppZihBKXJldHVybiBiPy0xOnBzKHApLmxlbmd0aDt1PShcIlwiK3UpLnRvTG93ZXJDYXNlKCksQT0hMDt9fXMuYnl0ZUxlbmd0aD1DO2Z1bmN0aW9uIFIocCx1LGYpe2xldCBiPSExO2lmKCh1PT09dm9pZCAwfHx1PDApJiYodT0wKSx1PnRoaXMubGVuZ3RofHwoKGY9PT12b2lkIDB8fGY+dGhpcy5sZW5ndGgpJiYoZj10aGlzLmxlbmd0aCksZjw9MCl8fChmPj4+PTAsdT4+Pj0wLGY8PXUpKXJldHVybiBcIlwiO2ZvcihwfHwocD1cInV0ZjhcIik7Oylzd2l0Y2gocCl7Y2FzZVwiaGV4XCI6cmV0dXJuIHFnKHRoaXMsdSxmKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gUHIodGhpcyx1LGYpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGhzKHRoaXMsdSxmKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gTmcodGhpcyx1LGYpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBnZSh0aGlzLHUsZik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIERnKHRoaXMsdSxmKTtkZWZhdWx0OmlmKGIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK3ApO3A9KHArXCJcIikudG9Mb3dlckNhc2UoKSxiPSEwO319cy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwO2Z1bmN0aW9uIFUocCx1LGYpe2xldCBiPXBbdV07cFt1XT1wW2ZdLHBbZl09Yjt9cy5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7bGV0IHU9dGhpcy5sZW5ndGg7aWYodSUyIT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2ZvcihsZXQgZj0wO2Y8dTtmKz0yKVUodGhpcyxmLGYrMSk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe2xldCB1PXRoaXMubGVuZ3RoO2lmKHUlNCE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IobGV0IGY9MDtmPHU7Zis9NClVKHRoaXMsZixmKzMpLFUodGhpcyxmKzEsZisyKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7bGV0IHU9dGhpcy5sZW5ndGg7aWYodSU4IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2ZvcihsZXQgZj0wO2Y8dTtmKz04KVUodGhpcyxmLGYrNyksVSh0aGlzLGYrMSxmKzYpLFUodGhpcyxmKzIsZis1KSxVKHRoaXMsZiszLGYrNCk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7bGV0IHU9dGhpcy5sZW5ndGg7cmV0dXJuIHU9PT0wP1wiXCI6YXJndW1lbnRzLmxlbmd0aD09PTA/UHIodGhpcywwLHUpOlIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz1zLnByb3RvdHlwZS50b1N0cmluZyxzLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odSl7aWYoIXMuaXNCdWZmZXIodSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT11PyEwOnMuY29tcGFyZSh0aGlzLHUpPT09MH0scy5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe2xldCB1PVwiXCIsZj1adC5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdT10aGlzLnRvU3RyaW5nKFwiaGV4XCIsMCxmKS5yZXBsYWNlKC8oLnsyfSkvZyxcIiQxIFwiKS50cmltKCksdGhpcy5sZW5ndGg+ZiYmKHUrPVwiIC4uLiBcIiksXCI8QnVmZmVyIFwiK3UrXCI+XCJ9LHImJihzLnByb3RvdHlwZVtyXT1zLnByb3RvdHlwZS5pbnNwZWN0KSxzLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHUsZixiLEEsVCl7aWYoWWUodSxVaW50OEFycmF5KSYmKHU9cy5mcm9tKHUsdS5vZmZzZXQsdS5ieXRlTGVuZ3RoKSksIXMuaXNCdWZmZXIodSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB1KTtpZihmPT09dm9pZCAwJiYoZj0wKSxiPT09dm9pZCAwJiYoYj11P3UubGVuZ3RoOjApLEE9PT12b2lkIDAmJihBPTApLFQ9PT12b2lkIDAmJihUPXRoaXMubGVuZ3RoKSxmPDB8fGI+dS5sZW5ndGh8fEE8MHx8VD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihBPj1UJiZmPj1iKXJldHVybiAwO2lmKEE+PVQpcmV0dXJuIC0xO2lmKGY+PWIpcmV0dXJuIDE7aWYoZj4+Pj0wLGI+Pj49MCxBPj4+PTAsVD4+Pj0wLHRoaXM9PT11KXJldHVybiAwO2xldCBQPVQtQSwkPWItZixzZT1NYXRoLm1pbihQLCQpLHRlPXRoaXMuc2xpY2UoQSxUKSxvZT11LnNsaWNlKGYsYik7Zm9yKGxldCBKPTA7SjxzZTsrK0opaWYodGVbSl0hPT1vZVtKXSl7UD10ZVtKXSwkPW9lW0pdO2JyZWFrfXJldHVybiBQPCQ/LTE6JDxQPzE6MH07ZnVuY3Rpb24gTihwLHUsZixiLEEpe2lmKHAubGVuZ3RoPT09MClyZXR1cm4gLTE7aWYodHlwZW9mIGY9PVwic3RyaW5nXCI/KGI9ZixmPTApOmY+MjE0NzQ4MzY0Nz9mPTIxNDc0ODM2NDc6ZjwtMjE0NzQ4MzY0OCYmKGY9LTIxNDc0ODM2NDgpLGY9K2YsZ3MoZikmJihmPUE/MDpwLmxlbmd0aC0xKSxmPDAmJihmPXAubGVuZ3RoK2YpLGY+PXAubGVuZ3RoKXtpZihBKXJldHVybiAtMTtmPXAubGVuZ3RoLTE7fWVsc2UgaWYoZjwwKWlmKEEpZj0wO2Vsc2UgcmV0dXJuIC0xO2lmKHR5cGVvZiB1PT1cInN0cmluZ1wiJiYodT1zLmZyb20odSxiKSkscy5pc0J1ZmZlcih1KSlyZXR1cm4gdS5sZW5ndGg9PT0wPy0xOlcocCx1LGYsYixBKTtpZih0eXBlb2YgdT09XCJudW1iZXJcIilyZXR1cm4gdT11JjI1NSx0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09XCJmdW5jdGlvblwiP0E/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHAsdSxmKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKHAsdSxmKTpXKHAsW3VdLGYsYixBKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIFcocCx1LGYsYixBKXtsZXQgVD0xLFA9cC5sZW5ndGgsJD11Lmxlbmd0aDtpZihiIT09dm9pZCAwJiYoYj1TdHJpbmcoYikudG9Mb3dlckNhc2UoKSxiPT09XCJ1Y3MyXCJ8fGI9PT1cInVjcy0yXCJ8fGI9PT1cInV0ZjE2bGVcInx8Yj09PVwidXRmLTE2bGVcIikpe2lmKHAubGVuZ3RoPDJ8fHUubGVuZ3RoPDIpcmV0dXJuIC0xO1Q9MixQLz0yLCQvPTIsZi89Mjt9ZnVuY3Rpb24gc2Uob2UsSil7cmV0dXJuIFQ9PT0xP29lW0pdOm9lLnJlYWRVSW50MTZCRShKKlQpfWxldCB0ZTtpZihBKXtsZXQgb2U9LTE7Zm9yKHRlPWY7dGU8UDt0ZSsrKWlmKHNlKHAsdGUpPT09c2UodSxvZT09PS0xPzA6dGUtb2UpKXtpZihvZT09PS0xJiYob2U9dGUpLHRlLW9lKzE9PT0kKXJldHVybiBvZSpUfWVsc2Ugb2UhPT0tMSYmKHRlLT10ZS1vZSksb2U9LTE7fWVsc2UgZm9yKGYrJD5QJiYoZj1QLSQpLHRlPWY7dGU+PTA7dGUtLSl7bGV0IG9lPSEwO2ZvcihsZXQgSj0wO0o8JDtKKyspaWYoc2UocCx0ZStKKSE9PXNlKHUsSikpe29lPSExO2JyZWFrfWlmKG9lKXJldHVybiB0ZX1yZXR1cm4gLTF9cy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB0aGlzLmluZGV4T2YodSxmLGIpIT09LTF9LHMucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odSxmLGIpe3JldHVybiBOKHRoaXMsdSxmLGIsITApfSxzLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih1LGYsYil7cmV0dXJuIE4odGhpcyx1LGYsYiwhMSl9O2Z1bmN0aW9uIEsocCx1LGYsYil7Zj1OdW1iZXIoZil8fDA7bGV0IEE9cC5sZW5ndGgtZjtiPyhiPU51bWJlcihiKSxiPkEmJihiPUEpKTpiPUE7bGV0IFQ9dS5sZW5ndGg7Yj5ULzImJihiPVQvMik7bGV0IFA7Zm9yKFA9MDtQPGI7KytQKXtsZXQgJD1wYXJzZUludCh1LnN1YnN0cihQKjIsMiksMTYpO2lmKGdzKCQpKXJldHVybiBQO3BbZitQXT0kO31yZXR1cm4gUH1mdW5jdGlvbiB6KHAsdSxmLGIpe3JldHVybiBqaShwcyh1LHAubGVuZ3RoLWYpLHAsZixiKX1mdW5jdGlvbiBRKHAsdSxmLGIpe3JldHVybiBqaSgkZyh1KSxwLGYsYil9ZnVuY3Rpb24gcGUocCx1LGYsYil7cmV0dXJuIGppKENsKHUpLHAsZixiKX1mdW5jdGlvbiBZdChwLHUsZixiKXtyZXR1cm4gamkoSGcodSxwLmxlbmd0aC1mKSxwLGYsYil9cy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odSxmLGIsQSl7aWYoZj09PXZvaWQgMClBPVwidXRmOFwiLGI9dGhpcy5sZW5ndGgsZj0wO2Vsc2UgaWYoYj09PXZvaWQgMCYmdHlwZW9mIGY9PVwic3RyaW5nXCIpQT1mLGI9dGhpcy5sZW5ndGgsZj0wO2Vsc2UgaWYoaXNGaW5pdGUoZikpZj1mPj4+MCxpc0Zpbml0ZShiKT8oYj1iPj4+MCxBPT09dm9pZCAwJiYoQT1cInV0ZjhcIikpOihBPWIsYj12b2lkIDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7bGV0IFQ9dGhpcy5sZW5ndGgtZjtpZigoYj09PXZvaWQgMHx8Yj5UKSYmKGI9VCksdS5sZW5ndGg+MCYmKGI8MHx8ZjwwKXx8Zj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO0F8fChBPVwidXRmOFwiKTtsZXQgUD0hMTtmb3IoOzspc3dpdGNoKEEpe2Nhc2VcImhleFwiOnJldHVybiBLKHRoaXMsdSxmLGIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB6KHRoaXMsdSxmLGIpO2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIFEodGhpcyx1LGYsYik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIHBlKHRoaXMsdSxmLGIpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBZdCh0aGlzLHUsZixiKTtkZWZhdWx0OmlmKFApdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK0EpO0E9KFwiXCIrQSkudG9Mb3dlckNhc2UoKSxQPSEwO319LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB7dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07ZnVuY3Rpb24gZ2UocCx1LGYpe3JldHVybiB1PT09MCYmZj09PXAubGVuZ3RoP3QuZnJvbUJ5dGVBcnJheShwKTp0LmZyb21CeXRlQXJyYXkocC5zbGljZSh1LGYpKX1mdW5jdGlvbiBQcihwLHUsZil7Zj1NYXRoLm1pbihwLmxlbmd0aCxmKTtsZXQgYj1bXSxBPXU7Zm9yKDtBPGY7KXtsZXQgVD1wW0FdLFA9bnVsbCwkPVQ+MjM5PzQ6VD4yMjM/MzpUPjE5MT8yOjE7aWYoQSskPD1mKXtsZXQgc2UsdGUsb2UsSjtzd2l0Y2goJCl7Y2FzZSAxOlQ8MTI4JiYoUD1UKTticmVhaztjYXNlIDI6c2U9cFtBKzFdLChzZSYxOTIpPT09MTI4JiYoSj0oVCYzMSk8PDZ8c2UmNjMsSj4xMjcmJihQPUopKTticmVhaztjYXNlIDM6c2U9cFtBKzFdLHRlPXBbQSsyXSwoc2UmMTkyKT09PTEyOCYmKHRlJjE5Mik9PT0xMjgmJihKPShUJjE1KTw8MTJ8KHNlJjYzKTw8Nnx0ZSY2MyxKPjIwNDcmJihKPDU1Mjk2fHxKPjU3MzQzKSYmKFA9SikpO2JyZWFrO2Nhc2UgNDpzZT1wW0ErMV0sdGU9cFtBKzJdLG9lPXBbQSszXSwoc2UmMTkyKT09PTEyOCYmKHRlJjE5Mik9PT0xMjgmJihvZSYxOTIpPT09MTI4JiYoSj0oVCYxNSk8PDE4fChzZSY2Myk8PDEyfCh0ZSY2Myk8PDZ8b2UmNjMsSj42NTUzNSYmSjwxMTE0MTEyJiYoUD1KKSk7fX1QPT09bnVsbD8oUD02NTUzMywkPTEpOlA+NjU1MzUmJihQLT02NTUzNixiLnB1c2goUD4+PjEwJjEwMjN8NTUyOTYpLFA9NTYzMjB8UCYxMDIzKSxiLnB1c2goUCksQSs9JDt9cmV0dXJuIE9yKGIpfWxldCBrcj00MDk2O2Z1bmN0aW9uIE9yKHApe2xldCB1PXAubGVuZ3RoO2lmKHU8PWtyKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxwKTtsZXQgZj1cIlwiLGI9MDtmb3IoO2I8dTspZis9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscC5zbGljZShiLGIrPWtyKSk7cmV0dXJuIGZ9ZnVuY3Rpb24gaHMocCx1LGYpe2xldCBiPVwiXCI7Zj1NYXRoLm1pbihwLmxlbmd0aCxmKTtmb3IobGV0IEE9dTtBPGY7KytBKWIrPVN0cmluZy5mcm9tQ2hhckNvZGUocFtBXSYxMjcpO3JldHVybiBifWZ1bmN0aW9uIE5nKHAsdSxmKXtsZXQgYj1cIlwiO2Y9TWF0aC5taW4ocC5sZW5ndGgsZik7Zm9yKGxldCBBPXU7QTxmOysrQSliKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBbQV0pO3JldHVybiBifWZ1bmN0aW9uIHFnKHAsdSxmKXtsZXQgYj1wLmxlbmd0aDsoIXV8fHU8MCkmJih1PTApLCghZnx8ZjwwfHxmPmIpJiYoZj1iKTtsZXQgQT1cIlwiO2ZvcihsZXQgVD11O1Q8ZjsrK1QpQSs9VmdbcFtUXV07cmV0dXJuIEF9ZnVuY3Rpb24gRGcocCx1LGYpe2xldCBiPXAuc2xpY2UodSxmKSxBPVwiXCI7Zm9yKGxldCBUPTA7VDxiLmxlbmd0aC0xO1QrPTIpQSs9U3RyaW5nLmZyb21DaGFyQ29kZShiW1RdK2JbVCsxXSoyNTYpO3JldHVybiBBfXMucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHUsZil7bGV0IGI9dGhpcy5sZW5ndGg7dT1+fnUsZj1mPT09dm9pZCAwP2I6fn5mLHU8MD8odSs9Yix1PDAmJih1PTApKTp1PmImJih1PWIpLGY8MD8oZis9YixmPDAmJihmPTApKTpmPmImJihmPWIpLGY8dSYmKGY9dSk7bGV0IEE9dGhpcy5zdWJhcnJheSh1LGYpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoQSxzLnByb3RvdHlwZSksQX07ZnVuY3Rpb24geWUocCx1LGYpe2lmKHAlMSE9PTB8fHA8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZihwK3U+Zil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9cy5wcm90b3R5cGUucmVhZFVpbnRMRT1zLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKHUsZixiKXt1PXU+Pj4wLGY9Zj4+PjAsYnx8eWUodSxmLHRoaXMubGVuZ3RoKTtsZXQgQT10aGlzW3VdLFQ9MSxQPTA7Zm9yKDsrK1A8ZiYmKFQqPTI1Nik7KUErPXRoaXNbdStQXSpUO3JldHVybiBBfSxzLnByb3RvdHlwZS5yZWFkVWludEJFPXMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24odSxmLGIpe3U9dT4+PjAsZj1mPj4+MCxifHx5ZSh1LGYsdGhpcy5sZW5ndGgpO2xldCBBPXRoaXNbdSstLWZdLFQ9MTtmb3IoO2Y+MCYmKFQqPTI1Nik7KUErPXRoaXNbdSstLWZdKlQ7cmV0dXJuIEF9LHMucHJvdG90eXBlLnJlYWRVaW50OD1zLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDEsdGhpcy5sZW5ndGgpLHRoaXNbdV19LHMucHJvdG90eXBlLnJlYWRVaW50MTZMRT1zLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDIsdGhpcy5sZW5ndGgpLHRoaXNbdV18dGhpc1t1KzFdPDw4fSxzLnByb3RvdHlwZS5yZWFkVWludDE2QkU9cy5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSwyLHRoaXMubGVuZ3RoKSx0aGlzW3VdPDw4fHRoaXNbdSsxXX0scy5wcm90b3R5cGUucmVhZFVpbnQzMkxFPXMucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsNCx0aGlzLmxlbmd0aCksKHRoaXNbdV18dGhpc1t1KzFdPDw4fHRoaXNbdSsyXTw8MTYpK3RoaXNbdSszXSoxNjc3NzIxNn0scy5wcm90b3R5cGUucmVhZFVpbnQzMkJFPXMucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsNCx0aGlzLmxlbmd0aCksdGhpc1t1XSoxNjc3NzIxNisodGhpc1t1KzFdPDwxNnx0aGlzW3UrMl08PDh8dGhpc1t1KzNdKX0scy5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFPU10KGZ1bmN0aW9uKHUpe3U9dT4+PjAsTXIodSxcIm9mZnNldFwiKTtsZXQgZj10aGlzW3VdLGI9dGhpc1t1KzddOyhmPT09dm9pZCAwfHxiPT09dm9pZCAwKSYmZmkodSx0aGlzLmxlbmd0aC04KTtsZXQgQT1mK3RoaXNbKyt1XSoyKio4K3RoaXNbKyt1XSoyKioxNit0aGlzWysrdV0qMioqMjQsVD10aGlzWysrdV0rdGhpc1srK3VdKjIqKjgrdGhpc1srK3VdKjIqKjE2K2IqMioqMjQ7cmV0dXJuIEJpZ0ludChBKSsoQmlnSW50KFQpPDxCaWdJbnQoMzIpKX0pLHMucHJvdG90eXBlLnJlYWRCaWdVSW50NjRCRT1NdChmdW5jdGlvbih1KXt1PXU+Pj4wLE1yKHUsXCJvZmZzZXRcIik7bGV0IGY9dGhpc1t1XSxiPXRoaXNbdSs3XTsoZj09PXZvaWQgMHx8Yj09PXZvaWQgMCkmJmZpKHUsdGhpcy5sZW5ndGgtOCk7bGV0IEE9ZioyKioyNCt0aGlzWysrdV0qMioqMTYrdGhpc1srK3VdKjIqKjgrdGhpc1srK3VdLFQ9dGhpc1srK3VdKjIqKjI0K3RoaXNbKyt1XSoyKioxNit0aGlzWysrdV0qMioqOCtiO3JldHVybiAoQmlnSW50KEEpPDxCaWdJbnQoMzIpKStCaWdJbnQoVCl9KSxzLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odSxmLGIpe3U9dT4+PjAsZj1mPj4+MCxifHx5ZSh1LGYsdGhpcy5sZW5ndGgpO2xldCBBPXRoaXNbdV0sVD0xLFA9MDtmb3IoOysrUDxmJiYoVCo9MjU2KTspQSs9dGhpc1t1K1BdKlQ7cmV0dXJuIFQqPTEyOCxBPj1UJiYoQS09TWF0aC5wb3coMiw4KmYpKSxBfSxzLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24odSxmLGIpe3U9dT4+PjAsZj1mPj4+MCxifHx5ZSh1LGYsdGhpcy5sZW5ndGgpO2xldCBBPWYsVD0xLFA9dGhpc1t1Ky0tQV07Zm9yKDtBPjAmJihUKj0yNTYpOylQKz10aGlzW3UrLS1BXSpUO3JldHVybiBUKj0xMjgsUD49VCYmKFAtPU1hdGgucG93KDIsOCpmKSksUH0scy5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDEsdGhpcy5sZW5ndGgpLHRoaXNbdV0mMTI4PygyNTUtdGhpc1t1XSsxKSotMTp0aGlzW3VdfSxzLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbih1LGYpe3U9dT4+PjAsZnx8eWUodSwyLHRoaXMubGVuZ3RoKTtsZXQgYj10aGlzW3VdfHRoaXNbdSsxXTw8ODtyZXR1cm4gYiYzMjc2OD9ifDQyOTQ5MDE3NjA6Yn0scy5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odSxmKXt1PXU+Pj4wLGZ8fHllKHUsMix0aGlzLmxlbmd0aCk7bGV0IGI9dGhpc1t1KzFdfHRoaXNbdV08PDg7cmV0dXJuIGImMzI3Njg/Ynw0Mjk0OTAxNzYwOmJ9LHMucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSw0LHRoaXMubGVuZ3RoKSx0aGlzW3VdfHRoaXNbdSsxXTw8OHx0aGlzW3UrMl08PDE2fHRoaXNbdSszXTw8MjR9LHMucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSw0LHRoaXMubGVuZ3RoKSx0aGlzW3VdPDwyNHx0aGlzW3UrMV08PDE2fHRoaXNbdSsyXTw8OHx0aGlzW3UrM119LHMucHJvdG90eXBlLnJlYWRCaWdJbnQ2NExFPU10KGZ1bmN0aW9uKHUpe3U9dT4+PjAsTXIodSxcIm9mZnNldFwiKTtsZXQgZj10aGlzW3VdLGI9dGhpc1t1KzddOyhmPT09dm9pZCAwfHxiPT09dm9pZCAwKSYmZmkodSx0aGlzLmxlbmd0aC04KTtsZXQgQT10aGlzW3UrNF0rdGhpc1t1KzVdKjIqKjgrdGhpc1t1KzZdKjIqKjE2KyhiPDwyNCk7cmV0dXJuIChCaWdJbnQoQSk8PEJpZ0ludCgzMikpK0JpZ0ludChmK3RoaXNbKyt1XSoyKio4K3RoaXNbKyt1XSoyKioxNit0aGlzWysrdV0qMioqMjQpfSkscy5wcm90b3R5cGUucmVhZEJpZ0ludDY0QkU9TXQoZnVuY3Rpb24odSl7dT11Pj4+MCxNcih1LFwib2Zmc2V0XCIpO2xldCBmPXRoaXNbdV0sYj10aGlzW3UrN107KGY9PT12b2lkIDB8fGI9PT12b2lkIDApJiZmaSh1LHRoaXMubGVuZ3RoLTgpO2xldCBBPShmPDwyNCkrdGhpc1srK3VdKjIqKjE2K3RoaXNbKyt1XSoyKio4K3RoaXNbKyt1XTtyZXR1cm4gKEJpZ0ludChBKTw8QmlnSW50KDMyKSkrQmlnSW50KHRoaXNbKyt1XSoyKioyNCt0aGlzWysrdV0qMioqMTYrdGhpc1srK3VdKjIqKjgrYil9KSxzLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsNCx0aGlzLmxlbmd0aCksZS5yZWFkKHRoaXMsdSwhMCwyMyw0KX0scy5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24odSxmKXtyZXR1cm4gdT11Pj4+MCxmfHx5ZSh1LDQsdGhpcy5sZW5ndGgpLGUucmVhZCh0aGlzLHUsITEsMjMsNCl9LHMucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbih1LGYpe3JldHVybiB1PXU+Pj4wLGZ8fHllKHUsOCx0aGlzLmxlbmd0aCksZS5yZWFkKHRoaXMsdSwhMCw1Miw4KX0scy5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKHUsZil7cmV0dXJuIHU9dT4+PjAsZnx8eWUodSw4LHRoaXMubGVuZ3RoKSxlLnJlYWQodGhpcyx1LCExLDUyLDgpfTtmdW5jdGlvbiBDZShwLHUsZixiLEEsVCl7aWYoIXMuaXNCdWZmZXIocCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodT5BfHx1PFQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYoZitiPnAubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfXMucHJvdG90eXBlLndyaXRlVWludExFPXMucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKHUsZixiLEEpe2lmKHU9K3UsZj1mPj4+MCxiPWI+Pj4wLCFBKXtsZXQgJD1NYXRoLnBvdygyLDgqYiktMTtDZSh0aGlzLHUsZixiLCQsMCk7fWxldCBUPTEsUD0wO2Zvcih0aGlzW2ZdPXUmMjU1OysrUDxiJiYoVCo9MjU2KTspdGhpc1tmK1BdPXUvVCYyNTU7cmV0dXJuIGYrYn0scy5wcm90b3R5cGUud3JpdGVVaW50QkU9cy5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odSxmLGIsQSl7aWYodT0rdSxmPWY+Pj4wLGI9Yj4+PjAsIUEpe2xldCAkPU1hdGgucG93KDIsOCpiKS0xO0NlKHRoaXMsdSxmLGIsJCwwKTt9bGV0IFQ9Yi0xLFA9MTtmb3IodGhpc1tmK1RdPXUmMjU1Oy0tVD49MCYmKFAqPTI1Nik7KXRoaXNbZitUXT11L1AmMjU1O3JldHVybiBmK2J9LHMucHJvdG90eXBlLndyaXRlVWludDg9cy5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbih1LGYsYil7cmV0dXJuIHU9K3UsZj1mPj4+MCxifHxDZSh0aGlzLHUsZiwxLDI1NSwwKSx0aGlzW2ZdPXUmMjU1LGYrMX0scy5wcm90b3R5cGUud3JpdGVVaW50MTZMRT1zLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDIsNjU1MzUsMCksdGhpc1tmXT11JjI1NSx0aGlzW2YrMV09dT4+PjgsZisyfSxzLnByb3RvdHlwZS53cml0ZVVpbnQxNkJFPXMucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB1PSt1LGY9Zj4+PjAsYnx8Q2UodGhpcyx1LGYsMiw2NTUzNSwwKSx0aGlzW2ZdPXU+Pj44LHRoaXNbZisxXT11JjI1NSxmKzJ9LHMucHJvdG90eXBlLndyaXRlVWludDMyTEU9cy5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih1LGYsYil7cmV0dXJuIHU9K3UsZj1mPj4+MCxifHxDZSh0aGlzLHUsZiw0LDQyOTQ5NjcyOTUsMCksdGhpc1tmKzNdPXU+Pj4yNCx0aGlzW2YrMl09dT4+PjE2LHRoaXNbZisxXT11Pj4+OCx0aGlzW2ZdPXUmMjU1LGYrNH0scy5wcm90b3R5cGUud3JpdGVVaW50MzJCRT1zLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2ZdPXU+Pj4yNCx0aGlzW2YrMV09dT4+PjE2LHRoaXNbZisyXT11Pj4+OCx0aGlzW2YrM109dSYyNTUsZis0fTtmdW5jdGlvbiB2bChwLHUsZixiLEEpe1JsKHUsYixBLHAsZiw3KTtsZXQgVD1OdW1iZXIodSZCaWdJbnQoNDI5NDk2NzI5NSkpO3BbZisrXT1ULFQ9VD4+OCxwW2YrK109VCxUPVQ+PjgscFtmKytdPVQsVD1UPj44LHBbZisrXT1UO2xldCBQPU51bWJlcih1Pj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIHBbZisrXT1QLFA9UD4+OCxwW2YrK109UCxQPVA+PjgscFtmKytdPVAsUD1QPj44LHBbZisrXT1QLGZ9ZnVuY3Rpb24gRWwocCx1LGYsYixBKXtSbCh1LGIsQSxwLGYsNyk7bGV0IFQ9TnVtYmVyKHUmQmlnSW50KDQyOTQ5NjcyOTUpKTtwW2YrN109VCxUPVQ+PjgscFtmKzZdPVQsVD1UPj44LHBbZis1XT1ULFQ9VD4+OCxwW2YrNF09VDtsZXQgUD1OdW1iZXIodT4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiBwW2YrM109UCxQPVA+PjgscFtmKzJdPVAsUD1QPj44LHBbZisxXT1QLFA9UD4+OCxwW2ZdPVAsZis4fXMucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEU9TXQoZnVuY3Rpb24odSxmPTApe3JldHVybiB2bCh0aGlzLHUsZixCaWdJbnQoMCksQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKX0pLHMucHJvdG90eXBlLndyaXRlQmlnVUludDY0QkU9TXQoZnVuY3Rpb24odSxmPTApe3JldHVybiBFbCh0aGlzLHUsZixCaWdJbnQoMCksQmlnSW50KFwiMHhmZmZmZmZmZmZmZmZmZmZmXCIpKX0pLHMucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24odSxmLGIsQSl7aWYodT0rdSxmPWY+Pj4wLCFBKXtsZXQgc2U9TWF0aC5wb3coMiw4KmItMSk7Q2UodGhpcyx1LGYsYixzZS0xLC1zZSk7fWxldCBUPTAsUD0xLCQ9MDtmb3IodGhpc1tmXT11JjI1NTsrK1Q8YiYmKFAqPTI1Nik7KXU8MCYmJD09PTAmJnRoaXNbZitULTFdIT09MCYmKCQ9MSksdGhpc1tmK1RdPSh1L1A+PjApLSQmMjU1O3JldHVybiBmK2J9LHMucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24odSxmLGIsQSl7aWYodT0rdSxmPWY+Pj4wLCFBKXtsZXQgc2U9TWF0aC5wb3coMiw4KmItMSk7Q2UodGhpcyx1LGYsYixzZS0xLC1zZSk7fWxldCBUPWItMSxQPTEsJD0wO2Zvcih0aGlzW2YrVF09dSYyNTU7LS1UPj0wJiYoUCo9MjU2KTspdTwwJiYkPT09MCYmdGhpc1tmK1QrMV0hPT0wJiYoJD0xKSx0aGlzW2YrVF09KHUvUD4+MCktJCYyNTU7cmV0dXJuIGYrYn0scy5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDEsMTI3LC0xMjgpLHU8MCYmKHU9MjU1K3UrMSksdGhpc1tmXT11JjI1NSxmKzF9LHMucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih1LGYsYil7cmV0dXJuIHU9K3UsZj1mPj4+MCxifHxDZSh0aGlzLHUsZiwyLDMyNzY3LC0zMjc2OCksdGhpc1tmXT11JjI1NSx0aGlzW2YrMV09dT4+PjgsZisyfSxzLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiB1PSt1LGY9Zj4+PjAsYnx8Q2UodGhpcyx1LGYsMiwzMjc2NywtMzI3NjgpLHRoaXNbZl09dT4+PjgsdGhpc1tmKzFdPXUmMjU1LGYrMn0scy5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1tmXT11JjI1NSx0aGlzW2YrMV09dT4+PjgsdGhpc1tmKzJdPXU+Pj4xNix0aGlzW2YrM109dT4+PjI0LGYrNH0scy5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLGJ8fENlKHRoaXMsdSxmLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdTwwJiYodT00Mjk0OTY3Mjk1K3UrMSksdGhpc1tmXT11Pj4+MjQsdGhpc1tmKzFdPXU+Pj4xNix0aGlzW2YrMl09dT4+PjgsdGhpc1tmKzNdPXUmMjU1LGYrNH0scy5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFPU10KGZ1bmN0aW9uKHUsZj0wKXtyZXR1cm4gdmwodGhpcyx1LGYsLUJpZ0ludChcIjB4ODAwMDAwMDAwMDAwMDAwMFwiKSxCaWdJbnQoXCIweDdmZmZmZmZmZmZmZmZmZmZcIikpfSkscy5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NEJFPU10KGZ1bmN0aW9uKHUsZj0wKXtyZXR1cm4gRWwodGhpcyx1LGYsLUJpZ0ludChcIjB4ODAwMDAwMDAwMDAwMDAwMFwiKSxCaWdJbnQoXCIweDdmZmZmZmZmZmZmZmZmZmZcIikpfSk7ZnVuY3Rpb24gU2wocCx1LGYsYixBLFQpe2lmKGYrYj5wLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihmPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gQWwocCx1LGYsYixBKXtyZXR1cm4gdT0rdSxmPWY+Pj4wLEF8fFNsKHAsdSxmLDQpLGUud3JpdGUocCx1LGYsYiwyMyw0KSxmKzR9cy5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gQWwodGhpcyx1LGYsITAsYil9LHMucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbih1LGYsYil7cmV0dXJuIEFsKHRoaXMsdSxmLCExLGIpfTtmdW5jdGlvbiBJbChwLHUsZixiLEEpe3JldHVybiB1PSt1LGY9Zj4+PjAsQXx8U2wocCx1LGYsOCksZS53cml0ZShwLHUsZixiLDUyLDgpLGYrOH1zLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHUsZixiKXtyZXR1cm4gSWwodGhpcyx1LGYsITAsYil9LHMucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odSxmLGIpe3JldHVybiBJbCh0aGlzLHUsZiwhMSxiKX0scy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih1LGYsYixBKXtpZighcy5pc0J1ZmZlcih1KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKGJ8fChiPTApLCFBJiZBIT09MCYmKEE9dGhpcy5sZW5ndGgpLGY+PXUubGVuZ3RoJiYoZj11Lmxlbmd0aCksZnx8KGY9MCksQT4wJiZBPGImJihBPWIpLEE9PT1ifHx1Lmxlbmd0aD09PTB8fHRoaXMubGVuZ3RoPT09MClyZXR1cm4gMDtpZihmPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKGI8MHx8Yj49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYoQTwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlRW5kIG91dCBvZiBib3VuZHNcIik7QT50aGlzLmxlbmd0aCYmKEE9dGhpcy5sZW5ndGgpLHUubGVuZ3RoLWY8QS1iJiYoQT11Lmxlbmd0aC1mK2IpO2xldCBUPUEtYjtyZXR1cm4gdGhpcz09PXUmJnR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluPT1cImZ1bmN0aW9uXCI/dGhpcy5jb3B5V2l0aGluKGYsYixBKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCh1LHRoaXMuc3ViYXJyYXkoYixBKSxmKSxUfSxzLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHUsZixiLEEpe2lmKHR5cGVvZiB1PT1cInN0cmluZ1wiKXtpZih0eXBlb2YgZj09XCJzdHJpbmdcIj8oQT1mLGY9MCxiPXRoaXMubGVuZ3RoKTp0eXBlb2YgYj09XCJzdHJpbmdcIiYmKEE9YixiPXRoaXMubGVuZ3RoKSxBIT09dm9pZCAwJiZ0eXBlb2YgQSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZih0eXBlb2YgQT09XCJzdHJpbmdcIiYmIXMuaXNFbmNvZGluZyhBKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrQSk7aWYodS5sZW5ndGg9PT0xKXtsZXQgUD11LmNoYXJDb2RlQXQoMCk7KEE9PT1cInV0ZjhcIiYmUDwxMjh8fEE9PT1cImxhdGluMVwiKSYmKHU9UCk7fX1lbHNlIHR5cGVvZiB1PT1cIm51bWJlclwiP3U9dSYyNTU6dHlwZW9mIHU9PVwiYm9vbGVhblwiJiYodT1OdW1iZXIodSkpO2lmKGY8MHx8dGhpcy5sZW5ndGg8Znx8dGhpcy5sZW5ndGg8Yil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihiPD1mKXJldHVybiB0aGlzO2Y9Zj4+PjAsYj1iPT09dm9pZCAwP3RoaXMubGVuZ3RoOmI+Pj4wLHV8fCh1PTApO2xldCBUO2lmKHR5cGVvZiB1PT1cIm51bWJlclwiKWZvcihUPWY7VDxiOysrVCl0aGlzW1RdPXU7ZWxzZSB7bGV0IFA9cy5pc0J1ZmZlcih1KT91OnMuZnJvbSh1LEEpLCQ9UC5sZW5ndGg7aWYoJD09PTApdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJyt1KydcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtmb3IoVD0wO1Q8Yi1mOysrVCl0aGlzW1QrZl09UFtUJSRdO31yZXR1cm4gdGhpc307bGV0IHhyPXt9O2Z1bmN0aW9uIGRzKHAsdSxmKXt4cltwXT1jbGFzcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoKXtzdXBlcigpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibWVzc2FnZVwiLHt2YWx1ZTp1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0aGlzLm5hbWU9YCR7dGhpcy5uYW1lfSBbJHtwfV1gLHRoaXMuc3RhY2ssZGVsZXRlIHRoaXMubmFtZTt9Z2V0IGNvZGUoKXtyZXR1cm4gcH1zZXQgY29kZShBKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImNvZGVcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6QSx3cml0YWJsZTohMH0pO310b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm5hbWV9IFske3B9XTogJHt0aGlzLm1lc3NhZ2V9YH19O31kcyhcIkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EU1wiLGZ1bmN0aW9uKHApe3JldHVybiBwP2Ake3B9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2A6XCJBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzXCJ9LFJhbmdlRXJyb3IpLGRzKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIixmdW5jdGlvbihwLHUpe3JldHVybiBgVGhlIFwiJHtwfVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgdX1gfSxUeXBlRXJyb3IpLGRzKFwiRVJSX09VVF9PRl9SQU5HRVwiLGZ1bmN0aW9uKHAsdSxmKXtsZXQgYj1gVGhlIHZhbHVlIG9mIFwiJHtwfVwiIGlzIG91dCBvZiByYW5nZS5gLEE9ZjtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihmKSYmTWF0aC5hYnMoZik+MioqMzI/QT1UbChTdHJpbmcoZikpOnR5cGVvZiBmPT1cImJpZ2ludFwiJiYoQT1TdHJpbmcoZiksKGY+QmlnSW50KDIpKipCaWdJbnQoMzIpfHxmPC0oQmlnSW50KDIpKipCaWdJbnQoMzIpKSkmJihBPVRsKEEpKSxBKz1cIm5cIiksYis9YCBJdCBtdXN0IGJlICR7dX0uIFJlY2VpdmVkICR7QX1gLGJ9LFJhbmdlRXJyb3IpO2Z1bmN0aW9uIFRsKHApe2xldCB1PVwiXCIsZj1wLmxlbmd0aCxiPXBbMF09PT1cIi1cIj8xOjA7Zm9yKDtmPj1iKzQ7Zi09Myl1PWBfJHtwLnNsaWNlKGYtMyxmKX0ke3V9YDtyZXR1cm4gYCR7cC5zbGljZSgwLGYpfSR7dX1gfWZ1bmN0aW9uIGpnKHAsdSxmKXtNcih1LFwib2Zmc2V0XCIpLChwW3VdPT09dm9pZCAwfHxwW3UrZl09PT12b2lkIDApJiZmaSh1LHAubGVuZ3RoLShmKzEpKTt9ZnVuY3Rpb24gUmwocCx1LGYsYixBLFQpe2lmKHA+Znx8cDx1KXtsZXQgUD10eXBlb2YgdT09XCJiaWdpbnRcIj9cIm5cIjpcIlwiLCQ7dGhyb3cgdT09PTB8fHU9PT1CaWdJbnQoMCk/JD1gPj0gMCR7UH0gYW5kIDwgMiR7UH0gKiogJHsoVCsxKSo4fSR7UH1gOiQ9YD49IC0oMiR7UH0gKiogJHsoVCsxKSo4LTF9JHtQfSkgYW5kIDwgMiAqKiAkeyhUKzEpKjgtMX0ke1B9YCxuZXcgeHIuRVJSX09VVF9PRl9SQU5HRShcInZhbHVlXCIsJCxwKX1qZyhiLEEsVCk7fWZ1bmN0aW9uIE1yKHAsdSl7aWYodHlwZW9mIHAhPVwibnVtYmVyXCIpdGhyb3cgbmV3IHhyLkVSUl9JTlZBTElEX0FSR19UWVBFKHUsXCJudW1iZXJcIixwKX1mdW5jdGlvbiBmaShwLHUsZil7dGhyb3cgTWF0aC5mbG9vcihwKSE9PXA/KE1yKHAsZiksbmV3IHhyLkVSUl9PVVRfT0ZfUkFOR0UoXCJvZmZzZXRcIixcImFuIGludGVnZXJcIixwKSk6dTwwP25ldyB4ci5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFM6bmV3IHhyLkVSUl9PVVRfT0ZfUkFOR0UoXCJvZmZzZXRcIixgPj0gJHswfSBhbmQgPD0gJHt1fWAscCl9bGV0IEZnPS9bXisvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gV2cocCl7aWYocD1wLnNwbGl0KFwiPVwiKVswXSxwPXAudHJpbSgpLnJlcGxhY2UoRmcsXCJcIikscC5sZW5ndGg8MilyZXR1cm4gXCJcIjtmb3IoO3AubGVuZ3RoJTQhPT0wOylwPXArXCI9XCI7cmV0dXJuIHB9ZnVuY3Rpb24gcHMocCx1KXt1PXV8fDEvMDtsZXQgZixiPXAubGVuZ3RoLEE9bnVsbCxUPVtdO2ZvcihsZXQgUD0wO1A8YjsrK1Ape2lmKGY9cC5jaGFyQ29kZUF0KFApLGY+NTUyOTUmJmY8NTczNDQpe2lmKCFBKXtpZihmPjU2MzE5KXsodS09Myk+LTEmJlQucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9ZWxzZSBpZihQKzE9PT1iKXsodS09Myk+LTEmJlQucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9QT1mO2NvbnRpbnVlfWlmKGY8NTYzMjApeyh1LT0zKT4tMSYmVC5wdXNoKDIzOSwxOTEsMTg5KSxBPWY7Y29udGludWV9Zj0oQS01NTI5Njw8MTB8Zi01NjMyMCkrNjU1MzY7fWVsc2UgQSYmKHUtPTMpPi0xJiZULnB1c2goMjM5LDE5MSwxODkpO2lmKEE9bnVsbCxmPDEyOCl7aWYoKHUtPTEpPDApYnJlYWs7VC5wdXNoKGYpO31lbHNlIGlmKGY8MjA0OCl7aWYoKHUtPTIpPDApYnJlYWs7VC5wdXNoKGY+PjZ8MTkyLGYmNjN8MTI4KTt9ZWxzZSBpZihmPDY1NTM2KXtpZigodS09Myk8MClicmVhaztULnB1c2goZj4+MTJ8MjI0LGY+PjYmNjN8MTI4LGYmNjN8MTI4KTt9ZWxzZSBpZihmPDExMTQxMTIpe2lmKCh1LT00KTwwKWJyZWFrO1QucHVzaChmPj4xOHwyNDAsZj4+MTImNjN8MTI4LGY+PjYmNjN8MTI4LGYmNjN8MTI4KTt9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIil9cmV0dXJuIFR9ZnVuY3Rpb24gJGcocCl7bGV0IHU9W107Zm9yKGxldCBmPTA7ZjxwLmxlbmd0aDsrK2YpdS5wdXNoKHAuY2hhckNvZGVBdChmKSYyNTUpO3JldHVybiB1fWZ1bmN0aW9uIEhnKHAsdSl7bGV0IGYsYixBLFQ9W107Zm9yKGxldCBQPTA7UDxwLmxlbmd0aCYmISgodS09Mik8MCk7KytQKWY9cC5jaGFyQ29kZUF0KFApLGI9Zj4+OCxBPWYlMjU2LFQucHVzaChBKSxULnB1c2goYik7cmV0dXJuIFR9ZnVuY3Rpb24gQ2wocCl7cmV0dXJuIHQudG9CeXRlQXJyYXkoV2cocCkpfWZ1bmN0aW9uIGppKHAsdSxmLGIpe2xldCBBO2ZvcihBPTA7QTxiJiYhKEErZj49dS5sZW5ndGh8fEE+PXAubGVuZ3RoKTsrK0EpdVtBK2ZdPXBbQV07cmV0dXJuIEF9ZnVuY3Rpb24gWWUocCx1KXtyZXR1cm4gcCBpbnN0YW5jZW9mIHV8fHAhPW51bGwmJnAuY29uc3RydWN0b3IhPW51bGwmJnAuY29uc3RydWN0b3IubmFtZSE9bnVsbCYmcC5jb25zdHJ1Y3Rvci5uYW1lPT09dS5uYW1lfWZ1bmN0aW9uIGdzKHApe3JldHVybiBwIT09cH1sZXQgVmc9ZnVuY3Rpb24oKXtsZXQgcD1cIjAxMjM0NTY3ODlhYmNkZWZcIix1PW5ldyBBcnJheSgyNTYpO2ZvcihsZXQgZj0wO2Y8MTY7KytmKXtsZXQgYj1mKjE2O2ZvcihsZXQgQT0wO0E8MTY7KytBKXVbYitBXT1wW2ZdK3BbQV07fXJldHVybiB1fSgpO2Z1bmN0aW9uIE10KHApe3JldHVybiB0eXBlb2YgQmlnSW50PlwidVwiP3pnOnB9ZnVuY3Rpb24gemcoKXt0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgbm90IHN1cHBvcnRlZFwiKX1yZXR1cm4gWnR9dmFyIGNpLFZ1LEhpLHp1LFp0LEt1LFV0LHgsdHkscnksYmU9X2UoKCk9PntfKCk7digpO20oKTtjaT17fSxWdT0hMTtIaT17fSx6dT0hMTtadD17fSxLdT0hMTtVdD1leSgpO1V0LkJ1ZmZlcjtVdC5TbG93QnVmZmVyO1V0LklOU1BFQ1RfTUFYX0JZVEVTO1V0LmtNYXhMZW5ndGg7eD1VdC5CdWZmZXIsdHk9VXQuSU5TUEVDVF9NQVhfQllURVMscnk9VXQua01heExlbmd0aDt9KTt2YXIgdj1fZSgoKT0+e2JlKCk7fSk7dmFyIEd1PU0odnM9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodnMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG1zPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuYWxpYXNUb1RvcGljPXt9LHRoaXMubWF4PWU7fXB1dChlLHIpe3JldHVybiByPT09MHx8cj50aGlzLm1heD8hMToodGhpcy5hbGlhc1RvVG9waWNbcl09ZSx0aGlzLmxlbmd0aD1PYmplY3Qua2V5cyh0aGlzLmFsaWFzVG9Ub3BpYykubGVuZ3RoLCEwKX1nZXRUb3BpY0J5QWxpYXMoZSl7cmV0dXJuIHRoaXMuYWxpYXNUb1RvcGljW2VdfWNsZWFyKCl7dGhpcy5hbGlhc1RvVG9waWM9e307fX07dnMuZGVmYXVsdD1tczt9KTt2YXIgY2U9TSgoeEEsUXUpPT57XygpO3YoKTttKCk7UXUuZXhwb3J0cz17QXJyYXlJc0FycmF5KHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpfSxBcnJheVByb3RvdHlwZUluY2x1ZGVzKHQsZSl7cmV0dXJuIHQuaW5jbHVkZXMoZSl9LEFycmF5UHJvdG90eXBlSW5kZXhPZih0LGUpe3JldHVybiB0LmluZGV4T2YoZSl9LEFycmF5UHJvdG90eXBlSm9pbih0LGUpe3JldHVybiB0LmpvaW4oZSl9LEFycmF5UHJvdG90eXBlTWFwKHQsZSl7cmV0dXJuIHQubWFwKGUpfSxBcnJheVByb3RvdHlwZVBvcCh0LGUpe3JldHVybiB0LnBvcChlKX0sQXJyYXlQcm90b3R5cGVQdXNoKHQsZSl7cmV0dXJuIHQucHVzaChlKX0sQXJyYXlQcm90b3R5cGVTbGljZSh0LGUscil7cmV0dXJuIHQuc2xpY2UoZSxyKX0sRXJyb3IsRnVuY3Rpb25Qcm90b3R5cGVDYWxsKHQsZSwuLi5yKXtyZXR1cm4gdC5jYWxsKGUsLi4ucil9LEZ1bmN0aW9uUHJvdG90eXBlU3ltYm9sSGFzSW5zdGFuY2UodCxlKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlW1N5bWJvbC5oYXNJbnN0YW5jZV0uY2FsbCh0LGUpfSxNYXRoRmxvb3I6TWF0aC5mbG9vcixOdW1iZXIsTnVtYmVySXNJbnRlZ2VyOk51bWJlci5pc0ludGVnZXIsTnVtYmVySXNOYU46TnVtYmVyLmlzTmFOLE51bWJlck1BWF9TQUZFX0lOVEVHRVI6TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsTnVtYmVyTUlOX1NBRkVfSU5URUdFUjpOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixOdW1iZXJQYXJzZUludDpOdW1iZXIucGFyc2VJbnQsT2JqZWN0RGVmaW5lUHJvcGVydGllcyh0LGUpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LGUpfSxPYmplY3REZWZpbmVQcm9wZXJ0eSh0LGUscil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUscil9LE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSl9LE9iamVjdEtleXModCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpfSxPYmplY3RTZXRQcm90b3R5cGVPZih0LGUpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YodCxlKX0sUHJvbWlzZSxQcm9taXNlUHJvdG90eXBlQ2F0Y2godCxlKXtyZXR1cm4gdC5jYXRjaChlKX0sUHJvbWlzZVByb3RvdHlwZVRoZW4odCxlLHIpe3JldHVybiB0LnRoZW4oZSxyKX0sUHJvbWlzZVJlamVjdCh0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QodCl9LFJlZmxlY3RBcHBseTpSZWZsZWN0LmFwcGx5LFJlZ0V4cFByb3RvdHlwZVRlc3QodCxlKXtyZXR1cm4gdC50ZXN0KGUpfSxTYWZlU2V0OlNldCxTdHJpbmcsU3RyaW5nUHJvdG90eXBlU2xpY2UodCxlLHIpe3JldHVybiB0LnNsaWNlKGUscil9LFN0cmluZ1Byb3RvdHlwZVRvTG93ZXJDYXNlKHQpe3JldHVybiB0LnRvTG93ZXJDYXNlKCl9LFN0cmluZ1Byb3RvdHlwZVRvVXBwZXJDYXNlKHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9LFN0cmluZ1Byb3RvdHlwZVRyaW0odCl7cmV0dXJuIHQudHJpbSgpfSxTeW1ib2wsU3ltYm9sRm9yOlN5bWJvbC5mb3IsU3ltYm9sQXN5bmNJdGVyYXRvcjpTeW1ib2wuYXN5bmNJdGVyYXRvcixTeW1ib2xIYXNJbnN0YW5jZTpTeW1ib2wuaGFzSW5zdGFuY2UsU3ltYm9sSXRlcmF0b3I6U3ltYm9sLml0ZXJhdG9yLFR5cGVkQXJyYXlQcm90b3R5cGVTZXQodCxlLHIpe3JldHVybiB0LnNldChlLHIpfSxVaW50OEFycmF5fTt9KTt2YXIgSmU9TSgoJEEsU3MpPT57XygpO3YoKTttKCk7dmFyIGl5PShiZSgpLFgobWUpKSxueT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYXN5bmMgZnVuY3Rpb24oKXt9KS5jb25zdHJ1Y3RvcixZdT1nbG9iYWxUaGlzLkJsb2J8fGl5LkJsb2Isc3k9dHlwZW9mIFl1PFwidVwiP2Z1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgWXV9OmZ1bmN0aW9uKGUpe3JldHVybiAhMX0sRXM9Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlKXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBpbnB1dCB0byBiZSBhbiBBcnJheSwgZ290ICR7dHlwZW9mIGV9YCk7bGV0IHI9XCJcIjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylyKz1gICAgICR7ZVtpXS5zdGFja31cbmA7c3VwZXIociksdGhpcy5uYW1lPVwiQWdncmVnYXRlRXJyb3JcIix0aGlzLmVycm9ycz1lO319O1NzLmV4cG9ydHM9e0FnZ3JlZ2F0ZUVycm9yOkVzLGtFbXB0eU9iamVjdDpPYmplY3QuZnJlZXplKHt9KSxvbmNlKHQpe2xldCBlPSExO3JldHVybiBmdW5jdGlvbiguLi5yKXtlfHwoZT0hMCx0LmFwcGx5KHRoaXMscikpO319LGNyZWF0ZURlZmVycmVkUHJvbWlzZTpmdW5jdGlvbigpe2xldCB0LGU7cmV0dXJuIHtwcm9taXNlOm5ldyBQcm9taXNlKChpLG4pPT57dD1pLGU9bjt9KSxyZXNvbHZlOnQscmVqZWN0OmV9fSxwcm9taXNpZnkodCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHIpPT57dCgoaSwuLi5uKT0+aT9yKGkpOmUoLi4ubikpO30pfSxkZWJ1Z2xvZygpe3JldHVybiBmdW5jdGlvbigpe319LGZvcm1hdCh0LC4uLmUpe3JldHVybiB0LnJlcGxhY2UoLyUoW3NkaWZqXSkvZyxmdW5jdGlvbiguLi5bcixpXSl7bGV0IG49ZS5zaGlmdCgpO3JldHVybiBpPT09XCJmXCI/bi50b0ZpeGVkKDYpOmk9PT1cImpcIj9KU09OLnN0cmluZ2lmeShuKTppPT09XCJzXCImJnR5cGVvZiBuPT1cIm9iamVjdFwiP2Ake24uY29uc3RydWN0b3IhPT1PYmplY3Q/bi5jb25zdHJ1Y3Rvci5uYW1lOlwiXCJ9IHt9YC50cmltKCk6bi50b1N0cmluZygpfSl9LGluc3BlY3QodCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlXCJzdHJpbmdcIjppZih0LmluY2x1ZGVzKFwiJ1wiKSlpZih0LmluY2x1ZGVzKCdcIicpKXtpZighdC5pbmNsdWRlcyhcImBcIikmJiF0LmluY2x1ZGVzKFwiJHtcIikpcmV0dXJuIGBcXGAke3R9XFxgYH1lbHNlIHJldHVybiBgXCIke3R9XCJgO3JldHVybiBgJyR7dH0nYDtjYXNlXCJudW1iZXJcIjpyZXR1cm4gaXNOYU4odCk/XCJOYU5cIjpPYmplY3QuaXModCwtMCk/U3RyaW5nKHQpOnQ7Y2FzZVwiYmlnaW50XCI6cmV0dXJuIGAke1N0cmluZyh0KX1uYDtjYXNlXCJib29sZWFuXCI6Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIFN0cmluZyh0KTtjYXNlXCJvYmplY3RcIjpyZXR1cm4gXCJ7fVwifX0sdHlwZXM6e2lzQXN5bmNGdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG55fSxpc0FycmF5QnVmZmVyVmlldyh0KXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHQpfX0saXNCbG9iOnN5fTtTcy5leHBvcnRzLnByb21pc2lmeS5jdXN0b209U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLnByb21pc2lmeS5jdXN0b21cIik7fSk7dmFyIHppPU0oKFpBLFZpKT0+e18oKTt2KCk7bSgpO3ZhcntBYm9ydENvbnRyb2xsZXI6SnUsQWJvcnRTaWduYWw6b3l9PXR5cGVvZiBzZWxmPFwidVwiP3NlbGY6dHlwZW9mIHdpbmRvdzxcInVcIj93aW5kb3c6dm9pZCAwO1ZpLmV4cG9ydHM9SnU7VmkuZXhwb3J0cy5BYm9ydFNpZ25hbD1veTtWaS5leHBvcnRzLmRlZmF1bHQ9SnU7fSk7dmFyIEFlPU0oKHVJLGVmKT0+e18oKTt2KCk7bSgpO3Zhcntmb3JtYXQ6YXksaW5zcGVjdDpLaSxBZ2dyZWdhdGVFcnJvcjpseX09SmUoKSx1eT1nbG9iYWxUaGlzLkFnZ3JlZ2F0ZUVycm9yfHxseSxmeT1TeW1ib2woXCJrSXNOb2RlRXJyb3JcIiksY3k9W1wic3RyaW5nXCIsXCJmdW5jdGlvblwiLFwibnVtYmVyXCIsXCJvYmplY3RcIixcIkZ1bmN0aW9uXCIsXCJPYmplY3RcIixcImJvb2xlYW5cIixcImJpZ2ludFwiLFwic3ltYm9sXCJdLGh5PS9eKFtBLVpdW2EtejAtOV0qKSskLyxkeT1cIl9fbm9kZV9pbnRlcm5hbF9cIixHaT17fTtmdW5jdGlvbiBlcih0LGUpe2lmKCF0KXRocm93IG5ldyBHaS5FUlJfSU5URVJOQUxfQVNTRVJUSU9OKGUpfWZ1bmN0aW9uIFh1KHQpe2xldCBlPVwiXCIscj10Lmxlbmd0aCxpPXRbMF09PT1cIi1cIj8xOjA7Zm9yKDtyPj1pKzQ7ci09MyllPWBfJHt0LnNsaWNlKHItMyxyKX0ke2V9YDtyZXR1cm4gYCR7dC5zbGljZSgwLHIpfSR7ZX1gfWZ1bmN0aW9uIHB5KHQsZSxyKXtpZih0eXBlb2YgZT09XCJmdW5jdGlvblwiKXJldHVybiBlcihlLmxlbmd0aDw9ci5sZW5ndGgsYENvZGU6ICR7dH07IFRoZSBwcm92aWRlZCBhcmd1bWVudHMgbGVuZ3RoICgke3IubGVuZ3RofSkgZG9lcyBub3QgbWF0Y2ggdGhlIHJlcXVpcmVkIG9uZXMgKCR7ZS5sZW5ndGh9KS5gKSxlKC4uLnIpO2xldCBpPShlLm1hdGNoKC8lW2RmaWpvT3NdL2cpfHxbXSkubGVuZ3RoO3JldHVybiBlcihpPT09ci5sZW5ndGgsYENvZGU6ICR7dH07IFRoZSBwcm92aWRlZCBhcmd1bWVudHMgbGVuZ3RoICgke3IubGVuZ3RofSkgZG9lcyBub3QgbWF0Y2ggdGhlIHJlcXVpcmVkIG9uZXMgKCR7aX0pLmApLHIubGVuZ3RoPT09MD9lOmF5KGUsLi4ucil9ZnVuY3Rpb24gdmUodCxlLHIpe3J8fChyPUVycm9yKTtjbGFzcyBpIGV4dGVuZHMgcntjb25zdHJ1Y3RvciguLi5vKXtzdXBlcihweSh0LGUsbykpO310b1N0cmluZygpe3JldHVybiBgJHt0aGlzLm5hbWV9IFske3R9XTogJHt0aGlzLm1lc3NhZ2V9YH19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaS5wcm90b3R5cGUse25hbWU6e3ZhbHVlOnIubmFtZSx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0sdG9TdHJpbmc6e3ZhbHVlKCl7cmV0dXJuIGAke3RoaXMubmFtZX0gWyR7dH1dOiAke3RoaXMubWVzc2FnZX1gfSx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH19KSxpLnByb3RvdHlwZS5jb2RlPXQsaS5wcm90b3R5cGVbZnldPSEwLEdpW3RdPWk7fWZ1bmN0aW9uIFp1KHQpe2xldCBlPWR5K3QubmFtZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJuYW1lXCIse3ZhbHVlOmV9KSx0fWZ1bmN0aW9uIGd5KHQsZSl7aWYodCYmZSYmdCE9PWUpe2lmKEFycmF5LmlzQXJyYXkoZS5lcnJvcnMpKXJldHVybiBlLmVycm9ycy5wdXNoKHQpLGU7bGV0IHI9bmV3IHV5KFtlLHRdLGUubWVzc2FnZSk7cmV0dXJuIHIuY29kZT1lLmNvZGUscn1yZXR1cm4gdHx8ZX12YXIgQXM9Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlPVwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZFwiLHI9dm9pZCAwKXtpZihyIT09dm9pZCAwJiZ0eXBlb2YgciE9XCJvYmplY3RcIil0aHJvdyBuZXcgR2kuRVJSX0lOVkFMSURfQVJHX1RZUEUoXCJvcHRpb25zXCIsXCJPYmplY3RcIixyKTtzdXBlcihlLHIpLHRoaXMuY29kZT1cIkFCT1JUX0VSUlwiLHRoaXMubmFtZT1cIkFib3J0RXJyb3JcIjt9fTt2ZShcIkVSUl9BU1NFUlRJT05cIixcIiVzXCIsRXJyb3IpO3ZlKFwiRVJSX0lOVkFMSURfQVJHX1RZUEVcIiwodCxlLHIpPT57ZXIodHlwZW9mIHQ9PVwic3RyaW5nXCIsXCInbmFtZScgbXVzdCBiZSBhIHN0cmluZ1wiKSxBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2xldCBpPVwiVGhlIFwiO3QuZW5kc1dpdGgoXCIgYXJndW1lbnRcIik/aSs9YCR7dH0gYDppKz1gXCIke3R9XCIgJHt0LmluY2x1ZGVzKFwiLlwiKT9cInByb3BlcnR5XCI6XCJhcmd1bWVudFwifSBgLGkrPVwibXVzdCBiZSBcIjtsZXQgbj1bXSxvPVtdLHM9W107Zm9yKGxldCBsIG9mIGUpZXIodHlwZW9mIGw9PVwic3RyaW5nXCIsXCJBbGwgZXhwZWN0ZWQgZW50cmllcyBoYXZlIHRvIGJlIG9mIHR5cGUgc3RyaW5nXCIpLGN5LmluY2x1ZGVzKGwpP24ucHVzaChsLnRvTG93ZXJDYXNlKCkpOmh5LnRlc3QobCk/by5wdXNoKGwpOihlcihsIT09XCJvYmplY3RcIiwnVGhlIHZhbHVlIFwib2JqZWN0XCIgc2hvdWxkIGJlIHdyaXR0ZW4gYXMgXCJPYmplY3RcIicpLHMucHVzaChsKSk7aWYoby5sZW5ndGg+MCl7bGV0IGw9bi5pbmRleE9mKFwib2JqZWN0XCIpO2whPT0tMSYmKG4uc3BsaWNlKG4sbCwxKSxvLnB1c2goXCJPYmplY3RcIikpO31pZihuLmxlbmd0aD4wKXtzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMTppKz1gb2YgdHlwZSAke25bMF19YDticmVhaztjYXNlIDI6aSs9YG9uZSBvZiB0eXBlICR7blswXX0gb3IgJHtuWzFdfWA7YnJlYWs7ZGVmYXVsdDp7bGV0IGw9bi5wb3AoKTtpKz1gb25lIG9mIHR5cGUgJHtuLmpvaW4oXCIsIFwiKX0sIG9yICR7bH1gO319KG8ubGVuZ3RoPjB8fHMubGVuZ3RoPjApJiYoaSs9XCIgb3IgXCIpO31pZihvLmxlbmd0aD4wKXtzd2l0Y2goby5sZW5ndGgpe2Nhc2UgMTppKz1gYW4gaW5zdGFuY2Ugb2YgJHtvWzBdfWA7YnJlYWs7Y2FzZSAyOmkrPWBhbiBpbnN0YW5jZSBvZiAke29bMF19IG9yICR7b1sxXX1gO2JyZWFrO2RlZmF1bHQ6e2xldCBsPW8ucG9wKCk7aSs9YGFuIGluc3RhbmNlIG9mICR7by5qb2luKFwiLCBcIil9LCBvciAke2x9YDt9fXMubGVuZ3RoPjAmJihpKz1cIiBvciBcIik7fXN3aXRjaChzLmxlbmd0aCl7Y2FzZSAwOmJyZWFrO2Nhc2UgMTpzWzBdLnRvTG93ZXJDYXNlKCkhPT1zWzBdJiYoaSs9XCJhbiBcIiksaSs9YCR7c1swXX1gO2JyZWFrO2Nhc2UgMjppKz1gb25lIG9mICR7c1swXX0gb3IgJHtzWzFdfWA7YnJlYWs7ZGVmYXVsdDp7bGV0IGw9cy5wb3AoKTtpKz1gb25lIG9mICR7cy5qb2luKFwiLCBcIil9LCBvciAke2x9YDt9fWlmKHI9PW51bGwpaSs9YC4gUmVjZWl2ZWQgJHtyfWA7ZWxzZSBpZih0eXBlb2Ygcj09XCJmdW5jdGlvblwiJiZyLm5hbWUpaSs9YC4gUmVjZWl2ZWQgZnVuY3Rpb24gJHtyLm5hbWV9YDtlbHNlIGlmKHR5cGVvZiByPT1cIm9iamVjdFwiKXt2YXIgYTtpZigoYT1yLmNvbnN0cnVjdG9yKSE9PW51bGwmJmEhPT12b2lkIDAmJmEubmFtZSlpKz1gLiBSZWNlaXZlZCBhbiBpbnN0YW5jZSBvZiAke3IuY29uc3RydWN0b3IubmFtZX1gO2Vsc2Uge2xldCBsPUtpKHIse2RlcHRoOi0xfSk7aSs9YC4gUmVjZWl2ZWQgJHtsfWA7fX1lbHNlIHtsZXQgbD1LaShyLHtjb2xvcnM6ITF9KTtsLmxlbmd0aD4yNSYmKGw9YCR7bC5zbGljZSgwLDI1KX0uLi5gKSxpKz1gLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIHJ9ICgke2x9KWA7fXJldHVybiBpfSxUeXBlRXJyb3IpO3ZlKFwiRVJSX0lOVkFMSURfQVJHX1ZBTFVFXCIsKHQsZSxyPVwiaXMgaW52YWxpZFwiKT0+e2xldCBpPUtpKGUpO3JldHVybiBpLmxlbmd0aD4xMjgmJihpPWkuc2xpY2UoMCwxMjgpK1wiLi4uXCIpLGBUaGUgJHt0LmluY2x1ZGVzKFwiLlwiKT9cInByb3BlcnR5XCI6XCJhcmd1bWVudFwifSAnJHt0fScgJHtyfS4gUmVjZWl2ZWQgJHtpfWB9LFR5cGVFcnJvcik7dmUoXCJFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUVcIiwodCxlLHIpPT57dmFyIGk7bGV0IG49ciE9bnVsbCYmKGk9ci5jb25zdHJ1Y3RvcikhPT1udWxsJiZpIT09dm9pZCAwJiZpLm5hbWU/YGluc3RhbmNlIG9mICR7ci5jb25zdHJ1Y3Rvci5uYW1lfWA6YHR5cGUgJHt0eXBlb2Ygcn1gO3JldHVybiBgRXhwZWN0ZWQgJHt0fSB0byBiZSByZXR1cm5lZCBmcm9tIHRoZSBcIiR7ZX1cIiBmdW5jdGlvbiBidXQgZ290ICR7bn0uYH0sVHlwZUVycm9yKTt2ZShcIkVSUl9NSVNTSU5HX0FSR1NcIiwoLi4udCk9Pntlcih0Lmxlbmd0aD4wLFwiQXQgbGVhc3Qgb25lIGFyZyBuZWVkcyB0byBiZSBzcGVjaWZpZWRcIik7bGV0IGUscj10Lmxlbmd0aDtzd2l0Y2godD0oQXJyYXkuaXNBcnJheSh0KT90Olt0XSkubWFwKGk9PmBcIiR7aX1cImApLmpvaW4oXCIgb3IgXCIpLHIpe2Nhc2UgMTplKz1gVGhlICR7dFswXX0gYXJndW1lbnRgO2JyZWFrO2Nhc2UgMjplKz1gVGhlICR7dFswXX0gYW5kICR7dFsxXX0gYXJndW1lbnRzYDticmVhaztkZWZhdWx0OntsZXQgaT10LnBvcCgpO2UrPWBUaGUgJHt0LmpvaW4oXCIsIFwiKX0sIGFuZCAke2l9IGFyZ3VtZW50c2A7fWJyZWFrfXJldHVybiBgJHtlfSBtdXN0IGJlIHNwZWNpZmllZGB9LFR5cGVFcnJvcik7dmUoXCJFUlJfT1VUX09GX1JBTkdFXCIsKHQsZSxyKT0+e2VyKGUsJ01pc3NpbmcgXCJyYW5nZVwiIGFyZ3VtZW50Jyk7bGV0IGk7cmV0dXJuIE51bWJlci5pc0ludGVnZXIocikmJk1hdGguYWJzKHIpPjIqKjMyP2k9WHUoU3RyaW5nKHIpKTp0eXBlb2Ygcj09XCJiaWdpbnRcIj8oaT1TdHJpbmcociksKHI+Mm4qKjMybnx8cjwtKDJuKiozMm4pKSYmKGk9WHUoaSkpLGkrPVwiblwiKTppPUtpKHIpLGBUaGUgdmFsdWUgb2YgXCIke3R9XCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlICR7ZX0uIFJlY2VpdmVkICR7aX1gfSxSYW5nZUVycm9yKTt2ZShcIkVSUl9NVUxUSVBMRV9DQUxMQkFDS1wiLFwiQ2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzXCIsRXJyb3IpO3ZlKFwiRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URURcIixcIlRoZSAlcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkXCIsRXJyb3IpO3ZlKFwiRVJSX1NUUkVBTV9BTFJFQURZX0ZJTklTSEVEXCIsXCJDYW5ub3QgY2FsbCAlcyBhZnRlciBhIHN0cmVhbSB3YXMgZmluaXNoZWRcIixFcnJvcik7dmUoXCJFUlJfU1RSRUFNX0NBTk5PVF9QSVBFXCIsXCJDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlXCIsRXJyb3IpO3ZlKFwiRVJSX1NUUkVBTV9ERVNUUk9ZRURcIixcIkNhbm5vdCBjYWxsICVzIGFmdGVyIGEgc3RyZWFtIHdhcyBkZXN0cm95ZWRcIixFcnJvcik7dmUoXCJFUlJfU1RSRUFNX05VTExfVkFMVUVTXCIsXCJNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbVwiLFR5cGVFcnJvcik7dmUoXCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiLFwiUHJlbWF0dXJlIGNsb3NlXCIsRXJyb3IpO3ZlKFwiRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRlwiLFwic3RyZWFtLnB1c2goKSBhZnRlciBFT0ZcIixFcnJvcik7dmUoXCJFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UXCIsXCJzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudFwiLEVycm9yKTt2ZShcIkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EXCIsXCJ3cml0ZSBhZnRlciBlbmRcIixFcnJvcik7dmUoXCJFUlJfVU5LTk9XTl9FTkNPRElOR1wiLFwiVW5rbm93biBlbmNvZGluZzogJXNcIixUeXBlRXJyb3IpO2VmLmV4cG9ydHM9e0Fib3J0RXJyb3I6QXMsYWdncmVnYXRlVHdvRXJyb3JzOlp1KGd5KSxoaWRlU3RhY2tGcmFtZXM6WnUsY29kZXM6R2l9O30pO3ZhciBoaT1NKChfSSxmZik9PntfKCk7digpO20oKTt2YXJ7QXJyYXlJc0FycmF5OlRzLEFycmF5UHJvdG90eXBlSW5jbHVkZXM6c2YsQXJyYXlQcm90b3R5cGVKb2luOm9mLEFycmF5UHJvdG90eXBlTWFwOnl5LE51bWJlcklzSW50ZWdlcjpScyxOdW1iZXJJc05hTjpieSxOdW1iZXJNQVhfU0FGRV9JTlRFR0VSOnd5LE51bWJlck1JTl9TQUZFX0lOVEVHRVI6X3ksTnVtYmVyUGFyc2VJbnQ6bXksT2JqZWN0UHJvdG90eXBlSGFzT3duUHJvcGVydHk6dnksUmVnRXhwUHJvdG90eXBlRXhlYzphZixTdHJpbmc6RXksU3RyaW5nUHJvdG90eXBlVG9VcHBlckNhc2U6U3ksU3RyaW5nUHJvdG90eXBlVHJpbTpBeX09Y2UoKSx7aGlkZVN0YWNrRnJhbWVzOlVlLGNvZGVzOntFUlJfU09DS0VUX0JBRF9QT1JUOkl5LEVSUl9JTlZBTElEX0FSR19UWVBFOkllLEVSUl9JTlZBTElEX0FSR19WQUxVRTpVcixFUlJfT1VUX09GX1JBTkdFOnRyLEVSUl9VTktOT1dOX1NJR05BTDp0Zn19PUFlKCkse25vcm1hbGl6ZUVuY29kaW5nOlR5fT1KZSgpLHtpc0FzeW5jRnVuY3Rpb246UnksaXNBcnJheUJ1ZmZlclZpZXc6Q3l9PUplKCkudHlwZXMscmY9e307ZnVuY3Rpb24gQnkodCl7cmV0dXJuIHQ9PT0odHwwKX1mdW5jdGlvbiBQeSh0KXtyZXR1cm4gdD09PXQ+Pj4wfXZhciBreT0vXlswLTddKyQvLE95PVwibXVzdCBiZSBhIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyIG9yIGFuIG9jdGFsIHN0cmluZ1wiO2Z1bmN0aW9uIHh5KHQsZSxyKXtpZih0eXBlb2YgdD5cInVcIiYmKHQ9ciksdHlwZW9mIHQ9PVwic3RyaW5nXCIpe2lmKGFmKGt5LHQpPT09bnVsbCl0aHJvdyBuZXcgVXIoZSx0LE95KTt0PW15KHQsOCk7fXJldHVybiBsZih0LGUpLHR9dmFyIE15PVVlKCh0LGUscj1feSxpPXd5KT0+e2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBJZShlLFwibnVtYmVyXCIsdCk7aWYoIVJzKHQpKXRocm93IG5ldyB0cihlLFwiYW4gaW50ZWdlclwiLHQpO2lmKHQ8cnx8dD5pKXRocm93IG5ldyB0cihlLGA+PSAke3J9ICYmIDw9ICR7aX1gLHQpfSksTHk9VWUoKHQsZSxyPS0yMTQ3NDgzNjQ4LGk9MjE0NzQ4MzY0Nyk9PntpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgSWUoZSxcIm51bWJlclwiLHQpO2lmKCFScyh0KSl0aHJvdyBuZXcgdHIoZSxcImFuIGludGVnZXJcIix0KTtpZih0PHJ8fHQ+aSl0aHJvdyBuZXcgdHIoZSxgPj0gJHtyfSAmJiA8PSAke2l9YCx0KX0pLGxmPVVlKCh0LGUscj0hMSk9PntpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgSWUoZSxcIm51bWJlclwiLHQpO2lmKCFScyh0KSl0aHJvdyBuZXcgdHIoZSxcImFuIGludGVnZXJcIix0KTtsZXQgaT1yPzE6MCxuPTQyOTQ5NjcyOTU7aWYodDxpfHx0Pm4pdGhyb3cgbmV3IHRyKGUsYD49ICR7aX0gJiYgPD0gJHtufWAsdCl9KTtmdW5jdGlvbiBDcyh0LGUpe2lmKHR5cGVvZiB0IT1cInN0cmluZ1wiKXRocm93IG5ldyBJZShlLFwic3RyaW5nXCIsdCl9ZnVuY3Rpb24gVXkodCxlLHI9dm9pZCAwLGkpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBJZShlLFwibnVtYmVyXCIsdCk7aWYociE9bnVsbCYmdDxyfHxpIT1udWxsJiZ0Pml8fChyIT1udWxsfHxpIT1udWxsKSYmYnkodCkpdGhyb3cgbmV3IHRyKGUsYCR7ciE9bnVsbD9gPj0gJHtyfWA6XCJcIn0ke3IhPW51bGwmJmkhPW51bGw/XCIgJiYgXCI6XCJcIn0ke2khPW51bGw/YDw9ICR7aX1gOlwiXCJ9YCx0KX12YXIgTnk9VWUoKHQsZSxyKT0+e2lmKCFzZihyLHQpKXtsZXQgbj1cIm11c3QgYmUgb25lIG9mOiBcIitvZih5eShyLG89PnR5cGVvZiBvPT1cInN0cmluZ1wiP2AnJHtvfSdgOkV5KG8pKSxcIiwgXCIpO3Rocm93IG5ldyBVcihlLHQsbil9fSk7ZnVuY3Rpb24gdWYodCxlKXtpZih0eXBlb2YgdCE9XCJib29sZWFuXCIpdGhyb3cgbmV3IEllKGUsXCJib29sZWFuXCIsdCl9ZnVuY3Rpb24gSXModCxlLHIpe3JldHVybiB0PT1udWxsfHwhdnkodCxlKT9yOnRbZV19dmFyIHF5PVVlKCh0LGUscj1udWxsKT0+e2xldCBpPUlzKHIsXCJhbGxvd0FycmF5XCIsITEpLG49SXMocixcImFsbG93RnVuY3Rpb25cIiwhMSk7aWYoIUlzKHIsXCJudWxsYWJsZVwiLCExKSYmdD09PW51bGx8fCFpJiZUcyh0KXx8dHlwZW9mIHQhPVwib2JqZWN0XCImJighbnx8dHlwZW9mIHQhPVwiZnVuY3Rpb25cIikpdGhyb3cgbmV3IEllKGUsXCJPYmplY3RcIix0KX0pLER5PVVlKCh0LGUpPT57aWYodCE9bnVsbCYmdHlwZW9mIHQhPVwib2JqZWN0XCImJnR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IEllKGUsXCJhIGRpY3Rpb25hcnlcIix0KX0pLEJzPVVlKCh0LGUscj0wKT0+e2lmKCFUcyh0KSl0aHJvdyBuZXcgSWUoZSxcIkFycmF5XCIsdCk7aWYodC5sZW5ndGg8cil7bGV0IGk9YG11c3QgYmUgbG9uZ2VyIHRoYW4gJHtyfWA7dGhyb3cgbmV3IFVyKGUsdCxpKX19KTtmdW5jdGlvbiBqeSh0LGUpe0JzKHQsZSk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspQ3ModFtyXSxgJHtlfVske3J9XWApO31mdW5jdGlvbiBGeSh0LGUpe0JzKHQsZSk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspdWYodFtyXSxgJHtlfVske3J9XWApO31mdW5jdGlvbiBXeSh0LGU9XCJzaWduYWxcIil7aWYoQ3ModCxlKSxyZlt0XT09PXZvaWQgMCl0aHJvdyByZltTeSh0KV0hPT12b2lkIDA/bmV3IHRmKHQrXCIgKHNpZ25hbHMgbXVzdCB1c2UgYWxsIGNhcGl0YWwgbGV0dGVycylcIik6bmV3IHRmKHQpfXZhciAkeT1VZSgodCxlPVwiYnVmZmVyXCIpPT57aWYoIUN5KHQpKXRocm93IG5ldyBJZShlLFtcIkJ1ZmZlclwiLFwiVHlwZWRBcnJheVwiLFwiRGF0YVZpZXdcIl0sdCl9KTtmdW5jdGlvbiBIeSh0LGUpe2xldCByPVR5KGUpLGk9dC5sZW5ndGg7aWYocj09PVwiaGV4XCImJmklMiE9PTApdGhyb3cgbmV3IFVyKFwiZW5jb2RpbmdcIixlLGBpcyBpbnZhbGlkIGZvciBkYXRhIG9mIGxlbmd0aCAke2l9YCl9ZnVuY3Rpb24gVnkodCxlPVwiUG9ydFwiLHI9ITApe2lmKHR5cGVvZiB0IT1cIm51bWJlclwiJiZ0eXBlb2YgdCE9XCJzdHJpbmdcInx8dHlwZW9mIHQ9PVwic3RyaW5nXCImJkF5KHQpLmxlbmd0aD09PTB8fCt0IT09K3Q+Pj4wfHx0PjY1NTM1fHx0PT09MCYmIXIpdGhyb3cgbmV3IEl5KGUsdCxyKTtyZXR1cm4gdHwwfXZhciB6eT1VZSgodCxlKT0+e2lmKHQhPT12b2lkIDAmJih0PT09bnVsbHx8dHlwZW9mIHQhPVwib2JqZWN0XCJ8fCEoXCJhYm9ydGVkXCJpbiB0KSkpdGhyb3cgbmV3IEllKGUsXCJBYm9ydFNpZ25hbFwiLHQpfSksS3k9VWUoKHQsZSk9PntpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBJZShlLFwiRnVuY3Rpb25cIix0KX0pLEd5PVVlKCh0LGUpPT57aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cInx8UnkodCkpdGhyb3cgbmV3IEllKGUsXCJGdW5jdGlvblwiLHQpfSksUXk9VWUoKHQsZSk9PntpZih0IT09dm9pZCAwKXRocm93IG5ldyBJZShlLFwidW5kZWZpbmVkXCIsdCl9KTtmdW5jdGlvbiBZeSh0LGUscil7aWYoIXNmKHIsdCkpdGhyb3cgbmV3IEllKGUsYCgnJHtvZihyLFwifFwiKX0nKWAsdCl9dmFyIEp5PS9eKD86PFtePl0qPikoPzpcXHMqO1xccypbXjtcIlxcc10rKD86PShcIik/W147XCJcXHNdKlxcMSk/KSokLztmdW5jdGlvbiBuZih0LGUpe2lmKHR5cGVvZiB0PlwidVwifHwhYWYoSnksdCkpdGhyb3cgbmV3IFVyKGUsdCwnbXVzdCBiZSBhbiBhcnJheSBvciBzdHJpbmcgb2YgZm9ybWF0IFwiPC9zdHlsZXMuY3NzPjsgcmVsPXByZWxvYWQ7IGFzPXN0eWxlXCInKX1mdW5jdGlvbiBYeSh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIilyZXR1cm4gbmYodCxcImhpbnRzXCIpLHQ7aWYoVHModCkpe2xldCBlPXQubGVuZ3RoLHI9XCJcIjtpZihlPT09MClyZXR1cm4gcjtmb3IobGV0IGk9MDtpPGU7aSsrKXtsZXQgbj10W2ldO25mKG4sXCJoaW50c1wiKSxyKz1uLGkhPT1lLTEmJihyKz1cIiwgXCIpO31yZXR1cm4gcn10aHJvdyBuZXcgVXIoXCJoaW50c1wiLHQsJ211c3QgYmUgYW4gYXJyYXkgb3Igc3RyaW5nIG9mIGZvcm1hdCBcIjwvc3R5bGVzLmNzcz47IHJlbD1wcmVsb2FkOyBhcz1zdHlsZVwiJyl9ZmYuZXhwb3J0cz17aXNJbnQzMjpCeSxpc1VpbnQzMjpQeSxwYXJzZUZpbGVNb2RlOnh5LHZhbGlkYXRlQXJyYXk6QnMsdmFsaWRhdGVTdHJpbmdBcnJheTpqeSx2YWxpZGF0ZUJvb2xlYW5BcnJheTpGeSx2YWxpZGF0ZUJvb2xlYW46dWYsdmFsaWRhdGVCdWZmZXI6JHksdmFsaWRhdGVEaWN0aW9uYXJ5OkR5LHZhbGlkYXRlRW5jb2Rpbmc6SHksdmFsaWRhdGVGdW5jdGlvbjpLeSx2YWxpZGF0ZUludDMyOkx5LHZhbGlkYXRlSW50ZWdlcjpNeSx2YWxpZGF0ZU51bWJlcjpVeSx2YWxpZGF0ZU9iamVjdDpxeSx2YWxpZGF0ZU9uZU9mOk55LHZhbGlkYXRlUGxhaW5GdW5jdGlvbjpHeSx2YWxpZGF0ZVBvcnQ6VnksdmFsaWRhdGVTaWduYWxOYW1lOld5LHZhbGlkYXRlU3RyaW5nOkNzLHZhbGlkYXRlVWludDMyOmxmLHZhbGlkYXRlVW5kZWZpbmVkOlF5LHZhbGlkYXRlVW5pb246WXksdmFsaWRhdGVBYm9ydFNpZ25hbDp6eSx2YWxpZGF0ZUxpbmtIZWFkZXJWYWx1ZTpYeX07fSk7dmFyIE50PU0oKEJJLHBmKT0+e18oKTt2KCk7bSgpO3ZhciBhZT1wZi5leHBvcnRzPXt9LFhlLFplO2Z1bmN0aW9uIFBzKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBrcygpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX0oZnVuY3Rpb24oKXt0cnl7dHlwZW9mIHNldFRpbWVvdXQ9PVwiZnVuY3Rpb25cIj9YZT1zZXRUaW1lb3V0OlhlPVBzO31jYXRjaHtYZT1Qczt9dHJ5e3R5cGVvZiBjbGVhclRpbWVvdXQ9PVwiZnVuY3Rpb25cIj9aZT1jbGVhclRpbWVvdXQ6WmU9a3M7fWNhdGNoe1plPWtzO319KSgpO2Z1bmN0aW9uIGNmKHQpe2lmKFhlPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dCh0LDApO2lmKChYZT09PVBzfHwhWGUpJiZzZXRUaW1lb3V0KXJldHVybiBYZT1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIFhlKHQsMCl9Y2F0Y2h7dHJ5e3JldHVybiBYZS5jYWxsKG51bGwsdCwwKX1jYXRjaHtyZXR1cm4gWGUuY2FsbCh0aGlzLHQsMCl9fX1mdW5jdGlvbiBaeSh0KXtpZihaZT09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChaZT09PWtzfHwhWmUpJiZjbGVhclRpbWVvdXQpcmV0dXJuIFplPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3JldHVybiBaZSh0KX1jYXRjaHt0cnl7cmV0dXJuIFplLmNhbGwobnVsbCx0KX1jYXRjaHtyZXR1cm4gWmUuY2FsbCh0aGlzLHQpfX19dmFyIF90PVtdLE5yPSExLHJyLFFpPS0xO2Z1bmN0aW9uIGViKCl7IU5yfHwhcnJ8fChOcj0hMSxyci5sZW5ndGg/X3Q9cnIuY29uY2F0KF90KTpRaT0tMSxfdC5sZW5ndGgmJmhmKCkpO31mdW5jdGlvbiBoZigpe2lmKCFOcil7dmFyIHQ9Y2YoZWIpO05yPSEwO2Zvcih2YXIgZT1fdC5sZW5ndGg7ZTspe2Zvcihycj1fdCxfdD1bXTsrK1FpPGU7KXJyJiZycltRaV0ucnVuKCk7UWk9LTEsZT1fdC5sZW5ndGg7fXJyPW51bGwsTnI9ITEsWnkodCk7fX1hZS5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO190LnB1c2gobmV3IGRmKHQsZSkpLF90Lmxlbmd0aD09PTEmJiFOciYmY2YoaGYpO307ZnVuY3Rpb24gZGYodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZTt9ZGYucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSk7fTthZS50aXRsZT1cImJyb3dzZXJcIjthZS5icm93c2VyPSEwO2FlLmVudj17fTthZS5hcmd2PVtdO2FlLnZlcnNpb249XCJcIjthZS52ZXJzaW9ucz17fTtmdW5jdGlvbiBtdCgpe31hZS5vbj1tdDthZS5hZGRMaXN0ZW5lcj1tdDthZS5vbmNlPW10O2FlLm9mZj1tdDthZS5yZW1vdmVMaXN0ZW5lcj1tdDthZS5yZW1vdmVBbGxMaXN0ZW5lcnM9bXQ7YWUuZW1pdD1tdDthZS5wcmVwZW5kTGlzdGVuZXI9bXQ7YWUucHJlcGVuZE9uY2VMaXN0ZW5lcj1tdDthZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIFtdfTthZS5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfTthZS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4gXCIvXCJ9O2FlLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX07YWUudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH07fSk7dmFyIHR0PU0oKERJLFBmKT0+e18oKTt2KCk7bSgpO3ZhcntTeW1ib2w6WWksU3ltYm9sQXN5bmNJdGVyYXRvcjpnZixTeW1ib2xJdGVyYXRvcjp5ZixTeW1ib2xGb3I6YmZ9PWNlKCksd2Y9WWkoXCJrRGVzdHJveWVkXCIpLF9mPVlpKFwia0lzRXJyb3JlZFwiKSxPcz1ZaShcImtJc1JlYWRhYmxlXCIpLG1mPVlpKFwia0lzRGlzdHVyYmVkXCIpLHRiPWJmKFwibm9kZWpzLndlYnN0cmVhbS5pc0Nsb3NlZFByb21pc2VcIikscmI9YmYoXCJub2RlanMud2Vic3RyZWFtLmNvbnRyb2xsZXJFcnJvckZ1bmN0aW9uXCIpO2Z1bmN0aW9uIEppKHQsZT0hMSl7dmFyIHI7cmV0dXJuICEhKHQmJnR5cGVvZiB0LnBpcGU9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQub249PVwiZnVuY3Rpb25cIiYmKCFlfHx0eXBlb2YgdC5wYXVzZT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5yZXN1bWU9PVwiZnVuY3Rpb25cIikmJighdC5fd3JpdGFibGVTdGF0ZXx8KChyPXQuX3JlYWRhYmxlU3RhdGUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5yZWFkYWJsZSkhPT0hMSkmJighdC5fd3JpdGFibGVTdGF0ZXx8dC5fcmVhZGFibGVTdGF0ZSkpfWZ1bmN0aW9uIFhpKHQpe3ZhciBlO3JldHVybiAhISh0JiZ0eXBlb2YgdC53cml0ZT09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC5vbj09XCJmdW5jdGlvblwiJiYoIXQuX3JlYWRhYmxlU3RhdGV8fCgoZT10Ll93cml0YWJsZVN0YXRlKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUud3JpdGFibGUpIT09ITEpKX1mdW5jdGlvbiBpYih0KXtyZXR1cm4gISEodCYmdHlwZW9mIHQucGlwZT09XCJmdW5jdGlvblwiJiZ0Ll9yZWFkYWJsZVN0YXRlJiZ0eXBlb2YgdC5vbj09XCJmdW5jdGlvblwiJiZ0eXBlb2YgdC53cml0ZT09XCJmdW5jdGlvblwiKX1mdW5jdGlvbiBldCh0KXtyZXR1cm4gdCYmKHQuX3JlYWRhYmxlU3RhdGV8fHQuX3dyaXRhYmxlU3RhdGV8fHR5cGVvZiB0LndyaXRlPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0Lm9uPT1cImZ1bmN0aW9uXCJ8fHR5cGVvZiB0LnBpcGU9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQub249PVwiZnVuY3Rpb25cIil9ZnVuY3Rpb24gdmYodCl7cmV0dXJuICEhKHQmJiFldCh0KSYmdHlwZW9mIHQucGlwZVRocm91Z2g9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQuZ2V0UmVhZGVyPT1cImZ1bmN0aW9uXCImJnR5cGVvZiB0LmNhbmNlbD09XCJmdW5jdGlvblwiKX1mdW5jdGlvbiBFZih0KXtyZXR1cm4gISEodCYmIWV0KHQpJiZ0eXBlb2YgdC5nZXRXcml0ZXI9PVwiZnVuY3Rpb25cIiYmdHlwZW9mIHQuYWJvcnQ9PVwiZnVuY3Rpb25cIil9ZnVuY3Rpb24gU2YodCl7cmV0dXJuICEhKHQmJiFldCh0KSYmdHlwZW9mIHQucmVhZGFibGU9PVwib2JqZWN0XCImJnR5cGVvZiB0LndyaXRhYmxlPT1cIm9iamVjdFwiKX1mdW5jdGlvbiBuYih0KXtyZXR1cm4gdmYodCl8fEVmKHQpfHxTZih0KX1mdW5jdGlvbiBzYih0LGUpe3JldHVybiB0PT1udWxsPyExOmU9PT0hMD90eXBlb2YgdFtnZl09PVwiZnVuY3Rpb25cIjplPT09ITE/dHlwZW9mIHRbeWZdPT1cImZ1bmN0aW9uXCI6dHlwZW9mIHRbZ2ZdPT1cImZ1bmN0aW9uXCJ8fHR5cGVvZiB0W3lmXT09XCJmdW5jdGlvblwifWZ1bmN0aW9uIFppKHQpe2lmKCFldCh0KSlyZXR1cm4gbnVsbDtsZXQgZT10Ll93cml0YWJsZVN0YXRlLHI9dC5fcmVhZGFibGVTdGF0ZSxpPWV8fHI7cmV0dXJuICEhKHQuZGVzdHJveWVkfHx0W3dmXXx8aSE9bnVsbCYmaS5kZXN0cm95ZWQpfWZ1bmN0aW9uIEFmKHQpe2lmKCFYaSh0KSlyZXR1cm4gbnVsbDtpZih0LndyaXRhYmxlRW5kZWQ9PT0hMClyZXR1cm4gITA7bGV0IGU9dC5fd3JpdGFibGVTdGF0ZTtyZXR1cm4gZSE9bnVsbCYmZS5lcnJvcmVkPyExOnR5cGVvZiBlPy5lbmRlZCE9XCJib29sZWFuXCI/bnVsbDplLmVuZGVkfWZ1bmN0aW9uIG9iKHQsZSl7aWYoIVhpKHQpKXJldHVybiBudWxsO2lmKHQud3JpdGFibGVGaW5pc2hlZD09PSEwKXJldHVybiAhMDtsZXQgcj10Ll93cml0YWJsZVN0YXRlO3JldHVybiByIT1udWxsJiZyLmVycm9yZWQ/ITE6dHlwZW9mIHI/LmZpbmlzaGVkIT1cImJvb2xlYW5cIj9udWxsOiEhKHIuZmluaXNoZWR8fGU9PT0hMSYmci5lbmRlZD09PSEwJiZyLmxlbmd0aD09PTApfWZ1bmN0aW9uIGFiKHQpe2lmKCFKaSh0KSlyZXR1cm4gbnVsbDtpZih0LnJlYWRhYmxlRW5kZWQ9PT0hMClyZXR1cm4gITA7bGV0IGU9dC5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gIWV8fGUuZXJyb3JlZD8hMTp0eXBlb2YgZT8uZW5kZWQhPVwiYm9vbGVhblwiP251bGw6ZS5lbmRlZH1mdW5jdGlvbiBJZih0LGUpe2lmKCFKaSh0KSlyZXR1cm4gbnVsbDtsZXQgcj10Ll9yZWFkYWJsZVN0YXRlO3JldHVybiByIT1udWxsJiZyLmVycm9yZWQ/ITE6dHlwZW9mIHI/LmVuZEVtaXR0ZWQhPVwiYm9vbGVhblwiP251bGw6ISEoci5lbmRFbWl0dGVkfHxlPT09ITEmJnIuZW5kZWQ9PT0hMCYmci5sZW5ndGg9PT0wKX1mdW5jdGlvbiBUZih0KXtyZXR1cm4gdCYmdFtPc10hPW51bGw/dFtPc106dHlwZW9mIHQ/LnJlYWRhYmxlIT1cImJvb2xlYW5cIj9udWxsOlppKHQpPyExOkppKHQpJiZ0LnJlYWRhYmxlJiYhSWYodCl9ZnVuY3Rpb24gUmYodCl7cmV0dXJuIHR5cGVvZiB0Py53cml0YWJsZSE9XCJib29sZWFuXCI/bnVsbDpaaSh0KT8hMTpYaSh0KSYmdC53cml0YWJsZSYmIUFmKHQpfWZ1bmN0aW9uIGxiKHQsZSl7cmV0dXJuIGV0KHQpP1ppKHQpPyEwOiEoZT8ucmVhZGFibGUhPT0hMSYmVGYodCl8fGU/LndyaXRhYmxlIT09ITEmJlJmKHQpKTpudWxsfWZ1bmN0aW9uIHViKHQpe3ZhciBlLHI7cmV0dXJuIGV0KHQpP3Qud3JpdGFibGVFcnJvcmVkP3Qud3JpdGFibGVFcnJvcmVkOihlPShyPXQuX3dyaXRhYmxlU3RhdGUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5lcnJvcmVkKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpudWxsOm51bGx9ZnVuY3Rpb24gZmIodCl7dmFyIGUscjtyZXR1cm4gZXQodCk/dC5yZWFkYWJsZUVycm9yZWQ/dC5yZWFkYWJsZUVycm9yZWQ6KGU9KHI9dC5fcmVhZGFibGVTdGF0ZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmVycm9yZWQpIT09bnVsbCYmZSE9PXZvaWQgMD9lOm51bGw6bnVsbH1mdW5jdGlvbiBjYih0KXtpZighZXQodCkpcmV0dXJuIG51bGw7aWYodHlwZW9mIHQuY2xvc2VkPT1cImJvb2xlYW5cIilyZXR1cm4gdC5jbG9zZWQ7bGV0IGU9dC5fd3JpdGFibGVTdGF0ZSxyPXQuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHR5cGVvZiBlPy5jbG9zZWQ9PVwiYm9vbGVhblwifHx0eXBlb2Ygcj8uY2xvc2VkPT1cImJvb2xlYW5cIj9lPy5jbG9zZWR8fHI/LmNsb3NlZDp0eXBlb2YgdC5fY2xvc2VkPT1cImJvb2xlYW5cIiYmQ2YodCk/dC5fY2xvc2VkOm51bGx9ZnVuY3Rpb24gQ2YodCl7cmV0dXJuIHR5cGVvZiB0Ll9jbG9zZWQ9PVwiYm9vbGVhblwiJiZ0eXBlb2YgdC5fZGVmYXVsdEtlZXBBbGl2ZT09XCJib29sZWFuXCImJnR5cGVvZiB0Ll9yZW1vdmVkQ29ubmVjdGlvbj09XCJib29sZWFuXCImJnR5cGVvZiB0Ll9yZW1vdmVkQ29udExlbj09XCJib29sZWFuXCJ9ZnVuY3Rpb24gQmYodCl7cmV0dXJuIHR5cGVvZiB0Ll9zZW50MTAwPT1cImJvb2xlYW5cIiYmQ2YodCl9ZnVuY3Rpb24gaGIodCl7dmFyIGU7cmV0dXJuIHR5cGVvZiB0Ll9jb25zdW1pbmc9PVwiYm9vbGVhblwiJiZ0eXBlb2YgdC5fZHVtcGVkPT1cImJvb2xlYW5cIiYmKChlPXQucmVxKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudXBncmFkZU9yQ29ubmVjdCk9PT12b2lkIDB9ZnVuY3Rpb24gZGIodCl7aWYoIWV0KHQpKXJldHVybiBudWxsO2xldCBlPXQuX3dyaXRhYmxlU3RhdGUscj10Ll9yZWFkYWJsZVN0YXRlLGk9ZXx8cjtyZXR1cm4gIWkmJkJmKHQpfHwhIShpJiZpLmF1dG9EZXN0cm95JiZpLmVtaXRDbG9zZSYmaS5jbG9zZWQ9PT0hMSl9ZnVuY3Rpb24gcGIodCl7dmFyIGU7cmV0dXJuICEhKHQmJigoZT10W21mXSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dC5yZWFkYWJsZURpZFJlYWR8fHQucmVhZGFibGVBYm9ydGVkKSl9ZnVuY3Rpb24gZ2IodCl7dmFyIGUscixpLG4sbyxzLGEsbCxjLGg7cmV0dXJuICEhKHQmJigoZT0ocj0oaT0obj0obz0ocz10W19mXSkhPT1udWxsJiZzIT09dm9pZCAwP3M6dC5yZWFkYWJsZUVycm9yZWQpIT09bnVsbCYmbyE9PXZvaWQgMD9vOnQud3JpdGFibGVFcnJvcmVkKSE9PW51bGwmJm4hPT12b2lkIDA/bjooYT10Ll9yZWFkYWJsZVN0YXRlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZXJyb3JFbWl0dGVkKSE9PW51bGwmJmkhPT12b2lkIDA/aToobD10Ll93cml0YWJsZVN0YXRlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwuZXJyb3JFbWl0dGVkKSE9PW51bGwmJnIhPT12b2lkIDA/cjooYz10Ll9yZWFkYWJsZVN0YXRlKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOmMuZXJyb3JlZCkhPT1udWxsJiZlIT09dm9pZCAwP2U6ISgoaD10Ll93cml0YWJsZVN0YXRlKT09PW51bGx8fGg9PT12b2lkIDApJiZoLmVycm9yZWQpKX1QZi5leHBvcnRzPXtrRGVzdHJveWVkOndmLGlzRGlzdHVyYmVkOnBiLGtJc0Rpc3R1cmJlZDptZixpc0Vycm9yZWQ6Z2Isa0lzRXJyb3JlZDpfZixpc1JlYWRhYmxlOlRmLGtJc1JlYWRhYmxlOk9zLGtJc0Nsb3NlZFByb21pc2U6dGIsa0NvbnRyb2xsZXJFcnJvckZ1bmN0aW9uOnJiLGlzQ2xvc2VkOmNiLGlzRGVzdHJveWVkOlppLGlzRHVwbGV4Tm9kZVN0cmVhbTppYixpc0ZpbmlzaGVkOmxiLGlzSXRlcmFibGU6c2IsaXNSZWFkYWJsZU5vZGVTdHJlYW06SmksaXNSZWFkYWJsZVN0cmVhbTp2Zixpc1JlYWRhYmxlRW5kZWQ6YWIsaXNSZWFkYWJsZUZpbmlzaGVkOklmLGlzUmVhZGFibGVFcnJvcmVkOmZiLGlzTm9kZVN0cmVhbTpldCxpc1dlYlN0cmVhbTpuYixpc1dyaXRhYmxlOlJmLGlzV3JpdGFibGVOb2RlU3RyZWFtOlhpLGlzV3JpdGFibGVTdHJlYW06RWYsaXNXcml0YWJsZUVuZGVkOkFmLGlzV3JpdGFibGVGaW5pc2hlZDpvYixpc1dyaXRhYmxlRXJyb3JlZDp1Yixpc1NlcnZlclJlcXVlc3Q6aGIsaXNTZXJ2ZXJSZXNwb25zZTpCZix3aWxsRW1pdENsb3NlOmRiLGlzVHJhbnNmb3JtU3RyZWFtOlNmfTt9KTt2YXIgdnQ9TSgoUUksTnMpPT57XygpO3YoKTttKCk7dmFyIHF0PU50KCkse0Fib3J0RXJyb3I6RGYsY29kZXM6eWJ9PUFlKCkse0VSUl9JTlZBTElEX0FSR19UWVBFOmJiLEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFOmtmfT15Yix7a0VtcHR5T2JqZWN0Ok1zLG9uY2U6THN9PUplKCkse3ZhbGlkYXRlQWJvcnRTaWduYWw6d2IsdmFsaWRhdGVGdW5jdGlvbjpfYix2YWxpZGF0ZU9iamVjdDptYix2YWxpZGF0ZUJvb2xlYW46dmJ9PWhpKCkse1Byb21pc2U6RWIsUHJvbWlzZVByb3RvdHlwZVRoZW46U2J9PWNlKCkse2lzQ2xvc2VkOkFiLGlzUmVhZGFibGU6T2YsaXNSZWFkYWJsZU5vZGVTdHJlYW06eHMsaXNSZWFkYWJsZVN0cmVhbTpJYixpc1JlYWRhYmxlRmluaXNoZWQ6eGYsaXNSZWFkYWJsZUVycm9yZWQ6TWYsaXNXcml0YWJsZTpMZixpc1dyaXRhYmxlTm9kZVN0cmVhbTpVZixpc1dyaXRhYmxlU3RyZWFtOlRiLGlzV3JpdGFibGVGaW5pc2hlZDpOZixpc1dyaXRhYmxlRXJyb3JlZDpxZixpc05vZGVTdHJlYW06UmIsd2lsbEVtaXRDbG9zZTpDYixrSXNDbG9zZWRQcm9taXNlOkJifT10dCgpO2Z1bmN0aW9uIFBiKHQpe3JldHVybiB0LnNldEhlYWRlciYmdHlwZW9mIHQuYWJvcnQ9PVwiZnVuY3Rpb25cIn12YXIgVXM9KCk9Pnt9O2Z1bmN0aW9uIGpmKHQsZSxyKXt2YXIgaSxuO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0yPyhyPWUsZT1Ncyk6ZT09bnVsbD9lPU1zOm1iKGUsXCJvcHRpb25zXCIpLF9iKHIsXCJjYWxsYmFja1wiKSx3YihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLHI9THMociksSWIodCl8fFRiKHQpKXJldHVybiBrYih0LGUscik7aWYoIVJiKHQpKXRocm93IG5ldyBiYihcInN0cmVhbVwiLFtcIlJlYWRhYmxlU3RyZWFtXCIsXCJXcml0YWJsZVN0cmVhbVwiLFwiU3RyZWFtXCJdLHQpO2xldCBvPShpPWUucmVhZGFibGUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOnhzKHQpLHM9KG49ZS53cml0YWJsZSkhPT1udWxsJiZuIT09dm9pZCAwP246VWYodCksYT10Ll93cml0YWJsZVN0YXRlLGw9dC5fcmVhZGFibGVTdGF0ZSxjPSgpPT57dC53cml0YWJsZXx8ZygpO30saD1DYih0KSYmeHModCk9PT1vJiZVZih0KT09PXMsZD1OZih0LCExKSxnPSgpPT57ZD0hMCx0LmRlc3Ryb3llZCYmKGg9ITEpLCEoaCYmKCF0LnJlYWRhYmxlfHxvKSkmJighb3x8eSkmJnIuY2FsbCh0KTt9LHk9eGYodCwhMSksdz0oKT0+e3k9ITAsdC5kZXN0cm95ZWQmJihoPSExKSwhKGgmJighdC53cml0YWJsZXx8cykpJiYoIXN8fGQpJiZyLmNhbGwodCk7fSxTPU49PntyLmNhbGwodCxOKTt9LEU9QWIodCksST0oKT0+e0U9ITA7bGV0IE49cWYodCl8fE1mKHQpO2lmKE4mJnR5cGVvZiBOIT1cImJvb2xlYW5cIilyZXR1cm4gci5jYWxsKHQsTik7aWYobyYmIXkmJnhzKHQsITApJiYheGYodCwhMSkpcmV0dXJuIHIuY2FsbCh0LG5ldyBrZik7aWYocyYmIWQmJiFOZih0LCExKSlyZXR1cm4gci5jYWxsKHQsbmV3IGtmKTtyLmNhbGwodCk7fSxDPSgpPT57RT0hMDtsZXQgTj1xZih0KXx8TWYodCk7aWYoTiYmdHlwZW9mIE4hPVwiYm9vbGVhblwiKXJldHVybiByLmNhbGwodCxOKTtyLmNhbGwodCk7fSxSPSgpPT57dC5yZXEub24oXCJmaW5pc2hcIixnKTt9O1BiKHQpPyh0Lm9uKFwiY29tcGxldGVcIixnKSxofHx0Lm9uKFwiYWJvcnRcIixJKSx0LnJlcT9SKCk6dC5vbihcInJlcXVlc3RcIixSKSk6cyYmIWEmJih0Lm9uKFwiZW5kXCIsYyksdC5vbihcImNsb3NlXCIsYykpLCFoJiZ0eXBlb2YgdC5hYm9ydGVkPT1cImJvb2xlYW5cIiYmdC5vbihcImFib3J0ZWRcIixJKSx0Lm9uKFwiZW5kXCIsdyksdC5vbihcImZpbmlzaFwiLGcpLGUuZXJyb3IhPT0hMSYmdC5vbihcImVycm9yXCIsUyksdC5vbihcImNsb3NlXCIsSSksRT9xdC5uZXh0VGljayhJKTphIT1udWxsJiZhLmVycm9yRW1pdHRlZHx8bCE9bnVsbCYmbC5lcnJvckVtaXR0ZWQ/aHx8cXQubmV4dFRpY2soQyk6KCFvJiYoIWh8fE9mKHQpKSYmKGR8fExmKHQpPT09ITEpfHwhcyYmKCFofHxMZih0KSkmJih5fHxPZih0KT09PSExKXx8bCYmdC5yZXEmJnQuYWJvcnRlZCkmJnF0Lm5leHRUaWNrKEMpO2xldCBVPSgpPT57cj1Vcyx0LnJlbW92ZUxpc3RlbmVyKFwiYWJvcnRlZFwiLEkpLHQucmVtb3ZlTGlzdGVuZXIoXCJjb21wbGV0ZVwiLGcpLHQucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLEkpLHQucmVtb3ZlTGlzdGVuZXIoXCJyZXF1ZXN0XCIsUiksdC5yZXEmJnQucmVxLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZyksdC5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGMpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGMpLHQucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixnKSx0LnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsdyksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsUyksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsSSk7fTtpZihlLnNpZ25hbCYmIUUpe2xldCBOPSgpPT57bGV0IFc9cjtVKCksVy5jYWxsKHQsbmV3IERmKHZvaWQgMCx7Y2F1c2U6ZS5zaWduYWwucmVhc29ufSkpO307aWYoZS5zaWduYWwuYWJvcnRlZClxdC5uZXh0VGljayhOKTtlbHNlIHtsZXQgVz1yO3I9THMoKC4uLkspPT57ZS5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsTiksVy5hcHBseSh0LEspO30pLGUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLE4pO319cmV0dXJuIFV9ZnVuY3Rpb24ga2IodCxlLHIpe2xldCBpPSExLG49VXM7aWYoZS5zaWduYWwpaWYobj0oKT0+e2k9ITAsci5jYWxsKHQsbmV3IERmKHZvaWQgMCx7Y2F1c2U6ZS5zaWduYWwucmVhc29ufSkpO30sZS5zaWduYWwuYWJvcnRlZClxdC5uZXh0VGljayhuKTtlbHNlIHtsZXQgcz1yO3I9THMoKC4uLmEpPT57ZS5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbikscy5hcHBseSh0LGEpO30pLGUuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLG4pO31sZXQgbz0oLi4ucyk9PntpfHxxdC5uZXh0VGljaygoKT0+ci5hcHBseSh0LHMpKTt9O3JldHVybiBTYih0W0JiXS5wcm9taXNlLG8sbyksVXN9ZnVuY3Rpb24gT2IodCxlKXt2YXIgcjtsZXQgaT0hMTtyZXR1cm4gZT09PW51bGwmJihlPU1zKSwocj1lKSE9PW51bGwmJnIhPT12b2lkIDAmJnIuY2xlYW51cCYmKHZiKGUuY2xlYW51cCxcImNsZWFudXBcIiksaT1lLmNsZWFudXApLG5ldyBFYigobixvKT0+e2xldCBzPWpmKHQsZSxhPT57aSYmcygpLGE/byhhKTpuKCk7fSk7fSl9TnMuZXhwb3J0cz1qZjtOcy5leHBvcnRzLmZpbmlzaGVkPU9iO30pO3ZhciBpcj1NKChzVCxHZik9PntfKCk7digpO20oKTt2YXIgcnQ9TnQoKSx7YWdncmVnYXRlVHdvRXJyb3JzOnhiLGNvZGVzOntFUlJfTVVMVElQTEVfQ0FMTEJBQ0s6TWJ9LEFib3J0RXJyb3I6TGJ9PUFlKCkse1N5bWJvbDokZn09Y2UoKSx7a0Rlc3Ryb3llZDpVYixpc0Rlc3Ryb3llZDpOYixpc0ZpbmlzaGVkOnFiLGlzU2VydmVyUmVxdWVzdDpEYn09dHQoKSxIZj0kZihcImtEZXN0cm95XCIpLHFzPSRmKFwia0NvbnN0cnVjdFwiKTtmdW5jdGlvbiBWZih0LGUscil7dCYmKHQuc3RhY2ssZSYmIWUuZXJyb3JlZCYmKGUuZXJyb3JlZD10KSxyJiYhci5lcnJvcmVkJiYoci5lcnJvcmVkPXQpKTt9ZnVuY3Rpb24gamIodCxlKXtsZXQgcj10aGlzLl9yZWFkYWJsZVN0YXRlLGk9dGhpcy5fd3JpdGFibGVTdGF0ZSxuPWl8fHI7cmV0dXJuIGkhPW51bGwmJmkuZGVzdHJveWVkfHxyIT1udWxsJiZyLmRlc3Ryb3llZD8odHlwZW9mIGU9PVwiZnVuY3Rpb25cIiYmZSgpLHRoaXMpOihWZih0LGksciksaSYmKGkuZGVzdHJveWVkPSEwKSxyJiYoci5kZXN0cm95ZWQ9ITApLG4uY29uc3RydWN0ZWQ/RmYodGhpcyx0LGUpOnRoaXMub25jZShIZixmdW5jdGlvbihvKXtGZih0aGlzLHhiKG8sdCksZSk7fSksdGhpcyl9ZnVuY3Rpb24gRmYodCxlLHIpe2xldCBpPSExO2Z1bmN0aW9uIG4obyl7aWYoaSlyZXR1cm47aT0hMDtsZXQgcz10Ll9yZWFkYWJsZVN0YXRlLGE9dC5fd3JpdGFibGVTdGF0ZTtWZihvLGEscyksYSYmKGEuY2xvc2VkPSEwKSxzJiYocy5jbG9zZWQ9ITApLHR5cGVvZiByPT1cImZ1bmN0aW9uXCImJnIobyksbz9ydC5uZXh0VGljayhGYix0LG8pOnJ0Lm5leHRUaWNrKHpmLHQpO310cnl7dC5fZGVzdHJveShlfHxudWxsLG4pO31jYXRjaChvKXtuKG8pO319ZnVuY3Rpb24gRmIodCxlKXtEcyh0LGUpLHpmKHQpO31mdW5jdGlvbiB6Zih0KXtsZXQgZT10Ll9yZWFkYWJsZVN0YXRlLHI9dC5fd3JpdGFibGVTdGF0ZTtyJiYoci5jbG9zZUVtaXR0ZWQ9ITApLGUmJihlLmNsb3NlRW1pdHRlZD0hMCksKHIhPW51bGwmJnIuZW1pdENsb3NlfHxlIT1udWxsJiZlLmVtaXRDbG9zZSkmJnQuZW1pdChcImNsb3NlXCIpO31mdW5jdGlvbiBEcyh0LGUpe2xldCByPXQuX3JlYWRhYmxlU3RhdGUsaT10Ll93cml0YWJsZVN0YXRlO2khPW51bGwmJmkuZXJyb3JFbWl0dGVkfHxyIT1udWxsJiZyLmVycm9yRW1pdHRlZHx8KGkmJihpLmVycm9yRW1pdHRlZD0hMCksciYmKHIuZXJyb3JFbWl0dGVkPSEwKSx0LmVtaXQoXCJlcnJvclwiLGUpKTt9ZnVuY3Rpb24gV2IoKXtsZXQgdD10aGlzLl9yZWFkYWJsZVN0YXRlLGU9dGhpcy5fd3JpdGFibGVTdGF0ZTt0JiYodC5jb25zdHJ1Y3RlZD0hMCx0LmNsb3NlZD0hMSx0LmNsb3NlRW1pdHRlZD0hMSx0LmRlc3Ryb3llZD0hMSx0LmVycm9yZWQ9bnVsbCx0LmVycm9yRW1pdHRlZD0hMSx0LnJlYWRpbmc9ITEsdC5lbmRlZD10LnJlYWRhYmxlPT09ITEsdC5lbmRFbWl0dGVkPXQucmVhZGFibGU9PT0hMSksZSYmKGUuY29uc3RydWN0ZWQ9ITAsZS5kZXN0cm95ZWQ9ITEsZS5jbG9zZWQ9ITEsZS5jbG9zZUVtaXR0ZWQ9ITEsZS5lcnJvcmVkPW51bGwsZS5lcnJvckVtaXR0ZWQ9ITEsZS5maW5hbENhbGxlZD0hMSxlLnByZWZpbmlzaGVkPSExLGUuZW5kZWQ9ZS53cml0YWJsZT09PSExLGUuZW5kaW5nPWUud3JpdGFibGU9PT0hMSxlLmZpbmlzaGVkPWUud3JpdGFibGU9PT0hMSk7fWZ1bmN0aW9uIGpzKHQsZSxyKXtsZXQgaT10Ll9yZWFkYWJsZVN0YXRlLG49dC5fd3JpdGFibGVTdGF0ZTtpZihuIT1udWxsJiZuLmRlc3Ryb3llZHx8aSE9bnVsbCYmaS5kZXN0cm95ZWQpcmV0dXJuIHRoaXM7aSE9bnVsbCYmaS5hdXRvRGVzdHJveXx8biE9bnVsbCYmbi5hdXRvRGVzdHJveT90LmRlc3Ryb3koZSk6ZSYmKGUuc3RhY2ssbiYmIW4uZXJyb3JlZCYmKG4uZXJyb3JlZD1lKSxpJiYhaS5lcnJvcmVkJiYoaS5lcnJvcmVkPWUpLHI/cnQubmV4dFRpY2soRHMsdCxlKTpEcyh0LGUpKTt9ZnVuY3Rpb24gJGIodCxlKXtpZih0eXBlb2YgdC5fY29uc3RydWN0IT1cImZ1bmN0aW9uXCIpcmV0dXJuO2xldCByPXQuX3JlYWRhYmxlU3RhdGUsaT10Ll93cml0YWJsZVN0YXRlO3ImJihyLmNvbnN0cnVjdGVkPSExKSxpJiYoaS5jb25zdHJ1Y3RlZD0hMSksdC5vbmNlKHFzLGUpLCEodC5saXN0ZW5lckNvdW50KHFzKT4xKSYmcnQubmV4dFRpY2soSGIsdCk7fWZ1bmN0aW9uIEhiKHQpe2xldCBlPSExO2Z1bmN0aW9uIHIoaSl7aWYoZSl7anModCxpPz9uZXcgTWIpO3JldHVybn1lPSEwO2xldCBuPXQuX3JlYWRhYmxlU3RhdGUsbz10Ll93cml0YWJsZVN0YXRlLHM9b3x8bjtuJiYobi5jb25zdHJ1Y3RlZD0hMCksbyYmKG8uY29uc3RydWN0ZWQ9ITApLHMuZGVzdHJveWVkP3QuZW1pdChIZixpKTppP2pzKHQsaSwhMCk6cnQubmV4dFRpY2soVmIsdCk7fXRyeXt0Ll9jb25zdHJ1Y3QoaT0+e3J0Lm5leHRUaWNrKHIsaSk7fSk7fWNhdGNoKGkpe3J0Lm5leHRUaWNrKHIsaSk7fX1mdW5jdGlvbiBWYih0KXt0LmVtaXQocXMpO31mdW5jdGlvbiBXZih0KXtyZXR1cm4gdD8uc2V0SGVhZGVyJiZ0eXBlb2YgdC5hYm9ydD09XCJmdW5jdGlvblwifWZ1bmN0aW9uIEtmKHQpe3QuZW1pdChcImNsb3NlXCIpO31mdW5jdGlvbiB6Yih0LGUpe3QuZW1pdChcImVycm9yXCIsZSkscnQubmV4dFRpY2soS2YsdCk7fWZ1bmN0aW9uIEtiKHQsZSl7IXR8fE5iKHQpfHwoIWUmJiFxYih0KSYmKGU9bmV3IExiKSxEYih0KT8odC5zb2NrZXQ9bnVsbCx0LmRlc3Ryb3koZSkpOldmKHQpP3QuYWJvcnQoKTpXZih0LnJlcSk/dC5yZXEuYWJvcnQoKTp0eXBlb2YgdC5kZXN0cm95PT1cImZ1bmN0aW9uXCI/dC5kZXN0cm95KGUpOnR5cGVvZiB0LmNsb3NlPT1cImZ1bmN0aW9uXCI/dC5jbG9zZSgpOmU/cnQubmV4dFRpY2soemIsdCxlKTpydC5uZXh0VGljayhLZix0KSx0LmRlc3Ryb3llZHx8KHRbVWJdPSEwKSk7fUdmLmV4cG9ydHM9e2NvbnN0cnVjdDokYixkZXN0cm95ZXI6S2IsZGVzdHJveTpqYix1bmRlc3Ryb3k6V2IsZXJyb3JPckRlc3Ryb3k6anN9O30pO2Z1bmN0aW9uIFkoKXtZLmluaXQuY2FsbCh0aGlzKTt9ZnVuY3Rpb24gZW4odCl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KX1mdW5jdGlvbiBuYyh0KXtyZXR1cm4gdC5fbWF4TGlzdGVuZXJzPT09dm9pZCAwP1kuZGVmYXVsdE1heExpc3RlbmVyczp0Ll9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gWGYodCxlLHIsaSl7dmFyIG4sbyxzLGE7aWYoZW4ociksKG89dC5fZXZlbnRzKT09PXZvaWQgMD8obz10Ll9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0Ll9ldmVudHNDb3VudD0wKTooby5uZXdMaXN0ZW5lciE9PXZvaWQgMCYmKHQuZW1pdChcIm5ld0xpc3RlbmVyXCIsZSxyLmxpc3RlbmVyP3IubGlzdGVuZXI6ciksbz10Ll9ldmVudHMpLHM9b1tlXSkscz09PXZvaWQgMClzPW9bZV09ciwrK3QuX2V2ZW50c0NvdW50O2Vsc2UgaWYodHlwZW9mIHM9PVwiZnVuY3Rpb25cIj9zPW9bZV09aT9bcixzXTpbcyxyXTppP3MudW5zaGlmdChyKTpzLnB1c2gociksKG49bmModCkpPjAmJnMubGVuZ3RoPm4mJiFzLndhcm5lZCl7cy53YXJuZWQ9ITA7dmFyIGw9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitzLmxlbmd0aCtcIiBcIitTdHJpbmcoZSkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTtsLm5hbWU9XCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIixsLmVtaXR0ZXI9dCxsLnR5cGU9ZSxsLmNvdW50PXMubGVuZ3RoLGE9bCxjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihhKTt9cmV0dXJuIHR9ZnVuY3Rpb24gR2IoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLGFyZ3VtZW50cy5sZW5ndGg9PT0wP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIFpmKHQsZSxyKXt2YXIgaT17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6dCx0eXBlOmUsbGlzdGVuZXI6cn0sbj1HYi5iaW5kKGkpO3JldHVybiBuLmxpc3RlbmVyPXIsaS53cmFwRm49bixufWZ1bmN0aW9uIGVjKHQsZSxyKXt2YXIgaT10Ll9ldmVudHM7aWYoaT09PXZvaWQgMClyZXR1cm4gW107dmFyIG49aVtlXTtyZXR1cm4gbj09PXZvaWQgMD9bXTp0eXBlb2Ygbj09XCJmdW5jdGlvblwiP3I/W24ubGlzdGVuZXJ8fG5dOltuXTpyP2Z1bmN0aW9uKG8pe2Zvcih2YXIgcz1uZXcgQXJyYXkoby5sZW5ndGgpLGE9MDthPHMubGVuZ3RoOysrYSlzW2FdPW9bYV0ubGlzdGVuZXJ8fG9bYV07cmV0dXJuIHN9KG4pOnNjKG4sbi5sZW5ndGgpfWZ1bmN0aW9uIHRjKHQpe3ZhciBlPXRoaXMuX2V2ZW50cztpZihlIT09dm9pZCAwKXt2YXIgcj1lW3RdO2lmKHR5cGVvZiByPT1cImZ1bmN0aW9uXCIpcmV0dXJuIDE7aWYociE9PXZvaWQgMClyZXR1cm4gci5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gc2ModCxlKXtmb3IodmFyIHI9bmV3IEFycmF5KGUpLGk9MDtpPGU7KytpKXJbaV09dFtpXTtyZXR1cm4gcn12YXIgcmMsaWMscXIsUWYsWWYsSmYsQmUsRnM9X2UoKCk9PntfKCk7digpO20oKTtxcj10eXBlb2YgUmVmbGVjdD09XCJvYmplY3RcIj9SZWZsZWN0Om51bGwsUWY9cXImJnR5cGVvZiBxci5hcHBseT09XCJmdW5jdGlvblwiP3FyLmFwcGx5OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodCxlLHIpfTtpYz1xciYmdHlwZW9mIHFyLm93bktleXM9PVwiZnVuY3Rpb25cIj9xci5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpKX06ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpfTtZZj1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKHQpe3JldHVybiB0IT10fTtyYz1ZLFkuRXZlbnRFbWl0dGVyPVksWS5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsWS5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsWS5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDA7SmY9MTA7T2JqZWN0LmRlZmluZVByb3BlcnR5KFksXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEpmfSxzZXQ6ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCJ8fHQ8MHx8WWYodCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK3QrXCIuXCIpO0pmPXQ7fX0pLFkuaW5pdD1mdW5jdGlvbigpe3RoaXMuX2V2ZW50cyE9PXZvaWQgMCYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDA7fSxZLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPVwibnVtYmVyXCJ8fHQ8MHx8WWYodCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK3QrXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9dCx0aGlzfSxZLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gbmModGhpcyl9LFkucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWUucHVzaChhcmd1bWVudHNbcl0pO3ZhciBpPXQ9PT1cImVycm9yXCIsbj10aGlzLl9ldmVudHM7aWYobiE9PXZvaWQgMClpPWkmJm4uZXJyb3I9PT12b2lkIDA7ZWxzZSBpZighaSlyZXR1cm4gITE7aWYoaSl7dmFyIG87aWYoZS5sZW5ndGg+MCYmKG89ZVswXSksbyBpbnN0YW5jZW9mIEVycm9yKXRocm93IG87dmFyIHM9bmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yLlwiKyhvP1wiIChcIitvLm1lc3NhZ2UrXCIpXCI6XCJcIikpO3Rocm93IHMuY29udGV4dD1vLHN9dmFyIGE9blt0XTtpZihhPT09dm9pZCAwKXJldHVybiAhMTtpZih0eXBlb2YgYT09XCJmdW5jdGlvblwiKVFmKGEsdGhpcyxlKTtlbHNlIHt2YXIgbD1hLmxlbmd0aCxjPXNjKGEsbCk7Zm9yKHI9MDtyPGw7KytyKVFmKGNbcl0sdGhpcyxlKTt9cmV0dXJuICEwfSxZLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBYZih0aGlzLHQsZSwhMSl9LFkucHJvdG90eXBlLm9uPVkucHJvdG90eXBlLmFkZExpc3RlbmVyLFkucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBYZih0aGlzLHQsZSwhMCl9LFkucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZW4oZSksdGhpcy5vbih0LFpmKHRoaXMsdCxlKSksdGhpc30sWS5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBlbihlKSx0aGlzLnByZXBlbmRMaXN0ZW5lcih0LFpmKHRoaXMsdCxlKSksdGhpc30sWS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt2YXIgcixpLG4sbyxzO2lmKGVuKGUpLChpPXRoaXMuX2V2ZW50cyk9PT12b2lkIDApcmV0dXJuIHRoaXM7aWYoKHI9aVt0XSk9PT12b2lkIDApcmV0dXJuIHRoaXM7aWYocj09PWV8fHIubGlzdGVuZXI9PT1lKS0tdGhpcy5fZXZlbnRzQ291bnQ9PTA/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBpW3RdLGkucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdCxyLmxpc3RlbmVyfHxlKSk7ZWxzZSBpZih0eXBlb2YgciE9XCJmdW5jdGlvblwiKXtmb3Iobj0tMSxvPXIubGVuZ3RoLTE7bz49MDtvLS0paWYocltvXT09PWV8fHJbb10ubGlzdGVuZXI9PT1lKXtzPXJbb10ubGlzdGVuZXIsbj1vO2JyZWFrfWlmKG48MClyZXR1cm4gdGhpcztuPT09MD9yLnNoaWZ0KCk6ZnVuY3Rpb24oYSxsKXtmb3IoO2wrMTxhLmxlbmd0aDtsKyspYVtsXT1hW2wrMV07YS5wb3AoKTt9KHIsbiksci5sZW5ndGg9PT0xJiYoaVt0XT1yWzBdKSxpLnJlbW92ZUxpc3RlbmVyIT09dm9pZCAwJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHQsc3x8ZSk7fXJldHVybiB0aGlzfSxZLnByb3RvdHlwZS5vZmY9WS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsWS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlLHIsaTtpZigocj10aGlzLl9ldmVudHMpPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKHIucmVtb3ZlTGlzdGVuZXI9PT12b2lkIDApcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0wPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTpyW3RdIT09dm9pZCAwJiYoLS10aGlzLl9ldmVudHNDb3VudD09MD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgclt0XSksdGhpcztpZihhcmd1bWVudHMubGVuZ3RoPT09MCl7dmFyIG4sbz1PYmplY3Qua2V5cyhyKTtmb3IoaT0wO2k8by5sZW5ndGg7KytpKShuPW9baV0pIT09XCJyZW1vdmVMaXN0ZW5lclwiJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhuKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYodHlwZW9mKGU9clt0XSk9PVwiZnVuY3Rpb25cIil0aGlzLnJlbW92ZUxpc3RlbmVyKHQsZSk7ZWxzZSBpZihlIT09dm9pZCAwKWZvcihpPWUubGVuZ3RoLTE7aT49MDtpLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcih0LGVbaV0pO3JldHVybiB0aGlzfSxZLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIGVjKHRoaXMsdCwhMCl9LFkucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gZWModGhpcyx0LCExKX0sWS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR5cGVvZiB0Lmxpc3RlbmVyQ291bnQ9PVwiZnVuY3Rpb25cIj90Lmxpc3RlbmVyQ291bnQoZSk6dGMuY2FsbCh0LGUpfSxZLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PXRjLFkucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9pYyh0aGlzLl9ldmVudHMpOltdfTtCZT1yYztCZS5FdmVudEVtaXR0ZXI7QmUuZGVmYXVsdE1heExpc3RlbmVycztCZS5pbml0O0JlLmxpc3RlbmVyQ291bnQ7QmUuRXZlbnRFbWl0dGVyO0JlLmRlZmF1bHRNYXhMaXN0ZW5lcnM7QmUuaW5pdDtCZS5saXN0ZW5lckNvdW50O30pO3ZhciBucj17fTtKdChucix7RXZlbnRFbWl0dGVyOigpPT5RYixkZWZhdWx0OigpPT5CZSxkZWZhdWx0TWF4TGlzdGVuZXJzOigpPT5ZYixpbml0OigpPT5KYixsaXN0ZW5lckNvdW50OigpPT5YYixvbjooKT0+WmIsb25jZTooKT0+ZXd9KTt2YXIgUWIsWWIsSmIsWGIsWmIsZXcsc3I9X2UoKCk9PntfKCk7digpO20oKTtGcygpO0ZzKCk7QmUub25jZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUHJvbWlzZSgocixpKT0+e2Z1bmN0aW9uIG4oLi4ucyl7byE9PXZvaWQgMCYmdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsbykscihzKTt9bGV0IG87ZSE9PVwiZXJyb3JcIiYmKG89cz0+e3QucmVtb3ZlTGlzdGVuZXIobmFtZSxuKSxpKHMpO30sdC5vbmNlKFwiZXJyb3JcIixvKSksdC5vbmNlKGUsbik7fSl9O0JlLm9uPWZ1bmN0aW9uKHQsZSl7bGV0IHI9W10saT1bXSxuPW51bGwsbz0hMSxzPXthc3luYyBuZXh0KCl7bGV0IGM9ci5zaGlmdCgpO2lmKGMpcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHQoYywhMSk7aWYobil7bGV0IGg9UHJvbWlzZS5yZWplY3Qobik7cmV0dXJuIG49bnVsbCxofXJldHVybiBvP2NyZWF0ZUl0ZXJSZXN1bHQodm9pZCAwLCEwKTpuZXcgUHJvbWlzZSgoaCxkKT0+aS5wdXNoKHtyZXNvbHZlOmgscmVqZWN0OmR9KSl9LGFzeW5jIHJldHVybigpe3QucmVtb3ZlTGlzdGVuZXIoZSxhKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixsKSxvPSEwO2ZvcihsZXQgYyBvZiBpKWMucmVzb2x2ZShjcmVhdGVJdGVyUmVzdWx0KHZvaWQgMCwhMCkpO3JldHVybiBjcmVhdGVJdGVyUmVzdWx0KHZvaWQgMCwhMCl9LHRocm93KGMpe249Yyx0LnJlbW92ZUxpc3RlbmVyKGUsYSksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsbCk7fSxbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9fTtyZXR1cm4gdC5vbihlLGEpLHQub24oXCJlcnJvclwiLGwpLHM7ZnVuY3Rpb24gYSguLi5jKXtsZXQgaD1pLnNoaWZ0KCk7aD9oLnJlc29sdmUoY3JlYXRlSXRlclJlc3VsdChjLCExKSk6ci5wdXNoKGMpO31mdW5jdGlvbiBsKGMpe289ITA7bGV0IGg9aS5zaGlmdCgpO2g/aC5yZWplY3QoYyk6bj1jLHMucmV0dXJuKCk7fX07KHtFdmVudEVtaXR0ZXI6UWIsZGVmYXVsdE1heExpc3RlbmVyczpZYixpbml0OkpiLGxpc3RlbmVyQ291bnQ6WGIsb246WmIsb25jZTpld309QmUpO30pO3ZhciBubj1NKChVVCxhYyk9PntfKCk7digpO20oKTt2YXJ7QXJyYXlJc0FycmF5OnR3LE9iamVjdFNldFByb3RvdHlwZU9mOm9jfT1jZSgpLHtFdmVudEVtaXR0ZXI6dG59PShzcigpLFgobnIpKTtmdW5jdGlvbiBybih0KXt0bi5jYWxsKHRoaXMsdCk7fW9jKHJuLnByb3RvdHlwZSx0bi5wcm90b3R5cGUpO29jKHJuLHRuKTtybi5wcm90b3R5cGUucGlwZT1mdW5jdGlvbih0LGUpe2xldCByPXRoaXM7ZnVuY3Rpb24gaShoKXt0LndyaXRhYmxlJiZ0LndyaXRlKGgpPT09ITEmJnIucGF1c2UmJnIucGF1c2UoKTt9ci5vbihcImRhdGFcIixpKTtmdW5jdGlvbiBuKCl7ci5yZWFkYWJsZSYmci5yZXN1bWUmJnIucmVzdW1lKCk7fXQub24oXCJkcmFpblwiLG4pLCF0Ll9pc1N0ZGlvJiYoIWV8fGUuZW5kIT09ITEpJiYoci5vbihcImVuZFwiLHMpLHIub24oXCJjbG9zZVwiLGEpKTtsZXQgbz0hMTtmdW5jdGlvbiBzKCl7b3x8KG89ITAsdC5lbmQoKSk7fWZ1bmN0aW9uIGEoKXtvfHwobz0hMCx0eXBlb2YgdC5kZXN0cm95PT1cImZ1bmN0aW9uXCImJnQuZGVzdHJveSgpKTt9ZnVuY3Rpb24gbChoKXtjKCksdG4ubGlzdGVuZXJDb3VudCh0aGlzLFwiZXJyb3JcIik9PT0wJiZ0aGlzLmVtaXQoXCJlcnJvclwiLGgpO31XcyhyLFwiZXJyb3JcIixsKSxXcyh0LFwiZXJyb3JcIixsKTtmdW5jdGlvbiBjKCl7ci5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixpKSx0LnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixuKSxyLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIscyksci5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsYSksci5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsbCksdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsbCksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGMpLHIucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGMpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGMpO31yZXR1cm4gci5vbihcImVuZFwiLGMpLHIub24oXCJjbG9zZVwiLGMpLHQub24oXCJjbG9zZVwiLGMpLHQuZW1pdChcInBpcGVcIixyKSx0fTtmdW5jdGlvbiBXcyh0LGUscil7aWYodHlwZW9mIHQucHJlcGVuZExpc3RlbmVyPT1cImZ1bmN0aW9uXCIpcmV0dXJuIHQucHJlcGVuZExpc3RlbmVyKGUscik7IXQuX2V2ZW50c3x8IXQuX2V2ZW50c1tlXT90Lm9uKGUscik6dHcodC5fZXZlbnRzW2VdKT90Ll9ldmVudHNbZV0udW5zaGlmdChyKTp0Ll9ldmVudHNbZV09W3IsdC5fZXZlbnRzW2VdXTt9YWMuZXhwb3J0cz17U3RyZWFtOnJuLHByZXBlbmRMaXN0ZW5lcjpXc307fSk7dmFyIGRpPU0oKHpULHNuKT0+e18oKTt2KCk7bSgpO3ZhcntBYm9ydEVycm9yOmxjLGNvZGVzOnJ3fT1BZSgpLHtpc05vZGVTdHJlYW06dWMsaXNXZWJTdHJlYW06aXcsa0NvbnRyb2xsZXJFcnJvckZ1bmN0aW9uOm53fT10dCgpLHN3PXZ0KCkse0VSUl9JTlZBTElEX0FSR19UWVBFOmZjfT1ydyxvdz0odCxlKT0+e2lmKHR5cGVvZiB0IT1cIm9iamVjdFwifHwhKFwiYWJvcnRlZFwiaW4gdCkpdGhyb3cgbmV3IGZjKGUsXCJBYm9ydFNpZ25hbFwiLHQpfTtzbi5leHBvcnRzLmFkZEFib3J0U2lnbmFsPWZ1bmN0aW9uKGUscil7aWYob3coZSxcInNpZ25hbFwiKSwhdWMocikmJiFpdyhyKSl0aHJvdyBuZXcgZmMoXCJzdHJlYW1cIixbXCJSZWFkYWJsZVN0cmVhbVwiLFwiV3JpdGFibGVTdHJlYW1cIixcIlN0cmVhbVwiXSxyKTtyZXR1cm4gc24uZXhwb3J0cy5hZGRBYm9ydFNpZ25hbE5vVmFsaWRhdGUoZSxyKX07c24uZXhwb3J0cy5hZGRBYm9ydFNpZ25hbE5vVmFsaWRhdGU9ZnVuY3Rpb24odCxlKXtpZih0eXBlb2YgdCE9XCJvYmplY3RcInx8IShcImFib3J0ZWRcImluIHQpKXJldHVybiBlO2xldCByPXVjKGUpPygpPT57ZS5kZXN0cm95KG5ldyBsYyh2b2lkIDAse2NhdXNlOnQucmVhc29ufSkpO306KCk9PntlW253XShuZXcgbGModm9pZCAwLHtjYXVzZTp0LnJlYXNvbn0pKTt9O3JldHVybiB0LmFib3J0ZWQ/cigpOih0LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHIpLHN3KGUsKCk9PnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIscikpKSxlfTt9KTt2YXIgZGM9TSgoaTIsaGMpPT57XygpO3YoKTttKCk7dmFye1N0cmluZ1Byb3RvdHlwZVNsaWNlOmNjLFN5bWJvbEl0ZXJhdG9yOmF3LFR5cGVkQXJyYXlQcm90b3R5cGVTZXQ6b24sVWludDhBcnJheTpsd309Y2UoKSx7QnVmZmVyOiRzfT0oYmUoKSxYKG1lKSkse2luc3BlY3Q6dXd9PUplKCk7aGMuZXhwb3J0cz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTA7fXB1c2goZSl7bGV0IHI9e2RhdGE6ZSxuZXh0Om51bGx9O3RoaXMubGVuZ3RoPjA/dGhpcy50YWlsLm5leHQ9cjp0aGlzLmhlYWQ9cix0aGlzLnRhaWw9ciwrK3RoaXMubGVuZ3RoO311bnNoaWZ0KGUpe2xldCByPXtkYXRhOmUsbmV4dDp0aGlzLmhlYWR9O3RoaXMubGVuZ3RoPT09MCYmKHRoaXMudGFpbD1yKSx0aGlzLmhlYWQ9ciwrK3RoaXMubGVuZ3RoO31zaGlmdCgpe2lmKHRoaXMubGVuZ3RoPT09MClyZXR1cm47bGV0IGU9dGhpcy5oZWFkLmRhdGE7cmV0dXJuIHRoaXMubGVuZ3RoPT09MT90aGlzLmhlYWQ9dGhpcy50YWlsPW51bGw6dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgsZX1jbGVhcigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wO31qb2luKGUpe2lmKHRoaXMubGVuZ3RoPT09MClyZXR1cm4gXCJcIjtsZXQgcj10aGlzLmhlYWQsaT1cIlwiK3IuZGF0YTtmb3IoOyhyPXIubmV4dCkhPT1udWxsOylpKz1lK3IuZGF0YTtyZXR1cm4gaX1jb25jYXQoZSl7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybiAkcy5hbGxvYygwKTtsZXQgcj0kcy5hbGxvY1Vuc2FmZShlPj4+MCksaT10aGlzLmhlYWQsbj0wO2Zvcig7aTspb24ocixpLmRhdGEsbiksbis9aS5kYXRhLmxlbmd0aCxpPWkubmV4dDtyZXR1cm4gcn1jb25zdW1lKGUscil7bGV0IGk9dGhpcy5oZWFkLmRhdGE7aWYoZTxpLmxlbmd0aCl7bGV0IG49aS5zbGljZSgwLGUpO3JldHVybiB0aGlzLmhlYWQuZGF0YT1pLnNsaWNlKGUpLG59cmV0dXJuIGU9PT1pLmxlbmd0aD90aGlzLnNoaWZ0KCk6cj90aGlzLl9nZXRTdHJpbmcoZSk6dGhpcy5fZ2V0QnVmZmVyKGUpfWZpcnN0KCl7cmV0dXJuIHRoaXMuaGVhZC5kYXRhfSpbYXddKCl7Zm9yKGxldCBlPXRoaXMuaGVhZDtlO2U9ZS5uZXh0KXlpZWxkIGUuZGF0YTt9X2dldFN0cmluZyhlKXtsZXQgcj1cIlwiLGk9dGhpcy5oZWFkLG49MDtkb3tsZXQgbz1pLmRhdGE7aWYoZT5vLmxlbmd0aClyKz1vLGUtPW8ubGVuZ3RoO2Vsc2Uge2U9PT1vLmxlbmd0aD8ocis9bywrK24saS5uZXh0P3RoaXMuaGVhZD1pLm5leHQ6dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsKToocis9Y2MobywwLGUpLHRoaXMuaGVhZD1pLGkuZGF0YT1jYyhvLGUpKTticmVha30rK247fXdoaWxlKChpPWkubmV4dCkhPT1udWxsKTtyZXR1cm4gdGhpcy5sZW5ndGgtPW4scn1fZ2V0QnVmZmVyKGUpe2xldCByPSRzLmFsbG9jVW5zYWZlKGUpLGk9ZSxuPXRoaXMuaGVhZCxvPTA7ZG97bGV0IHM9bi5kYXRhO2lmKGU+cy5sZW5ndGgpb24ocixzLGktZSksZS09cy5sZW5ndGg7ZWxzZSB7ZT09PXMubGVuZ3RoPyhvbihyLHMsaS1lKSwrK28sbi5uZXh0P3RoaXMuaGVhZD1uLm5leHQ6dGhpcy5oZWFkPXRoaXMudGFpbD1udWxsKToob24ocixuZXcgbHcocy5idWZmZXIscy5ieXRlT2Zmc2V0LGUpLGktZSksdGhpcy5oZWFkPW4sbi5kYXRhPXMuc2xpY2UoZSkpO2JyZWFrfSsrbzt9d2hpbGUoKG49bi5uZXh0KSE9PW51bGwpO3JldHVybiB0aGlzLmxlbmd0aC09byxyfVtTeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIildKGUscil7cmV0dXJuIHV3KHRoaXMsey4uLnIsZGVwdGg6MCxjdXN0b21JbnNwZWN0OiExfSl9fTt9KTt2YXIgYW49TSgoZDIsZ2MpPT57XygpO3YoKTttKCk7dmFye01hdGhGbG9vcjpmdyxOdW1iZXJJc0ludGVnZXI6Y3d9PWNlKCkse0VSUl9JTlZBTElEX0FSR19WQUxVRTpod309QWUoKS5jb2RlcztmdW5jdGlvbiBkdyh0LGUscil7cmV0dXJuIHQuaGlnaFdhdGVyTWFyayE9bnVsbD90LmhpZ2hXYXRlck1hcms6ZT90W3JdOm51bGx9ZnVuY3Rpb24gcGModCl7cmV0dXJuIHQ/MTY6MTYqMTAyNH1mdW5jdGlvbiBwdyh0LGUscixpKXtsZXQgbj1kdyhlLGkscik7aWYobiE9bnVsbCl7aWYoIWN3KG4pfHxuPDApe2xldCBvPWk/YG9wdGlvbnMuJHtyfWA6XCJvcHRpb25zLmhpZ2hXYXRlck1hcmtcIjt0aHJvdyBuZXcgaHcobyxuKX1yZXR1cm4gZncobil9cmV0dXJuIHBjKHQub2JqZWN0TW9kZSl9Z2MuZXhwb3J0cz17Z2V0SGlnaFdhdGVyTWFyazpwdyxnZXREZWZhdWx0SGlnaFdhdGVyTWFyazpwY307fSk7ZnVuY3Rpb24gd2ModCl7dmFyIGU9dC5sZW5ndGg7aWYoZSU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgcj10LmluZGV4T2YoXCI9XCIpO3JldHVybiByPT09LTEmJihyPWUpLFtyLHI9PT1lPzA6NC1yJTRdfWZ1bmN0aW9uIGd3KHQsZSxyKXtmb3IodmFyIGksbixvPVtdLHM9ZTtzPHI7cys9MylpPSh0W3NdPDwxNiYxNjcxMTY4MCkrKHRbcysxXTw8OCY2NTI4MCkrKDI1NSZ0W3MrMl0pLG8ucHVzaCgkZVsobj1pKT4+MTgmNjNdKyRlW24+PjEyJjYzXSskZVtuPj42JjYzXSskZVs2MyZuXSk7cmV0dXJuIG8uam9pbihcIlwiKX1mdW5jdGlvbiBFdCh0KXtpZih0PjIxNDc0ODM2NDcpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrdCsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyk7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodCk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihlLE8ucHJvdG90eXBlKSxlfWZ1bmN0aW9uIE8odCxlLHIpe2lmKHR5cGVvZiB0PT1cIm51bWJlclwiKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO3JldHVybiBLcyh0KX1yZXR1cm4gQ2ModCxlLHIpfWZ1bmN0aW9uIENjKHQsZSxyKXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIilyZXR1cm4gZnVuY3Rpb24obyxzKXtpZih0eXBlb2Ygcz09XCJzdHJpbmdcIiYmcyE9PVwiXCJ8fChzPVwidXRmOFwiKSwhTy5pc0VuY29kaW5nKHMpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitzKTt2YXIgYT0wfFBjKG8scyksbD1FdChhKSxjPWwud3JpdGUobyxzKTtyZXR1cm4gYyE9PWEmJihsPWwuc2xpY2UoMCxjKSksbH0odCxlKTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCkpcmV0dXJuIEhzKHQpO2lmKHQ9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlIFwiK3R5cGVvZiB0KTtpZihTdCh0LEFycmF5QnVmZmVyKXx8dCYmU3QodC5idWZmZXIsQXJyYXlCdWZmZXIpfHx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8XCJ1XCImJihTdCh0LFNoYXJlZEFycmF5QnVmZmVyKXx8dCYmU3QodC5idWZmZXIsU2hhcmVkQXJyYXlCdWZmZXIpKSlyZXR1cm4gbWModCxlLHIpO2lmKHR5cGVvZiB0PT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7dmFyIGk9dC52YWx1ZU9mJiZ0LnZhbHVlT2YoKTtpZihpIT1udWxsJiZpIT09dClyZXR1cm4gTy5mcm9tKGksZSxyKTt2YXIgbj1mdW5jdGlvbihvKXtpZihPLmlzQnVmZmVyKG8pKXt2YXIgcz0wfFlzKG8ubGVuZ3RoKSxhPUV0KHMpO3JldHVybiBhLmxlbmd0aD09PTB8fG8uY29weShhLDAsMCxzKSxhfWlmKG8ubGVuZ3RoIT09dm9pZCAwKXJldHVybiB0eXBlb2Ygby5sZW5ndGghPVwibnVtYmVyXCJ8fEpzKG8ubGVuZ3RoKT9FdCgwKTpIcyhvKTtpZihvLnR5cGU9PT1cIkJ1ZmZlclwiJiZBcnJheS5pc0FycmF5KG8uZGF0YSkpcmV0dXJuIEhzKG8uZGF0YSl9KHQpO2lmKG4pcmV0dXJuIG47aWYodHlwZW9mIFN5bWJvbDxcInVcIiYmU3ltYm9sLnRvUHJpbWl0aXZlIT1udWxsJiZ0eXBlb2YgdFtTeW1ib2wudG9QcmltaXRpdmVdPT1cImZ1bmN0aW9uXCIpcmV0dXJuIE8uZnJvbSh0W1N5bWJvbC50b1ByaW1pdGl2ZV0oXCJzdHJpbmdcIiksZSxyKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgXCIrdHlwZW9mIHQpfWZ1bmN0aW9uIEJjKHQpe2lmKHR5cGVvZiB0IT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKTtpZih0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBcIicrdCsnXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwic2l6ZVwiJyl9ZnVuY3Rpb24gS3ModCl7cmV0dXJuIEJjKHQpLEV0KHQ8MD8wOjB8WXModCkpfWZ1bmN0aW9uIEhzKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDwwPzA6MHxZcyh0Lmxlbmd0aCkscj1FdChlKSxpPTA7aTxlO2krPTEpcltpXT0yNTUmdFtpXTtyZXR1cm4gcn1mdW5jdGlvbiBtYyh0LGUscil7aWYoZTwwfHx0LmJ5dGVMZW5ndGg8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZih0LmJ5dGVMZW5ndGg8ZSsocnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7dmFyIGk7cmV0dXJuIGk9ZT09PXZvaWQgMCYmcj09PXZvaWQgMD9uZXcgVWludDhBcnJheSh0KTpyPT09dm9pZCAwP25ldyBVaW50OEFycmF5KHQsZSk6bmV3IFVpbnQ4QXJyYXkodCxlLHIpLE9iamVjdC5zZXRQcm90b3R5cGVPZihpLE8ucHJvdG90eXBlKSxpfWZ1bmN0aW9uIFlzKHQpe2lmKHQ+PTIxNDc0ODM2NDcpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4XCIrMjE0NzQ4MzY0NyAudG9TdHJpbmcoMTYpK1wiIGJ5dGVzXCIpO3JldHVybiAwfHR9ZnVuY3Rpb24gUGModCxlKXtpZihPLmlzQnVmZmVyKHQpKXJldHVybiB0Lmxlbmd0aDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcodCl8fFN0KHQsQXJyYXlCdWZmZXIpKXJldHVybiB0LmJ5dGVMZW5ndGg7aWYodHlwZW9mIHQhPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwic3RyaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgdCk7dmFyIHI9dC5sZW5ndGgsaT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXT09PSEwO2lmKCFpJiZyPT09MClyZXR1cm4gMDtmb3IodmFyIG49ITE7Oylzd2l0Y2goZSl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gcjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gR3ModCkubGVuZ3RoO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiAyKnI7Y2FzZVwiaGV4XCI6cmV0dXJuIHI+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBNYyh0KS5sZW5ndGg7ZGVmYXVsdDppZihuKXJldHVybiBpPy0xOkdzKHQpLmxlbmd0aDtlPShcIlwiK2UpLnRvTG93ZXJDYXNlKCksbj0hMDt9fWZ1bmN0aW9uIGJ3KHQsZSxyKXt2YXIgaT0hMTtpZigoZT09PXZvaWQgMHx8ZTwwKSYmKGU9MCksZT50aGlzLmxlbmd0aHx8KChyPT09dm9pZCAwfHxyPnRoaXMubGVuZ3RoKSYmKHI9dGhpcy5sZW5ndGgpLHI8PTApfHwocj4+Pj0wKTw9KGU+Pj49MCkpcmV0dXJuIFwiXCI7Zm9yKHR8fCh0PVwidXRmOFwiKTs7KXN3aXRjaCh0KXtjYXNlXCJoZXhcIjpyZXR1cm4gVHcodGhpcyxlLHIpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiBPYyh0aGlzLGUscik7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gQXcodGhpcyxlLHIpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBJdyh0aGlzLGUscik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIFN3KHRoaXMsZSxyKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gUncodGhpcyxlLHIpO2RlZmF1bHQ6aWYoaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrdCk7dD0odCtcIlwiKS50b0xvd2VyQ2FzZSgpLGk9ITA7fX1mdW5jdGlvbiBhcih0LGUscil7dmFyIGk9dFtlXTt0W2VdPXRbcl0sdFtyXT1pO31mdW5jdGlvbiB2Yyh0LGUscixpLG4pe2lmKHQubGVuZ3RoPT09MClyZXR1cm4gLTE7aWYodHlwZW9mIHI9PVwic3RyaW5nXCI/KGk9cixyPTApOnI+MjE0NzQ4MzY0Nz9yPTIxNDc0ODM2NDc6cjwtMjE0NzQ4MzY0OCYmKHI9LTIxNDc0ODM2NDgpLEpzKHI9K3IpJiYocj1uPzA6dC5sZW5ndGgtMSkscjwwJiYocj10Lmxlbmd0aCtyKSxyPj10Lmxlbmd0aCl7aWYobilyZXR1cm4gLTE7cj10Lmxlbmd0aC0xO31lbHNlIGlmKHI8MCl7aWYoIW4pcmV0dXJuIC0xO3I9MDt9aWYodHlwZW9mIGU9PVwic3RyaW5nXCImJihlPU8uZnJvbShlLGkpKSxPLmlzQnVmZmVyKGUpKXJldHVybiBlLmxlbmd0aD09PTA/LTE6RWModCxlLHIsaSxuKTtpZih0eXBlb2YgZT09XCJudW1iZXJcIilyZXR1cm4gZSY9MjU1LHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mPT1cImZ1bmN0aW9uXCI/bj9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlLHIpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwodCxlLHIpOkVjKHQsW2VdLHIsaSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyXCIpfWZ1bmN0aW9uIEVjKHQsZSxyLGksbil7dmFyIG8scz0xLGE9dC5sZW5ndGgsbD1lLmxlbmd0aDtpZihpIT09dm9pZCAwJiYoKGk9U3RyaW5nKGkpLnRvTG93ZXJDYXNlKCkpPT09XCJ1Y3MyXCJ8fGk9PT1cInVjcy0yXCJ8fGk9PT1cInV0ZjE2bGVcInx8aT09PVwidXRmLTE2bGVcIikpe2lmKHQubGVuZ3RoPDJ8fGUubGVuZ3RoPDIpcmV0dXJuIC0xO3M9MixhLz0yLGwvPTIsci89Mjt9ZnVuY3Rpb24gYyh5LHcpe3JldHVybiBzPT09MT95W3ddOnkucmVhZFVJbnQxNkJFKHcqcyl9aWYobil7dmFyIGg9LTE7Zm9yKG89cjtvPGE7bysrKWlmKGModCxvKT09PWMoZSxoPT09LTE/MDpvLWgpKXtpZihoPT09LTEmJihoPW8pLG8taCsxPT09bClyZXR1cm4gaCpzfWVsc2UgaCE9PS0xJiYoby09by1oKSxoPS0xO31lbHNlIGZvcihyK2w+YSYmKHI9YS1sKSxvPXI7bz49MDtvLS0pe2Zvcih2YXIgZD0hMCxnPTA7ZzxsO2crKylpZihjKHQsbytnKSE9PWMoZSxnKSl7ZD0hMTticmVha31pZihkKXJldHVybiBvfXJldHVybiAtMX1mdW5jdGlvbiB3dyh0LGUscixpKXtyPU51bWJlcihyKXx8MDt2YXIgbj10Lmxlbmd0aC1yO2k/KGk9TnVtYmVyKGkpKT5uJiYoaT1uKTppPW47dmFyIG89ZS5sZW5ndGg7aT5vLzImJihpPW8vMik7Zm9yKHZhciBzPTA7czxpOysrcyl7dmFyIGE9cGFyc2VJbnQoZS5zdWJzdHIoMipzLDIpLDE2KTtpZihKcyhhKSlyZXR1cm4gczt0W3Irc109YTt9cmV0dXJuIHN9ZnVuY3Rpb24gX3codCxlLHIsaSl7cmV0dXJuIGNuKEdzKGUsdC5sZW5ndGgtciksdCxyLGkpfWZ1bmN0aW9uIGtjKHQsZSxyLGkpe3JldHVybiBjbihmdW5jdGlvbihuKXtmb3IodmFyIG89W10scz0wO3M8bi5sZW5ndGg7KytzKW8ucHVzaCgyNTUmbi5jaGFyQ29kZUF0KHMpKTtyZXR1cm4gb30oZSksdCxyLGkpfWZ1bmN0aW9uIG13KHQsZSxyLGkpe3JldHVybiBrYyh0LGUscixpKX1mdW5jdGlvbiB2dyh0LGUscixpKXtyZXR1cm4gY24oTWMoZSksdCxyLGkpfWZ1bmN0aW9uIEV3KHQsZSxyLGkpe3JldHVybiBjbihmdW5jdGlvbihuLG8pe2Zvcih2YXIgcyxhLGwsYz1bXSxoPTA7aDxuLmxlbmd0aCYmISgoby09Mik8MCk7KytoKXM9bi5jaGFyQ29kZUF0KGgpLGE9cz4+OCxsPXMlMjU2LGMucHVzaChsKSxjLnB1c2goYSk7cmV0dXJuIGN9KGUsdC5sZW5ndGgtciksdCxyLGkpfWZ1bmN0aW9uIFN3KHQsZSxyKXtyZXR1cm4gZT09PTAmJnI9PT10Lmxlbmd0aD96cy5mcm9tQnl0ZUFycmF5KHQpOnpzLmZyb21CeXRlQXJyYXkodC5zbGljZShlLHIpKX1mdW5jdGlvbiBPYyh0LGUscil7cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIGk9W10sbj1lO248cjspe3ZhciBvLHMsYSxsLGM9dFtuXSxoPW51bGwsZD1jPjIzOT80OmM+MjIzPzM6Yz4xOTE/MjoxO2lmKG4rZDw9cilzd2l0Y2goZCl7Y2FzZSAxOmM8MTI4JiYoaD1jKTticmVhaztjYXNlIDI6KDE5MiYobz10W24rMV0pKT09MTI4JiYobD0oMzEmYyk8PDZ8NjMmbyk+MTI3JiYoaD1sKTticmVhaztjYXNlIDM6bz10W24rMV0scz10W24rMl0sKDE5MiZvKT09MTI4JiYoMTkyJnMpPT0xMjgmJihsPSgxNSZjKTw8MTJ8KDYzJm8pPDw2fDYzJnMpPjIwNDcmJihsPDU1Mjk2fHxsPjU3MzQzKSYmKGg9bCk7YnJlYWs7Y2FzZSA0Om89dFtuKzFdLHM9dFtuKzJdLGE9dFtuKzNdLCgxOTImbyk9PTEyOCYmKDE5MiZzKT09MTI4JiYoMTkyJmEpPT0xMjgmJihsPSgxNSZjKTw8MTh8KDYzJm8pPDwxMnwoNjMmcyk8PDZ8NjMmYSk+NjU1MzUmJmw8MTExNDExMiYmKGg9bCk7fWg9PT1udWxsPyhoPTY1NTMzLGQ9MSk6aD42NTUzNSYmKGgtPTY1NTM2LGkucHVzaChoPj4+MTAmMTAyM3w1NTI5NiksaD01NjMyMHwxMDIzJmgpLGkucHVzaChoKSxuKz1kO31yZXR1cm4gZnVuY3Rpb24oZyl7dmFyIHk9Zy5sZW5ndGg7aWYoeTw9NDA5NilyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZyk7Zm9yKHZhciB3PVwiXCIsUz0wO1M8eTspdys9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZy5zbGljZShTLFMrPTQwOTYpKTtyZXR1cm4gd30oaSl9ZnVuY3Rpb24gQXcodCxlLHIpe3ZhciBpPVwiXCI7cj1NYXRoLm1pbih0Lmxlbmd0aCxyKTtmb3IodmFyIG49ZTtuPHI7KytuKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JnRbbl0pO3JldHVybiBpfWZ1bmN0aW9uIEl3KHQsZSxyKXt2YXIgaT1cIlwiO3I9TWF0aC5taW4odC5sZW5ndGgscik7Zm9yKHZhciBuPWU7bjxyOysrbilpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbbl0pO3JldHVybiBpfWZ1bmN0aW9uIFR3KHQsZSxyKXt2YXIgaT10Lmxlbmd0aDsoIWV8fGU8MCkmJihlPTApLCghcnx8cjwwfHxyPmkpJiYocj1pKTtmb3IodmFyIG49XCJcIixvPWU7bzxyOysrbyluKz1Cd1t0W29dXTtyZXR1cm4gbn1mdW5jdGlvbiBSdyh0LGUscil7Zm9yKHZhciBpPXQuc2xpY2UoZSxyKSxuPVwiXCIsbz0wO288aS5sZW5ndGg7bys9MiluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGlbb10rMjU2KmlbbysxXSk7cmV0dXJuIG59ZnVuY3Rpb24gd2UodCxlLHIpe2lmKHQlMSE9MHx8dDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwib2Zmc2V0IGlzIG5vdCB1aW50XCIpO2lmKHQrZT5yKXRocm93IG5ldyBSYW5nZUVycm9yKFwiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aFwiKX1mdW5jdGlvbiBQZSh0LGUscixpLG4sbyl7aWYoIU8uaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYoZT5ufHxlPG8pdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYocitpPnQubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIHhjKHQsZSxyLGksbixvKXtpZihyK2k+dC5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIik7aWYocjwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIFNjKHQsZSxyLGksbil7cmV0dXJuIGU9K2Uscj4+Pj0wLG58fHhjKHQsMCxyLDQpLERyLndyaXRlKHQsZSxyLGksMjMsNCkscis0fWZ1bmN0aW9uIEFjKHQsZSxyLGksbil7cmV0dXJuIGU9K2Uscj4+Pj0wLG58fHhjKHQsMCxyLDgpLERyLndyaXRlKHQsZSxyLGksNTIsOCkscis4fWZ1bmN0aW9uIEdzKHQsZSl7dmFyIHI7ZT1lfHwxLzA7Zm9yKHZhciBpPXQubGVuZ3RoLG49bnVsbCxvPVtdLHM9MDtzPGk7KytzKXtpZigocj10LmNoYXJDb2RlQXQocykpPjU1Mjk1JiZyPDU3MzQ0KXtpZighbil7aWYocj41NjMxOSl7KGUtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWlmKHMrMT09PWkpeyhlLT0zKT4tMSYmby5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1uPXI7Y29udGludWV9aWYocjw1NjMyMCl7KGUtPTMpPi0xJiZvLnB1c2goMjM5LDE5MSwxODkpLG49cjtjb250aW51ZX1yPTY1NTM2KyhuLTU1Mjk2PDwxMHxyLTU2MzIwKTt9ZWxzZSBuJiYoZS09Myk+LTEmJm8ucHVzaCgyMzksMTkxLDE4OSk7aWYobj1udWxsLHI8MTI4KXtpZigoZS09MSk8MClicmVhaztvLnB1c2gocik7fWVsc2UgaWYocjwyMDQ4KXtpZigoZS09Mik8MClicmVhaztvLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpO31lbHNlIGlmKHI8NjU1MzYpe2lmKChlLT0zKTwwKWJyZWFrO28ucHVzaChyPj4xMnwyMjQscj4+NiY2M3wxMjgsNjMmcnwxMjgpO31lbHNlIHtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO2lmKChlLT00KTwwKWJyZWFrO28ucHVzaChyPj4xOHwyNDAscj4+MTImNjN8MTI4LHI+PjYmNjN8MTI4LDYzJnJ8MTI4KTt9fXJldHVybiBvfWZ1bmN0aW9uIE1jKHQpe3JldHVybiB6cy50b0J5dGVBcnJheShmdW5jdGlvbihlKXtpZigoZT0oZT1lLnNwbGl0KFwiPVwiKVswXSkudHJpbSgpLnJlcGxhY2UoQ3csXCJcIikpLmxlbmd0aDwyKXJldHVybiBcIlwiO2Zvcig7ZS5sZW5ndGglNCE9MDspZSs9XCI9XCI7cmV0dXJuIGV9KHQpKX1mdW5jdGlvbiBjbih0LGUscixpKXtmb3IodmFyIG49MDtuPGkmJiEobityPj1lLmxlbmd0aHx8bj49dC5sZW5ndGgpOysrbillW24rcl09dFtuXTtyZXR1cm4gbn1mdW5jdGlvbiBTdCh0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgZXx8dCE9bnVsbCYmdC5jb25zdHJ1Y3RvciE9bnVsbCYmdC5jb25zdHJ1Y3Rvci5uYW1lIT1udWxsJiZ0LmNvbnN0cnVjdG9yLm5hbWU9PT1lLm5hbWV9ZnVuY3Rpb24gSnModCl7cmV0dXJuIHQhPXR9ZnVuY3Rpb24gSWModCxlKXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07fWZ1bmN0aW9uIGxyKHQsZSxyKXtyZXR1cm4gaXQodCxlLHIpfWZ1bmN0aW9uIHBpKHQpe3ZhciBlO3N3aXRjaCh0aGlzLmVuY29kaW5nPWZ1bmN0aW9uKHIpe3ZhciBpPWZ1bmN0aW9uKG4pe2lmKCFuKXJldHVybiBcInV0ZjhcIjtmb3IodmFyIG87Oylzd2l0Y2gobil7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIFwidXRmOFwiO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiBcInV0ZjE2bGVcIjtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gXCJsYXRpbjFcIjtjYXNlXCJiYXNlNjRcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImhleFwiOnJldHVybiBuO2RlZmF1bHQ6aWYobylyZXR1cm47bj0oXCJcIituKS50b0xvd2VyQ2FzZSgpLG89ITA7fX0ocik7aWYodHlwZW9mIGkhPVwic3RyaW5nXCImJihRcy5pc0VuY29kaW5nPT09VGN8fCFUYyhyKSkpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrcik7cmV0dXJuIGl8fHJ9KHQpLHRoaXMuZW5jb2Rpbmcpe2Nhc2VcInV0ZjE2bGVcIjp0aGlzLnRleHQ9T3csdGhpcy5lbmQ9eHcsZT00O2JyZWFrO2Nhc2VcInV0ZjhcIjp0aGlzLmZpbGxMYXN0PWt3LGU9NDticmVhaztjYXNlXCJiYXNlNjRcIjp0aGlzLnRleHQ9TXcsdGhpcy5lbmQ9THcsZT0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9VXcsdGhpcy5lbmQ9Tncsdm9pZCAwfXRoaXMubGFzdE5lZWQ9MCx0aGlzLmxhc3RUb3RhbD0wLHRoaXMubGFzdENoYXI9UXMuYWxsb2NVbnNhZmUoZSk7fWZ1bmN0aW9uIFZzKHQpe3JldHVybiB0PD0xMjc/MDp0Pj41PT02PzI6dD4+ND09MTQ/Mzp0Pj4zPT0zMD80OnQ+PjY9PTI/LTE6LTJ9ZnVuY3Rpb24ga3codCl7dmFyIGU9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCxyPWZ1bmN0aW9uKGksbixvKXtpZigoMTkyJm5bMF0pIT0xMjgpcmV0dXJuIGkubGFzdE5lZWQ9MCxcIlxcdUZGRkRcIjtpZihpLmxhc3ROZWVkPjEmJm4ubGVuZ3RoPjEpe2lmKCgxOTImblsxXSkhPTEyOClyZXR1cm4gaS5sYXN0TmVlZD0xLFwiXFx1RkZGRFwiO2lmKGkubGFzdE5lZWQ+MiYmbi5sZW5ndGg+MiYmKDE5MiZuWzJdKSE9MTI4KXJldHVybiBpLmxhc3ROZWVkPTIsXCJcXHVGRkZEXCJ9fSh0aGlzLHQpO3JldHVybiByIT09dm9pZCAwP3I6dGhpcy5sYXN0TmVlZDw9dC5sZW5ndGg/KHQuY29weSh0aGlzLmxhc3RDaGFyLGUsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCkpOih0LmNvcHkodGhpcy5sYXN0Q2hhcixlLDAsdC5sZW5ndGgpLHRoaXMubGFzdE5lZWQtPXQubGVuZ3RoLHZvaWQgMCl9ZnVuY3Rpb24gT3codCxlKXtpZigodC5sZW5ndGgtZSklMj09MCl7dmFyIHI9dC50b1N0cmluZyhcInV0ZjE2bGVcIixlKTtpZihyKXt2YXIgaT1yLmNoYXJDb2RlQXQoci5sZW5ndGgtMSk7aWYoaT49NTUyOTYmJmk8PTU2MzE5KXJldHVybiB0aGlzLmxhc3ROZWVkPTIsdGhpcy5sYXN0VG90YWw9NCx0aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT10W3QubGVuZ3RoLTFdLHIuc2xpY2UoMCwtMSl9cmV0dXJuIHJ9cmV0dXJuIHRoaXMubGFzdE5lZWQ9MSx0aGlzLmxhc3RUb3RhbD0yLHRoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0xXSx0LnRvU3RyaW5nKFwidXRmMTZsZVwiLGUsdC5sZW5ndGgtMSl9ZnVuY3Rpb24geHcodCl7dmFyIGU9dCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwiO2lmKHRoaXMubGFzdE5lZWQpe3ZhciByPXRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQ7cmV0dXJuIGUrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcInV0ZjE2bGVcIiwwLHIpfXJldHVybiBlfWZ1bmN0aW9uIE13KHQsZSl7dmFyIHI9KHQubGVuZ3RoLWUpJTM7cmV0dXJuIHI9PT0wP3QudG9TdHJpbmcoXCJiYXNlNjRcIixlKToodGhpcy5sYXN0TmVlZD0zLXIsdGhpcy5sYXN0VG90YWw9MyxyPT09MT90aGlzLmxhc3RDaGFyWzBdPXRbdC5sZW5ndGgtMV06KHRoaXMubGFzdENoYXJbMF09dFt0Lmxlbmd0aC0yXSx0aGlzLmxhc3RDaGFyWzFdPXRbdC5sZW5ndGgtMV0pLHQudG9TdHJpbmcoXCJiYXNlNjRcIixlLHQubGVuZ3RoLXIpKX1mdW5jdGlvbiBMdyh0KXt2YXIgZT10JiZ0Lmxlbmd0aD90aGlzLndyaXRlKHQpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/ZSt0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwiYmFzZTY0XCIsMCwzLXRoaXMubGFzdE5lZWQpOmV9ZnVuY3Rpb24gVXcodCl7cmV0dXJuIHQudG9TdHJpbmcodGhpcy5lbmNvZGluZyl9ZnVuY3Rpb24gTncodCl7cmV0dXJuIHQmJnQubGVuZ3RoP3RoaXMud3JpdGUodCk6XCJcIn12YXIgUmMsJGUsT2UseWMsbG4sb3IsYmMseXcsQXQsenMsRHIsX2MsQ3csQncsdW4sZm4saXQsUHcsdXIsUXMsVGMsWHM9X2UoKCk9PntfKCk7digpO20oKTtmb3IoUmM9e2J5dGVMZW5ndGg6ZnVuY3Rpb24odCl7dmFyIGU9d2ModCkscj1lWzBdLGk9ZVsxXTtyZXR1cm4gMyoocitpKS80LWl9LHRvQnl0ZUFycmF5OmZ1bmN0aW9uKHQpe3ZhciBlLHIsaT13Yyh0KSxuPWlbMF0sbz1pWzFdLHM9bmV3IHljKGZ1bmN0aW9uKGMsaCxkKXtyZXR1cm4gMyooaCtkKS80LWR9KDAsbixvKSksYT0wLGw9bz4wP24tNDpuO2ZvcihyPTA7cjxsO3IrPTQpZT1PZVt0LmNoYXJDb2RlQXQocildPDwxOHxPZVt0LmNoYXJDb2RlQXQocisxKV08PDEyfE9lW3QuY2hhckNvZGVBdChyKzIpXTw8NnxPZVt0LmNoYXJDb2RlQXQociszKV0sc1thKytdPWU+PjE2JjI1NSxzW2ErK109ZT4+OCYyNTUsc1thKytdPTI1NSZlO3JldHVybiBvPT09MiYmKGU9T2VbdC5jaGFyQ29kZUF0KHIpXTw8MnxPZVt0LmNoYXJDb2RlQXQocisxKV0+PjQsc1thKytdPTI1NSZlKSxvPT09MSYmKGU9T2VbdC5jaGFyQ29kZUF0KHIpXTw8MTB8T2VbdC5jaGFyQ29kZUF0KHIrMSldPDw0fE9lW3QuY2hhckNvZGVBdChyKzIpXT4+MixzW2ErK109ZT4+OCYyNTUsc1thKytdPTI1NSZlKSxzfSxmcm9tQnl0ZUFycmF5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPXQubGVuZ3RoLGk9ciUzLG49W10sbz0wLHM9ci1pO288cztvKz0xNjM4MyluLnB1c2goZ3codCxvLG8rMTYzODM+cz9zOm8rMTYzODMpKTtyZXR1cm4gaT09PTE/KGU9dFtyLTFdLG4ucHVzaCgkZVtlPj4yXSskZVtlPDw0JjYzXStcIj09XCIpKTppPT09MiYmKGU9KHRbci0yXTw8OCkrdFtyLTFdLG4ucHVzaCgkZVtlPj4xMF0rJGVbZT4+NCY2M10rJGVbZTw8MiY2M10rXCI9XCIpKSxuLmpvaW4oXCJcIil9fSwkZT1bXSxPZT1bXSx5Yz10eXBlb2YgVWludDhBcnJheTxcInVcIj9VaW50OEFycmF5OkFycmF5LGxuPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLG9yPTAsYmM9bG4ubGVuZ3RoO29yPGJjOysrb3IpJGVbb3JdPWxuW29yXSxPZVtsbi5jaGFyQ29kZUF0KG9yKV09b3I7T2VbXCItXCIuY2hhckNvZGVBdCgwKV09NjIsT2VbXCJfXCIuY2hhckNvZGVBdCgwKV09NjM7eXc9e3JlYWQ6ZnVuY3Rpb24odCxlLHIsaSxuKXt2YXIgbyxzLGE9OCpuLWktMSxsPSgxPDxhKS0xLGM9bD4+MSxoPS03LGQ9cj9uLTE6MCxnPXI/LTE6MSx5PXRbZStkXTtmb3IoZCs9ZyxvPXkmKDE8PC1oKS0xLHk+Pj0taCxoKz1hO2g+MDtvPTI1NipvK3RbZStkXSxkKz1nLGgtPTgpO2ZvcihzPW8mKDE8PC1oKS0xLG8+Pj0taCxoKz1pO2g+MDtzPTI1NipzK3RbZStkXSxkKz1nLGgtPTgpO2lmKG89PT0wKW89MS1jO2Vsc2Uge2lmKG89PT1sKXJldHVybiBzP05hTjoxLzAqKHk/LTE6MSk7cys9TWF0aC5wb3coMixpKSxvLT1jO31yZXR1cm4gKHk/LTE6MSkqcypNYXRoLnBvdygyLG8taSl9LHdyaXRlOmZ1bmN0aW9uKHQsZSxyLGksbixvKXt2YXIgcyxhLGwsYz04Km8tbi0xLGg9KDE8PGMpLTEsZD1oPj4xLGc9bj09PTIzP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCx5PWk/MDpvLTEsdz1pPzE6LTEsUz1lPDB8fGU9PT0wJiYxL2U8MD8xOjA7Zm9yKGU9TWF0aC5hYnMoZSksaXNOYU4oZSl8fGU9PT0xLzA/KGE9aXNOYU4oZSk/MTowLHM9aCk6KHM9TWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMiksZSoobD1NYXRoLnBvdygyLC1zKSk8MSYmKHMtLSxsKj0yKSwoZSs9cytkPj0xP2cvbDpnKk1hdGgucG93KDIsMS1kKSkqbD49MiYmKHMrKyxsLz0yKSxzK2Q+PWg/KGE9MCxzPWgpOnMrZD49MT8oYT0oZSpsLTEpKk1hdGgucG93KDIsbikscys9ZCk6KGE9ZSpNYXRoLnBvdygyLGQtMSkqTWF0aC5wb3coMixuKSxzPTApKTtuPj04O3Rbcit5XT0yNTUmYSx5Kz13LGEvPTI1NixuLT04KTtmb3Iocz1zPDxufGEsYys9bjtjPjA7dFtyK3ldPTI1NSZzLHkrPXcscy89MjU2LGMtPTgpO3Rbcit5LXddfD0xMjgqUzt9fSxBdD17fSx6cz1SYyxEcj15dyxfYz10eXBlb2YgU3ltYm9sPT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuZm9yPT1cImZ1bmN0aW9uXCI/U3ltYm9sLmZvcihcIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tXCIpOm51bGw7QXQuQnVmZmVyPU8sQXQuU2xvd0J1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4gK3QhPXQmJih0PTApLE8uYWxsb2MoK3QpfSxBdC5JTlNQRUNUX01BWF9CWVRFUz01MDtBdC5rTWF4TGVuZ3RoPTIxNDc0ODM2NDcsTy5UWVBFRF9BUlJBWV9TVVBQT1JUPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBVaW50OEFycmF5KDEpLGU9e2ZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19O3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSksdC5mb28oKT09PTQyfWNhdGNoe3JldHVybiAhMX19KCksTy5UWVBFRF9BUlJBWV9TVVBQT1JUfHx0eXBlb2YgY29uc29sZT5cInVcInx8dHlwZW9mIGNvbnNvbGUuZXJyb3IhPVwiZnVuY3Rpb25cInx8Y29uc29sZS5lcnJvcihcIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LlwiKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTy5wcm90b3R5cGUsXCJwYXJlbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZihPLmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ1ZmZlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTy5wcm90b3R5cGUsXCJvZmZzZXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZihPLmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ5dGVPZmZzZXR9fSksTy5wb29sU2l6ZT04MTkyLE8uZnJvbT1mdW5jdGlvbih0LGUscil7cmV0dXJuIENjKHQsZSxyKX0sT2JqZWN0LnNldFByb3RvdHlwZU9mKE8ucHJvdG90eXBlLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoTyxVaW50OEFycmF5KSxPLmFsbG9jPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZnVuY3Rpb24oaSxuLG8pe3JldHVybiBCYyhpKSxpPD0wP0V0KGkpOm4hPT12b2lkIDA/dHlwZW9mIG89PVwic3RyaW5nXCI/RXQoaSkuZmlsbChuLG8pOkV0KGkpLmZpbGwobik6RXQoaSl9KHQsZSxyKX0sTy5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtyZXR1cm4gS3ModCl9LE8uYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHQpe3JldHVybiBLcyh0KX0sTy5pc0J1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4gdCE9bnVsbCYmdC5faXNCdWZmZXI9PT0hMCYmdCE9PU8ucHJvdG90eXBlfSxPLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXtpZihTdCh0LFVpbnQ4QXJyYXkpJiYodD1PLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSxTdChlLFVpbnQ4QXJyYXkpJiYoZT1PLmZyb20oZSxlLm9mZnNldCxlLmJ5dGVMZW5ndGgpKSwhTy5pc0J1ZmZlcih0KXx8IU8uaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheScpO2lmKHQ9PT1lKXJldHVybiAwO2Zvcih2YXIgcj10Lmxlbmd0aCxpPWUubGVuZ3RoLG49MCxvPU1hdGgubWluKHIsaSk7bjxvOysrbilpZih0W25dIT09ZVtuXSl7cj10W25dLGk9ZVtuXTticmVha31yZXR1cm4gcjxpPy0xOmk8cj8xOjB9LE8uaXNFbmNvZGluZz1mdW5jdGlvbih0KXtzd2l0Y2goU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuICEwO2RlZmF1bHQ6cmV0dXJuICExfX0sTy5jb25jYXQ9ZnVuY3Rpb24odCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZih0Lmxlbmd0aD09PTApcmV0dXJuIE8uYWxsb2MoMCk7dmFyIHI7aWYoZT09PXZvaWQgMClmb3IoZT0wLHI9MDtyPHQubGVuZ3RoOysrcillKz10W3JdLmxlbmd0aDt2YXIgaT1PLmFsbG9jVW5zYWZlKGUpLG49MDtmb3Iocj0wO3I8dC5sZW5ndGg7KytyKXt2YXIgbz10W3JdO2lmKFN0KG8sVWludDhBcnJheSkmJihvPU8uZnJvbShvKSksIU8uaXNCdWZmZXIobykpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7by5jb3B5KGksbiksbis9by5sZW5ndGg7fXJldHVybiBpfSxPLmJ5dGVMZW5ndGg9UGMsTy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLE8ucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoO2lmKHQlMiE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzXCIpO2Zvcih2YXIgZT0wO2U8dDtlKz0yKWFyKHRoaXMsZSxlKzEpO3JldHVybiB0aGlzfSxPLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9NClhcih0aGlzLGUsZSszKSxhcih0aGlzLGUrMSxlKzIpO3JldHVybiB0aGlzfSxPLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtpZih0JTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIGU9MDtlPHQ7ZSs9OClhcih0aGlzLGUsZSs3KSxhcih0aGlzLGUrMSxlKzYpLGFyKHRoaXMsZSsyLGUrNSksYXIodGhpcyxlKzMsZSs0KTtyZXR1cm4gdGhpc30sTy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aDtyZXR1cm4gdD09PTA/XCJcIjphcmd1bWVudHMubGVuZ3RoPT09MD9PYyh0aGlzLDAsdCk6YncuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxPLnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz1PLnByb3RvdHlwZS50b1N0cmluZyxPLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCl7aWYoIU8uaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT10fHxPLmNvbXBhcmUodGhpcyx0KT09PTB9LE8ucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgdD1cIlwiLGU9QXQuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHQ9dGhpcy50b1N0cmluZyhcImhleFwiLDAsZSkucmVwbGFjZSgvKC57Mn0pL2csXCIkMSBcIikudHJpbSgpLHRoaXMubGVuZ3RoPmUmJih0Kz1cIiAuLi4gXCIpLFwiPEJ1ZmZlciBcIit0K1wiPlwifSxfYyYmKE8ucHJvdG90eXBlW19jXT1PLnByb3RvdHlwZS5pbnNwZWN0KSxPLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSxyLGksbil7aWYoU3QodCxVaW50OEFycmF5KSYmKHQ9Ty5mcm9tKHQsdC5vZmZzZXQsdC5ieXRlTGVuZ3RoKSksIU8uaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KTtpZihlPT09dm9pZCAwJiYoZT0wKSxyPT09dm9pZCAwJiYocj10P3QubGVuZ3RoOjApLGk9PT12b2lkIDAmJihpPTApLG49PT12b2lkIDAmJihuPXRoaXMubGVuZ3RoKSxlPDB8fHI+dC5sZW5ndGh8fGk8MHx8bj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBpbmRleFwiKTtpZihpPj1uJiZlPj1yKXJldHVybiAwO2lmKGk+PW4pcmV0dXJuIC0xO2lmKGU+PXIpcmV0dXJuIDE7aWYodGhpcz09PXQpcmV0dXJuIDA7Zm9yKHZhciBvPShuPj4+PTApLShpPj4+PTApLHM9KHI+Pj49MCktKGU+Pj49MCksYT1NYXRoLm1pbihvLHMpLGw9dGhpcy5zbGljZShpLG4pLGM9dC5zbGljZShlLHIpLGg9MDtoPGE7KytoKWlmKGxbaF0hPT1jW2hdKXtvPWxbaF0scz1jW2hdO2JyZWFrfXJldHVybiBvPHM/LTE6czxvPzE6MH0sTy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLmluZGV4T2YodCxlLHIpIT09LTF9LE8ucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB2Yyh0aGlzLHQsZSxyLCEwKX0sTy5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB2Yyh0aGlzLHQsZSxyLCExKX0sTy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCxlLHIsaSl7aWYoZT09PXZvaWQgMClpPVwidXRmOFwiLHI9dGhpcy5sZW5ndGgsZT0wO2Vsc2UgaWYocj09PXZvaWQgMCYmdHlwZW9mIGU9PVwic3RyaW5nXCIpaT1lLHI9dGhpcy5sZW5ndGgsZT0wO2Vsc2Uge2lmKCFpc0Zpbml0ZShlKSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtlPj4+PTAsaXNGaW5pdGUocik/KHI+Pj49MCxpPT09dm9pZCAwJiYoaT1cInV0ZjhcIikpOihpPXIscj12b2lkIDApO312YXIgbj10aGlzLmxlbmd0aC1lO2lmKChyPT09dm9pZCAwfHxyPm4pJiYocj1uKSx0Lmxlbmd0aD4wJiYocjwwfHxlPDApfHxlPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7aXx8KGk9XCJ1dGY4XCIpO2Zvcih2YXIgbz0hMTs7KXN3aXRjaChpKXtjYXNlXCJoZXhcIjpyZXR1cm4gd3codGhpcyx0LGUscik7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIF93KHRoaXMsdCxlLHIpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGtjKHRoaXMsdCxlLHIpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBtdyh0aGlzLHQsZSxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gdncodGhpcyx0LGUscik7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIEV3KHRoaXMsdCxlLHIpO2RlZmF1bHQ6aWYobyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIraSk7aT0oXCJcIitpKS50b0xvd2VyQ2FzZSgpLG89ITA7fX0sTy5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHt0eXBlOlwiQnVmZmVyXCIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTtPLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMubGVuZ3RoOyh0PX5+dCk8MD8odCs9cik8MCYmKHQ9MCk6dD5yJiYodD1yKSwoZT1lPT09dm9pZCAwP3I6fn5lKTwwPyhlKz1yKTwwJiYoZT0wKTplPnImJihlPXIpLGU8dCYmKGU9dCk7dmFyIGk9dGhpcy5zdWJhcnJheSh0LGUpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoaSxPLnByb3RvdHlwZSksaX0sTy5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbih0LGUscil7dD4+Pj0wLGU+Pj49MCxyfHx3ZSh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10aGlzW3RdLG49MSxvPTA7KytvPGUmJihuKj0yNTYpOylpKz10aGlzW3Qrb10qbjtyZXR1cm4gaX0sTy5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbih0LGUscil7dD4+Pj0wLGU+Pj49MCxyfHx3ZSh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10aGlzW3QrLS1lXSxuPTE7ZT4wJiYobio9MjU2KTspaSs9dGhpc1t0Ky0tZV0qbjtyZXR1cm4gaX0sTy5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDEsdGhpcy5sZW5ndGgpLHRoaXNbdF19LE8ucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8d2UodCwyLHRoaXMubGVuZ3RoKSx0aGlzW3RdfHRoaXNbdCsxXTw8OH0sTy5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDIsdGhpcy5sZW5ndGgpLHRoaXNbdF08PDh8dGhpc1t0KzFdfSxPLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsNCx0aGlzLmxlbmd0aCksKHRoaXNbdF18dGhpc1t0KzFdPDw4fHRoaXNbdCsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbdCszXX0sTy5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbdF0rKHRoaXNbdCsxXTw8MTZ8dGhpc1t0KzJdPDw4fHRoaXNbdCszXSl9LE8ucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbih0LGUscil7dD4+Pj0wLGU+Pj49MCxyfHx3ZSh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT10aGlzW3RdLG49MSxvPTA7KytvPGUmJihuKj0yNTYpOylpKz10aGlzW3Qrb10qbjtyZXR1cm4gaT49KG4qPTEyOCkmJihpLT1NYXRoLnBvdygyLDgqZSkpLGl9LE8ucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih0LGUscil7dD4+Pj0wLGU+Pj49MCxyfHx3ZSh0LGUsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT1lLG49MSxvPXRoaXNbdCstLWldO2k+MCYmKG4qPTI1Nik7KW8rPXRoaXNbdCstLWldKm47cmV0dXJuIG8+PShuKj0xMjgpJiYoby09TWF0aC5wb3coMiw4KmUpKSxvfSxPLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8d2UodCwxLHRoaXMubGVuZ3RoKSwxMjgmdGhpc1t0XT8tMSooMjU1LXRoaXNbdF0rMSk6dGhpc1t0XX0sTy5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24odCxlKXt0Pj4+PTAsZXx8d2UodCwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW3RdfHRoaXNbdCsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0sTy5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odCxlKXt0Pj4+PTAsZXx8d2UodCwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW3QrMV18dGhpc1t0XTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0sTy5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsNCx0aGlzLmxlbmd0aCksdGhpc1t0XXx0aGlzW3QrMV08PDh8dGhpc1t0KzJdPDwxNnx0aGlzW3QrM108PDI0fSxPLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8d2UodCw0LHRoaXMubGVuZ3RoKSx0aGlzW3RdPDwyNHx0aGlzW3QrMV08PDE2fHRoaXNbdCsyXTw8OHx0aGlzW3QrM119LE8ucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDQsdGhpcy5sZW5ndGgpLERyLnJlYWQodGhpcyx0LCEwLDIzLDQpfSxPLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbih0LGUpe3JldHVybiB0Pj4+PTAsZXx8d2UodCw0LHRoaXMubGVuZ3RoKSxEci5yZWFkKHRoaXMsdCwhMSwyMyw0KX0sTy5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+Pj49MCxlfHx3ZSh0LDgsdGhpcy5sZW5ndGgpLERyLnJlYWQodGhpcyx0LCEwLDUyLDgpfSxPLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4+Pj0wLGV8fHdlKHQsOCx0aGlzLmxlbmd0aCksRHIucmVhZCh0aGlzLHQsITEsNTIsOCl9LE8ucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKHQsZSxyLGkpe3Q9K3QsZT4+Pj0wLHI+Pj49MCxpfHxQZSh0aGlzLHQsZSxyLE1hdGgucG93KDIsOCpyKS0xLDApO3ZhciBuPTEsbz0wO2Zvcih0aGlzW2VdPTI1NSZ0OysrbzxyJiYobio9MjU2KTspdGhpc1tlK29dPXQvbiYyNTU7cmV0dXJuIGUrcn0sTy5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odCxlLHIsaSl7dD0rdCxlPj4+PTAscj4+Pj0wLGl8fFBlKHRoaXMsdCxlLHIsTWF0aC5wb3coMiw4KnIpLTEsMCk7dmFyIG49ci0xLG89MTtmb3IodGhpc1tlK25dPTI1NSZ0Oy0tbj49MCYmKG8qPTI1Nik7KXRoaXNbZStuXT10L28mMjU1O3JldHVybiBlK3J9LE8ucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSwxLDI1NSwwKSx0aGlzW2VdPTI1NSZ0LGUrMX0sTy5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDIsNjU1MzUsMCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSxPLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdD0rdCxlPj4+PTAscnx8UGUodGhpcyx0LGUsMiw2NTUzNSwwKSx0aGlzW2VdPXQ+Pj44LHRoaXNbZSsxXT0yNTUmdCxlKzJ9LE8ucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSw0LDQyOTQ5NjcyOTUsMCksdGhpc1tlKzNdPXQ+Pj4yNCx0aGlzW2UrMl09dD4+PjE2LHRoaXNbZSsxXT10Pj4+OCx0aGlzW2VdPTI1NSZ0LGUrNH0sTy5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDQsNDI5NDk2NzI5NSwwKSx0aGlzW2VdPXQ+Pj4yNCx0aGlzW2UrMV09dD4+PjE2LHRoaXNbZSsyXT10Pj4+OCx0aGlzW2UrM109MjU1JnQsZSs0fSxPLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKHQsZSxyLGkpe2lmKHQ9K3QsZT4+Pj0wLCFpKXt2YXIgbj1NYXRoLnBvdygyLDgqci0xKTtQZSh0aGlzLHQsZSxyLG4tMSwtbik7fXZhciBvPTAscz0xLGE9MDtmb3IodGhpc1tlXT0yNTUmdDsrK288ciYmKHMqPTI1Nik7KXQ8MCYmYT09PTAmJnRoaXNbZStvLTFdIT09MCYmKGE9MSksdGhpc1tlK29dPSh0L3M+PjApLWEmMjU1O3JldHVybiBlK3J9LE8ucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24odCxlLHIsaSl7aWYodD0rdCxlPj4+PTAsIWkpe3ZhciBuPU1hdGgucG93KDIsOCpyLTEpO1BlKHRoaXMsdCxlLHIsbi0xLC1uKTt9dmFyIG89ci0xLHM9MSxhPTA7Zm9yKHRoaXNbZStvXT0yNTUmdDstLW8+PTAmJihzKj0yNTYpOyl0PDAmJmE9PT0wJiZ0aGlzW2UrbysxXSE9PTAmJihhPTEpLHRoaXNbZStvXT0odC9zPj4wKS1hJjI1NTtyZXR1cm4gZStyfSxPLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSwxLDEyNywtMTI4KSx0PDAmJih0PTI1NSt0KzEpLHRoaXNbZV09MjU1JnQsZSsxfSxPLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSwyLDMyNzY3LC0zMjc2OCksdGhpc1tlXT0yNTUmdCx0aGlzW2UrMV09dD4+PjgsZSsyfSxPLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSwyLDMyNzY3LC0zMjc2OCksdGhpc1tlXT10Pj4+OCx0aGlzW2UrMV09MjU1JnQsZSsyfSxPLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PSt0LGU+Pj49MCxyfHxQZSh0aGlzLHQsZSw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHRoaXNbZV09MjU1JnQsdGhpc1tlKzFdPXQ+Pj44LHRoaXNbZSsyXT10Pj4+MTYsdGhpc1tlKzNdPXQ+Pj4yNCxlKzR9LE8ucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQ9K3QsZT4+Pj0wLHJ8fFBlKHRoaXMsdCxlLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdDwwJiYodD00Mjk0OTY3Mjk1K3QrMSksdGhpc1tlXT10Pj4+MjQsdGhpc1tlKzFdPXQ+Pj4xNix0aGlzW2UrMl09dD4+PjgsdGhpc1tlKzNdPTI1NSZ0LGUrNH0sTy5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gU2ModGhpcyx0LGUsITAscil9LE8ucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbih0LGUscil7cmV0dXJuIFNjKHRoaXMsdCxlLCExLHIpfSxPLnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gQWModGhpcyx0LGUsITAscil9LE8ucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBBYyh0aGlzLHQsZSwhMSxyKX0sTy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUscixpKXtpZighTy5pc0J1ZmZlcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyXCIpO2lmKHJ8fChyPTApLGl8fGk9PT0wfHwoaT10aGlzLmxlbmd0aCksZT49dC5sZW5ndGgmJihlPXQubGVuZ3RoKSxlfHwoZT0wKSxpPjAmJmk8ciYmKGk9ciksaT09PXJ8fHQubGVuZ3RoPT09MHx8dGhpcy5sZW5ndGg9PT0wKXJldHVybiAwO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYocjwwfHxyPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihpPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtpPnRoaXMubGVuZ3RoJiYoaT10aGlzLmxlbmd0aCksdC5sZW5ndGgtZTxpLXImJihpPXQubGVuZ3RoLWUrcik7dmFyIG49aS1yO2lmKHRoaXM9PT10JiZ0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj09XCJmdW5jdGlvblwiKXRoaXMuY29weVdpdGhpbihlLHIsaSk7ZWxzZSBpZih0aGlzPT09dCYmcjxlJiZlPGkpZm9yKHZhciBvPW4tMTtvPj0wOy0tbyl0W28rZV09dGhpc1tvK3JdO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwodCx0aGlzLnN1YmFycmF5KHIsaSksZSk7cmV0dXJuIG59LE8ucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odCxlLHIsaSl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiPyhpPWUsZT0wLHI9dGhpcy5sZW5ndGgpOnR5cGVvZiByPT1cInN0cmluZ1wiJiYoaT1yLHI9dGhpcy5sZW5ndGgpLGkhPT12b2lkIDAmJnR5cGVvZiBpIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nXCIpO2lmKHR5cGVvZiBpPT1cInN0cmluZ1wiJiYhTy5pc0VuY29kaW5nKGkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitpKTtpZih0Lmxlbmd0aD09PTEpe3ZhciBuPXQuY2hhckNvZGVBdCgwKTsoaT09PVwidXRmOFwiJiZuPDEyOHx8aT09PVwibGF0aW4xXCIpJiYodD1uKTt9fWVsc2UgdHlwZW9mIHQ9PVwibnVtYmVyXCI/dCY9MjU1OnR5cGVvZiB0PT1cImJvb2xlYW5cIiYmKHQ9TnVtYmVyKHQpKTtpZihlPDB8fHRoaXMubGVuZ3RoPGV8fHRoaXMubGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYocjw9ZSlyZXR1cm4gdGhpczt2YXIgbztpZihlPj4+PTAscj1yPT09dm9pZCAwP3RoaXMubGVuZ3RoOnI+Pj4wLHR8fCh0PTApLHR5cGVvZiB0PT1cIm51bWJlclwiKWZvcihvPWU7bzxyOysrbyl0aGlzW29dPXQ7ZWxzZSB7dmFyIHM9Ty5pc0J1ZmZlcih0KT90Ok8uZnJvbSh0LGkpLGE9cy5sZW5ndGg7aWYoYT09PTApdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlIFwiJyt0KydcIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCBcInZhbHVlXCInKTtmb3Iobz0wO288ci1lOysrbyl0aGlzW28rZV09c1tvJWFdO31yZXR1cm4gdGhpc307Q3c9L1teKy8wLTlBLVphLXotX10vZztCdz1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkoMjU2KSxlPTA7ZTwxNjsrK2UpZm9yKHZhciByPTE2KmUsaT0wO2k8MTY7KytpKXRbcitpXT1cIjAxMjM0NTY3ODlhYmNkZWZcIltlXStcIjAxMjM0NTY3ODlhYmNkZWZcIltpXTtyZXR1cm4gdH0oKTtBdC5CdWZmZXI7QXQuSU5TUEVDVF9NQVhfQllURVM7QXQua01heExlbmd0aDt1bj17fSxmbj1BdCxpdD1mbi5CdWZmZXI7aXQuZnJvbSYmaXQuYWxsb2MmJml0LmFsbG9jVW5zYWZlJiZpdC5hbGxvY1Vuc2FmZVNsb3c/dW49Zm46KEljKGZuLHVuKSx1bi5CdWZmZXI9bHIpLGxyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGl0LnByb3RvdHlwZSksSWMoaXQsbHIpLGxyLmZyb209ZnVuY3Rpb24odCxlLHIpe2lmKHR5cGVvZiB0PT1cIm51bWJlclwiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gaXQodCxlLHIpfSxsci5hbGxvYz1mdW5jdGlvbih0LGUscil7aWYodHlwZW9mIHQhPVwibnVtYmVyXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7dmFyIGk9aXQodCk7cmV0dXJuIGUhPT12b2lkIDA/dHlwZW9mIHI9PVwic3RyaW5nXCI/aS5maWxsKGUscik6aS5maWxsKGUpOmkuZmlsbCgwKSxpfSxsci5hbGxvY1Vuc2FmZT1mdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gaXQodCl9LGxyLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9XCJudW1iZXJcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gZm4uU2xvd0J1ZmZlcih0KX07UHc9dW4sdXI9e30sUXM9UHcuQnVmZmVyLFRjPVFzLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKHQpe3N3aXRjaCgodD1cIlwiK3QpJiZ0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhleFwiOmNhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2VcImFzY2lpXCI6Y2FzZVwiYmluYXJ5XCI6Y2FzZVwiYmFzZTY0XCI6Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6Y2FzZVwicmF3XCI6cmV0dXJuICEwO2RlZmF1bHQ6cmV0dXJuICExfX07dXIuU3RyaW5nRGVjb2Rlcj1waSxwaS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7aWYodC5sZW5ndGg9PT0wKXJldHVybiBcIlwiO3ZhciBlLHI7aWYodGhpcy5sYXN0TmVlZCl7aWYoKGU9dGhpcy5maWxsTGFzdCh0KSk9PT12b2lkIDApcmV0dXJuIFwiXCI7cj10aGlzLmxhc3ROZWVkLHRoaXMubGFzdE5lZWQ9MDt9ZWxzZSByPTA7cmV0dXJuIHI8dC5sZW5ndGg/ZT9lK3RoaXMudGV4dCh0LHIpOnRoaXMudGV4dCh0LHIpOmV8fFwiXCJ9LHBpLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5sZW5ndGg/dGhpcy53cml0ZSh0KTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP2UrXCJcXHVGRkZEXCI6ZX0scGkucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1mdW5jdGlvbihuLG8scyl7dmFyIGE9by5sZW5ndGgtMTtpZihhPHMpcmV0dXJuIDA7dmFyIGw9VnMob1thXSk7cmV0dXJuIGw+PTA/KGw+MCYmKG4ubGFzdE5lZWQ9bC0xKSxsKTotLWE8c3x8bD09PS0yPzA6KGw9VnMob1thXSkpPj0wPyhsPjAmJihuLmxhc3ROZWVkPWwtMiksbCk6LS1hPHN8fGw9PT0tMj8wOihsPVZzKG9bYV0pKT49MD8obD4wJiYobD09PTI/bD0wOm4ubGFzdE5lZWQ9bC0zKSxsKTowfSh0aGlzLHQsZSk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIHQudG9TdHJpbmcoXCJ1dGY4XCIsZSk7dGhpcy5sYXN0VG90YWw9cjt2YXIgaT10Lmxlbmd0aC0oci10aGlzLmxhc3ROZWVkKTtyZXR1cm4gdC5jb3B5KHRoaXMubGFzdENoYXIsMCxpKSx0LnRvU3RyaW5nKFwidXRmOFwiLGUsaSl9LHBpLnByb3RvdHlwZS5maWxsTGFzdD1mdW5jdGlvbih0KXtpZih0aGlzLmxhc3ROZWVkPD10Lmxlbmd0aClyZXR1cm4gdC5jb3B5KHRoaXMubGFzdENoYXIsdGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCwwLHRoaXMubGFzdE5lZWQpLHRoaXMubGFzdENoYXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywwLHRoaXMubGFzdFRvdGFsKTt0LmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdC5sZW5ndGgpLHRoaXMubGFzdE5lZWQtPXQubGVuZ3RoO307dXIuU3RyaW5nRGVjb2Rlcjt1ci5TdHJpbmdEZWNvZGVyO30pO3ZhciBMYz17fTtKdChMYyx7U3RyaW5nRGVjb2RlcjooKT0+cXcsZGVmYXVsdDooKT0+dXJ9KTt2YXIgcXcsVWM9X2UoKCk9PntfKCk7digpO20oKTtYcygpO1hzKCk7cXc9dXIuU3RyaW5nRGVjb2Rlcjt9KTt2YXIgWnM9TSgoSDIsamMpPT57XygpO3YoKTttKCk7dmFyIE5jPU50KCkse1Byb21pc2VQcm90b3R5cGVUaGVuOkR3LFN5bWJvbEFzeW5jSXRlcmF0b3I6cWMsU3ltYm9sSXRlcmF0b3I6RGN9PWNlKCkse0J1ZmZlcjpqd309KGJlKCksWChtZSkpLHtFUlJfSU5WQUxJRF9BUkdfVFlQRTpGdyxFUlJfU1RSRUFNX05VTExfVkFMVUVTOld3fT1BZSgpLmNvZGVzO2Z1bmN0aW9uICR3KHQsZSxyKXtsZXQgaTtpZih0eXBlb2YgZT09XCJzdHJpbmdcInx8ZSBpbnN0YW5jZW9mIGp3KXJldHVybiBuZXcgdCh7b2JqZWN0TW9kZTohMCwuLi5yLHJlYWQoKXt0aGlzLnB1c2goZSksdGhpcy5wdXNoKG51bGwpO319KTtsZXQgbjtpZihlJiZlW3FjXSluPSEwLGk9ZVtxY10oKTtlbHNlIGlmKGUmJmVbRGNdKW49ITEsaT1lW0RjXSgpO2Vsc2UgdGhyb3cgbmV3IEZ3KFwiaXRlcmFibGVcIixbXCJJdGVyYWJsZVwiXSxlKTtsZXQgbz1uZXcgdCh7b2JqZWN0TW9kZTohMCxoaWdoV2F0ZXJNYXJrOjEsLi4ucn0pLHM9ITE7by5fcmVhZD1mdW5jdGlvbigpe3N8fChzPSEwLGwoKSk7fSxvLl9kZXN0cm95PWZ1bmN0aW9uKGMsaCl7RHcoYShjKSwoKT0+TmMubmV4dFRpY2soaCxjKSxkPT5OYy5uZXh0VGljayhoLGR8fGMpKTt9O2FzeW5jIGZ1bmN0aW9uIGEoYyl7bGV0IGg9YyE9bnVsbCxkPXR5cGVvZiBpLnRocm93PT1cImZ1bmN0aW9uXCI7aWYoaCYmZCl7bGV0e3ZhbHVlOmcsZG9uZTp5fT1hd2FpdCBpLnRocm93KGMpO2lmKGF3YWl0IGcseSlyZXR1cm59aWYodHlwZW9mIGkucmV0dXJuPT1cImZ1bmN0aW9uXCIpe2xldHt2YWx1ZTpnfT1hd2FpdCBpLnJldHVybigpO2F3YWl0IGc7fX1hc3luYyBmdW5jdGlvbiBsKCl7Zm9yKDs7KXt0cnl7bGV0e3ZhbHVlOmMsZG9uZTpofT1uP2F3YWl0IGkubmV4dCgpOmkubmV4dCgpO2lmKGgpby5wdXNoKG51bGwpO2Vsc2Uge2xldCBkPWMmJnR5cGVvZiBjLnRoZW49PVwiZnVuY3Rpb25cIj9hd2FpdCBjOmM7aWYoZD09PW51bGwpdGhyb3cgcz0hMSxuZXcgV3c7aWYoby5wdXNoKGQpKWNvbnRpbnVlO3M9ITE7fX1jYXRjaChjKXtvLmRlc3Ryb3koYyk7fWJyZWFrfX1yZXR1cm4gb31qYy5leHBvcnRzPSR3O30pO3ZhciBnaT1NKChlUixaYyk9PntfKCk7digpO20oKTt2YXIgSGU9TnQoKSx7QXJyYXlQcm90b3R5cGVJbmRleE9mOkh3LE51bWJlcklzSW50ZWdlcjpWdyxOdW1iZXJJc05hTjp6dyxOdW1iZXJQYXJzZUludDpLdyxPYmplY3REZWZpbmVQcm9wZXJ0aWVzOiRjLE9iamVjdEtleXM6R3csT2JqZWN0U2V0UHJvdG90eXBlT2Y6SGMsUHJvbWlzZTpRdyxTYWZlU2V0Oll3LFN5bWJvbEFzeW5jSXRlcmF0b3I6SncsU3ltYm9sOlh3fT1jZSgpO1pjLmV4cG9ydHM9RjtGLlJlYWRhYmxlU3RhdGU9c287dmFye0V2ZW50RW1pdHRlcjpad309KHNyKCksWChucikpLHtTdHJlYW06RHQscHJlcGVuZExpc3RlbmVyOmVffT1ubigpLHtCdWZmZXI6ZW99PShiZSgpLFgobWUpKSx7YWRkQWJvcnRTaWduYWw6dF99PWRpKCkscl89dnQoKSxIPUplKCkuZGVidWdsb2coXCJzdHJlYW1cIix0PT57SD10O30pLGlfPWRjKCksRnI9aXIoKSx7Z2V0SGlnaFdhdGVyTWFyazpuXyxnZXREZWZhdWx0SGlnaFdhdGVyTWFyazpzX309YW4oKSx7YWdncmVnYXRlVHdvRXJyb3JzOkZjLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVFlQRTpvXyxFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRDphXyxFUlJfT1VUX09GX1JBTkdFOmxfLEVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0Y6dV8sRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVDpmX319PUFlKCkse3ZhbGlkYXRlT2JqZWN0OmNffT1oaSgpLGZyPVh3KFwia1BhdXNlZFwiKSx7U3RyaW5nRGVjb2RlcjpWY309KFVjKCksWChMYykpLGhfPVpzKCk7SGMoRi5wcm90b3R5cGUsRHQucHJvdG90eXBlKTtIYyhGLER0KTt2YXIgdG89KCk9Pnt9LHtlcnJvck9yRGVzdHJveTpqcn09RnI7ZnVuY3Rpb24gc28odCxlLHIpe3R5cGVvZiByIT1cImJvb2xlYW5cIiYmKHI9ZSBpbnN0YW5jZW9mIG50KCkpLHRoaXMub2JqZWN0TW9kZT0hISh0JiZ0Lm9iamVjdE1vZGUpLHImJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhISh0JiZ0LnJlYWRhYmxlT2JqZWN0TW9kZSkpLHRoaXMuaGlnaFdhdGVyTWFyaz10P25fKHRoaXMsdCxcInJlYWRhYmxlSGlnaFdhdGVyTWFya1wiLHIpOnNfKCExKSx0aGlzLmJ1ZmZlcj1uZXcgaV8sdGhpcy5sZW5ndGg9MCx0aGlzLnBpcGVzPVtdLHRoaXMuZmxvd2luZz1udWxsLHRoaXMuZW5kZWQ9ITEsdGhpcy5lbmRFbWl0dGVkPSExLHRoaXMucmVhZGluZz0hMSx0aGlzLmNvbnN0cnVjdGVkPSEwLHRoaXMuc3luYz0hMCx0aGlzLm5lZWRSZWFkYWJsZT0hMSx0aGlzLmVtaXR0ZWRSZWFkYWJsZT0hMSx0aGlzLnJlYWRhYmxlTGlzdGVuaW5nPSExLHRoaXMucmVzdW1lU2NoZWR1bGVkPSExLHRoaXNbZnJdPW51bGwsdGhpcy5lcnJvckVtaXR0ZWQ9ITEsdGhpcy5lbWl0Q2xvc2U9IXR8fHQuZW1pdENsb3NlIT09ITEsdGhpcy5hdXRvRGVzdHJveT0hdHx8dC5hdXRvRGVzdHJveSE9PSExLHRoaXMuZGVzdHJveWVkPSExLHRoaXMuZXJyb3JlZD1udWxsLHRoaXMuY2xvc2VkPSExLHRoaXMuY2xvc2VFbWl0dGVkPSExLHRoaXMuZGVmYXVsdEVuY29kaW5nPXQmJnQuZGVmYXVsdEVuY29kaW5nfHxcInV0ZjhcIix0aGlzLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwsdGhpcy5tdWx0aUF3YWl0RHJhaW49ITEsdGhpcy5yZWFkaW5nTW9yZT0hMSx0aGlzLmRhdGFFbWl0dGVkPSExLHRoaXMuZGVjb2Rlcj1udWxsLHRoaXMuZW5jb2Rpbmc9bnVsbCx0JiZ0LmVuY29kaW5nJiYodGhpcy5kZWNvZGVyPW5ldyBWYyh0LmVuY29kaW5nKSx0aGlzLmVuY29kaW5nPXQuZW5jb2RpbmcpO31mdW5jdGlvbiBGKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEYpKXJldHVybiBuZXcgRih0KTtsZXQgZT10aGlzIGluc3RhbmNlb2YgbnQoKTt0aGlzLl9yZWFkYWJsZVN0YXRlPW5ldyBzbyh0LHRoaXMsZSksdCYmKHR5cGVvZiB0LnJlYWQ9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX3JlYWQ9dC5yZWFkKSx0eXBlb2YgdC5kZXN0cm95PT1cImZ1bmN0aW9uXCImJih0aGlzLl9kZXN0cm95PXQuZGVzdHJveSksdHlwZW9mIHQuY29uc3RydWN0PT1cImZ1bmN0aW9uXCImJih0aGlzLl9jb25zdHJ1Y3Q9dC5jb25zdHJ1Y3QpLHQuc2lnbmFsJiYhZSYmdF8odC5zaWduYWwsdGhpcykpLER0LmNhbGwodGhpcyx0KSxGci5jb25zdHJ1Y3QodGhpcywoKT0+e3RoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlJiZobih0aGlzLHRoaXMuX3JlYWRhYmxlU3RhdGUpO30pO31GLnByb3RvdHlwZS5kZXN0cm95PUZyLmRlc3Ryb3k7Ri5wcm90b3R5cGUuX3VuZGVzdHJveT1Gci51bmRlc3Ryb3k7Ri5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24odCxlKXtlKHQpO307Ri5wcm90b3R5cGVbWncuY2FwdHVyZVJlamVjdGlvblN5bWJvbF09ZnVuY3Rpb24odCl7dGhpcy5kZXN0cm95KHQpO307Ri5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3JldHVybiB6Yyh0aGlzLHQsZSwhMSl9O0YucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gemModGhpcyx0LGUsITApfTtmdW5jdGlvbiB6Yyh0LGUscixpKXtIKFwicmVhZGFibGVBZGRDaHVua1wiLGUpO2xldCBuPXQuX3JlYWRhYmxlU3RhdGUsbztpZihuLm9iamVjdE1vZGV8fCh0eXBlb2YgZT09XCJzdHJpbmdcIj8ocj1yfHxuLmRlZmF1bHRFbmNvZGluZyxuLmVuY29kaW5nIT09ciYmKGkmJm4uZW5jb2Rpbmc/ZT1lby5mcm9tKGUscikudG9TdHJpbmcobi5lbmNvZGluZyk6KGU9ZW8uZnJvbShlLHIpLHI9XCJcIikpKTplIGluc3RhbmNlb2YgZW8/cj1cIlwiOkR0Ll9pc1VpbnQ4QXJyYXkoZSk/KGU9RHQuX3VpbnQ4QXJyYXlUb0J1ZmZlcihlKSxyPVwiXCIpOmUhPW51bGwmJihvPW5ldyBvXyhcImNodW5rXCIsW1wic3RyaW5nXCIsXCJCdWZmZXJcIixcIlVpbnQ4QXJyYXlcIl0sZSkpKSxvKWpyKHQsbyk7ZWxzZSBpZihlPT09bnVsbCluLnJlYWRpbmc9ITEsZ18odCxuKTtlbHNlIGlmKG4ub2JqZWN0TW9kZXx8ZSYmZS5sZW5ndGg+MClpZihpKWlmKG4uZW5kRW1pdHRlZClqcih0LG5ldyBmXyk7ZWxzZSB7aWYobi5kZXN0cm95ZWR8fG4uZXJyb3JlZClyZXR1cm4gITE7cm8odCxuLGUsITApO31lbHNlIGlmKG4uZW5kZWQpanIodCxuZXcgdV8pO2Vsc2Uge2lmKG4uZGVzdHJveWVkfHxuLmVycm9yZWQpcmV0dXJuICExO24ucmVhZGluZz0hMSxuLmRlY29kZXImJiFyPyhlPW4uZGVjb2Rlci53cml0ZShlKSxuLm9iamVjdE1vZGV8fGUubGVuZ3RoIT09MD9ybyh0LG4sZSwhMSk6aG4odCxuKSk6cm8odCxuLGUsITEpO31lbHNlIGl8fChuLnJlYWRpbmc9ITEsaG4odCxuKSk7cmV0dXJuICFuLmVuZGVkJiYobi5sZW5ndGg8bi5oaWdoV2F0ZXJNYXJrfHxuLmxlbmd0aD09PTApfWZ1bmN0aW9uIHJvKHQsZSxyLGkpe2UuZmxvd2luZyYmZS5sZW5ndGg9PT0wJiYhZS5zeW5jJiZ0Lmxpc3RlbmVyQ291bnQoXCJkYXRhXCIpPjA/KGUubXVsdGlBd2FpdERyYWluP2UuYXdhaXREcmFpbldyaXRlcnMuY2xlYXIoKTplLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwsZS5kYXRhRW1pdHRlZD0hMCx0LmVtaXQoXCJkYXRhXCIscikpOihlLmxlbmd0aCs9ZS5vYmplY3RNb2RlPzE6ci5sZW5ndGgsaT9lLmJ1ZmZlci51bnNoaWZ0KHIpOmUuYnVmZmVyLnB1c2gociksZS5uZWVkUmVhZGFibGUmJmRuKHQpKSxobih0LGUpO31GLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe2xldCB0PXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHRbZnJdPT09ITB8fHQuZmxvd2luZz09PSExfTtGLnByb3RvdHlwZS5zZXRFbmNvZGluZz1mdW5jdGlvbih0KXtsZXQgZT1uZXcgVmModCk7dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPWUsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz10aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIuZW5jb2Rpbmc7bGV0IHI9dGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIsaT1cIlwiO2ZvcihsZXQgbiBvZiByKWkrPWUud3JpdGUobik7cmV0dXJuIHIuY2xlYXIoKSxpIT09XCJcIiYmci5wdXNoKGkpLHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RoPWkubGVuZ3RoLHRoaXN9O3ZhciBkXz0xMDczNzQxODI0O2Z1bmN0aW9uIHBfKHQpe2lmKHQ+ZF8pdGhyb3cgbmV3IGxfKFwic2l6ZVwiLFwiPD0gMUdpQlwiLHQpO3JldHVybiB0LS0sdHw9dD4+PjEsdHw9dD4+PjIsdHw9dD4+PjQsdHw9dD4+PjgsdHw9dD4+PjE2LHQrKyx0fWZ1bmN0aW9uIFdjKHQsZSl7cmV0dXJuIHQ8PTB8fGUubGVuZ3RoPT09MCYmZS5lbmRlZD8wOmUub2JqZWN0TW9kZT8xOnp3KHQpP2UuZmxvd2luZyYmZS5sZW5ndGg/ZS5idWZmZXIuZmlyc3QoKS5sZW5ndGg6ZS5sZW5ndGg6dDw9ZS5sZW5ndGg/dDplLmVuZGVkP2UubGVuZ3RoOjB9Ri5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtIKFwicmVhZFwiLHQpLHQ9PT12b2lkIDA/dD1OYU46VncodCl8fCh0PUt3KHQsMTApKTtsZXQgZT10aGlzLl9yZWFkYWJsZVN0YXRlLHI9dDtpZih0PmUuaGlnaFdhdGVyTWFyayYmKGUuaGlnaFdhdGVyTWFyaz1wXyh0KSksdCE9PTAmJihlLmVtaXR0ZWRSZWFkYWJsZT0hMSksdD09PTAmJmUubmVlZFJlYWRhYmxlJiYoKGUuaGlnaFdhdGVyTWFyayE9PTA/ZS5sZW5ndGg+PWUuaGlnaFdhdGVyTWFyazplLmxlbmd0aD4wKXx8ZS5lbmRlZCkpcmV0dXJuIEgoXCJyZWFkOiBlbWl0UmVhZGFibGVcIixlLmxlbmd0aCxlLmVuZGVkKSxlLmxlbmd0aD09PTAmJmUuZW5kZWQ/aW8odGhpcyk6ZG4odGhpcyksbnVsbDtpZih0PVdjKHQsZSksdD09PTAmJmUuZW5kZWQpcmV0dXJuIGUubGVuZ3RoPT09MCYmaW8odGhpcyksbnVsbDtsZXQgaT1lLm5lZWRSZWFkYWJsZTtpZihIKFwibmVlZCByZWFkYWJsZVwiLGkpLChlLmxlbmd0aD09PTB8fGUubGVuZ3RoLXQ8ZS5oaWdoV2F0ZXJNYXJrKSYmKGk9ITAsSChcImxlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrXCIsaSkpLGUuZW5kZWR8fGUucmVhZGluZ3x8ZS5kZXN0cm95ZWR8fGUuZXJyb3JlZHx8IWUuY29uc3RydWN0ZWQpaT0hMSxIKFwicmVhZGluZywgZW5kZWQgb3IgY29uc3RydWN0aW5nXCIsaSk7ZWxzZSBpZihpKXtIKFwiZG8gcmVhZFwiKSxlLnJlYWRpbmc9ITAsZS5zeW5jPSEwLGUubGVuZ3RoPT09MCYmKGUubmVlZFJlYWRhYmxlPSEwKTt0cnl7dGhpcy5fcmVhZChlLmhpZ2hXYXRlck1hcmspO31jYXRjaChvKXtqcih0aGlzLG8pO31lLnN5bmM9ITEsZS5yZWFkaW5nfHwodD1XYyhyLGUpKTt9bGV0IG47cmV0dXJuIHQ+MD9uPUpjKHQsZSk6bj1udWxsLG49PT1udWxsPyhlLm5lZWRSZWFkYWJsZT1lLmxlbmd0aDw9ZS5oaWdoV2F0ZXJNYXJrLHQ9MCk6KGUubGVuZ3RoLT10LGUubXVsdGlBd2FpdERyYWluP2UuYXdhaXREcmFpbldyaXRlcnMuY2xlYXIoKTplLmF3YWl0RHJhaW5Xcml0ZXJzPW51bGwpLGUubGVuZ3RoPT09MCYmKGUuZW5kZWR8fChlLm5lZWRSZWFkYWJsZT0hMCksciE9PXQmJmUuZW5kZWQmJmlvKHRoaXMpKSxuIT09bnVsbCYmIWUuZXJyb3JFbWl0dGVkJiYhZS5jbG9zZUVtaXR0ZWQmJihlLmRhdGFFbWl0dGVkPSEwLHRoaXMuZW1pdChcImRhdGFcIixuKSksbn07ZnVuY3Rpb24gZ18odCxlKXtpZihIKFwib25Fb2ZDaHVua1wiKSwhZS5lbmRlZCl7aWYoZS5kZWNvZGVyKXtsZXQgcj1lLmRlY29kZXIuZW5kKCk7ciYmci5sZW5ndGgmJihlLmJ1ZmZlci5wdXNoKHIpLGUubGVuZ3RoKz1lLm9iamVjdE1vZGU/MTpyLmxlbmd0aCk7fWUuZW5kZWQ9ITAsZS5zeW5jP2RuKHQpOihlLm5lZWRSZWFkYWJsZT0hMSxlLmVtaXR0ZWRSZWFkYWJsZT0hMCxLYyh0KSk7fX1mdW5jdGlvbiBkbih0KXtsZXQgZT10Ll9yZWFkYWJsZVN0YXRlO0goXCJlbWl0UmVhZGFibGVcIixlLm5lZWRSZWFkYWJsZSxlLmVtaXR0ZWRSZWFkYWJsZSksZS5uZWVkUmVhZGFibGU9ITEsZS5lbWl0dGVkUmVhZGFibGV8fChIKFwiZW1pdFJlYWRhYmxlXCIsZS5mbG93aW5nKSxlLmVtaXR0ZWRSZWFkYWJsZT0hMCxIZS5uZXh0VGljayhLYyx0KSk7fWZ1bmN0aW9uIEtjKHQpe2xldCBlPXQuX3JlYWRhYmxlU3RhdGU7SChcImVtaXRSZWFkYWJsZV9cIixlLmRlc3Ryb3llZCxlLmxlbmd0aCxlLmVuZGVkKSwhZS5kZXN0cm95ZWQmJiFlLmVycm9yZWQmJihlLmxlbmd0aHx8ZS5lbmRlZCkmJih0LmVtaXQoXCJyZWFkYWJsZVwiKSxlLmVtaXR0ZWRSZWFkYWJsZT0hMSksZS5uZWVkUmVhZGFibGU9IWUuZmxvd2luZyYmIWUuZW5kZWQmJmUubGVuZ3RoPD1lLmhpZ2hXYXRlck1hcmssUWModCk7fWZ1bmN0aW9uIGhuKHQsZSl7IWUucmVhZGluZ01vcmUmJmUuY29uc3RydWN0ZWQmJihlLnJlYWRpbmdNb3JlPSEwLEhlLm5leHRUaWNrKHlfLHQsZSkpO31mdW5jdGlvbiB5Xyh0LGUpe2Zvcig7IWUucmVhZGluZyYmIWUuZW5kZWQmJihlLmxlbmd0aDxlLmhpZ2hXYXRlck1hcmt8fGUuZmxvd2luZyYmZS5sZW5ndGg9PT0wKTspe2xldCByPWUubGVuZ3RoO2lmKEgoXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSx0LnJlYWQoMCkscj09PWUubGVuZ3RoKWJyZWFrfWUucmVhZGluZ01vcmU9ITE7fUYucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBhXyhcIl9yZWFkKClcIil9O0YucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24odCxlKXtsZXQgcj10aGlzLGk9dGhpcy5fcmVhZGFibGVTdGF0ZTtpLnBpcGVzLmxlbmd0aD09PTEmJihpLm11bHRpQXdhaXREcmFpbnx8KGkubXVsdGlBd2FpdERyYWluPSEwLGkuYXdhaXREcmFpbldyaXRlcnM9bmV3IFl3KGkuYXdhaXREcmFpbldyaXRlcnM/W2kuYXdhaXREcmFpbldyaXRlcnNdOltdKSkpLGkucGlwZXMucHVzaCh0KSxIKFwicGlwZSBjb3VudD0lZCBvcHRzPSVqXCIsaS5waXBlcy5sZW5ndGgsZSk7bGV0IG89KCFlfHxlLmVuZCE9PSExKSYmdCE9PUhlLnN0ZG91dCYmdCE9PUhlLnN0ZGVycj9hOkU7aS5lbmRFbWl0dGVkP0hlLm5leHRUaWNrKG8pOnIub25jZShcImVuZFwiLG8pLHQub24oXCJ1bnBpcGVcIixzKTtmdW5jdGlvbiBzKEksQyl7SChcIm9udW5waXBlXCIpLEk9PT1yJiZDJiZDLmhhc1VucGlwZWQ9PT0hMSYmKEMuaGFzVW5waXBlZD0hMCxoKCkpO31mdW5jdGlvbiBhKCl7SChcIm9uZW5kXCIpLHQuZW5kKCk7fWxldCBsLGM9ITE7ZnVuY3Rpb24gaCgpe0goXCJjbGVhbnVwXCIpLHQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHcpLHQucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixTKSxsJiZ0LnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixsKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix5KSx0LnJlbW92ZUxpc3RlbmVyKFwidW5waXBlXCIscyksci5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGEpLHIucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixFKSxyLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLGcpLGM9ITAsbCYmaS5hd2FpdERyYWluV3JpdGVycyYmKCF0Ll93cml0YWJsZVN0YXRlfHx0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikmJmwoKTt9ZnVuY3Rpb24gZCgpe2N8fChpLnBpcGVzLmxlbmd0aD09PTEmJmkucGlwZXNbMF09PT10PyhIKFwiZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlXCIsMCksaS5hd2FpdERyYWluV3JpdGVycz10LGkubXVsdGlBd2FpdERyYWluPSExKTppLnBpcGVzLmxlbmd0aD4xJiZpLnBpcGVzLmluY2x1ZGVzKHQpJiYoSChcImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZVwiLGkuYXdhaXREcmFpbldyaXRlcnMuc2l6ZSksaS5hd2FpdERyYWluV3JpdGVycy5hZGQodCkpLHIucGF1c2UoKSksbHx8KGw9Yl8ocix0KSx0Lm9uKFwiZHJhaW5cIixsKSk7fXIub24oXCJkYXRhXCIsZyk7ZnVuY3Rpb24gZyhJKXtIKFwib25kYXRhXCIpO2xldCBDPXQud3JpdGUoSSk7SChcImRlc3Qud3JpdGVcIixDKSxDPT09ITEmJmQoKTt9ZnVuY3Rpb24geShJKXtpZihIKFwib25lcnJvclwiLEkpLEUoKSx0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIix5KSx0Lmxpc3RlbmVyQ291bnQoXCJlcnJvclwiKT09PTApe2xldCBDPXQuX3dyaXRhYmxlU3RhdGV8fHQuX3JlYWRhYmxlU3RhdGU7QyYmIUMuZXJyb3JFbWl0dGVkP2pyKHQsSSk6dC5lbWl0KFwiZXJyb3JcIixJKTt9fWVfKHQsXCJlcnJvclwiLHkpO2Z1bmN0aW9uIHcoKXt0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsUyksRSgpO310Lm9uY2UoXCJjbG9zZVwiLHcpO2Z1bmN0aW9uIFMoKXtIKFwib25maW5pc2hcIiksdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsdyksRSgpO310Lm9uY2UoXCJmaW5pc2hcIixTKTtmdW5jdGlvbiBFKCl7SChcInVucGlwZVwiKSxyLnVucGlwZSh0KTt9cmV0dXJuIHQuZW1pdChcInBpcGVcIixyKSx0LndyaXRhYmxlTmVlZERyYWluPT09ITA/aS5mbG93aW5nJiZkKCk6aS5mbG93aW5nfHwoSChcInBpcGUgcmVzdW1lXCIpLHIucmVzdW1lKCkpLHR9O2Z1bmN0aW9uIGJfKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7bGV0IGk9dC5fcmVhZGFibGVTdGF0ZTtpLmF3YWl0RHJhaW5Xcml0ZXJzPT09ZT8oSChcInBpcGVPbkRyYWluXCIsMSksaS5hd2FpdERyYWluV3JpdGVycz1udWxsKTppLm11bHRpQXdhaXREcmFpbiYmKEgoXCJwaXBlT25EcmFpblwiLGkuYXdhaXREcmFpbldyaXRlcnMuc2l6ZSksaS5hd2FpdERyYWluV3JpdGVycy5kZWxldGUoZSkpLCghaS5hd2FpdERyYWluV3JpdGVyc3x8aS5hd2FpdERyYWluV3JpdGVycy5zaXplPT09MCkmJnQubGlzdGVuZXJDb3VudChcImRhdGFcIikmJnQucmVzdW1lKCk7fX1GLnByb3RvdHlwZS51bnBpcGU9ZnVuY3Rpb24odCl7bGV0IGU9dGhpcy5fcmVhZGFibGVTdGF0ZSxyPXtoYXNVbnBpcGVkOiExfTtpZihlLnBpcGVzLmxlbmd0aD09PTApcmV0dXJuIHRoaXM7aWYoIXQpe2xldCBuPWUucGlwZXM7ZS5waXBlcz1bXSx0aGlzLnBhdXNlKCk7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspbltvXS5lbWl0KFwidW5waXBlXCIsdGhpcyx7aGFzVW5waXBlZDohMX0pO3JldHVybiB0aGlzfWxldCBpPUh3KGUucGlwZXMsdCk7cmV0dXJuIGk9PT0tMT90aGlzOihlLnBpcGVzLnNwbGljZShpLDEpLGUucGlwZXMubGVuZ3RoPT09MCYmdGhpcy5wYXVzZSgpLHQuZW1pdChcInVucGlwZVwiLHRoaXMsciksdGhpcyl9O0YucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7bGV0IHI9RHQucHJvdG90eXBlLm9uLmNhbGwodGhpcyx0LGUpLGk9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gdD09PVwiZGF0YVwiPyhpLnJlYWRhYmxlTGlzdGVuaW5nPXRoaXMubGlzdGVuZXJDb3VudChcInJlYWRhYmxlXCIpPjAsaS5mbG93aW5nIT09ITEmJnRoaXMucmVzdW1lKCkpOnQ9PT1cInJlYWRhYmxlXCImJiFpLmVuZEVtaXR0ZWQmJiFpLnJlYWRhYmxlTGlzdGVuaW5nJiYoaS5yZWFkYWJsZUxpc3RlbmluZz1pLm5lZWRSZWFkYWJsZT0hMCxpLmZsb3dpbmc9ITEsaS5lbWl0dGVkUmVhZGFibGU9ITEsSChcIm9uIHJlYWRhYmxlXCIsaS5sZW5ndGgsaS5yZWFkaW5nKSxpLmxlbmd0aD9kbih0aGlzKTppLnJlYWRpbmd8fEhlLm5leHRUaWNrKHdfLHRoaXMpKSxyfTtGLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1GLnByb3RvdHlwZS5vbjtGLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe2xldCByPUR0LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsdCxlKTtyZXR1cm4gdD09PVwicmVhZGFibGVcIiYmSGUubmV4dFRpY2soR2MsdGhpcykscn07Ri5wcm90b3R5cGUub2ZmPUYucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO0YucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbih0KXtsZXQgZT1EdC5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gKHQ9PT1cInJlYWRhYmxlXCJ8fHQ9PT12b2lkIDApJiZIZS5uZXh0VGljayhHYyx0aGlzKSxlfTtmdW5jdGlvbiBHYyh0KXtsZXQgZT10Ll9yZWFkYWJsZVN0YXRlO2UucmVhZGFibGVMaXN0ZW5pbmc9dC5saXN0ZW5lckNvdW50KFwicmVhZGFibGVcIik+MCxlLnJlc3VtZVNjaGVkdWxlZCYmZVtmcl09PT0hMT9lLmZsb3dpbmc9ITA6dC5saXN0ZW5lckNvdW50KFwiZGF0YVwiKT4wP3QucmVzdW1lKCk6ZS5yZWFkYWJsZUxpc3RlbmluZ3x8KGUuZmxvd2luZz1udWxsKTt9ZnVuY3Rpb24gd18odCl7SChcInJlYWRhYmxlIG5leHR0aWNrIHJlYWQgMFwiKSx0LnJlYWQoMCk7fUYucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe2xldCB0PXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHQuZmxvd2luZ3x8KEgoXCJyZXN1bWVcIiksdC5mbG93aW5nPSF0LnJlYWRhYmxlTGlzdGVuaW5nLF9fKHRoaXMsdCkpLHRbZnJdPSExLHRoaXN9O2Z1bmN0aW9uIF9fKHQsZSl7ZS5yZXN1bWVTY2hlZHVsZWR8fChlLnJlc3VtZVNjaGVkdWxlZD0hMCxIZS5uZXh0VGljayhtXyx0LGUpKTt9ZnVuY3Rpb24gbV8odCxlKXtIKFwicmVzdW1lXCIsZS5yZWFkaW5nKSxlLnJlYWRpbmd8fHQucmVhZCgwKSxlLnJlc3VtZVNjaGVkdWxlZD0hMSx0LmVtaXQoXCJyZXN1bWVcIiksUWModCksZS5mbG93aW5nJiYhZS5yZWFkaW5nJiZ0LnJlYWQoMCk7fUYucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIEgoXCJjYWxsIHBhdXNlIGZsb3dpbmc9JWpcIix0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyE9PSExJiYoSChcInBhdXNlXCIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz0hMSx0aGlzLmVtaXQoXCJwYXVzZVwiKSksdGhpcy5fcmVhZGFibGVTdGF0ZVtmcl09ITAsdGhpc307ZnVuY3Rpb24gUWModCl7bGV0IGU9dC5fcmVhZGFibGVTdGF0ZTtmb3IoSChcImZsb3dcIixlLmZsb3dpbmcpO2UuZmxvd2luZyYmdC5yZWFkKCkhPT1udWxsOyk7fUYucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24odCl7bGV0IGU9ITE7dC5vbihcImRhdGFcIixpPT57IXRoaXMucHVzaChpKSYmdC5wYXVzZSYmKGU9ITAsdC5wYXVzZSgpKTt9KSx0Lm9uKFwiZW5kXCIsKCk9Pnt0aGlzLnB1c2gobnVsbCk7fSksdC5vbihcImVycm9yXCIsaT0+e2pyKHRoaXMsaSk7fSksdC5vbihcImNsb3NlXCIsKCk9Pnt0aGlzLmRlc3Ryb3koKTt9KSx0Lm9uKFwiZGVzdHJveVwiLCgpPT57dGhpcy5kZXN0cm95KCk7fSksdGhpcy5fcmVhZD0oKT0+e2UmJnQucmVzdW1lJiYoZT0hMSx0LnJlc3VtZSgpKTt9O2xldCByPUd3KHQpO2ZvcihsZXQgaT0xO2k8ci5sZW5ndGg7aSsrKXtsZXQgbj1yW2ldO3RoaXNbbl09PT12b2lkIDAmJnR5cGVvZiB0W25dPT1cImZ1bmN0aW9uXCImJih0aGlzW25dPXRbbl0uYmluZCh0KSk7fXJldHVybiB0aGlzfTtGLnByb3RvdHlwZVtKd109ZnVuY3Rpb24oKXtyZXR1cm4gWWModGhpcyl9O0YucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKHQpe3JldHVybiB0IT09dm9pZCAwJiZjXyh0LFwib3B0aW9uc1wiKSxZYyh0aGlzLHQpfTtmdW5jdGlvbiBZYyh0LGUpe3R5cGVvZiB0LnJlYWQhPVwiZnVuY3Rpb25cIiYmKHQ9Ri53cmFwKHQse29iamVjdE1vZGU6ITB9KSk7bGV0IHI9dl8odCxlKTtyZXR1cm4gci5zdHJlYW09dCxyfWFzeW5jIGZ1bmN0aW9uKnZfKHQsZSl7bGV0IHI9dG87ZnVuY3Rpb24gaShzKXt0aGlzPT09dD8ocigpLHI9dG8pOnI9czt9dC5vbihcInJlYWRhYmxlXCIsaSk7bGV0IG4sbz1yXyh0LHt3cml0YWJsZTohMX0scz0+e249cz9GYyhuLHMpOm51bGwscigpLHI9dG87fSk7dHJ5e2Zvcig7Oyl7bGV0IHM9dC5kZXN0cm95ZWQ/bnVsbDp0LnJlYWQoKTtpZihzIT09bnVsbCl5aWVsZCBzO2Vsc2Uge2lmKG4pdGhyb3cgbjtpZihuPT09bnVsbClyZXR1cm47YXdhaXQgbmV3IFF3KGkpO319fWNhdGNoKHMpe3Rocm93IG49RmMobixzKSxufWZpbmFsbHl7KG58fGU/LmRlc3Ryb3lPblJldHVybiE9PSExKSYmKG49PT12b2lkIDB8fHQuX3JlYWRhYmxlU3RhdGUuYXV0b0Rlc3Ryb3kpP0ZyLmRlc3Ryb3llcih0LG51bGwpOih0Lm9mZihcInJlYWRhYmxlXCIsaSksbygpKTt9fSRjKEYucHJvdG90eXBlLHtyZWFkYWJsZTp7X19wcm90b19fOm51bGwsZ2V0KCl7bGV0IHQ9dGhpcy5fcmVhZGFibGVTdGF0ZTtyZXR1cm4gISF0JiZ0LnJlYWRhYmxlIT09ITEmJiF0LmRlc3Ryb3llZCYmIXQuZXJyb3JFbWl0dGVkJiYhdC5lbmRFbWl0dGVkfSxzZXQodCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGU9ISF0KTt9fSxyZWFkYWJsZURpZFJlYWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGF0YUVtaXR0ZWR9fSxyZWFkYWJsZUFib3J0ZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuICEhKHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGUhPT0hMSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfHx0aGlzLl9yZWFkYWJsZVN0YXRlLmVycm9yZWQpJiYhdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkKX19LHJlYWRhYmxlSGlnaFdhdGVyTWFyazp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5oaWdoV2F0ZXJNYXJrfX0scmVhZGFibGVCdWZmZXI6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyfX0scmVhZGFibGVGbG93aW5nOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPXQpO319LHJlYWRhYmxlTGVuZ3RoOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aH19LHJlYWRhYmxlT2JqZWN0TW9kZTp7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMSxnZXQoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZT90aGlzLl9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGU6ITF9fSxyZWFkYWJsZUVuY29kaW5nOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc6bnVsbH19LGVycm9yZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkOm51bGx9fSxjbG9zZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUuY2xvc2VkOiExfX0sZGVzdHJveWVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlP3RoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkOiExfSxzZXQodCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXQpO319LHJlYWRhYmxlRW5kZWQ6e19fcHJvdG9fXzpudWxsLGVudW1lcmFibGU6ITEsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU/dGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkOiExfX19KTskYyhzby5wcm90b3R5cGUse3BpcGVzQ291bnQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLnBpcGVzLmxlbmd0aH19LHBhdXNlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXNbZnJdIT09ITF9LHNldCh0KXt0aGlzW2ZyXT0hIXQ7fX19KTtGLl9mcm9tTGlzdD1KYztmdW5jdGlvbiBKYyh0LGUpe2lmKGUubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtsZXQgcjtyZXR1cm4gZS5vYmplY3RNb2RlP3I9ZS5idWZmZXIuc2hpZnQoKTohdHx8dD49ZS5sZW5ndGg/KGUuZGVjb2Rlcj9yPWUuYnVmZmVyLmpvaW4oXCJcIik6ZS5idWZmZXIubGVuZ3RoPT09MT9yPWUuYnVmZmVyLmZpcnN0KCk6cj1lLmJ1ZmZlci5jb25jYXQoZS5sZW5ndGgpLGUuYnVmZmVyLmNsZWFyKCkpOnI9ZS5idWZmZXIuY29uc3VtZSh0LGUuZGVjb2Rlcikscn1mdW5jdGlvbiBpbyh0KXtsZXQgZT10Ll9yZWFkYWJsZVN0YXRlO0goXCJlbmRSZWFkYWJsZVwiLGUuZW5kRW1pdHRlZCksZS5lbmRFbWl0dGVkfHwoZS5lbmRlZD0hMCxIZS5uZXh0VGljayhFXyxlLHQpKTt9ZnVuY3Rpb24gRV8odCxlKXtpZihIKFwiZW5kUmVhZGFibGVOVFwiLHQuZW5kRW1pdHRlZCx0Lmxlbmd0aCksIXQuZXJyb3JlZCYmIXQuY2xvc2VFbWl0dGVkJiYhdC5lbmRFbWl0dGVkJiZ0Lmxlbmd0aD09PTApe2lmKHQuZW5kRW1pdHRlZD0hMCxlLmVtaXQoXCJlbmRcIiksZS53cml0YWJsZSYmZS5hbGxvd0hhbGZPcGVuPT09ITEpSGUubmV4dFRpY2soU18sZSk7ZWxzZSBpZih0LmF1dG9EZXN0cm95KXtsZXQgcj1lLl93cml0YWJsZVN0YXRlOyghcnx8ci5hdXRvRGVzdHJveSYmKHIuZmluaXNoZWR8fHIud3JpdGFibGU9PT0hMSkpJiZlLmRlc3Ryb3koKTt9fX1mdW5jdGlvbiBTXyh0KXt0LndyaXRhYmxlJiYhdC53cml0YWJsZUVuZGVkJiYhdC5kZXN0cm95ZWQmJnQuZW5kKCk7fUYuZnJvbT1mdW5jdGlvbih0LGUpe3JldHVybiBoXyhGLHQsZSl9O3ZhciBubztmdW5jdGlvbiBYYygpe3JldHVybiBubz09PXZvaWQgMCYmKG5vPXt9KSxub31GLmZyb21XZWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWGMoKS5uZXdTdHJlYW1SZWFkYWJsZUZyb21SZWFkYWJsZVN0cmVhbSh0LGUpfTtGLnRvV2ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhjKCkubmV3UmVhZGFibGVTdHJlYW1Gcm9tU3RyZWFtUmVhZGFibGUodCxlKX07Ri53cmFwPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaTtyZXR1cm4gbmV3IEYoe29iamVjdE1vZGU6KHI9KGk9dC5yZWFkYWJsZU9iamVjdE1vZGUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOnQub2JqZWN0TW9kZSkhPT1udWxsJiZyIT09dm9pZCAwP3I6ITAsLi4uZSxkZXN0cm95KG4sbyl7RnIuZGVzdHJveWVyKHQsbiksbyhuKTt9fSkud3JhcCh0KX07fSk7dmFyIGhvPU0oKGZSLGNoKT0+e18oKTt2KCk7bSgpO3ZhciBjcj1OdCgpLHtBcnJheVByb3RvdHlwZVNsaWNlOnJoLEVycm9yOkFfLEZ1bmN0aW9uUHJvdG90eXBlU3ltYm9sSGFzSW5zdGFuY2U6aWgsT2JqZWN0RGVmaW5lUHJvcGVydHk6bmgsT2JqZWN0RGVmaW5lUHJvcGVydGllczpJXyxPYmplY3RTZXRQcm90b3R5cGVPZjpzaCxTdHJpbmdQcm90b3R5cGVUb0xvd2VyQ2FzZTpUXyxTeW1ib2w6Ul8sU3ltYm9sSGFzSW5zdGFuY2U6Q199PWNlKCk7Y2guZXhwb3J0cz1pZTtpZS5Xcml0YWJsZVN0YXRlPXdpO3ZhcntFdmVudEVtaXR0ZXI6Ql99PShzcigpLFgobnIpKSx5aT1ubigpLlN0cmVhbSx7QnVmZmVyOnBufT0oYmUoKSxYKG1lKSksYm49aXIoKSx7YWRkQWJvcnRTaWduYWw6UF99PWRpKCkse2dldEhpZ2hXYXRlck1hcms6a18sZ2V0RGVmYXVsdEhpZ2hXYXRlck1hcms6T199PWFuKCkse0VSUl9JTlZBTElEX0FSR19UWVBFOnhfLEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEOk1fLEVSUl9NVUxUSVBMRV9DQUxMQkFDSzpvaCxFUlJfU1RSRUFNX0NBTk5PVF9QSVBFOkxfLEVSUl9TVFJFQU1fREVTVFJPWUVEOmJpLEVSUl9TVFJFQU1fQUxSRUFEWV9GSU5JU0hFRDpVXyxFUlJfU1RSRUFNX05VTExfVkFMVUVTOk5fLEVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EOnFfLEVSUl9VTktOT1dOX0VOQ09ESU5HOmFofT1BZSgpLmNvZGVzLHtlcnJvck9yRGVzdHJveTpXcn09Ym47c2goaWUucHJvdG90eXBlLHlpLnByb3RvdHlwZSk7c2goaWUseWkpO2Z1bmN0aW9uIGxvKCl7fXZhciAkcj1SXyhcImtPbkZpbmlzaGVkXCIpO2Z1bmN0aW9uIHdpKHQsZSxyKXt0eXBlb2YgciE9XCJib29sZWFuXCImJihyPWUgaW5zdGFuY2VvZiBudCgpKSx0aGlzLm9iamVjdE1vZGU9ISEodCYmdC5vYmplY3RNb2RlKSxyJiYodGhpcy5vYmplY3RNb2RlPXRoaXMub2JqZWN0TW9kZXx8ISEodCYmdC53cml0YWJsZU9iamVjdE1vZGUpKSx0aGlzLmhpZ2hXYXRlck1hcms9dD9rXyh0aGlzLHQsXCJ3cml0YWJsZUhpZ2hXYXRlck1hcmtcIixyKTpPXyghMSksdGhpcy5maW5hbENhbGxlZD0hMSx0aGlzLm5lZWREcmFpbj0hMSx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITE7bGV0IGk9ISEodCYmdC5kZWNvZGVTdHJpbmdzPT09ITEpO3RoaXMuZGVjb2RlU3RyaW5ncz0haSx0aGlzLmRlZmF1bHRFbmNvZGluZz10JiZ0LmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1qXy5iaW5kKHZvaWQgMCxlKSx0aGlzLndyaXRlY2I9bnVsbCx0aGlzLndyaXRlbGVuPTAsdGhpcy5hZnRlcldyaXRlVGlja0luZm89bnVsbCx5bih0aGlzKSx0aGlzLnBlbmRpbmdjYj0wLHRoaXMuY29uc3RydWN0ZWQ9ITAsdGhpcy5wcmVmaW5pc2hlZD0hMSx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmVtaXRDbG9zZT0hdHx8dC5lbWl0Q2xvc2UhPT0hMSx0aGlzLmF1dG9EZXN0cm95PSF0fHx0LmF1dG9EZXN0cm95IT09ITEsdGhpcy5lcnJvcmVkPW51bGwsdGhpcy5jbG9zZWQ9ITEsdGhpcy5jbG9zZUVtaXR0ZWQ9ITEsdGhpc1skcl09W107fWZ1bmN0aW9uIHluKHQpe3QuYnVmZmVyZWQ9W10sdC5idWZmZXJlZEluZGV4PTAsdC5hbGxCdWZmZXJzPSEwLHQuYWxsTm9vcD0hMDt9d2kucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiByaCh0aGlzLmJ1ZmZlcmVkLHRoaXMuYnVmZmVyZWRJbmRleCl9O25oKHdpLnByb3RvdHlwZSxcImJ1ZmZlcmVkUmVxdWVzdENvdW50XCIse19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLmJ1ZmZlcmVkLmxlbmd0aC10aGlzLmJ1ZmZlcmVkSW5kZXh9fSk7ZnVuY3Rpb24gaWUodCl7bGV0IGU9dGhpcyBpbnN0YW5jZW9mIG50KCk7aWYoIWUmJiFpaChpZSx0aGlzKSlyZXR1cm4gbmV3IGllKHQpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IHdpKHQsdGhpcyxlKSx0JiYodHlwZW9mIHQud3JpdGU9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX3dyaXRlPXQud3JpdGUpLHR5cGVvZiB0LndyaXRldj09XCJmdW5jdGlvblwiJiYodGhpcy5fd3JpdGV2PXQud3JpdGV2KSx0eXBlb2YgdC5kZXN0cm95PT1cImZ1bmN0aW9uXCImJih0aGlzLl9kZXN0cm95PXQuZGVzdHJveSksdHlwZW9mIHQuZmluYWw9PVwiZnVuY3Rpb25cIiYmKHRoaXMuX2ZpbmFsPXQuZmluYWwpLHR5cGVvZiB0LmNvbnN0cnVjdD09XCJmdW5jdGlvblwiJiYodGhpcy5fY29uc3RydWN0PXQuY29uc3RydWN0KSx0LnNpZ25hbCYmUF8odC5zaWduYWwsdGhpcykpLHlpLmNhbGwodGhpcyx0KSxibi5jb25zdHJ1Y3QodGhpcywoKT0+e2xldCByPXRoaXMuX3dyaXRhYmxlU3RhdGU7ci53cml0aW5nfHxmbyh0aGlzLHIpLGNvKHRoaXMscik7fSk7fW5oKGllLENfLHtfX3Byb3RvX186bnVsbCx2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gaWgodGhpcyx0KT8hMDp0aGlzIT09aWU/ITE6dCYmdC5fd3JpdGFibGVTdGF0ZSBpbnN0YW5jZW9mIHdpfX0pO2llLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKCl7V3IodGhpcyxuZXcgTF8pO307ZnVuY3Rpb24gbGgodCxlLHIsaSl7bGV0IG49dC5fd3JpdGFibGVTdGF0ZTtpZih0eXBlb2Ygcj09XCJmdW5jdGlvblwiKWk9cixyPW4uZGVmYXVsdEVuY29kaW5nO2Vsc2Uge2lmKCFyKXI9bi5kZWZhdWx0RW5jb2Rpbmc7ZWxzZSBpZihyIT09XCJidWZmZXJcIiYmIXBuLmlzRW5jb2RpbmcocikpdGhyb3cgbmV3IGFoKHIpO3R5cGVvZiBpIT1cImZ1bmN0aW9uXCImJihpPWxvKTt9aWYoZT09PW51bGwpdGhyb3cgbmV3IE5fO2lmKCFuLm9iamVjdE1vZGUpaWYodHlwZW9mIGU9PVwic3RyaW5nXCIpbi5kZWNvZGVTdHJpbmdzIT09ITEmJihlPXBuLmZyb20oZSxyKSxyPVwiYnVmZmVyXCIpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHBuKXI9XCJidWZmZXJcIjtlbHNlIGlmKHlpLl9pc1VpbnQ4QXJyYXkoZSkpZT15aS5fdWludDhBcnJheVRvQnVmZmVyKGUpLHI9XCJidWZmZXJcIjtlbHNlIHRocm93IG5ldyB4XyhcImNodW5rXCIsW1wic3RyaW5nXCIsXCJCdWZmZXJcIixcIlVpbnQ4QXJyYXlcIl0sZSk7bGV0IG87cmV0dXJuIG4uZW5kaW5nP289bmV3IHFfOm4uZGVzdHJveWVkJiYobz1uZXcgYmkoXCJ3cml0ZVwiKSksbz8oY3IubmV4dFRpY2soaSxvKSxXcih0LG8sITApLG8pOihuLnBlbmRpbmdjYisrLERfKHQsbixlLHIsaSkpfWllLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0LGUscil7cmV0dXJuIGxoKHRoaXMsdCxlLHIpPT09ITB9O2llLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrKzt9O2llLnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXtsZXQgdD10aGlzLl93cml0YWJsZVN0YXRlO3QuY29ya2VkJiYodC5jb3JrZWQtLSx0LndyaXRpbmd8fGZvKHRoaXMsdCkpO307aWUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbihlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIiYmKGU9VF8oZSkpLCFwbi5pc0VuY29kaW5nKGUpKXRocm93IG5ldyBhaChlKTtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2Rpbmc9ZSx0aGlzfTtmdW5jdGlvbiBEXyh0LGUscixpLG4pe2xldCBvPWUub2JqZWN0TW9kZT8xOnIubGVuZ3RoO2UubGVuZ3RoKz1vO2xldCBzPWUubGVuZ3RoPGUuaGlnaFdhdGVyTWFyaztyZXR1cm4gc3x8KGUubmVlZERyYWluPSEwKSxlLndyaXRpbmd8fGUuY29ya2VkfHxlLmVycm9yZWR8fCFlLmNvbnN0cnVjdGVkPyhlLmJ1ZmZlcmVkLnB1c2goe2NodW5rOnIsZW5jb2Rpbmc6aSxjYWxsYmFjazpufSksZS5hbGxCdWZmZXJzJiZpIT09XCJidWZmZXJcIiYmKGUuYWxsQnVmZmVycz0hMSksZS5hbGxOb29wJiZuIT09bG8mJihlLmFsbE5vb3A9ITEpKTooZS53cml0ZWxlbj1vLGUud3JpdGVjYj1uLGUud3JpdGluZz0hMCxlLnN5bmM9ITAsdC5fd3JpdGUocixpLGUub253cml0ZSksZS5zeW5jPSExKSxzJiYhZS5lcnJvcmVkJiYhZS5kZXN0cm95ZWR9ZnVuY3Rpb24gZWgodCxlLHIsaSxuLG8scyl7ZS53cml0ZWxlbj1pLGUud3JpdGVjYj1zLGUud3JpdGluZz0hMCxlLnN5bmM9ITAsZS5kZXN0cm95ZWQ/ZS5vbndyaXRlKG5ldyBiaShcIndyaXRlXCIpKTpyP3QuX3dyaXRldihuLGUub253cml0ZSk6dC5fd3JpdGUobixvLGUub253cml0ZSksZS5zeW5jPSExO31mdW5jdGlvbiB0aCh0LGUscixpKXstLWUucGVuZGluZ2NiLGkociksdW8oZSksV3IodCxyKTt9ZnVuY3Rpb24gal8odCxlKXtsZXQgcj10Ll93cml0YWJsZVN0YXRlLGk9ci5zeW5jLG49ci53cml0ZWNiO2lmKHR5cGVvZiBuIT1cImZ1bmN0aW9uXCIpe1dyKHQsbmV3IG9oKTtyZXR1cm59ci53cml0aW5nPSExLHIud3JpdGVjYj1udWxsLHIubGVuZ3RoLT1yLndyaXRlbGVuLHIud3JpdGVsZW49MCxlPyhlLnN0YWNrLHIuZXJyb3JlZHx8KHIuZXJyb3JlZD1lKSx0Ll9yZWFkYWJsZVN0YXRlJiYhdC5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkJiYodC5fcmVhZGFibGVTdGF0ZS5lcnJvcmVkPWUpLGk/Y3IubmV4dFRpY2sodGgsdCxyLGUsbik6dGgodCxyLGUsbikpOihyLmJ1ZmZlcmVkLmxlbmd0aD5yLmJ1ZmZlcmVkSW5kZXgmJmZvKHQsciksaT9yLmFmdGVyV3JpdGVUaWNrSW5mbyE9PW51bGwmJnIuYWZ0ZXJXcml0ZVRpY2tJbmZvLmNiPT09bj9yLmFmdGVyV3JpdGVUaWNrSW5mby5jb3VudCsrOihyLmFmdGVyV3JpdGVUaWNrSW5mbz17Y291bnQ6MSxjYjpuLHN0cmVhbTp0LHN0YXRlOnJ9LGNyLm5leHRUaWNrKEZfLHIuYWZ0ZXJXcml0ZVRpY2tJbmZvKSk6dWgodCxyLDEsbikpO31mdW5jdGlvbiBGXyh7c3RyZWFtOnQsc3RhdGU6ZSxjb3VudDpyLGNiOml9KXtyZXR1cm4gZS5hZnRlcldyaXRlVGlja0luZm89bnVsbCx1aCh0LGUscixpKX1mdW5jdGlvbiB1aCh0LGUscixpKXtmb3IoIWUuZW5kaW5nJiYhdC5kZXN0cm95ZWQmJmUubGVuZ3RoPT09MCYmZS5uZWVkRHJhaW4mJihlLm5lZWREcmFpbj0hMSx0LmVtaXQoXCJkcmFpblwiKSk7ci0tID4wOyllLnBlbmRpbmdjYi0tLGkoKTtlLmRlc3Ryb3llZCYmdW8oZSksY28odCxlKTt9ZnVuY3Rpb24gdW8odCl7aWYodC53cml0aW5nKXJldHVybjtmb3IobGV0IG49dC5idWZmZXJlZEluZGV4O248dC5idWZmZXJlZC5sZW5ndGg7KytuKXt2YXIgZTtsZXR7Y2h1bms6byxjYWxsYmFjazpzfT10LmJ1ZmZlcmVkW25dLGE9dC5vYmplY3RNb2RlPzE6by5sZW5ndGg7dC5sZW5ndGgtPWEscygoZT10LmVycm9yZWQpIT09bnVsbCYmZSE9PXZvaWQgMD9lOm5ldyBiaShcIndyaXRlXCIpKTt9bGV0IHI9dFskcl0uc3BsaWNlKDApO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXt2YXIgaTtyW25dKChpPXQuZXJyb3JlZCkhPT1udWxsJiZpIT09dm9pZCAwP2k6bmV3IGJpKFwiZW5kXCIpKTt9eW4odCk7fWZ1bmN0aW9uIGZvKHQsZSl7aWYoZS5jb3JrZWR8fGUuYnVmZmVyUHJvY2Vzc2luZ3x8ZS5kZXN0cm95ZWR8fCFlLmNvbnN0cnVjdGVkKXJldHVybjtsZXR7YnVmZmVyZWQ6cixidWZmZXJlZEluZGV4Omksb2JqZWN0TW9kZTpufT1lLG89ci5sZW5ndGgtaTtpZighbylyZXR1cm47bGV0IHM9aTtpZihlLmJ1ZmZlclByb2Nlc3Npbmc9ITAsbz4xJiZ0Ll93cml0ZXYpe2UucGVuZGluZ2NiLT1vLTE7bGV0IGE9ZS5hbGxOb29wP2xvOmM9Pntmb3IobGV0IGg9cztoPHIubGVuZ3RoOysraClyW2hdLmNhbGxiYWNrKGMpO30sbD1lLmFsbE5vb3AmJnM9PT0wP3I6cmgocixzKTtsLmFsbEJ1ZmZlcnM9ZS5hbGxCdWZmZXJzLGVoKHQsZSwhMCxlLmxlbmd0aCxsLFwiXCIsYSkseW4oZSk7fWVsc2Uge2Rve2xldHtjaHVuazphLGVuY29kaW5nOmwsY2FsbGJhY2s6Y309cltzXTtyW3MrK109bnVsbDtsZXQgaD1uPzE6YS5sZW5ndGg7ZWgodCxlLCExLGgsYSxsLGMpO313aGlsZShzPHIubGVuZ3RoJiYhZS53cml0aW5nKTtzPT09ci5sZW5ndGg/eW4oZSk6cz4yNTY/KHIuc3BsaWNlKDAscyksZS5idWZmZXJlZEluZGV4PTApOmUuYnVmZmVyZWRJbmRleD1zO31lLmJ1ZmZlclByb2Nlc3Npbmc9ITE7fWllLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMuX3dyaXRldil0aGlzLl93cml0ZXYoW3tjaHVuazp0LGVuY29kaW5nOmV9XSxyKTtlbHNlIHRocm93IG5ldyBNXyhcIl93cml0ZSgpXCIpfTtpZS5wcm90b3R5cGUuX3dyaXRldj1udWxsO2llLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24odCxlLHIpe2xldCBpPXRoaXMuX3dyaXRhYmxlU3RhdGU7dHlwZW9mIHQ9PVwiZnVuY3Rpb25cIj8ocj10LHQ9bnVsbCxlPW51bGwpOnR5cGVvZiBlPT1cImZ1bmN0aW9uXCImJihyPWUsZT1udWxsKTtsZXQgbjtpZih0IT1udWxsKXtsZXQgbz1saCh0aGlzLHQsZSk7byBpbnN0YW5jZW9mIEFfJiYobj1vKTt9cmV0dXJuIGkuY29ya2VkJiYoaS5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSxufHwoIWkuZXJyb3JlZCYmIWkuZW5kaW5nPyhpLmVuZGluZz0hMCxjbyh0aGlzLGksITApLGkuZW5kZWQ9ITApOmkuZmluaXNoZWQ/bj1uZXcgVV8oXCJlbmRcIik6aS5kZXN0cm95ZWQmJihuPW5ldyBiaShcImVuZFwiKSkpLHR5cGVvZiByPT1cImZ1bmN0aW9uXCImJihufHxpLmZpbmlzaGVkP2NyLm5leHRUaWNrKHIsbik6aVskcl0ucHVzaChyKSksdGhpc307ZnVuY3Rpb24gZ24odCl7cmV0dXJuIHQuZW5kaW5nJiYhdC5kZXN0cm95ZWQmJnQuY29uc3RydWN0ZWQmJnQubGVuZ3RoPT09MCYmIXQuZXJyb3JlZCYmdC5idWZmZXJlZC5sZW5ndGg9PT0wJiYhdC5maW5pc2hlZCYmIXQud3JpdGluZyYmIXQuZXJyb3JFbWl0dGVkJiYhdC5jbG9zZUVtaXR0ZWR9ZnVuY3Rpb24gV18odCxlKXtsZXQgcj0hMTtmdW5jdGlvbiBpKG4pe2lmKHIpe1dyKHQsbj8/b2goKSk7cmV0dXJufWlmKHI9ITAsZS5wZW5kaW5nY2ItLSxuKXtsZXQgbz1lWyRyXS5zcGxpY2UoMCk7Zm9yKGxldCBzPTA7czxvLmxlbmd0aDtzKyspb1tzXShuKTtXcih0LG4sZS5zeW5jKTt9ZWxzZSBnbihlKSYmKGUucHJlZmluaXNoZWQ9ITAsdC5lbWl0KFwicHJlZmluaXNoXCIpLGUucGVuZGluZ2NiKyssY3IubmV4dFRpY2soYW8sdCxlKSk7fWUuc3luYz0hMCxlLnBlbmRpbmdjYisrO3RyeXt0Ll9maW5hbChpKTt9Y2F0Y2gobil7aShuKTt9ZS5zeW5jPSExO31mdW5jdGlvbiAkXyh0LGUpeyFlLnByZWZpbmlzaGVkJiYhZS5maW5hbENhbGxlZCYmKHR5cGVvZiB0Ll9maW5hbD09XCJmdW5jdGlvblwiJiYhZS5kZXN0cm95ZWQ/KGUuZmluYWxDYWxsZWQ9ITAsV18odCxlKSk6KGUucHJlZmluaXNoZWQ9ITAsdC5lbWl0KFwicHJlZmluaXNoXCIpKSk7fWZ1bmN0aW9uIGNvKHQsZSxyKXtnbihlKSYmKCRfKHQsZSksZS5wZW5kaW5nY2I9PT0wJiYocj8oZS5wZW5kaW5nY2IrKyxjci5uZXh0VGljaygoaSxuKT0+e2duKG4pP2FvKGksbik6bi5wZW5kaW5nY2ItLTt9LHQsZSkpOmduKGUpJiYoZS5wZW5kaW5nY2IrKyxhbyh0LGUpKSkpO31mdW5jdGlvbiBhbyh0LGUpe2UucGVuZGluZ2NiLS0sZS5maW5pc2hlZD0hMDtsZXQgcj1lWyRyXS5zcGxpY2UoMCk7Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspcltpXSgpO2lmKHQuZW1pdChcImZpbmlzaFwiKSxlLmF1dG9EZXN0cm95KXtsZXQgaT10Ll9yZWFkYWJsZVN0YXRlOyghaXx8aS5hdXRvRGVzdHJveSYmKGkuZW5kRW1pdHRlZHx8aS5yZWFkYWJsZT09PSExKSkmJnQuZGVzdHJveSgpO319SV8oaWUucHJvdG90eXBlLHtjbG9zZWQ6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuY2xvc2VkOiExfX0sZGVzdHJveWVkOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZT90aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDohMX0sc2V0KHQpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD10KTt9fSx3cml0YWJsZTp7X19wcm90b19fOm51bGwsZ2V0KCl7bGV0IHQ9dGhpcy5fd3JpdGFibGVTdGF0ZTtyZXR1cm4gISF0JiZ0LndyaXRhYmxlIT09ITEmJiF0LmRlc3Ryb3llZCYmIXQuZXJyb3JlZCYmIXQuZW5kaW5nJiYhdC5lbmRlZH0sc2V0KHQpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLndyaXRhYmxlPSEhdCk7fX0sd3JpdGFibGVGaW5pc2hlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZDohMX19LHdyaXRhYmxlT2JqZWN0TW9kZTp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5vYmplY3RNb2RlOiExfX0sd3JpdGFibGVCdWZmZXI6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpfX0sd3JpdGFibGVFbmRlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc6ITF9fSx3cml0YWJsZU5lZWREcmFpbjp7X19wcm90b19fOm51bGwsZ2V0KCl7bGV0IHQ9dGhpcy5fd3JpdGFibGVTdGF0ZTtyZXR1cm4gdD8hdC5kZXN0cm95ZWQmJiF0LmVuZGluZyYmdC5uZWVkRHJhaW46ITF9fSx3cml0YWJsZUhpZ2hXYXRlck1hcms6e19fcHJvdG9fXzpudWxsLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSx3cml0YWJsZUNvcmtlZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGU/dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQ6MH19LHdyaXRhYmxlTGVuZ3RoOntfX3Byb3RvX186bnVsbCxnZXQoKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5sZW5ndGh9fSxlcnJvcmVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldCgpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlP3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JlZDpudWxsfX0sd3JpdGFibGVBYm9ydGVkOntfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiAhISh0aGlzLl93cml0YWJsZVN0YXRlLndyaXRhYmxlIT09ITEmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZHx8dGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvcmVkKSYmIXRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQpfX19KTt2YXIgSF89Ym4uZGVzdHJveTtpZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0LGUpe2xldCByPXRoaXMuX3dyaXRhYmxlU3RhdGU7cmV0dXJuICFyLmRlc3Ryb3llZCYmKHIuYnVmZmVyZWRJbmRleDxyLmJ1ZmZlcmVkLmxlbmd0aHx8clskcl0ubGVuZ3RoKSYmY3IubmV4dFRpY2sodW8sciksSF8uY2FsbCh0aGlzLHQsZSksdGhpc307aWUucHJvdG90eXBlLl91bmRlc3Ryb3k9Ym4udW5kZXN0cm95O2llLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbih0LGUpe2UodCk7fTtpZS5wcm90b3R5cGVbQl8uY2FwdHVyZVJlamVjdGlvblN5bWJvbF09ZnVuY3Rpb24odCl7dGhpcy5kZXN0cm95KHQpO307dmFyIG9vO2Z1bmN0aW9uIGZoKCl7cmV0dXJuIG9vPT09dm9pZCAwJiYob289e30pLG9vfWllLmZyb21XZWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZmgoKS5uZXdTdHJlYW1Xcml0YWJsZUZyb21Xcml0YWJsZVN0cmVhbSh0LGUpfTtpZS50b1dlYj1mdW5jdGlvbih0KXtyZXR1cm4gZmgoKS5uZXdXcml0YWJsZVN0cmVhbUZyb21TdHJlYW1Xcml0YWJsZSh0KX07fSk7dmFyIFNoPU0oKG1SLEVoKT0+e18oKTt2KCk7bSgpO3ZhciBwbz1OdCgpLFZfPShiZSgpLFgobWUpKSx7aXNSZWFkYWJsZTp6Xyxpc1dyaXRhYmxlOktfLGlzSXRlcmFibGU6aGgsaXNOb2RlU3RyZWFtOkdfLGlzUmVhZGFibGVOb2RlU3RyZWFtOmRoLGlzV3JpdGFibGVOb2RlU3RyZWFtOnBoLGlzRHVwbGV4Tm9kZVN0cmVhbTpRX309dHQoKSxnaD12dCgpLHtBYm9ydEVycm9yOnZoLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVFlQRTpZXyxFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUU6eWh9fT1BZSgpLHtkZXN0cm95ZXI6SHJ9PWlyKCksSl89bnQoKSxYXz1naSgpLHtjcmVhdGVEZWZlcnJlZFByb21pc2U6Ymh9PUplKCksd2g9WnMoKSxfaD1nbG9iYWxUaGlzLkJsb2J8fFZfLkJsb2IsWl89dHlwZW9mIF9oPFwidVwiP2Z1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgX2h9OmZ1bmN0aW9uKGUpe3JldHVybiAhMX0sZTA9Z2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXJ8fHppKCkuQWJvcnRDb250cm9sbGVyLHtGdW5jdGlvblByb3RvdHlwZUNhbGw6bWh9PWNlKCksaHI9Y2xhc3MgZXh0ZW5kcyBKX3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxlPy5yZWFkYWJsZT09PSExJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5yZWFkYWJsZT0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZD0hMCksZT8ud3JpdGFibGU9PT0hMSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGU9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITAsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkPSEwKTt9fTtFaC5leHBvcnRzPWZ1bmN0aW9uIHQoZSxyKXtpZihRXyhlKSlyZXR1cm4gZTtpZihkaChlKSlyZXR1cm4gd24oe3JlYWRhYmxlOmV9KTtpZihwaChlKSlyZXR1cm4gd24oe3dyaXRhYmxlOmV9KTtpZihHXyhlKSlyZXR1cm4gd24oe3dyaXRhYmxlOiExLHJlYWRhYmxlOiExfSk7aWYodHlwZW9mIGU9PVwiZnVuY3Rpb25cIil7bGV0e3ZhbHVlOm4sd3JpdGU6byxmaW5hbDpzLGRlc3Ryb3k6YX09dDAoZSk7aWYoaGgobikpcmV0dXJuIHdoKGhyLG4se29iamVjdE1vZGU6ITAsd3JpdGU6byxmaW5hbDpzLGRlc3Ryb3k6YX0pO2xldCBsPW4/LnRoZW47aWYodHlwZW9mIGw9PVwiZnVuY3Rpb25cIil7bGV0IGMsaD1taChsLG4sZD0+e2lmKGQhPW51bGwpdGhyb3cgbmV3IHloKFwibnVsbHlcIixcImJvZHlcIixkKX0sZD0+e0hyKGMsZCk7fSk7cmV0dXJuIGM9bmV3IGhyKHtvYmplY3RNb2RlOiEwLHJlYWRhYmxlOiExLHdyaXRlOm8sZmluYWwoZCl7cyhhc3luYygpPT57dHJ5e2F3YWl0IGgscG8ubmV4dFRpY2soZCxudWxsKTt9Y2F0Y2goZyl7cG8ubmV4dFRpY2soZCxnKTt9fSk7fSxkZXN0cm95OmF9KX10aHJvdyBuZXcgeWgoXCJJdGVyYWJsZSwgQXN5bmNJdGVyYWJsZSBvciBBc3luY0Z1bmN0aW9uXCIscixuKX1pZihaXyhlKSlyZXR1cm4gdChlLmFycmF5QnVmZmVyKCkpO2lmKGhoKGUpKXJldHVybiB3aChocixlLHtvYmplY3RNb2RlOiEwLHdyaXRhYmxlOiExfSk7aWYodHlwZW9mIGU/LndyaXRhYmxlPT1cIm9iamVjdFwifHx0eXBlb2YgZT8ucmVhZGFibGU9PVwib2JqZWN0XCIpe2xldCBuPWUhPW51bGwmJmUucmVhZGFibGU/ZGgoZT8ucmVhZGFibGUpP2U/LnJlYWRhYmxlOnQoZS5yZWFkYWJsZSk6dm9pZCAwLG89ZSE9bnVsbCYmZS53cml0YWJsZT9waChlPy53cml0YWJsZSk/ZT8ud3JpdGFibGU6dChlLndyaXRhYmxlKTp2b2lkIDA7cmV0dXJuIHduKHtyZWFkYWJsZTpuLHdyaXRhYmxlOm99KX1sZXQgaT1lPy50aGVuO2lmKHR5cGVvZiBpPT1cImZ1bmN0aW9uXCIpe2xldCBuO3JldHVybiBtaChpLGUsbz0+e28hPW51bGwmJm4ucHVzaChvKSxuLnB1c2gobnVsbCk7fSxvPT57SHIobixvKTt9KSxuPW5ldyBocih7b2JqZWN0TW9kZTohMCx3cml0YWJsZTohMSxyZWFkKCl7fX0pfXRocm93IG5ldyBZXyhyLFtcIkJsb2JcIixcIlJlYWRhYmxlU3RyZWFtXCIsXCJXcml0YWJsZVN0cmVhbVwiLFwiU3RyZWFtXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiLFwiRnVuY3Rpb25cIixcInsgcmVhZGFibGUsIHdyaXRhYmxlIH0gcGFpclwiLFwiUHJvbWlzZVwiXSxlKX07ZnVuY3Rpb24gdDAodCl7bGV0e3Byb21pc2U6ZSxyZXNvbHZlOnJ9PWJoKCksaT1uZXcgZTAsbj1pLnNpZ25hbDtyZXR1cm4ge3ZhbHVlOnQoYXN5bmMgZnVuY3Rpb24qKCl7Zm9yKDs7KXtsZXQgcz1lO2U9bnVsbDtsZXR7Y2h1bms6YSxkb25lOmwsY2I6Y309YXdhaXQgcztpZihwby5uZXh0VGljayhjKSxsKXJldHVybjtpZihuLmFib3J0ZWQpdGhyb3cgbmV3IHZoKHZvaWQgMCx7Y2F1c2U6bi5yZWFzb259KTsoKCh7cHJvbWlzZTplLHJlc29sdmU6cn09YmgoKSkpKSx5aWVsZCBhO319KCkse3NpZ25hbDpufSksd3JpdGUocyxhLGwpe2xldCBjPXI7cj1udWxsLGMoe2NodW5rOnMsZG9uZTohMSxjYjpsfSk7fSxmaW5hbChzKXtsZXQgYT1yO3I9bnVsbCxhKHtkb25lOiEwLGNiOnN9KTt9LGRlc3Ryb3kocyxhKXtpLmFib3J0KCksYShzKTt9fX1mdW5jdGlvbiB3bih0KXtsZXQgZT10LnJlYWRhYmxlJiZ0eXBlb2YgdC5yZWFkYWJsZS5yZWFkIT1cImZ1bmN0aW9uXCI/WF8ud3JhcCh0LnJlYWRhYmxlKTp0LnJlYWRhYmxlLHI9dC53cml0YWJsZSxpPSEhel8oZSksbj0hIUtfKHIpLG8scyxhLGwsYztmdW5jdGlvbiBoKGQpe2xldCBnPWw7bD1udWxsLGc/ZyhkKTpkJiZjLmRlc3Ryb3koZCk7fXJldHVybiBjPW5ldyBocih7cmVhZGFibGVPYmplY3RNb2RlOiEhKGUhPW51bGwmJmUucmVhZGFibGVPYmplY3RNb2RlKSx3cml0YWJsZU9iamVjdE1vZGU6ISEociE9bnVsbCYmci53cml0YWJsZU9iamVjdE1vZGUpLHJlYWRhYmxlOmksd3JpdGFibGU6bn0pLG4mJihnaChyLGQ9PntuPSExLGQmJkhyKGUsZCksaChkKTt9KSxjLl93cml0ZT1mdW5jdGlvbihkLGcseSl7ci53cml0ZShkLGcpP3koKTpvPXk7fSxjLl9maW5hbD1mdW5jdGlvbihkKXtyLmVuZCgpLHM9ZDt9LHIub24oXCJkcmFpblwiLGZ1bmN0aW9uKCl7aWYobyl7bGV0IGQ9bztvPW51bGwsZCgpO319KSxyLm9uKFwiZmluaXNoXCIsZnVuY3Rpb24oKXtpZihzKXtsZXQgZD1zO3M9bnVsbCxkKCk7fX0pKSxpJiYoZ2goZSxkPT57aT0hMSxkJiZIcihlLGQpLGgoZCk7fSksZS5vbihcInJlYWRhYmxlXCIsZnVuY3Rpb24oKXtpZihhKXtsZXQgZD1hO2E9bnVsbCxkKCk7fX0pLGUub24oXCJlbmRcIixmdW5jdGlvbigpe2MucHVzaChudWxsKTt9KSxjLl9yZWFkPWZ1bmN0aW9uKCl7Zm9yKDs7KXtsZXQgZD1lLnJlYWQoKTtpZihkPT09bnVsbCl7YT1jLl9yZWFkO3JldHVybn1pZighYy5wdXNoKGQpKXJldHVybn19KSxjLl9kZXN0cm95PWZ1bmN0aW9uKGQsZyl7IWQmJmwhPT1udWxsJiYoZD1uZXcgdmgpLGE9bnVsbCxvPW51bGwscz1udWxsLGw9PT1udWxsP2coZCk6KGw9ZyxIcihyLGQpLEhyKGUsZCkpO30sY319KTt2YXIgbnQ9TSgoUFIsVGgpPT57XygpO3YoKTttKCk7dmFye09iamVjdERlZmluZVByb3BlcnRpZXM6cjAsT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOkl0LE9iamVjdEtleXM6aTAsT2JqZWN0U2V0UHJvdG90eXBlT2Y6QWh9PWNlKCk7VGguZXhwb3J0cz1WZTt2YXIgYm89Z2koKSxOZT1obygpO0FoKFZlLnByb3RvdHlwZSxiby5wcm90b3R5cGUpO0FoKFZlLGJvKTt7bGV0IHQ9aTAoTmUucHJvdG90eXBlKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7bGV0IHI9dFtlXTtWZS5wcm90b3R5cGVbcl18fChWZS5wcm90b3R5cGVbcl09TmUucHJvdG90eXBlW3JdKTt9fWZ1bmN0aW9uIFZlKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFZlKSlyZXR1cm4gbmV3IFZlKHQpO2JvLmNhbGwodGhpcyx0KSxOZS5jYWxsKHRoaXMsdCksdD8odGhpcy5hbGxvd0hhbGZPcGVuPXQuYWxsb3dIYWxmT3BlbiE9PSExLHQucmVhZGFibGU9PT0hMSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUucmVhZGFibGU9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITApLHQud3JpdGFibGU9PT0hMSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUud3JpdGFibGU9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRpbmc9ITAsdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZD0hMCx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkPSEwKSk6dGhpcy5hbGxvd0hhbGZPcGVuPSEwO31yMChWZS5wcm90b3R5cGUse3dyaXRhYmxlOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZVwiKX0sd3JpdGFibGVIaWdoV2F0ZXJNYXJrOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZUhpZ2hXYXRlck1hcmtcIil9LHdyaXRhYmxlT2JqZWN0TW9kZTp7X19wcm90b19fOm51bGwsLi4uSXQoTmUucHJvdG90eXBlLFwid3JpdGFibGVPYmplY3RNb2RlXCIpfSx3cml0YWJsZUJ1ZmZlcjp7X19wcm90b19fOm51bGwsLi4uSXQoTmUucHJvdG90eXBlLFwid3JpdGFibGVCdWZmZXJcIil9LHdyaXRhYmxlTGVuZ3RoOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZUxlbmd0aFwiKX0sd3JpdGFibGVGaW5pc2hlZDp7X19wcm90b19fOm51bGwsLi4uSXQoTmUucHJvdG90eXBlLFwid3JpdGFibGVGaW5pc2hlZFwiKX0sd3JpdGFibGVDb3JrZWQ6e19fcHJvdG9fXzpudWxsLC4uLkl0KE5lLnByb3RvdHlwZSxcIndyaXRhYmxlQ29ya2VkXCIpfSx3cml0YWJsZUVuZGVkOntfX3Byb3RvX186bnVsbCwuLi5JdChOZS5wcm90b3R5cGUsXCJ3cml0YWJsZUVuZGVkXCIpfSx3cml0YWJsZU5lZWREcmFpbjp7X19wcm90b19fOm51bGwsLi4uSXQoTmUucHJvdG90eXBlLFwid3JpdGFibGVOZWVkRHJhaW5cIil9LGRlc3Ryb3llZDp7X19wcm90b19fOm51bGwsZ2V0KCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGU9PT12b2lkIDB8fHRoaXMuX3dyaXRhYmxlU3RhdGU9PT12b2lkIDA/ITE6dGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQodCl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXQsdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9dCk7fX19KTt2YXIgZ287ZnVuY3Rpb24gSWgoKXtyZXR1cm4gZ289PT12b2lkIDAmJihnbz17fSksZ299VmUuZnJvbVdlYj1mdW5jdGlvbih0LGUpe3JldHVybiBJaCgpLm5ld1N0cmVhbUR1cGxleEZyb21SZWFkYWJsZVdyaXRhYmxlUGFpcih0LGUpfTtWZS50b1dlYj1mdW5jdGlvbih0KXtyZXR1cm4gSWgoKS5uZXdSZWFkYWJsZVdyaXRhYmxlUGFpckZyb21EdXBsZXgodCl9O3ZhciB5bztWZS5mcm9tPWZ1bmN0aW9uKHQpe3JldHVybiB5b3x8KHlvPVNoKCkpLHlvKHQsXCJib2R5XCIpfTt9KTt2YXIgbW89TSgoalIsQ2gpPT57XygpO3YoKTttKCk7dmFye09iamVjdFNldFByb3RvdHlwZU9mOlJoLFN5bWJvbDpuMH09Y2UoKTtDaC5leHBvcnRzPVR0O3ZhcntFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRDpzMH09QWUoKS5jb2Rlcyxfbz1udCgpLHtnZXRIaWdoV2F0ZXJNYXJrOm8wfT1hbigpO1JoKFR0LnByb3RvdHlwZSxfby5wcm90b3R5cGUpO1JoKFR0LF9vKTt2YXIgX2k9bjAoXCJrQ2FsbGJhY2tcIik7ZnVuY3Rpb24gVHQodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgVHQpKXJldHVybiBuZXcgVHQodCk7bGV0IGU9dD9vMCh0aGlzLHQsXCJyZWFkYWJsZUhpZ2hXYXRlck1hcmtcIiwhMCk6bnVsbDtlPT09MCYmKHQ9ey4uLnQsaGlnaFdhdGVyTWFyazpudWxsLHJlYWRhYmxlSGlnaFdhdGVyTWFyazplLHdyaXRhYmxlSGlnaFdhdGVyTWFyazp0LndyaXRhYmxlSGlnaFdhdGVyTWFya3x8MH0pLF9vLmNhbGwodGhpcyx0KSx0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmM9ITEsdGhpc1tfaV09bnVsbCx0JiYodHlwZW9mIHQudHJhbnNmb3JtPT1cImZ1bmN0aW9uXCImJih0aGlzLl90cmFuc2Zvcm09dC50cmFuc2Zvcm0pLHR5cGVvZiB0LmZsdXNoPT1cImZ1bmN0aW9uXCImJih0aGlzLl9mbHVzaD10LmZsdXNoKSksdGhpcy5vbihcInByZWZpbmlzaFwiLGEwKTt9ZnVuY3Rpb24gd28odCl7dHlwZW9mIHRoaXMuX2ZsdXNoPT1cImZ1bmN0aW9uXCImJiF0aGlzLmRlc3Ryb3llZD90aGlzLl9mbHVzaCgoZSxyKT0+e2lmKGUpe3Q/dChlKTp0aGlzLmRlc3Ryb3koZSk7cmV0dXJufXIhPW51bGwmJnRoaXMucHVzaChyKSx0aGlzLnB1c2gobnVsbCksdCYmdCgpO30pOih0aGlzLnB1c2gobnVsbCksdCYmdCgpKTt9ZnVuY3Rpb24gYTAoKXt0aGlzLl9maW5hbCE9PXdvJiZ3by5jYWxsKHRoaXMpO31UdC5wcm90b3R5cGUuX2ZpbmFsPXdvO1R0LnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxyKXt0aHJvdyBuZXcgczAoXCJfdHJhbnNmb3JtKClcIil9O1R0LnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24odCxlLHIpe2xldCBpPXRoaXMuX3JlYWRhYmxlU3RhdGUsbj10aGlzLl93cml0YWJsZVN0YXRlLG89aS5sZW5ndGg7dGhpcy5fdHJhbnNmb3JtKHQsZSwocyxhKT0+e2lmKHMpe3Iocyk7cmV0dXJufWEhPW51bGwmJnRoaXMucHVzaChhKSxuLmVuZGVkfHxvPT09aS5sZW5ndGh8fGkubGVuZ3RoPGkuaGlnaFdhdGVyTWFyaz9yKCk6dGhpc1tfaV09cjt9KTt9O1R0LnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe2lmKHRoaXNbX2ldKXtsZXQgdD10aGlzW19pXTt0aGlzW19pXT1udWxsLHQoKTt9fTt9KTt2YXIgRW89TSgoWVIsUGgpPT57XygpO3YoKTttKCk7dmFye09iamVjdFNldFByb3RvdHlwZU9mOkJofT1jZSgpO1BoLmV4cG9ydHM9VnI7dmFyIHZvPW1vKCk7QmgoVnIucHJvdG90eXBlLHZvLnByb3RvdHlwZSk7QmgoVnIsdm8pO2Z1bmN0aW9uIFZyKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFZyKSlyZXR1cm4gbmV3IFZyKHQpO3ZvLmNhbGwodGhpcyx0KTt9VnIucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24odCxlLHIpe3IobnVsbCx0KTt9O30pO3ZhciBFbj1NKChvQyxMaCk9PntfKCk7digpO20oKTt2YXIgbWk9TnQoKSx7QXJyYXlJc0FycmF5OmwwLFByb21pc2U6dTAsU3ltYm9sQXN5bmNJdGVyYXRvcjpmMH09Y2UoKSx2bj12dCgpLHtvbmNlOmMwfT1KZSgpLGgwPWlyKCksa2g9bnQoKSx7YWdncmVnYXRlVHdvRXJyb3JzOmQwLGNvZGVzOntFUlJfSU5WQUxJRF9BUkdfVFlQRTpQbyxFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUU6U28sRVJSX01JU1NJTkdfQVJHUzpwMCxFUlJfU1RSRUFNX0RFU1RST1lFRDpnMCxFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRTp5MH0sQWJvcnRFcnJvcjpiMH09QWUoKSx7dmFsaWRhdGVGdW5jdGlvbjp3MCx2YWxpZGF0ZUFib3J0U2lnbmFsOl8wfT1oaSgpLHtpc0l0ZXJhYmxlOmRyLGlzUmVhZGFibGU6QW8saXNSZWFkYWJsZU5vZGVTdHJlYW06bW4saXNOb2RlU3RyZWFtOk9oLGlzVHJhbnNmb3JtU3RyZWFtOnpyLGlzV2ViU3RyZWFtOm0wLGlzUmVhZGFibGVTdHJlYW06SW8saXNSZWFkYWJsZUVuZGVkOnYwfT10dCgpLEUwPWdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyfHx6aSgpLkFib3J0Q29udHJvbGxlcixUbyxSbztmdW5jdGlvbiB4aCh0LGUscil7bGV0IGk9ITE7dC5vbihcImNsb3NlXCIsKCk9PntpPSEwO30pO2xldCBuPXZuKHQse3JlYWRhYmxlOmUsd3JpdGFibGU6cn0sbz0+e2k9IW87fSk7cmV0dXJuIHtkZXN0cm95Om89PntpfHwoaT0hMCxoMC5kZXN0cm95ZXIodCxvfHxuZXcgZzAoXCJwaXBlXCIpKSk7fSxjbGVhbnVwOm59fWZ1bmN0aW9uIFMwKHQpe3JldHVybiB3MCh0W3QubGVuZ3RoLTFdLFwic3RyZWFtc1tzdHJlYW0ubGVuZ3RoIC0gMV1cIiksdC5wb3AoKX1mdW5jdGlvbiBDbyh0KXtpZihkcih0KSlyZXR1cm4gdDtpZihtbih0KSlyZXR1cm4gQTAodCk7dGhyb3cgbmV3IFBvKFwidmFsXCIsW1wiUmVhZGFibGVcIixcIkl0ZXJhYmxlXCIsXCJBc3luY0l0ZXJhYmxlXCJdLHQpfWFzeW5jIGZ1bmN0aW9uKkEwKHQpe1JvfHwoUm89Z2koKSkseWllbGQqUm8ucHJvdG90eXBlW2YwXS5jYWxsKHQpO31hc3luYyBmdW5jdGlvbiBfbih0LGUscix7ZW5kOml9KXtsZXQgbixvPW51bGwscz1jPT57aWYoYyYmKG49Yyksbyl7bGV0IGg9bztvPW51bGwsaCgpO319LGE9KCk9Pm5ldyB1MCgoYyxoKT0+e24/aChuKTpvPSgpPT57bj9oKG4pOmMoKTt9O30pO2Uub24oXCJkcmFpblwiLHMpO2xldCBsPXZuKGUse3JlYWRhYmxlOiExfSxzKTt0cnl7ZS53cml0YWJsZU5lZWREcmFpbiYmYXdhaXQgYSgpO2ZvciBhd2FpdChsZXQgYyBvZiB0KWUud3JpdGUoYyl8fGF3YWl0IGEoKTtpJiZlLmVuZCgpLGF3YWl0IGEoKSxyKCk7fWNhdGNoKGMpe3IobiE9PWM/ZDAobixjKTpjKTt9ZmluYWxseXtsKCksZS5vZmYoXCJkcmFpblwiLHMpO319YXN5bmMgZnVuY3Rpb24gQm8odCxlLHIse2VuZDppfSl7enIoZSkmJihlPWUud3JpdGFibGUpO2xldCBuPWUuZ2V0V3JpdGVyKCk7dHJ5e2ZvciBhd2FpdChsZXQgbyBvZiB0KWF3YWl0IG4ucmVhZHksbi53cml0ZShvKS5jYXRjaCgoKT0+e30pO2F3YWl0IG4ucmVhZHksaSYmYXdhaXQgbi5jbG9zZSgpLHIoKTt9Y2F0Y2gobyl7dHJ5e2F3YWl0IG4uYWJvcnQobykscihvKTt9Y2F0Y2gocyl7cihzKTt9fX1mdW5jdGlvbiBJMCguLi50KXtyZXR1cm4gTWgodCxjMChTMCh0KSkpfWZ1bmN0aW9uIE1oKHQsZSxyKXtpZih0Lmxlbmd0aD09PTEmJmwwKHRbMF0pJiYodD10WzBdKSx0Lmxlbmd0aDwyKXRocm93IG5ldyBwMChcInN0cmVhbXNcIik7bGV0IGk9bmV3IEUwLG49aS5zaWduYWwsbz1yPy5zaWduYWwscz1bXTtfMChvLFwib3B0aW9ucy5zaWduYWxcIik7ZnVuY3Rpb24gYSgpe3kobmV3IGIwKTt9bz8uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsYSk7bGV0IGwsYyxoPVtdLGQ9MDtmdW5jdGlvbiBnKEMpe3koQywtLWQ9PT0wKTt9ZnVuY3Rpb24geShDLFIpe2lmKEMmJighbHx8bC5jb2RlPT09XCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiKSYmKGw9QyksISghbCYmIVIpKXtmb3IoO2gubGVuZ3RoOyloLnNoaWZ0KCkobCk7bz8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsYSksaS5hYm9ydCgpLFImJihsfHxzLmZvckVhY2goVT0+VSgpKSxtaS5uZXh0VGljayhlLGwsYykpO319bGV0IHc7Zm9yKGxldCBDPTA7Qzx0Lmxlbmd0aDtDKyspe2xldCBSPXRbQ10sVT1DPHQubGVuZ3RoLTEsTj1DPjAsVz1VfHxyPy5lbmQhPT0hMSxLPUM9PT10Lmxlbmd0aC0xO2lmKE9oKFIpKXtsZXQgej1mdW5jdGlvbihRKXtRJiZRLm5hbWUhPT1cIkFib3J0RXJyb3JcIiYmUS5jb2RlIT09XCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRVwiJiZnKFEpO307aWYoVyl7bGV0e2Rlc3Ryb3k6USxjbGVhbnVwOnBlfT14aChSLFUsTik7aC5wdXNoKFEpLEFvKFIpJiZLJiZzLnB1c2gocGUpO31SLm9uKFwiZXJyb3JcIix6KSxBbyhSKSYmSyYmcy5wdXNoKCgpPT57Ui5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIseik7fSk7fWlmKEM9PT0wKWlmKHR5cGVvZiBSPT1cImZ1bmN0aW9uXCIpe2lmKHc9Uih7c2lnbmFsOm59KSwhZHIodykpdGhyb3cgbmV3IFNvKFwiSXRlcmFibGUsIEFzeW5jSXRlcmFibGUgb3IgU3RyZWFtXCIsXCJzb3VyY2VcIix3KX1lbHNlIGRyKFIpfHxtbihSKXx8enIoUik/dz1SOnc9a2guZnJvbShSKTtlbHNlIGlmKHR5cGVvZiBSPT1cImZ1bmN0aW9uXCIpe2lmKHpyKHcpKXt2YXIgUzt3PUNvKChTPXcpPT09bnVsbHx8Uz09PXZvaWQgMD92b2lkIDA6Uy5yZWFkYWJsZSk7fWVsc2Ugdz1Dbyh3KTtpZih3PVIodyx7c2lnbmFsOm59KSxVKXtpZighZHIodywhMCkpdGhyb3cgbmV3IFNvKFwiQXN5bmNJdGVyYWJsZVwiLGB0cmFuc2Zvcm1bJHtDLTF9XWAsdyl9ZWxzZSB7dmFyIEU7VG98fChUbz1FbygpKTtsZXQgej1uZXcgVG8oe29iamVjdE1vZGU6ITB9KSxRPShFPXcpPT09bnVsbHx8RT09PXZvaWQgMD92b2lkIDA6RS50aGVuO2lmKHR5cGVvZiBRPT1cImZ1bmN0aW9uXCIpZCsrLFEuY2FsbCh3LGdlPT57Yz1nZSxnZSE9bnVsbCYmei53cml0ZShnZSksVyYmei5lbmQoKSxtaS5uZXh0VGljayhnKTt9LGdlPT57ei5kZXN0cm95KGdlKSxtaS5uZXh0VGljayhnLGdlKTt9KTtlbHNlIGlmKGRyKHcsITApKWQrKyxfbih3LHosZyx7ZW5kOld9KTtlbHNlIGlmKElvKHcpfHx6cih3KSl7bGV0IGdlPXcucmVhZGFibGV8fHc7ZCsrLF9uKGdlLHosZyx7ZW5kOld9KTt9ZWxzZSB0aHJvdyBuZXcgU28oXCJBc3luY0l0ZXJhYmxlIG9yIFByb21pc2VcIixcImRlc3RpbmF0aW9uXCIsdyk7dz16O2xldHtkZXN0cm95OnBlLGNsZWFudXA6WXR9PXhoKHcsITEsITApO2gucHVzaChwZSksSyYmcy5wdXNoKFl0KTt9fWVsc2UgaWYoT2goUikpe2lmKG1uKHcpKXtkKz0yO2xldCB6PVQwKHcsUixnLHtlbmQ6V30pO0FvKFIpJiZLJiZzLnB1c2goeik7fWVsc2UgaWYoenIodyl8fElvKHcpKXtsZXQgej13LnJlYWRhYmxlfHx3O2QrKyxfbih6LFIsZyx7ZW5kOld9KTt9ZWxzZSBpZihkcih3KSlkKyssX24odyxSLGcse2VuZDpXfSk7ZWxzZSB0aHJvdyBuZXcgUG8oXCJ2YWxcIixbXCJSZWFkYWJsZVwiLFwiSXRlcmFibGVcIixcIkFzeW5jSXRlcmFibGVcIixcIlJlYWRhYmxlU3RyZWFtXCIsXCJUcmFuc2Zvcm1TdHJlYW1cIl0sdyk7dz1SO31lbHNlIGlmKG0wKFIpKXtpZihtbih3KSlkKyssQm8oQ28odyksUixnLHtlbmQ6V30pO2Vsc2UgaWYoSW8odyl8fGRyKHcpKWQrKyxCbyh3LFIsZyx7ZW5kOld9KTtlbHNlIGlmKHpyKHcpKWQrKyxCbyh3LnJlYWRhYmxlLFIsZyx7ZW5kOld9KTtlbHNlIHRocm93IG5ldyBQbyhcInZhbFwiLFtcIlJlYWRhYmxlXCIsXCJJdGVyYWJsZVwiLFwiQXN5bmNJdGVyYWJsZVwiLFwiUmVhZGFibGVTdHJlYW1cIixcIlRyYW5zZm9ybVN0cmVhbVwiXSx3KTt3PVI7fWVsc2Ugdz1raC5mcm9tKFIpO31yZXR1cm4gKG4hPW51bGwmJm4uYWJvcnRlZHx8byE9bnVsbCYmby5hYm9ydGVkKSYmbWkubmV4dFRpY2soYSksd31mdW5jdGlvbiBUMCh0LGUscix7ZW5kOml9KXtsZXQgbj0hMTtpZihlLm9uKFwiY2xvc2VcIiwoKT0+e258fHIobmV3IHkwKTt9KSx0LnBpcGUoZSx7ZW5kOiExfSksaSl7bGV0IHM9ZnVuY3Rpb24oKXtuPSEwLGUuZW5kKCk7fTt2MCh0KT9taS5uZXh0VGljayhzKTp0Lm9uY2UoXCJlbmRcIixzKTt9ZWxzZSByKCk7cmV0dXJuIHZuKHQse3JlYWRhYmxlOiEwLHdyaXRhYmxlOiExfSxzPT57bGV0IGE9dC5fcmVhZGFibGVTdGF0ZTtzJiZzLmNvZGU9PT1cIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFXCImJmEmJmEuZW5kZWQmJiFhLmVycm9yZWQmJiFhLmVycm9yRW1pdHRlZD90Lm9uY2UoXCJlbmRcIixyKS5vbmNlKFwiZXJyb3JcIixyKTpyKHMpO30pLHZuKGUse3JlYWRhYmxlOiExLHdyaXRhYmxlOiEwfSxyKX1MaC5leHBvcnRzPXtwaXBlbGluZUltcGw6TWgscGlwZWxpbmU6STB9O30pO3ZhciBPbz1NKCh5QyxGaCk9PntfKCk7digpO20oKTt2YXJ7cGlwZWxpbmU6UjB9PUVuKCksU249bnQoKSx7ZGVzdHJveWVyOkMwfT1pcigpLHtpc05vZGVTdHJlYW06QW4saXNSZWFkYWJsZTpVaCxpc1dyaXRhYmxlOk5oLGlzV2ViU3RyZWFtOmtvLGlzVHJhbnNmb3JtU3RyZWFtOnByLGlzV3JpdGFibGVTdHJlYW06cWgsaXNSZWFkYWJsZVN0cmVhbTpEaH09dHQoKSx7QWJvcnRFcnJvcjpCMCxjb2Rlczp7RVJSX0lOVkFMSURfQVJHX1ZBTFVFOmpoLEVSUl9NSVNTSU5HX0FSR1M6UDB9fT1BZSgpLGswPXZ0KCk7RmguZXhwb3J0cz1mdW5jdGlvbiguLi5lKXtpZihlLmxlbmd0aD09PTApdGhyb3cgbmV3IFAwKFwic3RyZWFtc1wiKTtpZihlLmxlbmd0aD09PTEpcmV0dXJuIFNuLmZyb20oZVswXSk7bGV0IHI9Wy4uLmVdO2lmKHR5cGVvZiBlWzBdPT1cImZ1bmN0aW9uXCImJihlWzBdPVNuLmZyb20oZVswXSkpLHR5cGVvZiBlW2UubGVuZ3RoLTFdPT1cImZ1bmN0aW9uXCIpe2xldCB5PWUubGVuZ3RoLTE7ZVt5XT1Tbi5mcm9tKGVbeV0pO31mb3IobGV0IHk9MDt5PGUubGVuZ3RoOysreSlpZighKCFBbihlW3ldKSYmIWtvKGVbeV0pKSl7aWYoeTxlLmxlbmd0aC0xJiYhKFVoKGVbeV0pfHxEaChlW3ldKXx8cHIoZVt5XSkpKXRocm93IG5ldyBqaChgc3RyZWFtc1ske3l9XWAsclt5XSxcIm11c3QgYmUgcmVhZGFibGVcIik7aWYoeT4wJiYhKE5oKGVbeV0pfHxxaChlW3ldKXx8cHIoZVt5XSkpKXRocm93IG5ldyBqaChgc3RyZWFtc1ske3l9XWAsclt5XSxcIm11c3QgYmUgd3JpdGFibGVcIil9bGV0IGksbixvLHMsYTtmdW5jdGlvbiBsKHkpe2xldCB3PXM7cz1udWxsLHc/dyh5KTp5P2EuZGVzdHJveSh5KTohZyYmIWQmJmEuZGVzdHJveSgpO31sZXQgYz1lWzBdLGg9UjAoZSxsKSxkPSEhKE5oKGMpfHxxaChjKXx8cHIoYykpLGc9ISEoVWgoaCl8fERoKGgpfHxwcihoKSk7aWYoYT1uZXcgU24oe3dyaXRhYmxlT2JqZWN0TW9kZTohIShjIT1udWxsJiZjLndyaXRhYmxlT2JqZWN0TW9kZSkscmVhZGFibGVPYmplY3RNb2RlOiEhKGghPW51bGwmJmgud3JpdGFibGVPYmplY3RNb2RlKSx3cml0YWJsZTpkLHJlYWRhYmxlOmd9KSxkKXtpZihBbihjKSlhLl93cml0ZT1mdW5jdGlvbih3LFMsRSl7Yy53cml0ZSh3LFMpP0UoKTppPUU7fSxhLl9maW5hbD1mdW5jdGlvbih3KXtjLmVuZCgpLG49dzt9LGMub24oXCJkcmFpblwiLGZ1bmN0aW9uKCl7aWYoaSl7bGV0IHc9aTtpPW51bGwsdygpO319KTtlbHNlIGlmKGtvKGMpKXtsZXQgUz0ocHIoYyk/Yy53cml0YWJsZTpjKS5nZXRXcml0ZXIoKTthLl93cml0ZT1hc3luYyBmdW5jdGlvbihFLEksQyl7dHJ5e2F3YWl0IFMucmVhZHksUy53cml0ZShFKS5jYXRjaCgoKT0+e30pLEMoKTt9Y2F0Y2goUil7QyhSKTt9fSxhLl9maW5hbD1hc3luYyBmdW5jdGlvbihFKXt0cnl7YXdhaXQgUy5yZWFkeSxTLmNsb3NlKCkuY2F0Y2goKCk9Pnt9KSxuPUU7fWNhdGNoKEkpe0UoSSk7fX07fWxldCB5PXByKGgpP2gucmVhZGFibGU6aDtrMCh5LCgpPT57aWYobil7bGV0IHc9bjtuPW51bGwsdygpO319KTt9aWYoZyl7aWYoQW4oaCkpaC5vbihcInJlYWRhYmxlXCIsZnVuY3Rpb24oKXtpZihvKXtsZXQgeT1vO289bnVsbCx5KCk7fX0pLGgub24oXCJlbmRcIixmdW5jdGlvbigpe2EucHVzaChudWxsKTt9KSxhLl9yZWFkPWZ1bmN0aW9uKCl7Zm9yKDs7KXtsZXQgeT1oLnJlYWQoKTtpZih5PT09bnVsbCl7bz1hLl9yZWFkO3JldHVybn1pZighYS5wdXNoKHkpKXJldHVybn19O2Vsc2UgaWYoa28oaCkpe2xldCB3PShwcihoKT9oLnJlYWRhYmxlOmgpLmdldFJlYWRlcigpO2EuX3JlYWQ9YXN5bmMgZnVuY3Rpb24oKXtmb3IoOzspdHJ5e2xldHt2YWx1ZTpTLGRvbmU6RX09YXdhaXQgdy5yZWFkKCk7aWYoIWEucHVzaChTKSlyZXR1cm47aWYoRSl7YS5wdXNoKG51bGwpO3JldHVybn19Y2F0Y2h7cmV0dXJufX07fX1yZXR1cm4gYS5fZGVzdHJveT1mdW5jdGlvbih5LHcpeyF5JiZzIT09bnVsbCYmKHk9bmV3IEIwKSxvPW51bGwsaT1udWxsLG49bnVsbCxzPT09bnVsbD93KHkpOihzPXcsQW4oaCkmJkMwKGgseSkpO30sYX07fSk7dmFyIFFoPU0oKFRDLExvKT0+e18oKTt2KCk7bSgpO3ZhciBWaD1nbG9iYWxUaGlzLkFib3J0Q29udHJvbGxlcnx8emkoKS5BYm9ydENvbnRyb2xsZXIse2NvZGVzOntFUlJfSU5WQUxJRF9BUkdfVkFMVUU6TzAsRVJSX0lOVkFMSURfQVJHX1RZUEU6dmksRVJSX01JU1NJTkdfQVJHUzp4MCxFUlJfT1VUX09GX1JBTkdFOk0wfSxBYm9ydEVycm9yOnN0fT1BZSgpLHt2YWxpZGF0ZUFib3J0U2lnbmFsOmdyLHZhbGlkYXRlSW50ZWdlcjpMMCx2YWxpZGF0ZU9iamVjdDp5cn09aGkoKSxVMD1jZSgpLlN5bWJvbChcImtXZWFrXCIpLHtmaW5pc2hlZDpOMH09dnQoKSxxMD1PbygpLHthZGRBYm9ydFNpZ25hbE5vVmFsaWRhdGU6RDB9PWRpKCkse2lzV3JpdGFibGU6ajAsaXNOb2RlU3RyZWFtOkYwfT10dCgpLHtBcnJheVByb3RvdHlwZVB1c2g6VzAsTWF0aEZsb29yOiQwLE51bWJlcjpIMCxOdW1iZXJJc05hTjpWMCxQcm9taXNlOldoLFByb21pc2VSZWplY3Q6JGgsUHJvbWlzZVByb3RvdHlwZVRoZW46ejAsU3ltYm9sOnpofT1jZSgpLEluPXpoKFwia0VtcHR5XCIpLEhoPXpoKFwia0VvZlwiKTtmdW5jdGlvbiBLMCh0LGUpe2lmKGUhPW51bGwmJnlyKGUsXCJvcHRpb25zXCIpLGU/LnNpZ25hbCE9bnVsbCYmZ3IoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSxGMCh0KSYmIWowKHQpKXRocm93IG5ldyBPMChcInN0cmVhbVwiLHQsXCJtdXN0IGJlIHdyaXRhYmxlXCIpO2xldCByPXEwKHRoaXMsdCk7cmV0dXJuIGUhPW51bGwmJmUuc2lnbmFsJiZEMChlLnNpZ25hbCxyKSxyfWZ1bmN0aW9uIFRuKHQsZSl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgdmkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO2UhPW51bGwmJnlyKGUsXCJvcHRpb25zXCIpLGU/LnNpZ25hbCE9bnVsbCYmZ3IoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKTtsZXQgcj0xO3JldHVybiBlPy5jb25jdXJyZW5jeSE9bnVsbCYmKHI9JDAoZS5jb25jdXJyZW5jeSkpLEwwKHIsXCJjb25jdXJyZW5jeVwiLDEpLGFzeW5jIGZ1bmN0aW9uKigpe3ZhciBuLG87bGV0IHM9bmV3IFZoLGE9dGhpcyxsPVtdLGM9cy5zaWduYWwsaD17c2lnbmFsOmN9LGQ9KCk9PnMuYWJvcnQoKTtlIT1udWxsJiYobj1lLnNpZ25hbCkhPT1udWxsJiZuIT09dm9pZCAwJiZuLmFib3J0ZWQmJmQoKSxlPT1udWxsfHwobz1lLnNpZ25hbCk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGQpO2xldCBnLHksdz0hMTtmdW5jdGlvbiBTKCl7dz0hMDt9YXN5bmMgZnVuY3Rpb24gRSgpe3RyeXtmb3IgYXdhaXQobGV0IFIgb2YgYSl7dmFyIEk7aWYodylyZXR1cm47aWYoYy5hYm9ydGVkKXRocm93IG5ldyBzdDt0cnl7Uj10KFIsaCk7fWNhdGNoKFUpe1I9JGgoVSk7fVIhPT1JbiYmKHR5cGVvZigoST1SKT09PW51bGx8fEk9PT12b2lkIDA/dm9pZCAwOkkuY2F0Y2gpPT1cImZ1bmN0aW9uXCImJlIuY2F0Y2goUyksbC5wdXNoKFIpLGcmJihnKCksZz1udWxsKSwhdyYmbC5sZW5ndGgmJmwubGVuZ3RoPj1yJiZhd2FpdCBuZXcgV2goVT0+e3k9VTt9KSk7fWwucHVzaChIaCk7fWNhdGNoKFIpe2xldCBVPSRoKFIpO3owKFUsdm9pZCAwLFMpLGwucHVzaChVKTt9ZmluYWxseXt2YXIgQzt3PSEwLGcmJihnKCksZz1udWxsKSxlPT1udWxsfHwoQz1lLnNpZ25hbCk9PT1udWxsfHxDPT09dm9pZCAwfHxDLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGQpO319RSgpO3RyeXtmb3IoOzspe2Zvcig7bC5sZW5ndGg+MDspe2xldCBJPWF3YWl0IGxbMF07aWYoST09PUhoKXJldHVybjtpZihjLmFib3J0ZWQpdGhyb3cgbmV3IHN0O0khPT1JbiYmKHlpZWxkIEkpLGwuc2hpZnQoKSx5JiYoeSgpLHk9bnVsbCk7fWF3YWl0IG5ldyBXaChJPT57Zz1JO30pO319ZmluYWxseXtzLmFib3J0KCksdz0hMCx5JiYoeSgpLHk9bnVsbCk7fX0uY2FsbCh0aGlzKX1mdW5jdGlvbiBHMCh0PXZvaWQgMCl7cmV0dXJuIHQhPW51bGwmJnlyKHQsXCJvcHRpb25zXCIpLHQ/LnNpZ25hbCE9bnVsbCYmZ3IodC5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSxhc3luYyBmdW5jdGlvbiooKXtsZXQgcj0wO2ZvciBhd2FpdChsZXQgbiBvZiB0aGlzKXt2YXIgaTtpZih0IT1udWxsJiYoaT10LnNpZ25hbCkhPT1udWxsJiZpIT09dm9pZCAwJiZpLmFib3J0ZWQpdGhyb3cgbmV3IHN0KHtjYXVzZTp0LnNpZ25hbC5yZWFzb259KTt5aWVsZCBbcisrLG5dO319LmNhbGwodGhpcyl9YXN5bmMgZnVuY3Rpb24gS2godCxlPXZvaWQgMCl7Zm9yIGF3YWl0KGxldCByIG9mIE1vLmNhbGwodGhpcyx0LGUpKXJldHVybiAhMDtyZXR1cm4gITF9YXN5bmMgZnVuY3Rpb24gUTAodCxlPXZvaWQgMCl7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgdmkoXCJmblwiLFtcIkZ1bmN0aW9uXCIsXCJBc3luY0Z1bmN0aW9uXCJdLHQpO3JldHVybiAhYXdhaXQgS2guY2FsbCh0aGlzLGFzeW5jKC4uLnIpPT4hYXdhaXQgdCguLi5yKSxlKX1hc3luYyBmdW5jdGlvbiBZMCh0LGUpe2ZvciBhd2FpdChsZXQgciBvZiBNby5jYWxsKHRoaXMsdCxlKSlyZXR1cm4gcn1hc3luYyBmdW5jdGlvbiBKMCh0LGUpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IHZpKFwiZm5cIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTthc3luYyBmdW5jdGlvbiByKGksbil7cmV0dXJuIGF3YWl0IHQoaSxuKSxJbn1mb3IgYXdhaXQobGV0IGkgb2YgVG4uY2FsbCh0aGlzLHIsZSkpO31mdW5jdGlvbiBNbyh0LGUpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IHZpKFwiZm5cIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTthc3luYyBmdW5jdGlvbiByKGksbil7cmV0dXJuIGF3YWl0IHQoaSxuKT9pOklufXJldHVybiBUbi5jYWxsKHRoaXMscixlKX12YXIgeG89Y2xhc3MgZXh0ZW5kcyB4MHtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwicmVkdWNlXCIpLHRoaXMubWVzc2FnZT1cIlJlZHVjZSBvZiBhbiBlbXB0eSBzdHJlYW0gcmVxdWlyZXMgYW4gaW5pdGlhbCB2YWx1ZVwiO319O2FzeW5jIGZ1bmN0aW9uIFgwKHQsZSxyKXt2YXIgaTtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyB2aShcInJlZHVjZXJcIixbXCJGdW5jdGlvblwiLFwiQXN5bmNGdW5jdGlvblwiXSx0KTtyIT1udWxsJiZ5cihyLFwib3B0aW9uc1wiKSxyPy5zaWduYWwhPW51bGwmJmdyKHIuc2lnbmFsLFwib3B0aW9ucy5zaWduYWxcIik7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4xO2lmKHIhPW51bGwmJihpPXIuc2lnbmFsKSE9PW51bGwmJmkhPT12b2lkIDAmJmkuYWJvcnRlZCl7bGV0IGM9bmV3IHN0KHZvaWQgMCx7Y2F1c2U6ci5zaWduYWwucmVhc29ufSk7dGhyb3cgdGhpcy5vbmNlKFwiZXJyb3JcIiwoKT0+e30pLGF3YWl0IE4wKHRoaXMuZGVzdHJveShjKSksY31sZXQgbz1uZXcgVmgscz1vLnNpZ25hbDtpZihyIT1udWxsJiZyLnNpZ25hbCl7bGV0IGM9e29uY2U6ITAsW1UwXTp0aGlzfTtyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKT0+by5hYm9ydCgpLGMpO31sZXQgYT0hMTt0cnl7Zm9yIGF3YWl0KGxldCBjIG9mIHRoaXMpe3ZhciBsO2lmKGE9ITAsciE9bnVsbCYmKGw9ci5zaWduYWwpIT09bnVsbCYmbCE9PXZvaWQgMCYmbC5hYm9ydGVkKXRocm93IG5ldyBzdDtuP2U9YXdhaXQgdChlLGMse3NpZ25hbDpzfSk6KGU9YyxuPSEwKTt9aWYoIWEmJiFuKXRocm93IG5ldyB4b31maW5hbGx5e28uYWJvcnQoKTt9cmV0dXJuIGV9YXN5bmMgZnVuY3Rpb24gWjAodCl7dCE9bnVsbCYmeXIodCxcIm9wdGlvbnNcIiksdD8uc2lnbmFsIT1udWxsJiZncih0LnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpO2xldCBlPVtdO2ZvciBhd2FpdChsZXQgaSBvZiB0aGlzKXt2YXIgcjtpZih0IT1udWxsJiYocj10LnNpZ25hbCkhPT1udWxsJiZyIT09dm9pZCAwJiZyLmFib3J0ZWQpdGhyb3cgbmV3IHN0KHZvaWQgMCx7Y2F1c2U6dC5zaWduYWwucmVhc29ufSk7VzAoZSxpKTt9cmV0dXJuIGV9ZnVuY3Rpb24gZW0odCxlKXtsZXQgcj1Ubi5jYWxsKHRoaXMsdCxlKTtyZXR1cm4gYXN5bmMgZnVuY3Rpb24qKCl7Zm9yIGF3YWl0KGxldCBuIG9mIHIpeWllbGQqbjt9LmNhbGwodGhpcyl9ZnVuY3Rpb24gR2godCl7aWYodD1IMCh0KSxWMCh0KSlyZXR1cm4gMDtpZih0PDApdGhyb3cgbmV3IE0wKFwibnVtYmVyXCIsXCI+PSAwXCIsdCk7cmV0dXJuIHR9ZnVuY3Rpb24gdG0odCxlPXZvaWQgMCl7cmV0dXJuIGUhPW51bGwmJnlyKGUsXCJvcHRpb25zXCIpLGU/LnNpZ25hbCE9bnVsbCYmZ3IoZS5zaWduYWwsXCJvcHRpb25zLnNpZ25hbFwiKSx0PUdoKHQpLGFzeW5jIGZ1bmN0aW9uKigpe3ZhciBpO2lmKGUhPW51bGwmJihpPWUuc2lnbmFsKSE9PW51bGwmJmkhPT12b2lkIDAmJmkuYWJvcnRlZCl0aHJvdyBuZXcgc3Q7Zm9yIGF3YWl0KGxldCBvIG9mIHRoaXMpe3ZhciBuO2lmKGUhPW51bGwmJihuPWUuc2lnbmFsKSE9PW51bGwmJm4hPT12b2lkIDAmJm4uYWJvcnRlZCl0aHJvdyBuZXcgc3Q7dC0tPD0wJiYoeWllbGQgbyk7fX0uY2FsbCh0aGlzKX1mdW5jdGlvbiBybSh0LGU9dm9pZCAwKXtyZXR1cm4gZSE9bnVsbCYmeXIoZSxcIm9wdGlvbnNcIiksZT8uc2lnbmFsIT1udWxsJiZncihlLnNpZ25hbCxcIm9wdGlvbnMuc2lnbmFsXCIpLHQ9R2godCksYXN5bmMgZnVuY3Rpb24qKCl7dmFyIGk7aWYoZSE9bnVsbCYmKGk9ZS5zaWduYWwpIT09bnVsbCYmaSE9PXZvaWQgMCYmaS5hYm9ydGVkKXRocm93IG5ldyBzdDtmb3IgYXdhaXQobGV0IG8gb2YgdGhpcyl7dmFyIG47aWYoZSE9bnVsbCYmKG49ZS5zaWduYWwpIT09bnVsbCYmbiE9PXZvaWQgMCYmbi5hYm9ydGVkKXRocm93IG5ldyBzdDtpZih0LS0gPjApeWllbGQgbztlbHNlIHJldHVybn19LmNhbGwodGhpcyl9TG8uZXhwb3J0cy5zdHJlYW1SZXR1cm5pbmdPcGVyYXRvcnM9e2FzSW5kZXhlZFBhaXJzOkcwLGRyb3A6dG0sZmlsdGVyOk1vLGZsYXRNYXA6ZW0sbWFwOlRuLHRha2U6cm0sY29tcG9zZTpLMH07TG8uZXhwb3J0cy5wcm9taXNlUmV0dXJuaW5nT3BlcmF0b3JzPXtldmVyeTpRMCxmb3JFYWNoOkowLHJlZHVjZTpYMCx0b0FycmF5OlowLHNvbWU6S2gsZmluZDpZMH07fSk7dmFyIFVvPU0oKFVDLFloKT0+e18oKTt2KCk7bSgpO3ZhcntBcnJheVByb3RvdHlwZVBvcDppbSxQcm9taXNlOm5tfT1jZSgpLHtpc0l0ZXJhYmxlOnNtLGlzTm9kZVN0cmVhbTpvbSxpc1dlYlN0cmVhbTphbX09dHQoKSx7cGlwZWxpbmVJbXBsOmxtfT1FbigpLHtmaW5pc2hlZDp1bX09dnQoKTtObygpO2Z1bmN0aW9uIGZtKC4uLnQpe3JldHVybiBuZXcgbm0oKGUscik9PntsZXQgaSxuLG89dFt0Lmxlbmd0aC0xXTtpZihvJiZ0eXBlb2Ygbz09XCJvYmplY3RcIiYmIW9tKG8pJiYhc20obykmJiFhbShvKSl7bGV0IHM9aW0odCk7aT1zLnNpZ25hbCxuPXMuZW5kO31sbSh0LChzLGEpPT57cz9yKHMpOmUoYSk7fSx7c2lnbmFsOmksZW5kOm59KTt9KX1ZaC5leHBvcnRzPXtmaW5pc2hlZDp1bSxwaXBlbGluZTpmbX07fSk7dmFyIE5vPU0oKHpDLHNkKT0+e18oKTt2KCk7bSgpO3ZhcntCdWZmZXI6Y219PShiZSgpLFgobWUpKSx7T2JqZWN0RGVmaW5lUHJvcGVydHk6UnQsT2JqZWN0S2V5czpaaCxSZWZsZWN0QXBwbHk6ZWR9PWNlKCkse3Byb21pc2lmeTp7Y3VzdG9tOnRkfX09SmUoKSx7c3RyZWFtUmV0dXJuaW5nT3BlcmF0b3JzOkpoLHByb21pc2VSZXR1cm5pbmdPcGVyYXRvcnM6WGh9PVFoKCkse2NvZGVzOntFUlJfSUxMRUdBTF9DT05TVFJVQ1RPUjpyZH19PUFlKCksaG09T28oKSx7cGlwZWxpbmU6aWR9PUVuKCkse2Rlc3Ryb3llcjpkbX09aXIoKSxuZD12dCgpLHFvPVVvKCksRG89dHQoKSxsZT1zZC5leHBvcnRzPW5uKCkuU3RyZWFtO2xlLmlzRGlzdHVyYmVkPURvLmlzRGlzdHVyYmVkO2xlLmlzRXJyb3JlZD1Eby5pc0Vycm9yZWQ7bGUuaXNSZWFkYWJsZT1Eby5pc1JlYWRhYmxlO2xlLlJlYWRhYmxlPWdpKCk7Zm9yKGxldCB0IG9mIFpoKEpoKSl7bGV0IHI9ZnVuY3Rpb24oLi4uaSl7aWYobmV3LnRhcmdldCl0aHJvdyByZCgpO3JldHVybiBsZS5SZWFkYWJsZS5mcm9tKGVkKGUsdGhpcyxpKSl9O2xldCBlPUpoW3RdO1J0KHIsXCJuYW1lXCIse19fcHJvdG9fXzpudWxsLHZhbHVlOmUubmFtZX0pLFJ0KHIsXCJsZW5ndGhcIix7X19wcm90b19fOm51bGwsdmFsdWU6ZS5sZW5ndGh9KSxSdChsZS5SZWFkYWJsZS5wcm90b3R5cGUsdCx7X19wcm90b19fOm51bGwsdmFsdWU6cixlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO31mb3IobGV0IHQgb2YgWmgoWGgpKXtsZXQgcj1mdW5jdGlvbiguLi5uKXtpZihuZXcudGFyZ2V0KXRocm93IHJkKCk7cmV0dXJuIGVkKGUsdGhpcyxuKX07bGV0IGU9WGhbdF07UnQocixcIm5hbWVcIix7X19wcm90b19fOm51bGwsdmFsdWU6ZS5uYW1lfSksUnQocixcImxlbmd0aFwiLHtfX3Byb3RvX186bnVsbCx2YWx1ZTplLmxlbmd0aH0pLFJ0KGxlLlJlYWRhYmxlLnByb3RvdHlwZSx0LHtfX3Byb3RvX186bnVsbCx2YWx1ZTpyLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk7fWxlLldyaXRhYmxlPWhvKCk7bGUuRHVwbGV4PW50KCk7bGUuVHJhbnNmb3JtPW1vKCk7bGUuUGFzc1Rocm91Z2g9RW8oKTtsZS5waXBlbGluZT1pZDt2YXJ7YWRkQWJvcnRTaWduYWw6cG19PWRpKCk7bGUuYWRkQWJvcnRTaWduYWw9cG07bGUuZmluaXNoZWQ9bmQ7bGUuZGVzdHJveT1kbTtsZS5jb21wb3NlPWhtO1J0KGxlLFwicHJvbWlzZXNcIix7X19wcm90b19fOm51bGwsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0KCl7cmV0dXJuIHFvfX0pO1J0KGlkLHRkLHtfX3Byb3RvX186bnVsbCxlbnVtZXJhYmxlOiEwLGdldCgpe3JldHVybiBxby5waXBlbGluZX19KTtSdChuZCx0ZCx7X19wcm90b19fOm51bGwsZW51bWVyYWJsZTohMCxnZXQoKXtyZXR1cm4gcW8uZmluaXNoZWR9fSk7bGUuU3RyZWFtPWxlO2xlLl9pc1VpbnQ4QXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVaW50OEFycmF5fTtsZS5fdWludDhBcnJheVRvQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiBjbS5mcm9tKGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfTt9KTt2YXIganQ9TSgockIsdWUpPT57XygpO3YoKTttKCk7dmFyIGhlPU5vKCksZ209VW8oKSx5bT1oZS5SZWFkYWJsZS5kZXN0cm95O3VlLmV4cG9ydHM9aGUuUmVhZGFibGU7dWUuZXhwb3J0cy5fdWludDhBcnJheVRvQnVmZmVyPWhlLl91aW50OEFycmF5VG9CdWZmZXI7dWUuZXhwb3J0cy5faXNVaW50OEFycmF5PWhlLl9pc1VpbnQ4QXJyYXk7dWUuZXhwb3J0cy5pc0Rpc3R1cmJlZD1oZS5pc0Rpc3R1cmJlZDt1ZS5leHBvcnRzLmlzRXJyb3JlZD1oZS5pc0Vycm9yZWQ7dWUuZXhwb3J0cy5pc1JlYWRhYmxlPWhlLmlzUmVhZGFibGU7dWUuZXhwb3J0cy5SZWFkYWJsZT1oZS5SZWFkYWJsZTt1ZS5leHBvcnRzLldyaXRhYmxlPWhlLldyaXRhYmxlO3VlLmV4cG9ydHMuRHVwbGV4PWhlLkR1cGxleDt1ZS5leHBvcnRzLlRyYW5zZm9ybT1oZS5UcmFuc2Zvcm07dWUuZXhwb3J0cy5QYXNzVGhyb3VnaD1oZS5QYXNzVGhyb3VnaDt1ZS5leHBvcnRzLmFkZEFib3J0U2lnbmFsPWhlLmFkZEFib3J0U2lnbmFsO3VlLmV4cG9ydHMuZmluaXNoZWQ9aGUuZmluaXNoZWQ7dWUuZXhwb3J0cy5kZXN0cm95PWhlLmRlc3Ryb3k7dWUuZXhwb3J0cy5kZXN0cm95PXltO3VlLmV4cG9ydHMucGlwZWxpbmU9aGUucGlwZWxpbmU7dWUuZXhwb3J0cy5jb21wb3NlPWhlLmNvbXBvc2U7T2JqZWN0LmRlZmluZVByb3BlcnR5KGhlLFwicHJvbWlzZXNcIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0KCl7cmV0dXJuIGdtfX0pO3VlLmV4cG9ydHMuU3RyZWFtPWhlLlN0cmVhbTt1ZS5leHBvcnRzLmRlZmF1bHQ9dWUuZXhwb3J0czt9KTt2YXIgb2Q9TSgoaEIsRm8pPT57XygpO3YoKTttKCk7dHlwZW9mIE9iamVjdC5jcmVhdGU9PVwiZnVuY3Rpb25cIj9Gby5leHBvcnRzPWZ1bmN0aW9uKGUscil7ciYmKGUuc3VwZXJfPXIsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpO306Rm8uZXhwb3J0cz1mdW5jdGlvbihlLHIpe2lmKHIpe2Uuc3VwZXJfPXI7dmFyIGk9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlPXIucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7fX07fSk7dmFyIHVkPU0oKEVCLGxkKT0+e18oKTt2KCk7bSgpO3ZhcntCdWZmZXI6emV9PShiZSgpLFgobWUpKSxhZD1TeW1ib2wuZm9yKFwiQnVmZmVyTGlzdFwiKTtmdW5jdGlvbiBlZSh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBlZSkpcmV0dXJuIG5ldyBlZSh0KTtlZS5faW5pdC5jYWxsKHRoaXMsdCk7fWVlLl9pbml0PWZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGFkLHt2YWx1ZTohMH0pLHRoaXMuX2J1ZnM9W10sdGhpcy5sZW5ndGg9MCxlJiZ0aGlzLmFwcGVuZChlKTt9O2VlLnByb3RvdHlwZS5fbmV3PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZWUoZSl9O2VlLnByb3RvdHlwZS5fb2Zmc2V0PWZ1bmN0aW9uKGUpe2lmKGU9PT0wKXJldHVybiBbMCwwXTtsZXQgcj0wO2ZvcihsZXQgaT0wO2k8dGhpcy5fYnVmcy5sZW5ndGg7aSsrKXtsZXQgbj1yK3RoaXMuX2J1ZnNbaV0ubGVuZ3RoO2lmKGU8bnx8aT09PXRoaXMuX2J1ZnMubGVuZ3RoLTEpcmV0dXJuIFtpLGUtcl07cj1uO319O2VlLnByb3RvdHlwZS5fcmV2ZXJzZU9mZnNldD1mdW5jdGlvbih0KXtsZXQgZT10WzBdLHI9dFsxXTtmb3IobGV0IGk9MDtpPGU7aSsrKXIrPXRoaXMuX2J1ZnNbaV0ubGVuZ3RoO3JldHVybiByfTtlZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2lmKGU+dGhpcy5sZW5ndGh8fGU8MClyZXR1cm47bGV0IHI9dGhpcy5fb2Zmc2V0KGUpO3JldHVybiB0aGlzLl9idWZzW3JbMF1dW3JbMV1dfTtlZS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdHlwZW9mIGU9PVwibnVtYmVyXCImJmU8MCYmKGUrPXRoaXMubGVuZ3RoKSx0eXBlb2Ygcj09XCJudW1iZXJcIiYmcjwwJiYocis9dGhpcy5sZW5ndGgpLHRoaXMuY29weShudWxsLDAsZSxyKX07ZWUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSxyLGksbil7aWYoKHR5cGVvZiBpIT1cIm51bWJlclwifHxpPDApJiYoaT0wKSwodHlwZW9mIG4hPVwibnVtYmVyXCJ8fG4+dGhpcy5sZW5ndGgpJiYobj10aGlzLmxlbmd0aCksaT49dGhpcy5sZW5ndGh8fG48PTApcmV0dXJuIGV8fHplLmFsbG9jKDApO2xldCBvPSEhZSxzPXRoaXMuX29mZnNldChpKSxhPW4taSxsPWEsYz1vJiZyfHwwLGg9c1sxXTtpZihpPT09MCYmbj09PXRoaXMubGVuZ3RoKXtpZighbylyZXR1cm4gdGhpcy5fYnVmcy5sZW5ndGg9PT0xP3RoaXMuX2J1ZnNbMF06emUuY29uY2F0KHRoaXMuX2J1ZnMsdGhpcy5sZW5ndGgpO2ZvcihsZXQgZD0wO2Q8dGhpcy5fYnVmcy5sZW5ndGg7ZCsrKXRoaXMuX2J1ZnNbZF0uY29weShlLGMpLGMrPXRoaXMuX2J1ZnNbZF0ubGVuZ3RoO3JldHVybiBlfWlmKGw8PXRoaXMuX2J1ZnNbc1swXV0ubGVuZ3RoLWgpcmV0dXJuIG8/dGhpcy5fYnVmc1tzWzBdXS5jb3B5KGUscixoLGgrbCk6dGhpcy5fYnVmc1tzWzBdXS5zbGljZShoLGgrbCk7b3x8KGU9emUuYWxsb2NVbnNhZmUoYSkpO2ZvcihsZXQgZD1zWzBdO2Q8dGhpcy5fYnVmcy5sZW5ndGg7ZCsrKXtsZXQgZz10aGlzLl9idWZzW2RdLmxlbmd0aC1oO2lmKGw+Zyl0aGlzLl9idWZzW2RdLmNvcHkoZSxjLGgpLGMrPWc7ZWxzZSB7dGhpcy5fYnVmc1tkXS5jb3B5KGUsYyxoLGgrbCksYys9ZzticmVha31sLT1nLGgmJihoPTApO31yZXR1cm4gZS5sZW5ndGg+Yz9lLnNsaWNlKDAsYyk6ZX07ZWUucHJvdG90eXBlLnNoYWxsb3dTbGljZT1mdW5jdGlvbihlLHIpe2lmKGU9ZXx8MCxyPXR5cGVvZiByIT1cIm51bWJlclwiP3RoaXMubGVuZ3RoOnIsZTwwJiYoZSs9dGhpcy5sZW5ndGgpLHI8MCYmKHIrPXRoaXMubGVuZ3RoKSxlPT09cilyZXR1cm4gdGhpcy5fbmV3KCk7bGV0IGk9dGhpcy5fb2Zmc2V0KGUpLG49dGhpcy5fb2Zmc2V0KHIpLG89dGhpcy5fYnVmcy5zbGljZShpWzBdLG5bMF0rMSk7cmV0dXJuIG5bMV09PT0wP28ucG9wKCk6b1tvLmxlbmd0aC0xXT1vW28ubGVuZ3RoLTFdLnNsaWNlKDAsblsxXSksaVsxXSE9PTAmJihvWzBdPW9bMF0uc2xpY2UoaVsxXSkpLHRoaXMuX25ldyhvKX07ZWUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGUscixpKXtyZXR1cm4gdGhpcy5zbGljZShyLGkpLnRvU3RyaW5nKGUpfTtlZS5wcm90b3R5cGUuY29uc3VtZT1mdW5jdGlvbihlKXtpZihlPU1hdGgudHJ1bmMoZSksTnVtYmVyLmlzTmFOKGUpfHxlPD0wKXJldHVybiB0aGlzO2Zvcig7dGhpcy5fYnVmcy5sZW5ndGg7KWlmKGU+PXRoaXMuX2J1ZnNbMF0ubGVuZ3RoKWUtPXRoaXMuX2J1ZnNbMF0ubGVuZ3RoLHRoaXMubGVuZ3RoLT10aGlzLl9idWZzWzBdLmxlbmd0aCx0aGlzLl9idWZzLnNoaWZ0KCk7ZWxzZSB7dGhpcy5fYnVmc1swXT10aGlzLl9idWZzWzBdLnNsaWNlKGUpLHRoaXMubGVuZ3RoLT1lO2JyZWFrfXJldHVybiB0aGlzfTtlZS5wcm90b3R5cGUuZHVwbGljYXRlPWZ1bmN0aW9uKCl7bGV0IGU9dGhpcy5fbmV3KCk7Zm9yKGxldCByPTA7cjx0aGlzLl9idWZzLmxlbmd0aDtyKyspZS5hcHBlbmQodGhpcy5fYnVmc1tyXSk7cmV0dXJuIGV9O2VlLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7aWYoZT09bnVsbClyZXR1cm4gdGhpcztpZihlLmJ1ZmZlcil0aGlzLl9hcHBlbmRCdWZmZXIoemUuZnJvbShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKWZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXRoaXMuYXBwZW5kKGVbcl0pO2Vsc2UgaWYodGhpcy5faXNCdWZmZXJMaXN0KGUpKWZvcihsZXQgcj0wO3I8ZS5fYnVmcy5sZW5ndGg7cisrKXRoaXMuYXBwZW5kKGUuX2J1ZnNbcl0pO2Vsc2UgdHlwZW9mIGU9PVwibnVtYmVyXCImJihlPWUudG9TdHJpbmcoKSksdGhpcy5fYXBwZW5kQnVmZmVyKHplLmZyb20oZSkpO3JldHVybiB0aGlzfTtlZS5wcm90b3R5cGUuX2FwcGVuZEJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl9idWZzLnB1c2goZSksdGhpcy5sZW5ndGgrPWUubGVuZ3RoO307ZWUucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCxlLHIpe2lmKHI9PT12b2lkIDAmJnR5cGVvZiBlPT1cInN0cmluZ1wiJiYocj1lLGU9dm9pZCAwKSx0eXBlb2YgdD09XCJmdW5jdGlvblwifHxBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQnVmZmVyTGlzdCwgb3IgVWludDhBcnJheS4nKTtpZih0eXBlb2YgdD09XCJudW1iZXJcIj90PXplLmZyb20oW3RdKTp0eXBlb2YgdD09XCJzdHJpbmdcIj90PXplLmZyb20odCxyKTp0aGlzLl9pc0J1ZmZlckxpc3QodCk/dD10LnNsaWNlKCk6QXJyYXkuaXNBcnJheSh0LmJ1ZmZlcik/dD16ZS5mcm9tKHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpOnplLmlzQnVmZmVyKHQpfHwodD16ZS5mcm9tKHQpKSxlPU51bWJlcihlfHwwKSxpc05hTihlKSYmKGU9MCksZTwwJiYoZT10aGlzLmxlbmd0aCtlKSxlPDAmJihlPTApLHQubGVuZ3RoPT09MClyZXR1cm4gZT50aGlzLmxlbmd0aD90aGlzLmxlbmd0aDplO2xldCBpPXRoaXMuX29mZnNldChlKSxuPWlbMF0sbz1pWzFdO2Zvcig7bjx0aGlzLl9idWZzLmxlbmd0aDtuKyspe2xldCBzPXRoaXMuX2J1ZnNbbl07Zm9yKDtvPHMubGVuZ3RoOylpZihzLmxlbmd0aC1vPj10Lmxlbmd0aCl7bGV0IGw9cy5pbmRleE9mKHQsbyk7aWYobCE9PS0xKXJldHVybiB0aGlzLl9yZXZlcnNlT2Zmc2V0KFtuLGxdKTtvPXMubGVuZ3RoLXQubGVuZ3RoKzE7fWVsc2Uge2xldCBsPXRoaXMuX3JldmVyc2VPZmZzZXQoW24sb10pO2lmKHRoaXMuX21hdGNoKGwsdCkpcmV0dXJuIGw7bysrO31vPTA7fXJldHVybiAtMX07ZWUucHJvdG90eXBlLl9tYXRjaD1mdW5jdGlvbih0LGUpe2lmKHRoaXMubGVuZ3RoLXQ8ZS5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKHRoaXMuZ2V0KHQrcikhPT1lW3JdKXJldHVybiAhMTtyZXR1cm4gITB9OyhmdW5jdGlvbigpe2xldCB0PXtyZWFkRG91YmxlQkU6OCxyZWFkRG91YmxlTEU6OCxyZWFkRmxvYXRCRTo0LHJlYWRGbG9hdExFOjQscmVhZEJpZ0ludDY0QkU6OCxyZWFkQmlnSW50NjRMRTo4LHJlYWRCaWdVSW50NjRCRTo4LHJlYWRCaWdVSW50NjRMRTo4LHJlYWRJbnQzMkJFOjQscmVhZEludDMyTEU6NCxyZWFkVUludDMyQkU6NCxyZWFkVUludDMyTEU6NCxyZWFkSW50MTZCRToyLHJlYWRJbnQxNkxFOjIscmVhZFVJbnQxNkJFOjIscmVhZFVJbnQxNkxFOjIscmVhZEludDg6MSxyZWFkVUludDg6MSxyZWFkSW50QkU6bnVsbCxyZWFkSW50TEU6bnVsbCxyZWFkVUludEJFOm51bGwscmVhZFVJbnRMRTpudWxsfTtmb3IobGV0IGUgaW4gdCkoZnVuY3Rpb24ocil7dFtyXT09PW51bGw/ZWUucHJvdG90eXBlW3JdPWZ1bmN0aW9uKGksbil7cmV0dXJuIHRoaXMuc2xpY2UoaSxpK24pW3JdKDAsbil9OmVlLnByb3RvdHlwZVtyXT1mdW5jdGlvbihpPTApe3JldHVybiB0aGlzLnNsaWNlKGksaSt0W3JdKVtyXSgwKX07fSkoZSk7fSkoKTtlZS5wcm90b3R5cGUuX2lzQnVmZmVyTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGVlfHxlZS5pc0J1ZmZlckxpc3QoZSl9O2VlLmlzQnVmZmVyTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4gZSE9bnVsbCYmZVthZF19O2xkLmV4cG9ydHM9ZWU7fSk7dmFyIGZkPU0oKE9CLFJuKT0+e18oKTt2KCk7bSgpO3ZhciBXbz1qdCgpLkR1cGxleCxibT1vZCgpLEVpPXVkKCk7ZnVuY3Rpb24gU2UodCl7aWYoISh0aGlzIGluc3RhbmNlb2YgU2UpKXJldHVybiBuZXcgU2UodCk7aWYodHlwZW9mIHQ9PVwiZnVuY3Rpb25cIil7dGhpcy5fY2FsbGJhY2s9dDtsZXQgZT1mdW5jdGlvbihpKXt0aGlzLl9jYWxsYmFjayYmKHRoaXMuX2NhbGxiYWNrKGkpLHRoaXMuX2NhbGxiYWNrPW51bGwpO30uYmluZCh0aGlzKTt0aGlzLm9uKFwicGlwZVwiLGZ1bmN0aW9uKGkpe2kub24oXCJlcnJvclwiLGUpO30pLHRoaXMub24oXCJ1bnBpcGVcIixmdW5jdGlvbihpKXtpLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixlKTt9KSx0PW51bGw7fUVpLl9pbml0LmNhbGwodGhpcyx0KSxXby5jYWxsKHRoaXMpO31ibShTZSxXbyk7T2JqZWN0LmFzc2lnbihTZS5wcm90b3R5cGUsRWkucHJvdG90eXBlKTtTZS5wcm90b3R5cGUuX25ldz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFNlKGUpfTtTZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGUscixpKXt0aGlzLl9hcHBlbmRCdWZmZXIoZSksdHlwZW9mIGk9PVwiZnVuY3Rpb25cIiYmaSgpO307U2UucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5wdXNoKG51bGwpO2U9TWF0aC5taW4oZSx0aGlzLmxlbmd0aCksdGhpcy5wdXNoKHRoaXMuc2xpY2UoMCxlKSksdGhpcy5jb25zdW1lKGUpO307U2UucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlKXtXby5wcm90b3R5cGUuZW5kLmNhbGwodGhpcyxlKSx0aGlzLl9jYWxsYmFjayYmKHRoaXMuX2NhbGxiYWNrKG51bGwsdGhpcy5zbGljZSgpKSx0aGlzLl9jYWxsYmFjaz1udWxsKTt9O1NlLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlLHIpe3RoaXMuX2J1ZnMubGVuZ3RoPTAsdGhpcy5sZW5ndGg9MCxyKGUpO307U2UucHJvdG90eXBlLl9pc0J1ZmZlckxpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBTZXx8ZSBpbnN0YW5jZW9mIEVpfHxTZS5pc0J1ZmZlckxpc3QoZSl9O1NlLmlzQnVmZmVyTGlzdD1FaS5pc0J1ZmZlckxpc3Q7Um4uZXhwb3J0cz1TZTtSbi5leHBvcnRzLkJ1ZmZlckxpc3RTdHJlYW09U2U7Um4uZXhwb3J0cy5CdWZmZXJMaXN0PUVpO30pO3ZhciBoZD1NKChXQixjZCk9PntfKCk7digpO20oKTt2YXIgJG89Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmNtZD1udWxsLHRoaXMucmV0YWluPSExLHRoaXMucW9zPTAsdGhpcy5kdXA9ITEsdGhpcy5sZW5ndGg9LTEsdGhpcy50b3BpYz1udWxsLHRoaXMucGF5bG9hZD1udWxsO319O2NkLmV4cG9ydHM9JG87fSk7dmFyIEhvPU0oKFhCLGRkKT0+e18oKTt2KCk7bSgpO3ZhciBMPWRkLmV4cG9ydHMse0J1ZmZlcjprZX09KGJlKCksWChtZSkpO0wudHlwZXM9ezA6XCJyZXNlcnZlZFwiLDE6XCJjb25uZWN0XCIsMjpcImNvbm5hY2tcIiwzOlwicHVibGlzaFwiLDQ6XCJwdWJhY2tcIiw1OlwicHVicmVjXCIsNjpcInB1YnJlbFwiLDc6XCJwdWJjb21wXCIsODpcInN1YnNjcmliZVwiLDk6XCJzdWJhY2tcIiwxMDpcInVuc3Vic2NyaWJlXCIsMTE6XCJ1bnN1YmFja1wiLDEyOlwicGluZ3JlcVwiLDEzOlwicGluZ3Jlc3BcIiwxNDpcImRpc2Nvbm5lY3RcIiwxNTpcImF1dGhcIn07TC5yZXF1aXJlZEhlYWRlckZsYWdzPXsxOjAsMjowLDQ6MCw1OjAsNjoyLDc6MCw4OjIsOTowLDEwOjIsMTE6MCwxMjowLDEzOjAsMTQ6MCwxNTowfTtMLnJlcXVpcmVkSGVhZGVyRmxhZ3NFcnJvcnM9e307Zm9yKGxldCB0IGluIEwucmVxdWlyZWRIZWFkZXJGbGFncyl7bGV0IGU9TC5yZXF1aXJlZEhlYWRlckZsYWdzW3RdO0wucmVxdWlyZWRIZWFkZXJGbGFnc0Vycm9yc1t0XT1cIkludmFsaWQgaGVhZGVyIGZsYWcgYml0cywgbXVzdCBiZSAweFwiK2UudG9TdHJpbmcoMTYpK1wiIGZvciBcIitMLnR5cGVzW3RdK1wiIHBhY2tldFwiO31MLmNvZGVzPXt9O2ZvcihsZXQgdCBpbiBMLnR5cGVzKXtsZXQgZT1MLnR5cGVzW3RdO0wuY29kZXNbZV09dDt9TC5DTURfU0hJRlQ9NDtMLkNNRF9NQVNLPTI0MDtMLkRVUF9NQVNLPTg7TC5RT1NfTUFTSz0zO0wuUU9TX1NISUZUPTE7TC5SRVRBSU5fTUFTSz0xO0wuVkFSQllURUlOVF9NQVNLPTEyNztMLlZBUkJZVEVJTlRfRklOX01BU0s9MTI4O0wuVkFSQllURUlOVF9NQVg9MjY4NDM1NDU1O0wuU0VTU0lPTlBSRVNFTlRfTUFTSz0xO0wuU0VTU0lPTlBSRVNFTlRfSEVBREVSPWtlLmZyb20oW0wuU0VTU0lPTlBSRVNFTlRfTUFTS10pO0wuQ09OTkFDS19IRUFERVI9a2UuZnJvbShbTC5jb2Rlcy5jb25uYWNrPDxMLkNNRF9TSElGVF0pO0wuVVNFUk5BTUVfTUFTSz0xMjg7TC5QQVNTV09SRF9NQVNLPTY0O0wuV0lMTF9SRVRBSU5fTUFTSz0zMjtMLldJTExfUU9TX01BU0s9MjQ7TC5XSUxMX1FPU19TSElGVD0zO0wuV0lMTF9GTEFHX01BU0s9NDtMLkNMRUFOX1NFU1NJT05fTUFTSz0yO0wuQ09OTkVDVF9IRUFERVI9a2UuZnJvbShbTC5jb2Rlcy5jb25uZWN0PDxMLkNNRF9TSElGVF0pO0wucHJvcGVydGllcz17c2Vzc2lvbkV4cGlyeUludGVydmFsOjE3LHdpbGxEZWxheUludGVydmFsOjI0LHJlY2VpdmVNYXhpbXVtOjMzLG1heGltdW1QYWNrZXRTaXplOjM5LHRvcGljQWxpYXNNYXhpbXVtOjM0LHJlcXVlc3RSZXNwb25zZUluZm9ybWF0aW9uOjI1LHJlcXVlc3RQcm9ibGVtSW5mb3JtYXRpb246MjMsdXNlclByb3BlcnRpZXM6MzgsYXV0aGVudGljYXRpb25NZXRob2Q6MjEsYXV0aGVudGljYXRpb25EYXRhOjIyLHBheWxvYWRGb3JtYXRJbmRpY2F0b3I6MSxtZXNzYWdlRXhwaXJ5SW50ZXJ2YWw6Mixjb250ZW50VHlwZTozLHJlc3BvbnNlVG9waWM6OCxjb3JyZWxhdGlvbkRhdGE6OSxtYXhpbXVtUW9TOjM2LHJldGFpbkF2YWlsYWJsZTozNyxhc3NpZ25lZENsaWVudElkZW50aWZpZXI6MTgscmVhc29uU3RyaW5nOjMxLHdpbGRjYXJkU3Vic2NyaXB0aW9uQXZhaWxhYmxlOjQwLHN1YnNjcmlwdGlvbklkZW50aWZpZXJzQXZhaWxhYmxlOjQxLHNoYXJlZFN1YnNjcmlwdGlvbkF2YWlsYWJsZTo0MixzZXJ2ZXJLZWVwQWxpdmU6MTkscmVzcG9uc2VJbmZvcm1hdGlvbjoyNixzZXJ2ZXJSZWZlcmVuY2U6MjgsdG9waWNBbGlhczozNSxzdWJzY3JpcHRpb25JZGVudGlmaWVyOjExfTtMLnByb3BlcnRpZXNDb2Rlcz17fTtmb3IobGV0IHQgaW4gTC5wcm9wZXJ0aWVzKXtsZXQgZT1MLnByb3BlcnRpZXNbdF07TC5wcm9wZXJ0aWVzQ29kZXNbZV09dDt9TC5wcm9wZXJ0aWVzVHlwZXM9e3Nlc3Npb25FeHBpcnlJbnRlcnZhbDpcImludDMyXCIsd2lsbERlbGF5SW50ZXJ2YWw6XCJpbnQzMlwiLHJlY2VpdmVNYXhpbXVtOlwiaW50MTZcIixtYXhpbXVtUGFja2V0U2l6ZTpcImludDMyXCIsdG9waWNBbGlhc01heGltdW06XCJpbnQxNlwiLHJlcXVlc3RSZXNwb25zZUluZm9ybWF0aW9uOlwiYnl0ZVwiLHJlcXVlc3RQcm9ibGVtSW5mb3JtYXRpb246XCJieXRlXCIsdXNlclByb3BlcnRpZXM6XCJwYWlyXCIsYXV0aGVudGljYXRpb25NZXRob2Q6XCJzdHJpbmdcIixhdXRoZW50aWNhdGlvbkRhdGE6XCJiaW5hcnlcIixwYXlsb2FkRm9ybWF0SW5kaWNhdG9yOlwiYnl0ZVwiLG1lc3NhZ2VFeHBpcnlJbnRlcnZhbDpcImludDMyXCIsY29udGVudFR5cGU6XCJzdHJpbmdcIixyZXNwb25zZVRvcGljOlwic3RyaW5nXCIsY29ycmVsYXRpb25EYXRhOlwiYmluYXJ5XCIsbWF4aW11bVFvUzpcImludDhcIixyZXRhaW5BdmFpbGFibGU6XCJieXRlXCIsYXNzaWduZWRDbGllbnRJZGVudGlmaWVyOlwic3RyaW5nXCIscmVhc29uU3RyaW5nOlwic3RyaW5nXCIsd2lsZGNhcmRTdWJzY3JpcHRpb25BdmFpbGFibGU6XCJieXRlXCIsc3Vic2NyaXB0aW9uSWRlbnRpZmllcnNBdmFpbGFibGU6XCJieXRlXCIsc2hhcmVkU3Vic2NyaXB0aW9uQXZhaWxhYmxlOlwiYnl0ZVwiLHNlcnZlcktlZXBBbGl2ZTpcImludDE2XCIscmVzcG9uc2VJbmZvcm1hdGlvbjpcInN0cmluZ1wiLHNlcnZlclJlZmVyZW5jZTpcInN0cmluZ1wiLHRvcGljQWxpYXM6XCJpbnQxNlwiLHN1YnNjcmlwdGlvbklkZW50aWZpZXI6XCJ2YXJcIn07ZnVuY3Rpb24gRnQodCl7cmV0dXJuIFswLDEsMl0ubWFwKGU9PlswLDFdLm1hcChyPT5bMCwxXS5tYXAoaT0+e2xldCBuPWtlLmFsbG9jKDEpO3JldHVybiBuLndyaXRlVUludDgoTC5jb2Rlc1t0XTw8TC5DTURfU0hJRlR8KHI/TC5EVVBfTUFTSzowKXxlPDxMLlFPU19TSElGVHxpLDAsITApLG59KSkpfUwuUFVCTElTSF9IRUFERVI9RnQoXCJwdWJsaXNoXCIpO0wuU1VCU0NSSUJFX0hFQURFUj1GdChcInN1YnNjcmliZVwiKTtMLlNVQlNDUklCRV9PUFRJT05TX1FPU19NQVNLPTM7TC5TVUJTQ1JJQkVfT1BUSU9OU19OTF9NQVNLPTE7TC5TVUJTQ1JJQkVfT1BUSU9OU19OTF9TSElGVD0yO0wuU1VCU0NSSUJFX09QVElPTlNfUkFQX01BU0s9MTtMLlNVQlNDUklCRV9PUFRJT05TX1JBUF9TSElGVD0zO0wuU1VCU0NSSUJFX09QVElPTlNfUkhfTUFTSz0zO0wuU1VCU0NSSUJFX09QVElPTlNfUkhfU0hJRlQ9NDtMLlNVQlNDUklCRV9PUFRJT05TX1JIPVswLDE2LDMyXTtMLlNVQlNDUklCRV9PUFRJT05TX05MPTQ7TC5TVUJTQ1JJQkVfT1BUSU9OU19SQVA9ODtMLlNVQlNDUklCRV9PUFRJT05TX1FPUz1bMCwxLDJdO0wuVU5TVUJTQ1JJQkVfSEVBREVSPUZ0KFwidW5zdWJzY3JpYmVcIik7TC5BQ0tTPXt1bnN1YmFjazpGdChcInVuc3ViYWNrXCIpLHB1YmFjazpGdChcInB1YmFja1wiKSxwdWJjb21wOkZ0KFwicHViY29tcFwiKSxwdWJyZWw6RnQoXCJwdWJyZWxcIikscHVicmVjOkZ0KFwicHVicmVjXCIpfTtMLlNVQkFDS19IRUFERVI9a2UuZnJvbShbTC5jb2Rlcy5zdWJhY2s8PEwuQ01EX1NISUZUXSk7TC5WRVJTSU9OMz1rZS5mcm9tKFszXSk7TC5WRVJTSU9OND1rZS5mcm9tKFs0XSk7TC5WRVJTSU9ONT1rZS5mcm9tKFs1XSk7TC5WRVJTSU9OMTMxPWtlLmZyb20oWzEzMV0pO0wuVkVSU0lPTjEzMj1rZS5mcm9tKFsxMzJdKTtMLlFPUz1bMCwxLDJdLm1hcCh0PT5rZS5mcm9tKFt0XSkpO0wuRU1QVFk9e3BpbmdyZXE6a2UuZnJvbShbTC5jb2Rlcy5waW5ncmVxPDw0LDBdKSxwaW5ncmVzcDprZS5mcm9tKFtMLmNvZGVzLnBpbmdyZXNwPDw0LDBdKSxkaXNjb25uZWN0OmtlLmZyb20oW0wuY29kZXMuZGlzY29ubmVjdDw8NCwwXSl9O0wuTVFUVDVfUFVCQUNLX1BVQlJFQ19DT0RFUz17MDpcIlN1Y2Nlc3NcIiwxNjpcIk5vIG1hdGNoaW5nIHN1YnNjcmliZXJzXCIsMTI4OlwiVW5zcGVjaWZpZWQgZXJyb3JcIiwxMzE6XCJJbXBsZW1lbnRhdGlvbiBzcGVjaWZpYyBlcnJvclwiLDEzNTpcIk5vdCBhdXRob3JpemVkXCIsMTQ0OlwiVG9waWMgTmFtZSBpbnZhbGlkXCIsMTQ1OlwiUGFja2V0IGlkZW50aWZpZXIgaW4gdXNlXCIsMTUxOlwiUXVvdGEgZXhjZWVkZWRcIiwxNTM6XCJQYXlsb2FkIGZvcm1hdCBpbnZhbGlkXCJ9O0wuTVFUVDVfUFVCUkVMX1BVQkNPTVBfQ09ERVM9ezA6XCJTdWNjZXNzXCIsMTQ2OlwiUGFja2V0IElkZW50aWZpZXIgbm90IGZvdW5kXCJ9O0wuTVFUVDVfU1VCQUNLX0NPREVTPXswOlwiR3JhbnRlZCBRb1MgMFwiLDE6XCJHcmFudGVkIFFvUyAxXCIsMjpcIkdyYW50ZWQgUW9TIDJcIiwxMjg6XCJVbnNwZWNpZmllZCBlcnJvclwiLDEzMTpcIkltcGxlbWVudGF0aW9uIHNwZWNpZmljIGVycm9yXCIsMTM1OlwiTm90IGF1dGhvcml6ZWRcIiwxNDM6XCJUb3BpYyBGaWx0ZXIgaW52YWxpZFwiLDE0NTpcIlBhY2tldCBJZGVudGlmaWVyIGluIHVzZVwiLDE1MTpcIlF1b3RhIGV4Y2VlZGVkXCIsMTU4OlwiU2hhcmVkIFN1YnNjcmlwdGlvbnMgbm90IHN1cHBvcnRlZFwiLDE2MTpcIlN1YnNjcmlwdGlvbiBJZGVudGlmaWVycyBub3Qgc3VwcG9ydGVkXCIsMTYyOlwiV2lsZGNhcmQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCJ9O0wuTVFUVDVfVU5TVUJBQ0tfQ09ERVM9ezA6XCJTdWNjZXNzXCIsMTc6XCJObyBzdWJzY3JpcHRpb24gZXhpc3RlZFwiLDEyODpcIlVuc3BlY2lmaWVkIGVycm9yXCIsMTMxOlwiSW1wbGVtZW50YXRpb24gc3BlY2lmaWMgZXJyb3JcIiwxMzU6XCJOb3QgYXV0aG9yaXplZFwiLDE0MzpcIlRvcGljIEZpbHRlciBpbnZhbGlkXCIsMTQ1OlwiUGFja2V0IElkZW50aWZpZXIgaW4gdXNlXCJ9O0wuTVFUVDVfRElTQ09OTkVDVF9DT0RFUz17MDpcIk5vcm1hbCBkaXNjb25uZWN0aW9uXCIsNDpcIkRpc2Nvbm5lY3Qgd2l0aCBXaWxsIE1lc3NhZ2VcIiwxMjg6XCJVbnNwZWNpZmllZCBlcnJvclwiLDEyOTpcIk1hbGZvcm1lZCBQYWNrZXRcIiwxMzA6XCJQcm90b2NvbCBFcnJvclwiLDEzMTpcIkltcGxlbWVudGF0aW9uIHNwZWNpZmljIGVycm9yXCIsMTM1OlwiTm90IGF1dGhvcml6ZWRcIiwxMzc6XCJTZXJ2ZXIgYnVzeVwiLDEzOTpcIlNlcnZlciBzaHV0dGluZyBkb3duXCIsMTQxOlwiS2VlcCBBbGl2ZSB0aW1lb3V0XCIsMTQyOlwiU2Vzc2lvbiB0YWtlbiBvdmVyXCIsMTQzOlwiVG9waWMgRmlsdGVyIGludmFsaWRcIiwxNDQ6XCJUb3BpYyBOYW1lIGludmFsaWRcIiwxNDc6XCJSZWNlaXZlIE1heGltdW0gZXhjZWVkZWRcIiwxNDg6XCJUb3BpYyBBbGlhcyBpbnZhbGlkXCIsMTQ5OlwiUGFja2V0IHRvbyBsYXJnZVwiLDE1MDpcIk1lc3NhZ2UgcmF0ZSB0b28gaGlnaFwiLDE1MTpcIlF1b3RhIGV4Y2VlZGVkXCIsMTUyOlwiQWRtaW5pc3RyYXRpdmUgYWN0aW9uXCIsMTUzOlwiUGF5bG9hZCBmb3JtYXQgaW52YWxpZFwiLDE1NDpcIlJldGFpbiBub3Qgc3VwcG9ydGVkXCIsMTU1OlwiUW9TIG5vdCBzdXBwb3J0ZWRcIiwxNTY6XCJVc2UgYW5vdGhlciBzZXJ2ZXJcIiwxNTc6XCJTZXJ2ZXIgbW92ZWRcIiwxNTg6XCJTaGFyZWQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCIsMTU5OlwiQ29ubmVjdGlvbiByYXRlIGV4Y2VlZGVkXCIsMTYwOlwiTWF4aW11bSBjb25uZWN0IHRpbWVcIiwxNjE6XCJTdWJzY3JpcHRpb24gSWRlbnRpZmllcnMgbm90IHN1cHBvcnRlZFwiLDE2MjpcIldpbGRjYXJkIFN1YnNjcmlwdGlvbnMgbm90IHN1cHBvcnRlZFwifTtMLk1RVFQ1X0FVVEhfQ09ERVM9ezA6XCJTdWNjZXNzXCIsMjQ6XCJDb250aW51ZSBhdXRoZW50aWNhdGlvblwiLDI1OlwiUmUtYXV0aGVudGljYXRlXCJ9O30pO3ZhciBnZD1NKChsUCxwZCk9PntfKCk7digpO20oKTt2YXIgS3I9MWUzLEdyPUtyKjYwLFFyPUdyKjYwLGJyPVFyKjI0LHdtPWJyKjcsX209YnIqMzY1LjI1O3BkLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtlPWV8fHt9O3ZhciByPXR5cGVvZiB0O2lmKHI9PT1cInN0cmluZ1wiJiZ0Lmxlbmd0aD4wKXJldHVybiBtbSh0KTtpZihyPT09XCJudW1iZXJcIiYmaXNGaW5pdGUodCkpcmV0dXJuIGUubG9uZz9FbSh0KTp2bSh0KTt0aHJvdyBuZXcgRXJyb3IoXCJ2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPVwiK0pTT04uc3RyaW5naWZ5KHQpKX07ZnVuY3Rpb24gbW0odCl7aWYodD1TdHJpbmcodCksISh0Lmxlbmd0aD4xMDApKXt2YXIgZT0vXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWModCk7aWYoZSl7dmFyIHI9cGFyc2VGbG9hdChlWzFdKSxpPShlWzJdfHxcIm1zXCIpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGkpe2Nhc2VcInllYXJzXCI6Y2FzZVwieWVhclwiOmNhc2VcInlyc1wiOmNhc2VcInlyXCI6Y2FzZVwieVwiOnJldHVybiByKl9tO2Nhc2VcIndlZWtzXCI6Y2FzZVwid2Vla1wiOmNhc2VcIndcIjpyZXR1cm4gcip3bTtjYXNlXCJkYXlzXCI6Y2FzZVwiZGF5XCI6Y2FzZVwiZFwiOnJldHVybiByKmJyO2Nhc2VcImhvdXJzXCI6Y2FzZVwiaG91clwiOmNhc2VcImhyc1wiOmNhc2VcImhyXCI6Y2FzZVwiaFwiOnJldHVybiByKlFyO2Nhc2VcIm1pbnV0ZXNcIjpjYXNlXCJtaW51dGVcIjpjYXNlXCJtaW5zXCI6Y2FzZVwibWluXCI6Y2FzZVwibVwiOnJldHVybiByKkdyO2Nhc2VcInNlY29uZHNcIjpjYXNlXCJzZWNvbmRcIjpjYXNlXCJzZWNzXCI6Y2FzZVwic2VjXCI6Y2FzZVwic1wiOnJldHVybiByKktyO2Nhc2VcIm1pbGxpc2Vjb25kc1wiOmNhc2VcIm1pbGxpc2Vjb25kXCI6Y2FzZVwibXNlY3NcIjpjYXNlXCJtc2VjXCI6Y2FzZVwibXNcIjpyZXR1cm4gcjtkZWZhdWx0OnJldHVybn19fX1mdW5jdGlvbiB2bSh0KXt2YXIgZT1NYXRoLmFicyh0KTtyZXR1cm4gZT49YnI/TWF0aC5yb3VuZCh0L2JyKStcImRcIjplPj1Rcj9NYXRoLnJvdW5kKHQvUXIpK1wiaFwiOmU+PUdyP01hdGgucm91bmQodC9HcikrXCJtXCI6ZT49S3I/TWF0aC5yb3VuZCh0L0tyKStcInNcIjp0K1wibXNcIn1mdW5jdGlvbiBFbSh0KXt2YXIgZT1NYXRoLmFicyh0KTtyZXR1cm4gZT49YnI/Q24odCxlLGJyLFwiZGF5XCIpOmU+PVFyP0NuKHQsZSxRcixcImhvdXJcIik6ZT49R3I/Q24odCxlLEdyLFwibWludXRlXCIpOmU+PUtyP0NuKHQsZSxLcixcInNlY29uZFwiKTp0K1wiIG1zXCJ9ZnVuY3Rpb24gQ24odCxlLHIsaSl7dmFyIG49ZT49cioxLjU7cmV0dXJuIE1hdGgucm91bmQodC9yKStcIiBcIitpKyhuP1wic1wiOlwiXCIpfX0pO3ZhciBiZD1NKCh3UCx5ZCk9PntfKCk7digpO20oKTtmdW5jdGlvbiBTbSh0KXtyLmRlYnVnPXIsci5kZWZhdWx0PXIsci5jb2VyY2U9bCxyLmRpc2FibGU9byxyLmVuYWJsZT1uLHIuZW5hYmxlZD1zLHIuaHVtYW5pemU9Z2QoKSxyLmRlc3Ryb3k9YyxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGg9PntyW2hdPXRbaF07fSksci5uYW1lcz1bXSxyLnNraXBzPVtdLHIuZm9ybWF0dGVycz17fTtmdW5jdGlvbiBlKGgpe2xldCBkPTA7Zm9yKGxldCBnPTA7ZzxoLmxlbmd0aDtnKyspZD0oZDw8NSktZCtoLmNoYXJDb2RlQXQoZyksZHw9MDtyZXR1cm4gci5jb2xvcnNbTWF0aC5hYnMoZCklci5jb2xvcnMubGVuZ3RoXX1yLnNlbGVjdENvbG9yPWU7ZnVuY3Rpb24gcihoKXtsZXQgZCxnPW51bGwseSx3O2Z1bmN0aW9uIFMoLi4uRSl7aWYoIVMuZW5hYmxlZClyZXR1cm47bGV0IEk9UyxDPU51bWJlcihuZXcgRGF0ZSksUj1DLShkfHxDKTtJLmRpZmY9UixJLnByZXY9ZCxJLmN1cnI9QyxkPUMsRVswXT1yLmNvZXJjZShFWzBdKSx0eXBlb2YgRVswXSE9XCJzdHJpbmdcIiYmRS51bnNoaWZ0KFwiJU9cIik7bGV0IFU9MDtFWzBdPUVbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csKFcsSyk9PntpZihXPT09XCIlJVwiKXJldHVybiBcIiVcIjtVKys7bGV0IHo9ci5mb3JtYXR0ZXJzW0tdO2lmKHR5cGVvZiB6PT1cImZ1bmN0aW9uXCIpe2xldCBRPUVbVV07Vz16LmNhbGwoSSxRKSxFLnNwbGljZShVLDEpLFUtLTt9cmV0dXJuIFd9KSxyLmZvcm1hdEFyZ3MuY2FsbChJLEUpLChJLmxvZ3x8ci5sb2cpLmFwcGx5KEksRSk7fXJldHVybiBTLm5hbWVzcGFjZT1oLFMudXNlQ29sb3JzPXIudXNlQ29sb3JzKCksUy5jb2xvcj1yLnNlbGVjdENvbG9yKGgpLFMuZXh0ZW5kPWksUy5kZXN0cm95PXIuZGVzdHJveSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUyxcImVuYWJsZWRcIix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITEsZ2V0OigpPT5nIT09bnVsbD9nOih5IT09ci5uYW1lc3BhY2VzJiYoeT1yLm5hbWVzcGFjZXMsdz1yLmVuYWJsZWQoaCkpLHcpLHNldDpFPT57Zz1FO319KSx0eXBlb2Ygci5pbml0PT1cImZ1bmN0aW9uXCImJnIuaW5pdChTKSxTfWZ1bmN0aW9uIGkoaCxkKXtsZXQgZz1yKHRoaXMubmFtZXNwYWNlKyh0eXBlb2YgZD5cInVcIj9cIjpcIjpkKStoKTtyZXR1cm4gZy5sb2c9dGhpcy5sb2csZ31mdW5jdGlvbiBuKGgpe3Iuc2F2ZShoKSxyLm5hbWVzcGFjZXM9aCxyLm5hbWVzPVtdLHIuc2tpcHM9W107bGV0IGQsZz0odHlwZW9mIGg9PVwic3RyaW5nXCI/aDpcIlwiKS5zcGxpdCgvW1xccyxdKy8pLHk9Zy5sZW5ndGg7Zm9yKGQ9MDtkPHk7ZCsrKWdbZF0mJihoPWdbZF0ucmVwbGFjZSgvXFwqL2csXCIuKj9cIiksaFswXT09PVwiLVwiP3Iuc2tpcHMucHVzaChuZXcgUmVnRXhwKFwiXlwiK2guc2xpY2UoMSkrXCIkXCIpKTpyLm5hbWVzLnB1c2gobmV3IFJlZ0V4cChcIl5cIitoK1wiJFwiKSkpO31mdW5jdGlvbiBvKCl7bGV0IGg9Wy4uLnIubmFtZXMubWFwKGEpLC4uLnIuc2tpcHMubWFwKGEpLm1hcChkPT5cIi1cIitkKV0uam9pbihcIixcIik7cmV0dXJuIHIuZW5hYmxlKFwiXCIpLGh9ZnVuY3Rpb24gcyhoKXtpZihoW2gubGVuZ3RoLTFdPT09XCIqXCIpcmV0dXJuICEwO2xldCBkLGc7Zm9yKGQ9MCxnPXIuc2tpcHMubGVuZ3RoO2Q8ZztkKyspaWYoci5za2lwc1tkXS50ZXN0KGgpKXJldHVybiAhMTtmb3IoZD0wLGc9ci5uYW1lcy5sZW5ndGg7ZDxnO2QrKylpZihyLm5hbWVzW2RdLnRlc3QoaCkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBhKGgpe3JldHVybiBoLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIsaC50b1N0cmluZygpLmxlbmd0aC0yKS5yZXBsYWNlKC9cXC5cXCpcXD8kLyxcIipcIil9ZnVuY3Rpb24gbChoKXtyZXR1cm4gaCBpbnN0YW5jZW9mIEVycm9yP2guc3RhY2t8fGgubWVzc2FnZTpofWZ1bmN0aW9uIGMoKXtjb25zb2xlLndhcm4oXCJJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuXCIpO31yZXR1cm4gci5lbmFibGUoci5sb2FkKCkpLHJ9eWQuZXhwb3J0cz1TbTt9KTt2YXIgb3Q9TSgoeGUsQm4pPT57XygpO3YoKTttKCk7eGUuZm9ybWF0QXJncz1JbTt4ZS5zYXZlPVRtO3hlLmxvYWQ9Um07eGUudXNlQ29sb3JzPUFtO3hlLnN0b3JhZ2U9Q20oKTt4ZS5kZXN0cm95PSgoKT0+e2xldCB0PSExO3JldHVybiAoKT0+e3R8fCh0PSEwLGNvbnNvbGUud2FybihcIkluc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC5cIikpO319KSgpO3hlLmNvbG9ycz1bXCIjMDAwMENDXCIsXCIjMDAwMEZGXCIsXCIjMDAzM0NDXCIsXCIjMDAzM0ZGXCIsXCIjMDA2NkNDXCIsXCIjMDA2NkZGXCIsXCIjMDA5OUNDXCIsXCIjMDA5OUZGXCIsXCIjMDBDQzAwXCIsXCIjMDBDQzMzXCIsXCIjMDBDQzY2XCIsXCIjMDBDQzk5XCIsXCIjMDBDQ0NDXCIsXCIjMDBDQ0ZGXCIsXCIjMzMwMENDXCIsXCIjMzMwMEZGXCIsXCIjMzMzM0NDXCIsXCIjMzMzM0ZGXCIsXCIjMzM2NkNDXCIsXCIjMzM2NkZGXCIsXCIjMzM5OUNDXCIsXCIjMzM5OUZGXCIsXCIjMzNDQzAwXCIsXCIjMzNDQzMzXCIsXCIjMzNDQzY2XCIsXCIjMzNDQzk5XCIsXCIjMzNDQ0NDXCIsXCIjMzNDQ0ZGXCIsXCIjNjYwMENDXCIsXCIjNjYwMEZGXCIsXCIjNjYzM0NDXCIsXCIjNjYzM0ZGXCIsXCIjNjZDQzAwXCIsXCIjNjZDQzMzXCIsXCIjOTkwMENDXCIsXCIjOTkwMEZGXCIsXCIjOTkzM0NDXCIsXCIjOTkzM0ZGXCIsXCIjOTlDQzAwXCIsXCIjOTlDQzMzXCIsXCIjQ0MwMDAwXCIsXCIjQ0MwMDMzXCIsXCIjQ0MwMDY2XCIsXCIjQ0MwMDk5XCIsXCIjQ0MwMENDXCIsXCIjQ0MwMEZGXCIsXCIjQ0MzMzAwXCIsXCIjQ0MzMzMzXCIsXCIjQ0MzMzY2XCIsXCIjQ0MzMzk5XCIsXCIjQ0MzM0NDXCIsXCIjQ0MzM0ZGXCIsXCIjQ0M2NjAwXCIsXCIjQ0M2NjMzXCIsXCIjQ0M5OTAwXCIsXCIjQ0M5OTMzXCIsXCIjQ0NDQzAwXCIsXCIjQ0NDQzMzXCIsXCIjRkYwMDAwXCIsXCIjRkYwMDMzXCIsXCIjRkYwMDY2XCIsXCIjRkYwMDk5XCIsXCIjRkYwMENDXCIsXCIjRkYwMEZGXCIsXCIjRkYzMzAwXCIsXCIjRkYzMzMzXCIsXCIjRkYzMzY2XCIsXCIjRkYzMzk5XCIsXCIjRkYzM0NDXCIsXCIjRkYzM0ZGXCIsXCIjRkY2NjAwXCIsXCIjRkY2NjMzXCIsXCIjRkY5OTAwXCIsXCIjRkY5OTMzXCIsXCIjRkZDQzAwXCIsXCIjRkZDQzMzXCJdO2Z1bmN0aW9uIEFtKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3c8XCJ1XCImJndpbmRvdy5wcm9jZXNzJiYod2luZG93LnByb2Nlc3MudHlwZT09PVwicmVuZGVyZXJcInx8d2luZG93LnByb2Nlc3MuX19ud2pzKT8hMDp0eXBlb2YgbmF2aWdhdG9yPFwidVwiJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLyk/ITE6dHlwZW9mIGRvY3VtZW50PFwidVwiJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2V8fHR5cGVvZiB3aW5kb3c8XCJ1XCImJndpbmRvdy5jb25zb2xlJiYod2luZG93LmNvbnNvbGUuZmlyZWJ1Z3x8d2luZG93LmNvbnNvbGUuZXhjZXB0aW9uJiZ3aW5kb3cuY29uc29sZS50YWJsZSl8fHR5cGVvZiBuYXZpZ2F0b3I8XCJ1XCImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pJiZwYXJzZUludChSZWdFeHAuJDEsMTApPj0zMXx8dHlwZW9mIG5hdmlnYXRvcjxcInVcIiYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pfWZ1bmN0aW9uIEltKHQpe2lmKHRbMF09KHRoaXMudXNlQ29sb3JzP1wiJWNcIjpcIlwiKSt0aGlzLm5hbWVzcGFjZSsodGhpcy51c2VDb2xvcnM/XCIgJWNcIjpcIiBcIikrdFswXSsodGhpcy51c2VDb2xvcnM/XCIlYyBcIjpcIiBcIikrXCIrXCIrQm4uZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpLCF0aGlzLnVzZUNvbG9ycylyZXR1cm47bGV0IGU9XCJjb2xvcjogXCIrdGhpcy5jb2xvcjt0LnNwbGljZSgxLDAsZSxcImNvbG9yOiBpbmhlcml0XCIpO2xldCByPTAsaT0wO3RbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLG49PntuIT09XCIlJVwiJiYocisrLG49PT1cIiVjXCImJihpPXIpKTt9KSx0LnNwbGljZShpLDAsZSk7fXhlLmxvZz1jb25zb2xlLmRlYnVnfHxjb25zb2xlLmxvZ3x8KCgpPT57fSk7ZnVuY3Rpb24gVG0odCl7dHJ5e3Q/eGUuc3RvcmFnZS5zZXRJdGVtKFwiZGVidWdcIix0KTp4ZS5zdG9yYWdlLnJlbW92ZUl0ZW0oXCJkZWJ1Z1wiKTt9Y2F0Y2h7fX1mdW5jdGlvbiBSbSgpe2xldCB0O3RyeXt0PXhlLnN0b3JhZ2UuZ2V0SXRlbShcImRlYnVnXCIpO31jYXRjaHt9cmV0dXJuICF0JiZ0eXBlb2YgQjxcInVcIiYmXCJlbnZcImluIEImJih0PUIuZW52LkRFQlVHKSx0fWZ1bmN0aW9uIENtKCl7dHJ5e3JldHVybiBsb2NhbFN0b3JhZ2V9Y2F0Y2h7fX1Cbi5leHBvcnRzPWJkKCkoeGUpO3Zhcntmb3JtYXR0ZXJzOkJtfT1Cbi5leHBvcnRzO0JtLmo9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX1jYXRjaChlKXtyZXR1cm4gXCJbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogXCIrZS5tZXNzYWdlfX07fSk7dmFyIG1kPU0oKE5QLF9kKT0+e18oKTt2KCk7bSgpO3ZhciBQbT1mZCgpLHtFdmVudEVtaXR0ZXI6a219PShzcigpLFgobnIpKSx3ZD1oZCgpLFY9SG8oKSxEPW90KCkoXCJtcXR0LXBhY2tldDpwYXJzZXJcIiksVm89Y2xhc3MgdCBleHRlbmRzIGtte2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBhcnNlcj10aGlzLmNvbnN0cnVjdG9yLnBhcnNlcjt9c3RhdGljIHBhcnNlcihlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHQ/KHRoaXMuc2V0dGluZ3M9ZXx8e30sdGhpcy5fc3RhdGVzPVtcIl9wYXJzZUhlYWRlclwiLFwiX3BhcnNlTGVuZ3RoXCIsXCJfcGFyc2VQYXlsb2FkXCIsXCJfbmV3UGFja2V0XCJdLHRoaXMuX3Jlc2V0U3RhdGUoKSx0aGlzKTpuZXcgdCgpLnBhcnNlcihlKX1fcmVzZXRTdGF0ZSgpe0QoXCJfcmVzZXRTdGF0ZTogcmVzZXR0aW5nIHBhY2tldCwgZXJyb3IsIF9saXN0LCBhbmQgX3N0YXRlQ291bnRlclwiKSx0aGlzLnBhY2tldD1uZXcgd2QsdGhpcy5lcnJvcj1udWxsLHRoaXMuX2xpc3Q9UG0oKSx0aGlzLl9zdGF0ZUNvdW50ZXI9MDt9cGFyc2UoZSl7Zm9yKHRoaXMuZXJyb3ImJnRoaXMuX3Jlc2V0U3RhdGUoKSx0aGlzLl9saXN0LmFwcGVuZChlKSxEKFwicGFyc2U6IGN1cnJlbnQgc3RhdGU6ICVzXCIsdGhpcy5fc3RhdGVzW3RoaXMuX3N0YXRlQ291bnRlcl0pOyh0aGlzLnBhY2tldC5sZW5ndGghPT0tMXx8dGhpcy5fbGlzdC5sZW5ndGg+MCkmJnRoaXNbdGhpcy5fc3RhdGVzW3RoaXMuX3N0YXRlQ291bnRlcl1dKCkmJiF0aGlzLmVycm9yOyl0aGlzLl9zdGF0ZUNvdW50ZXIrKyxEKFwicGFyc2U6IHN0YXRlIGNvbXBsZXRlLiBfc3RhdGVDb3VudGVyIGlzIG5vdzogJWRcIix0aGlzLl9zdGF0ZUNvdW50ZXIpLEQoXCJwYXJzZTogcGFja2V0Lmxlbmd0aDogJWQsIGJ1ZmZlciBsaXN0IGxlbmd0aDogJWRcIix0aGlzLnBhY2tldC5sZW5ndGgsdGhpcy5fbGlzdC5sZW5ndGgpLHRoaXMuX3N0YXRlQ291bnRlcj49dGhpcy5fc3RhdGVzLmxlbmd0aCYmKHRoaXMuX3N0YXRlQ291bnRlcj0wKTtyZXR1cm4gRChcInBhcnNlOiBleGl0ZWQgd2hpbGUgbG9vcC4gcGFja2V0OiAlZCwgYnVmZmVyIGxpc3QgbGVuZ3RoOiAlZFwiLHRoaXMucGFja2V0Lmxlbmd0aCx0aGlzLl9saXN0Lmxlbmd0aCksdGhpcy5fbGlzdC5sZW5ndGh9X3BhcnNlSGVhZGVyKCl7bGV0IGU9dGhpcy5fbGlzdC5yZWFkVUludDgoMCkscj1lPj5WLkNNRF9TSElGVDt0aGlzLnBhY2tldC5jbWQ9Vi50eXBlc1tyXTtsZXQgaT1lJjE1LG49Vi5yZXF1aXJlZEhlYWRlckZsYWdzW3JdO3JldHVybiBuIT1udWxsJiZpIT09bj90aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFYucmVxdWlyZWRIZWFkZXJGbGFnc0Vycm9yc1tyXSkpOih0aGlzLnBhY2tldC5yZXRhaW49KGUmVi5SRVRBSU5fTUFTSykhPT0wLHRoaXMucGFja2V0LnFvcz1lPj5WLlFPU19TSElGVCZWLlFPU19NQVNLLHRoaXMucGFja2V0LnFvcz4yP3RoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJQYWNrZXQgbXVzdCBub3QgaGF2ZSBib3RoIFFvUyBiaXRzIHNldCB0byAxXCIpKToodGhpcy5wYWNrZXQuZHVwPShlJlYuRFVQX01BU0spIT09MCxEKFwiX3BhcnNlSGVhZGVyOiBwYWNrZXQ6ICVvXCIsdGhpcy5wYWNrZXQpLHRoaXMuX2xpc3QuY29uc3VtZSgxKSwhMCkpfV9wYXJzZUxlbmd0aCgpe2xldCBlPXRoaXMuX3BhcnNlVmFyQnl0ZU51bSghMCk7cmV0dXJuIGUmJih0aGlzLnBhY2tldC5sZW5ndGg9ZS52YWx1ZSx0aGlzLl9saXN0LmNvbnN1bWUoZS5ieXRlcykpLEQoXCJfcGFyc2VMZW5ndGggJWRcIixlLnZhbHVlKSwhIWV9X3BhcnNlUGF5bG9hZCgpe0QoXCJfcGFyc2VQYXlsb2FkOiBwYXlsb2FkICVPXCIsdGhpcy5fbGlzdCk7bGV0IGU9ITE7aWYodGhpcy5wYWNrZXQubGVuZ3RoPT09MHx8dGhpcy5fbGlzdC5sZW5ndGg+PXRoaXMucGFja2V0Lmxlbmd0aCl7c3dpdGNoKHRoaXMuX3Bvcz0wLHRoaXMucGFja2V0LmNtZCl7Y2FzZVwiY29ubmVjdFwiOnRoaXMuX3BhcnNlQ29ubmVjdCgpO2JyZWFrO2Nhc2VcImNvbm5hY2tcIjp0aGlzLl9wYXJzZUNvbm5hY2soKTticmVhaztjYXNlXCJwdWJsaXNoXCI6dGhpcy5fcGFyc2VQdWJsaXNoKCk7YnJlYWs7Y2FzZVwicHViYWNrXCI6Y2FzZVwicHVicmVjXCI6Y2FzZVwicHVicmVsXCI6Y2FzZVwicHViY29tcFwiOnRoaXMuX3BhcnNlQ29uZmlybWF0aW9uKCk7YnJlYWs7Y2FzZVwic3Vic2NyaWJlXCI6dGhpcy5fcGFyc2VTdWJzY3JpYmUoKTticmVhaztjYXNlXCJzdWJhY2tcIjp0aGlzLl9wYXJzZVN1YmFjaygpO2JyZWFrO2Nhc2VcInVuc3Vic2NyaWJlXCI6dGhpcy5fcGFyc2VVbnN1YnNjcmliZSgpO2JyZWFrO2Nhc2VcInVuc3ViYWNrXCI6dGhpcy5fcGFyc2VVbnN1YmFjaygpO2JyZWFrO2Nhc2VcInBpbmdyZXFcIjpjYXNlXCJwaW5ncmVzcFwiOmJyZWFrO2Nhc2VcImRpc2Nvbm5lY3RcIjp0aGlzLl9wYXJzZURpc2Nvbm5lY3QoKTticmVhaztjYXNlXCJhdXRoXCI6dGhpcy5fcGFyc2VBdXRoKCk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKSk7fWU9ITA7fXJldHVybiBEKFwiX3BhcnNlUGF5bG9hZCBjb21wbGV0ZSByZXN1bHQ6ICVzXCIsZSksZX1fcGFyc2VDb25uZWN0KCl7RChcIl9wYXJzZUNvbm5lY3RcIik7bGV0IGUscixpLG4sbz17fSxzPXRoaXMucGFja2V0LGE9dGhpcy5fcGFyc2VTdHJpbmcoKTtpZihhPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBwcm90b2NvbElkXCIpKTtpZihhIT09XCJNUVRUXCImJmEhPT1cIk1RSXNkcFwiKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBwcm90b2NvbElkXCIpKTtpZihzLnByb3RvY29sSWQ9YSx0aGlzLl9wb3M+PXRoaXMuX2xpc3QubGVuZ3RoKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiUGFja2V0IHRvbyBzaG9ydFwiKSk7aWYocy5wcm90b2NvbFZlcnNpb249dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSxzLnByb3RvY29sVmVyc2lvbj49MTI4JiYocy5icmlkZ2VNb2RlPSEwLHMucHJvdG9jb2xWZXJzaW9uPXMucHJvdG9jb2xWZXJzaW9uLTEyOCkscy5wcm90b2NvbFZlcnNpb24hPT0zJiZzLnByb3RvY29sVmVyc2lvbiE9PTQmJnMucHJvdG9jb2xWZXJzaW9uIT09NSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgcHJvdG9jb2wgdmVyc2lvblwiKSk7aWYodGhpcy5fcG9zKyssdGhpcy5fcG9zPj10aGlzLl9saXN0Lmxlbmd0aClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlBhY2tldCB0b28gc2hvcnRcIikpO2lmKHRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmMSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNvbm5lY3QgZmxhZyBiaXQgMCBtdXN0IGJlIDAsIGJ1dCBnb3QgMVwiKSk7by51c2VybmFtZT10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpJlYuVVNFUk5BTUVfTUFTSyxvLnBhc3N3b3JkPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmVi5QQVNTV09SRF9NQVNLLG8ud2lsbD10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MpJlYuV0lMTF9GTEFHX01BU0s7bGV0IGw9ISEodGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKSZWLldJTExfUkVUQUlOX01BU0spLGM9KHRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmVi5XSUxMX1FPU19NQVNLKT4+Vi5XSUxMX1FPU19TSElGVDtpZihvLndpbGwpcy53aWxsPXt9LHMud2lsbC5yZXRhaW49bCxzLndpbGwucW9zPWM7ZWxzZSB7aWYobClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIldpbGwgUmV0YWluIEZsYWcgbXVzdCBiZSBzZXQgdG8gemVybyB3aGVuIFdpbGwgRmxhZyBpcyBzZXQgdG8gMFwiKSk7aWYoYylyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIldpbGwgUW9TIG11c3QgYmUgc2V0IHRvIHplcm8gd2hlbiBXaWxsIEZsYWcgaXMgc2V0IHRvIDBcIikpfWlmKHMuY2xlYW49KHRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcykmVi5DTEVBTl9TRVNTSU9OX01BU0spIT09MCx0aGlzLl9wb3MrKyxzLmtlZXBhbGl2ZT10aGlzLl9wYXJzZU51bSgpLHMua2VlcGFsaXZlPT09LTEpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJQYWNrZXQgdG9vIHNob3J0XCIpKTtpZihzLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCBkPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGQpLmxlbmd0aCYmKHMucHJvcGVydGllcz1kKTt9bGV0IGg9dGhpcy5fcGFyc2VTdHJpbmcoKTtpZihoPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlBhY2tldCB0b28gc2hvcnRcIikpO2lmKHMuY2xpZW50SWQ9aCxEKFwiX3BhcnNlQ29ubmVjdDogcGFja2V0LmNsaWVudElkOiAlc1wiLHMuY2xpZW50SWQpLG8ud2lsbCl7aWYocy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgZD10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkKS5sZW5ndGgmJihzLndpbGwucHJvcGVydGllcz1kKTt9aWYoZT10aGlzLl9wYXJzZVN0cmluZygpLGU9PT1udWxsKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIHdpbGwgdG9waWNcIikpO2lmKHMud2lsbC50b3BpYz1lLEQoXCJfcGFyc2VDb25uZWN0OiBwYWNrZXQud2lsbC50b3BpYzogJXNcIixzLndpbGwudG9waWMpLHI9dGhpcy5fcGFyc2VCdWZmZXIoKSxyPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB3aWxsIHBheWxvYWRcIikpO3Mud2lsbC5wYXlsb2FkPXIsRChcIl9wYXJzZUNvbm5lY3Q6IHBhY2tldC53aWxsLnBheWxhb2Q6ICVzXCIscy53aWxsLnBheWxvYWQpO31pZihvLnVzZXJuYW1lKXtpZihuPXRoaXMuX3BhcnNlU3RyaW5nKCksbj09PW51bGwpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgdXNlcm5hbWVcIikpO3MudXNlcm5hbWU9bixEKFwiX3BhcnNlQ29ubmVjdDogcGFja2V0LnVzZXJuYW1lOiAlc1wiLHMudXNlcm5hbWUpO31pZihvLnBhc3N3b3JkKXtpZihpPXRoaXMuX3BhcnNlQnVmZmVyKCksaT09PW51bGwpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgcGFzc3dvcmRcIikpO3MucGFzc3dvcmQ9aTt9cmV0dXJuIHRoaXMuc2V0dGluZ3M9cyxEKFwiX3BhcnNlQ29ubmVjdDogY29tcGxldGVcIiksc31fcGFyc2VDb25uYWNrKCl7RChcIl9wYXJzZUNvbm5hY2tcIik7bGV0IGU9dGhpcy5wYWNrZXQ7aWYodGhpcy5fbGlzdC5sZW5ndGg8MSlyZXR1cm4gbnVsbDtsZXQgcj10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MrKyk7aWYocj4xKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBjb25uYWNrIGZsYWdzLCBiaXRzIDctMSBtdXN0IGJlIHNldCB0byAwXCIpKTtpZihlLnNlc3Npb25QcmVzZW50PSEhKHImVi5TRVNTSU9OUFJFU0VOVF9NQVNLKSx0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpdGhpcy5fbGlzdC5sZW5ndGg+PTI/ZS5yZWFzb25Db2RlPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKTplLnJlYXNvbkNvZGU9MDtlbHNlIHtpZih0aGlzLl9saXN0Lmxlbmd0aDwyKXJldHVybiBudWxsO2UucmV0dXJuQ29kZT10aGlzLl9saXN0LnJlYWRVSW50OCh0aGlzLl9wb3MrKyk7fWlmKGUucmV0dXJuQ29kZT09PS0xfHxlLnJlYXNvbkNvZGU9PT0tMSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSByZXR1cm4gY29kZVwiKSk7aWYodGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgaT10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhpKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9aSk7fUQoXCJfcGFyc2VDb25uYWNrOiBjb21wbGV0ZVwiKTt9X3BhcnNlUHVibGlzaCgpe0QoXCJfcGFyc2VQdWJsaXNoXCIpO2xldCBlPXRoaXMucGFja2V0O2lmKGUudG9waWM9dGhpcy5fcGFyc2VTdHJpbmcoKSxlLnRvcGljPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB0b3BpY1wiKSk7aWYoIShlLnFvcz4wJiYhdGhpcy5fcGFyc2VNZXNzYWdlSWQoKSkpe2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IHI9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpO31lLnBheWxvYWQ9dGhpcy5fbGlzdC5zbGljZSh0aGlzLl9wb3MsZS5sZW5ndGgpLEQoXCJfcGFyc2VQdWJsaXNoOiBwYXlsb2FkIGZyb20gYnVmZmVyIGxpc3Q6ICVvXCIsZS5wYXlsb2FkKTt9fV9wYXJzZVN1YnNjcmliZSgpe0QoXCJfcGFyc2VTdWJzY3JpYmVcIik7bGV0IGU9dGhpcy5wYWNrZXQscixpLG4sbyxzLGEsbDtpZihlLnN1YnNjcmlwdGlvbnM9W10sISF0aGlzLl9wYXJzZU1lc3NhZ2VJZCgpKXtpZih0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCBjPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGMpLmxlbmd0aCYmKGUucHJvcGVydGllcz1jKTt9aWYoZS5sZW5ndGg8PTApcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJNYWxmb3JtZWQgc3Vic2NyaWJlLCBubyBwYXlsb2FkIHNwZWNpZmllZFwiKSk7Zm9yKDt0aGlzLl9wb3M8ZS5sZW5ndGg7KXtpZihyPXRoaXMuX3BhcnNlU3RyaW5nKCkscj09PW51bGwpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgdG9waWNcIikpO2lmKHRoaXMuX3Bvcz49ZS5sZW5ndGgpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJNYWxmb3JtZWQgU3Vic2NyaWJlIFBheWxvYWRcIikpO2lmKGk9dGhpcy5fcGFyc2VCeXRlKCksdGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtpZihpJjE5MilyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaWJlIHRvcGljIGZsYWcgYml0cywgYml0cyA3LTYgbXVzdCBiZSAwXCIpKX1lbHNlIGlmKGkmMjUyKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpYmUgdG9waWMgZmxhZyBiaXRzLCBiaXRzIDctMiBtdXN0IGJlIDBcIikpO2lmKG49aSZWLlNVQlNDUklCRV9PUFRJT05TX1FPU19NQVNLLG4+MilyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaWJlIFFvUywgbXVzdCBiZSA8PSAyXCIpKTtpZihhPShpPj5WLlNVQlNDUklCRV9PUFRJT05TX05MX1NISUZUJlYuU1VCU0NSSUJFX09QVElPTlNfTkxfTUFTSykhPT0wLHM9KGk+PlYuU1VCU0NSSUJFX09QVElPTlNfUkFQX1NISUZUJlYuU1VCU0NSSUJFX09QVElPTlNfUkFQX01BU0spIT09MCxvPWk+PlYuU1VCU0NSSUJFX09QVElPTlNfUkhfU0hJRlQmVi5TVUJTQ1JJQkVfT1BUSU9OU19SSF9NQVNLLG8+MilyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgcmV0YWluIGhhbmRsaW5nLCBtdXN0IGJlIDw9IDJcIikpO2w9e3RvcGljOnIscW9zOm59LHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NT8obC5ubD1hLGwucmFwPXMsbC5yaD1vKTp0aGlzLnNldHRpbmdzLmJyaWRnZU1vZGUmJihsLnJoPTAsbC5yYXA9ITAsbC5ubD0hMCksRChcIl9wYXJzZVN1YnNjcmliZTogcHVzaCBzdWJzY3JpcHRpb24gYCVzYCB0byBzdWJzY3JpcHRpb25cIixsKSxlLnN1YnNjcmlwdGlvbnMucHVzaChsKTt9fX1fcGFyc2VTdWJhY2soKXtEKFwiX3BhcnNlU3ViYWNrXCIpO2xldCBlPXRoaXMucGFja2V0O2lmKHRoaXMucGFja2V0LmdyYW50ZWQ9W10sISF0aGlzLl9wYXJzZU1lc3NhZ2VJZCgpKXtpZih0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTUpe2xldCByPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmxlbmd0aCYmKGUucHJvcGVydGllcz1yKTt9aWYoZS5sZW5ndGg8PTApcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJNYWxmb3JtZWQgc3ViYWNrLCBubyBwYXlsb2FkIHNwZWNpZmllZFwiKSk7Zm9yKDt0aGlzLl9wb3M8dGhpcy5wYWNrZXQubGVuZ3RoOyl7bGV0IHI9dGhpcy5fbGlzdC5yZWFkVUludDgodGhpcy5fcG9zKyspO2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7aWYoIVYuTVFUVDVfU1VCQUNLX0NPREVTW3JdKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBzdWJhY2sgY29kZVwiKSl9ZWxzZSBpZihyPjImJnIhPT0xMjgpcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YmFjayBRb1MsIG11c3QgYmUgMCwgMSwgMiBvciAxMjhcIikpO3RoaXMucGFja2V0LmdyYW50ZWQucHVzaChyKTt9fX1fcGFyc2VVbnN1YnNjcmliZSgpe0QoXCJfcGFyc2VVbnN1YnNjcmliZVwiKTtsZXQgZT10aGlzLnBhY2tldDtpZihlLnVuc3Vic2NyaXB0aW9ucz1bXSwhIXRoaXMuX3BhcnNlTWVzc2FnZUlkKCkpe2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IHI9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpO31pZihlLmxlbmd0aDw9MClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCB1bnN1YnNjcmliZSwgbm8gcGF5bG9hZCBzcGVjaWZpZWRcIikpO2Zvcig7dGhpcy5fcG9zPGUubGVuZ3RoOyl7bGV0IHI9dGhpcy5fcGFyc2VTdHJpbmcoKTtpZihyPT09bnVsbClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSB0b3BpY1wiKSk7RChcIl9wYXJzZVVuc3Vic2NyaWJlOiBwdXNoIHRvcGljIGAlc2AgdG8gdW5zdWJzY3JpcHRpb25zXCIsciksZS51bnN1YnNjcmlwdGlvbnMucHVzaChyKTt9fX1fcGFyc2VVbnN1YmFjaygpe0QoXCJfcGFyc2VVbnN1YmFja1wiKTtsZXQgZT10aGlzLnBhY2tldDtpZighdGhpcy5fcGFyc2VNZXNzYWdlSWQoKSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkNhbm5vdCBwYXJzZSBtZXNzYWdlSWRcIikpO2lmKCh0aGlzLnNldHRpbmdzLnByb3RvY29sVmVyc2lvbj09PTN8fHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NCkmJmUubGVuZ3RoIT09MilyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCB1bnN1YmFjaywgcGF5bG9hZCBsZW5ndGggbXVzdCBiZSAyXCIpKTtpZihlLmxlbmd0aDw9MClyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk1hbGZvcm1lZCB1bnN1YmFjaywgbm8gcGF5bG9hZCBzcGVjaWZpZWRcIikpO2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uPT09NSl7bGV0IHI9dGhpcy5fcGFyc2VQcm9wZXJ0aWVzKCk7Zm9yKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmxlbmd0aCYmKGUucHJvcGVydGllcz1yKSxlLmdyYW50ZWQ9W107dGhpcy5fcG9zPHRoaXMucGFja2V0Lmxlbmd0aDspe2xldCBpPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcysrKTtpZighVi5NUVRUNV9VTlNVQkFDS19DT0RFU1tpXSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgdW5zdWJhY2sgY29kZVwiKSk7dGhpcy5wYWNrZXQuZ3JhbnRlZC5wdXNoKGkpO319fV9wYXJzZUNvbmZpcm1hdGlvbigpe0QoXCJfcGFyc2VDb25maXJtYXRpb246IHBhY2tldC5jbWQ6IGAlc2BcIix0aGlzLnBhY2tldC5jbWQpO2xldCBlPXRoaXMucGFja2V0O2lmKHRoaXMuX3BhcnNlTWVzc2FnZUlkKCksdGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXtpZihlLmxlbmd0aD4yKXtzd2l0Y2goZS5yZWFzb25Db2RlPXRoaXMuX3BhcnNlQnl0ZSgpLHRoaXMucGFja2V0LmNtZCl7Y2FzZVwicHViYWNrXCI6Y2FzZVwicHVicmVjXCI6aWYoIVYuTVFUVDVfUFVCQUNLX1BVQlJFQ19DT0RFU1tlLnJlYXNvbkNvZGVdKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBcIit0aGlzLnBhY2tldC5jbWQrXCIgcmVhc29uIGNvZGVcIikpO2JyZWFrO2Nhc2VcInB1YnJlbFwiOmNhc2VcInB1YmNvbXBcIjppZighVi5NUVRUNV9QVUJSRUxfUFVCQ09NUF9DT0RFU1tlLnJlYXNvbkNvZGVdKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBcIit0aGlzLnBhY2tldC5jbWQrXCIgcmVhc29uIGNvZGVcIikpO2JyZWFrfUQoXCJfcGFyc2VDb25maXJtYXRpb246IHBhY2tldC5yZWFzb25Db2RlIGAlZGBcIixlLnJlYXNvbkNvZGUpO31lbHNlIGUucmVhc29uQ29kZT0wO2lmKGUubGVuZ3RoPjMpe2xldCByPXRoaXMuX3BhcnNlUHJvcGVydGllcygpO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmxlbmd0aCYmKGUucHJvcGVydGllcz1yKTt9fXJldHVybiAhMH1fcGFyc2VEaXNjb25uZWN0KCl7bGV0IGU9dGhpcy5wYWNrZXQ7aWYoRChcIl9wYXJzZURpc2Nvbm5lY3RcIiksdGhpcy5zZXR0aW5ncy5wcm90b2NvbFZlcnNpb249PT01KXt0aGlzLl9saXN0Lmxlbmd0aD4wPyhlLnJlYXNvbkNvZGU9dGhpcy5fcGFyc2VCeXRlKCksVi5NUVRUNV9ESVNDT05ORUNUX0NPREVTW2UucmVhc29uQ29kZV18fHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJJbnZhbGlkIGRpc2Nvbm5lY3QgcmVhc29uIGNvZGVcIikpKTplLnJlYXNvbkNvZGU9MDtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKS5sZW5ndGgmJihlLnByb3BlcnRpZXM9cik7fXJldHVybiBEKFwiX3BhcnNlRGlzY29ubmVjdCByZXN1bHQ6IHRydWVcIiksITB9X3BhcnNlQXV0aCgpe0QoXCJfcGFyc2VBdXRoXCIpO2xldCBlPXRoaXMucGFja2V0O2lmKHRoaXMuc2V0dGluZ3MucHJvdG9jb2xWZXJzaW9uIT09NSlyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgYXV0aCBwYWNrZXQgZm9yIHRoaXMgdmVyc2lvbiBNUVRUXCIpKTtpZihlLnJlYXNvbkNvZGU9dGhpcy5fcGFyc2VCeXRlKCksIVYuTVFUVDVfQVVUSF9DT0RFU1tlLnJlYXNvbkNvZGVdKXJldHVybiB0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiSW52YWxpZCBhdXRoIHJlYXNvbiBjb2RlXCIpKTtsZXQgcj10aGlzLl9wYXJzZVByb3BlcnRpZXMoKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikubGVuZ3RoJiYoZS5wcm9wZXJ0aWVzPXIpLEQoXCJfcGFyc2VBdXRoOiByZXN1bHQ6IHRydWVcIiksITB9X3BhcnNlTWVzc2FnZUlkKCl7bGV0IGU9dGhpcy5wYWNrZXQ7cmV0dXJuIGUubWVzc2FnZUlkPXRoaXMuX3BhcnNlTnVtKCksZS5tZXNzYWdlSWQ9PT1udWxsPyh0aGlzLl9lbWl0RXJyb3IobmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIG1lc3NhZ2VJZFwiKSksITEpOihEKFwiX3BhcnNlTWVzc2FnZUlkOiBwYWNrZXQubWVzc2FnZUlkICVkXCIsZS5tZXNzYWdlSWQpLCEwKX1fcGFyc2VTdHJpbmcoZSl7bGV0IHI9dGhpcy5fcGFyc2VOdW0oKSxpPXIrdGhpcy5fcG9zO2lmKHI9PT0tMXx8aT50aGlzLl9saXN0Lmxlbmd0aHx8aT50aGlzLnBhY2tldC5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IG49dGhpcy5fbGlzdC50b1N0cmluZyhcInV0ZjhcIix0aGlzLl9wb3MsaSk7cmV0dXJuIHRoaXMuX3Bvcys9cixEKFwiX3BhcnNlU3RyaW5nOiByZXN1bHQ6ICVzXCIsbiksbn1fcGFyc2VTdHJpbmdQYWlyKCl7cmV0dXJuIEQoXCJfcGFyc2VTdHJpbmdQYWlyXCIpLHtuYW1lOnRoaXMuX3BhcnNlU3RyaW5nKCksdmFsdWU6dGhpcy5fcGFyc2VTdHJpbmcoKX19X3BhcnNlQnVmZmVyKCl7bGV0IGU9dGhpcy5fcGFyc2VOdW0oKSxyPWUrdGhpcy5fcG9zO2lmKGU9PT0tMXx8cj50aGlzLl9saXN0Lmxlbmd0aHx8cj50aGlzLnBhY2tldC5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IGk9dGhpcy5fbGlzdC5zbGljZSh0aGlzLl9wb3Mscik7cmV0dXJuIHRoaXMuX3Bvcys9ZSxEKFwiX3BhcnNlQnVmZmVyOiByZXN1bHQ6ICVvXCIsaSksaX1fcGFyc2VOdW0oKXtpZih0aGlzLl9saXN0Lmxlbmd0aC10aGlzLl9wb3M8MilyZXR1cm4gLTE7bGV0IGU9dGhpcy5fbGlzdC5yZWFkVUludDE2QkUodGhpcy5fcG9zKTtyZXR1cm4gdGhpcy5fcG9zKz0yLEQoXCJfcGFyc2VOdW06IHJlc3VsdDogJXNcIixlKSxlfV9wYXJzZTRCeXRlTnVtKCl7aWYodGhpcy5fbGlzdC5sZW5ndGgtdGhpcy5fcG9zPDQpcmV0dXJuIC0xO2xldCBlPXRoaXMuX2xpc3QucmVhZFVJbnQzMkJFKHRoaXMuX3Bvcyk7cmV0dXJuIHRoaXMuX3Bvcys9NCxEKFwiX3BhcnNlNEJ5dGVOdW06IHJlc3VsdDogJXNcIixlKSxlfV9wYXJzZVZhckJ5dGVOdW0oZSl7RChcIl9wYXJzZVZhckJ5dGVOdW1cIik7bGV0IHI9NCxpPTAsbj0xLG89MCxzPSExLGEsbD10aGlzLl9wb3M/dGhpcy5fcG9zOjA7Zm9yKDtpPHImJmwraTx0aGlzLl9saXN0Lmxlbmd0aDspe2lmKGE9dGhpcy5fbGlzdC5yZWFkVUludDgobCtpKyspLG8rPW4qKGEmVi5WQVJCWVRFSU5UX01BU0spLG4qPTEyOCwhKGEmVi5WQVJCWVRFSU5UX0ZJTl9NQVNLKSl7cz0hMDticmVha31pZih0aGlzLl9saXN0Lmxlbmd0aDw9aSlicmVha31yZXR1cm4gIXMmJmk9PT1yJiZ0aGlzLl9saXN0Lmxlbmd0aD49aSYmdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIkludmFsaWQgdmFyaWFibGUgYnl0ZSBpbnRlZ2VyXCIpKSxsJiYodGhpcy5fcG9zKz1pKSxzP2U/cz17Ynl0ZXM6aSx2YWx1ZTpvfTpzPW86cz0hMSxEKFwiX3BhcnNlVmFyQnl0ZU51bTogcmVzdWx0OiAlb1wiLHMpLHN9X3BhcnNlQnl0ZSgpe2xldCBlO3JldHVybiB0aGlzLl9wb3M8dGhpcy5fbGlzdC5sZW5ndGgmJihlPXRoaXMuX2xpc3QucmVhZFVJbnQ4KHRoaXMuX3BvcyksdGhpcy5fcG9zKyspLEQoXCJfcGFyc2VCeXRlOiByZXN1bHQ6ICVvXCIsZSksZX1fcGFyc2VCeVR5cGUoZSl7c3dpdGNoKEQoXCJfcGFyc2VCeVR5cGU6IHR5cGU6ICVzXCIsZSksZSl7Y2FzZVwiYnl0ZVwiOnJldHVybiB0aGlzLl9wYXJzZUJ5dGUoKSE9PTA7Y2FzZVwiaW50OFwiOnJldHVybiB0aGlzLl9wYXJzZUJ5dGUoKTtjYXNlXCJpbnQxNlwiOnJldHVybiB0aGlzLl9wYXJzZU51bSgpO2Nhc2VcImludDMyXCI6cmV0dXJuIHRoaXMuX3BhcnNlNEJ5dGVOdW0oKTtjYXNlXCJ2YXJcIjpyZXR1cm4gdGhpcy5fcGFyc2VWYXJCeXRlTnVtKCk7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIHRoaXMuX3BhcnNlU3RyaW5nKCk7Y2FzZVwicGFpclwiOnJldHVybiB0aGlzLl9wYXJzZVN0cmluZ1BhaXIoKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdGhpcy5fcGFyc2VCdWZmZXIoKX19X3BhcnNlUHJvcGVydGllcygpe0QoXCJfcGFyc2VQcm9wZXJ0aWVzXCIpO2xldCBlPXRoaXMuX3BhcnNlVmFyQnl0ZU51bSgpLGk9dGhpcy5fcG9zK2Usbj17fTtmb3IoO3RoaXMuX3BvczxpOyl7bGV0IG89dGhpcy5fcGFyc2VCeXRlKCk7aWYoIW8pcmV0dXJuIHRoaXMuX2VtaXRFcnJvcihuZXcgRXJyb3IoXCJDYW5ub3QgcGFyc2UgcHJvcGVydHkgY29kZSB0eXBlXCIpKSwhMTtsZXQgcz1WLnByb3BlcnRpZXNDb2Rlc1tvXTtpZighcylyZXR1cm4gdGhpcy5fZW1pdEVycm9yKG5ldyBFcnJvcihcIlVua25vd24gcHJvcGVydHlcIikpLCExO2lmKHM9PT1cInVzZXJQcm9wZXJ0aWVzXCIpe25bc118fChuW3NdPU9iamVjdC5jcmVhdGUobnVsbCkpO2xldCBhPXRoaXMuX3BhcnNlQnlUeXBlKFYucHJvcGVydGllc1R5cGVzW3NdKTtpZihuW3NdW2EubmFtZV0paWYoQXJyYXkuaXNBcnJheShuW3NdW2EubmFtZV0pKW5bc11bYS5uYW1lXS5wdXNoKGEudmFsdWUpO2Vsc2Uge2xldCBsPW5bc11bYS5uYW1lXTtuW3NdW2EubmFtZV09W2xdLG5bc11bYS5uYW1lXS5wdXNoKGEudmFsdWUpO31lbHNlIG5bc11bYS5uYW1lXT1hLnZhbHVlO2NvbnRpbnVlfW5bc10/QXJyYXkuaXNBcnJheShuW3NdKT9uW3NdLnB1c2godGhpcy5fcGFyc2VCeVR5cGUoVi5wcm9wZXJ0aWVzVHlwZXNbc10pKToobltzXT1bbltzXV0sbltzXS5wdXNoKHRoaXMuX3BhcnNlQnlUeXBlKFYucHJvcGVydGllc1R5cGVzW3NdKSkpOm5bc109dGhpcy5fcGFyc2VCeVR5cGUoVi5wcm9wZXJ0aWVzVHlwZXNbc10pO31yZXR1cm4gbn1fbmV3UGFja2V0KCl7cmV0dXJuIEQoXCJfbmV3UGFja2V0XCIpLHRoaXMucGFja2V0JiYodGhpcy5fbGlzdC5jb25zdW1lKHRoaXMucGFja2V0Lmxlbmd0aCksRChcIl9uZXdQYWNrZXQ6IHBhcnNlciBlbWl0IHBhY2tldDogcGFja2V0LmNtZDogJXMsIHBhY2tldC5wYXlsb2FkOiAlcywgcGFja2V0Lmxlbmd0aDogJWRcIix0aGlzLnBhY2tldC5jbWQsdGhpcy5wYWNrZXQucGF5bG9hZCx0aGlzLnBhY2tldC5sZW5ndGgpLHRoaXMuZW1pdChcInBhY2tldFwiLHRoaXMucGFja2V0KSksRChcIl9uZXdQYWNrZXQ6IG5ldyBwYWNrZXRcIiksdGhpcy5wYWNrZXQ9bmV3IHdkLHRoaXMuX3Bvcz0wLCEwfV9lbWl0RXJyb3IoZSl7RChcIl9lbWl0RXJyb3JcIixlKSx0aGlzLmVycm9yPWUsdGhpcy5lbWl0KFwiZXJyb3JcIixlKTt9fTtfZC5leHBvcnRzPVZvO30pO3ZhciBBZD1NKChLUCxTZCk9PntfKCk7digpO20oKTt2YXJ7QnVmZmVyOlNpfT0oYmUoKSxYKG1lKSksT209NjU1MzYsdmQ9e30seG09U2kuaXNCdWZmZXIoU2kuZnJvbShbMSwyXSkuc3ViYXJyYXkoMCwxKSk7ZnVuY3Rpb24gRWQodCl7bGV0IGU9U2kuYWxsb2NVbnNhZmUoMik7cmV0dXJuIGUud3JpdGVVSW50OCh0Pj44LDApLGUud3JpdGVVSW50OCh0JjI1NSwwKzEpLGV9ZnVuY3Rpb24gTW0oKXtmb3IobGV0IHQ9MDt0PE9tO3QrKyl2ZFt0XT1FZCh0KTt9ZnVuY3Rpb24gTG0odCl7bGV0IHI9MCxpPTAsbj1TaS5hbGxvY1Vuc2FmZSg0KTtkbyByPXQlMTI4fDAsdD10LzEyOHwwLHQ+MCYmKHI9cnwxMjgpLG4ud3JpdGVVSW50OChyLGkrKyk7d2hpbGUodD4wJiZpPDQpO3JldHVybiB0PjAmJihpPTApLHhtP24uc3ViYXJyYXkoMCxpKTpuLnNsaWNlKDAsaSl9ZnVuY3Rpb24gVW0odCl7bGV0IGU9U2kuYWxsb2NVbnNhZmUoNCk7cmV0dXJuIGUud3JpdGVVSW50MzJCRSh0LDApLGV9U2QuZXhwb3J0cz17Y2FjaGU6dmQsZ2VuZXJhdGVDYWNoZTpNbSxnZW5lcmF0ZU51bWJlcjpFZCxnZW5CdWZWYXJpYWJsZUJ5dGVJbnQ6TG0sZ2VuZXJhdGU0Qnl0ZUJ1ZmZlcjpVbX07fSk7dmFyIElkPU0oKGlrLHpvKT0+e18oKTt2KCk7bSgpO3R5cGVvZiBCPlwidVwifHwhQi52ZXJzaW9ufHxCLnZlcnNpb24uaW5kZXhPZihcInYwLlwiKT09PTB8fEIudmVyc2lvbi5pbmRleE9mKFwidjEuXCIpPT09MCYmQi52ZXJzaW9uLmluZGV4T2YoXCJ2MS44LlwiKSE9PTA/em8uZXhwb3J0cz17bmV4dFRpY2s6Tm19OnpvLmV4cG9ydHM9QjtmdW5jdGlvbiBObSh0LGUscixpKXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY2FsbGJhY2tcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTt2YXIgbj1hcmd1bWVudHMubGVuZ3RoLG8scztzd2l0Y2gobil7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gQi5uZXh0VGljayh0KTtjYXNlIDI6cmV0dXJuIEIubmV4dFRpY2soZnVuY3Rpb24oKXt0LmNhbGwobnVsbCxlKTt9KTtjYXNlIDM6cmV0dXJuIEIubmV4dFRpY2soZnVuY3Rpb24oKXt0LmNhbGwobnVsbCxlLHIpO30pO2Nhc2UgNDpyZXR1cm4gQi5uZXh0VGljayhmdW5jdGlvbigpe3QuY2FsbChudWxsLGUscixpKTt9KTtkZWZhdWx0OmZvcihvPW5ldyBBcnJheShuLTEpLHM9MDtzPG8ubGVuZ3RoOylvW3MrK109YXJndW1lbnRzW3NdO3JldHVybiBCLm5leHRUaWNrKGZ1bmN0aW9uKCl7dC5hcHBseShudWxsLG8pO30pfX19KTt2YXIgUW89TSgoZGsseGQpPT57XygpO3YoKTttKCk7dmFyIGo9SG8oKSx7QnVmZmVyOnF9PShiZSgpLFgobWUpKSxxbT1xLmFsbG9jVW5zYWZlKDApLERtPXEuZnJvbShbMF0pLEFpPUFkKCksam09SWQoKS5uZXh0VGljayxxZT1vdCgpKFwibXF0dC1wYWNrZXQ6d3JpdGVUb1N0cmVhbVwiKSxQbj1BaS5jYWNoZSxGbT1BaS5nZW5lcmF0ZU51bWJlcixXbT1BaS5nZW5lcmF0ZUNhY2hlLEtvPUFpLmdlbkJ1ZlZhcmlhYmxlQnl0ZUludCwkbT1BaS5nZW5lcmF0ZTRCeXRlQnVmZmVyLFRlPUdvLGtuPSEwO2Z1bmN0aW9uIGtkKHQsZSxyKXtzd2l0Y2gocWUoXCJnZW5lcmF0ZSBjYWxsZWRcIiksZS5jb3JrJiYoZS5jb3JrKCksam0oSG0sZSkpLGtuJiYoa249ITEsV20oKSkscWUoXCJnZW5lcmF0ZTogcGFja2V0LmNtZDogJXNcIix0LmNtZCksdC5jbWQpe2Nhc2VcImNvbm5lY3RcIjpyZXR1cm4gVm0odCxlKTtjYXNlXCJjb25uYWNrXCI6cmV0dXJuIHptKHQsZSxyKTtjYXNlXCJwdWJsaXNoXCI6cmV0dXJuIEttKHQsZSxyKTtjYXNlXCJwdWJhY2tcIjpjYXNlXCJwdWJyZWNcIjpjYXNlXCJwdWJyZWxcIjpjYXNlXCJwdWJjb21wXCI6cmV0dXJuIEdtKHQsZSxyKTtjYXNlXCJzdWJzY3JpYmVcIjpyZXR1cm4gUW0odCxlLHIpO2Nhc2VcInN1YmFja1wiOnJldHVybiBZbSh0LGUscik7Y2FzZVwidW5zdWJzY3JpYmVcIjpyZXR1cm4gSm0odCxlLHIpO2Nhc2VcInVuc3ViYWNrXCI6cmV0dXJuIFhtKHQsZSxyKTtjYXNlXCJwaW5ncmVxXCI6Y2FzZVwicGluZ3Jlc3BcIjpyZXR1cm4gWm0odCxlKTtjYXNlXCJkaXNjb25uZWN0XCI6cmV0dXJuIGUxKHQsZSxyKTtjYXNlXCJhdXRoXCI6cmV0dXJuIHQxKHQsZSxyKTtkZWZhdWx0OnJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiVW5rbm93biBjb21tYW5kXCIpKSwhMX19T2JqZWN0LmRlZmluZVByb3BlcnR5KGtkLFwiY2FjaGVOdW1iZXJzXCIse2dldCgpe3JldHVybiBUZT09PUdvfSxzZXQodCl7dD8oKCFQbnx8T2JqZWN0LmtleXMoUG4pLmxlbmd0aD09PTApJiYoa249ITApLFRlPUdvKTooa249ITEsVGU9cjEpO319KTtmdW5jdGlvbiBIbSh0KXt0LnVuY29yaygpO31mdW5jdGlvbiBWbSh0LGUscil7bGV0IGk9dHx8e30sbj1pLnByb3RvY29sSWR8fFwiTVFUVFwiLG89aS5wcm90b2NvbFZlcnNpb258fDQscz1pLndpbGwsYT1pLmNsZWFuLGw9aS5rZWVwYWxpdmV8fDAsYz1pLmNsaWVudElkfHxcIlwiLGg9aS51c2VybmFtZSxkPWkucGFzc3dvcmQsZz1pLnByb3BlcnRpZXM7YT09PXZvaWQgMCYmKGE9ITApO2xldCB5PTA7aWYoIW58fHR5cGVvZiBuIT1cInN0cmluZ1wiJiYhcS5pc0J1ZmZlcihuKSlyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgcHJvdG9jb2xJZFwiKSksITE7aWYoeSs9bi5sZW5ndGgrMixvIT09MyYmbyE9PTQmJm8hPT01KXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBwcm90b2NvbCB2ZXJzaW9uXCIpKSwhMTtpZih5Kz0xLCh0eXBlb2YgYz09XCJzdHJpbmdcInx8cS5pc0J1ZmZlcihjKSkmJihjfHxvPj00KSYmKGN8fGEpKXkrPXEuYnl0ZUxlbmd0aChjKSsyO2Vsc2Uge2lmKG88NClyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcImNsaWVudElkIG11c3QgYmUgc3VwcGxpZWQgYmVmb3JlIDMuMS4xXCIpKSwhMTtpZihhKjE9PT0wKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiY2xpZW50SWQgbXVzdCBiZSBnaXZlbiBpZiBjbGVhblNlc3Npb24gc2V0IHRvIDBcIikpLCExfWlmKHR5cGVvZiBsIT1cIm51bWJlclwifHxsPDB8fGw+NjU1MzV8fGwlMSE9PTApcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIGtlZXBhbGl2ZVwiKSksITE7eSs9Mix5Kz0xO2xldCB3LFM7aWYobz09PTUpe2lmKHc9V3QoZSxnKSwhdylyZXR1cm4gITE7eSs9dy5sZW5ndGg7fWlmKHMpe2lmKHR5cGVvZiBzIT1cIm9iamVjdFwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCB3aWxsXCIpKSwhMTtpZighcy50b3BpY3x8dHlwZW9mIHMudG9waWMhPVwic3RyaW5nXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHdpbGwgdG9waWNcIikpLCExO2lmKHkrPXEuYnl0ZUxlbmd0aChzLnRvcGljKSsyLHkrPTIscy5wYXlsb2FkKWlmKHMucGF5bG9hZC5sZW5ndGg+PTApdHlwZW9mIHMucGF5bG9hZD09XCJzdHJpbmdcIj95Kz1xLmJ5dGVMZW5ndGgocy5wYXlsb2FkKTp5Kz1zLnBheWxvYWQubGVuZ3RoO2Vsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHdpbGwgcGF5bG9hZFwiKSksITE7aWYoUz17fSxvPT09NSl7aWYoUz1XdChlLHMucHJvcGVydGllcyksIVMpcmV0dXJuICExO3krPVMubGVuZ3RoO319bGV0IEU9ITE7aWYoaCE9bnVsbClpZihQZChoKSlFPSEwLHkrPXEuYnl0ZUxlbmd0aChoKSsyO2Vsc2UgcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHVzZXJuYW1lXCIpKSwhMTtpZihkIT1udWxsKXtpZighRSlyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIlVzZXJuYW1lIGlzIHJlcXVpcmVkIHRvIHVzZSBwYXNzd29yZFwiKSksITE7aWYoUGQoZCkpeSs9T2QoZCkrMjtlbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBwYXNzd29yZFwiKSksITF9ZS53cml0ZShqLkNPTk5FQ1RfSEVBREVSKSxEZShlLHkpLFlyKGUsbiksaS5icmlkZ2VNb2RlJiYobys9MTI4KSxlLndyaXRlKG89PT0xMzE/ai5WRVJTSU9OMTMxOm89PT0xMzI/ai5WRVJTSU9OMTMyOm89PT00P2ouVkVSU0lPTjQ6bz09PTU/ai5WRVJTSU9ONTpqLlZFUlNJT04zKTtsZXQgST0wO3JldHVybiBJfD1oIT1udWxsP2ouVVNFUk5BTUVfTUFTSzowLEl8PWQhPW51bGw/ai5QQVNTV09SRF9NQVNLOjAsSXw9cyYmcy5yZXRhaW4/ai5XSUxMX1JFVEFJTl9NQVNLOjAsSXw9cyYmcy5xb3M/cy5xb3M8PGouV0lMTF9RT1NfU0hJRlQ6MCxJfD1zP2ouV0lMTF9GTEFHX01BU0s6MCxJfD1hP2ouQ0xFQU5fU0VTU0lPTl9NQVNLOjAsZS53cml0ZShxLmZyb20oW0ldKSksVGUoZSxsKSxvPT09NSYmdy53cml0ZSgpLFlyKGUsYykscyYmKG89PT01JiZTLndyaXRlKCksd3IoZSxzLnRvcGljKSxZcihlLHMucGF5bG9hZCkpLGghPW51bGwmJllyKGUsaCksZCE9bnVsbCYmWXIoZSxkKSwhMH1mdW5jdGlvbiB6bSh0LGUscil7bGV0IGk9cj9yLnByb3RvY29sVmVyc2lvbjo0LG49dHx8e30sbz1pPT09NT9uLnJlYXNvbkNvZGU6bi5yZXR1cm5Db2RlLHM9bi5wcm9wZXJ0aWVzLGE9MjtpZih0eXBlb2YgbyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgcmV0dXJuIGNvZGVcIikpLCExO2xldCBsPW51bGw7aWYoaT09PTUpe2lmKGw9V3QoZSxzKSwhbClyZXR1cm4gITE7YSs9bC5sZW5ndGg7fXJldHVybiBlLndyaXRlKGouQ09OTkFDS19IRUFERVIpLERlKGUsYSksZS53cml0ZShuLnNlc3Npb25QcmVzZW50P2ouU0VTU0lPTlBSRVNFTlRfSEVBREVSOkRtKSxlLndyaXRlKHEuZnJvbShbb10pKSxsPy53cml0ZSgpLCEwfWZ1bmN0aW9uIEttKHQsZSxyKXtxZShcInB1Ymxpc2g6IHBhY2tldDogJW9cIix0KTtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPW4ucW9zfHwwLHM9bi5yZXRhaW4/ai5SRVRBSU5fTUFTSzowLGE9bi50b3BpYyxsPW4ucGF5bG9hZHx8cW0sYz1uLm1lc3NhZ2VJZCxoPW4ucHJvcGVydGllcyxkPTA7aWYodHlwZW9mIGE9PVwic3RyaW5nXCIpZCs9cS5ieXRlTGVuZ3RoKGEpKzI7ZWxzZSBpZihxLmlzQnVmZmVyKGEpKWQrPWEubGVuZ3RoKzI7ZWxzZSByZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgdG9waWNcIikpLCExO2lmKHEuaXNCdWZmZXIobCk/ZCs9bC5sZW5ndGg6ZCs9cS5ieXRlTGVuZ3RoKGwpLG8mJnR5cGVvZiBjIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlSWRcIikpLCExO28mJihkKz0yKTtsZXQgZz1udWxsO2lmKGk9PT01KXtpZihnPVd0KGUsaCksIWcpcmV0dXJuICExO2QrPWcubGVuZ3RoO31yZXR1cm4gZS53cml0ZShqLlBVQkxJU0hfSEVBREVSW29dW24uZHVwPzE6MF1bcz8xOjBdKSxEZShlLGQpLFRlKGUsT2QoYSkpLGUud3JpdGUoYSksbz4wJiZUZShlLGMpLGc/LndyaXRlKCkscWUoXCJwdWJsaXNoOiBwYXlsb2FkOiAlb1wiLGwpLGUud3JpdGUobCl9ZnVuY3Rpb24gR20odCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5jbWR8fFwicHViYWNrXCIscz1uLm1lc3NhZ2VJZCxhPW4uZHVwJiZvPT09XCJwdWJyZWxcIj9qLkRVUF9NQVNLOjAsbD0wLGM9bi5yZWFzb25Db2RlLGg9bi5wcm9wZXJ0aWVzLGQ9aT09PTU/MzoyO2lmKG89PT1cInB1YnJlbFwiJiYobD0xKSx0eXBlb2YgcyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtsZXQgZz1udWxsO2lmKGk9PT01JiZ0eXBlb2YgaD09XCJvYmplY3RcIil7aWYoZz1JaShlLGgscixkKSwhZylyZXR1cm4gITE7ZCs9Zy5sZW5ndGg7fXJldHVybiBlLndyaXRlKGouQUNLU1tvXVtsXVthXVswXSksZD09PTMmJihkKz1jIT09MD8xOi0xKSxEZShlLGQpLFRlKGUscyksaT09PTUmJmQhPT0yJiZlLndyaXRlKHEuZnJvbShbY10pKSxnIT09bnVsbD9nLndyaXRlKCk6ZD09PTQmJmUud3JpdGUocS5mcm9tKFswXSkpLCEwfWZ1bmN0aW9uIFFtKHQsZSxyKXtxZShcInN1YnNjcmliZTogcGFja2V0OiBcIik7bGV0IGk9cj9yLnByb3RvY29sVmVyc2lvbjo0LG49dHx8e30sbz1uLmR1cD9qLkRVUF9NQVNLOjAscz1uLm1lc3NhZ2VJZCxhPW4uc3Vic2NyaXB0aW9ucyxsPW4ucHJvcGVydGllcyxjPTA7aWYodHlwZW9mIHMhPVwibnVtYmVyXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2VJZFwiKSksITE7Yys9MjtsZXQgaD1udWxsO2lmKGk9PT01KXtpZihoPVd0KGUsbCksIWgpcmV0dXJuICExO2MrPWgubGVuZ3RoO31pZih0eXBlb2YgYT09XCJvYmplY3RcIiYmYS5sZW5ndGgpZm9yKGxldCBnPTA7ZzxhLmxlbmd0aDtnKz0xKXtsZXQgeT1hW2ddLnRvcGljLHc9YVtnXS5xb3M7aWYodHlwZW9mIHkhPVwic3RyaW5nXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnMgLSBpbnZhbGlkIHRvcGljXCIpKSwhMTtpZih0eXBlb2YgdyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgcW9zXCIpKSwhMTtpZihpPT09NSl7aWYodHlwZW9mKGFbZ10ubmx8fCExKSE9XCJib29sZWFuXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnMgLSBpbnZhbGlkIE5vIExvY2FsXCIpKSwhMTtpZih0eXBlb2YoYVtnXS5yYXB8fCExKSE9XCJib29sZWFuXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIHN1YnNjcmlwdGlvbnMgLSBpbnZhbGlkIFJldGFpbiBhcyBQdWJsaXNoZWRcIikpLCExO2xldCBJPWFbZ10ucmh8fDA7aWYodHlwZW9mIEkhPVwibnVtYmVyXCJ8fEk+MilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgc3Vic2NyaXB0aW9ucyAtIGludmFsaWQgUmV0YWluIEhhbmRsaW5nXCIpKSwhMX1jKz1xLmJ5dGVMZW5ndGgoeSkrMisxO31lbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBzdWJzY3JpcHRpb25zXCIpKSwhMTtxZShcInN1YnNjcmliZTogd3JpdGluZyB0byBzdHJlYW06ICVvXCIsai5TVUJTQ1JJQkVfSEVBREVSKSxlLndyaXRlKGouU1VCU0NSSUJFX0hFQURFUlsxXVtvPzE6MF1bMF0pLERlKGUsYyksVGUoZSxzKSxoIT09bnVsbCYmaC53cml0ZSgpO2xldCBkPSEwO2ZvcihsZXQgZyBvZiBhKXtsZXQgeT1nLnRvcGljLHc9Zy5xb3MsUz0rZy5ubCxFPStnLnJhcCxJPWcucmgsQzt3cihlLHkpLEM9ai5TVUJTQ1JJQkVfT1BUSU9OU19RT1Nbd10saT09PTUmJihDfD1TP2ouU1VCU0NSSUJFX09QVElPTlNfTkw6MCxDfD1FP2ouU1VCU0NSSUJFX09QVElPTlNfUkFQOjAsQ3w9ST9qLlNVQlNDUklCRV9PUFRJT05TX1JIW0ldOjApLGQ9ZS53cml0ZShxLmZyb20oW0NdKSk7fXJldHVybiBkfWZ1bmN0aW9uIFltKHQsZSxyKXtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPW4ubWVzc2FnZUlkLHM9bi5ncmFudGVkLGE9bi5wcm9wZXJ0aWVzLGw9MDtpZih0eXBlb2YgbyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtpZihsKz0yLHR5cGVvZiBzPT1cIm9iamVjdFwiJiZzLmxlbmd0aClmb3IobGV0IGg9MDtoPHMubGVuZ3RoO2grPTEpe2lmKHR5cGVvZiBzW2hdIT1cIm51bWJlclwiKXJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBxb3MgdmVjdG9yXCIpKSwhMTtsKz0xO31lbHNlIHJldHVybiBlLmRlc3Ryb3kobmV3IEVycm9yKFwiSW52YWxpZCBxb3MgdmVjdG9yXCIpKSwhMTtsZXQgYz1udWxsO2lmKGk9PT01KXtpZihjPUlpKGUsYSxyLGwpLCFjKXJldHVybiAhMTtsKz1jLmxlbmd0aDt9cmV0dXJuIGUud3JpdGUoai5TVUJBQ0tfSEVBREVSKSxEZShlLGwpLFRlKGUsbyksYyE9PW51bGwmJmMud3JpdGUoKSxlLndyaXRlKHEuZnJvbShzKSl9ZnVuY3Rpb24gSm0odCxlLHIpe2xldCBpPXI/ci5wcm90b2NvbFZlcnNpb246NCxuPXR8fHt9LG89bi5tZXNzYWdlSWQscz1uLmR1cD9qLkRVUF9NQVNLOjAsYT1uLnVuc3Vic2NyaXB0aW9ucyxsPW4ucHJvcGVydGllcyxjPTA7aWYodHlwZW9mIG8hPVwibnVtYmVyXCIpcmV0dXJuIGUuZGVzdHJveShuZXcgRXJyb3IoXCJJbnZhbGlkIG1lc3NhZ2VJZFwiKSksITE7aWYoYys9Mix0eXBlb2YgYT09XCJvYmplY3RcIiYmYS5sZW5ndGgpZm9yKGxldCBnPTA7ZzxhLmxlbmd0aDtnKz0xKXtpZih0eXBlb2YgYVtnXSE9XCJzdHJpbmdcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgdW5zdWJzY3JpcHRpb25zXCIpKSwhMTtjKz1xLmJ5dGVMZW5ndGgoYVtnXSkrMjt9ZWxzZSByZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgdW5zdWJzY3JpcHRpb25zXCIpKSwhMTtsZXQgaD1udWxsO2lmKGk9PT01KXtpZihoPVd0KGUsbCksIWgpcmV0dXJuICExO2MrPWgubGVuZ3RoO31lLndyaXRlKGouVU5TVUJTQ1JJQkVfSEVBREVSWzFdW3M/MTowXVswXSksRGUoZSxjKSxUZShlLG8pLGghPT1udWxsJiZoLndyaXRlKCk7bGV0IGQ9ITA7Zm9yKGxldCBnPTA7ZzxhLmxlbmd0aDtnKyspZD13cihlLGFbZ10pO3JldHVybiBkfWZ1bmN0aW9uIFhtKHQsZSxyKXtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPW4ubWVzc2FnZUlkLHM9bi5kdXA/ai5EVVBfTUFTSzowLGE9bi5ncmFudGVkLGw9bi5wcm9wZXJ0aWVzLGM9bi5jbWQsaD0wLGQ9MjtpZih0eXBlb2YgbyE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbWVzc2FnZUlkXCIpKSwhMTtpZihpPT09NSlpZih0eXBlb2YgYT09XCJvYmplY3RcIiYmYS5sZW5ndGgpZm9yKGxldCB5PTA7eTxhLmxlbmd0aDt5Kz0xKXtpZih0eXBlb2YgYVt5XSE9XCJudW1iZXJcIilyZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgcW9zIHZlY3RvclwiKSksITE7ZCs9MTt9ZWxzZSByZXR1cm4gZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgcW9zIHZlY3RvclwiKSksITE7bGV0IGc9bnVsbDtpZihpPT09NSl7aWYoZz1JaShlLGwscixkKSwhZylyZXR1cm4gITE7ZCs9Zy5sZW5ndGg7fXJldHVybiBlLndyaXRlKGouQUNLU1tjXVtoXVtzXVswXSksRGUoZSxkKSxUZShlLG8pLGchPT1udWxsJiZnLndyaXRlKCksaT09PTUmJmUud3JpdGUocS5mcm9tKGEpKSwhMH1mdW5jdGlvbiBabSh0LGUscil7cmV0dXJuIGUud3JpdGUoai5FTVBUWVt0LmNtZF0pfWZ1bmN0aW9uIGUxKHQsZSxyKXtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPW4ucmVhc29uQ29kZSxzPW4ucHJvcGVydGllcyxhPWk9PT01PzE6MCxsPW51bGw7aWYoaT09PTUpe2lmKGw9SWkoZSxzLHIsYSksIWwpcmV0dXJuICExO2ErPWwubGVuZ3RoO31yZXR1cm4gZS53cml0ZShxLmZyb20oW2ouY29kZXMuZGlzY29ubmVjdDw8NF0pKSxEZShlLGEpLGk9PT01JiZlLndyaXRlKHEuZnJvbShbb10pKSxsIT09bnVsbCYmbC53cml0ZSgpLCEwfWZ1bmN0aW9uIHQxKHQsZSxyKXtsZXQgaT1yP3IucHJvdG9jb2xWZXJzaW9uOjQsbj10fHx7fSxvPW4ucmVhc29uQ29kZSxzPW4ucHJvcGVydGllcyxhPWk9PT01PzE6MDtpIT09NSYmZS5kZXN0cm95KG5ldyBFcnJvcihcIkludmFsaWQgbXF0dCB2ZXJzaW9uIGZvciBhdXRoIHBhY2tldFwiKSk7bGV0IGw9SWkoZSxzLHIsYSk7cmV0dXJuIGw/KGErPWwubGVuZ3RoLGUud3JpdGUocS5mcm9tKFtqLmNvZGVzLmF1dGg8PDRdKSksRGUoZSxhKSxlLndyaXRlKHEuZnJvbShbb10pKSxsIT09bnVsbCYmbC53cml0ZSgpLCEwKTohMX12YXIgVGQ9e307ZnVuY3Rpb24gRGUodCxlKXtpZihlPmouVkFSQllURUlOVF9NQVgpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgdmFyaWFibGUgYnl0ZSBpbnRlZ2VyOiAke2V9YCkpLCExO2xldCByPVRkW2VdO3JldHVybiByfHwocj1LbyhlKSxlPDE2Mzg0JiYoVGRbZV09cikpLHFlKFwid3JpdGVWYXJCeXRlSW50OiB3cml0aW5nIHRvIHN0cmVhbTogJW9cIixyKSx0LndyaXRlKHIpfWZ1bmN0aW9uIHdyKHQsZSl7bGV0IHI9cS5ieXRlTGVuZ3RoKGUpO3JldHVybiBUZSh0LHIpLHFlKFwid3JpdGVTdHJpbmc6ICVzXCIsZSksdC53cml0ZShlLFwidXRmOFwiKX1mdW5jdGlvbiBSZCh0LGUscil7d3IodCxlKSx3cih0LHIpO31mdW5jdGlvbiBHbyh0LGUpe3JldHVybiBxZShcIndyaXRlTnVtYmVyQ2FjaGVkOiBudW1iZXI6ICVkXCIsZSkscWUoXCJ3cml0ZU51bWJlckNhY2hlZDogJW9cIixQbltlXSksdC53cml0ZShQbltlXSl9ZnVuY3Rpb24gcjEodCxlKXtsZXQgcj1GbShlKTtyZXR1cm4gcWUoXCJ3cml0ZU51bWJlckdlbmVyYXRlZDogJW9cIixyKSx0LndyaXRlKHIpfWZ1bmN0aW9uIGkxKHQsZSl7bGV0IHI9JG0oZSk7cmV0dXJuIHFlKFwid3JpdGU0Qnl0ZU51bWJlcjogJW9cIixyKSx0LndyaXRlKHIpfWZ1bmN0aW9uIFlyKHQsZSl7dHlwZW9mIGU9PVwic3RyaW5nXCI/d3IodCxlKTplPyhUZSh0LGUubGVuZ3RoKSx0LndyaXRlKGUpKTpUZSh0LDApO31mdW5jdGlvbiBXdCh0LGUpe2lmKHR5cGVvZiBlIT1cIm9iamVjdFwifHxlLmxlbmd0aCE9bnVsbClyZXR1cm4ge2xlbmd0aDoxLHdyaXRlKCl7QmQodCx7fSwwKTt9fTtsZXQgcj0wO2Z1bmN0aW9uIGkobyxzKXtsZXQgYT1qLnByb3BlcnRpZXNUeXBlc1tvXSxsPTA7c3dpdGNoKGEpe2Nhc2VcImJ5dGVcIjp7aWYodHlwZW9mIHMhPVwiYm9vbGVhblwiKXJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkICR7b306ICR7c31gKSksITE7bCs9MSsxO2JyZWFrfWNhc2VcImludDhcIjp7aWYodHlwZW9mIHMhPVwibnVtYmVyXCJ8fHM8MHx8cz4yNTUpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTtsKz0xKzE7YnJlYWt9Y2FzZVwiYmluYXJ5XCI6e2lmKHMmJnM9PT1udWxsKXJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkICR7b306ICR7c31gKSksITE7bCs9MStxLmJ5dGVMZW5ndGgocykrMjticmVha31jYXNlXCJpbnQxNlwiOntpZih0eXBlb2YgcyE9XCJudW1iZXJcInx8czwwfHxzPjY1NTM1KXJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkICR7b306ICR7c31gKSksITE7bCs9MSsyO2JyZWFrfWNhc2VcImludDMyXCI6e2lmKHR5cGVvZiBzIT1cIm51bWJlclwifHxzPDB8fHM+NDI5NDk2NzI5NSlyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCAke299OiAke3N9YCkpLCExO2wrPTErNDticmVha31jYXNlXCJ2YXJcIjp7aWYodHlwZW9mIHMhPVwibnVtYmVyXCJ8fHM8MHx8cz4yNjg0MzU0NTUpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTtsKz0xK3EuYnl0ZUxlbmd0aChLbyhzKSk7YnJlYWt9Y2FzZVwic3RyaW5nXCI6e2lmKHR5cGVvZiBzIT1cInN0cmluZ1wiKXJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkICR7b306ICR7c31gKSksITE7bCs9MSsyK3EuYnl0ZUxlbmd0aChzLnRvU3RyaW5nKCkpO2JyZWFrfWNhc2VcInBhaXJcIjp7aWYodHlwZW9mIHMhPVwib2JqZWN0XCIpcmV0dXJuIHQuZGVzdHJveShuZXcgRXJyb3IoYEludmFsaWQgJHtvfTogJHtzfWApKSwhMTtsKz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzKS5yZWR1Y2UoKGMsaCk9PntsZXQgZD1zW2hdO3JldHVybiBBcnJheS5pc0FycmF5KGQpP2MrPWQucmVkdWNlKChnLHkpPT4oZys9MSsyK3EuYnl0ZUxlbmd0aChoLnRvU3RyaW5nKCkpKzIrcS5ieXRlTGVuZ3RoKHkudG9TdHJpbmcoKSksZyksMCk6Yys9MSsyK3EuYnl0ZUxlbmd0aChoLnRvU3RyaW5nKCkpKzIrcS5ieXRlTGVuZ3RoKHNbaF0udG9TdHJpbmcoKSksY30sMCk7YnJlYWt9ZGVmYXVsdDpyZXR1cm4gdC5kZXN0cm95KG5ldyBFcnJvcihgSW52YWxpZCBwcm9wZXJ0eSAke299OiAke3N9YCkpLCExfXJldHVybiBsfWlmKGUpZm9yKGxldCBvIGluIGUpe2xldCBzPTAsYT0wLGw9ZVtvXTtpZihBcnJheS5pc0FycmF5KGwpKWZvcihsZXQgYz0wO2M8bC5sZW5ndGg7YysrKXtpZihhPWkobyxsW2NdKSwhYSlyZXR1cm4gITE7cys9YTt9ZWxzZSB7aWYoYT1pKG8sbCksIWEpcmV0dXJuICExO3M9YTt9aWYoIXMpcmV0dXJuICExO3IrPXM7fXJldHVybiB7bGVuZ3RoOnEuYnl0ZUxlbmd0aChLbyhyKSkrcix3cml0ZSgpe0JkKHQsZSxyKTt9fX1mdW5jdGlvbiBJaSh0LGUscixpKXtsZXQgbj1bXCJyZWFzb25TdHJpbmdcIixcInVzZXJQcm9wZXJ0aWVzXCJdLG89ciYmci5wcm9wZXJ0aWVzJiZyLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemU/ci5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplOjAscz1XdCh0LGUpO2lmKG8pZm9yKDtpK3MubGVuZ3RoPm87KXtsZXQgYT1uLnNoaWZ0KCk7aWYoYSYmZVthXSlkZWxldGUgZVthXSxzPVd0KHQsZSk7ZWxzZSByZXR1cm4gITF9cmV0dXJuIHN9ZnVuY3Rpb24gQ2QodCxlLHIpe3N3aXRjaChqLnByb3BlcnRpZXNUeXBlc1tlXSl7Y2FzZVwiYnl0ZVwiOnt0LndyaXRlKHEuZnJvbShbai5wcm9wZXJ0aWVzW2VdXSkpLHQud3JpdGUocS5mcm9tKFsrcl0pKTticmVha31jYXNlXCJpbnQ4XCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksdC53cml0ZShxLmZyb20oW3JdKSk7YnJlYWt9Y2FzZVwiYmluYXJ5XCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksWXIodCxyKTticmVha31jYXNlXCJpbnQxNlwiOnt0LndyaXRlKHEuZnJvbShbai5wcm9wZXJ0aWVzW2VdXSkpLFRlKHQscik7YnJlYWt9Y2FzZVwiaW50MzJcIjp7dC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSxpMSh0LHIpO2JyZWFrfWNhc2VcInZhclwiOnt0LndyaXRlKHEuZnJvbShbai5wcm9wZXJ0aWVzW2VdXSkpLERlKHQscik7YnJlYWt9Y2FzZVwic3RyaW5nXCI6e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksd3IodCxyKTticmVha31jYXNlXCJwYWlyXCI6e09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmZvckVhY2gobj0+e2xldCBvPXJbbl07QXJyYXkuaXNBcnJheShvKT9vLmZvckVhY2gocz0+e3Qud3JpdGUocS5mcm9tKFtqLnByb3BlcnRpZXNbZV1dKSksUmQodCxuLnRvU3RyaW5nKCkscy50b1N0cmluZygpKTt9KToodC53cml0ZShxLmZyb20oW2oucHJvcGVydGllc1tlXV0pKSxSZCh0LG4udG9TdHJpbmcoKSxvLnRvU3RyaW5nKCkpKTt9KTticmVha31kZWZhdWx0OnJldHVybiB0LmRlc3Ryb3kobmV3IEVycm9yKGBJbnZhbGlkIHByb3BlcnR5ICR7ZX0gdmFsdWU6ICR7cn1gKSksITF9fWZ1bmN0aW9uIEJkKHQsZSxyKXtEZSh0LHIpO2ZvcihsZXQgaSBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZlW2ldIT09bnVsbCl7bGV0IG49ZVtpXTtpZihBcnJheS5pc0FycmF5KG4pKWZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKUNkKHQsaSxuW29dKTtlbHNlIENkKHQsaSxuKTt9fWZ1bmN0aW9uIE9kKHQpe3JldHVybiB0P3QgaW5zdGFuY2VvZiBxP3QubGVuZ3RoOnEuYnl0ZUxlbmd0aCh0KTowfWZ1bmN0aW9uIFBkKHQpe3JldHVybiB0eXBlb2YgdD09XCJzdHJpbmdcInx8dCBpbnN0YW5jZW9mIHF9eGQuZXhwb3J0cz1rZDt9KTt2YXIgVWQ9TSgoU2ssTGQpPT57XygpO3YoKTttKCk7dmFyIG4xPVFvKCkse0V2ZW50RW1pdHRlcjpzMX09KHNyKCksWChucikpLHtCdWZmZXI6TWR9PShiZSgpLFgobWUpKTtmdW5jdGlvbiBvMSh0LGUpe2xldCByPW5ldyBZbztyZXR1cm4gbjEodCxyLGUpLHIuY29uY2F0KCl9dmFyIFlvPWNsYXNzIGV4dGVuZHMgczF7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuX2FycmF5PW5ldyBBcnJheSgyMCksdGhpcy5faT0wO313cml0ZShlKXtyZXR1cm4gdGhpcy5fYXJyYXlbdGhpcy5faSsrXT1lLCEwfWNvbmNhdCgpe2xldCBlPTAscj1uZXcgQXJyYXkodGhpcy5fYXJyYXkubGVuZ3RoKSxpPXRoaXMuX2FycmF5LG49MCxvO2ZvcihvPTA7bzxpLmxlbmd0aCYmaVtvXSE9PXZvaWQgMDtvKyspdHlwZW9mIGlbb10hPVwic3RyaW5nXCI/cltvXT1pW29dLmxlbmd0aDpyW29dPU1kLmJ5dGVMZW5ndGgoaVtvXSksZSs9cltvXTtsZXQgcz1NZC5hbGxvY1Vuc2FmZShlKTtmb3Iobz0wO288aS5sZW5ndGgmJmlbb10hPT12b2lkIDA7bysrKXR5cGVvZiBpW29dIT1cInN0cmluZ1wiPyhpW29dLmNvcHkocyxuKSxuKz1yW29dKToocy53cml0ZShpW29dLG4pLG4rPXJbb10pO3JldHVybiBzfWRlc3Ryb3koZSl7ZSYmdGhpcy5lbWl0KFwiZXJyb3JcIixlKTt9fTtMZC5leHBvcnRzPW8xO30pO3ZhciBOZD1NKE9uPT57XygpO3YoKTttKCk7T24ucGFyc2VyPW1kKCkucGFyc2VyO09uLmdlbmVyYXRlPVVkKCk7T24ud3JpdGVUb1N0cmVhbT1RbygpO30pO3ZhciBabz1NKFhvPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFhvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBKbz1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMubmV4dElkPU1hdGgubWF4KDEsTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjY1NTM1KSk7fWFsbG9jYXRlKCl7bGV0IGU9dGhpcy5uZXh0SWQrKztyZXR1cm4gdGhpcy5uZXh0SWQ9PT02NTUzNiYmKHRoaXMubmV4dElkPTEpLGV9Z2V0TGFzdEFsbG9jYXRlZCgpe3JldHVybiB0aGlzLm5leHRJZD09PTE/NjU1MzU6dGhpcy5uZXh0SWQtMX1yZWdpc3RlcihlKXtyZXR1cm4gITB9ZGVhbGxvY2F0ZShlKXt9Y2xlYXIoKXt9fTtYby5kZWZhdWx0PUpvO30pO3ZhciBEZD1NKChaayxxZCk9PntfKCk7digpO20oKTtxZC5leHBvcnRzPWExO2Z1bmN0aW9uIEpyKHQpe3JldHVybiB0IGluc3RhbmNlb2YgeD94LmZyb20odCk6bmV3IHQuY29uc3RydWN0b3IodC5idWZmZXIuc2xpY2UoKSx0LmJ5dGVPZmZzZXQsdC5sZW5ndGgpfWZ1bmN0aW9uIGExKHQpe2lmKHQ9dHx8e30sdC5jaXJjbGVzKXJldHVybiBsMSh0KTtyZXR1cm4gdC5wcm90bz9pOnI7ZnVuY3Rpb24gZShuLG8pe2Zvcih2YXIgcz1PYmplY3Qua2V5cyhuKSxhPW5ldyBBcnJheShzLmxlbmd0aCksbD0wO2w8cy5sZW5ndGg7bCsrKXt2YXIgYz1zW2xdLGg9bltjXTt0eXBlb2YgaCE9XCJvYmplY3RcInx8aD09PW51bGw/YVtjXT1oOmggaW5zdGFuY2VvZiBEYXRlP2FbY109bmV3IERhdGUoaCk6QXJyYXlCdWZmZXIuaXNWaWV3KGgpP2FbY109SnIoaCk6YVtjXT1vKGgpO31yZXR1cm4gYX1mdW5jdGlvbiByKG4pe2lmKHR5cGVvZiBuIT1cIm9iamVjdFwifHxuPT09bnVsbClyZXR1cm4gbjtpZihuIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUobik7aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gZShuLHIpO2lmKG4gaW5zdGFuY2VvZiBNYXApcmV0dXJuIG5ldyBNYXAoZShBcnJheS5mcm9tKG4pLHIpKTtpZihuIGluc3RhbmNlb2YgU2V0KXJldHVybiBuZXcgU2V0KGUoQXJyYXkuZnJvbShuKSxyKSk7dmFyIG89e307Zm9yKHZhciBzIGluIG4paWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobixzKSE9PSExKXt2YXIgYT1uW3NdO3R5cGVvZiBhIT1cIm9iamVjdFwifHxhPT09bnVsbD9vW3NdPWE6YSBpbnN0YW5jZW9mIERhdGU/b1tzXT1uZXcgRGF0ZShhKTphIGluc3RhbmNlb2YgTWFwP29bc109bmV3IE1hcChlKEFycmF5LmZyb20oYSkscikpOmEgaW5zdGFuY2VvZiBTZXQ/b1tzXT1uZXcgU2V0KGUoQXJyYXkuZnJvbShhKSxyKSk6QXJyYXlCdWZmZXIuaXNWaWV3KGEpP29bc109SnIoYSk6b1tzXT1yKGEpO31yZXR1cm4gb31mdW5jdGlvbiBpKG4pe2lmKHR5cGVvZiBuIT1cIm9iamVjdFwifHxuPT09bnVsbClyZXR1cm4gbjtpZihuIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gbmV3IERhdGUobik7aWYoQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gZShuLGkpO2lmKG4gaW5zdGFuY2VvZiBNYXApcmV0dXJuIG5ldyBNYXAoZShBcnJheS5mcm9tKG4pLGkpKTtpZihuIGluc3RhbmNlb2YgU2V0KXJldHVybiBuZXcgU2V0KGUoQXJyYXkuZnJvbShuKSxpKSk7dmFyIG89e307Zm9yKHZhciBzIGluIG4pe3ZhciBhPW5bc107dHlwZW9mIGEhPVwib2JqZWN0XCJ8fGE9PT1udWxsP29bc109YTphIGluc3RhbmNlb2YgRGF0ZT9vW3NdPW5ldyBEYXRlKGEpOmEgaW5zdGFuY2VvZiBNYXA/b1tzXT1uZXcgTWFwKGUoQXJyYXkuZnJvbShhKSxpKSk6YSBpbnN0YW5jZW9mIFNldD9vW3NdPW5ldyBTZXQoZShBcnJheS5mcm9tKGEpLGkpKTpBcnJheUJ1ZmZlci5pc1ZpZXcoYSk/b1tzXT1KcihhKTpvW3NdPWkoYSk7fXJldHVybiBvfX1mdW5jdGlvbiBsMSh0KXt2YXIgZT1bXSxyPVtdO3JldHVybiB0LnByb3RvP286bjtmdW5jdGlvbiBpKHMsYSl7Zm9yKHZhciBsPU9iamVjdC5rZXlzKHMpLGM9bmV3IEFycmF5KGwubGVuZ3RoKSxoPTA7aDxsLmxlbmd0aDtoKyspe3ZhciBkPWxbaF0sZz1zW2RdO2lmKHR5cGVvZiBnIT1cIm9iamVjdFwifHxnPT09bnVsbCljW2RdPWc7ZWxzZSBpZihnIGluc3RhbmNlb2YgRGF0ZSljW2RdPW5ldyBEYXRlKGcpO2Vsc2UgaWYoQXJyYXlCdWZmZXIuaXNWaWV3KGcpKWNbZF09SnIoZyk7ZWxzZSB7dmFyIHk9ZS5pbmRleE9mKGcpO3khPT0tMT9jW2RdPXJbeV06Y1tkXT1hKGcpO319cmV0dXJuIGN9ZnVuY3Rpb24gbihzKXtpZih0eXBlb2YgcyE9XCJvYmplY3RcInx8cz09PW51bGwpcmV0dXJuIHM7aWYocyBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKHMpO2lmKEFycmF5LmlzQXJyYXkocykpcmV0dXJuIGkocyxuKTtpZihzIGluc3RhbmNlb2YgTWFwKXJldHVybiBuZXcgTWFwKGkoQXJyYXkuZnJvbShzKSxuKSk7aWYocyBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IFNldChpKEFycmF5LmZyb20ocyksbikpO3ZhciBhPXt9O2UucHVzaChzKSxyLnB1c2goYSk7Zm9yKHZhciBsIGluIHMpaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocyxsKSE9PSExKXt2YXIgYz1zW2xdO2lmKHR5cGVvZiBjIT1cIm9iamVjdFwifHxjPT09bnVsbClhW2xdPWM7ZWxzZSBpZihjIGluc3RhbmNlb2YgRGF0ZSlhW2xdPW5ldyBEYXRlKGMpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIE1hcClhW2xdPW5ldyBNYXAoaShBcnJheS5mcm9tKGMpLG4pKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBTZXQpYVtsXT1uZXcgU2V0KGkoQXJyYXkuZnJvbShjKSxuKSk7ZWxzZSBpZihBcnJheUJ1ZmZlci5pc1ZpZXcoYykpYVtsXT1KcihjKTtlbHNlIHt2YXIgaD1lLmluZGV4T2YoYyk7aCE9PS0xP2FbbF09cltoXTphW2xdPW4oYyk7fX1yZXR1cm4gZS5wb3AoKSxyLnBvcCgpLGF9ZnVuY3Rpb24gbyhzKXtpZih0eXBlb2YgcyE9XCJvYmplY3RcInx8cz09PW51bGwpcmV0dXJuIHM7aWYocyBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIG5ldyBEYXRlKHMpO2lmKEFycmF5LmlzQXJyYXkocykpcmV0dXJuIGkocyxvKTtpZihzIGluc3RhbmNlb2YgTWFwKXJldHVybiBuZXcgTWFwKGkoQXJyYXkuZnJvbShzKSxvKSk7aWYocyBpbnN0YW5jZW9mIFNldClyZXR1cm4gbmV3IFNldChpKEFycmF5LmZyb20ocyksbykpO3ZhciBhPXt9O2UucHVzaChzKSxyLnB1c2goYSk7Zm9yKHZhciBsIGluIHMpe3ZhciBjPXNbbF07aWYodHlwZW9mIGMhPVwib2JqZWN0XCJ8fGM9PT1udWxsKWFbbF09YztlbHNlIGlmKGMgaW5zdGFuY2VvZiBEYXRlKWFbbF09bmV3IERhdGUoYyk7ZWxzZSBpZihjIGluc3RhbmNlb2YgTWFwKWFbbF09bmV3IE1hcChpKEFycmF5LmZyb20oYyksbykpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIFNldClhW2xdPW5ldyBTZXQoaShBcnJheS5mcm9tKGMpLG8pKTtlbHNlIGlmKEFycmF5QnVmZmVyLmlzVmlldyhjKSlhW2xdPUpyKGMpO2Vsc2Uge3ZhciBoPWUuaW5kZXhPZihjKTtoIT09LTE/YVtsXT1yW2hdOmFbbF09byhjKTt9fXJldHVybiBlLnBvcCgpLHIucG9wKCksYX19fSk7dmFyIEZkPU0oKHVPLGpkKT0+e18oKTt2KCk7bSgpO2pkLmV4cG9ydHM9RGQoKSgpO30pO3ZhciAkZD1NKFhyPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFhyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO1hyLnZhbGlkYXRlVG9waWNzPVhyLnZhbGlkYXRlVG9waWM9dm9pZCAwO2Z1bmN0aW9uIFdkKHQpe2xldCBlPXQuc3BsaXQoXCIvXCIpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0hPT1cIitcIil7aWYoZVtyXT09PVwiI1wiKXJldHVybiByPT09ZS5sZW5ndGgtMTtpZihlW3JdLmluZGV4T2YoXCIrXCIpIT09LTF8fGVbcl0uaW5kZXhPZihcIiNcIikhPT0tMSlyZXR1cm4gITF9cmV0dXJuICEwfVhyLnZhbGlkYXRlVG9waWM9V2Q7ZnVuY3Rpb24gdTEodCl7aWYodC5sZW5ndGg9PT0wKXJldHVybiBcImVtcHR5X3RvcGljX2xpc3RcIjtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZighV2QodFtlXSkpcmV0dXJuIHRbZV07cmV0dXJuIG51bGx9WHIudmFsaWRhdGVUb3BpY3M9dTE7fSk7dmFyIHJhPU0odGE9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGYxPWp0KCksYzE9e29iamVjdE1vZGU6ITB9LGgxPXtjbGVhbjohMH0sZWE9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPWV8fHt9LHRoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30saDEpLGUpLHRoaXMuX2luZmxpZ2h0cz1uZXcgTWFwO31wdXQoZSxyKXtyZXR1cm4gdGhpcy5faW5mbGlnaHRzLnNldChlLm1lc3NhZ2VJZCxlKSxyJiZyKCksdGhpc31jcmVhdGVTdHJlYW0oKXtsZXQgZT1uZXcgZjEuUmVhZGFibGUoYzEpLHI9W10saT0hMSxuPTA7cmV0dXJuIHRoaXMuX2luZmxpZ2h0cy5mb3JFYWNoKChvLHMpPT57ci5wdXNoKG8pO30pLGUuX3JlYWQ9KCk9PnshaSYmbjxyLmxlbmd0aD9lLnB1c2gocltuKytdKTplLnB1c2gobnVsbCk7fSxlLmRlc3Ryb3k9bz0+e2lmKCFpKXJldHVybiBpPSEwLHNldFRpbWVvdXQoKCk9PntlLmVtaXQoXCJjbG9zZVwiKTt9LDApLGV9LGV9ZGVsKGUscil7bGV0IGk9dGhpcy5faW5mbGlnaHRzLmdldChlLm1lc3NhZ2VJZCk7cmV0dXJuIGk/KHRoaXMuX2luZmxpZ2h0cy5kZWxldGUoZS5tZXNzYWdlSWQpLHIobnVsbCxpKSk6ciYmcihuZXcgRXJyb3IoXCJtaXNzaW5nIHBhY2tldFwiKSksdGhpc31nZXQoZSxyKXtsZXQgaT10aGlzLl9pbmZsaWdodHMuZ2V0KGUubWVzc2FnZUlkKTtyZXR1cm4gaT9yKG51bGwsaSk6ciYmcihuZXcgRXJyb3IoXCJtaXNzaW5nIHBhY2tldFwiKSksdGhpc31jbG9zZShlKXt0aGlzLm9wdGlvbnMuY2xlYW4mJih0aGlzLl9pbmZsaWdodHM9bnVsbCksZSYmZSgpO319O3RhLmRlZmF1bHQ9ZWE7fSk7dmFyIFZkPU0oaWE9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaWEsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEhkPVswLDE2LDEyOCwxMzEsMTM1LDE0NCwxNDUsMTUxLDE1M10sZDE9KHQsZSxyKT0+e3QubG9nKFwiaGFuZGxlUHVibGlzaDogcGFja2V0ICVvXCIsZSkscj10eXBlb2YgcjxcInVcIj9yOnQubm9vcDtsZXQgaT1lLnRvcGljLnRvU3RyaW5nKCksbj1lLnBheWxvYWQse3FvczpvfT1lLHttZXNzYWdlSWQ6c309ZSx7b3B0aW9uczphfT10O2lmKHQub3B0aW9ucy5wcm90b2NvbFZlcnNpb249PT01KXtsZXQgbDtpZihlLnByb3BlcnRpZXMmJihsPWUucHJvcGVydGllcy50b3BpY0FsaWFzKSx0eXBlb2YgbDxcInVcIilpZihpLmxlbmd0aD09PTApaWYobD4wJiZsPD02NTUzNSl7bGV0IGM9dC50b3BpY0FsaWFzUmVjdi5nZXRUb3BpY0J5QWxpYXMobCk7aWYoYylpPWMsdC5sb2coXCJoYW5kbGVQdWJsaXNoIDo6IHRvcGljIGNvbXBsZW1lbnRlZCBieSBhbGlhcy4gdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsaSxsKTtlbHNlIHt0LmxvZyhcImhhbmRsZVB1Ymxpc2ggOjogdW5yZWdpc3RlcmVkIHRvcGljIGFsaWFzLiBhbGlhczogJWRcIixsKSx0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIlJlY2VpdmVkIHVucmVnaXN0ZXJlZCBUb3BpYyBBbGlhc1wiKSk7cmV0dXJufX1lbHNlIHt0LmxvZyhcImhhbmRsZVB1Ymxpc2ggOjogdG9waWMgYWxpYXMgb3V0IG9mIHJhbmdlLiBhbGlhczogJWRcIixsKSx0LmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIlJlY2VpdmVkIFRvcGljIEFsaWFzIGlzIG91dCBvZiByYW5nZVwiKSk7cmV0dXJufWVsc2UgaWYodC50b3BpY0FsaWFzUmVjdi5wdXQoaSxsKSl0LmxvZyhcImhhbmRsZVB1Ymxpc2ggOjogcmVnaXN0ZXJlZCB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLGwpO2Vsc2Uge3QubG9nKFwiaGFuZGxlUHVibGlzaCA6OiB0b3BpYyBhbGlhcyBvdXQgb2YgcmFuZ2UuIGFsaWFzOiAlZFwiLGwpLHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiUmVjZWl2ZWQgVG9waWMgQWxpYXMgaXMgb3V0IG9mIHJhbmdlXCIpKTtyZXR1cm59fXN3aXRjaCh0LmxvZyhcImhhbmRsZVB1Ymxpc2g6IHFvcyAlZFwiLG8pLG8pe2Nhc2UgMjp7YS5jdXN0b21IYW5kbGVBY2tzKGksbixlLChsLGMpPT57aWYodHlwZW9mIGw9PVwibnVtYmVyXCImJihjPWwsbD1udWxsKSxsKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLGwpO2lmKEhkLmluZGV4T2YoYyk9PT0tMSlyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJXcm9uZyByZWFzb24gY29kZSBmb3IgcHVicmVjXCIpKTtjP3QuX3NlbmRQYWNrZXQoe2NtZDpcInB1YnJlY1wiLG1lc3NhZ2VJZDpzLHJlYXNvbkNvZGU6Y30scik6dC5pbmNvbWluZ1N0b3JlLnB1dChlLCgpPT57dC5fc2VuZFBhY2tldCh7Y21kOlwicHVicmVjXCIsbWVzc2FnZUlkOnN9LHIpO30pO30pO2JyZWFrfWNhc2UgMTp7YS5jdXN0b21IYW5kbGVBY2tzKGksbixlLChsLGMpPT57aWYodHlwZW9mIGw9PVwibnVtYmVyXCImJihjPWwsbD1udWxsKSxsKXJldHVybiB0LmVtaXQoXCJlcnJvclwiLGwpO2lmKEhkLmluZGV4T2YoYyk9PT0tMSlyZXR1cm4gdC5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJXcm9uZyByZWFzb24gY29kZSBmb3IgcHViYWNrXCIpKTtjfHx0LmVtaXQoXCJtZXNzYWdlXCIsaSxuLGUpLHQuaGFuZGxlTWVzc2FnZShlLGg9PntpZihoKXJldHVybiByJiZyKGgpO3QuX3NlbmRQYWNrZXQoe2NtZDpcInB1YmFja1wiLG1lc3NhZ2VJZDpzLHJlYXNvbkNvZGU6Y30scik7fSk7fSk7YnJlYWt9Y2FzZSAwOnQuZW1pdChcIm1lc3NhZ2VcIixpLG4sZSksdC5oYW5kbGVNZXNzYWdlKGUscik7YnJlYWs7ZGVmYXVsdDp0LmxvZyhcImhhbmRsZVB1Ymxpc2g6IHVua25vd24gUW9TLiBEb2luZyBub3RoaW5nLlwiKTticmVha319O2lhLmRlZmF1bHQ9ZDE7fSk7dmFyIHpkPU0oKFFPLHAxKT0+e3AxLmV4cG9ydHM9e3ZlcnNpb246XCI1LjEwLjFcIn07fSk7dmFyIF9yPU0oYXQ9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYXQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7YXQuTVFUVEpTX1ZFUlNJT049YXQubmV4dFRpY2s9YXQuYXBwbHlNaXhpbj1hdC5FcnJvcldpdGhSZWFzb25Db2RlPXZvaWQgMDt2YXIgbmE9Y2xhc3MgdCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSksdGhpcy5jb2RlPXIsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpLE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5uYW1lPVwiRXJyb3JXaXRoUmVhc29uQ29kZVwiO319O2F0LkVycm9yV2l0aFJlYXNvbkNvZGU9bmE7ZnVuY3Rpb24gZzEodCxlLHI9ITEpe3ZhciBpO2xldCBuPVtlXTtmb3IoOzspe2xldCBvPW5bMF0scz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7aWYocz8ucHJvdG90eXBlKW4udW5zaGlmdChzKTtlbHNlIGJyZWFrfWZvcihsZXQgbyBvZiBuKWZvcihsZXQgcyBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvLnByb3RvdHlwZSkpKHJ8fHMhPT1cImNvbnN0cnVjdG9yXCIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUscywoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8ucHJvdG90eXBlLHMpKSE9PW51bGwmJmkhPT12b2lkIDA/aTpPYmplY3QuY3JlYXRlKG51bGwpKTt9YXQuYXBwbHlNaXhpbj1nMTthdC5uZXh0VGljaz10eXBlb2YoQj09PW51bGx8fEI9PT12b2lkIDA/dm9pZCAwOkIubmV4dFRpY2spPT1cImZ1bmN0aW9uXCI/Qi5uZXh0VGljazp0PT57c2V0VGltZW91dCh0LDApO307YXQuTVFUVEpTX1ZFUlNJT049emQoKS52ZXJzaW9uO30pO3ZhciBUaT1NKCR0PT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KCR0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pOyR0LlJlYXNvbkNvZGVzPXZvaWQgMDt2YXIgS2Q9X3IoKTskdC5SZWFzb25Db2Rlcz17MDpcIlwiLDE6XCJVbmFjY2VwdGFibGUgcHJvdG9jb2wgdmVyc2lvblwiLDI6XCJJZGVudGlmaWVyIHJlamVjdGVkXCIsMzpcIlNlcnZlciB1bmF2YWlsYWJsZVwiLDQ6XCJCYWQgdXNlcm5hbWUgb3IgcGFzc3dvcmRcIiw1OlwiTm90IGF1dGhvcml6ZWRcIiwxNjpcIk5vIG1hdGNoaW5nIHN1YnNjcmliZXJzXCIsMTc6XCJObyBzdWJzY3JpcHRpb24gZXhpc3RlZFwiLDEyODpcIlVuc3BlY2lmaWVkIGVycm9yXCIsMTI5OlwiTWFsZm9ybWVkIFBhY2tldFwiLDEzMDpcIlByb3RvY29sIEVycm9yXCIsMTMxOlwiSW1wbGVtZW50YXRpb24gc3BlY2lmaWMgZXJyb3JcIiwxMzI6XCJVbnN1cHBvcnRlZCBQcm90b2NvbCBWZXJzaW9uXCIsMTMzOlwiQ2xpZW50IElkZW50aWZpZXIgbm90IHZhbGlkXCIsMTM0OlwiQmFkIFVzZXIgTmFtZSBvciBQYXNzd29yZFwiLDEzNTpcIk5vdCBhdXRob3JpemVkXCIsMTM2OlwiU2VydmVyIHVuYXZhaWxhYmxlXCIsMTM3OlwiU2VydmVyIGJ1c3lcIiwxMzg6XCJCYW5uZWRcIiwxMzk6XCJTZXJ2ZXIgc2h1dHRpbmcgZG93blwiLDE0MDpcIkJhZCBhdXRoZW50aWNhdGlvbiBtZXRob2RcIiwxNDE6XCJLZWVwIEFsaXZlIHRpbWVvdXRcIiwxNDI6XCJTZXNzaW9uIHRha2VuIG92ZXJcIiwxNDM6XCJUb3BpYyBGaWx0ZXIgaW52YWxpZFwiLDE0NDpcIlRvcGljIE5hbWUgaW52YWxpZFwiLDE0NTpcIlBhY2tldCBpZGVudGlmaWVyIGluIHVzZVwiLDE0NjpcIlBhY2tldCBJZGVudGlmaWVyIG5vdCBmb3VuZFwiLDE0NzpcIlJlY2VpdmUgTWF4aW11bSBleGNlZWRlZFwiLDE0ODpcIlRvcGljIEFsaWFzIGludmFsaWRcIiwxNDk6XCJQYWNrZXQgdG9vIGxhcmdlXCIsMTUwOlwiTWVzc2FnZSByYXRlIHRvbyBoaWdoXCIsMTUxOlwiUXVvdGEgZXhjZWVkZWRcIiwxNTI6XCJBZG1pbmlzdHJhdGl2ZSBhY3Rpb25cIiwxNTM6XCJQYXlsb2FkIGZvcm1hdCBpbnZhbGlkXCIsMTU0OlwiUmV0YWluIG5vdCBzdXBwb3J0ZWRcIiwxNTU6XCJRb1Mgbm90IHN1cHBvcnRlZFwiLDE1NjpcIlVzZSBhbm90aGVyIHNlcnZlclwiLDE1NzpcIlNlcnZlciBtb3ZlZFwiLDE1ODpcIlNoYXJlZCBTdWJzY3JpcHRpb25zIG5vdCBzdXBwb3J0ZWRcIiwxNTk6XCJDb25uZWN0aW9uIHJhdGUgZXhjZWVkZWRcIiwxNjA6XCJNYXhpbXVtIGNvbm5lY3QgdGltZVwiLDE2MTpcIlN1YnNjcmlwdGlvbiBJZGVudGlmaWVycyBub3Qgc3VwcG9ydGVkXCIsMTYyOlwiV2lsZGNhcmQgU3Vic2NyaXB0aW9ucyBub3Qgc3VwcG9ydGVkXCJ9O3ZhciB5MT0odCxlKT0+e2xldHttZXNzYWdlSWQ6cn09ZSxpPWUuY21kLG49bnVsbCxvPXQub3V0Z29pbmdbcl0/dC5vdXRnb2luZ1tyXS5jYjpudWxsLHM9bnVsbDtpZighbyl7dC5sb2coXCJfaGFuZGxlQWNrIDo6IFNlcnZlciBzZW50IGFuIGFjayBpbiBlcnJvci4gSWdub3JpbmcuXCIpO3JldHVybn1zd2l0Y2godC5sb2coXCJfaGFuZGxlQWNrIDo6IHBhY2tldCB0eXBlXCIsaSksaSl7Y2FzZVwicHViY29tcFwiOmNhc2VcInB1YmFja1wiOntsZXQgYT1lLnJlYXNvbkNvZGU7YSYmYT4wJiZhIT09MTY/KHM9bmV3IEtkLkVycm9yV2l0aFJlYXNvbkNvZGUoYFB1Ymxpc2ggZXJyb3I6ICR7JHQuUmVhc29uQ29kZXNbYV19YCxhKSx0Ll9yZW1vdmVPdXRnb2luZ0FuZFN0b3JlTWVzc2FnZShyLCgpPT57byhzLGUpO30pKTp0Ll9yZW1vdmVPdXRnb2luZ0FuZFN0b3JlTWVzc2FnZShyLG8pO2JyZWFrfWNhc2VcInB1YnJlY1wiOntuPXtjbWQ6XCJwdWJyZWxcIixxb3M6MixtZXNzYWdlSWQ6cn07bGV0IGE9ZS5yZWFzb25Db2RlO2EmJmE+MCYmYSE9PTE2PyhzPW5ldyBLZC5FcnJvcldpdGhSZWFzb25Db2RlKGBQdWJsaXNoIGVycm9yOiAkeyR0LlJlYXNvbkNvZGVzW2FdfWAsYSksdC5fcmVtb3ZlT3V0Z29pbmdBbmRTdG9yZU1lc3NhZ2UociwoKT0+e28ocyxlKTt9KSk6dC5fc2VuZFBhY2tldChuKTticmVha31jYXNlXCJzdWJhY2tcIjp7ZGVsZXRlIHQub3V0Z29pbmdbcl0sdC5tZXNzYWdlSWRQcm92aWRlci5kZWFsbG9jYXRlKHIpO2xldCBhPWUuZ3JhbnRlZDtmb3IobGV0IGw9MDtsPGEubGVuZ3RoO2wrKyl7bGV0IGM9YVtsXTtpZihjJjEyOCl7cz1uZXcgRXJyb3IoYFN1YnNjcmliZSBlcnJvcjogJHskdC5SZWFzb25Db2Rlc1tjXX1gKSxzLmNvZGU9YztsZXQgaD10Lm1lc3NhZ2VJZFRvVG9waWNbcl07aCYmaC5mb3JFYWNoKGQ9PntkZWxldGUgdC5fcmVzdWJzY3JpYmVUb3BpY3NbZF07fSk7fX1kZWxldGUgdC5tZXNzYWdlSWRUb1RvcGljW3JdLHQuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksbyhzLGUpO2JyZWFrfWNhc2VcInVuc3ViYWNrXCI6e2RlbGV0ZSB0Lm91dGdvaW5nW3JdLHQubWVzc2FnZUlkUHJvdmlkZXIuZGVhbGxvY2F0ZShyKSx0Ll9pbnZva2VTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpLG8obnVsbCxlKTticmVha31kZWZhdWx0OnQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwidW5yZWNvZ25pemVkIHBhY2tldCB0eXBlXCIpKTt9dC5kaXNjb25uZWN0aW5nJiZPYmplY3Qua2V5cyh0Lm91dGdvaW5nKS5sZW5ndGg9PT0wJiZ0LmVtaXQoXCJvdXRnb2luZ0VtcHR5XCIpO307JHQuZGVmYXVsdD15MTt9KTt2YXIgUWQ9TShzYT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShzYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgR2Q9X3IoKSxiMT1UaSgpLHcxPSh0LGUpPT57bGV0e29wdGlvbnM6cn09dCxpPXIucHJvdG9jb2xWZXJzaW9uLG49aT09PTU/ZS5yZWFzb25Db2RlOmUucmV0dXJuQ29kZTtpZihpIT09NSl7bGV0IG89bmV3IEdkLkVycm9yV2l0aFJlYXNvbkNvZGUoYFByb3RvY29sIGVycm9yOiBBdXRoIHBhY2tldHMgYXJlIG9ubHkgc3VwcG9ydGVkIGluIE1RVFQgNS4gWW91ciB2ZXJzaW9uOiR7aX1gLG4pO3QuZW1pdChcImVycm9yXCIsbyk7cmV0dXJufXQuaGFuZGxlQXV0aChlLChvLHMpPT57aWYobyl7dC5lbWl0KFwiZXJyb3JcIixvKTtyZXR1cm59aWYobj09PTI0KXQucmVjb25uZWN0aW5nPSExLHQuX3NlbmRQYWNrZXQocyk7ZWxzZSB7bGV0IGE9bmV3IEdkLkVycm9yV2l0aFJlYXNvbkNvZGUoYENvbm5lY3Rpb24gcmVmdXNlZDogJHtiMS5SZWFzb25Db2Rlc1tuXX1gLG4pO3QuZW1pdChcImVycm9yXCIsYSk7fX0pO307c2EuZGVmYXVsdD13MTt9KTt2YXIgZXA9TShNbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShNbixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtNbi5MUlVDYWNoZT12b2lkIDA7dmFyIFJpPXR5cGVvZiBwZXJmb3JtYW5jZT09XCJvYmplY3RcIiYmcGVyZm9ybWFuY2UmJnR5cGVvZiBwZXJmb3JtYW5jZS5ub3c9PVwiZnVuY3Rpb25cIj9wZXJmb3JtYW5jZTpEYXRlLEpkPW5ldyBTZXQsb2E9dHlwZW9mIEI9PVwib2JqZWN0XCImJkI/Qjp7fSxYZD0odCxlLHIsaSk9Pnt0eXBlb2Ygb2EuZW1pdFdhcm5pbmc9PVwiZnVuY3Rpb25cIj9vYS5lbWl0V2FybmluZyh0LGUscixpKTpjb25zb2xlLmVycm9yKGBbJHtyfV0gJHtlfTogJHt0fWApO30seG49Z2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXIsWWQ9Z2xvYmFsVGhpcy5BYm9ydFNpZ25hbDtpZih0eXBlb2YgeG4+XCJ1XCIpe1lkPWNsYXNze29uYWJvcnQ7X29uYWJvcnQ9W107cmVhc29uO2Fib3J0ZWQ9ITE7YWRkRXZlbnRMaXN0ZW5lcihpLG4pe3RoaXMuX29uYWJvcnQucHVzaChuKTt9fSx4bj1jbGFzc3tjb25zdHJ1Y3Rvcigpe2UoKTt9c2lnbmFsPW5ldyBZZDthYm9ydChpKXtpZighdGhpcy5zaWduYWwuYWJvcnRlZCl7dGhpcy5zaWduYWwucmVhc29uPWksdGhpcy5zaWduYWwuYWJvcnRlZD0hMDtmb3IobGV0IG4gb2YgdGhpcy5zaWduYWwuX29uYWJvcnQpbihpKTt0aGlzLnNpZ25hbC5vbmFib3J0Py4oaSk7fX19O2xldCB0PW9hLmVudj8uTFJVX0NBQ0hFX0lHTk9SRV9BQ19XQVJOSU5HIT09XCIxXCIsZT0oKT0+e3QmJih0PSExLFhkKFwiQWJvcnRDb250cm9sbGVyIGlzIG5vdCBkZWZpbmVkLiBJZiB1c2luZyBscnUtY2FjaGUgaW4gbm9kZSAxNCwgbG9hZCBhbiBBYm9ydENvbnRyb2xsZXIgcG9seWZpbGwgZnJvbSB0aGUgYG5vZGUtYWJvcnQtY29udHJvbGxlcmAgcGFja2FnZS4gQSBtaW5pbWFsIHBvbHlmaWxsIGlzIHByb3ZpZGVkIGZvciB1c2UgYnkgTFJVQ2FjaGUuZmV0Y2goKSwgYnV0IGl0IHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaW4gb3RoZXIgY29udGV4dHMgKGVnLCBwYXNzaW5nIGl0IHRvIG90aGVyIEFQSXMgdGhhdCB1c2UgQWJvcnRDb250cm9sbGVyL0Fib3J0U2lnbmFsIG1pZ2h0IGhhdmUgdW5kZXNpcmFibGUgZWZmZWN0cykuIFlvdSBtYXkgZGlzYWJsZSB0aGlzIHdpdGggTFJVX0NBQ0hFX0lHTk9SRV9BQ19XQVJOSU5HPTEgaW4gdGhlIGVudi5cIixcIk5PX0FCT1JUX0NPTlRST0xMRVJcIixcIkVOT1RTVVBcIixlKSk7fTt9dmFyIF8xPXQ9PiFKZC5oYXModCksSHQ9dD0+dCYmdD09PU1hdGguZmxvb3IodCkmJnQ+MCYmaXNGaW5pdGUodCksWmQ9dD0+SHQodCk/dDw9TWF0aC5wb3coMiw4KT9VaW50OEFycmF5OnQ8PU1hdGgucG93KDIsMTYpP1VpbnQxNkFycmF5OnQ8PU1hdGgucG93KDIsMzIpP1VpbnQzMkFycmF5OnQ8PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSP1pyOm51bGw6bnVsbCxacj1jbGFzcyBleHRlbmRzIEFycmF5e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZmlsbCgwKTt9fSxhYT1jbGFzcyB0e2hlYXA7bGVuZ3RoO3N0YXRpYyNsPSExO3N0YXRpYyBjcmVhdGUoZSl7bGV0IHI9WmQoZSk7aWYoIXIpcmV0dXJuIFtdO3QuI2w9ITA7bGV0IGk9bmV3IHQoZSxyKTtyZXR1cm4gdC4jbD0hMSxpfWNvbnN0cnVjdG9yKGUscil7aWYoIXQuI2wpdGhyb3cgbmV3IFR5cGVFcnJvcihcImluc3RhbnRpYXRlIFN0YWNrIHVzaW5nIFN0YWNrLmNyZWF0ZShuKVwiKTt0aGlzLmhlYXA9bmV3IHIoZSksdGhpcy5sZW5ndGg9MDt9cHVzaChlKXt0aGlzLmhlYXBbdGhpcy5sZW5ndGgrK109ZTt9cG9wKCl7cmV0dXJuIHRoaXMuaGVhcFstLXRoaXMubGVuZ3RoXX19LGxhPWNsYXNzIHR7I2w7I2M7I3A7I2c7I0I7dHRsO3R0bFJlc29sdXRpb247dHRsQXV0b3B1cmdlO3VwZGF0ZUFnZU9uR2V0O3VwZGF0ZUFnZU9uSGFzO2FsbG93U3RhbGU7bm9EaXNwb3NlT25TZXQ7bm9VcGRhdGVUVEw7bWF4RW50cnlTaXplO3NpemVDYWxjdWxhdGlvbjtub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb247bm9EZWxldGVPblN0YWxlR2V0O2FsbG93U3RhbGVPbkZldGNoQWJvcnQ7YWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb247aWdub3JlRmV0Y2hBYm9ydDsjaTsjeTsjbjsjcjsjZTsjdTsjaDsjYTsjczsjYjsjbzsjRTsjUzsjdzsjXzsjSTsjZjtzdGF0aWMgdW5zYWZlRXhwb3NlSW50ZXJuYWxzKGUpe3JldHVybiB7c3RhcnRzOmUuI1MsdHRsczplLiN3LHNpemVzOmUuI0Usa2V5TWFwOmUuI24sa2V5TGlzdDplLiNyLHZhbExpc3Q6ZS4jZSxuZXh0OmUuI3UscHJldjplLiNoLGdldCBoZWFkKCl7cmV0dXJuIGUuI2F9LGdldCB0YWlsKCl7cmV0dXJuIGUuI3N9LGZyZWU6ZS4jYixpc0JhY2tncm91bmRGZXRjaDpyPT5lLiN0KHIpLGJhY2tncm91bmRGZXRjaDoocixpLG4sbyk9PmUuI08ocixpLG4sbyksbW92ZVRvVGFpbDpyPT5lLiNDKHIpLGluZGV4ZXM6cj0+ZS4jbShyKSxyaW5kZXhlczpyPT5lLiN2KHIpLGlzU3RhbGU6cj0+ZS4jZChyKX19Z2V0IG1heCgpe3JldHVybiB0aGlzLiNsfWdldCBtYXhTaXplKCl7cmV0dXJuIHRoaXMuI2N9Z2V0IGNhbGN1bGF0ZWRTaXplKCl7cmV0dXJuIHRoaXMuI3l9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy4jaX1nZXQgZmV0Y2hNZXRob2QoKXtyZXR1cm4gdGhpcy4jQn1nZXQgZGlzcG9zZSgpe3JldHVybiB0aGlzLiNwfWdldCBkaXNwb3NlQWZ0ZXIoKXtyZXR1cm4gdGhpcy4jZ31jb25zdHJ1Y3RvcihlKXtsZXR7bWF4OnI9MCx0dGw6aSx0dGxSZXNvbHV0aW9uOm49MSx0dGxBdXRvcHVyZ2U6byx1cGRhdGVBZ2VPbkdldDpzLHVwZGF0ZUFnZU9uSGFzOmEsYWxsb3dTdGFsZTpsLGRpc3Bvc2U6YyxkaXNwb3NlQWZ0ZXI6aCxub0Rpc3Bvc2VPblNldDpkLG5vVXBkYXRlVFRMOmcsbWF4U2l6ZTp5PTAsbWF4RW50cnlTaXplOnc9MCxzaXplQ2FsY3VsYXRpb246UyxmZXRjaE1ldGhvZDpFLG5vRGVsZXRlT25GZXRjaFJlamVjdGlvbjpJLG5vRGVsZXRlT25TdGFsZUdldDpDLGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uOlIsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpVLGlnbm9yZUZldGNoQWJvcnQ6Tn09ZTtpZihyIT09MCYmIUh0KHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXggb3B0aW9uIG11c3QgYmUgYSBub25uZWdhdGl2ZSBpbnRlZ2VyXCIpO2xldCBXPXI/WmQocik6QXJyYXk7aWYoIVcpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBtYXggdmFsdWU6IFwiK3IpO2lmKHRoaXMuI2w9cix0aGlzLiNjPXksdGhpcy5tYXhFbnRyeVNpemU9d3x8dGhpcy4jYyx0aGlzLnNpemVDYWxjdWxhdGlvbj1TLHRoaXMuc2l6ZUNhbGN1bGF0aW9uKXtpZighdGhpcy4jYyYmIXRoaXMubWF4RW50cnlTaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IHNpemVDYWxjdWxhdGlvbiB3aXRob3V0IHNldHRpbmcgbWF4U2l6ZSBvciBtYXhFbnRyeVNpemVcIik7aWYodHlwZW9mIHRoaXMuc2l6ZUNhbGN1bGF0aW9uIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcInNpemVDYWxjdWxhdGlvbiBzZXQgdG8gbm9uLWZ1bmN0aW9uXCIpfWlmKEUhPT12b2lkIDAmJnR5cGVvZiBFIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcImZldGNoTWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiBpZiBzcGVjaWZpZWRcIik7aWYodGhpcy4jQj1FLHRoaXMuI0k9ISFFLHRoaXMuI249bmV3IE1hcCx0aGlzLiNyPW5ldyBBcnJheShyKS5maWxsKHZvaWQgMCksdGhpcy4jZT1uZXcgQXJyYXkocikuZmlsbCh2b2lkIDApLHRoaXMuI3U9bmV3IFcociksdGhpcy4jaD1uZXcgVyhyKSx0aGlzLiNhPTAsdGhpcy4jcz0wLHRoaXMuI2I9YWEuY3JlYXRlKHIpLHRoaXMuI2k9MCx0aGlzLiN5PTAsdHlwZW9mIGM9PVwiZnVuY3Rpb25cIiYmKHRoaXMuI3A9YyksdHlwZW9mIGg9PVwiZnVuY3Rpb25cIj8odGhpcy4jZz1oLHRoaXMuI289W10pOih0aGlzLiNnPXZvaWQgMCx0aGlzLiNvPXZvaWQgMCksdGhpcy4jXz0hIXRoaXMuI3AsdGhpcy4jZj0hIXRoaXMuI2csdGhpcy5ub0Rpc3Bvc2VPblNldD0hIWQsdGhpcy5ub1VwZGF0ZVRUTD0hIWcsdGhpcy5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb249ISFJLHRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb249ISFSLHRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydD0hIVUsdGhpcy5pZ25vcmVGZXRjaEFib3J0PSEhTix0aGlzLm1heEVudHJ5U2l6ZSE9PTApe2lmKHRoaXMuI2MhPT0wJiYhSHQodGhpcy4jYykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm1heFNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkXCIpO2lmKCFIdCh0aGlzLm1heEVudHJ5U2l6ZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm1heEVudHJ5U2l6ZSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWRcIik7dGhpcy4jcSgpO31pZih0aGlzLmFsbG93U3RhbGU9ISFsLHRoaXMubm9EZWxldGVPblN0YWxlR2V0PSEhQyx0aGlzLnVwZGF0ZUFnZU9uR2V0PSEhcyx0aGlzLnVwZGF0ZUFnZU9uSGFzPSEhYSx0aGlzLnR0bFJlc29sdXRpb249SHQobil8fG49PT0wP246MSx0aGlzLnR0bEF1dG9wdXJnZT0hIW8sdGhpcy50dGw9aXx8MCx0aGlzLnR0bCl7aWYoIUh0KHRoaXMudHRsKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwidHRsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHNwZWNpZmllZFwiKTt0aGlzLiN4KCk7fWlmKHRoaXMuI2w9PT0wJiZ0aGlzLnR0bD09PTAmJnRoaXMuI2M9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBdCBsZWFzdCBvbmUgb2YgbWF4LCBtYXhTaXplLCBvciB0dGwgaXMgcmVxdWlyZWRcIik7aWYoIXRoaXMudHRsQXV0b3B1cmdlJiYhdGhpcy4jbCYmIXRoaXMuI2Mpe2xldCBLPVwiTFJVX0NBQ0hFX1VOQk9VTkRFRFwiO18xKEspJiYoSmQuYWRkKEspLFhkKFwiVFRMIGNhY2hpbmcgd2l0aG91dCB0dGxBdXRvcHVyZ2UsIG1heCwgb3IgbWF4U2l6ZSBjYW4gcmVzdWx0IGluIHVuYm91bmRlZCBtZW1vcnkgY29uc3VtcHRpb24uXCIsXCJVbmJvdW5kZWRDYWNoZVdhcm5pbmdcIixLLHQpKTt9fWdldFJlbWFpbmluZ1RUTChlKXtyZXR1cm4gdGhpcy4jbi5oYXMoZSk/MS8wOjB9I3goKXtsZXQgZT1uZXcgWnIodGhpcy4jbCkscj1uZXcgWnIodGhpcy4jbCk7dGhpcy4jdz1lLHRoaXMuI1M9cix0aGlzLiNNPShvLHMsYT1SaS5ub3coKSk9PntpZihyW29dPXMhPT0wP2E6MCxlW29dPXMscyE9PTAmJnRoaXMudHRsQXV0b3B1cmdlKXtsZXQgbD1zZXRUaW1lb3V0KCgpPT57dGhpcy4jZChvKSYmdGhpcy5kZWxldGUodGhpcy4jcltvXSk7fSxzKzEpO2wudW5yZWYmJmwudW5yZWYoKTt9fSx0aGlzLiNUPW89PntyW29dPWVbb10hPT0wP1JpLm5vdygpOjA7fSx0aGlzLiNBPShvLHMpPT57aWYoZVtzXSl7bGV0IGE9ZVtzXSxsPXJbc107by50dGw9YSxvLnN0YXJ0PWwsby5ub3c9aXx8bigpO2xldCBjPW8ubm93LWw7by5yZW1haW5pbmdUVEw9YS1jO319O2xldCBpPTAsbj0oKT0+e2xldCBvPVJpLm5vdygpO2lmKHRoaXMudHRsUmVzb2x1dGlvbj4wKXtpPW87bGV0IHM9c2V0VGltZW91dCgoKT0+aT0wLHRoaXMudHRsUmVzb2x1dGlvbik7cy51bnJlZiYmcy51bnJlZigpO31yZXR1cm4gb307dGhpcy5nZXRSZW1haW5pbmdUVEw9bz0+e2xldCBzPXRoaXMuI24uZ2V0KG8pO2lmKHM9PT12b2lkIDApcmV0dXJuIDA7bGV0IGE9ZVtzXSxsPXJbc107aWYoYT09PTB8fGw9PT0wKXJldHVybiAxLzA7bGV0IGM9KGl8fG4oKSktbDtyZXR1cm4gYS1jfSx0aGlzLiNkPW89PmVbb10hPT0wJiZyW29dIT09MCYmKGl8fG4oKSktcltvXT5lW29dO30jVD0oKT0+e307I0E9KCk9Pnt9OyNNPSgpPT57fTsjZD0oKT0+ITE7I3EoKXtsZXQgZT1uZXcgWnIodGhpcy4jbCk7dGhpcy4jeT0wLHRoaXMuI0U9ZSx0aGlzLiNSPXI9Pnt0aGlzLiN5LT1lW3JdLGVbcl09MDt9LHRoaXMuI0w9KHIsaSxuLG8pPT57aWYodGhpcy4jdChpKSlyZXR1cm4gMDtpZighSHQobikpaWYobyl7aWYodHlwZW9mIG8hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgVHlwZUVycm9yKFwic2l6ZUNhbGN1bGF0aW9uIG11c3QgYmUgYSBmdW5jdGlvblwiKTtpZihuPW8oaSxyKSwhSHQobikpdGhyb3cgbmV3IFR5cGVFcnJvcihcInNpemVDYWxjdWxhdGlvbiByZXR1cm4gaW52YWxpZCAoZXhwZWN0IHBvc2l0aXZlIGludGVnZXIpXCIpfWVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihcImludmFsaWQgc2l6ZSB2YWx1ZSAobXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VyKS4gV2hlbiBtYXhTaXplIG9yIG1heEVudHJ5U2l6ZSBpcyB1c2VkLCBzaXplQ2FsY3VsYXRpb24gb3Igc2l6ZSBtdXN0IGJlIHNldC5cIik7cmV0dXJuIG59LHRoaXMuI1A9KHIsaSxuKT0+e2lmKGVbcl09aSx0aGlzLiNjKXtsZXQgbz10aGlzLiNjLWVbcl07Zm9yKDt0aGlzLiN5Pm87KXRoaXMuI2soITApO310aGlzLiN5Kz1lW3JdLG4mJihuLmVudHJ5U2l6ZT1pLG4udG90YWxDYWxjdWxhdGVkU2l6ZT10aGlzLiN5KTt9O30jUj1lPT57fTsjUD0oZSxyLGkpPT57fTsjTD0oZSxyLGksbik9PntpZihpfHxuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IHNpemUgd2l0aG91dCBzZXR0aW5nIG1heFNpemUgb3IgbWF4RW50cnlTaXplIG9uIGNhY2hlXCIpO3JldHVybiAwfTsqI20oe2FsbG93U3RhbGU6ZT10aGlzLmFsbG93U3RhbGV9PXt9KXtpZih0aGlzLiNpKWZvcihsZXQgcj10aGlzLiNzOyEoIXRoaXMuI1Uocil8fCgoZXx8IXRoaXMuI2QocikpJiYoeWllbGQgcikscj09PXRoaXMuI2EpKTspcj10aGlzLiNoW3JdO30qI3Yoe2FsbG93U3RhbGU6ZT10aGlzLmFsbG93U3RhbGV9PXt9KXtpZih0aGlzLiNpKWZvcihsZXQgcj10aGlzLiNhOyEoIXRoaXMuI1Uocil8fCgoZXx8IXRoaXMuI2QocikpJiYoeWllbGQgcikscj09PXRoaXMuI3MpKTspcj10aGlzLiN1W3JdO30jVShlKXtyZXR1cm4gZSE9PXZvaWQgMCYmdGhpcy4jbi5nZXQodGhpcy4jcltlXSk9PT1lfSplbnRyaWVzKCl7Zm9yKGxldCBlIG9mIHRoaXMuI20oKSl0aGlzLiNlW2VdIT09dm9pZCAwJiZ0aGlzLiNyW2VdIT09dm9pZCAwJiYhdGhpcy4jdCh0aGlzLiNlW2VdKSYmKHlpZWxkIFt0aGlzLiNyW2VdLHRoaXMuI2VbZV1dKTt9KnJlbnRyaWVzKCl7Zm9yKGxldCBlIG9mIHRoaXMuI3YoKSl0aGlzLiNlW2VdIT09dm9pZCAwJiZ0aGlzLiNyW2VdIT09dm9pZCAwJiYhdGhpcy4jdCh0aGlzLiNlW2VdKSYmKHlpZWxkIFt0aGlzLiNyW2VdLHRoaXMuI2VbZV1dKTt9KmtleXMoKXtmb3IobGV0IGUgb2YgdGhpcy4jbSgpKXtsZXQgcj10aGlzLiNyW2VdO3IhPT12b2lkIDAmJiF0aGlzLiN0KHRoaXMuI2VbZV0pJiYoeWllbGQgcik7fX0qcmtleXMoKXtmb3IobGV0IGUgb2YgdGhpcy4jdigpKXtsZXQgcj10aGlzLiNyW2VdO3IhPT12b2lkIDAmJiF0aGlzLiN0KHRoaXMuI2VbZV0pJiYoeWllbGQgcik7fX0qdmFsdWVzKCl7Zm9yKGxldCBlIG9mIHRoaXMuI20oKSl0aGlzLiNlW2VdIT09dm9pZCAwJiYhdGhpcy4jdCh0aGlzLiNlW2VdKSYmKHlpZWxkIHRoaXMuI2VbZV0pO30qcnZhbHVlcygpe2ZvcihsZXQgZSBvZiB0aGlzLiN2KCkpdGhpcy4jZVtlXSE9PXZvaWQgMCYmIXRoaXMuI3QodGhpcy4jZVtlXSkmJih5aWVsZCB0aGlzLiNlW2VdKTt9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9ZmluZChlLHI9e30pe2ZvcihsZXQgaSBvZiB0aGlzLiNtKCkpe2xldCBuPXRoaXMuI2VbaV0sbz10aGlzLiN0KG4pP24uX19zdGFsZVdoaWxlRmV0Y2hpbmc6bjtpZihvIT09dm9pZCAwJiZlKG8sdGhpcy4jcltpXSx0aGlzKSlyZXR1cm4gdGhpcy5nZXQodGhpcy4jcltpXSxyKX19Zm9yRWFjaChlLHI9dGhpcyl7Zm9yKGxldCBpIG9mIHRoaXMuI20oKSl7bGV0IG49dGhpcy4jZVtpXSxvPXRoaXMuI3Qobik/bi5fX3N0YWxlV2hpbGVGZXRjaGluZzpuO28hPT12b2lkIDAmJmUuY2FsbChyLG8sdGhpcy4jcltpXSx0aGlzKTt9fXJmb3JFYWNoKGUscj10aGlzKXtmb3IobGV0IGkgb2YgdGhpcy4jdigpKXtsZXQgbj10aGlzLiNlW2ldLG89dGhpcy4jdChuKT9uLl9fc3RhbGVXaGlsZUZldGNoaW5nOm47byE9PXZvaWQgMCYmZS5jYWxsKHIsbyx0aGlzLiNyW2ldLHRoaXMpO319cHVyZ2VTdGFsZSgpe2xldCBlPSExO2ZvcihsZXQgciBvZiB0aGlzLiN2KHthbGxvd1N0YWxlOiEwfSkpdGhpcy4jZChyKSYmKHRoaXMuZGVsZXRlKHRoaXMuI3Jbcl0pLGU9ITApO3JldHVybiBlfWR1bXAoKXtsZXQgZT1bXTtmb3IobGV0IHIgb2YgdGhpcy4jbSh7YWxsb3dTdGFsZTohMH0pKXtsZXQgaT10aGlzLiNyW3JdLG49dGhpcy4jZVtyXSxvPXRoaXMuI3Qobik/bi5fX3N0YWxlV2hpbGVGZXRjaGluZzpuO2lmKG89PT12b2lkIDB8fGk9PT12b2lkIDApY29udGludWU7bGV0IHM9e3ZhbHVlOm99O2lmKHRoaXMuI3cmJnRoaXMuI1Mpe3MudHRsPXRoaXMuI3dbcl07bGV0IGE9Umkubm93KCktdGhpcy4jU1tyXTtzLnN0YXJ0PU1hdGguZmxvb3IoRGF0ZS5ub3coKS1hKTt9dGhpcy4jRSYmKHMuc2l6ZT10aGlzLiNFW3JdKSxlLnVuc2hpZnQoW2ksc10pO31yZXR1cm4gZX1sb2FkKGUpe3RoaXMuY2xlYXIoKTtmb3IobGV0W3IsaV1vZiBlKXtpZihpLnN0YXJ0KXtsZXQgbj1EYXRlLm5vdygpLWkuc3RhcnQ7aS5zdGFydD1SaS5ub3coKS1uO310aGlzLnNldChyLGkudmFsdWUsaSk7fX1zZXQoZSxyLGk9e30pe2lmKHI9PT12b2lkIDApcmV0dXJuIHRoaXMuZGVsZXRlKGUpLHRoaXM7bGV0e3R0bDpuPXRoaXMudHRsLHN0YXJ0Om8sbm9EaXNwb3NlT25TZXQ6cz10aGlzLm5vRGlzcG9zZU9uU2V0LHNpemVDYWxjdWxhdGlvbjphPXRoaXMuc2l6ZUNhbGN1bGF0aW9uLHN0YXR1czpsfT1pLHtub1VwZGF0ZVRUTDpjPXRoaXMubm9VcGRhdGVUVEx9PWksaD10aGlzLiNMKGUscixpLnNpemV8fDAsYSk7aWYodGhpcy5tYXhFbnRyeVNpemUmJmg+dGhpcy5tYXhFbnRyeVNpemUpcmV0dXJuIGwmJihsLnNldD1cIm1pc3NcIixsLm1heEVudHJ5U2l6ZUV4Y2VlZGVkPSEwKSx0aGlzLmRlbGV0ZShlKSx0aGlzO2xldCBkPXRoaXMuI2k9PT0wP3ZvaWQgMDp0aGlzLiNuLmdldChlKTtpZihkPT09dm9pZCAwKWQ9dGhpcy4jaT09PTA/dGhpcy4jczp0aGlzLiNiLmxlbmd0aCE9PTA/dGhpcy4jYi5wb3AoKTp0aGlzLiNpPT09dGhpcy4jbD90aGlzLiNrKCExKTp0aGlzLiNpLHRoaXMuI3JbZF09ZSx0aGlzLiNlW2RdPXIsdGhpcy4jbi5zZXQoZSxkKSx0aGlzLiN1W3RoaXMuI3NdPWQsdGhpcy4jaFtkXT10aGlzLiNzLHRoaXMuI3M9ZCx0aGlzLiNpKyssdGhpcy4jUChkLGgsbCksbCYmKGwuc2V0PVwiYWRkXCIpLGM9ITE7ZWxzZSB7dGhpcy4jQyhkKTtsZXQgZz10aGlzLiNlW2RdO2lmKHIhPT1nKXtpZih0aGlzLiNJJiZ0aGlzLiN0KGcpKXtnLl9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcihcInJlcGxhY2VkXCIpKTtsZXR7X19zdGFsZVdoaWxlRmV0Y2hpbmc6eX09Zzt5IT09dm9pZCAwJiYhcyYmKHRoaXMuI18mJnRoaXMuI3A/Lih5LGUsXCJzZXRcIiksdGhpcy4jZiYmdGhpcy4jbz8ucHVzaChbeSxlLFwic2V0XCJdKSk7fWVsc2Ugc3x8KHRoaXMuI18mJnRoaXMuI3A/LihnLGUsXCJzZXRcIiksdGhpcy4jZiYmdGhpcy4jbz8ucHVzaChbZyxlLFwic2V0XCJdKSk7aWYodGhpcy4jUihkKSx0aGlzLiNQKGQsaCxsKSx0aGlzLiNlW2RdPXIsbCl7bC5zZXQ9XCJyZXBsYWNlXCI7bGV0IHk9ZyYmdGhpcy4jdChnKT9nLl9fc3RhbGVXaGlsZUZldGNoaW5nOmc7eSE9PXZvaWQgMCYmKGwub2xkVmFsdWU9eSk7fX1lbHNlIGwmJihsLnNldD1cInVwZGF0ZVwiKTt9aWYobiE9PTAmJiF0aGlzLiN3JiZ0aGlzLiN4KCksdGhpcy4jdyYmKGN8fHRoaXMuI00oZCxuLG8pLGwmJnRoaXMuI0EobCxkKSksIXMmJnRoaXMuI2YmJnRoaXMuI28pe2xldCBnPXRoaXMuI28seTtmb3IoO3k9Zz8uc2hpZnQoKTspdGhpcy4jZz8uKC4uLnkpO31yZXR1cm4gdGhpc31wb3AoKXt0cnl7Zm9yKDt0aGlzLiNpOyl7bGV0IGU9dGhpcy4jZVt0aGlzLiNhXTtpZih0aGlzLiNrKCEwKSx0aGlzLiN0KGUpKXtpZihlLl9fc3RhbGVXaGlsZUZldGNoaW5nKXJldHVybiBlLl9fc3RhbGVXaGlsZUZldGNoaW5nfWVsc2UgaWYoZSE9PXZvaWQgMClyZXR1cm4gZX19ZmluYWxseXtpZih0aGlzLiNmJiZ0aGlzLiNvKXtsZXQgZT10aGlzLiNvLHI7Zm9yKDtyPWU/LnNoaWZ0KCk7KXRoaXMuI2c/LiguLi5yKTt9fX0jayhlKXtsZXQgcj10aGlzLiNhLGk9dGhpcy4jcltyXSxuPXRoaXMuI2Vbcl07cmV0dXJuIHRoaXMuI0kmJnRoaXMuI3Qobik/bi5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoXCJldmljdGVkXCIpKToodGhpcy4jX3x8dGhpcy4jZikmJih0aGlzLiNfJiZ0aGlzLiNwPy4obixpLFwiZXZpY3RcIiksdGhpcy4jZiYmdGhpcy4jbz8ucHVzaChbbixpLFwiZXZpY3RcIl0pKSx0aGlzLiNSKHIpLGUmJih0aGlzLiNyW3JdPXZvaWQgMCx0aGlzLiNlW3JdPXZvaWQgMCx0aGlzLiNiLnB1c2gocikpLHRoaXMuI2k9PT0xPyh0aGlzLiNhPXRoaXMuI3M9MCx0aGlzLiNiLmxlbmd0aD0wKTp0aGlzLiNhPXRoaXMuI3Vbcl0sdGhpcy4jbi5kZWxldGUoaSksdGhpcy4jaS0tLHJ9aGFzKGUscj17fSl7bGV0e3VwZGF0ZUFnZU9uSGFzOmk9dGhpcy51cGRhdGVBZ2VPbkhhcyxzdGF0dXM6bn09cixvPXRoaXMuI24uZ2V0KGUpO2lmKG8hPT12b2lkIDApe2xldCBzPXRoaXMuI2Vbb107aWYodGhpcy4jdChzKSYmcy5fX3N0YWxlV2hpbGVGZXRjaGluZz09PXZvaWQgMClyZXR1cm4gITE7aWYodGhpcy4jZChvKSluJiYobi5oYXM9XCJzdGFsZVwiLHRoaXMuI0EobixvKSk7ZWxzZSByZXR1cm4gaSYmdGhpcy4jVChvKSxuJiYobi5oYXM9XCJoaXRcIix0aGlzLiNBKG4sbykpLCEwfWVsc2UgbiYmKG4uaGFzPVwibWlzc1wiKTtyZXR1cm4gITF9cGVlayhlLHI9e30pe2xldHthbGxvd1N0YWxlOmk9dGhpcy5hbGxvd1N0YWxlfT1yLG49dGhpcy4jbi5nZXQoZSk7aWYobiE9PXZvaWQgMCYmKGl8fCF0aGlzLiNkKG4pKSl7bGV0IG89dGhpcy4jZVtuXTtyZXR1cm4gdGhpcy4jdChvKT9vLl9fc3RhbGVXaGlsZUZldGNoaW5nOm99fSNPKGUscixpLG4pe2xldCBvPXI9PT12b2lkIDA/dm9pZCAwOnRoaXMuI2Vbcl07aWYodGhpcy4jdChvKSlyZXR1cm4gbztsZXQgcz1uZXcgeG4se3NpZ25hbDphfT1pO2E/LmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT5zLmFib3J0KGEucmVhc29uKSx7c2lnbmFsOnMuc2lnbmFsfSk7bGV0IGw9e3NpZ25hbDpzLnNpZ25hbCxvcHRpb25zOmksY29udGV4dDpufSxjPShTLEU9ITEpPT57bGV0e2Fib3J0ZWQ6SX09cy5zaWduYWwsQz1pLmlnbm9yZUZldGNoQWJvcnQmJlMhPT12b2lkIDA7aWYoaS5zdGF0dXMmJihJJiYhRT8oaS5zdGF0dXMuZmV0Y2hBYm9ydGVkPSEwLGkuc3RhdHVzLmZldGNoRXJyb3I9cy5zaWduYWwucmVhc29uLEMmJihpLnN0YXR1cy5mZXRjaEFib3J0SWdub3JlZD0hMCkpOmkuc3RhdHVzLmZldGNoUmVzb2x2ZWQ9ITApLEkmJiFDJiYhRSlyZXR1cm4gZChzLnNpZ25hbC5yZWFzb24pO2xldCBSPXk7cmV0dXJuIHRoaXMuI2Vbcl09PT15JiYoUz09PXZvaWQgMD9SLl9fc3RhbGVXaGlsZUZldGNoaW5nP3RoaXMuI2Vbcl09Ui5fX3N0YWxlV2hpbGVGZXRjaGluZzp0aGlzLmRlbGV0ZShlKTooaS5zdGF0dXMmJihpLnN0YXR1cy5mZXRjaFVwZGF0ZWQ9ITApLHRoaXMuc2V0KGUsUyxsLm9wdGlvbnMpKSksU30saD1TPT4oaS5zdGF0dXMmJihpLnN0YXR1cy5mZXRjaFJlamVjdGVkPSEwLGkuc3RhdHVzLmZldGNoRXJyb3I9UyksZChTKSksZD1TPT57bGV0e2Fib3J0ZWQ6RX09cy5zaWduYWwsST1FJiZpLmFsbG93U3RhbGVPbkZldGNoQWJvcnQsQz1JfHxpLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uLFI9Q3x8aS5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb24sVT15O2lmKHRoaXMuI2Vbcl09PT15JiYoIVJ8fFUuX19zdGFsZVdoaWxlRmV0Y2hpbmc9PT12b2lkIDA/dGhpcy5kZWxldGUoZSk6SXx8KHRoaXMuI2Vbcl09VS5fX3N0YWxlV2hpbGVGZXRjaGluZykpLEMpcmV0dXJuIGkuc3RhdHVzJiZVLl9fc3RhbGVXaGlsZUZldGNoaW5nIT09dm9pZCAwJiYoaS5zdGF0dXMucmV0dXJuZWRTdGFsZT0hMCksVS5fX3N0YWxlV2hpbGVGZXRjaGluZztpZihVLl9fcmV0dXJuZWQ9PT1VKXRocm93IFN9LGc9KFMsRSk9PntsZXQgST10aGlzLiNCPy4oZSxvLGwpO0kmJkkgaW5zdGFuY2VvZiBQcm9taXNlJiZJLnRoZW4oQz0+UyhDPT09dm9pZCAwP3ZvaWQgMDpDKSxFKSxzLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKT0+eyghaS5pZ25vcmVGZXRjaEFib3J0fHxpLmFsbG93U3RhbGVPbkZldGNoQWJvcnQpJiYoUyh2b2lkIDApLGkuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCYmKFM9Qz0+YyhDLCEwKSkpO30pO307aS5zdGF0dXMmJihpLnN0YXR1cy5mZXRjaERpc3BhdGNoZWQ9ITApO2xldCB5PW5ldyBQcm9taXNlKGcpLnRoZW4oYyxoKSx3PU9iamVjdC5hc3NpZ24oeSx7X19hYm9ydENvbnRyb2xsZXI6cyxfX3N0YWxlV2hpbGVGZXRjaGluZzpvLF9fcmV0dXJuZWQ6dm9pZCAwfSk7cmV0dXJuIHI9PT12b2lkIDA/KHRoaXMuc2V0KGUsdyx7Li4ubC5vcHRpb25zLHN0YXR1czp2b2lkIDB9KSxyPXRoaXMuI24uZ2V0KGUpKTp0aGlzLiNlW3JdPXcsd30jdChlKXtpZighdGhpcy4jSSlyZXR1cm4gITE7bGV0IHI9ZTtyZXR1cm4gISFyJiZyIGluc3RhbmNlb2YgUHJvbWlzZSYmci5oYXNPd25Qcm9wZXJ0eShcIl9fc3RhbGVXaGlsZUZldGNoaW5nXCIpJiZyLl9fYWJvcnRDb250cm9sbGVyIGluc3RhbmNlb2YgeG59YXN5bmMgZmV0Y2goZSxyPXt9KXtsZXR7YWxsb3dTdGFsZTppPXRoaXMuYWxsb3dTdGFsZSx1cGRhdGVBZ2VPbkdldDpuPXRoaXMudXBkYXRlQWdlT25HZXQsbm9EZWxldGVPblN0YWxlR2V0Om89dGhpcy5ub0RlbGV0ZU9uU3RhbGVHZXQsdHRsOnM9dGhpcy50dGwsbm9EaXNwb3NlT25TZXQ6YT10aGlzLm5vRGlzcG9zZU9uU2V0LHNpemU6bD0wLHNpemVDYWxjdWxhdGlvbjpjPXRoaXMuc2l6ZUNhbGN1bGF0aW9uLG5vVXBkYXRlVFRMOmg9dGhpcy5ub1VwZGF0ZVRUTCxub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb246ZD10aGlzLm5vRGVsZXRlT25GZXRjaFJlamVjdGlvbixhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbjpnPXRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb24saWdub3JlRmV0Y2hBYm9ydDp5PXRoaXMuaWdub3JlRmV0Y2hBYm9ydCxhbGxvd1N0YWxlT25GZXRjaEFib3J0Onc9dGhpcy5hbGxvd1N0YWxlT25GZXRjaEFib3J0LGNvbnRleHQ6Uyxmb3JjZVJlZnJlc2g6RT0hMSxzdGF0dXM6SSxzaWduYWw6Q309cjtpZighdGhpcy4jSSlyZXR1cm4gSSYmKEkuZmV0Y2g9XCJnZXRcIiksdGhpcy5nZXQoZSx7YWxsb3dTdGFsZTppLHVwZGF0ZUFnZU9uR2V0Om4sbm9EZWxldGVPblN0YWxlR2V0Om8sc3RhdHVzOkl9KTtsZXQgUj17YWxsb3dTdGFsZTppLHVwZGF0ZUFnZU9uR2V0Om4sbm9EZWxldGVPblN0YWxlR2V0Om8sdHRsOnMsbm9EaXNwb3NlT25TZXQ6YSxzaXplOmwsc2l6ZUNhbGN1bGF0aW9uOmMsbm9VcGRhdGVUVEw6aCxub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb246ZCxhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbjpnLGFsbG93U3RhbGVPbkZldGNoQWJvcnQ6dyxpZ25vcmVGZXRjaEFib3J0Onksc3RhdHVzOkksc2lnbmFsOkN9LFU9dGhpcy4jbi5nZXQoZSk7aWYoVT09PXZvaWQgMCl7SSYmKEkuZmV0Y2g9XCJtaXNzXCIpO2xldCBOPXRoaXMuI08oZSxVLFIsUyk7cmV0dXJuIE4uX19yZXR1cm5lZD1OfWVsc2Uge2xldCBOPXRoaXMuI2VbVV07aWYodGhpcy4jdChOKSl7bGV0IHBlPWkmJk4uX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDA7cmV0dXJuIEkmJihJLmZldGNoPVwiaW5mbGlnaHRcIixwZSYmKEkucmV0dXJuZWRTdGFsZT0hMCkpLHBlP04uX19zdGFsZVdoaWxlRmV0Y2hpbmc6Ti5fX3JldHVybmVkPU59bGV0IFc9dGhpcy4jZChVKTtpZighRSYmIVcpcmV0dXJuIEkmJihJLmZldGNoPVwiaGl0XCIpLHRoaXMuI0MoVSksbiYmdGhpcy4jVChVKSxJJiZ0aGlzLiNBKEksVSksTjtsZXQgSz10aGlzLiNPKGUsVSxSLFMpLFE9Sy5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCYmaTtyZXR1cm4gSSYmKEkuZmV0Y2g9Vz9cInN0YWxlXCI6XCJyZWZyZXNoXCIsUSYmVyYmKEkucmV0dXJuZWRTdGFsZT0hMCkpLFE/Sy5fX3N0YWxlV2hpbGVGZXRjaGluZzpLLl9fcmV0dXJuZWQ9S319Z2V0KGUscj17fSl7bGV0e2FsbG93U3RhbGU6aT10aGlzLmFsbG93U3RhbGUsdXBkYXRlQWdlT25HZXQ6bj10aGlzLnVwZGF0ZUFnZU9uR2V0LG5vRGVsZXRlT25TdGFsZUdldDpvPXRoaXMubm9EZWxldGVPblN0YWxlR2V0LHN0YXR1czpzfT1yLGE9dGhpcy4jbi5nZXQoZSk7aWYoYSE9PXZvaWQgMCl7bGV0IGw9dGhpcy4jZVthXSxjPXRoaXMuI3QobCk7cmV0dXJuIHMmJnRoaXMuI0EocyxhKSx0aGlzLiNkKGEpPyhzJiYocy5nZXQ9XCJzdGFsZVwiKSxjPyhzJiZpJiZsLl9fc3RhbGVXaGlsZUZldGNoaW5nIT09dm9pZCAwJiYocy5yZXR1cm5lZFN0YWxlPSEwKSxpP2wuX19zdGFsZVdoaWxlRmV0Y2hpbmc6dm9pZCAwKToob3x8dGhpcy5kZWxldGUoZSkscyYmaSYmKHMucmV0dXJuZWRTdGFsZT0hMCksaT9sOnZvaWQgMCkpOihzJiYocy5nZXQ9XCJoaXRcIiksYz9sLl9fc3RhbGVXaGlsZUZldGNoaW5nOih0aGlzLiNDKGEpLG4mJnRoaXMuI1QoYSksbCkpfWVsc2UgcyYmKHMuZ2V0PVwibWlzc1wiKTt9I04oZSxyKXt0aGlzLiNoW3JdPWUsdGhpcy4jdVtlXT1yO30jQyhlKXtlIT09dGhpcy4jcyYmKGU9PT10aGlzLiNhP3RoaXMuI2E9dGhpcy4jdVtlXTp0aGlzLiNOKHRoaXMuI2hbZV0sdGhpcy4jdVtlXSksdGhpcy4jTih0aGlzLiNzLGUpLHRoaXMuI3M9ZSk7fWRlbGV0ZShlKXtsZXQgcj0hMTtpZih0aGlzLiNpIT09MCl7bGV0IGk9dGhpcy4jbi5nZXQoZSk7aWYoaSE9PXZvaWQgMClpZihyPSEwLHRoaXMuI2k9PT0xKXRoaXMuY2xlYXIoKTtlbHNlIHt0aGlzLiNSKGkpO2xldCBuPXRoaXMuI2VbaV07dGhpcy4jdChuKT9uLl9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcihcImRlbGV0ZWRcIikpOih0aGlzLiNffHx0aGlzLiNmKSYmKHRoaXMuI18mJnRoaXMuI3A/LihuLGUsXCJkZWxldGVcIiksdGhpcy4jZiYmdGhpcy4jbz8ucHVzaChbbixlLFwiZGVsZXRlXCJdKSksdGhpcy4jbi5kZWxldGUoZSksdGhpcy4jcltpXT12b2lkIDAsdGhpcy4jZVtpXT12b2lkIDAsaT09PXRoaXMuI3M/dGhpcy4jcz10aGlzLiNoW2ldOmk9PT10aGlzLiNhP3RoaXMuI2E9dGhpcy4jdVtpXToodGhpcy4jdVt0aGlzLiNoW2ldXT10aGlzLiN1W2ldLHRoaXMuI2hbdGhpcy4jdVtpXV09dGhpcy4jaFtpXSksdGhpcy4jaS0tLHRoaXMuI2IucHVzaChpKTt9fWlmKHRoaXMuI2YmJnRoaXMuI28/Lmxlbmd0aCl7bGV0IGk9dGhpcy4jbyxuO2Zvcig7bj1pPy5zaGlmdCgpOyl0aGlzLiNnPy4oLi4ubik7fXJldHVybiByfWNsZWFyKCl7Zm9yKGxldCBlIG9mIHRoaXMuI3Yoe2FsbG93U3RhbGU6ITB9KSl7bGV0IHI9dGhpcy4jZVtlXTtpZih0aGlzLiN0KHIpKXIuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKFwiZGVsZXRlZFwiKSk7ZWxzZSB7bGV0IGk9dGhpcy4jcltlXTt0aGlzLiNfJiZ0aGlzLiNwPy4ocixpLFwiZGVsZXRlXCIpLHRoaXMuI2YmJnRoaXMuI28/LnB1c2goW3IsaSxcImRlbGV0ZVwiXSk7fX1pZih0aGlzLiNuLmNsZWFyKCksdGhpcy4jZS5maWxsKHZvaWQgMCksdGhpcy4jci5maWxsKHZvaWQgMCksdGhpcy4jdyYmdGhpcy4jUyYmKHRoaXMuI3cuZmlsbCgwKSx0aGlzLiNTLmZpbGwoMCkpLHRoaXMuI0UmJnRoaXMuI0UuZmlsbCgwKSx0aGlzLiNhPTAsdGhpcy4jcz0wLHRoaXMuI2IubGVuZ3RoPTAsdGhpcy4jeT0wLHRoaXMuI2k9MCx0aGlzLiNmJiZ0aGlzLiNvKXtsZXQgZT10aGlzLiNvLHI7Zm9yKDtyPWU/LnNoaWZ0KCk7KXRoaXMuI2c/LiguLi5yKTt9fX07TW4uTFJVQ2FjaGU9bGE7fSk7dmFyIGx0PU0oVnQ9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVnQsXCJ0XCIse3ZhbHVlOiEwfSk7VnQuQ29udGFpbmVySXRlcmF0b3I9VnQuQ29udGFpbmVyPVZ0LkJhc2U9dm9pZCAwO3ZhciB1YT1jbGFzc3tjb25zdHJ1Y3RvcihlPTApe3RoaXMuaXRlcmF0b3JUeXBlPWU7fWVxdWFscyhlKXtyZXR1cm4gdGhpcy5vPT09ZS5vfX07VnQuQ29udGFpbmVySXRlcmF0b3I9dWE7dmFyIExuPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5pPTA7fWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5pfXNpemUoKXtyZXR1cm4gdGhpcy5pfWVtcHR5KCl7cmV0dXJuIHRoaXMuaT09PTB9fTtWdC5CYXNlPUxuO3ZhciBmYT1jbGFzcyBleHRlbmRzIExue307VnQuQ29udGFpbmVyPWZhO30pO3ZhciB0cD1NKFVuPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFVuLFwidFwiLHt2YWx1ZTohMH0pO1VuLmRlZmF1bHQ9dm9pZCAwO3ZhciBtMT1sdCgpLGNhPWNsYXNzIGV4dGVuZHMgbTEuQmFzZXtjb25zdHJ1Y3RvcihlPVtdKXtzdXBlcigpLHRoaXMuUz1bXTtsZXQgcj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihpKXtyLnB1c2goaSk7fSk7fWNsZWFyKCl7dGhpcy5pPTAsdGhpcy5TPVtdO31wdXNoKGUpe3JldHVybiB0aGlzLlMucHVzaChlKSx0aGlzLmkrPTEsdGhpcy5pfXBvcCgpe2lmKHRoaXMuaSE9PTApcmV0dXJuIHRoaXMuaS09MSx0aGlzLlMucG9wKCl9dG9wKCl7cmV0dXJuIHRoaXMuU1t0aGlzLmktMV19fSx2MT1jYTtVbi5kZWZhdWx0PXYxO30pO3ZhciBycD1NKE5uPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KE5uLFwidFwiLHt2YWx1ZTohMH0pO05uLmRlZmF1bHQ9dm9pZCAwO3ZhciBFMT1sdCgpLGhhPWNsYXNzIGV4dGVuZHMgRTEuQmFzZXtjb25zdHJ1Y3RvcihlPVtdKXtzdXBlcigpLHRoaXMuaj0wLHRoaXMucT1bXTtsZXQgcj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihpKXtyLnB1c2goaSk7fSk7fWNsZWFyKCl7dGhpcy5xPVtdLHRoaXMuaT10aGlzLmo9MDt9cHVzaChlKXtsZXQgcj10aGlzLnEubGVuZ3RoO2lmKHRoaXMuai9yPi41JiZ0aGlzLmordGhpcy5pPj1yJiZyPjQwOTYpe2xldCBpPXRoaXMuaTtmb3IobGV0IG49MDtuPGk7KytuKXRoaXMucVtuXT10aGlzLnFbdGhpcy5qK25dO3RoaXMuaj0wLHRoaXMucVt0aGlzLmldPWU7fWVsc2UgdGhpcy5xW3RoaXMuait0aGlzLmldPWU7cmV0dXJuICsrdGhpcy5pfXBvcCgpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMucVt0aGlzLmorK107cmV0dXJuIHRoaXMuaS09MSxlfWZyb250KCl7aWYodGhpcy5pIT09MClyZXR1cm4gdGhpcy5xW3RoaXMual19fSxTMT1oYTtObi5kZWZhdWx0PVMxO30pO3ZhciBpcD1NKHFuPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHFuLFwidFwiLHt2YWx1ZTohMH0pO3FuLmRlZmF1bHQ9dm9pZCAwO3ZhciBBMT1sdCgpLGRhPWNsYXNzIGV4dGVuZHMgQTEuQmFzZXtjb25zdHJ1Y3RvcihlPVtdLHI9ZnVuY3Rpb24obixvKXtyZXR1cm4gbj5vPy0xOm48bz8xOjB9LGk9ITApe2lmKHN1cGVyKCksdGhpcy52PXIsQXJyYXkuaXNBcnJheShlKSl0aGlzLkM9aT9bLi4uZV06ZTtlbHNlIHt0aGlzLkM9W107bGV0IG89dGhpcztlLmZvckVhY2goZnVuY3Rpb24ocyl7by5DLnB1c2gocyk7fSk7fXRoaXMuaT10aGlzLkMubGVuZ3RoO2xldCBuPXRoaXMuaT4+MTtmb3IobGV0IG89dGhpcy5pLTE+PjE7bz49MDstLW8pdGhpcy5rKG8sbik7fW0oZSl7bGV0IHI9dGhpcy5DW2VdO2Zvcig7ZT4wOyl7bGV0IGk9ZS0xPj4xLG49dGhpcy5DW2ldO2lmKHRoaXMudihuLHIpPD0wKWJyZWFrO3RoaXMuQ1tlXT1uLGU9aTt9dGhpcy5DW2VdPXI7fWsoZSxyKXtsZXQgaT10aGlzLkNbZV07Zm9yKDtlPHI7KXtsZXQgbj1lPDwxfDEsbz1uKzEscz10aGlzLkNbbl07aWYobzx0aGlzLmkmJnRoaXMudihzLHRoaXMuQ1tvXSk+MCYmKG49byxzPXRoaXMuQ1tvXSksdGhpcy52KHMsaSk+PTApYnJlYWs7dGhpcy5DW2VdPXMsZT1uO310aGlzLkNbZV09aTt9Y2xlYXIoKXt0aGlzLmk9MCx0aGlzLkMubGVuZ3RoPTA7fXB1c2goZSl7dGhpcy5DLnB1c2goZSksdGhpcy5tKHRoaXMuaSksdGhpcy5pKz0xO31wb3AoKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLkNbMF0scj10aGlzLkMucG9wKCk7cmV0dXJuIHRoaXMuaS09MSx0aGlzLmkmJih0aGlzLkNbMF09cix0aGlzLmsoMCx0aGlzLmk+PjEpKSxlfXRvcCgpe3JldHVybiB0aGlzLkNbMF19ZmluZChlKXtyZXR1cm4gdGhpcy5DLmluZGV4T2YoZSk+PTB9cmVtb3ZlKGUpe2xldCByPXRoaXMuQy5pbmRleE9mKGUpO3JldHVybiByPDA/ITE6KHI9PT0wP3RoaXMucG9wKCk6cj09PXRoaXMuaS0xPyh0aGlzLkMucG9wKCksdGhpcy5pLT0xKToodGhpcy5DLnNwbGljZShyLDEsdGhpcy5DLnBvcCgpKSx0aGlzLmktPTEsdGhpcy5tKHIpLHRoaXMuayhyLHRoaXMuaT4+MSkpLCEwKX11cGRhdGVJdGVtKGUpe2xldCByPXRoaXMuQy5pbmRleE9mKGUpO3JldHVybiByPDA/ITE6KHRoaXMubShyKSx0aGlzLmsocix0aGlzLmk+PjEpLCEwKX10b0FycmF5KCl7cmV0dXJuIFsuLi50aGlzLkNdfX0sSTE9ZGE7cW4uZGVmYXVsdD1JMTt9KTt2YXIgam49TShEbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShEbixcInRcIix7dmFsdWU6ITB9KTtEbi5kZWZhdWx0PXZvaWQgMDt2YXIgVDE9bHQoKSxwYT1jbGFzcyBleHRlbmRzIFQxLkNvbnRhaW5lcnt9LFIxPXBhO0RuLmRlZmF1bHQ9UjE7fSk7dmFyIHV0PU0oZ2E9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2EsXCJ0XCIse3ZhbHVlOiEwfSk7Z2EudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yPUMxO2Z1bmN0aW9uIEMxKCl7dGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJdGVyYXRvciBhY2Nlc3MgZGVuaWVkIVwiKX19KTt2YXIgYmE9TShXbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShXbixcInRcIix7dmFsdWU6ITB9KTtXbi5SYW5kb21JdGVyYXRvcj12b2lkIDA7dmFyIEIxPWx0KCksRm49dXQoKSx5YT1jbGFzcyBleHRlbmRzIEIxLkNvbnRhaW5lckl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscil7c3VwZXIociksdGhpcy5vPWUsdGhpcy5pdGVyYXRvclR5cGU9PT0wPyh0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT0wJiYoMCwgRm4udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuby09MSx0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5jb250YWluZXIuc2l6ZSgpJiYoMCwgRm4udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubys9MSx0aGlzfSk6KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuY29udGFpbmVyLnNpemUoKS0xJiYoMCwgRm4udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubys9MSx0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09LTEmJigwLCBGbi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vLT0xLHRoaXN9KTt9Z2V0IHBvaW50ZXIoKXtyZXR1cm4gdGhpcy5jb250YWluZXIuZ2V0RWxlbWVudEJ5UG9zKHRoaXMubyl9c2V0IHBvaW50ZXIoZSl7dGhpcy5jb250YWluZXIuc2V0RWxlbWVudEJ5UG9zKHRoaXMubyxlKTt9fTtXbi5SYW5kb21JdGVyYXRvcj15YTt9KTt2YXIgbnA9TSgkbj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSgkbixcInRcIix7dmFsdWU6ITB9KTskbi5kZWZhdWx0PXZvaWQgMDt2YXIgUDE9TzEoam4oKSksazE9YmEoKTtmdW5jdGlvbiBPMSh0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19dmFyIG1yPWNsYXNzIHQgZXh0ZW5kcyBrMS5SYW5kb21JdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIsaSl7c3VwZXIoZSxpKSx0aGlzLmNvbnRhaW5lcj1yO31jb3B5KCl7cmV0dXJuIG5ldyB0KHRoaXMubyx0aGlzLmNvbnRhaW5lcix0aGlzLml0ZXJhdG9yVHlwZSl9fSx3YT1jbGFzcyBleHRlbmRzIFAxLmRlZmF1bHR7Y29uc3RydWN0b3IoZT1bXSxyPSEwKXtpZihzdXBlcigpLEFycmF5LmlzQXJyYXkoZSkpdGhpcy5KPXI/Wy4uLmVdOmUsdGhpcy5pPWUubGVuZ3RoO2Vsc2Uge3RoaXMuSj1bXTtsZXQgaT10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihuKXtpLnB1c2hCYWNrKG4pO30pO319Y2xlYXIoKXt0aGlzLmk9MCx0aGlzLkoubGVuZ3RoPTA7fWJlZ2luKCl7cmV0dXJuIG5ldyBtcigwLHRoaXMpfWVuZCgpe3JldHVybiBuZXcgbXIodGhpcy5pLHRoaXMpfXJCZWdpbigpe3JldHVybiBuZXcgbXIodGhpcy5pLTEsdGhpcywxKX1yRW5kKCl7cmV0dXJuIG5ldyBtcigtMSx0aGlzLDEpfWZyb250KCl7cmV0dXJuIHRoaXMuSlswXX1iYWNrKCl7cmV0dXJuIHRoaXMuSlt0aGlzLmktMV19Z2V0RWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtyZXR1cm4gdGhpcy5KW2VdfWVyYXNlRWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtyZXR1cm4gdGhpcy5KLnNwbGljZShlLDEpLHRoaXMuaS09MSx0aGlzLml9ZXJhc2VFbGVtZW50QnlWYWx1ZShlKXtsZXQgcj0wO2ZvcihsZXQgaT0wO2k8dGhpcy5pOysraSl0aGlzLkpbaV0hPT1lJiYodGhpcy5KW3IrK109dGhpcy5KW2ldKTtyZXR1cm4gdGhpcy5pPXRoaXMuSi5sZW5ndGg9cix0aGlzLml9ZXJhc2VFbGVtZW50QnlJdGVyYXRvcihlKXtsZXQgcj1lLm87cmV0dXJuIGU9ZS5uZXh0KCksdGhpcy5lcmFzZUVsZW1lbnRCeVBvcyhyKSxlfXB1c2hCYWNrKGUpe3JldHVybiB0aGlzLkoucHVzaChlKSx0aGlzLmkrPTEsdGhpcy5pfXBvcEJhY2soKXtpZih0aGlzLmkhPT0wKXJldHVybiB0aGlzLmktPTEsdGhpcy5KLnBvcCgpfXNldEVsZW1lbnRCeVBvcyhlLHIpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjt0aGlzLkpbZV09cjt9aW5zZXJ0KGUscixpPTEpe2lmKGU8MHx8ZT50aGlzLmkpdGhyb3cgbmV3IFJhbmdlRXJyb3I7cmV0dXJuIHRoaXMuSi5zcGxpY2UoZSwwLC4uLm5ldyBBcnJheShpKS5maWxsKHIpKSx0aGlzLmkrPWksdGhpcy5pfWZpbmQoZSl7Zm9yKGxldCByPTA7cjx0aGlzLmk7KytyKWlmKHRoaXMuSltyXT09PWUpcmV0dXJuIG5ldyBtcihyLHRoaXMpO3JldHVybiB0aGlzLmVuZCgpfXJldmVyc2UoKXt0aGlzLkoucmV2ZXJzZSgpO311bmlxdWUoKXtsZXQgZT0xO2ZvcihsZXQgcj0xO3I8dGhpcy5pOysrcil0aGlzLkpbcl0hPT10aGlzLkpbci0xXSYmKHRoaXMuSltlKytdPXRoaXMuSltyXSk7cmV0dXJuIHRoaXMuaT10aGlzLkoubGVuZ3RoPWUsdGhpcy5pfXNvcnQoZSl7dGhpcy5KLnNvcnQoZSk7fWZvckVhY2goZSl7Zm9yKGxldCByPTA7cjx0aGlzLmk7KytyKWUodGhpcy5KW3JdLHIsdGhpcyk7fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIGZ1bmN0aW9uKigpe3lpZWxkKnRoaXMuSjt9LmJpbmQodGhpcykoKX19LHgxPXdhOyRuLmRlZmF1bHQ9eDE7fSk7dmFyIHNwPU0oSG49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoSG4sXCJ0XCIse3ZhbHVlOiEwfSk7SG4uZGVmYXVsdD12b2lkIDA7dmFyIE0xPVUxKGpuKCkpLEwxPWx0KCksdnI9dXQoKTtmdW5jdGlvbiBVMSh0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19dmFyIEVyPWNsYXNzIHQgZXh0ZW5kcyBMMS5Db250YWluZXJJdGVyYXRvcntjb25zdHJ1Y3RvcihlLHIsaSxuKXtzdXBlcihuKSx0aGlzLm89ZSx0aGlzLmg9cix0aGlzLmNvbnRhaW5lcj1pLHRoaXMuaXRlcmF0b3JUeXBlPT09MD8odGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLkw9PT10aGlzLmgmJigwLCB2ci50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5MLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCB2ci50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5CLHRoaXN9KToodGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLkI9PT10aGlzLmgmJigwLCB2ci50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5CLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCB2ci50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5MLHRoaXN9KTt9Z2V0IHBvaW50ZXIoKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgdnIudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuby5sfXNldCBwb2ludGVyKGUpe3RoaXMubz09PXRoaXMuaCYmKDAsIHZyLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm8ubD1lO31jb3B5KCl7cmV0dXJuIG5ldyB0KHRoaXMubyx0aGlzLmgsdGhpcy5jb250YWluZXIsdGhpcy5pdGVyYXRvclR5cGUpfX0sX2E9Y2xhc3MgZXh0ZW5kcyBNMS5kZWZhdWx0e2NvbnN0cnVjdG9yKGU9W10pe3N1cGVyKCksdGhpcy5oPXt9LHRoaXMucD10aGlzLl89dGhpcy5oLkw9dGhpcy5oLkI9dGhpcy5oO2xldCByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3IucHVzaEJhY2soaSk7fSk7fVYoZSl7bGV0e0w6cixCOml9PWU7ci5CPWksaS5MPXIsZT09PXRoaXMucCYmKHRoaXMucD1pKSxlPT09dGhpcy5fJiYodGhpcy5fPXIpLHRoaXMuaS09MTt9RyhlLHIpe2xldCBpPXIuQixuPXtsOmUsTDpyLEI6aX07ci5CPW4saS5MPW4scj09PXRoaXMuaCYmKHRoaXMucD1uKSxpPT09dGhpcy5oJiYodGhpcy5fPW4pLHRoaXMuaSs9MTt9Y2xlYXIoKXt0aGlzLmk9MCx0aGlzLnA9dGhpcy5fPXRoaXMuaC5MPXRoaXMuaC5CPXRoaXMuaDt9YmVnaW4oKXtyZXR1cm4gbmV3IEVyKHRoaXMucCx0aGlzLmgsdGhpcyl9ZW5kKCl7cmV0dXJuIG5ldyBFcih0aGlzLmgsdGhpcy5oLHRoaXMpfXJCZWdpbigpe3JldHVybiBuZXcgRXIodGhpcy5fLHRoaXMuaCx0aGlzLDEpfXJFbmQoKXtyZXR1cm4gbmV3IEVyKHRoaXMuaCx0aGlzLmgsdGhpcywxKX1mcm9udCgpe3JldHVybiB0aGlzLnAubH1iYWNrKCl7cmV0dXJuIHRoaXMuXy5sfWdldEVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IHI9dGhpcy5wO2Zvcig7ZS0tOylyPXIuQjtyZXR1cm4gci5sfWVyYXNlRWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXQgcj10aGlzLnA7Zm9yKDtlLS07KXI9ci5CO3JldHVybiB0aGlzLlYociksdGhpcy5pfWVyYXNlRWxlbWVudEJ5VmFsdWUoZSl7bGV0IHI9dGhpcy5wO2Zvcig7ciE9PXRoaXMuaDspci5sPT09ZSYmdGhpcy5WKHIpLHI9ci5CO3JldHVybiB0aGlzLml9ZXJhc2VFbGVtZW50QnlJdGVyYXRvcihlKXtsZXQgcj1lLm87cmV0dXJuIHI9PT10aGlzLmgmJigwLCB2ci50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksZT1lLm5leHQoKSx0aGlzLlYociksZX1wdXNoQmFjayhlKXtyZXR1cm4gdGhpcy5HKGUsdGhpcy5fKSx0aGlzLml9cG9wQmFjaygpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMuXy5sO3JldHVybiB0aGlzLlYodGhpcy5fKSxlfXB1c2hGcm9udChlKXtyZXR1cm4gdGhpcy5HKGUsdGhpcy5oKSx0aGlzLml9cG9wRnJvbnQoKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLnAubDtyZXR1cm4gdGhpcy5WKHRoaXMucCksZX1zZXRFbGVtZW50QnlQb3MoZSxyKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IGk9dGhpcy5wO2Zvcig7ZS0tOylpPWkuQjtpLmw9cjt9aW5zZXJ0KGUscixpPTEpe2lmKGU8MHx8ZT50aGlzLmkpdGhyb3cgbmV3IFJhbmdlRXJyb3I7aWYoaTw9MClyZXR1cm4gdGhpcy5pO2lmKGU9PT0wKWZvcig7aS0tOyl0aGlzLnB1c2hGcm9udChyKTtlbHNlIGlmKGU9PT10aGlzLmkpZm9yKDtpLS07KXRoaXMucHVzaEJhY2socik7ZWxzZSB7bGV0IG49dGhpcy5wO2ZvcihsZXQgcz0xO3M8ZTsrK3Mpbj1uLkI7bGV0IG89bi5CO2Zvcih0aGlzLmkrPWk7aS0tOyluLkI9e2w6cixMOm59LG4uQi5MPW4sbj1uLkI7bi5CPW8sby5MPW47fXJldHVybiB0aGlzLml9ZmluZChlKXtsZXQgcj10aGlzLnA7Zm9yKDtyIT09dGhpcy5oOyl7aWYoci5sPT09ZSlyZXR1cm4gbmV3IEVyKHIsdGhpcy5oLHRoaXMpO3I9ci5CO31yZXR1cm4gdGhpcy5lbmQoKX1yZXZlcnNlKCl7aWYodGhpcy5pPD0xKXJldHVybjtsZXQgZT10aGlzLnAscj10aGlzLl8saT0wO2Zvcig7aTw8MTx0aGlzLmk7KXtsZXQgbj1lLmw7ZS5sPXIubCxyLmw9bixlPWUuQixyPXIuTCxpKz0xO319dW5pcXVlKCl7aWYodGhpcy5pPD0xKXJldHVybiB0aGlzLmk7bGV0IGU9dGhpcy5wO2Zvcig7ZSE9PXRoaXMuaDspe2xldCByPWU7Zm9yKDtyLkIhPT10aGlzLmgmJnIubD09PXIuQi5sOylyPXIuQix0aGlzLmktPTE7ZS5CPXIuQixlLkIuTD1lLGU9ZS5CO31yZXR1cm4gdGhpcy5pfXNvcnQoZSl7aWYodGhpcy5pPD0xKXJldHVybjtsZXQgcj1bXTt0aGlzLmZvckVhY2goZnVuY3Rpb24obil7ci5wdXNoKG4pO30pLHIuc29ydChlKTtsZXQgaT10aGlzLnA7ci5mb3JFYWNoKGZ1bmN0aW9uKG4pe2kubD1uLGk9aS5CO30pO31tZXJnZShlKXtsZXQgcj10aGlzO2lmKHRoaXMuaT09PTApZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3IucHVzaEJhY2soaSk7fSk7ZWxzZSB7bGV0IGk9dGhpcy5wO2UuZm9yRWFjaChmdW5jdGlvbihuKXtmb3IoO2khPT1yLmgmJmkubDw9bjspaT1pLkI7ci5HKG4saS5MKTt9KTt9cmV0dXJuIHRoaXMuaX1mb3JFYWNoKGUpe2xldCByPXRoaXMucCxpPTA7Zm9yKDtyIT09dGhpcy5oOyllKHIubCxpKyssdGhpcykscj1yLkI7fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIGZ1bmN0aW9uKigpe2lmKHRoaXMuaT09PTApcmV0dXJuO2xldCBlPXRoaXMucDtmb3IoO2UhPT10aGlzLmg7KXlpZWxkIGUubCxlPWUuQjt9LmJpbmQodGhpcykoKX19LE4xPV9hO0huLmRlZmF1bHQ9TjE7fSk7dmFyIG9wPU0oVm49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVm4sXCJ0XCIse3ZhbHVlOiEwfSk7Vm4uZGVmYXVsdD12b2lkIDA7dmFyIHExPWoxKGpuKCkpLEQxPWJhKCk7ZnVuY3Rpb24gajEodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fXZhciBTcj1jbGFzcyB0IGV4dGVuZHMgRDEuUmFuZG9tSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyLGkpe3N1cGVyKGUsaSksdGhpcy5jb250YWluZXI9cjt9Y29weSgpe3JldHVybiBuZXcgdCh0aGlzLm8sdGhpcy5jb250YWluZXIsdGhpcy5pdGVyYXRvclR5cGUpfX0sbWE9Y2xhc3MgZXh0ZW5kcyBxMS5kZWZhdWx0e2NvbnN0cnVjdG9yKGU9W10scj00MDk2KXtzdXBlcigpLHRoaXMuaj0wLHRoaXMuRD0wLHRoaXMuUj0wLHRoaXMuTj0wLHRoaXMuUD0wLHRoaXMuQT1bXTtsZXQgaT0oKCk9PntpZih0eXBlb2YgZS5sZW5ndGg9PVwibnVtYmVyXCIpcmV0dXJuIGUubGVuZ3RoO2lmKHR5cGVvZiBlLnNpemU9PVwibnVtYmVyXCIpcmV0dXJuIGUuc2l6ZTtpZih0eXBlb2YgZS5zaXplPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGUuc2l6ZSgpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBsZW5ndGggb3Igc2l6ZSBvZiB0aGUgY29udGFpbmVyXCIpfSkoKTt0aGlzLkY9cix0aGlzLlA9TWF0aC5tYXgoTWF0aC5jZWlsKGkvdGhpcy5GKSwxKTtmb3IobGV0IHM9MDtzPHRoaXMuUDsrK3MpdGhpcy5BLnB1c2gobmV3IEFycmF5KHRoaXMuRikpO2xldCBuPU1hdGguY2VpbChpL3RoaXMuRik7dGhpcy5qPXRoaXMuUj0odGhpcy5QPj4xKS0obj4+MSksdGhpcy5EPXRoaXMuTj10aGlzLkYtaSV0aGlzLkY+PjE7bGV0IG89dGhpcztlLmZvckVhY2goZnVuY3Rpb24ocyl7by5wdXNoQmFjayhzKTt9KTt9VCgpe2xldCBlPVtdLHI9TWF0aC5tYXgodGhpcy5QPj4xLDEpO2ZvcihsZXQgaT0wO2k8cjsrK2kpZVtpXT1uZXcgQXJyYXkodGhpcy5GKTtmb3IobGV0IGk9dGhpcy5qO2k8dGhpcy5QOysraSllW2UubGVuZ3RoXT10aGlzLkFbaV07Zm9yKGxldCBpPTA7aTx0aGlzLlI7KytpKWVbZS5sZW5ndGhdPXRoaXMuQVtpXTtlW2UubGVuZ3RoXT1bLi4udGhpcy5BW3RoaXMuUl1dLHRoaXMuaj1yLHRoaXMuUj1lLmxlbmd0aC0xO2ZvcihsZXQgaT0wO2k8cjsrK2kpZVtlLmxlbmd0aF09bmV3IEFycmF5KHRoaXMuRik7dGhpcy5BPWUsdGhpcy5QPWUubGVuZ3RoO31PKGUpe2xldCByPXRoaXMuRCtlKzEsaT1yJXRoaXMuRixuPWktMSxvPXRoaXMuaisoci1pKS90aGlzLkY7cmV0dXJuIGk9PT0wJiYoby09MSksbyU9dGhpcy5QLG48MCYmKG4rPXRoaXMuRikse2N1ck5vZGVCdWNrZXRJbmRleDpvLGN1ck5vZGVQb2ludGVySW5kZXg6bn19Y2xlYXIoKXt0aGlzLkE9W25ldyBBcnJheSh0aGlzLkYpXSx0aGlzLlA9MSx0aGlzLmo9dGhpcy5SPXRoaXMuaT0wLHRoaXMuRD10aGlzLk49dGhpcy5GPj4xO31iZWdpbigpe3JldHVybiBuZXcgU3IoMCx0aGlzKX1lbmQoKXtyZXR1cm4gbmV3IFNyKHRoaXMuaSx0aGlzKX1yQmVnaW4oKXtyZXR1cm4gbmV3IFNyKHRoaXMuaS0xLHRoaXMsMSl9ckVuZCgpe3JldHVybiBuZXcgU3IoLTEsdGhpcywxKX1mcm9udCgpe2lmKHRoaXMuaSE9PTApcmV0dXJuIHRoaXMuQVt0aGlzLmpdW3RoaXMuRF19YmFjaygpe2lmKHRoaXMuaSE9PTApcmV0dXJuIHRoaXMuQVt0aGlzLlJdW3RoaXMuTl19cHVzaEJhY2soZSl7cmV0dXJuIHRoaXMuaSYmKHRoaXMuTjx0aGlzLkYtMT90aGlzLk4rPTE6dGhpcy5SPHRoaXMuUC0xPyh0aGlzLlIrPTEsdGhpcy5OPTApOih0aGlzLlI9MCx0aGlzLk49MCksdGhpcy5SPT09dGhpcy5qJiZ0aGlzLk49PT10aGlzLkQmJnRoaXMuVCgpKSx0aGlzLmkrPTEsdGhpcy5BW3RoaXMuUl1bdGhpcy5OXT1lLHRoaXMuaX1wb3BCYWNrKCl7aWYodGhpcy5pPT09MClyZXR1cm47bGV0IGU9dGhpcy5BW3RoaXMuUl1bdGhpcy5OXTtyZXR1cm4gdGhpcy5pIT09MSYmKHRoaXMuTj4wP3RoaXMuTi09MTp0aGlzLlI+MD8odGhpcy5SLT0xLHRoaXMuTj10aGlzLkYtMSk6KHRoaXMuUj10aGlzLlAtMSx0aGlzLk49dGhpcy5GLTEpKSx0aGlzLmktPTEsZX1wdXNoRnJvbnQoZSl7cmV0dXJuIHRoaXMuaSYmKHRoaXMuRD4wP3RoaXMuRC09MTp0aGlzLmo+MD8odGhpcy5qLT0xLHRoaXMuRD10aGlzLkYtMSk6KHRoaXMuaj10aGlzLlAtMSx0aGlzLkQ9dGhpcy5GLTEpLHRoaXMuaj09PXRoaXMuUiYmdGhpcy5EPT09dGhpcy5OJiZ0aGlzLlQoKSksdGhpcy5pKz0xLHRoaXMuQVt0aGlzLmpdW3RoaXMuRF09ZSx0aGlzLml9cG9wRnJvbnQoKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLkFbdGhpcy5qXVt0aGlzLkRdO3JldHVybiB0aGlzLmkhPT0xJiYodGhpcy5EPHRoaXMuRi0xP3RoaXMuRCs9MTp0aGlzLmo8dGhpcy5QLTE/KHRoaXMuais9MSx0aGlzLkQ9MCk6KHRoaXMuaj0wLHRoaXMuRD0wKSksdGhpcy5pLT0xLGV9Z2V0RWxlbWVudEJ5UG9zKGUpe2lmKGU8MHx8ZT50aGlzLmktMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtsZXR7Y3VyTm9kZUJ1Y2tldEluZGV4OnIsY3VyTm9kZVBvaW50ZXJJbmRleDppfT10aGlzLk8oZSk7cmV0dXJuIHRoaXMuQVtyXVtpXX1zZXRFbGVtZW50QnlQb3MoZSxyKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0e2N1ck5vZGVCdWNrZXRJbmRleDppLGN1ck5vZGVQb2ludGVySW5kZXg6bn09dGhpcy5PKGUpO3RoaXMuQVtpXVtuXT1yO31pbnNlcnQoZSxyLGk9MSl7aWYoZTwwfHxlPnRoaXMuaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcjtpZihlPT09MClmb3IoO2ktLTspdGhpcy5wdXNoRnJvbnQocik7ZWxzZSBpZihlPT09dGhpcy5pKWZvcig7aS0tOyl0aGlzLnB1c2hCYWNrKHIpO2Vsc2Uge2xldCBuPVtdO2ZvcihsZXQgbz1lO288dGhpcy5pOysrbyluLnB1c2godGhpcy5nZXRFbGVtZW50QnlQb3MobykpO3RoaXMuY3V0KGUtMSk7Zm9yKGxldCBvPTA7bzxpOysrbyl0aGlzLnB1c2hCYWNrKHIpO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7KytvKXRoaXMucHVzaEJhY2sobltvXSk7fXJldHVybiB0aGlzLml9Y3V0KGUpe2lmKGU8MClyZXR1cm4gdGhpcy5jbGVhcigpLDA7bGV0e2N1ck5vZGVCdWNrZXRJbmRleDpyLGN1ck5vZGVQb2ludGVySW5kZXg6aX09dGhpcy5PKGUpO3JldHVybiB0aGlzLlI9cix0aGlzLk49aSx0aGlzLmk9ZSsxLHRoaXMuaX1lcmFzZUVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7aWYoZT09PTApdGhpcy5wb3BGcm9udCgpO2Vsc2UgaWYoZT09PXRoaXMuaS0xKXRoaXMucG9wQmFjaygpO2Vsc2Uge2xldCByPVtdO2ZvcihsZXQgbj1lKzE7bjx0aGlzLmk7KytuKXIucHVzaCh0aGlzLmdldEVsZW1lbnRCeVBvcyhuKSk7dGhpcy5jdXQoZSksdGhpcy5wb3BCYWNrKCk7bGV0IGk9dGhpcztyLmZvckVhY2goZnVuY3Rpb24obil7aS5wdXNoQmFjayhuKTt9KTt9cmV0dXJuIHRoaXMuaX1lcmFzZUVsZW1lbnRCeVZhbHVlKGUpe2lmKHRoaXMuaT09PTApcmV0dXJuIDA7bGV0IHI9W107Zm9yKGxldCBuPTA7bjx0aGlzLmk7KytuKXtsZXQgbz10aGlzLmdldEVsZW1lbnRCeVBvcyhuKTtvIT09ZSYmci5wdXNoKG8pO31sZXQgaT1yLmxlbmd0aDtmb3IobGV0IG49MDtuPGk7KytuKXRoaXMuc2V0RWxlbWVudEJ5UG9zKG4scltuXSk7cmV0dXJuIHRoaXMuY3V0KGktMSl9ZXJhc2VFbGVtZW50QnlJdGVyYXRvcihlKXtsZXQgcj1lLm87cmV0dXJuIHRoaXMuZXJhc2VFbGVtZW50QnlQb3MociksZT1lLm5leHQoKSxlfWZpbmQoZSl7Zm9yKGxldCByPTA7cjx0aGlzLmk7KytyKWlmKHRoaXMuZ2V0RWxlbWVudEJ5UG9zKHIpPT09ZSlyZXR1cm4gbmV3IFNyKHIsdGhpcyk7cmV0dXJuIHRoaXMuZW5kKCl9cmV2ZXJzZSgpe2xldCBlPTAscj10aGlzLmktMTtmb3IoO2U8cjspe2xldCBpPXRoaXMuZ2V0RWxlbWVudEJ5UG9zKGUpO3RoaXMuc2V0RWxlbWVudEJ5UG9zKGUsdGhpcy5nZXRFbGVtZW50QnlQb3MocikpLHRoaXMuc2V0RWxlbWVudEJ5UG9zKHIsaSksZSs9MSxyLT0xO319dW5pcXVlKCl7aWYodGhpcy5pPD0xKXJldHVybiB0aGlzLmk7bGV0IGU9MSxyPXRoaXMuZ2V0RWxlbWVudEJ5UG9zKDApO2ZvcihsZXQgaT0xO2k8dGhpcy5pOysraSl7bGV0IG49dGhpcy5nZXRFbGVtZW50QnlQb3MoaSk7biE9PXImJihyPW4sdGhpcy5zZXRFbGVtZW50QnlQb3MoZSsrLG4pKTt9Zm9yKDt0aGlzLmk+ZTspdGhpcy5wb3BCYWNrKCk7cmV0dXJuIHRoaXMuaX1zb3J0KGUpe2xldCByPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5pOysraSlyLnB1c2godGhpcy5nZXRFbGVtZW50QnlQb3MoaSkpO3Iuc29ydChlKTtmb3IobGV0IGk9MDtpPHRoaXMuaTsrK2kpdGhpcy5zZXRFbGVtZW50QnlQb3MoaSxyW2ldKTt9c2hyaW5rVG9GaXQoKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT1bXTt0aGlzLmZvckVhY2goZnVuY3Rpb24ocil7ZS5wdXNoKHIpO30pLHRoaXMuUD1NYXRoLm1heChNYXRoLmNlaWwodGhpcy5pL3RoaXMuRiksMSksdGhpcy5pPXRoaXMuaj10aGlzLlI9dGhpcy5EPXRoaXMuTj0wLHRoaXMuQT1bXTtmb3IobGV0IHI9MDtyPHRoaXMuUDsrK3IpdGhpcy5BLnB1c2gobmV3IEFycmF5KHRoaXMuRikpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKXRoaXMucHVzaEJhY2soZVtyXSk7fWZvckVhY2goZSl7Zm9yKGxldCByPTA7cjx0aGlzLmk7KytyKWUodGhpcy5nZXRFbGVtZW50QnlQb3Mocikscix0aGlzKTt9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gZnVuY3Rpb24qKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmk7KytlKXlpZWxkIHRoaXMuZ2V0RWxlbWVudEJ5UG9zKGUpO30uYmluZCh0aGlzKSgpfX0sRjE9bWE7Vm4uZGVmYXVsdD1GMTt9KTt2YXIgYXA9TShlaT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlaSxcInRcIix7dmFsdWU6ITB9KTtlaS5UcmVlTm9kZUVuYWJsZUluZGV4PWVpLlRyZWVOb2RlPXZvaWQgMDt2YXIgem49Y2xhc3N7Y29uc3RydWN0b3IoZSxyKXt0aGlzLmVlPTEsdGhpcy51PXZvaWQgMCx0aGlzLmw9dm9pZCAwLHRoaXMuVT12b2lkIDAsdGhpcy5XPXZvaWQgMCx0aGlzLnR0PXZvaWQgMCx0aGlzLnU9ZSx0aGlzLmw9cjt9TCgpe2xldCBlPXRoaXM7aWYoZS5lZT09PTEmJmUudHQudHQ9PT1lKWU9ZS5XO2Vsc2UgaWYoZS5VKWZvcihlPWUuVTtlLlc7KWU9ZS5XO2Vsc2Uge2xldCByPWUudHQ7Zm9yKDtyLlU9PT1lOyllPXIscj1lLnR0O2U9cjt9cmV0dXJuIGV9Qigpe2xldCBlPXRoaXM7aWYoZS5XKXtmb3IoZT1lLlc7ZS5VOyllPWUuVTtyZXR1cm4gZX1lbHNlIHtsZXQgcj1lLnR0O2Zvcig7ci5XPT09ZTspZT1yLHI9ZS50dDtyZXR1cm4gZS5XIT09cj9yOmV9fXRlKCl7bGV0IGU9dGhpcy50dCxyPXRoaXMuVyxpPXIuVTtyZXR1cm4gZS50dD09PXRoaXM/ZS50dD1yOmUuVT09PXRoaXM/ZS5VPXI6ZS5XPXIsci50dD1lLHIuVT10aGlzLHRoaXMudHQ9cix0aGlzLlc9aSxpJiYoaS50dD10aGlzKSxyfXNlKCl7bGV0IGU9dGhpcy50dCxyPXRoaXMuVSxpPXIuVztyZXR1cm4gZS50dD09PXRoaXM/ZS50dD1yOmUuVT09PXRoaXM/ZS5VPXI6ZS5XPXIsci50dD1lLHIuVz10aGlzLHRoaXMudHQ9cix0aGlzLlU9aSxpJiYoaS50dD10aGlzKSxyfX07ZWkuVHJlZU5vZGU9em47dmFyIHZhPWNsYXNzIGV4dGVuZHMgem57Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucnQ9MTt9dGUoKXtsZXQgZT1zdXBlci50ZSgpO3JldHVybiB0aGlzLmllKCksZS5pZSgpLGV9c2UoKXtsZXQgZT1zdXBlci5zZSgpO3JldHVybiB0aGlzLmllKCksZS5pZSgpLGV9aWUoKXt0aGlzLnJ0PTEsdGhpcy5VJiYodGhpcy5ydCs9dGhpcy5VLnJ0KSx0aGlzLlcmJih0aGlzLnJ0Kz10aGlzLlcucnQpO319O2VpLlRyZWVOb2RlRW5hYmxlSW5kZXg9dmE7fSk7dmFyIFNhPU0oS249PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoS24sXCJ0XCIse3ZhbHVlOiEwfSk7S24uZGVmYXVsdD12b2lkIDA7dmFyIGxwPWFwKCksVzE9bHQoKSx1cD11dCgpLEVhPWNsYXNzIGV4dGVuZHMgVzEuQ29udGFpbmVye2NvbnN0cnVjdG9yKGU9ZnVuY3Rpb24oaSxuKXtyZXR1cm4gaTxuPy0xOmk+bj8xOjB9LHI9ITEpe3N1cGVyKCksdGhpcy5ZPXZvaWQgMCx0aGlzLnY9ZSxyPyh0aGlzLnJlPWxwLlRyZWVOb2RlRW5hYmxlSW5kZXgsdGhpcy5NPWZ1bmN0aW9uKGksbixvKXtsZXQgcz10aGlzLm5lKGksbixvKTtpZihzKXtsZXQgYT1zLnR0O2Zvcig7YSE9PXRoaXMuaDspYS5ydCs9MSxhPWEudHQ7bGV0IGw9dGhpcy5oZShzKTtpZihsKXtsZXR7cGFyZW50Tm9kZTpjLGdyYW5kUGFyZW50OmgsY3VyTm9kZTpkfT1sO2MuaWUoKSxoLmllKCksZC5pZSgpO319cmV0dXJuIHRoaXMuaX0sdGhpcy5WPWZ1bmN0aW9uKGkpe2xldCBuPXRoaXMuZmUoaSk7Zm9yKDtuIT09dGhpcy5oOyluLnJ0LT0xLG49bi50dDt9KToodGhpcy5yZT1scC5UcmVlTm9kZSx0aGlzLk09ZnVuY3Rpb24oaSxuLG8pe2xldCBzPXRoaXMubmUoaSxuLG8pO3JldHVybiBzJiZ0aGlzLmhlKHMpLHRoaXMuaX0sdGhpcy5WPXRoaXMuZmUpLHRoaXMuaD1uZXcgdGhpcy5yZTt9WChlLHIpe2xldCBpPXRoaXMuaDtmb3IoO2U7KXtsZXQgbj10aGlzLnYoZS51LHIpO2lmKG48MCllPWUuVztlbHNlIGlmKG4+MClpPWUsZT1lLlU7ZWxzZSByZXR1cm4gZX1yZXR1cm4gaX1aKGUscil7bGV0IGk9dGhpcy5oO2Zvcig7ZTspdGhpcy52KGUudSxyKTw9MD9lPWUuVzooaT1lLGU9ZS5VKTtyZXR1cm4gaX0kKGUscil7bGV0IGk9dGhpcy5oO2Zvcig7ZTspe2xldCBuPXRoaXMudihlLnUscik7aWYobjwwKWk9ZSxlPWUuVztlbHNlIGlmKG4+MCllPWUuVTtlbHNlIHJldHVybiBlfXJldHVybiBpfXJyKGUscil7bGV0IGk9dGhpcy5oO2Zvcig7ZTspdGhpcy52KGUudSxyKTwwPyhpPWUsZT1lLlcpOmU9ZS5VO3JldHVybiBpfXVlKGUpe2Zvcig7Oyl7bGV0IHI9ZS50dDtpZihyPT09dGhpcy5oKXJldHVybjtpZihlLmVlPT09MSl7ZS5lZT0wO3JldHVybn1pZihlPT09ci5VKXtsZXQgaT1yLlc7aWYoaS5lZT09PTEpaS5lZT0wLHIuZWU9MSxyPT09dGhpcy5ZP3RoaXMuWT1yLnRlKCk6ci50ZSgpO2Vsc2UgaWYoaS5XJiZpLlcuZWU9PT0xKXtpLmVlPXIuZWUsci5lZT0wLGkuVy5lZT0wLHI9PT10aGlzLlk/dGhpcy5ZPXIudGUoKTpyLnRlKCk7cmV0dXJufWVsc2UgaS5VJiZpLlUuZWU9PT0xPyhpLmVlPTEsaS5VLmVlPTAsaS5zZSgpKTooaS5lZT0xLGU9cik7fWVsc2Uge2xldCBpPXIuVTtpZihpLmVlPT09MSlpLmVlPTAsci5lZT0xLHI9PT10aGlzLlk/dGhpcy5ZPXIuc2UoKTpyLnNlKCk7ZWxzZSBpZihpLlUmJmkuVS5lZT09PTEpe2kuZWU9ci5lZSxyLmVlPTAsaS5VLmVlPTAscj09PXRoaXMuWT90aGlzLlk9ci5zZSgpOnIuc2UoKTtyZXR1cm59ZWxzZSBpLlcmJmkuVy5lZT09PTE/KGkuZWU9MSxpLlcuZWU9MCxpLnRlKCkpOihpLmVlPTEsZT1yKTt9fX1mZShlKXtpZih0aGlzLmk9PT0xKXJldHVybiB0aGlzLmNsZWFyKCksdGhpcy5oO2xldCByPWU7Zm9yKDtyLlV8fHIuVzspe2lmKHIuVylmb3Iocj1yLlc7ci5VOylyPXIuVTtlbHNlIHI9ci5VO1tlLnUsci51XT1bci51LGUudV0sW2UubCxyLmxdPVtyLmwsZS5sXSxlPXI7fXRoaXMuaC5VPT09cj90aGlzLmguVT1yLnR0OnRoaXMuaC5XPT09ciYmKHRoaXMuaC5XPXIudHQpLHRoaXMudWUocik7bGV0IGk9ci50dDtyZXR1cm4gcj09PWkuVT9pLlU9dm9pZCAwOmkuVz12b2lkIDAsdGhpcy5pLT0xLHRoaXMuWS5lZT0wLGl9b2UoZSxyKXtyZXR1cm4gZT09PXZvaWQgMD8hMTp0aGlzLm9lKGUuVSxyKXx8cihlKT8hMDp0aGlzLm9lKGUuVyxyKX1oZShlKXtmb3IoOzspe2xldCByPWUudHQ7aWYoci5lZT09PTApcmV0dXJuO2xldCBpPXIudHQ7aWYocj09PWkuVSl7bGV0IG49aS5XO2lmKG4mJm4uZWU9PT0xKXtpZihuLmVlPXIuZWU9MCxpPT09dGhpcy5ZKXJldHVybjtpLmVlPTEsZT1pO2NvbnRpbnVlfWVsc2UgaWYoZT09PXIuVyl7aWYoZS5lZT0wLGUuVSYmKGUuVS50dD1yKSxlLlcmJihlLlcudHQ9aSksci5XPWUuVSxpLlU9ZS5XLGUuVT1yLGUuVz1pLGk9PT10aGlzLlkpdGhpcy5ZPWUsdGhpcy5oLnR0PWU7ZWxzZSB7bGV0IG89aS50dDtvLlU9PT1pP28uVT1lOm8uVz1lO31yZXR1cm4gZS50dD1pLnR0LHIudHQ9ZSxpLnR0PWUsaS5lZT0xLHtwYXJlbnROb2RlOnIsZ3JhbmRQYXJlbnQ6aSxjdXJOb2RlOmV9fWVsc2Ugci5lZT0wLGk9PT10aGlzLlk/dGhpcy5ZPWkuc2UoKTppLnNlKCksaS5lZT0xO31lbHNlIHtsZXQgbj1pLlU7aWYobiYmbi5lZT09PTEpe2lmKG4uZWU9ci5lZT0wLGk9PT10aGlzLlkpcmV0dXJuO2kuZWU9MSxlPWk7Y29udGludWV9ZWxzZSBpZihlPT09ci5VKXtpZihlLmVlPTAsZS5VJiYoZS5VLnR0PWkpLGUuVyYmKGUuVy50dD1yKSxpLlc9ZS5VLHIuVT1lLlcsZS5VPWksZS5XPXIsaT09PXRoaXMuWSl0aGlzLlk9ZSx0aGlzLmgudHQ9ZTtlbHNlIHtsZXQgbz1pLnR0O28uVT09PWk/by5VPWU6by5XPWU7fXJldHVybiBlLnR0PWkudHQsci50dD1lLGkudHQ9ZSxpLmVlPTEse3BhcmVudE5vZGU6cixncmFuZFBhcmVudDppLGN1ck5vZGU6ZX19ZWxzZSByLmVlPTAsaT09PXRoaXMuWT90aGlzLlk9aS50ZSgpOmkudGUoKSxpLmVlPTE7fXJldHVybn19bmUoZSxyLGkpe2lmKHRoaXMuWT09PXZvaWQgMCl7dGhpcy5pKz0xLHRoaXMuWT1uZXcgdGhpcy5yZShlLHIpLHRoaXMuWS5lZT0wLHRoaXMuWS50dD10aGlzLmgsdGhpcy5oLnR0PXRoaXMuWSx0aGlzLmguVT10aGlzLlksdGhpcy5oLlc9dGhpcy5ZO3JldHVybn1sZXQgbixvPXRoaXMuaC5VLHM9dGhpcy52KG8udSxlKTtpZihzPT09MCl7by5sPXI7cmV0dXJufWVsc2UgaWYocz4wKW8uVT1uZXcgdGhpcy5yZShlLHIpLG8uVS50dD1vLG49by5VLHRoaXMuaC5VPW47ZWxzZSB7bGV0IGE9dGhpcy5oLlcsbD10aGlzLnYoYS51LGUpO2lmKGw9PT0wKXthLmw9cjtyZXR1cm59ZWxzZSBpZihsPDApYS5XPW5ldyB0aGlzLnJlKGUsciksYS5XLnR0PWEsbj1hLlcsdGhpcy5oLlc9bjtlbHNlIHtpZihpIT09dm9pZCAwKXtsZXQgYz1pLm87aWYoYyE9PXRoaXMuaCl7bGV0IGg9dGhpcy52KGMudSxlKTtpZihoPT09MCl7Yy5sPXI7cmV0dXJufWVsc2UgaWYoaD4wKXtsZXQgZD1jLkwoKSxnPXRoaXMudihkLnUsZSk7aWYoZz09PTApe2QubD1yO3JldHVybn1lbHNlIGc8MCYmKG49bmV3IHRoaXMucmUoZSxyKSxkLlc9PT12b2lkIDA/KGQuVz1uLG4udHQ9ZCk6KGMuVT1uLG4udHQ9YykpO319fWlmKG49PT12b2lkIDApZm9yKG49dGhpcy5ZOzspe2xldCBjPXRoaXMudihuLnUsZSk7aWYoYz4wKXtpZihuLlU9PT12b2lkIDApe24uVT1uZXcgdGhpcy5yZShlLHIpLG4uVS50dD1uLG49bi5VO2JyZWFrfW49bi5VO31lbHNlIGlmKGM8MCl7aWYobi5XPT09dm9pZCAwKXtuLlc9bmV3IHRoaXMucmUoZSxyKSxuLlcudHQ9bixuPW4uVzticmVha31uPW4uVzt9ZWxzZSB7bi5sPXI7cmV0dXJufX19fXJldHVybiB0aGlzLmkrPTEsbn1JKGUscil7Zm9yKDtlOyl7bGV0IGk9dGhpcy52KGUudSxyKTtpZihpPDApZT1lLlc7ZWxzZSBpZihpPjApZT1lLlU7ZWxzZSByZXR1cm4gZX1yZXR1cm4gZXx8dGhpcy5ofWNsZWFyKCl7dGhpcy5pPTAsdGhpcy5ZPXZvaWQgMCx0aGlzLmgudHQ9dm9pZCAwLHRoaXMuaC5VPXRoaXMuaC5XPXZvaWQgMDt9dXBkYXRlS2V5QnlJdGVyYXRvcihlLHIpe2xldCBpPWUubztpZihpPT09dGhpcy5oJiYoMCwgdXAudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuaT09PTEpcmV0dXJuIGkudT1yLCEwO2lmKGk9PT10aGlzLmguVSlyZXR1cm4gdGhpcy52KGkuQigpLnUscik+MD8oaS51PXIsITApOiExO2lmKGk9PT10aGlzLmguVylyZXR1cm4gdGhpcy52KGkuTCgpLnUscik8MD8oaS51PXIsITApOiExO2xldCBuPWkuTCgpLnU7aWYodGhpcy52KG4scik+PTApcmV0dXJuICExO2xldCBvPWkuQigpLnU7cmV0dXJuIHRoaXMudihvLHIpPD0wPyExOihpLnU9ciwhMCl9ZXJhc2VFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCByPTAsaT10aGlzO3JldHVybiB0aGlzLm9lKHRoaXMuWSxmdW5jdGlvbihuKXtyZXR1cm4gZT09PXI/KGkuVihuKSwhMCk6KHIrPTEsITEpfSksdGhpcy5pfWVyYXNlRWxlbWVudEJ5S2V5KGUpe2lmKHRoaXMuaT09PTApcmV0dXJuICExO2xldCByPXRoaXMuSSh0aGlzLlksZSk7cmV0dXJuIHI9PT10aGlzLmg/ITE6KHRoaXMuVihyKSwhMCl9ZXJhc2VFbGVtZW50QnlJdGVyYXRvcihlKXtsZXQgcj1lLm87cj09PXRoaXMuaCYmKDAsIHVwLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKTtsZXQgaT1yLlc9PT12b2lkIDA7cmV0dXJuIGUuaXRlcmF0b3JUeXBlPT09MD9pJiZlLm5leHQoKTooIWl8fHIuVT09PXZvaWQgMCkmJmUubmV4dCgpLHRoaXMuVihyKSxlfWZvckVhY2goZSl7bGV0IHI9MDtmb3IobGV0IGkgb2YgdGhpcyllKGkscisrLHRoaXMpO31nZXRFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCByLGk9MDtmb3IobGV0IG4gb2YgdGhpcyl7aWYoaT09PWUpe3I9bjticmVha31pKz0xO31yZXR1cm4gcn1nZXRIZWlnaHQoKXtpZih0aGlzLmk9PT0wKXJldHVybiAwO2xldCBlPWZ1bmN0aW9uKHIpe3JldHVybiByP01hdGgubWF4KGUoci5VKSxlKHIuVykpKzE6MH07cmV0dXJuIGUodGhpcy5ZKX19LCQxPUVhO0tuLmRlZmF1bHQ9JDE7fSk7dmFyIElhPU0oUW49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUW4sXCJ0XCIse3ZhbHVlOiEwfSk7UW4uZGVmYXVsdD12b2lkIDA7dmFyIEgxPWx0KCksR249dXQoKSxBYT1jbGFzcyBleHRlbmRzIEgxLkNvbnRhaW5lckl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscixpKXtzdXBlcihpKSx0aGlzLm89ZSx0aGlzLmg9cix0aGlzLml0ZXJhdG9yVHlwZT09PTA/KHRoaXMucHJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz09PXRoaXMuaC5VJiYoMCwgR24udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uTCgpLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCBHbi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5CKCksdGhpc30pOih0aGlzLnByZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmguVyYmKDAsIEduLnRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcikoKSx0aGlzLm89dGhpcy5vLkIoKSx0aGlzfSx0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgR24udGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMubz10aGlzLm8uTCgpLHRoaXN9KTt9Z2V0IGluZGV4KCl7bGV0IGU9dGhpcy5vLHI9dGhpcy5oLnR0O2lmKGU9PT10aGlzLmgpcmV0dXJuIHI/ci5ydC0xOjA7bGV0IGk9MDtmb3IoZS5VJiYoaSs9ZS5VLnJ0KTtlIT09cjspe2xldCBuPWUudHQ7ZT09PW4uVyYmKGkrPTEsbi5VJiYoaSs9bi5VLnJ0KSksZT1uO31yZXR1cm4gaX19LFYxPUFhO1FuLmRlZmF1bHQ9VjE7fSk7dmFyIGNwPU0oWW49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWW4sXCJ0XCIse3ZhbHVlOiEwfSk7WW4uZGVmYXVsdD12b2lkIDA7dmFyIHoxPWZwKFNhKCkpLEsxPWZwKElhKCkpLEcxPXV0KCk7ZnVuY3Rpb24gZnAodCl7cmV0dXJuIHQmJnQudD90OntkZWZhdWx0OnR9fXZhciBLZT1jbGFzcyB0IGV4dGVuZHMgSzEuZGVmYXVsdHtjb25zdHJ1Y3RvcihlLHIsaSxuKXtzdXBlcihlLHIsbiksdGhpcy5jb250YWluZXI9aTt9Z2V0IHBvaW50ZXIoKXtyZXR1cm4gdGhpcy5vPT09dGhpcy5oJiYoMCwgRzEudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuby51fWNvcHkoKXtyZXR1cm4gbmV3IHQodGhpcy5vLHRoaXMuaCx0aGlzLmNvbnRhaW5lcix0aGlzLml0ZXJhdG9yVHlwZSl9fSxUYT1jbGFzcyBleHRlbmRzIHoxLmRlZmF1bHR7Y29uc3RydWN0b3IoZT1bXSxyLGkpe3N1cGVyKHIsaSk7bGV0IG49dGhpcztlLmZvckVhY2goZnVuY3Rpb24obyl7bi5pbnNlcnQobyk7fSk7fSpLKGUpe2UhPT12b2lkIDAmJih5aWVsZCp0aGlzLksoZS5VKSx5aWVsZCBlLnUseWllbGQqdGhpcy5LKGUuVykpO31iZWdpbigpe3JldHVybiBuZXcgS2UodGhpcy5oLlV8fHRoaXMuaCx0aGlzLmgsdGhpcyl9ZW5kKCl7cmV0dXJuIG5ldyBLZSh0aGlzLmgsdGhpcy5oLHRoaXMpfXJCZWdpbigpe3JldHVybiBuZXcgS2UodGhpcy5oLld8fHRoaXMuaCx0aGlzLmgsdGhpcywxKX1yRW5kKCl7cmV0dXJuIG5ldyBLZSh0aGlzLmgsdGhpcy5oLHRoaXMsMSl9ZnJvbnQoKXtyZXR1cm4gdGhpcy5oLlU/dGhpcy5oLlUudTp2b2lkIDB9YmFjaygpe3JldHVybiB0aGlzLmguVz90aGlzLmguVy51OnZvaWQgMH1pbnNlcnQoZSxyKXtyZXR1cm4gdGhpcy5NKGUsdm9pZCAwLHIpfWZpbmQoZSl7bGV0IHI9dGhpcy5JKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEtlKHIsdGhpcy5oLHRoaXMpfWxvd2VyQm91bmQoZSl7bGV0IHI9dGhpcy5YKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEtlKHIsdGhpcy5oLHRoaXMpfXVwcGVyQm91bmQoZSl7bGV0IHI9dGhpcy5aKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEtlKHIsdGhpcy5oLHRoaXMpfXJldmVyc2VMb3dlckJvdW5kKGUpe2xldCByPXRoaXMuJCh0aGlzLlksZSk7cmV0dXJuIG5ldyBLZShyLHRoaXMuaCx0aGlzKX1yZXZlcnNlVXBwZXJCb3VuZChlKXtsZXQgcj10aGlzLnJyKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEtlKHIsdGhpcy5oLHRoaXMpfXVuaW9uKGUpe2xldCByPXRoaXM7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihpKXtyLmluc2VydChpKTt9KSx0aGlzLml9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5LKHRoaXMuWSl9fSxRMT1UYTtZbi5kZWZhdWx0PVExO30pO3ZhciBkcD1NKEpuPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KEpuLFwidFwiLHt2YWx1ZTohMH0pO0puLmRlZmF1bHQ9dm9pZCAwO3ZhciBZMT1ocChTYSgpKSxKMT1ocChJYSgpKSxYMT11dCgpO2Z1bmN0aW9uIGhwKHQpe3JldHVybiB0JiZ0LnQ/dDp7ZGVmYXVsdDp0fX12YXIgR2U9Y2xhc3MgdCBleHRlbmRzIEoxLmRlZmF1bHR7Y29uc3RydWN0b3IoZSxyLGksbil7c3VwZXIoZSxyLG4pLHRoaXMuY29udGFpbmVyPWk7fWdldCBwb2ludGVyKCl7dGhpcy5vPT09dGhpcy5oJiYoMCwgWDEudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpO2xldCBlPXRoaXM7cmV0dXJuIG5ldyBQcm94eShbXSx7Z2V0KHIsaSl7aWYoaT09PVwiMFwiKXJldHVybiBlLm8udTtpZihpPT09XCIxXCIpcmV0dXJuIGUuby5sfSxzZXQocixpLG4pe2lmKGkhPT1cIjFcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJvcHMgbXVzdCBiZSAxXCIpO3JldHVybiBlLm8ubD1uLCEwfX0pfWNvcHkoKXtyZXR1cm4gbmV3IHQodGhpcy5vLHRoaXMuaCx0aGlzLmNvbnRhaW5lcix0aGlzLml0ZXJhdG9yVHlwZSl9fSxSYT1jbGFzcyBleHRlbmRzIFkxLmRlZmF1bHR7Y29uc3RydWN0b3IoZT1bXSxyLGkpe3N1cGVyKHIsaSk7bGV0IG49dGhpcztlLmZvckVhY2goZnVuY3Rpb24obyl7bi5zZXRFbGVtZW50KG9bMF0sb1sxXSk7fSk7fSpLKGUpe2UhPT12b2lkIDAmJih5aWVsZCp0aGlzLksoZS5VKSx5aWVsZCBbZS51LGUubF0seWllbGQqdGhpcy5LKGUuVykpO31iZWdpbigpe3JldHVybiBuZXcgR2UodGhpcy5oLlV8fHRoaXMuaCx0aGlzLmgsdGhpcyl9ZW5kKCl7cmV0dXJuIG5ldyBHZSh0aGlzLmgsdGhpcy5oLHRoaXMpfXJCZWdpbigpe3JldHVybiBuZXcgR2UodGhpcy5oLld8fHRoaXMuaCx0aGlzLmgsdGhpcywxKX1yRW5kKCl7cmV0dXJuIG5ldyBHZSh0aGlzLmgsdGhpcy5oLHRoaXMsMSl9ZnJvbnQoKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLmguVTtyZXR1cm4gW2UudSxlLmxdfWJhY2soKXtpZih0aGlzLmk9PT0wKXJldHVybjtsZXQgZT10aGlzLmguVztyZXR1cm4gW2UudSxlLmxdfWxvd2VyQm91bmQoZSl7bGV0IHI9dGhpcy5YKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEdlKHIsdGhpcy5oLHRoaXMpfXVwcGVyQm91bmQoZSl7bGV0IHI9dGhpcy5aKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEdlKHIsdGhpcy5oLHRoaXMpfXJldmVyc2VMb3dlckJvdW5kKGUpe2xldCByPXRoaXMuJCh0aGlzLlksZSk7cmV0dXJuIG5ldyBHZShyLHRoaXMuaCx0aGlzKX1yZXZlcnNlVXBwZXJCb3VuZChlKXtsZXQgcj10aGlzLnJyKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEdlKHIsdGhpcy5oLHRoaXMpfXNldEVsZW1lbnQoZSxyLGkpe3JldHVybiB0aGlzLk0oZSxyLGkpfWZpbmQoZSl7bGV0IHI9dGhpcy5JKHRoaXMuWSxlKTtyZXR1cm4gbmV3IEdlKHIsdGhpcy5oLHRoaXMpfWdldEVsZW1lbnRCeUtleShlKXtyZXR1cm4gdGhpcy5JKHRoaXMuWSxlKS5sfXVuaW9uKGUpe2xldCByPXRoaXM7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihpKXtyLnNldEVsZW1lbnQoaVswXSxpWzFdKTt9KSx0aGlzLml9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5LKHRoaXMuWSl9fSxaMT1SYTtKbi5kZWZhdWx0PVoxO30pO3ZhciBCYT1NKENhPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KENhLFwidFwiLHt2YWx1ZTohMH0pO0NhLmRlZmF1bHQ9ZXY7ZnVuY3Rpb24gZXYodCl7bGV0IGU9dHlwZW9mIHQ7cmV0dXJuIGU9PT1cIm9iamVjdFwiJiZ0IT09bnVsbHx8ZT09PVwiZnVuY3Rpb25cIn19KTt2YXIgeGE9TSh0aT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aSxcInRcIix7dmFsdWU6ITB9KTt0aS5IYXNoQ29udGFpbmVySXRlcmF0b3I9dGkuSGFzaENvbnRhaW5lcj12b2lkIDA7dmFyIHBwPWx0KCksUGE9dHYoQmEoKSksQ2k9dXQoKTtmdW5jdGlvbiB0dih0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19dmFyIGthPWNsYXNzIGV4dGVuZHMgcHAuQ29udGFpbmVySXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyLGkpe3N1cGVyKGkpLHRoaXMubz1lLHRoaXMuaD1yLHRoaXMuaXRlcmF0b3JUeXBlPT09MD8odGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLkw9PT10aGlzLmgmJigwLCBDaS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5MLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCBDaS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5CLHRoaXN9KToodGhpcy5wcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vLkI9PT10aGlzLmgmJigwLCBDaS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5CLHRoaXN9LHRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCBDaS50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vPXRoaXMuby5MLHRoaXN9KTt9fTt0aS5IYXNoQ29udGFpbmVySXRlcmF0b3I9a2E7dmFyIE9hPWNsYXNzIGV4dGVuZHMgcHAuQ29udGFpbmVye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLkg9W10sdGhpcy5nPXt9LHRoaXMuSEFTSF9UQUc9U3ltYm9sKFwiQEBIQVNIX1RBR1wiKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcy5nLG51bGwpLHRoaXMuaD17fSx0aGlzLmguTD10aGlzLmguQj10aGlzLnA9dGhpcy5fPXRoaXMuaDt9VihlKXtsZXR7TDpyLEI6aX09ZTtyLkI9aSxpLkw9cixlPT09dGhpcy5wJiYodGhpcy5wPWkpLGU9PT10aGlzLl8mJih0aGlzLl89ciksdGhpcy5pLT0xO31NKGUscixpKXtpPT09dm9pZCAwJiYoaT0oMCwgUGEuZGVmYXVsdCkoZSkpO2xldCBuO2lmKGkpe2xldCBvPWVbdGhpcy5IQVNIX1RBR107aWYobyE9PXZvaWQgMClyZXR1cm4gdGhpcy5IW29dLmw9cix0aGlzLmk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy5IQVNIX1RBRyx7dmFsdWU6dGhpcy5ILmxlbmd0aCxjb25maWd1cmFibGU6ITB9KSxuPXt1OmUsbDpyLEw6dGhpcy5fLEI6dGhpcy5ofSx0aGlzLkgucHVzaChuKTt9ZWxzZSB7bGV0IG89dGhpcy5nW2VdO2lmKG8pcmV0dXJuIG8ubD1yLHRoaXMuaTtuPXt1OmUsbDpyLEw6dGhpcy5fLEI6dGhpcy5ofSx0aGlzLmdbZV09bjt9cmV0dXJuIHRoaXMuaT09PTA/KHRoaXMucD1uLHRoaXMuaC5CPW4pOnRoaXMuXy5CPW4sdGhpcy5fPW4sdGhpcy5oLkw9biwrK3RoaXMuaX1JKGUscil7aWYocj09PXZvaWQgMCYmKHI9KDAsIFBhLmRlZmF1bHQpKGUpKSxyKXtsZXQgaT1lW3RoaXMuSEFTSF9UQUddO3JldHVybiBpPT09dm9pZCAwP3RoaXMuaDp0aGlzLkhbaV19ZWxzZSByZXR1cm4gdGhpcy5nW2VdfHx0aGlzLmh9Y2xlYXIoKXtsZXQgZT10aGlzLkhBU0hfVEFHO3RoaXMuSC5mb3JFYWNoKGZ1bmN0aW9uKHIpe2RlbGV0ZSByLnVbZV07fSksdGhpcy5IPVtdLHRoaXMuZz17fSxPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcy5nLG51bGwpLHRoaXMuaT0wLHRoaXMucD10aGlzLl89dGhpcy5oLkw9dGhpcy5oLkI9dGhpcy5oO31lcmFzZUVsZW1lbnRCeUtleShlLHIpe2xldCBpO2lmKHI9PT12b2lkIDAmJihyPSgwLCBQYS5kZWZhdWx0KShlKSkscil7bGV0IG49ZVt0aGlzLkhBU0hfVEFHXTtpZihuPT09dm9pZCAwKXJldHVybiAhMTtkZWxldGUgZVt0aGlzLkhBU0hfVEFHXSxpPXRoaXMuSFtuXSxkZWxldGUgdGhpcy5IW25dO31lbHNlIHtpZihpPXRoaXMuZ1tlXSxpPT09dm9pZCAwKXJldHVybiAhMTtkZWxldGUgdGhpcy5nW2VdO31yZXR1cm4gdGhpcy5WKGkpLCEwfWVyYXNlRWxlbWVudEJ5SXRlcmF0b3IoZSl7bGV0IHI9ZS5vO3JldHVybiByPT09dGhpcy5oJiYoMCwgQ2kudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpLHRoaXMuVihyKSxlLm5leHQoKX1lcmFzZUVsZW1lbnRCeVBvcyhlKXtpZihlPDB8fGU+dGhpcy5pLTEpdGhyb3cgbmV3IFJhbmdlRXJyb3I7bGV0IHI9dGhpcy5wO2Zvcig7ZS0tOylyPXIuQjtyZXR1cm4gdGhpcy5WKHIpLHRoaXMuaX19O3RpLkhhc2hDb250YWluZXI9T2E7fSk7dmFyIHlwPU0oWG49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWG4sXCJ0XCIse3ZhbHVlOiEwfSk7WG4uZGVmYXVsdD12b2lkIDA7dmFyIGdwPXhhKCkscnY9dXQoKSxBcj1jbGFzcyB0IGV4dGVuZHMgZ3AuSGFzaENvbnRhaW5lckl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUscixpLG4pe3N1cGVyKGUscixuKSx0aGlzLmNvbnRhaW5lcj1pO31nZXQgcG9pbnRlcigpe3JldHVybiB0aGlzLm89PT10aGlzLmgmJigwLCBydi50aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IpKCksdGhpcy5vLnV9Y29weSgpe3JldHVybiBuZXcgdCh0aGlzLm8sdGhpcy5oLHRoaXMuY29udGFpbmVyLHRoaXMuaXRlcmF0b3JUeXBlKX19LE1hPWNsYXNzIGV4dGVuZHMgZ3AuSGFzaENvbnRhaW5lcntjb25zdHJ1Y3RvcihlPVtdKXtzdXBlcigpO2xldCByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3IuaW5zZXJ0KGkpO30pO31iZWdpbigpe3JldHVybiBuZXcgQXIodGhpcy5wLHRoaXMuaCx0aGlzKX1lbmQoKXtyZXR1cm4gbmV3IEFyKHRoaXMuaCx0aGlzLmgsdGhpcyl9ckJlZ2luKCl7cmV0dXJuIG5ldyBBcih0aGlzLl8sdGhpcy5oLHRoaXMsMSl9ckVuZCgpe3JldHVybiBuZXcgQXIodGhpcy5oLHRoaXMuaCx0aGlzLDEpfWZyb250KCl7cmV0dXJuIHRoaXMucC51fWJhY2soKXtyZXR1cm4gdGhpcy5fLnV9aW5zZXJ0KGUscil7cmV0dXJuIHRoaXMuTShlLHZvaWQgMCxyKX1nZXRFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCByPXRoaXMucDtmb3IoO2UtLTspcj1yLkI7cmV0dXJuIHIudX1maW5kKGUscil7bGV0IGk9dGhpcy5JKGUscik7cmV0dXJuIG5ldyBBcihpLHRoaXMuaCx0aGlzKX1mb3JFYWNoKGUpe2xldCByPTAsaT10aGlzLnA7Zm9yKDtpIT09dGhpcy5oOyllKGkudSxyKyssdGhpcyksaT1pLkI7fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIGZ1bmN0aW9uKigpe2xldCBlPXRoaXMucDtmb3IoO2UhPT10aGlzLmg7KXlpZWxkIGUudSxlPWUuQjt9LmJpbmQodGhpcykoKX19LGl2PU1hO1huLmRlZmF1bHQ9aXY7fSk7dmFyIHdwPU0oWm49PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoWm4sXCJ0XCIse3ZhbHVlOiEwfSk7Wm4uZGVmYXVsdD12b2lkIDA7dmFyIGJwPXhhKCksbnY9b3YoQmEoKSksc3Y9dXQoKTtmdW5jdGlvbiBvdih0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19dmFyIElyPWNsYXNzIHQgZXh0ZW5kcyBicC5IYXNoQ29udGFpbmVySXRlcmF0b3J7Y29uc3RydWN0b3IoZSxyLGksbil7c3VwZXIoZSxyLG4pLHRoaXMuY29udGFpbmVyPWk7fWdldCBwb2ludGVyKCl7dGhpcy5vPT09dGhpcy5oJiYoMCwgc3YudGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKSgpO2xldCBlPXRoaXM7cmV0dXJuIG5ldyBQcm94eShbXSx7Z2V0KHIsaSl7aWYoaT09PVwiMFwiKXJldHVybiBlLm8udTtpZihpPT09XCIxXCIpcmV0dXJuIGUuby5sfSxzZXQocixpLG4pe2lmKGkhPT1cIjFcIil0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJvcHMgbXVzdCBiZSAxXCIpO3JldHVybiBlLm8ubD1uLCEwfX0pfWNvcHkoKXtyZXR1cm4gbmV3IHQodGhpcy5vLHRoaXMuaCx0aGlzLmNvbnRhaW5lcix0aGlzLml0ZXJhdG9yVHlwZSl9fSxMYT1jbGFzcyBleHRlbmRzIGJwLkhhc2hDb250YWluZXJ7Y29uc3RydWN0b3IoZT1bXSl7c3VwZXIoKTtsZXQgcj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihpKXtyLnNldEVsZW1lbnQoaVswXSxpWzFdKTt9KTt9YmVnaW4oKXtyZXR1cm4gbmV3IElyKHRoaXMucCx0aGlzLmgsdGhpcyl9ZW5kKCl7cmV0dXJuIG5ldyBJcih0aGlzLmgsdGhpcy5oLHRoaXMpfXJCZWdpbigpe3JldHVybiBuZXcgSXIodGhpcy5fLHRoaXMuaCx0aGlzLDEpfXJFbmQoKXtyZXR1cm4gbmV3IElyKHRoaXMuaCx0aGlzLmgsdGhpcywxKX1mcm9udCgpe2lmKHRoaXMuaSE9PTApcmV0dXJuIFt0aGlzLnAudSx0aGlzLnAubF19YmFjaygpe2lmKHRoaXMuaSE9PTApcmV0dXJuIFt0aGlzLl8udSx0aGlzLl8ubF19c2V0RWxlbWVudChlLHIsaSl7cmV0dXJuIHRoaXMuTShlLHIsaSl9Z2V0RWxlbWVudEJ5S2V5KGUscil7aWYocj09PXZvaWQgMCYmKHI9KDAsIG52LmRlZmF1bHQpKGUpKSxyKXtsZXQgbj1lW3RoaXMuSEFTSF9UQUddO3JldHVybiBuIT09dm9pZCAwP3RoaXMuSFtuXS5sOnZvaWQgMH1sZXQgaT10aGlzLmdbZV07cmV0dXJuIGk/aS5sOnZvaWQgMH1nZXRFbGVtZW50QnlQb3MoZSl7aWYoZTwwfHxlPnRoaXMuaS0xKXRocm93IG5ldyBSYW5nZUVycm9yO2xldCByPXRoaXMucDtmb3IoO2UtLTspcj1yLkI7cmV0dXJuIFtyLnUsci5sXX1maW5kKGUscil7bGV0IGk9dGhpcy5JKGUscik7cmV0dXJuIG5ldyBJcihpLHRoaXMuaCx0aGlzKX1mb3JFYWNoKGUpe2xldCByPTAsaT10aGlzLnA7Zm9yKDtpIT09dGhpcy5oOyllKFtpLnUsaS5sXSxyKyssdGhpcyksaT1pLkI7fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIGZ1bmN0aW9uKigpe2xldCBlPXRoaXMucDtmb3IoO2UhPT10aGlzLmg7KXlpZWxkIFtlLnUsZS5sXSxlPWUuQjt9LmJpbmQodGhpcykoKX19LGF2PUxhO1puLmRlZmF1bHQ9YXY7fSk7dmFyIF9wPU0oamU9PntfKCk7digpO20oKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJ0XCIse3ZhbHVlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiRGVxdWVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZHYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJIYXNoTWFwXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGJ2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiSGFzaFNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB5di5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIkxpbmtMaXN0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiT3JkZXJlZE1hcFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBndi5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIk9yZGVyZWRTZXRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcHYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJQcmlvcml0eVF1ZXVlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ2LmRlZmF1bHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGplLFwiUXVldWVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdXYuZGVmYXVsdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoamUsXCJTdGFja1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsdi5kZWZhdWx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShqZSxcIlZlY3RvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBjdi5kZWZhdWx0fX0pO3ZhciBsdj1mdCh0cCgpKSx1dj1mdChycCgpKSxmdj1mdChpcCgpKSxjdj1mdChucCgpKSxodj1mdChzcCgpKSxkdj1mdChvcCgpKSxwdj1mdChjcCgpKSxndj1mdChkcCgpKSx5dj1mdCh5cCgpKSxidj1mdCh3cCgpKTtmdW5jdGlvbiBmdCh0KXtyZXR1cm4gdCYmdC50P3Q6e2RlZmF1bHQ6dH19fSk7dmFyIHZwPU0oKEFOLG1wKT0+e18oKTt2KCk7bSgpO3ZhciB3dj1fcCgpLk9yZGVyZWRTZXQsY3Q9b3QoKShcIm51bWJlci1hbGxvY2F0b3I6dHJhY2VcIiksX3Y9b3QoKShcIm51bWJlci1hbGxvY2F0b3I6ZXJyb3JcIik7ZnVuY3Rpb24gUmUodCxlKXt0aGlzLmxvdz10LHRoaXMuaGlnaD1lO31SZS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvdz09PXQubG93JiZ0aGlzLmhpZ2g9PT10LmhpZ2h9O1JlLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvdzx0LmxvdyYmdGhpcy5oaWdoPHQubG93Py0xOnQubG93PHRoaXMubG93JiZ0LmhpZ2g8dGhpcy5sb3c/MTowfTtmdW5jdGlvbiBodCh0LGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGh0KSlyZXR1cm4gbmV3IGh0KHQsZSk7dGhpcy5taW49dCx0aGlzLm1heD1lLHRoaXMuc3M9bmV3IHd2KFtdLChyLGkpPT5yLmNvbXBhcmUoaSkpLGN0KFwiQ3JlYXRlXCIpLHRoaXMuY2xlYXIoKTt9aHQucHJvdG90eXBlLmZpcnN0VmFjYW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3Muc2l6ZSgpPT09MD9udWxsOnRoaXMuc3MuZnJvbnQoKS5sb3d9O2h0LnByb3RvdHlwZS5hbGxvYz1mdW5jdGlvbigpe2lmKHRoaXMuc3Muc2l6ZSgpPT09MClyZXR1cm4gY3QoXCJhbGxvYygpOmVtcHR5XCIpLG51bGw7bGV0IHQ9dGhpcy5zcy5iZWdpbigpLGU9dC5wb2ludGVyLmxvdyxyPXQucG9pbnRlci5oaWdoLGk9ZTtyZXR1cm4gaSsxPD1yP3RoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcih0LG5ldyBSZShlKzEscikpOnRoaXMuc3MuZXJhc2VFbGVtZW50QnlQb3MoMCksY3QoXCJhbGxvYygpOlwiK2kpLGl9O2h0LnByb3RvdHlwZS51c2U9ZnVuY3Rpb24odCl7bGV0IGU9bmV3IFJlKHQsdCkscj10aGlzLnNzLmxvd2VyQm91bmQoZSk7aWYoIXIuZXF1YWxzKHRoaXMuc3MuZW5kKCkpKXtsZXQgaT1yLnBvaW50ZXIubG93LG49ci5wb2ludGVyLmhpZ2g7cmV0dXJuIHIucG9pbnRlci5lcXVhbHMoZSk/KHRoaXMuc3MuZXJhc2VFbGVtZW50QnlJdGVyYXRvcihyKSxjdChcInVzZSgpOlwiK3QpLCEwKTppPnQ/ITE6aT09PXQ/KHRoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcihyLG5ldyBSZShpKzEsbikpLGN0KFwidXNlKCk6XCIrdCksITApOm49PT10Pyh0aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IocixuZXcgUmUoaSxuLTEpKSxjdChcInVzZSgpOlwiK3QpLCEwKToodGhpcy5zcy51cGRhdGVLZXlCeUl0ZXJhdG9yKHIsbmV3IFJlKHQrMSxuKSksdGhpcy5zcy5pbnNlcnQobmV3IFJlKGksdC0xKSksY3QoXCJ1c2UoKTpcIit0KSwhMCl9cmV0dXJuIGN0KFwidXNlKCk6ZmFpbGVkXCIpLCExfTtodC5wcm90b3R5cGUuZnJlZT1mdW5jdGlvbih0KXtpZih0PHRoaXMubWlufHx0PnRoaXMubWF4KXtfdihcImZyZWUoKTpcIit0K1wiIGlzIG91dCBvZiByYW5nZVwiKTtyZXR1cm59bGV0IGU9bmV3IFJlKHQsdCkscj10aGlzLnNzLnVwcGVyQm91bmQoZSk7aWYoci5lcXVhbHModGhpcy5zcy5lbmQoKSkpe2lmKHIuZXF1YWxzKHRoaXMuc3MuYmVnaW4oKSkpe3RoaXMuc3MuaW5zZXJ0KGUpO3JldHVybn1yLnByZSgpO2xldCBpPXIucG9pbnRlci5oaWdoO3IucG9pbnRlci5oaWdoKzE9PT10P3RoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcihyLG5ldyBSZShpLHQpKTp0aGlzLnNzLmluc2VydChlKTt9ZWxzZSBpZihyLmVxdWFscyh0aGlzLnNzLmJlZ2luKCkpKWlmKHQrMT09PXIucG9pbnRlci5sb3cpe2xldCBpPXIucG9pbnRlci5oaWdoO3RoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcihyLG5ldyBSZSh0LGkpKTt9ZWxzZSB0aGlzLnNzLmluc2VydChlKTtlbHNlIHtsZXQgaT1yLnBvaW50ZXIubG93LG49ci5wb2ludGVyLmhpZ2g7ci5wcmUoKTtsZXQgbz1yLnBvaW50ZXIubG93O3IucG9pbnRlci5oaWdoKzE9PT10P3QrMT09PWk/KHRoaXMuc3MuZXJhc2VFbGVtZW50QnlJdGVyYXRvcihyKSx0aGlzLnNzLnVwZGF0ZUtleUJ5SXRlcmF0b3IocixuZXcgUmUobyxuKSkpOnRoaXMuc3MudXBkYXRlS2V5QnlJdGVyYXRvcihyLG5ldyBSZShvLHQpKTp0KzE9PT1pPyh0aGlzLnNzLmVyYXNlRWxlbWVudEJ5SXRlcmF0b3Ioci5uZXh0KCkpLHRoaXMuc3MuaW5zZXJ0KG5ldyBSZSh0LG4pKSk6dGhpcy5zcy5pbnNlcnQoZSk7fWN0KFwiZnJlZSgpOlwiK3QpO307aHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Y3QoXCJjbGVhcigpXCIpLHRoaXMuc3MuY2xlYXIoKSx0aGlzLnNzLmluc2VydChuZXcgUmUodGhpcy5taW4sdGhpcy5tYXgpKTt9O2h0LnByb3RvdHlwZS5pbnRlcnZhbENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3Muc2l6ZSgpfTtodC5wcm90b3R5cGUuZHVtcD1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwibGVuZ3RoOlwiK3RoaXMuc3Muc2l6ZSgpKTtmb3IobGV0IHQgb2YgdGhpcy5zcyljb25zb2xlLmxvZyh0KTt9O21wLmV4cG9ydHM9aHQ7fSk7dmFyIFVhPU0oKE1OLEVwKT0+e18oKTt2KCk7bSgpO3ZhciBtdj12cCgpO0VwLmV4cG9ydHMuTnVtYmVyQWxsb2NhdG9yPW12O30pO3ZhciBTcD1NKHFhPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHFhLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB2dj1lcCgpLEV2PVVhKCksTmE9Y2xhc3N7Y29uc3RydWN0b3IoZSl7ZT4wJiYodGhpcy5hbGlhc1RvVG9waWM9bmV3IHZ2LkxSVUNhY2hlKHttYXg6ZX0pLHRoaXMudG9waWNUb0FsaWFzPXt9LHRoaXMubnVtYmVyQWxsb2NhdG9yPW5ldyBFdi5OdW1iZXJBbGxvY2F0b3IoMSxlKSx0aGlzLm1heD1lLHRoaXMubGVuZ3RoPTApO31wdXQoZSxyKXtpZihyPT09MHx8cj50aGlzLm1heClyZXR1cm4gITE7bGV0IGk9dGhpcy5hbGlhc1RvVG9waWMuZ2V0KHIpO3JldHVybiBpJiZkZWxldGUgdGhpcy50b3BpY1RvQWxpYXNbaV0sdGhpcy5hbGlhc1RvVG9waWMuc2V0KHIsZSksdGhpcy50b3BpY1RvQWxpYXNbZV09cix0aGlzLm51bWJlckFsbG9jYXRvci51c2UociksdGhpcy5sZW5ndGg9dGhpcy5hbGlhc1RvVG9waWMuc2l6ZSwhMH1nZXRUb3BpY0J5QWxpYXMoZSl7cmV0dXJuIHRoaXMuYWxpYXNUb1RvcGljLmdldChlKX1nZXRBbGlhc0J5VG9waWMoZSl7bGV0IHI9dGhpcy50b3BpY1RvQWxpYXNbZV07cmV0dXJuIHR5cGVvZiByPFwidVwiJiZ0aGlzLmFsaWFzVG9Ub3BpYy5nZXQocikscn1jbGVhcigpe3RoaXMuYWxpYXNUb1RvcGljLmNsZWFyKCksdGhpcy50b3BpY1RvQWxpYXM9e30sdGhpcy5udW1iZXJBbGxvY2F0b3IuY2xlYXIoKSx0aGlzLmxlbmd0aD0wO31nZXRMcnVBbGlhcygpe2xldCBlPXRoaXMubnVtYmVyQWxsb2NhdG9yLmZpcnN0VmFjYW50KCk7cmV0dXJuIGV8fFsuLi50aGlzLmFsaWFzVG9Ub3BpYy5rZXlzKCldW3RoaXMuYWxpYXNUb1RvcGljLnNpemUtMV19fTtxYS5kZWZhdWx0PU5hO30pO3ZhciBBcD1NKEJpPT57XygpO3YoKTttKCk7dmFyIFN2PUJpJiZCaS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KEJpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBBdj1UaSgpLEl2PVN2KFNwKCkpLFR2PV9yKCksUnY9KHQsZSk9Pnt0LmxvZyhcIl9oYW5kbGVDb25uYWNrXCIpO2xldHtvcHRpb25zOnJ9PXQsbj1yLnByb3RvY29sVmVyc2lvbj09PTU/ZS5yZWFzb25Db2RlOmUucmV0dXJuQ29kZTtpZihjbGVhclRpbWVvdXQodC5jb25uYWNrVGltZXIpLGRlbGV0ZSB0LnRvcGljQWxpYXNTZW5kLGUucHJvcGVydGllcyl7aWYoZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtKXtpZihlLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0+NjU1MzUpe3QuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwidG9waWNBbGlhc01heGltdW0gZnJvbSBicm9rZXIgaXMgb3V0IG9mIHJhbmdlXCIpKTtyZXR1cm59ZS5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtPjAmJih0LnRvcGljQWxpYXNTZW5kPW5ldyBJdi5kZWZhdWx0KGUucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bSkpO31lLnByb3BlcnRpZXMuc2VydmVyS2VlcEFsaXZlJiZyLmtlZXBhbGl2ZSYmKHIua2VlcGFsaXZlPWUucHJvcGVydGllcy5zZXJ2ZXJLZWVwQWxpdmUpLGUucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZSYmKHIucHJvcGVydGllc3x8KHIucHJvcGVydGllcz17fSksci5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplPWUucHJvcGVydGllcy5tYXhpbXVtUGFja2V0U2l6ZSk7fWlmKG49PT0wKXQucmVjb25uZWN0aW5nPSExLHQuX29uQ29ubmVjdChlKTtlbHNlIGlmKG4+MCl7bGV0IG89bmV3IFR2LkVycm9yV2l0aFJlYXNvbkNvZGUoYENvbm5lY3Rpb24gcmVmdXNlZDogJHtBdi5SZWFzb25Db2Rlc1tuXX1gLG4pO3QuZW1pdChcImVycm9yXCIsbyk7fX07QmkuZGVmYXVsdD1Sdjt9KTt2YXIgSXA9TShEYT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShEYSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgQ3Y9KHQsZSxyKT0+e3QubG9nKFwiaGFuZGxpbmcgcHVicmVsIHBhY2tldFwiKTtsZXQgaT10eXBlb2YgcjxcInVcIj9yOnQubm9vcCx7bWVzc2FnZUlkOm59PWUsbz17Y21kOlwicHViY29tcFwiLG1lc3NhZ2VJZDpufTt0LmluY29taW5nU3RvcmUuZ2V0KGUsKHMsYSk9PntzP3QuX3NlbmRQYWNrZXQobyxpKToodC5lbWl0KFwibWVzc2FnZVwiLGEudG9waWMsYS5wYXlsb2FkLGEpLHQuaGFuZGxlTWVzc2FnZShhLGw9PntpZihsKXJldHVybiBpKGwpO3QuaW5jb21pbmdTdG9yZS5kZWwoYSx0Lm5vb3ApLHQuX3NlbmRQYWNrZXQobyxpKTt9KSk7fSk7fTtEYS5kZWZhdWx0PUN2O30pO3ZhciBUcD1NKFBpPT57XygpO3YoKTttKCk7dmFyIGtpPVBpJiZQaS5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFBpLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBCdj1raShWZCgpKSxQdj1raShRZCgpKSxrdj1raShBcCgpKSxPdj1raShUaSgpKSx4dj1raShJcCgpKSxNdj0odCxlLHIpPT57bGV0e29wdGlvbnM6aX09dDtpZihpLnByb3RvY29sVmVyc2lvbj09PTUmJmkucHJvcGVydGllcyYmaS5wcm9wZXJ0aWVzLm1heGltdW1QYWNrZXRTaXplJiZpLnByb3BlcnRpZXMubWF4aW11bVBhY2tldFNpemU8ZS5sZW5ndGgpcmV0dXJuIHQuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKGBleGNlZWRpbmcgcGFja2V0cyBzaXplICR7ZS5jbWR9YCkpLHQuZW5kKHtyZWFzb25Db2RlOjE0OSxwcm9wZXJ0aWVzOntyZWFzb25TdHJpbmc6XCJNYXhpbXVtIHBhY2tldCBzaXplIHdhcyBleGNlZWRlZFwifX0pLHQ7c3dpdGNoKHQubG9nKFwiX2hhbmRsZVBhY2tldCA6OiBlbWl0dGluZyBwYWNrZXRyZWNlaXZlXCIpLHQuZW1pdChcInBhY2tldHJlY2VpdmVcIixlKSxlLmNtZCl7Y2FzZVwicHVibGlzaFwiOigwLCBCdi5kZWZhdWx0KSh0LGUscik7YnJlYWs7Y2FzZVwicHViYWNrXCI6Y2FzZVwicHVicmVjXCI6Y2FzZVwicHViY29tcFwiOmNhc2VcInN1YmFja1wiOmNhc2VcInVuc3ViYWNrXCI6dC5yZXNjaGVkdWxlUGluZygpLCgwLCBPdi5kZWZhdWx0KSh0LGUpLHIoKTticmVhaztjYXNlXCJwdWJyZWxcIjp0LnJlc2NoZWR1bGVQaW5nKCksKDAsIHh2LmRlZmF1bHQpKHQsZSxyKTticmVhaztjYXNlXCJjb25uYWNrXCI6KDAsIGt2LmRlZmF1bHQpKHQsZSkscigpO2JyZWFrO2Nhc2VcImF1dGhcIjp0LnJlc2NoZWR1bGVQaW5nKCksKDAsIFB2LmRlZmF1bHQpKHQsZSkscigpO2JyZWFrO2Nhc2VcInBpbmdyZXNwXCI6dC5sb2coXCJfaGFuZGxlUGFja2V0IDo6IHJlY2VpdmVkIHBpbmdyZXNwXCIpLHQucmVzY2hlZHVsZVBpbmcoITApLHIoKTticmVhaztjYXNlXCJkaXNjb25uZWN0XCI6dC5lbWl0KFwiZGlzY29ubmVjdFwiLGUpLHIoKTticmVhaztkZWZhdWx0OnQubG9nKFwiX2hhbmRsZVBhY2tldCA6OiB1bmtub3duIGNvbW1hbmRcIikscigpO2JyZWFrfX07UGkuZGVmYXVsdD1Ndjt9KTt2YXIgUnA9TShyaT0+e18oKTt2KCk7bSgpO3ZhciBMdj1yaSYmcmkuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShyaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtyaS5UeXBlZEV2ZW50RW1pdHRlcj12b2lkIDA7dmFyIFV2PUx2KChzcigpLFgobnIpKSksTnY9X3IoKSxlcz1jbGFzc3t9O3JpLlR5cGVkRXZlbnRFbWl0dGVyPWVzOygwLCBOdi5hcHBseU1peGluKShlcyxVdi5kZWZhdWx0KTt9KTt2YXIgT2k9TShUcj0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShUcixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtUci5pc1JlYWN0TmF0aXZlQnJvd3Nlcj1Uci5pc1dlYldvcmtlcj12b2lkIDA7dmFyIHF2PSgpPT57dmFyIHQ7cmV0dXJuIHR5cGVvZiB3aW5kb3c8XCJ1XCI/dHlwZW9mIG5hdmlnYXRvcjxcInVcIiYmKCh0PW5hdmlnYXRvci51c2VyQWdlbnQpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIgZWxlY3Ryb24vXCIpKT4tMSYmKCEoQj09PW51bGx8fEI9PT12b2lkIDApJiZCLnZlcnNpb25zKT8hT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEIudmVyc2lvbnMsXCJlbGVjdHJvblwiKTp0eXBlb2Ygd2luZG93LmRvY3VtZW50PFwidVwiOiExfSxDcD0oKT0+e3ZhciB0LGU7cmV0dXJuICEhKHR5cGVvZiBzZWxmPT1cIm9iamVjdFwiJiYoISgoZT0odD1zZWxmPy5jb25zdHJ1Y3Rvcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0Lm5hbWUpPT09bnVsbHx8ZT09PXZvaWQgMCkmJmUuaW5jbHVkZXMoXCJXb3JrZXJHbG9iYWxTY29wZVwiKSkpfSxCcD0oKT0+dHlwZW9mIG5hdmlnYXRvcjxcInVcIiYmbmF2aWdhdG9yLnByb2R1Y3Q9PT1cIlJlYWN0TmF0aXZlXCIsRHY9cXYoKXx8Q3AoKXx8QnAoKTtUci5pc1dlYldvcmtlcj1DcCgpO1RyLmlzUmVhY3ROYXRpdmVCcm93c2VyPUJwKCk7VHIuZGVmYXVsdD1Edjt9KTt2YXIga3A9TSgodHMsUHApPT57XygpO3YoKTttKCk7KGZ1bmN0aW9uKHQsZSl7dHlwZW9mIHRzPT1cIm9iamVjdFwiJiZ0eXBlb2YgUHA8XCJ1XCI/ZSh0cyk6dHlwZW9mIGRlZmluZT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLGUpOih0PXR5cGVvZiBnbG9iYWxUaGlzPFwidVwiP2dsb2JhbFRoaXM6dHx8c2VsZixlKHQuZmFzdFVuaXF1ZU51bWJlcnM9e30pKTt9KSh0cyxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihnKXtyZXR1cm4gZnVuY3Rpb24oeSl7dmFyIHc9Zyh5KTtyZXR1cm4geS5hZGQodyksd319LHI9ZnVuY3Rpb24oZyl7cmV0dXJuIGZ1bmN0aW9uKHksdyl7cmV0dXJuIGcuc2V0KHksdyksd319LGk9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI9PT12b2lkIDA/OTAwNzE5OTI1NDc0MDk5MTpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixuPTUzNjg3MDkxMixvPW4qMixzPWZ1bmN0aW9uKGcseSl7cmV0dXJuIGZ1bmN0aW9uKHcpe3ZhciBTPXkuZ2V0KHcpLEU9Uz09PXZvaWQgMD93LnNpemU6UzxvP1MrMTowO2lmKCF3LmhhcyhFKSlyZXR1cm4gZyh3LEUpO2lmKHcuc2l6ZTxuKXtmb3IoO3cuaGFzKEUpOylFPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpvKTtyZXR1cm4gZyh3LEUpfWlmKHcuc2l6ZT5pKXRocm93IG5ldyBFcnJvcihcIkNvbmdyYXR1bGF0aW9ucywgeW91IGNyZWF0ZWQgYSBjb2xsZWN0aW9uIG9mIHVuaXF1ZSBudW1iZXJzIHdoaWNoIHVzZXMgYWxsIGF2YWlsYWJsZSBpbnRlZ2VycyFcIik7Zm9yKDt3LmhhcyhFKTspRT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaSk7cmV0dXJuIGcodyxFKX19LGE9bmV3IFdlYWtNYXAsbD1yKGEpLGM9cyhsLGEpLGg9ZShjKTt0LmFkZFVuaXF1ZU51bWJlcj1oLHQuZ2VuZXJhdGVVbmlxdWVOdW1iZXI9Yzt9KTt9KTt2YXIgeHA9TSgocnMsT3ApPT57XygpO3YoKTttKCk7KGZ1bmN0aW9uKHQsZSl7dHlwZW9mIHJzPT1cIm9iamVjdFwiJiZ0eXBlb2YgT3A8XCJ1XCI/ZShycyxrcCgpKTp0eXBlb2YgZGVmaW5lPT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIixcImZhc3QtdW5pcXVlLW51bWJlcnNcIl0sZSk6KHQ9dHlwZW9mIGdsb2JhbFRoaXM8XCJ1XCI/Z2xvYmFsVGhpczp0fHxzZWxmLGUodC53b3JrZXJUaW1lcnNCcm9rZXI9e30sdC5mYXN0VW5pcXVlTnVtYmVycykpO30pKHJzLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZnVuY3Rpb24ocyl7cmV0dXJuIHMubWV0aG9kIT09dm9pZCAwJiZzLm1ldGhvZD09PVwiY2FsbFwifSxpPWZ1bmN0aW9uKHMpe3JldHVybiBzLmVycm9yPT09bnVsbCYmdHlwZW9mIHMuaWQ9PVwibnVtYmVyXCJ9LG49ZnVuY3Rpb24ocyl7dmFyIGE9bmV3IE1hcChbWzAsZnVuY3Rpb24oKXt9XV0pLGw9bmV3IE1hcChbWzAsZnVuY3Rpb24oKXt9XV0pLGM9bmV3IE1hcCxoPW5ldyBXb3JrZXIocyk7aC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKFMpe3ZhciBFPVMuZGF0YTtpZihyKEUpKXt2YXIgST1FLnBhcmFtcyxDPUkudGltZXJJZCxSPUkudGltZXJUeXBlO2lmKFI9PT1cImludGVydmFsXCIpe3ZhciBVPWEuZ2V0KEMpO2lmKHR5cGVvZiBVPT1cIm51bWJlclwiKXt2YXIgTj1jLmdldChVKTtpZihOPT09dm9pZCAwfHxOLnRpbWVySWQhPT1DfHxOLnRpbWVyVHlwZSE9PVIpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHRpbWVyIGlzIGluIGFuIHVuZGVmaW5lZCBzdGF0ZS5cIil9ZWxzZSBpZih0eXBlb2YgVTxcInVcIilVKCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdGltZXIgaXMgaW4gYW4gdW5kZWZpbmVkIHN0YXRlLlwiKX1lbHNlIGlmKFI9PT1cInRpbWVvdXRcIil7dmFyIFc9bC5nZXQoQyk7aWYodHlwZW9mIFc9PVwibnVtYmVyXCIpe3ZhciBLPWMuZ2V0KFcpO2lmKEs9PT12b2lkIDB8fEsudGltZXJJZCE9PUN8fEsudGltZXJUeXBlIT09Uil0aHJvdyBuZXcgRXJyb3IoXCJUaGUgdGltZXIgaXMgaW4gYW4gdW5kZWZpbmVkIHN0YXRlLlwiKX1lbHNlIGlmKHR5cGVvZiBXPFwidVwiKVcoKSxsLmRlbGV0ZShDKTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlRoZSB0aW1lciBpcyBpbiBhbiB1bmRlZmluZWQgc3RhdGUuXCIpfX1lbHNlIGlmKGkoRSkpe3ZhciB6PUUuaWQsUT1jLmdldCh6KTtpZihRPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIlRoZSB0aW1lciBpcyBpbiBhbiB1bmRlZmluZWQgc3RhdGUuXCIpO3ZhciBwZT1RLnRpbWVySWQsWXQ9US50aW1lclR5cGU7Yy5kZWxldGUoeiksWXQ9PT1cImludGVydmFsXCI/YS5kZWxldGUocGUpOmwuZGVsZXRlKHBlKTt9ZWxzZSB7dmFyIGdlPUUuZXJyb3IubWVzc2FnZTt0aHJvdyBuZXcgRXJyb3IoZ2UpfX0pO3ZhciBkPWZ1bmN0aW9uKEUpe3ZhciBJPWUuZ2VuZXJhdGVVbmlxdWVOdW1iZXIoYyk7Yy5zZXQoSSx7dGltZXJJZDpFLHRpbWVyVHlwZTpcImludGVydmFsXCJ9KSxhLnNldChFLEkpLGgucG9zdE1lc3NhZ2Uoe2lkOkksbWV0aG9kOlwiY2xlYXJcIixwYXJhbXM6e3RpbWVySWQ6RSx0aW1lclR5cGU6XCJpbnRlcnZhbFwifX0pO30sZz1mdW5jdGlvbihFKXt2YXIgST1lLmdlbmVyYXRlVW5pcXVlTnVtYmVyKGMpO2Muc2V0KEkse3RpbWVySWQ6RSx0aW1lclR5cGU6XCJ0aW1lb3V0XCJ9KSxsLnNldChFLEkpLGgucG9zdE1lc3NhZ2Uoe2lkOkksbWV0aG9kOlwiY2xlYXJcIixwYXJhbXM6e3RpbWVySWQ6RSx0aW1lclR5cGU6XCJ0aW1lb3V0XCJ9fSk7fSx5PWZ1bmN0aW9uKEUpe3ZhciBJPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTowLEM9ZS5nZW5lcmF0ZVVuaXF1ZU51bWJlcihhKTtyZXR1cm4gYS5zZXQoQyxmdW5jdGlvbigpe0UoKSx0eXBlb2YgYS5nZXQoQyk9PVwiZnVuY3Rpb25cIiYmaC5wb3N0TWVzc2FnZSh7aWQ6bnVsbCxtZXRob2Q6XCJzZXRcIixwYXJhbXM6e2RlbGF5Okksbm93OnBlcmZvcm1hbmNlLm5vdygpLHRpbWVySWQ6Qyx0aW1lclR5cGU6XCJpbnRlcnZhbFwifX0pO30pLGgucG9zdE1lc3NhZ2Uoe2lkOm51bGwsbWV0aG9kOlwic2V0XCIscGFyYW1zOntkZWxheTpJLG5vdzpwZXJmb3JtYW5jZS5ub3coKSx0aW1lcklkOkMsdGltZXJUeXBlOlwiaW50ZXJ2YWxcIn19KSxDfSx3PWZ1bmN0aW9uKEUpe3ZhciBJPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTowLEM9ZS5nZW5lcmF0ZVVuaXF1ZU51bWJlcihsKTtyZXR1cm4gbC5zZXQoQyxFKSxoLnBvc3RNZXNzYWdlKHtpZDpudWxsLG1ldGhvZDpcInNldFwiLHBhcmFtczp7ZGVsYXk6SSxub3c6cGVyZm9ybWFuY2Uubm93KCksdGltZXJJZDpDLHRpbWVyVHlwZTpcInRpbWVvdXRcIn19KSxDfTtyZXR1cm4ge2NsZWFySW50ZXJ2YWw6ZCxjbGVhclRpbWVvdXQ6ZyxzZXRJbnRlcnZhbDp5LHNldFRpbWVvdXQ6d319O3QubG9hZD1uO30pO30pO3ZhciBMcD1NKChpcyxNcCk9PntfKCk7digpO20oKTsoZnVuY3Rpb24odCxlKXt0eXBlb2YgaXM9PVwib2JqZWN0XCImJnR5cGVvZiBNcDxcInVcIj9lKGlzLHhwKCkpOnR5cGVvZiBkZWZpbmU9PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiLFwid29ya2VyLXRpbWVycy1icm9rZXJcIl0sZSk6KHQ9dHlwZW9mIGdsb2JhbFRoaXM8XCJ1XCI/Z2xvYmFsVGhpczp0fHxzZWxmLGUodC53b3JrZXJUaW1lcnM9e30sdC53b3JrZXJUaW1lcnNCcm9rZXIpKTt9KShpcyxmdW5jdGlvbih0LGUpe3ZhciByPWZ1bmN0aW9uKGgsZCl7dmFyIGc9bnVsbDtyZXR1cm4gZnVuY3Rpb24oKXtpZihnIT09bnVsbClyZXR1cm4gZzt2YXIgeT1uZXcgQmxvYihbZF0se3R5cGU6XCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PXV0Zi04XCJ9KSx3PVVSTC5jcmVhdGVPYmplY3RVUkwoeSk7cmV0dXJuIGc9aCh3KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIFVSTC5yZXZva2VPYmplY3RVUkwodyl9KSxnfX0saT1gKCgpPT57dmFyIGU9ezQ3MjooZSx0LHIpPT57dmFyIG8saTt2b2lkIDA9PT0oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZihvPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9bmV3IE1hcCx0PW5ldyBNYXAscj1mdW5jdGlvbih0KXt2YXIgcj1lLmdldCh0KTtpZih2b2lkIDA9PT1yKXRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gaW50ZXJ2YWwgc2NoZWR1bGVkIHdpdGggdGhlIGdpdmVuIGlkIFwiJy5jb25jYXQodCwnXCIuJykpO2NsZWFyVGltZW91dChyKSxlLmRlbGV0ZSh0KX0sbz1mdW5jdGlvbihlKXt2YXIgcj10LmdldChlKTtpZih2b2lkIDA9PT1yKXRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gdGltZW91dCBzY2hlZHVsZWQgd2l0aCB0aGUgZ2l2ZW4gaWQgXCInLmNvbmNhdChlLCdcIi4nKSk7Y2xlYXJUaW1lb3V0KHIpLHQuZGVsZXRlKGUpfSxpPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbz1wZXJmb3JtYW5jZS5ub3coKTtyZXR1cm57ZXhwZWN0ZWQ6bysocj1lLU1hdGgubWF4KDAsby10KSkscmVtYWluaW5nRGVsYXk6cn19LG49ZnVuY3Rpb24gZSh0LHIsbyxpKXt2YXIgbj1wZXJmb3JtYW5jZS5ub3coKTtuPm8/cG9zdE1lc3NhZ2Uoe2lkOm51bGwsbWV0aG9kOlwiY2FsbFwiLHBhcmFtczp7dGltZXJJZDpyLHRpbWVyVHlwZTppfX0pOnQuc2V0KHIsc2V0VGltZW91dChlLG8tbix0LHIsbyxpKSl9LGE9ZnVuY3Rpb24odCxyLG8pe3ZhciBhPWkodCxvKSxzPWEuZXhwZWN0ZWQsZD1hLnJlbWFpbmluZ0RlbGF5O2Uuc2V0KHIsc2V0VGltZW91dChuLGQsZSxyLHMsXCJpbnRlcnZhbFwiKSl9LHM9ZnVuY3Rpb24oZSxyLG8pe3ZhciBhPWkoZSxvKSxzPWEuZXhwZWN0ZWQsZD1hLnJlbWFpbmluZ0RlbGF5O3Quc2V0KHIsc2V0VGltZW91dChuLGQsdCxyLHMsXCJ0aW1lb3V0XCIpKX07YWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhO3RyeXtpZihcImNsZWFyXCI9PT10Lm1ldGhvZCl7dmFyIGk9dC5pZCxuPXQucGFyYW1zLGQ9bi50aW1lcklkLGM9bi50aW1lclR5cGU7aWYoXCJpbnRlcnZhbFwiPT09YylyKGQpLHBvc3RNZXNzYWdlKHtlcnJvcjpudWxsLGlkOml9KTtlbHNle2lmKFwidGltZW91dFwiIT09Yyl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBnaXZlbiB0eXBlIFwiJy5jb25jYXQoYywnXCIgaXMgbm90IHN1cHBvcnRlZCcpKTtvKGQpLHBvc3RNZXNzYWdlKHtlcnJvcjpudWxsLGlkOml9KX19ZWxzZXtpZihcInNldFwiIT09dC5tZXRob2QpdGhyb3cgbmV3IEVycm9yKCdUaGUgZ2l2ZW4gbWV0aG9kIFwiJy5jb25jYXQodC5tZXRob2QsJ1wiIGlzIG5vdCBzdXBwb3J0ZWQnKSk7dmFyIHU9dC5wYXJhbXMsbD11LmRlbGF5LHA9dS5ub3csbT11LnRpbWVySWQsdj11LnRpbWVyVHlwZTtpZihcImludGVydmFsXCI9PT12KWEobCxtLHApO2Vsc2V7aWYoXCJ0aW1lb3V0XCIhPT12KXRocm93IG5ldyBFcnJvcignVGhlIGdpdmVuIHR5cGUgXCInLmNvbmNhdCh2LCdcIiBpcyBub3Qgc3VwcG9ydGVkJykpO3MobCxtLHApfX19Y2F0Y2goZSl7cG9zdE1lc3NhZ2Uoe2Vycm9yOnttZXNzYWdlOmUubWVzc2FnZX0saWQ6dC5pZCxyZXN1bHQ6bnVsbH0pfX0pKX0pP28uY2FsbCh0LHIsdCxlKTpvKXx8KGUuZXhwb3J0cz1pKX19LHQ9e307ZnVuY3Rpb24gcihvKXt2YXIgaT10W29dO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGkuZXhwb3J0czt2YXIgbj10W29dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtvXShuLG4uZXhwb3J0cyxyKSxuLmV4cG9ydHN9ci5uPWU9Pnt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gci5kKHQse2E6dH0pLHR9LHIuZD0oZSx0KT0+e2Zvcih2YXIgbyBpbiB0KXIubyh0LG8pJiYhci5vKGUsbykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8se2VudW1lcmFibGU6ITAsZ2V0OnRbb119KX0sci5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSwoKCk9PntcInVzZSBzdHJpY3RcIjtyKDQ3Mil9KSgpfSkoKTtgLG49cihlLmxvYWQsaSksbz1mdW5jdGlvbihoKXtyZXR1cm4gbigpLmNsZWFySW50ZXJ2YWwoaCl9LHM9ZnVuY3Rpb24oaCl7cmV0dXJuIG4oKS5jbGVhclRpbWVvdXQoaCl9LGE9ZnVuY3Rpb24oKXt2YXIgaDtyZXR1cm4gKGg9bigpKS5zZXRJbnRlcnZhbC5hcHBseShoLGFyZ3VtZW50cyl9LGw9ZnVuY3Rpb24oKXt2YXIgaDtyZXR1cm4gKGg9bigpKS5zZXRUaW1lb3V0LmFwcGx5KGgsYXJndW1lbnRzKX07dC5jbGVhckludGVydmFsPW8sdC5jbGVhclRpbWVvdXQ9cyx0LnNldEludGVydmFsPWEsdC5zZXRUaW1lb3V0PWw7fSk7fSk7dmFyIERwPU0oQ3Q9PntfKCk7digpO20oKTt2YXIganY9Q3QmJkN0Ll9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9cik7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpOyghbnx8KFwiZ2V0XCJpbiBuPyFlLl9fZXNNb2R1bGU6bi53cml0YWJsZXx8bi5jb25maWd1cmFibGUpKSYmKG49e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbcl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxuKTt9OmZ1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpLHRbaV09ZVtyXTt9KSxGdj1DdCYmQ3QuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KTt9OmZ1bmN0aW9uKHQsZSl7dC5kZWZhdWx0PWU7fSksV3Y9Q3QmJkN0Ll9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKHQhPW51bGwpZm9yKHZhciByIGluIHQpciE9PVwiZGVmYXVsdFwiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmanYoZSx0LHIpO3JldHVybiBGdihlLHQpLGV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShDdCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgamE9V3YoT2koKSksVXA9THAoKSxOcD17c2V0OlVwLnNldEludGVydmFsLGNsZWFyOlVwLmNsZWFySW50ZXJ2YWx9LHFwPXtzZXQ6KHQsZSk9PnNldEludGVydmFsKHQsZSksY2xlYXI6dD0+Y2xlYXJJbnRlcnZhbCh0KX0sJHY9dD0+e3N3aXRjaCh0KXtjYXNlXCJuYXRpdmVcIjpyZXR1cm4gcXA7Y2FzZVwid29ya2VyXCI6cmV0dXJuIE5wO2Nhc2VcImF1dG9cIjpkZWZhdWx0OnJldHVybiBqYS5kZWZhdWx0JiYhamEuaXNXZWJXb3JrZXImJiFqYS5pc1JlYWN0TmF0aXZlQnJvd3Nlcj9OcDpxcH19O0N0LmRlZmF1bHQ9JHY7fSk7dmFyIFdhPU0oeGk9PntfKCk7digpO20oKTt2YXIgSHY9eGkmJnhpLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoeGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFZ2PUh2KERwKCkpLEZhPWNsYXNze2dldCBrZWVwYWxpdmVUaW1lb3V0VGltZXN0YW1wKCl7cmV0dXJuIHRoaXMuX2tlZXBhbGl2ZVRpbWVvdXRUaW1lc3RhbXB9Z2V0IGludGVydmFsRXZlcnkoKXtyZXR1cm4gdGhpcy5faW50ZXJ2YWxFdmVyeX1nZXQga2VlcGFsaXZlKCl7cmV0dXJuIHRoaXMuX2tlZXBhbGl2ZX1jb25zdHJ1Y3RvcihlLHIpe3RoaXMuZGVzdHJveWVkPSExLHRoaXMuY2xpZW50PWUsdGhpcy50aW1lcj10eXBlb2Ygcj09XCJvYmplY3RcIiYmXCJzZXRcImluIHImJlwiY2xlYXJcImluIHI/cjooMCwgVnYuZGVmYXVsdCkociksdGhpcy5zZXRLZWVwYWxpdmUoZS5vcHRpb25zLmtlZXBhbGl2ZSk7fWNsZWFyKCl7dGhpcy50aW1lcklkJiYodGhpcy50aW1lci5jbGVhcih0aGlzLnRpbWVySWQpLHRoaXMudGltZXJJZD1udWxsKTt9c2V0S2VlcGFsaXZlKGUpe2lmKGUqPTFlMyxpc05hTihlKXx8ZTw9MHx8ZT4yMTQ3NDgzNjQ3KXRocm93IG5ldyBFcnJvcihgS2VlcGFsaXZlIHZhbHVlIG11c3QgYmUgYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDIxNDc0ODM2NDcuIFByb3ZpZGVkIHZhbHVlIGlzICR7ZX1gKTt0aGlzLl9rZWVwYWxpdmU9ZSx0aGlzLnJlc2NoZWR1bGUoKSx0aGlzLmNsaWVudC5sb2coYEtlZXBhbGl2ZU1hbmFnZXI6IHNldCBrZWVwYWxpdmUgdG8gJHtlfW1zYCk7fWRlc3Ryb3koKXt0aGlzLmNsZWFyKCksdGhpcy5kZXN0cm95ZWQ9ITA7fXJlc2NoZWR1bGUoKXtpZih0aGlzLmRlc3Ryb3llZClyZXR1cm47dGhpcy5jbGVhcigpLHRoaXMuY291bnRlcj0wO2xldCBlPU1hdGguY2VpbCh0aGlzLl9rZWVwYWxpdmUqMS41KTt0aGlzLl9rZWVwYWxpdmVUaW1lb3V0VGltZXN0YW1wPURhdGUubm93KCkrZSx0aGlzLl9pbnRlcnZhbEV2ZXJ5PU1hdGguY2VpbCh0aGlzLl9rZWVwYWxpdmUvMiksdGhpcy50aW1lcklkPXRoaXMudGltZXIuc2V0KCgpPT57dGhpcy5kZXN0cm95ZWR8fCh0aGlzLmNvdW50ZXIrPTEsdGhpcy5jb3VudGVyPT09Mj90aGlzLmNsaWVudC5zZW5kUGluZygpOnRoaXMuY291bnRlcj4yJiZ0aGlzLmNsaWVudC5vbktlZXBhbGl2ZVRpbWVvdXQoKSk7fSx0aGlzLl9pbnRlcnZhbEV2ZXJ5KTt9fTt4aS5kZWZhdWx0PUZhO30pO3ZhciBvcz1NKFFlPT57XygpO3YoKTttKCk7dmFyIHp2PVFlJiZRZS5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpO3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTsoIW58fChcImdldFwiaW4gbj8hZS5fX2VzTW9kdWxlOm4ud3JpdGFibGV8fG4uY29uZmlndXJhYmxlKSkmJihuPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3JdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksbik7fTpmdW5jdGlvbih0LGUscixpKXtpPT09dm9pZCAwJiYoaT1yKSx0W2ldPWVbcl07fSksS3Y9UWUmJlFlLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSk7fTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lO30pLEhwPVFlJiZRZS5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZih0IT1udWxsKWZvcih2YXIgciBpbiB0KXIhPT1cImRlZmF1bHRcIiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJnp2KGUsdCxyKTtyZXR1cm4gS3YoZSx0KSxlfSx6dD1RZSYmUWUuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShRZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgR3Y9enQoR3UoKSksJGE9enQoTmQoKSksUXY9enQoWm8oKSksWXY9anQoKSxqcD16dChGZCgpKSxGcD1IcCgkZCgpKSxKdj16dChvdCgpKSxpaT16dChyYSgpKSxYdj16dChUcCgpKSxucz1fcigpLFp2PVJwKCksZUU9enQoV2EoKSksV3A9SHAoT2koKSksSGE9Z2xvYmFsVGhpcy5zZXRJbW1lZGlhdGV8fCgoLi4udCk9PntsZXQgZT10LnNoaWZ0KCk7KDAsIG5zLm5leHRUaWNrKSgoKT0+e2UoLi4udCk7fSk7fSksJHA9e2tlZXBhbGl2ZTo2MCxyZXNjaGVkdWxlUGluZ3M6ITAscHJvdG9jb2xJZDpcIk1RVFRcIixwcm90b2NvbFZlcnNpb246NCxyZWNvbm5lY3RQZXJpb2Q6MWUzLGNvbm5lY3RUaW1lb3V0OjMwKjFlMyxjbGVhbjohMCxyZXN1YnNjcmliZTohMCx3cml0ZUNhY2hlOiEwLHRpbWVyVmFyaWFudDpcImF1dG9cIn0sc3M9Y2xhc3MgdCBleHRlbmRzIFp2LlR5cGVkRXZlbnRFbWl0dGVye3N0YXRpYyBkZWZhdWx0SWQoKXtyZXR1cm4gYG1xdHRqc18ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyLDgpfWB9Y29uc3RydWN0b3IoZSxyKXtzdXBlcigpLHRoaXMub3B0aW9ucz1yfHx7fTtmb3IobGV0IGkgaW4gJHApdHlwZW9mIHRoaXMub3B0aW9uc1tpXT5cInVcIj90aGlzLm9wdGlvbnNbaV09JHBbaV06dGhpcy5vcHRpb25zW2ldPXJbaV07dGhpcy5sb2c9dGhpcy5vcHRpb25zLmxvZ3x8KDAsIEp2LmRlZmF1bHQpKFwibXF0dGpzOmNsaWVudFwiKSx0aGlzLm5vb3A9dGhpcy5fbm9vcC5iaW5kKHRoaXMpLHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiB2ZXJzaW9uOlwiLHQuVkVSU0lPTiksV3AuaXNXZWJXb3JrZXI/dGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IGVudmlyb25tZW50XCIsXCJ3ZWJ3b3JrZXJcIik6dGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IGVudmlyb25tZW50XCIsV3AuZGVmYXVsdD9cImJyb3dzZXJcIjpcIm5vZGVcIiksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMucHJvdG9jb2xcIixyLnByb3RvY29sKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm90b2NvbFZlcnNpb25cIixyLnByb3RvY29sVmVyc2lvbiksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMudXNlcm5hbWVcIixyLnVzZXJuYW1lKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5rZWVwYWxpdmVcIixyLmtlZXBhbGl2ZSksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMucmVjb25uZWN0UGVyaW9kXCIsci5yZWNvbm5lY3RQZXJpb2QpLHRoaXMubG9nKFwiTXF0dENsaWVudCA6OiBvcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZFwiLHIucmVqZWN0VW5hdXRob3JpemVkKSx0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogb3B0aW9ucy5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtXCIsci5wcm9wZXJ0aWVzP3IucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bTp2b2lkIDApLHRoaXMub3B0aW9ucy5jbGllbnRJZD10eXBlb2Ygci5jbGllbnRJZD09XCJzdHJpbmdcIj9yLmNsaWVudElkOnQuZGVmYXVsdElkKCksdGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IGNsaWVudElkXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSx0aGlzLm9wdGlvbnMuY3VzdG9tSGFuZGxlQWNrcz1yLnByb3RvY29sVmVyc2lvbj09PTUmJnIuY3VzdG9tSGFuZGxlQWNrcz9yLmN1c3RvbUhhbmRsZUFja3M6KC4uLmkpPT57aVszXShudWxsLDApO30sdGhpcy5vcHRpb25zLndyaXRlQ2FjaGV8fCgkYS5kZWZhdWx0LndyaXRlVG9TdHJlYW0uY2FjaGVOdW1iZXJzPSExKSx0aGlzLnN0cmVhbUJ1aWxkZXI9ZSx0aGlzLm1lc3NhZ2VJZFByb3ZpZGVyPXR5cGVvZiB0aGlzLm9wdGlvbnMubWVzc2FnZUlkUHJvdmlkZXI+XCJ1XCI/bmV3IFF2LmRlZmF1bHQ6dGhpcy5vcHRpb25zLm1lc3NhZ2VJZFByb3ZpZGVyLHRoaXMub3V0Z29pbmdTdG9yZT1yLm91dGdvaW5nU3RvcmV8fG5ldyBpaS5kZWZhdWx0LHRoaXMuaW5jb21pbmdTdG9yZT1yLmluY29taW5nU3RvcmV8fG5ldyBpaS5kZWZhdWx0LHRoaXMucXVldWVRb1NaZXJvPXIucXVldWVRb1NaZXJvPT09dm9pZCAwPyEwOnIucXVldWVRb1NaZXJvLHRoaXMuX3Jlc3Vic2NyaWJlVG9waWNzPXt9LHRoaXMubWVzc2FnZUlkVG9Ub3BpYz17fSx0aGlzLmtlZXBhbGl2ZU1hbmFnZXI9bnVsbCx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmRpc2Nvbm5lY3Rpbmc9ITEsdGhpcy5yZWNvbm5lY3Rpbmc9ITEsdGhpcy5xdWV1ZT1bXSx0aGlzLmNvbm5hY2tUaW1lcj1udWxsLHRoaXMucmVjb25uZWN0VGltZXI9bnVsbCx0aGlzLl9zdG9yZVByb2Nlc3Npbmc9ITEsdGhpcy5fcGFja2V0SWRzRHVyaW5nU3RvcmVQcm9jZXNzaW5nPXt9LHRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlPVtdLHRoaXMub3V0Z29pbmc9e30sdGhpcy5fZmlyc3RDb25uZWN0aW9uPSEwLHIucHJvcGVydGllcyYmci5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtPjAmJihyLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0+NjU1MzU/dGhpcy5sb2coXCJNcXR0Q2xpZW50IDo6IG9wdGlvbnMucHJvcGVydGllcy50b3BpY0FsaWFzTWF4aW11bSBpcyBvdXQgb2YgcmFuZ2VcIik6dGhpcy50b3BpY0FsaWFzUmVjdj1uZXcgR3YuZGVmYXVsdChyLnByb3BlcnRpZXMudG9waWNBbGlhc01heGltdW0pKSx0aGlzLm9uKFwiY29ubmVjdFwiLCgpPT57bGV0e3F1ZXVlOml9PXRoaXMsbj0oKT0+e2xldCBvPWkuc2hpZnQoKTt0aGlzLmxvZyhcImRlbGl2ZXIgOjogZW50cnkgJW9cIixvKTtsZXQgcz1udWxsO2lmKCFvKXt0aGlzLl9yZXN1YnNjcmliZSgpO3JldHVybn1zPW8ucGFja2V0LHRoaXMubG9nKFwiZGVsaXZlciA6OiBjYWxsIF9zZW5kUGFja2V0IGZvciAlb1wiLHMpO2xldCBhPSEwO3MubWVzc2FnZUlkJiZzLm1lc3NhZ2VJZCE9PTAmJih0aGlzLm1lc3NhZ2VJZFByb3ZpZGVyLnJlZ2lzdGVyKHMubWVzc2FnZUlkKXx8KGE9ITEpKSxhP3RoaXMuX3NlbmRQYWNrZXQocyxsPT57by5jYiYmby5jYihsKSxuKCk7fSk6KHRoaXMubG9nKFwibWVzc2FnZUlkOiAlZCBoYXMgYWxyZWFkeSB1c2VkLiBUaGUgbWVzc2FnZSBpcyBza2lwcGVkIGFuZCByZW1vdmVkLlwiLHMubWVzc2FnZUlkKSxuKCkpO307dGhpcy5sb2coXCJjb25uZWN0IDo6IHNlbmRpbmcgcXVldWVkIHBhY2tldHNcIiksbigpO30pLHRoaXMub24oXCJjbG9zZVwiLCgpPT57dGhpcy5sb2coXCJjbG9zZSA6OiBjb25uZWN0ZWQgc2V0IHRvIGBmYWxzZWBcIiksdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5sb2coXCJjbG9zZSA6OiBjbGVhcmluZyBjb25uYWNrVGltZXJcIiksY2xlYXJUaW1lb3V0KHRoaXMuY29ubmFja1RpbWVyKSx0aGlzLl9kZXN0cm95S2VlcGFsaXZlTWFuYWdlcigpLHRoaXMudG9waWNBbGlhc1JlY3YmJnRoaXMudG9waWNBbGlhc1JlY3YuY2xlYXIoKSx0aGlzLmxvZyhcImNsb3NlIDo6IGNhbGxpbmcgX3NldHVwUmVjb25uZWN0XCIpLHRoaXMuX3NldHVwUmVjb25uZWN0KCk7fSksdGhpcy5vcHRpb25zLm1hbnVhbENvbm5lY3R8fCh0aGlzLmxvZyhcIk1xdHRDbGllbnQgOjogc2V0dGluZyB1cCBzdHJlYW1cIiksdGhpcy5jb25uZWN0KCkpO31oYW5kbGVBdXRoKGUscil7cigpO31oYW5kbGVNZXNzYWdlKGUscil7cigpO31fbmV4dElkKCl7cmV0dXJuIHRoaXMubWVzc2FnZUlkUHJvdmlkZXIuYWxsb2NhdGUoKX1nZXRMYXN0TWVzc2FnZUlkKCl7cmV0dXJuIHRoaXMubWVzc2FnZUlkUHJvdmlkZXIuZ2V0TGFzdEFsbG9jYXRlZCgpfWNvbm5lY3QoKXt2YXIgZTtsZXQgcj1uZXcgWXYuV3JpdGFibGUsaT0kYS5kZWZhdWx0LnBhcnNlcih0aGlzLm9wdGlvbnMpLG49bnVsbCxvPVtdO3RoaXMubG9nKFwiY29ubmVjdCA6OiBjYWxsaW5nIG1ldGhvZCB0byBjbGVhciByZWNvbm5lY3RcIiksdGhpcy5fY2xlYXJSZWNvbm5lY3QoKSx0aGlzLmRpc2Nvbm5lY3RlZCYmIXRoaXMucmVjb25uZWN0aW5nJiYodGhpcy5pbmNvbWluZ1N0b3JlPXRoaXMub3B0aW9ucy5pbmNvbWluZ1N0b3JlfHxuZXcgaWkuZGVmYXVsdCx0aGlzLm91dGdvaW5nU3RvcmU9dGhpcy5vcHRpb25zLm91dGdvaW5nU3RvcmV8fG5ldyBpaS5kZWZhdWx0LHRoaXMuZGlzY29ubmVjdGluZz0hMSx0aGlzLmRpc2Nvbm5lY3RlZD0hMSksdGhpcy5sb2coXCJjb25uZWN0IDo6IHVzaW5nIHN0cmVhbUJ1aWxkZXIgcHJvdmlkZWQgdG8gY2xpZW50IHRvIGNyZWF0ZSBzdHJlYW1cIiksdGhpcy5zdHJlYW09dGhpcy5zdHJlYW1CdWlsZGVyKHRoaXMpLGkub24oXCJwYWNrZXRcIixoPT57dGhpcy5sb2coXCJwYXJzZXIgOjogb24gcGFja2V0IHB1c2ggdG8gcGFja2V0cyBhcnJheS5cIiksby5wdXNoKGgpO30pO2xldCBzPSgpPT57dGhpcy5sb2coXCJ3b3JrIDo6IGdldHRpbmcgbmV4dCBwYWNrZXQgaW4gcXVldWVcIik7bGV0IGg9by5zaGlmdCgpO2lmKGgpdGhpcy5sb2coXCJ3b3JrIDo6IHBhY2tldCBwdWxsZWQgZnJvbSBxdWV1ZVwiKSwoMCwgWHYuZGVmYXVsdCkodGhpcyxoLGEpO2Vsc2Uge3RoaXMubG9nKFwid29yayA6OiBubyBwYWNrZXRzIGluIHF1ZXVlXCIpO2xldCBkPW47bj1udWxsLHRoaXMubG9nKFwid29yayA6OiBkb25lIGZsYWcgaXMgJXNcIiwhIWQpLGQmJmQoKTt9fSxhPSgpPT57aWYoby5sZW5ndGgpKDAsIG5zLm5leHRUaWNrKShzKTtlbHNlIHtsZXQgaD1uO249bnVsbCxoKCk7fX07ci5fd3JpdGU9KGgsZCxnKT0+e249Zyx0aGlzLmxvZyhcIndyaXRhYmxlIHN0cmVhbSA6OiBwYXJzaW5nIGJ1ZmZlclwiKSxpLnBhcnNlKGgpLHMoKTt9O2xldCBsPWg9Pnt0aGlzLmxvZyhcInN0cmVhbUVycm9ySGFuZGxlciA6OiBlcnJvclwiLGgubWVzc2FnZSksaC5jb2RlPyh0aGlzLmxvZyhcInN0cmVhbUVycm9ySGFuZGxlciA6OiBlbWl0dGluZyBlcnJvclwiKSx0aGlzLmVtaXQoXCJlcnJvclwiLGgpKTp0aGlzLm5vb3AoaCk7fTt0aGlzLmxvZyhcImNvbm5lY3QgOjogcGlwZSBzdHJlYW0gdG8gd3JpdGFibGUgc3RyZWFtXCIpLHRoaXMuc3RyZWFtLnBpcGUociksdGhpcy5zdHJlYW0ub24oXCJlcnJvclwiLGwpLHRoaXMuc3RyZWFtLm9uKFwiY2xvc2VcIiwoKT0+e3RoaXMubG9nKFwiKCVzKXN0cmVhbSA6OiBvbiBjbG9zZVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5fZmx1c2hWb2xhdGlsZSgpLHRoaXMubG9nKFwic3RyZWFtOiBlbWl0IGNsb3NlIHRvIE1xdHRDbGllbnRcIiksdGhpcy5lbWl0KFwiY2xvc2VcIik7fSksdGhpcy5sb2coXCJjb25uZWN0OiBzZW5kaW5nIHBhY2tldCBgY29ubmVjdGBcIik7bGV0IGM9e2NtZDpcImNvbm5lY3RcIixwcm90b2NvbElkOnRoaXMub3B0aW9ucy5wcm90b2NvbElkLHByb3RvY29sVmVyc2lvbjp0aGlzLm9wdGlvbnMucHJvdG9jb2xWZXJzaW9uLGNsZWFuOnRoaXMub3B0aW9ucy5jbGVhbixjbGllbnRJZDp0aGlzLm9wdGlvbnMuY2xpZW50SWQsa2VlcGFsaXZlOnRoaXMub3B0aW9ucy5rZWVwYWxpdmUsdXNlcm5hbWU6dGhpcy5vcHRpb25zLnVzZXJuYW1lLHBhc3N3b3JkOnRoaXMub3B0aW9ucy5wYXNzd29yZCxwcm9wZXJ0aWVzOnRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzfTtpZih0aGlzLm9wdGlvbnMud2lsbCYmKGMud2lsbD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5vcHRpb25zLndpbGwpLHtwYXlsb2FkOihlPXRoaXMub3B0aW9ucy53aWxsKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUucGF5bG9hZH0pKSx0aGlzLnRvcGljQWxpYXNSZWN2JiYoYy5wcm9wZXJ0aWVzfHwoYy5wcm9wZXJ0aWVzPXt9KSx0aGlzLnRvcGljQWxpYXNSZWN2JiYoYy5wcm9wZXJ0aWVzLnRvcGljQWxpYXNNYXhpbXVtPXRoaXMudG9waWNBbGlhc1JlY3YubWF4KSksdGhpcy5fd3JpdGVQYWNrZXQoYyksaS5vbihcImVycm9yXCIsdGhpcy5lbWl0LmJpbmQodGhpcyxcImVycm9yXCIpKSx0aGlzLm9wdGlvbnMucHJvcGVydGllcyl7aWYoIXRoaXMub3B0aW9ucy5wcm9wZXJ0aWVzLmF1dGhlbnRpY2F0aW9uTWV0aG9kJiZ0aGlzLm9wdGlvbnMucHJvcGVydGllcy5hdXRoZW50aWNhdGlvbkRhdGEpcmV0dXJuIHRoaXMuZW5kKCgpPT50aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIlBhY2tldCBoYXMgbm8gQXV0aGVudGljYXRpb24gTWV0aG9kXCIpKSksdGhpcztpZih0aGlzLm9wdGlvbnMucHJvcGVydGllcy5hdXRoZW50aWNhdGlvbk1ldGhvZCYmdGhpcy5vcHRpb25zLmF1dGhQYWNrZXQmJnR5cGVvZiB0aGlzLm9wdGlvbnMuYXV0aFBhY2tldD09XCJvYmplY3RcIil7bGV0IGg9T2JqZWN0LmFzc2lnbih7Y21kOlwiYXV0aFwiLHJlYXNvbkNvZGU6MH0sdGhpcy5vcHRpb25zLmF1dGhQYWNrZXQpO3RoaXMuX3dyaXRlUGFja2V0KGgpO319cmV0dXJuIHRoaXMuc3RyZWFtLnNldE1heExpc3RlbmVycygxZTMpLGNsZWFyVGltZW91dCh0aGlzLmNvbm5hY2tUaW1lciksdGhpcy5jb25uYWNrVGltZXI9c2V0VGltZW91dCgoKT0+e3RoaXMubG9nKFwiISFjb25uZWN0VGltZW91dCBoaXQhISBDYWxsaW5nIF9jbGVhblVwIHdpdGggZm9yY2UgYHRydWVgXCIpLHRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiY29ubmFjayB0aW1lb3V0XCIpKSx0aGlzLl9jbGVhblVwKCEwKTt9LHRoaXMub3B0aW9ucy5jb25uZWN0VGltZW91dCksdGhpc31wdWJsaXNoKGUscixpLG4pe3RoaXMubG9nKFwicHVibGlzaCA6OiBtZXNzYWdlIGAlc2AgdG8gdG9waWMgYCVzYFwiLHIsZSk7bGV0e29wdGlvbnM6b309dGhpczt0eXBlb2YgaT09XCJmdW5jdGlvblwiJiYobj1pLGk9bnVsbCksaT1pfHx7fSxpPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx7cW9zOjAscmV0YWluOiExLGR1cDohMX0pLGkpO2xldHtxb3M6YSxyZXRhaW46bCxkdXA6Yyxwcm9wZXJ0aWVzOmgsY2JTdG9yZVB1dDpkfT1pO2lmKHRoaXMuX2NoZWNrRGlzY29ubmVjdGluZyhuKSlyZXR1cm4gdGhpcztsZXQgZz0oKT0+e2xldCB5PTA7aWYoKGE9PT0xfHxhPT09MikmJih5PXRoaXMuX25leHRJZCgpLHk9PT1udWxsKSlyZXR1cm4gdGhpcy5sb2coXCJObyBtZXNzYWdlSWQgbGVmdFwiKSwhMTtsZXQgdz17Y21kOlwicHVibGlzaFwiLHRvcGljOmUscGF5bG9hZDpyLHFvczphLHJldGFpbjpsLG1lc3NhZ2VJZDp5LGR1cDpjfTtzd2l0Y2goby5wcm90b2NvbFZlcnNpb249PT01JiYody5wcm9wZXJ0aWVzPWgpLHRoaXMubG9nKFwicHVibGlzaCA6OiBxb3NcIixhKSxhKXtjYXNlIDE6Y2FzZSAyOnRoaXMub3V0Z29pbmdbdy5tZXNzYWdlSWRdPXt2b2xhdGlsZTohMSxjYjpufHx0aGlzLm5vb3B9LHRoaXMubG9nKFwiTXF0dENsaWVudDpwdWJsaXNoOiBwYWNrZXQgY21kOiAlc1wiLHcuY21kKSx0aGlzLl9zZW5kUGFja2V0KHcsdm9pZCAwLGQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5sb2coXCJNcXR0Q2xpZW50OnB1Ymxpc2g6IHBhY2tldCBjbWQ6ICVzXCIsdy5jbWQpLHRoaXMuX3NlbmRQYWNrZXQodyxuLGQpO2JyZWFrfXJldHVybiAhMH07cmV0dXJuICh0aGlzLl9zdG9yZVByb2Nlc3Npbmd8fHRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLmxlbmd0aD4wfHwhZygpKSYmdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUucHVzaCh7aW52b2tlOmcsY2JTdG9yZVB1dDppLmNiU3RvcmVQdXQsY2FsbGJhY2s6bn0pLHRoaXN9cHVibGlzaEFzeW5jKGUscixpKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sbyk9Pnt0aGlzLnB1Ymxpc2goZSxyLGksKHMsYSk9PntzP28ocyk6bihhKTt9KTt9KX1zdWJzY3JpYmUoZSxyLGkpe2xldCBuPXRoaXMub3B0aW9ucy5wcm90b2NvbFZlcnNpb247dHlwZW9mIHI9PVwiZnVuY3Rpb25cIiYmKGk9ciksaT1pfHx0aGlzLm5vb3A7bGV0IG89ITEscz1bXTt0eXBlb2YgZT09XCJzdHJpbmdcIj8oZT1bZV0scz1lKTpBcnJheS5pc0FycmF5KGUpP3M9ZTp0eXBlb2YgZT09XCJvYmplY3RcIiYmKG89ZS5yZXN1YnNjcmliZSxkZWxldGUgZS5yZXN1YnNjcmliZSxzPU9iamVjdC5rZXlzKGUpKTtsZXQgYT1GcC52YWxpZGF0ZVRvcGljcyhzKTtpZihhIT09bnVsbClyZXR1cm4gSGEoaSxuZXcgRXJyb3IoYEludmFsaWQgdG9waWMgJHthfWApKSx0aGlzO2lmKHRoaXMuX2NoZWNrRGlzY29ubmVjdGluZyhpKSlyZXR1cm4gdGhpcy5sb2coXCJzdWJzY3JpYmU6IGRpc2Njb25lY3RpbmcgdHJ1ZVwiKSx0aGlzO2xldCBsPXtxb3M6MH07bj09PTUmJihsLm5sPSExLGwucmFwPSExLGwucmg9MCkscj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkscik7bGV0IGM9ci5wcm9wZXJ0aWVzLGg9W10sZD0oeSx3KT0+e2lmKHc9d3x8ciwhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3Jlc3Vic2NyaWJlVG9waWNzLHkpfHx0aGlzLl9yZXN1YnNjcmliZVRvcGljc1t5XS5xb3M8dy5xb3N8fG8pe2xldCBTPXt0b3BpYzp5LHFvczp3LnFvc307bj09PTUmJihTLm5sPXcubmwsUy5yYXA9dy5yYXAsUy5yaD13LnJoLFMucHJvcGVydGllcz1jKSx0aGlzLmxvZyhcInN1YnNjcmliZTogcHVzaGluZyB0b3BpYyBgJXNgIGFuZCBxb3MgYCVzYCB0byBzdWJzIGxpc3RcIixTLnRvcGljLFMucW9zKSxoLnB1c2goUyk7fX07aWYoQXJyYXkuaXNBcnJheShlKT9lLmZvckVhY2goeT0+e3RoaXMubG9nKFwic3Vic2NyaWJlOiBhcnJheSB0b3BpYyAlc1wiLHkpLGQoeSk7fSk6T2JqZWN0LmtleXMoZSkuZm9yRWFjaCh5PT57dGhpcy5sb2coXCJzdWJzY3JpYmU6IG9iamVjdCB0b3BpYyAlcywgJW9cIix5LGVbeV0pLGQoeSxlW3ldKTt9KSwhaC5sZW5ndGgpcmV0dXJuIGkobnVsbCxbXSksdGhpcztsZXQgZz0oKT0+e2xldCB5PXRoaXMuX25leHRJZCgpO2lmKHk9PT1udWxsKXJldHVybiB0aGlzLmxvZyhcIk5vIG1lc3NhZ2VJZCBsZWZ0XCIpLCExO2xldCB3PXtjbWQ6XCJzdWJzY3JpYmVcIixzdWJzY3JpcHRpb25zOmgsbWVzc2FnZUlkOnl9O2lmKGMmJih3LnByb3BlcnRpZXM9YyksdGhpcy5vcHRpb25zLnJlc3Vic2NyaWJlKXt0aGlzLmxvZyhcInN1YnNjcmliZSA6OiByZXN1YnNjcmliZSB0cnVlXCIpO2xldCBTPVtdO2guZm9yRWFjaChFPT57aWYodGhpcy5vcHRpb25zLnJlY29ubmVjdFBlcmlvZD4wKXtsZXQgST17cW9zOkUucW9zfTtuPT09NSYmKEkubmw9RS5ubHx8ITEsSS5yYXA9RS5yYXB8fCExLEkucmg9RS5yaHx8MCxJLnByb3BlcnRpZXM9RS5wcm9wZXJ0aWVzKSx0aGlzLl9yZXN1YnNjcmliZVRvcGljc1tFLnRvcGljXT1JLFMucHVzaChFLnRvcGljKTt9fSksdGhpcy5tZXNzYWdlSWRUb1RvcGljW3cubWVzc2FnZUlkXT1TO31yZXR1cm4gdGhpcy5vdXRnb2luZ1t3Lm1lc3NhZ2VJZF09e3ZvbGF0aWxlOiEwLGNiKFMsRSl7aWYoIVMpe2xldHtncmFudGVkOkl9PUU7Zm9yKGxldCBDPTA7QzxJLmxlbmd0aDtDKz0xKWhbQ10ucW9zPUlbQ107fWkoUyxoLEUpO319LHRoaXMubG9nKFwic3Vic2NyaWJlIDo6IGNhbGwgX3NlbmRQYWNrZXRcIiksdGhpcy5fc2VuZFBhY2tldCh3KSwhMH07cmV0dXJuICh0aGlzLl9zdG9yZVByb2Nlc3Npbmd8fHRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLmxlbmd0aD4wfHwhZygpKSYmdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUucHVzaCh7aW52b2tlOmcsY2FsbGJhY2s6aX0pLHRoaXN9c3Vic2NyaWJlQXN5bmMoZSxyKXtyZXR1cm4gbmV3IFByb21pc2UoKGksbik9Pnt0aGlzLnN1YnNjcmliZShlLHIsKG8scyk9PntvP24obyk6aShzKTt9KTt9KX11bnN1YnNjcmliZShlLHIsaSl7dHlwZW9mIGU9PVwic3RyaW5nXCImJihlPVtlXSksdHlwZW9mIHI9PVwiZnVuY3Rpb25cIiYmKGk9ciksaT1pfHx0aGlzLm5vb3A7bGV0IG49RnAudmFsaWRhdGVUb3BpY3MoZSk7aWYobiE9PW51bGwpcmV0dXJuIEhhKGksbmV3IEVycm9yKGBJbnZhbGlkIHRvcGljICR7bn1gKSksdGhpcztpZih0aGlzLl9jaGVja0Rpc2Nvbm5lY3RpbmcoaSkpcmV0dXJuIHRoaXM7bGV0IG89KCk9PntsZXQgcz10aGlzLl9uZXh0SWQoKTtpZihzPT09bnVsbClyZXR1cm4gdGhpcy5sb2coXCJObyBtZXNzYWdlSWQgbGVmdFwiKSwhMTtsZXQgYT17Y21kOlwidW5zdWJzY3JpYmVcIixtZXNzYWdlSWQ6cyx1bnN1YnNjcmlwdGlvbnM6W119O3JldHVybiB0eXBlb2YgZT09XCJzdHJpbmdcIj9hLnVuc3Vic2NyaXB0aW9ucz1bZV06QXJyYXkuaXNBcnJheShlKSYmKGEudW5zdWJzY3JpcHRpb25zPWUpLHRoaXMub3B0aW9ucy5yZXN1YnNjcmliZSYmYS51bnN1YnNjcmlwdGlvbnMuZm9yRWFjaChsPT57ZGVsZXRlIHRoaXMuX3Jlc3Vic2NyaWJlVG9waWNzW2xdO30pLHR5cGVvZiByPT1cIm9iamVjdFwiJiZyLnByb3BlcnRpZXMmJihhLnByb3BlcnRpZXM9ci5wcm9wZXJ0aWVzKSx0aGlzLm91dGdvaW5nW2EubWVzc2FnZUlkXT17dm9sYXRpbGU6ITAsY2I6aX0sdGhpcy5sb2coXCJ1bnN1YnNjcmliZTogY2FsbCBfc2VuZFBhY2tldFwiKSx0aGlzLl9zZW5kUGFja2V0KGEpLCEwfTtyZXR1cm4gKHRoaXMuX3N0b3JlUHJvY2Vzc2luZ3x8dGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUubGVuZ3RoPjB8fCFvKCkpJiZ0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtpbnZva2U6byxjYWxsYmFjazppfSksdGhpc311bnN1YnNjcmliZUFzeW5jKGUscil7cmV0dXJuIG5ldyBQcm9taXNlKChpLG4pPT57dGhpcy51bnN1YnNjcmliZShlLHIsKG8scyk9PntvP24obyk6aShzKTt9KTt9KX1lbmQoZSxyLGkpe3RoaXMubG9nKFwiZW5kIDo6ICglcylcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLChlPT1udWxsfHx0eXBlb2YgZSE9XCJib29sZWFuXCIpJiYoaT1pfHxyLHI9ZSxlPSExKSx0eXBlb2YgciE9XCJvYmplY3RcIiYmKGk9aXx8cixyPW51bGwpLHRoaXMubG9nKFwiZW5kIDo6IGNiPyAlc1wiLCEhaSksKCFpfHx0eXBlb2YgaSE9XCJmdW5jdGlvblwiKSYmKGk9dGhpcy5ub29wKTtsZXQgbj0oKT0+e3RoaXMubG9nKFwiZW5kIDo6IGNsb3NlU3RvcmVzOiBjbG9zaW5nIGluY29taW5nIGFuZCBvdXRnb2luZyBzdG9yZXNcIiksdGhpcy5kaXNjb25uZWN0ZWQ9ITAsdGhpcy5pbmNvbWluZ1N0b3JlLmNsb3NlKHM9Pnt0aGlzLm91dGdvaW5nU3RvcmUuY2xvc2UoYT0+e2lmKHRoaXMubG9nKFwiZW5kIDo6IGNsb3NlU3RvcmVzOiBlbWl0dGluZyBlbmRcIiksdGhpcy5lbWl0KFwiZW5kXCIpLGkpe2xldCBsPXN8fGE7dGhpcy5sb2coXCJlbmQgOjogY2xvc2VTdG9yZXM6IGludm9raW5nIGNhbGxiYWNrIHdpdGggYXJnc1wiKSxpKGwpO319KTt9KSx0aGlzLl9kZWZlcnJlZFJlY29ubmVjdD90aGlzLl9kZWZlcnJlZFJlY29ubmVjdCgpOih0aGlzLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kPT09MHx8dGhpcy5vcHRpb25zLm1hbnVhbENvbm5lY3QpJiYodGhpcy5kaXNjb25uZWN0aW5nPSExKTt9LG89KCk9Pnt0aGlzLmxvZyhcImVuZCA6OiAoJXMpIDo6IGZpbmlzaCA6OiBjYWxsaW5nIF9jbGVhblVwIHdpdGggZm9yY2UgJXNcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQsZSksdGhpcy5fY2xlYW5VcChlLCgpPT57dGhpcy5sb2coXCJlbmQgOjogZmluaXNoIDo6IGNhbGxpbmcgcHJvY2Vzcy5uZXh0VGljayBvbiBjbG9zZVN0b3Jlc1wiKSwoMCwgbnMubmV4dFRpY2spKG4pO30scik7fTtyZXR1cm4gdGhpcy5kaXNjb25uZWN0aW5nPyhpKCksdGhpcyk6KHRoaXMuX2NsZWFyUmVjb25uZWN0KCksdGhpcy5kaXNjb25uZWN0aW5nPSEwLCFlJiZPYmplY3Qua2V5cyh0aGlzLm91dGdvaW5nKS5sZW5ndGg+MD8odGhpcy5sb2coXCJlbmQgOjogKCVzKSA6OiBjYWxsaW5nIGZpbmlzaCBpbiAxMG1zIG9uY2Ugb3V0Z29pbmcgaXMgZW1wdHlcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMub25jZShcIm91dGdvaW5nRW1wdHlcIixzZXRUaW1lb3V0LmJpbmQobnVsbCxvLDEwKSkpOih0aGlzLmxvZyhcImVuZCA6OiAoJXMpIDo6IGltbWVkaWF0ZWx5IGNhbGxpbmcgZmluaXNoXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSxvKCkpLHRoaXMpfWVuZEFzeW5jKGUscil7cmV0dXJuIG5ldyBQcm9taXNlKChpLG4pPT57dGhpcy5lbmQoZSxyLG89PntvP24obyk6aSgpO30pO30pfXJlbW92ZU91dGdvaW5nTWVzc2FnZShlKXtpZih0aGlzLm91dGdvaW5nW2VdKXtsZXR7Y2I6cn09dGhpcy5vdXRnb2luZ1tlXTt0aGlzLl9yZW1vdmVPdXRnb2luZ0FuZFN0b3JlTWVzc2FnZShlLCgpPT57cihuZXcgRXJyb3IoXCJNZXNzYWdlIHJlbW92ZWRcIikpO30pO31yZXR1cm4gdGhpc31yZWNvbm5lY3QoZSl7dGhpcy5sb2coXCJjbGllbnQgcmVjb25uZWN0XCIpO2xldCByPSgpPT57ZT8odGhpcy5vcHRpb25zLmluY29taW5nU3RvcmU9ZS5pbmNvbWluZ1N0b3JlLHRoaXMub3B0aW9ucy5vdXRnb2luZ1N0b3JlPWUub3V0Z29pbmdTdG9yZSk6KHRoaXMub3B0aW9ucy5pbmNvbWluZ1N0b3JlPW51bGwsdGhpcy5vcHRpb25zLm91dGdvaW5nU3RvcmU9bnVsbCksdGhpcy5pbmNvbWluZ1N0b3JlPXRoaXMub3B0aW9ucy5pbmNvbWluZ1N0b3JlfHxuZXcgaWkuZGVmYXVsdCx0aGlzLm91dGdvaW5nU3RvcmU9dGhpcy5vcHRpb25zLm91dGdvaW5nU3RvcmV8fG5ldyBpaS5kZWZhdWx0LHRoaXMuZGlzY29ubmVjdGluZz0hMSx0aGlzLmRpc2Nvbm5lY3RlZD0hMSx0aGlzLl9kZWZlcnJlZFJlY29ubmVjdD1udWxsLHRoaXMuX3JlY29ubmVjdCgpO307cmV0dXJuIHRoaXMuZGlzY29ubmVjdGluZyYmIXRoaXMuZGlzY29ubmVjdGVkP3RoaXMuX2RlZmVycmVkUmVjb25uZWN0PXI6cigpLHRoaXN9X2ZsdXNoVm9sYXRpbGUoKXt0aGlzLm91dGdvaW5nJiYodGhpcy5sb2coXCJfZmx1c2hWb2xhdGlsZSA6OiBkZWxldGluZyB2b2xhdGlsZSBtZXNzYWdlcyBmcm9tIHRoZSBxdWV1ZSBhbmQgc2V0dGluZyB0aGVpciBjYWxsYmFja3MgYXMgZXJyb3IgZnVuY3Rpb25cIiksT2JqZWN0LmtleXModGhpcy5vdXRnb2luZykuZm9yRWFjaChlPT57dGhpcy5vdXRnb2luZ1tlXS52b2xhdGlsZSYmdHlwZW9mIHRoaXMub3V0Z29pbmdbZV0uY2I9PVwiZnVuY3Rpb25cIiYmKHRoaXMub3V0Z29pbmdbZV0uY2IobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpLGRlbGV0ZSB0aGlzLm91dGdvaW5nW2VdKTt9KSk7fV9mbHVzaCgpe3RoaXMub3V0Z29pbmcmJih0aGlzLmxvZyhcIl9mbHVzaDogcXVldWUgZXhpc3RzPyAlYlwiLCEhdGhpcy5vdXRnb2luZyksT2JqZWN0LmtleXModGhpcy5vdXRnb2luZykuZm9yRWFjaChlPT57dHlwZW9mIHRoaXMub3V0Z29pbmdbZV0uY2I9PVwiZnVuY3Rpb25cIiYmKHRoaXMub3V0Z29pbmdbZV0uY2IobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpLGRlbGV0ZSB0aGlzLm91dGdvaW5nW2VdKTt9KSk7fV9yZW1vdmVUb3BpY0FsaWFzQW5kUmVjb3ZlclRvcGljTmFtZShlKXtsZXQgcjtlLnByb3BlcnRpZXMmJihyPWUucHJvcGVydGllcy50b3BpY0FsaWFzKTtsZXQgaT1lLnRvcGljLnRvU3RyaW5nKCk7aWYodGhpcy5sb2coXCJfcmVtb3ZlVG9waWNBbGlhc0FuZFJlY292ZXJUb3BpY05hbWUgOjogYWxpYXMgJWQsIHRvcGljICVvXCIscixpKSxpLmxlbmd0aD09PTApe2lmKHR5cGVvZiByPlwidVwiKXJldHVybiBuZXcgRXJyb3IoXCJVbnJlZ2lzdGVyZWQgVG9waWMgQWxpYXNcIik7aWYoaT10aGlzLnRvcGljQWxpYXNTZW5kLmdldFRvcGljQnlBbGlhcyhyKSx0eXBlb2YgaT5cInVcIilyZXR1cm4gbmV3IEVycm9yKFwiVW5yZWdpc3RlcmVkIFRvcGljIEFsaWFzXCIpO2UudG9waWM9aTt9ciYmZGVsZXRlIGUucHJvcGVydGllcy50b3BpY0FsaWFzO31fY2hlY2tEaXNjb25uZWN0aW5nKGUpe3JldHVybiB0aGlzLmRpc2Nvbm5lY3RpbmcmJihlJiZlIT09dGhpcy5ub29wP2UobmV3IEVycm9yKFwiY2xpZW50IGRpc2Nvbm5lY3RpbmdcIikpOnRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiY2xpZW50IGRpc2Nvbm5lY3RpbmdcIikpKSx0aGlzLmRpc2Nvbm5lY3Rpbmd9X3JlY29ubmVjdCgpe3RoaXMubG9nKFwiX3JlY29ubmVjdDogZW1pdHRpbmcgcmVjb25uZWN0IHRvIGNsaWVudFwiKSx0aGlzLmVtaXQoXCJyZWNvbm5lY3RcIiksdGhpcy5jb25uZWN0ZWQ/KHRoaXMuZW5kKCgpPT57dGhpcy5jb25uZWN0KCk7fSksdGhpcy5sb2coXCJjbGllbnQgYWxyZWFkeSBjb25uZWN0ZWQuIGRpc2Nvbm5lY3RpbmcgZmlyc3QuXCIpKToodGhpcy5sb2coXCJfcmVjb25uZWN0OiBjYWxsaW5nIGNvbm5lY3RcIiksdGhpcy5jb25uZWN0KCkpO31fc2V0dXBSZWNvbm5lY3QoKXshdGhpcy5kaXNjb25uZWN0aW5nJiYhdGhpcy5yZWNvbm5lY3RUaW1lciYmdGhpcy5vcHRpb25zLnJlY29ubmVjdFBlcmlvZD4wPyh0aGlzLnJlY29ubmVjdGluZ3x8KHRoaXMubG9nKFwiX3NldHVwUmVjb25uZWN0IDo6IGVtaXQgYG9mZmxpbmVgIHN0YXRlXCIpLHRoaXMuZW1pdChcIm9mZmxpbmVcIiksdGhpcy5sb2coXCJfc2V0dXBSZWNvbm5lY3QgOjogc2V0IGByZWNvbm5lY3RpbmdgIHRvIGB0cnVlYFwiKSx0aGlzLnJlY29ubmVjdGluZz0hMCksdGhpcy5sb2coXCJfc2V0dXBSZWNvbm5lY3QgOjogc2V0dGluZyByZWNvbm5lY3RUaW1lciBmb3IgJWQgbXNcIix0aGlzLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kKSx0aGlzLnJlY29ubmVjdFRpbWVyPXNldEludGVydmFsKCgpPT57dGhpcy5sb2coXCJyZWNvbm5lY3RUaW1lciA6OiByZWNvbm5lY3QgdHJpZ2dlcmVkIVwiKSx0aGlzLl9yZWNvbm5lY3QoKTt9LHRoaXMub3B0aW9ucy5yZWNvbm5lY3RQZXJpb2QpKTp0aGlzLmxvZyhcIl9zZXR1cFJlY29ubmVjdCA6OiBkb2luZyBub3RoaW5nLi4uXCIpO31fY2xlYXJSZWNvbm5lY3QoKXt0aGlzLmxvZyhcIl9jbGVhclJlY29ubmVjdCA6IGNsZWFyaW5nIHJlY29ubmVjdCB0aW1lclwiKSx0aGlzLnJlY29ubmVjdFRpbWVyJiYoY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdFRpbWVyKSx0aGlzLnJlY29ubmVjdFRpbWVyPW51bGwpO31fY2xlYW5VcChlLHIsaT17fSl7aWYociYmKHRoaXMubG9nKFwiX2NsZWFuVXAgOjogZG9uZSBjYWxsYmFjayBwcm92aWRlZCBmb3Igb24gc3RyZWFtIGNsb3NlXCIpLHRoaXMuc3RyZWFtLm9uKFwiY2xvc2VcIixyKSksdGhpcy5sb2coXCJfY2xlYW5VcCA6OiBmb3JjZWQ/ICVzXCIsZSksZSl0aGlzLm9wdGlvbnMucmVjb25uZWN0UGVyaW9kPT09MCYmdGhpcy5vcHRpb25zLmNsZWFuJiZ0aGlzLl9mbHVzaCgpLHRoaXMubG9nKFwiX2NsZWFuVXAgOjogKCVzKSA6OiBkZXN0cm95aW5nIHN0cmVhbVwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5zdHJlYW0uZGVzdHJveSgpO2Vsc2Uge2xldCBuPU9iamVjdC5hc3NpZ24oe2NtZDpcImRpc2Nvbm5lY3RcIn0saSk7dGhpcy5sb2coXCJfY2xlYW5VcCA6OiAoJXMpIDo6IGNhbGwgX3NlbmRQYWNrZXQgd2l0aCBkaXNjb25uZWN0IHBhY2tldFwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCksdGhpcy5fc2VuZFBhY2tldChuLCgpPT57dGhpcy5sb2coXCJfY2xlYW5VcCA6OiAoJXMpIDo6IGRlc3Ryb3lpbmcgc3RyZWFtXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSxIYSgoKT0+e3RoaXMuc3RyZWFtLmVuZCgoKT0+e3RoaXMubG9nKFwiX2NsZWFuVXAgOjogKCVzKSA6OiBzdHJlYW0gZGVzdHJveWVkXCIsdGhpcy5vcHRpb25zLmNsaWVudElkKTt9KTt9KTt9KTt9IXRoaXMuZGlzY29ubmVjdGluZyYmIXRoaXMucmVjb25uZWN0aW5nJiYodGhpcy5sb2coXCJfY2xlYW5VcCA6OiBjbGllbnQgbm90IGRpc2Nvbm5lY3RpbmcvcmVjb25uZWN0aW5nLiBDbGVhcmluZyBhbmQgcmVzZXR0aW5nIHJlY29ubmVjdC5cIiksdGhpcy5fY2xlYXJSZWNvbm5lY3QoKSx0aGlzLl9zZXR1cFJlY29ubmVjdCgpKSx0aGlzLl9kZXN0cm95S2VlcGFsaXZlTWFuYWdlcigpLHImJiF0aGlzLmNvbm5lY3RlZCYmKHRoaXMubG9nKFwiX2NsZWFuVXAgOjogKCVzKSA6OiByZW1vdmluZyBzdHJlYW0gYGRvbmVgIGNhbGxiYWNrIGBjbG9zZWAgbGlzdGVuZXJcIix0aGlzLm9wdGlvbnMuY2xpZW50SWQpLHRoaXMuc3RyZWFtLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixyKSxyKCkpO31fc3RvcmVBbmRTZW5kKGUscixpKXt0aGlzLmxvZyhcInN0b3JlQW5kU2VuZCA6OiBzdG9yZSBwYWNrZXQgd2l0aCBjbWQgJXMgdG8gb3V0Z29pbmdTdG9yZVwiLGUuY21kKTtsZXQgbj1lLG87aWYobi5jbWQ9PT1cInB1Ymxpc2hcIiYmKG49KDAsIGpwLmRlZmF1bHQpKGUpLG89dGhpcy5fcmVtb3ZlVG9waWNBbGlhc0FuZFJlY292ZXJUb3BpY05hbWUobiksbykpcmV0dXJuIHImJnIobyk7dGhpcy5vdXRnb2luZ1N0b3JlLnB1dChuLHM9PntpZihzKXJldHVybiByJiZyKHMpO2koKSx0aGlzLl93cml0ZVBhY2tldChlLHIpO30pO31fYXBwbHlUb3BpY0FsaWFzKGUpe2lmKHRoaXMub3B0aW9ucy5wcm90b2NvbFZlcnNpb249PT01JiZlLmNtZD09PVwicHVibGlzaFwiKXtsZXQgcjtlLnByb3BlcnRpZXMmJihyPWUucHJvcGVydGllcy50b3BpY0FsaWFzKTtsZXQgaT1lLnRvcGljLnRvU3RyaW5nKCk7aWYodGhpcy50b3BpY0FsaWFzU2VuZClpZihyKXtpZihpLmxlbmd0aCE9PTAmJih0aGlzLmxvZyhcImFwcGx5VG9waWNBbGlhcyA6OiByZWdpc3RlciB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLHIpLCF0aGlzLnRvcGljQWxpYXNTZW5kLnB1dChpLHIpKSlyZXR1cm4gdGhpcy5sb2coXCJhcHBseVRvcGljQWxpYXMgOjogZXJyb3Igb3V0IG9mIHJhbmdlLiB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLHIpLG5ldyBFcnJvcihcIlNlbmRpbmcgVG9waWMgQWxpYXMgb3V0IG9mIHJhbmdlXCIpfWVsc2UgaS5sZW5ndGghPT0wJiYodGhpcy5vcHRpb25zLmF1dG9Bc3NpZ25Ub3BpY0FsaWFzPyhyPXRoaXMudG9waWNBbGlhc1NlbmQuZ2V0QWxpYXNCeVRvcGljKGkpLHI/KGUudG9waWM9XCJcIixlLnByb3BlcnRpZXM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUucHJvcGVydGllcykse3RvcGljQWxpYXM6cn0pLHRoaXMubG9nKFwiYXBwbHlUb3BpY0FsaWFzIDo6IGF1dG8gYXNzaWduKHVzZSkgdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsaSxyKSk6KHI9dGhpcy50b3BpY0FsaWFzU2VuZC5nZXRMcnVBbGlhcygpLHRoaXMudG9waWNBbGlhc1NlbmQucHV0KGksciksZS5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlLnByb3BlcnRpZXMpLHt0b3BpY0FsaWFzOnJ9KSx0aGlzLmxvZyhcImFwcGx5VG9waWNBbGlhcyA6OiBhdXRvIGFzc2lnbiB0b3BpYzogJXMgLSBhbGlhczogJWRcIixpLHIpKSk6dGhpcy5vcHRpb25zLmF1dG9Vc2VUb3BpY0FsaWFzJiYocj10aGlzLnRvcGljQWxpYXNTZW5kLmdldEFsaWFzQnlUb3BpYyhpKSxyJiYoZS50b3BpYz1cIlwiLGUucHJvcGVydGllcz1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZS5wcm9wZXJ0aWVzKSx7dG9waWNBbGlhczpyfSksdGhpcy5sb2coXCJhcHBseVRvcGljQWxpYXMgOjogYXV0byB1c2UgdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsaSxyKSkpKTtlbHNlIGlmKHIpcmV0dXJuIHRoaXMubG9nKFwiYXBwbHlUb3BpY0FsaWFzIDo6IGVycm9yIG91dCBvZiByYW5nZS4gdG9waWM6ICVzIC0gYWxpYXM6ICVkXCIsaSxyKSxuZXcgRXJyb3IoXCJTZW5kaW5nIFRvcGljIEFsaWFzIG91dCBvZiByYW5nZVwiKX19X25vb3AoZSl7dGhpcy5sb2coXCJub29wIDo6XCIsZSk7fV93cml0ZVBhY2tldChlLHIpe3RoaXMubG9nKFwiX3dyaXRlUGFja2V0IDo6IHBhY2tldDogJU9cIixlKSx0aGlzLmxvZyhcIl93cml0ZVBhY2tldCA6OiBlbWl0dGluZyBgcGFja2V0c2VuZGBcIiksdGhpcy5lbWl0KFwicGFja2V0c2VuZFwiLGUpLHRoaXMubG9nKFwiX3dyaXRlUGFja2V0IDo6IHdyaXRpbmcgdG8gc3RyZWFtXCIpO2xldCBpPSRhLmRlZmF1bHQud3JpdGVUb1N0cmVhbShlLHRoaXMuc3RyZWFtLHRoaXMub3B0aW9ucyk7dGhpcy5sb2coXCJfd3JpdGVQYWNrZXQgOjogd3JpdGVUb1N0cmVhbSByZXN1bHQgJXNcIixpKSwhaSYmciYmciE9PXRoaXMubm9vcD8odGhpcy5sb2coXCJfd3JpdGVQYWNrZXQgOjogaGFuZGxlIGV2ZW50cyBvbiBgZHJhaW5gIG9uY2UgdGhyb3VnaCBjYWxsYmFjay5cIiksdGhpcy5zdHJlYW0ub25jZShcImRyYWluXCIscikpOnImJih0aGlzLmxvZyhcIl93cml0ZVBhY2tldCA6OiBpbnZva2luZyBjYlwiKSxyKCkpO31fc2VuZFBhY2tldChlLHIsaSxuKXt0aGlzLmxvZyhcIl9zZW5kUGFja2V0IDo6ICglcykgOjogIHN0YXJ0XCIsdGhpcy5vcHRpb25zLmNsaWVudElkKSxpPWl8fHRoaXMubm9vcCxyPXJ8fHRoaXMubm9vcDtsZXQgbz10aGlzLl9hcHBseVRvcGljQWxpYXMoZSk7aWYobyl7cihvKTtyZXR1cm59aWYoIXRoaXMuY29ubmVjdGVkKXtpZihlLmNtZD09PVwiYXV0aFwiKXt0aGlzLl93cml0ZVBhY2tldChlLHIpO3JldHVybn10aGlzLmxvZyhcIl9zZW5kUGFja2V0IDo6IGNsaWVudCBub3QgY29ubmVjdGVkLiBTdG9yaW5nIHBhY2tldCBvZmZsaW5lLlwiKSx0aGlzLl9zdG9yZVBhY2tldChlLHIsaSk7cmV0dXJufWlmKG4pe3RoaXMuX3dyaXRlUGFja2V0KGUscik7cmV0dXJufXN3aXRjaChlLmNtZCl7Y2FzZVwicHVibGlzaFwiOmJyZWFrO2Nhc2VcInB1YnJlbFwiOnRoaXMuX3N0b3JlQW5kU2VuZChlLHIsaSk7cmV0dXJuO2RlZmF1bHQ6dGhpcy5fd3JpdGVQYWNrZXQoZSxyKTtyZXR1cm59c3dpdGNoKGUucW9zKXtjYXNlIDI6Y2FzZSAxOnRoaXMuX3N0b3JlQW5kU2VuZChlLHIsaSk7YnJlYWs7Y2FzZSAwOmRlZmF1bHQ6dGhpcy5fd3JpdGVQYWNrZXQoZSxyKTticmVha310aGlzLmxvZyhcIl9zZW5kUGFja2V0IDo6ICglcykgOjogIGVuZFwiLHRoaXMub3B0aW9ucy5jbGllbnRJZCk7fV9zdG9yZVBhY2tldChlLHIsaSl7dGhpcy5sb2coXCJfc3RvcmVQYWNrZXQgOjogcGFja2V0OiAlb1wiLGUpLHRoaXMubG9nKFwiX3N0b3JlUGFja2V0IDo6IGNiPyAlc1wiLCEhciksaT1pfHx0aGlzLm5vb3A7bGV0IG49ZTtpZihuLmNtZD09PVwicHVibGlzaFwiKXtuPSgwLCBqcC5kZWZhdWx0KShlKTtsZXQgcz10aGlzLl9yZW1vdmVUb3BpY0FsaWFzQW5kUmVjb3ZlclRvcGljTmFtZShuKTtpZihzKXJldHVybiByJiZyKHMpfWxldCBvPW4ucW9zfHwwO289PT0wJiZ0aGlzLnF1ZXVlUW9TWmVyb3x8bi5jbWQhPT1cInB1Ymxpc2hcIj90aGlzLnF1ZXVlLnB1c2goe3BhY2tldDpuLGNiOnJ9KTpvPjA/KHI9dGhpcy5vdXRnb2luZ1tuLm1lc3NhZ2VJZF0/dGhpcy5vdXRnb2luZ1tuLm1lc3NhZ2VJZF0uY2I6bnVsbCx0aGlzLm91dGdvaW5nU3RvcmUucHV0KG4scz0+e2lmKHMpcmV0dXJuIHImJnIocyk7aSgpO30pKTpyJiZyKG5ldyBFcnJvcihcIk5vIGNvbm5lY3Rpb24gdG8gYnJva2VyXCIpKTt9X3NldHVwS2VlcGFsaXZlTWFuYWdlcigpe3RoaXMubG9nKFwiX3NldHVwS2VlcGFsaXZlTWFuYWdlciA6OiBrZWVwYWxpdmUgJWQgKHNlY29uZHMpXCIsdGhpcy5vcHRpb25zLmtlZXBhbGl2ZSksIXRoaXMua2VlcGFsaXZlTWFuYWdlciYmdGhpcy5vcHRpb25zLmtlZXBhbGl2ZSYmKHRoaXMua2VlcGFsaXZlTWFuYWdlcj1uZXcgZUUuZGVmYXVsdCh0aGlzLHRoaXMub3B0aW9ucy50aW1lclZhcmlhbnQpKTt9X2Rlc3Ryb3lLZWVwYWxpdmVNYW5hZ2VyKCl7dGhpcy5rZWVwYWxpdmVNYW5hZ2VyJiYodGhpcy5sb2coXCJfZGVzdHJveUtlZXBhbGl2ZU1hbmFnZXIgOjogZGVzdHJveWluZyBrZWVwYWxpdmUgbWFuYWdlclwiKSx0aGlzLmtlZXBhbGl2ZU1hbmFnZXIuZGVzdHJveSgpLHRoaXMua2VlcGFsaXZlTWFuYWdlcj1udWxsKTt9cmVzY2hlZHVsZVBpbmcoZT0hMSl7dGhpcy5rZWVwYWxpdmVNYW5hZ2VyJiZ0aGlzLm9wdGlvbnMua2VlcGFsaXZlJiYoZXx8dGhpcy5vcHRpb25zLnJlc2NoZWR1bGVQaW5ncykmJnRoaXMuX3Jlc2NoZWR1bGVQaW5nKCk7fV9yZXNjaGVkdWxlUGluZygpe3RoaXMubG9nKFwiX3Jlc2NoZWR1bGVQaW5nIDo6IHJlc2NoZWR1bGluZyBwaW5nXCIpLHRoaXMua2VlcGFsaXZlTWFuYWdlci5yZXNjaGVkdWxlKCk7fXNlbmRQaW5nKCl7dGhpcy5sb2coXCJfc2VuZFBpbmcgOjogc2VuZGluZyBwaW5ncmVxXCIpLHRoaXMuX3NlbmRQYWNrZXQoe2NtZDpcInBpbmdyZXFcIn0pO31vbktlZXBhbGl2ZVRpbWVvdXQoKXt0aGlzLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcIktlZXBhbGl2ZSB0aW1lb3V0XCIpKSx0aGlzLmxvZyhcIm9uS2VlcGFsaXZlVGltZW91dCA6OiBjYWxsaW5nIF9jbGVhblVwIHdpdGggZm9yY2UgdHJ1ZVwiKSx0aGlzLl9jbGVhblVwKCEwKTt9X3Jlc3Vic2NyaWJlKCl7dGhpcy5sb2coXCJfcmVzdWJzY3JpYmVcIik7bGV0IGU9T2JqZWN0LmtleXModGhpcy5fcmVzdWJzY3JpYmVUb3BpY3MpO2lmKCF0aGlzLl9maXJzdENvbm5lY3Rpb24mJih0aGlzLm9wdGlvbnMuY2xlYW58fHRoaXMub3B0aW9ucy5wcm90b2NvbFZlcnNpb24+PTQmJiF0aGlzLmNvbm5hY2tQYWNrZXQuc2Vzc2lvblByZXNlbnQpJiZlLmxlbmd0aD4wKWlmKHRoaXMub3B0aW9ucy5yZXN1YnNjcmliZSlpZih0aGlzLm9wdGlvbnMucHJvdG9jb2xWZXJzaW9uPT09NSl7dGhpcy5sb2coXCJfcmVzdWJzY3JpYmU6IHByb3RvY29sVmVyc2lvbiA1XCIpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtsZXQgaT17fTtpW2Vbcl1dPXRoaXMuX3Jlc3Vic2NyaWJlVG9waWNzW2Vbcl1dLGkucmVzdWJzY3JpYmU9ITAsdGhpcy5zdWJzY3JpYmUoaSx7cHJvcGVydGllczppW2Vbcl1dLnByb3BlcnRpZXN9KTt9fWVsc2UgdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3MucmVzdWJzY3JpYmU9ITAsdGhpcy5zdWJzY3JpYmUodGhpcy5fcmVzdWJzY3JpYmVUb3BpY3MpO2Vsc2UgdGhpcy5fcmVzdWJzY3JpYmVUb3BpY3M9e307dGhpcy5fZmlyc3RDb25uZWN0aW9uPSExO31fb25Db25uZWN0KGUpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXt0aGlzLmVtaXQoXCJjb25uZWN0XCIsZSk7cmV0dXJufXRoaXMuY29ubmFja1BhY2tldD1lLHRoaXMubWVzc2FnZUlkUHJvdmlkZXIuY2xlYXIoKSx0aGlzLl9zZXR1cEtlZXBhbGl2ZU1hbmFnZXIoKSx0aGlzLmNvbm5lY3RlZD0hMDtsZXQgcj0oKT0+e2xldCBpPXRoaXMub3V0Z29pbmdTdG9yZS5jcmVhdGVTdHJlYW0oKSxuPSgpPT57aS5kZXN0cm95KCksaT1udWxsLHRoaXMuX2ZsdXNoU3RvcmVQcm9jZXNzaW5nUXVldWUoKSxvKCk7fSxvPSgpPT57dGhpcy5fc3RvcmVQcm9jZXNzaW5nPSExLHRoaXMuX3BhY2tldElkc0R1cmluZ1N0b3JlUHJvY2Vzc2luZz17fTt9O3RoaXMub25jZShcImNsb3NlXCIsbiksaS5vbihcImVycm9yXCIsYT0+e28oKSx0aGlzLl9mbHVzaFN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCksdGhpcy5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsbiksdGhpcy5lbWl0KFwiZXJyb3JcIixhKTt9KTtsZXQgcz0oKT0+e2lmKCFpKXJldHVybjtsZXQgYT1pLnJlYWQoMSksbDtpZighYSl7aS5vbmNlKFwicmVhZGFibGVcIixzKTtyZXR1cm59aWYodGhpcy5fc3RvcmVQcm9jZXNzaW5nPSEwLHRoaXMuX3BhY2tldElkc0R1cmluZ1N0b3JlUHJvY2Vzc2luZ1thLm1lc3NhZ2VJZF0pe3MoKTtyZXR1cm59IXRoaXMuZGlzY29ubmVjdGluZyYmIXRoaXMucmVjb25uZWN0VGltZXI/KGw9dGhpcy5vdXRnb2luZ1thLm1lc3NhZ2VJZF0/dGhpcy5vdXRnb2luZ1thLm1lc3NhZ2VJZF0uY2I6bnVsbCx0aGlzLm91dGdvaW5nW2EubWVzc2FnZUlkXT17dm9sYXRpbGU6ITEsY2IoYyxoKXtsJiZsKGMsaCkscygpO319LHRoaXMuX3BhY2tldElkc0R1cmluZ1N0b3JlUHJvY2Vzc2luZ1thLm1lc3NhZ2VJZF09ITAsdGhpcy5tZXNzYWdlSWRQcm92aWRlci5yZWdpc3RlcihhLm1lc3NhZ2VJZCk/dGhpcy5fc2VuZFBhY2tldChhLHZvaWQgMCx2b2lkIDAsITApOnRoaXMubG9nKFwibWVzc2FnZUlkOiAlZCBoYXMgYWxyZWFkeSB1c2VkLlwiLGEubWVzc2FnZUlkKSk6aS5kZXN0cm95JiZpLmRlc3Ryb3koKTt9O2kub24oXCJlbmRcIiwoKT0+e2xldCBhPSEwO2ZvcihsZXQgbCBpbiB0aGlzLl9wYWNrZXRJZHNEdXJpbmdTdG9yZVByb2Nlc3NpbmcpaWYoIXRoaXMuX3BhY2tldElkc0R1cmluZ1N0b3JlUHJvY2Vzc2luZ1tsXSl7YT0hMTticmVha310aGlzLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixuKSxhPyhvKCksdGhpcy5faW52b2tlQWxsU3RvcmVQcm9jZXNzaW5nUXVldWUoKSx0aGlzLmVtaXQoXCJjb25uZWN0XCIsZSkpOnIoKTt9KSxzKCk7fTtyKCk7fV9pbnZva2VTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpe2lmKCF0aGlzLl9zdG9yZVByb2Nlc3NpbmcmJnRoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLmxlbmd0aD4wKXtsZXQgZT10aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZVswXTtpZihlJiZlLmludm9rZSgpKXJldHVybiB0aGlzLl9zdG9yZVByb2Nlc3NpbmdRdWV1ZS5zaGlmdCgpLCEwfXJldHVybiAhMX1faW52b2tlQWxsU3RvcmVQcm9jZXNzaW5nUXVldWUoKXtmb3IoO3RoaXMuX2ludm9rZVN0b3JlUHJvY2Vzc2luZ1F1ZXVlKCk7KTt9X2ZsdXNoU3RvcmVQcm9jZXNzaW5nUXVldWUoKXtmb3IobGV0IGUgb2YgdGhpcy5fc3RvcmVQcm9jZXNzaW5nUXVldWUpZS5jYlN0b3JlUHV0JiZlLmNiU3RvcmVQdXQobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpLGUuY2FsbGJhY2smJmUuY2FsbGJhY2sobmV3IEVycm9yKFwiQ29ubmVjdGlvbiBjbG9zZWRcIikpO3RoaXMuX3N0b3JlUHJvY2Vzc2luZ1F1ZXVlLnNwbGljZSgwKTt9X3JlbW92ZU91dGdvaW5nQW5kU3RvcmVNZXNzYWdlKGUscil7ZGVsZXRlIHRoaXMub3V0Z29pbmdbZV0sdGhpcy5vdXRnb2luZ1N0b3JlLmRlbCh7bWVzc2FnZUlkOmV9LChpLG4pPT57cihpLG4pLHRoaXMubWVzc2FnZUlkUHJvdmlkZXIuZGVhbGxvY2F0ZShlKSx0aGlzLl9pbnZva2VTdG9yZVByb2Nlc3NpbmdRdWV1ZSgpO30pO319O3NzLlZFUlNJT049bnMuTVFUVEpTX1ZFUlNJT047UWUuZGVmYXVsdD1zczt9KTt2YXIgVnA9TSh6YT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh6YSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdEU9VWEoKSxWYT1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMubnVtYmVyQWxsb2NhdG9yPW5ldyB0RS5OdW1iZXJBbGxvY2F0b3IoMSw2NTUzNSk7fWFsbG9jYXRlKCl7cmV0dXJuIHRoaXMubGFzdElkPXRoaXMubnVtYmVyQWxsb2NhdG9yLmFsbG9jKCksdGhpcy5sYXN0SWR9Z2V0TGFzdEFsbG9jYXRlZCgpe3JldHVybiB0aGlzLmxhc3RJZH1yZWdpc3RlcihlKXtyZXR1cm4gdGhpcy5udW1iZXJBbGxvY2F0b3IudXNlKGUpfWRlYWxsb2NhdGUoZSl7dGhpcy5udW1iZXJBbGxvY2F0b3IuZnJlZShlKTt9Y2xlYXIoKXt0aGlzLm51bWJlckFsbG9jYXRvci5jbGVhcigpO319O3phLmRlZmF1bHQ9VmE7fSk7ZnVuY3Rpb24gUnIodCl7dGhyb3cgbmV3IFJhbmdlRXJyb3Ioc0VbdF0pfWZ1bmN0aW9uIHpwKHQsZSl7bGV0IHI9dC5zcGxpdChcIkBcIiksaT1cIlwiO3IubGVuZ3RoPjEmJihpPXJbMF0rXCJAXCIsdD1yWzFdKTtsZXQgbj1mdW5jdGlvbihvLHMpe2xldCBhPVtdLGw9by5sZW5ndGg7Zm9yKDtsLS07KWFbbF09cyhvW2xdKTtyZXR1cm4gYX0oKHQ9dC5yZXBsYWNlKG5FLFwiLlwiKSkuc3BsaXQoXCIuXCIpLGUpLmpvaW4oXCIuXCIpO3JldHVybiBpK259ZnVuY3Rpb24gWXAodCl7bGV0IGU9W10scj0wLGk9dC5sZW5ndGg7Zm9yKDtyPGk7KXtsZXQgbj10LmNoYXJDb2RlQXQocisrKTtpZihuPj01NTI5NiYmbjw9NTYzMTkmJnI8aSl7bGV0IG89dC5jaGFyQ29kZUF0KHIrKyk7KDY0NTEyJm8pPT01NjMyMD9lLnB1c2goKCgxMDIzJm4pPDwxMCkrKDEwMjMmbykrNjU1MzYpOihlLnB1c2gobiksci0tKTt9ZWxzZSBlLnB1c2gobik7fXJldHVybiBlfXZhciByRSxpRSxuRSxzRSxkdCxLYSxLcCxKcCxHcCxRcCxLdCxYcD1fZSgoKT0+e18oKTt2KCk7bSgpO3JFPS9eeG4tLS8saUU9L1teXFwwLVxceDdFXS8sbkU9L1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZyxzRT17b3ZlcmZsb3c6XCJPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2Vzc1wiLFwibm90LWJhc2ljXCI6XCJJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpXCIsXCJpbnZhbGlkLWlucHV0XCI6XCJJbnZhbGlkIGlucHV0XCJ9LGR0PU1hdGguZmxvb3IsS2E9U3RyaW5nLmZyb21DaGFyQ29kZTtLcD1mdW5jdGlvbih0LGUpe3JldHVybiB0KzIyKzc1Kih0PDI2KS0oKGUhPTApPDw1KX0sSnA9ZnVuY3Rpb24odCxlLHIpe2xldCBpPTA7Zm9yKHQ9cj9kdCh0LzcwMCk6dD4+MSx0Kz1kdCh0L2UpO3Q+NDU1O2krPTM2KXQ9ZHQodC8zNSk7cmV0dXJuIGR0KGkrMzYqdC8odCszOCkpfSxHcD1mdW5jdGlvbih0KXtsZXQgZT1bXSxyPXQubGVuZ3RoLGk9MCxuPTEyOCxvPTcyLHM9dC5sYXN0SW5kZXhPZihcIi1cIik7czwwJiYocz0wKTtmb3IobGV0IGw9MDtsPHM7KytsKXQuY2hhckNvZGVBdChsKT49MTI4JiZScihcIm5vdC1iYXNpY1wiKSxlLnB1c2godC5jaGFyQ29kZUF0KGwpKTtmb3IobGV0IGw9cz4wP3MrMTowO2w8cjspe2xldCBjPWk7Zm9yKGxldCBkPTEsZz0zNjs7Zys9MzYpe2w+PXImJlJyKFwiaW52YWxpZC1pbnB1dFwiKTtsZXQgeT0oYT10LmNoYXJDb2RlQXQobCsrKSktNDg8MTA/YS0yMjphLTY1PDI2P2EtNjU6YS05NzwyNj9hLTk3OjM2Oyh5Pj0zNnx8eT5kdCgoMjE0NzQ4MzY0Ny1pKS9kKSkmJlJyKFwib3ZlcmZsb3dcIiksaSs9eSpkO2xldCB3PWc8PW8/MTpnPj1vKzI2PzI2OmctbztpZih5PHcpYnJlYWs7bGV0IFM9MzYtdztkPmR0KDIxNDc0ODM2NDcvUykmJlJyKFwib3ZlcmZsb3dcIiksZCo9Uzt9bGV0IGg9ZS5sZW5ndGgrMTtvPUpwKGktYyxoLGM9PTApLGR0KGkvaCk+MjE0NzQ4MzY0Ny1uJiZScihcIm92ZXJmbG93XCIpLG4rPWR0KGkvaCksaSU9aCxlLnNwbGljZShpKyssMCxuKTt9dmFyIGE7cmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmUpfSxRcD1mdW5jdGlvbih0KXtsZXQgZT1bXSxyPSh0PVlwKHQpKS5sZW5ndGgsaT0xMjgsbj0wLG89NzI7Zm9yKGxldCBsIG9mIHQpbDwxMjgmJmUucHVzaChLYShsKSk7bGV0IHM9ZS5sZW5ndGgsYT1zO2ZvcihzJiZlLnB1c2goXCItXCIpO2E8cjspe2xldCBsPTIxNDc0ODM2NDc7Zm9yKGxldCBoIG9mIHQpaD49aSYmaDxsJiYobD1oKTtsZXQgYz1hKzE7bC1pPmR0KCgyMTQ3NDgzNjQ3LW4pL2MpJiZScihcIm92ZXJmbG93XCIpLG4rPShsLWkpKmMsaT1sO2ZvcihsZXQgaCBvZiB0KWlmKGg8aSYmKytuPjIxNDc0ODM2NDcmJlJyKFwib3ZlcmZsb3dcIiksaD09aSl7bGV0IGQ9bjtmb3IobGV0IGc9MzY7O2crPTM2KXtsZXQgeT1nPD1vPzE6Zz49bysyNj8yNjpnLW87aWYoZDx5KWJyZWFrO2xldCB3PWQteSxTPTM2LXk7ZS5wdXNoKEthKEtwKHkrdyVTLDApKSksZD1kdCh3L1MpO31lLnB1c2goS2EoS3AoZCwwKSkpLG89SnAobixjLGE9PXMpLG49MCwrK2E7fSsrbiwrK2k7fXJldHVybiBlLmpvaW4oXCJcIil9LEt0PXt2ZXJzaW9uOlwiMi4xLjBcIix1Y3MyOntkZWNvZGU6WXAsZW5jb2RlOnQ9PlN0cmluZy5mcm9tQ29kZVBvaW50KC4uLnQpfSxkZWNvZGU6R3AsZW5jb2RlOlFwLHRvQVNDSUk6ZnVuY3Rpb24odCl7cmV0dXJuIHpwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIGlFLnRlc3QoZSk/XCJ4bi0tXCIrUXAoZSk6ZX0pfSx0b1VuaWNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHpwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIHJFLnRlc3QoZSk/R3AoZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKTplfSl9fTtLdC5kZWNvZGU7S3QuZW5jb2RlO0t0LnRvQVNDSUk7S3QudG9Vbmljb2RlO0t0LnVjczI7S3QudmVyc2lvbjt9KTtmdW5jdGlvbiBvRSh0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX12YXIgYUUsTWksbEUscHQsWnA9X2UoKCk9PntfKCk7digpO20oKTthRT1mdW5jdGlvbih0LGUscixpKXtlPWV8fFwiJlwiLHI9cnx8XCI9XCI7dmFyIG49e307aWYodHlwZW9mIHQhPVwic3RyaW5nXCJ8fHQubGVuZ3RoPT09MClyZXR1cm4gbjt2YXIgbz0vXFwrL2c7dD10LnNwbGl0KGUpO3ZhciBzPTFlMztpJiZ0eXBlb2YgaS5tYXhLZXlzPT1cIm51bWJlclwiJiYocz1pLm1heEtleXMpO3ZhciBhPXQubGVuZ3RoO3M+MCYmYT5zJiYoYT1zKTtmb3IodmFyIGw9MDtsPGE7KytsKXt2YXIgYyxoLGQsZyx5PXRbbF0ucmVwbGFjZShvLFwiJTIwXCIpLHc9eS5pbmRleE9mKHIpO3c+PTA/KGM9eS5zdWJzdHIoMCx3KSxoPXkuc3Vic3RyKHcrMSkpOihjPXksaD1cIlwiKSxkPWRlY29kZVVSSUNvbXBvbmVudChjKSxnPWRlY29kZVVSSUNvbXBvbmVudChoKSxvRShuLGQpP0FycmF5LmlzQXJyYXkobltkXSk/bltkXS5wdXNoKGcpOm5bZF09W25bZF0sZ106bltkXT1nO31yZXR1cm4gbn0sTWk9ZnVuY3Rpb24odCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdDtjYXNlXCJib29sZWFuXCI6cmV0dXJuIHQ/XCJ0cnVlXCI6XCJmYWxzZVwiO2Nhc2VcIm51bWJlclwiOnJldHVybiBpc0Zpbml0ZSh0KT90OlwiXCI7ZGVmYXVsdDpyZXR1cm4gXCJcIn19LGxFPWZ1bmN0aW9uKHQsZSxyLGkpe3JldHVybiBlPWV8fFwiJlwiLHI9cnx8XCI9XCIsdD09PW51bGwmJih0PXZvaWQgMCksdHlwZW9mIHQ9PVwib2JqZWN0XCI/T2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKG4pe3ZhciBvPWVuY29kZVVSSUNvbXBvbmVudChNaShuKSkrcjtyZXR1cm4gQXJyYXkuaXNBcnJheSh0W25dKT90W25dLm1hcChmdW5jdGlvbihzKXtyZXR1cm4gbytlbmNvZGVVUklDb21wb25lbnQoTWkocykpfSkuam9pbihlKTpvK2VuY29kZVVSSUNvbXBvbmVudChNaSh0W25dKSl9KS5qb2luKGUpOmk/ZW5jb2RlVVJJQ29tcG9uZW50KE1pKGkpKStyK2VuY29kZVVSSUNvbXBvbmVudChNaSh0KSk6XCJcIn0scHQ9e307cHQuZGVjb2RlPXB0LnBhcnNlPWFFLHB0LmVuY29kZT1wdC5zdHJpbmdpZnk9bEU7cHQuZGVjb2RlO3B0LmVuY29kZTtwdC5wYXJzZTtwdC5zdHJpbmdpZnk7fSk7ZnVuY3Rpb24gR2EoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIFFhKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHJnKHQpe2lmKFB0PT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dCh0LDApO2lmKChQdD09PUdhfHwhUHQpJiZzZXRUaW1lb3V0KXJldHVybiBQdD1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIFB0KHQsMCl9Y2F0Y2h7dHJ5e3JldHVybiBQdC5jYWxsKG51bGwsdCwwKX1jYXRjaHtyZXR1cm4gUHQuY2FsbCh0aGlzfHxzaSx0LDApfX19ZnVuY3Rpb24gdUUoKXtuaSYmQ3ImJihuaT0hMSxDci5sZW5ndGg/T3Q9Q3IuY29uY2F0KE90KTphcz0tMSxPdC5sZW5ndGgmJmlnKCkpO31mdW5jdGlvbiBpZygpe2lmKCFuaSl7dmFyIHQ9cmcodUUpO25pPSEwO2Zvcih2YXIgZT1PdC5sZW5ndGg7ZTspe2ZvcihDcj1PdCxPdD1bXTsrK2FzPGU7KUNyJiZDclthc10ucnVuKCk7YXM9LTEsZT1PdC5sZW5ndGg7fUNyPW51bGwsbmk9ITEsZnVuY3Rpb24ocil7aWYoa3Q9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChyKTtpZigoa3Q9PT1RYXx8IWt0KSYmY2xlYXJUaW1lb3V0KXJldHVybiBrdD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHIpO3RyeXtrdChyKTt9Y2F0Y2h7dHJ5e3JldHVybiBrdC5jYWxsKG51bGwscil9Y2F0Y2h7cmV0dXJuIGt0LmNhbGwodGhpc3x8c2kscil9fX0odCk7fX1mdW5jdGlvbiBlZyh0LGUpeyh0aGlzfHxzaSkuZnVuPXQsKHRoaXN8fHNpKS5hcnJheT1lO31mdW5jdGlvbiBCdCgpe312YXIgdGcsUHQsa3Qsc2ksZmUsQ3IsT3QsbmksYXMsbmUsbmc9X2UoKCk9PntfKCk7digpO20oKTtzaT10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR5cGVvZiBzZWxmPFwidVwiP3NlbGY6Z2xvYmFsLGZlPXRnPXt9OyhmdW5jdGlvbigpe3RyeXtQdD10eXBlb2Ygc2V0VGltZW91dD09XCJmdW5jdGlvblwiP3NldFRpbWVvdXQ6R2E7fWNhdGNoe1B0PUdhO310cnl7a3Q9dHlwZW9mIGNsZWFyVGltZW91dD09XCJmdW5jdGlvblwiP2NsZWFyVGltZW91dDpRYTt9Y2F0Y2h7a3Q9UWE7fX0pKCk7T3Q9W10sbmk9ITEsYXM9LTE7ZmUubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTtPdC5wdXNoKG5ldyBlZyh0LGUpKSxPdC5sZW5ndGghPT0xfHxuaXx8cmcoaWcpO30sZWcucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpeyh0aGlzfHxzaSkuZnVuLmFwcGx5KG51bGwsKHRoaXN8fHNpKS5hcnJheSk7fSxmZS50aXRsZT1cImJyb3dzZXJcIixmZS5icm93c2VyPSEwLGZlLmVudj17fSxmZS5hcmd2PVtdLGZlLnZlcnNpb249XCJcIixmZS52ZXJzaW9ucz17fSxmZS5vbj1CdCxmZS5hZGRMaXN0ZW5lcj1CdCxmZS5vbmNlPUJ0LGZlLm9mZj1CdCxmZS5yZW1vdmVMaXN0ZW5lcj1CdCxmZS5yZW1vdmVBbGxMaXN0ZW5lcnM9QnQsZmUuZW1pdD1CdCxmZS5wcmVwZW5kTGlzdGVuZXI9QnQsZmUucHJlcGVuZE9uY2VMaXN0ZW5lcj1CdCxmZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIFtdfSxmZS5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxmZS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4gXCIvXCJ9LGZlLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sZmUudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bmU9dGc7bmUuYWRkTGlzdGVuZXI7bmUuYXJndjtuZS5iaW5kaW5nO25lLmJyb3dzZXI7bmUuY2hkaXI7bmUuY3dkO25lLmVtaXQ7bmUuZW52O25lLmxpc3RlbmVycztuZS5uZXh0VGljaztuZS5vZmY7bmUub247bmUub25jZTtuZS5wcmVwZW5kTGlzdGVuZXI7bmUucHJlcGVuZE9uY2VMaXN0ZW5lcjtuZS5yZW1vdmVBbGxMaXN0ZW5lcnM7bmUucmVtb3ZlTGlzdGVuZXI7bmUudGl0bGU7bmUudW1hc2s7bmUudmVyc2lvbjtuZS52ZXJzaW9uczt9KTtmdW5jdGlvbiBmRSgpe2lmKHNnKXJldHVybiBZYTtzZz0hMDt2YXIgdD1ZYT17fSxlLHI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX0oZnVuY3Rpb24oKXt0cnl7dHlwZW9mIHNldFRpbWVvdXQ9PVwiZnVuY3Rpb25cIj9lPXNldFRpbWVvdXQ6ZT1pO31jYXRjaHtlPWk7fXRyeXt0eXBlb2YgY2xlYXJUaW1lb3V0PT1cImZ1bmN0aW9uXCI/cj1jbGVhclRpbWVvdXQ6cj1uO31jYXRjaHtyPW47fX0pKCk7ZnVuY3Rpb24gbyhTKXtpZihlPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChTLDApO2lmKChlPT09aXx8IWUpJiZzZXRUaW1lb3V0KXJldHVybiBlPXNldFRpbWVvdXQsc2V0VGltZW91dChTLDApO3RyeXtyZXR1cm4gZShTLDApfWNhdGNoe3RyeXtyZXR1cm4gZS5jYWxsKG51bGwsUywwKX1jYXRjaHtyZXR1cm4gZS5jYWxsKHRoaXN8fG9pLFMsMCl9fX1mdW5jdGlvbiBzKFMpe2lmKHI9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChTKTtpZigocj09PW58fCFyKSYmY2xlYXJUaW1lb3V0KXJldHVybiByPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoUyk7dHJ5e3JldHVybiByKFMpfWNhdGNoe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsUyl9Y2F0Y2h7cmV0dXJuIHIuY2FsbCh0aGlzfHxvaSxTKX19fXZhciBhPVtdLGw9ITEsYyxoPS0xO2Z1bmN0aW9uIGQoKXshbHx8IWN8fChsPSExLGMubGVuZ3RoP2E9Yy5jb25jYXQoYSk6aD0tMSxhLmxlbmd0aCYmZygpKTt9ZnVuY3Rpb24gZygpe2lmKCFsKXt2YXIgUz1vKGQpO2w9ITA7Zm9yKHZhciBFPWEubGVuZ3RoO0U7KXtmb3IoYz1hLGE9W107KytoPEU7KWMmJmNbaF0ucnVuKCk7aD0tMSxFPWEubGVuZ3RoO31jPW51bGwsbD0hMSxzKFMpO319dC5uZXh0VGljaz1mdW5jdGlvbihTKXt2YXIgRT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBJPTE7STxhcmd1bWVudHMubGVuZ3RoO0krKylFW0ktMV09YXJndW1lbnRzW0ldO2EucHVzaChuZXcgeShTLEUpKSxhLmxlbmd0aD09PTEmJiFsJiZvKGcpO307ZnVuY3Rpb24geShTLEUpeyh0aGlzfHxvaSkuZnVuPVMsKHRoaXN8fG9pKS5hcnJheT1FO315LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXsodGhpc3x8b2kpLmZ1bi5hcHBseShudWxsLCh0aGlzfHxvaSkuYXJyYXkpO30sdC50aXRsZT1cImJyb3dzZXJcIix0LmJyb3dzZXI9ITAsdC5lbnY9e30sdC5hcmd2PVtdLHQudmVyc2lvbj1cIlwiLHQudmVyc2lvbnM9e307ZnVuY3Rpb24gdygpe31yZXR1cm4gdC5vbj13LHQuYWRkTGlzdGVuZXI9dyx0Lm9uY2U9dyx0Lm9mZj13LHQucmVtb3ZlTGlzdGVuZXI9dyx0LnJlbW92ZUFsbExpc3RlbmVycz13LHQuZW1pdD13LHQucHJlcGVuZExpc3RlbmVyPXcsdC5wcmVwZW5kT25jZUxpc3RlbmVyPXcsdC5saXN0ZW5lcnM9ZnVuY3Rpb24oUyl7cmV0dXJuIFtdfSx0LmJpbmRpbmc9ZnVuY3Rpb24oUyl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHQuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIFwiL1wifSx0LmNoZGlyPWZ1bmN0aW9uKFMpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sdC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfSxZYX12YXIgWWEsc2csb2kscmUsSmE9X2UoKCk9PntfKCk7digpO20oKTtZYT17fSxzZz0hMSxvaT10eXBlb2YgZ2xvYmFsVGhpczxcInVcIj9nbG9iYWxUaGlzOnR5cGVvZiBzZWxmPFwidVwiP3NlbGY6Z2xvYmFsO3JlPWZFKCk7cmUucGxhdGZvcm09XCJicm93c2VyXCI7cmUuYWRkTGlzdGVuZXI7cmUuYXJndjtyZS5iaW5kaW5nO3JlLmJyb3dzZXI7cmUuY2hkaXI7cmUuY3dkO3JlLmVtaXQ7cmUuZW52O3JlLmxpc3RlbmVycztyZS5uZXh0VGljaztyZS5vZmY7cmUub247cmUub25jZTtyZS5wcmVwZW5kTGlzdGVuZXI7cmUucHJlcGVuZE9uY2VMaXN0ZW5lcjtyZS5yZW1vdmVBbGxMaXN0ZW5lcnM7cmUucmVtb3ZlTGlzdGVuZXI7cmUudGl0bGU7cmUudW1hc2s7cmUudmVyc2lvbjtyZS52ZXJzaW9uczt9KTtmdW5jdGlvbiBjRSgpe2lmKG9nKXJldHVybiBYYTtvZz0hMDt2YXIgdD1yZTtmdW5jdGlvbiBlKG8pe2lmKHR5cGVvZiBvIT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkIFwiK0pTT04uc3RyaW5naWZ5KG8pKX1mdW5jdGlvbiByKG8scyl7Zm9yKHZhciBhPVwiXCIsbD0wLGM9LTEsaD0wLGQsZz0wO2c8PW8ubGVuZ3RoOysrZyl7aWYoZzxvLmxlbmd0aClkPW8uY2hhckNvZGVBdChnKTtlbHNlIHtpZihkPT09NDcpYnJlYWs7ZD00Nzt9aWYoZD09PTQ3KXtpZighKGM9PT1nLTF8fGg9PT0xKSlpZihjIT09Zy0xJiZoPT09Mil7aWYoYS5sZW5ndGg8Mnx8bCE9PTJ8fGEuY2hhckNvZGVBdChhLmxlbmd0aC0xKSE9PTQ2fHxhLmNoYXJDb2RlQXQoYS5sZW5ndGgtMikhPT00Nil7aWYoYS5sZW5ndGg+Mil7dmFyIHk9YS5sYXN0SW5kZXhPZihcIi9cIik7aWYoeSE9PWEubGVuZ3RoLTEpe3k9PT0tMT8oYT1cIlwiLGw9MCk6KGE9YS5zbGljZSgwLHkpLGw9YS5sZW5ndGgtMS1hLmxhc3RJbmRleE9mKFwiL1wiKSksYz1nLGg9MDtjb250aW51ZX19ZWxzZSBpZihhLmxlbmd0aD09PTJ8fGEubGVuZ3RoPT09MSl7YT1cIlwiLGw9MCxjPWcsaD0wO2NvbnRpbnVlfX1zJiYoYS5sZW5ndGg+MD9hKz1cIi8uLlwiOmE9XCIuLlwiLGw9Mik7fWVsc2UgYS5sZW5ndGg+MD9hKz1cIi9cIitvLnNsaWNlKGMrMSxnKTphPW8uc2xpY2UoYysxLGcpLGw9Zy1jLTE7Yz1nLGg9MDt9ZWxzZSBkPT09NDYmJmghPT0tMT8rK2g6aD0tMTt9cmV0dXJuIGF9ZnVuY3Rpb24gaShvLHMpe3ZhciBhPXMuZGlyfHxzLnJvb3QsbD1zLmJhc2V8fChzLm5hbWV8fFwiXCIpKyhzLmV4dHx8XCJcIik7cmV0dXJuIGE/YT09PXMucm9vdD9hK2w6YStvK2w6bH12YXIgbj17cmVzb2x2ZTpmdW5jdGlvbigpe2Zvcih2YXIgcz1cIlwiLGE9ITEsbCxjPWFyZ3VtZW50cy5sZW5ndGgtMTtjPj0tMSYmIWE7Yy0tKXt2YXIgaDtjPj0wP2g9YXJndW1lbnRzW2NdOihsPT09dm9pZCAwJiYobD10LmN3ZCgpKSxoPWwpLGUoaCksaC5sZW5ndGghPT0wJiYocz1oK1wiL1wiK3MsYT1oLmNoYXJDb2RlQXQoMCk9PT00Nyk7fXJldHVybiBzPXIocywhYSksYT9zLmxlbmd0aD4wP1wiL1wiK3M6XCIvXCI6cy5sZW5ndGg+MD9zOlwiLlwifSxub3JtYWxpemU6ZnVuY3Rpb24ocyl7aWYoZShzKSxzLmxlbmd0aD09PTApcmV0dXJuIFwiLlwiO3ZhciBhPXMuY2hhckNvZGVBdCgwKT09PTQ3LGw9cy5jaGFyQ29kZUF0KHMubGVuZ3RoLTEpPT09NDc7cmV0dXJuIHM9cihzLCFhKSxzLmxlbmd0aD09PTAmJiFhJiYocz1cIi5cIikscy5sZW5ndGg+MCYmbCYmKHMrPVwiL1wiKSxhP1wiL1wiK3M6c30saXNBYnNvbHV0ZTpmdW5jdGlvbihzKXtyZXR1cm4gZShzKSxzLmxlbmd0aD4wJiZzLmNoYXJDb2RlQXQoMCk9PT00N30sam9pbjpmdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBcIi5cIjtmb3IodmFyIHMsYT0wO2E8YXJndW1lbnRzLmxlbmd0aDsrK2Epe3ZhciBsPWFyZ3VtZW50c1thXTtlKGwpLGwubGVuZ3RoPjAmJihzPT09dm9pZCAwP3M9bDpzKz1cIi9cIitsKTt9cmV0dXJuIHM9PT12b2lkIDA/XCIuXCI6bi5ub3JtYWxpemUocyl9LHJlbGF0aXZlOmZ1bmN0aW9uKHMsYSl7aWYoZShzKSxlKGEpLHM9PT1hfHwocz1uLnJlc29sdmUocyksYT1uLnJlc29sdmUoYSkscz09PWEpKXJldHVybiBcIlwiO2Zvcih2YXIgbD0xO2w8cy5sZW5ndGgmJnMuY2hhckNvZGVBdChsKT09PTQ3OysrbCk7Zm9yKHZhciBjPXMubGVuZ3RoLGg9Yy1sLGQ9MTtkPGEubGVuZ3RoJiZhLmNoYXJDb2RlQXQoZCk9PT00NzsrK2QpO2Zvcih2YXIgZz1hLmxlbmd0aCx5PWctZCx3PWg8eT9oOnksUz0tMSxFPTA7RTw9dzsrK0Upe2lmKEU9PT13KXtpZih5Pncpe2lmKGEuY2hhckNvZGVBdChkK0UpPT09NDcpcmV0dXJuIGEuc2xpY2UoZCtFKzEpO2lmKEU9PT0wKXJldHVybiBhLnNsaWNlKGQrRSl9ZWxzZSBoPncmJihzLmNoYXJDb2RlQXQobCtFKT09PTQ3P1M9RTpFPT09MCYmKFM9MCkpO2JyZWFrfXZhciBJPXMuY2hhckNvZGVBdChsK0UpLEM9YS5jaGFyQ29kZUF0KGQrRSk7aWYoSSE9PUMpYnJlYWs7ST09PTQ3JiYoUz1FKTt9dmFyIFI9XCJcIjtmb3IoRT1sK1MrMTtFPD1jOysrRSkoRT09PWN8fHMuY2hhckNvZGVBdChFKT09PTQ3KSYmKFIubGVuZ3RoPT09MD9SKz1cIi4uXCI6Uis9XCIvLi5cIik7cmV0dXJuIFIubGVuZ3RoPjA/UithLnNsaWNlKGQrUyk6KGQrPVMsYS5jaGFyQ29kZUF0KGQpPT09NDcmJisrZCxhLnNsaWNlKGQpKX0sX21ha2VMb25nOmZ1bmN0aW9uKHMpe3JldHVybiBzfSxkaXJuYW1lOmZ1bmN0aW9uKHMpe2lmKGUocykscy5sZW5ndGg9PT0wKXJldHVybiBcIi5cIjtmb3IodmFyIGE9cy5jaGFyQ29kZUF0KDApLGw9YT09PTQ3LGM9LTEsaD0hMCxkPXMubGVuZ3RoLTE7ZD49MTstLWQpaWYoYT1zLmNoYXJDb2RlQXQoZCksYT09PTQ3KXtpZighaCl7Yz1kO2JyZWFrfX1lbHNlIGg9ITE7cmV0dXJuIGM9PT0tMT9sP1wiL1wiOlwiLlwiOmwmJmM9PT0xP1wiLy9cIjpzLnNsaWNlKDAsYyl9LGJhc2VuYW1lOmZ1bmN0aW9uKHMsYSl7aWYoYSE9PXZvaWQgMCYmdHlwZW9mIGEhPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJleHRcIiBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJyk7ZShzKTt2YXIgbD0wLGM9LTEsaD0hMCxkO2lmKGEhPT12b2lkIDAmJmEubGVuZ3RoPjAmJmEubGVuZ3RoPD1zLmxlbmd0aCl7aWYoYS5sZW5ndGg9PT1zLmxlbmd0aCYmYT09PXMpcmV0dXJuIFwiXCI7dmFyIGc9YS5sZW5ndGgtMSx5PS0xO2ZvcihkPXMubGVuZ3RoLTE7ZD49MDstLWQpe3ZhciB3PXMuY2hhckNvZGVBdChkKTtpZih3PT09NDcpe2lmKCFoKXtsPWQrMTticmVha319ZWxzZSB5PT09LTEmJihoPSExLHk9ZCsxKSxnPj0wJiYodz09PWEuY2hhckNvZGVBdChnKT8tLWc9PT0tMSYmKGM9ZCk6KGc9LTEsYz15KSk7fXJldHVybiBsPT09Yz9jPXk6Yz09PS0xJiYoYz1zLmxlbmd0aCkscy5zbGljZShsLGMpfWVsc2Uge2ZvcihkPXMubGVuZ3RoLTE7ZD49MDstLWQpaWYocy5jaGFyQ29kZUF0KGQpPT09NDcpe2lmKCFoKXtsPWQrMTticmVha319ZWxzZSBjPT09LTEmJihoPSExLGM9ZCsxKTtyZXR1cm4gYz09PS0xP1wiXCI6cy5zbGljZShsLGMpfX0sZXh0bmFtZTpmdW5jdGlvbihzKXtlKHMpO2Zvcih2YXIgYT0tMSxsPTAsYz0tMSxoPSEwLGQ9MCxnPXMubGVuZ3RoLTE7Zz49MDstLWcpe3ZhciB5PXMuY2hhckNvZGVBdChnKTtpZih5PT09NDcpe2lmKCFoKXtsPWcrMTticmVha31jb250aW51ZX1jPT09LTEmJihoPSExLGM9ZysxKSx5PT09NDY/YT09PS0xP2E9ZzpkIT09MSYmKGQ9MSk6YSE9PS0xJiYoZD0tMSk7fXJldHVybiBhPT09LTF8fGM9PT0tMXx8ZD09PTB8fGQ9PT0xJiZhPT09Yy0xJiZhPT09bCsxP1wiXCI6cy5zbGljZShhLGMpfSxmb3JtYXQ6ZnVuY3Rpb24ocyl7aWYocz09PW51bGx8fHR5cGVvZiBzIT1cIm9iamVjdFwiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInBhdGhPYmplY3RcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHMpO3JldHVybiBpKFwiL1wiLHMpfSxwYXJzZTpmdW5jdGlvbihzKXtlKHMpO3ZhciBhPXtyb290OlwiXCIsZGlyOlwiXCIsYmFzZTpcIlwiLGV4dDpcIlwiLG5hbWU6XCJcIn07aWYocy5sZW5ndGg9PT0wKXJldHVybiBhO3ZhciBsPXMuY2hhckNvZGVBdCgwKSxjPWw9PT00NyxoO2M/KGEucm9vdD1cIi9cIixoPTEpOmg9MDtmb3IodmFyIGQ9LTEsZz0wLHk9LTEsdz0hMCxTPXMubGVuZ3RoLTEsRT0wO1M+PWg7LS1TKXtpZihsPXMuY2hhckNvZGVBdChTKSxsPT09NDcpe2lmKCF3KXtnPVMrMTticmVha31jb250aW51ZX15PT09LTEmJih3PSExLHk9UysxKSxsPT09NDY/ZD09PS0xP2Q9UzpFIT09MSYmKEU9MSk6ZCE9PS0xJiYoRT0tMSk7fXJldHVybiBkPT09LTF8fHk9PT0tMXx8RT09PTB8fEU9PT0xJiZkPT09eS0xJiZkPT09ZysxP3khPT0tMSYmKGc9PT0wJiZjP2EuYmFzZT1hLm5hbWU9cy5zbGljZSgxLHkpOmEuYmFzZT1hLm5hbWU9cy5zbGljZShnLHkpKTooZz09PTAmJmM/KGEubmFtZT1zLnNsaWNlKDEsZCksYS5iYXNlPXMuc2xpY2UoMSx5KSk6KGEubmFtZT1zLnNsaWNlKGcsZCksYS5iYXNlPXMuc2xpY2UoZyx5KSksYS5leHQ9cy5zbGljZShkLHkpKSxnPjA/YS5kaXI9cy5zbGljZSgwLGctMSk6YyYmKGEuZGlyPVwiL1wiKSxhfSxzZXA6XCIvXCIsZGVsaW1pdGVyOlwiOlwiLHdpbjMyOm51bGwscG9zaXg6bnVsbH07cmV0dXJuIG4ucG9zaXg9bixYYT1uLFhhfXZhciBYYSxvZyxaYSxhZz1fZSgoKT0+e18oKTt2KCk7bSgpO0phKCk7WGE9e30sb2c9ITE7WmE9Y0UoKTt9KTt2YXIgZ2c9e307SnQoZ2cse1VSTDooKT0+RkUsVXJsOigpPT5VRSxkZWZhdWx0OigpPT5aLGZpbGVVUkxUb1BhdGg6KCk9PmRnLGZvcm1hdDooKT0+TkUscGFyc2U6KCk9PmpFLHBhdGhUb0ZpbGVVUkw6KCk9PnBnLHJlc29sdmU6KCk9PnFFLHJlc29sdmVPYmplY3Q6KCk9PkRFfSk7ZnVuY3Rpb24gRmUoKXt0aGlzLnByb3RvY29sPW51bGwsdGhpcy5zbGFzaGVzPW51bGwsdGhpcy5hdXRoPW51bGwsdGhpcy5ob3N0PW51bGwsdGhpcy5wb3J0PW51bGwsdGhpcy5ob3N0bmFtZT1udWxsLHRoaXMuaGFzaD1udWxsLHRoaXMuc2VhcmNoPW51bGwsdGhpcy5xdWVyeT1udWxsLHRoaXMucGF0aG5hbWU9bnVsbCx0aGlzLnBhdGg9bnVsbCx0aGlzLmhyZWY9bnVsbDt9ZnVuY3Rpb24gTGkodCxlLHIpe2lmKHQmJmd0LmlzT2JqZWN0KHQpJiZ0IGluc3RhbmNlb2YgRmUpcmV0dXJuIHQ7dmFyIGk9bmV3IEZlO3JldHVybiBpLnBhcnNlKHQsZSxyKSxpfWZ1bmN0aW9uIF9FKCl7aWYoY2cpcmV0dXJuIHJsO2NnPSEwO3ZhciB0PW5lO2Z1bmN0aW9uIGUobyl7aWYodHlwZW9mIG8hPVwic3RyaW5nXCIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgXCIrSlNPTi5zdHJpbmdpZnkobykpfWZ1bmN0aW9uIHIobyxzKXtmb3IodmFyIGE9XCJcIixsPTAsYz0tMSxoPTAsZCxnPTA7Zzw9by5sZW5ndGg7KytnKXtpZihnPG8ubGVuZ3RoKWQ9by5jaGFyQ29kZUF0KGcpO2Vsc2Uge2lmKGQ9PT00NylicmVhaztkPTQ3O31pZihkPT09NDcpe2lmKCEoYz09PWctMXx8aD09PTEpKWlmKGMhPT1nLTEmJmg9PT0yKXtpZihhLmxlbmd0aDwyfHxsIT09Mnx8YS5jaGFyQ29kZUF0KGEubGVuZ3RoLTEpIT09NDZ8fGEuY2hhckNvZGVBdChhLmxlbmd0aC0yKSE9PTQ2KXtpZihhLmxlbmd0aD4yKXt2YXIgeT1hLmxhc3RJbmRleE9mKFwiL1wiKTtpZih5IT09YS5sZW5ndGgtMSl7eT09PS0xPyhhPVwiXCIsbD0wKTooYT1hLnNsaWNlKDAseSksbD1hLmxlbmd0aC0xLWEubGFzdEluZGV4T2YoXCIvXCIpKSxjPWcsaD0wO2NvbnRpbnVlfX1lbHNlIGlmKGEubGVuZ3RoPT09Mnx8YS5sZW5ndGg9PT0xKXthPVwiXCIsbD0wLGM9ZyxoPTA7Y29udGludWV9fXMmJihhLmxlbmd0aD4wP2ErPVwiLy4uXCI6YT1cIi4uXCIsbD0yKTt9ZWxzZSBhLmxlbmd0aD4wP2ErPVwiL1wiK28uc2xpY2UoYysxLGcpOmE9by5zbGljZShjKzEsZyksbD1nLWMtMTtjPWcsaD0wO31lbHNlIGQ9PT00NiYmaCE9PS0xPysraDpoPS0xO31yZXR1cm4gYX1mdW5jdGlvbiBpKG8scyl7dmFyIGE9cy5kaXJ8fHMucm9vdCxsPXMuYmFzZXx8KHMubmFtZXx8XCJcIikrKHMuZXh0fHxcIlwiKTtyZXR1cm4gYT9hPT09cy5yb290P2ErbDphK28rbDpsfXZhciBuPXtyZXNvbHZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBzPVwiXCIsYT0hMSxsLGM9YXJndW1lbnRzLmxlbmd0aC0xO2M+PS0xJiYhYTtjLS0pe3ZhciBoO2M+PTA/aD1hcmd1bWVudHNbY106KGw9PT12b2lkIDAmJihsPXQuY3dkKCkpLGg9bCksZShoKSxoLmxlbmd0aCE9PTAmJihzPWgrXCIvXCIrcyxhPWguY2hhckNvZGVBdCgwKT09PTQ3KTt9cmV0dXJuIHM9cihzLCFhKSxhP3MubGVuZ3RoPjA/XCIvXCIrczpcIi9cIjpzLmxlbmd0aD4wP3M6XCIuXCJ9LG5vcm1hbGl6ZTpmdW5jdGlvbihzKXtpZihlKHMpLHMubGVuZ3RoPT09MClyZXR1cm4gXCIuXCI7dmFyIGE9cy5jaGFyQ29kZUF0KDApPT09NDcsbD1zLmNoYXJDb2RlQXQocy5sZW5ndGgtMSk9PT00NztyZXR1cm4gcz1yKHMsIWEpLHMubGVuZ3RoPT09MCYmIWEmJihzPVwiLlwiKSxzLmxlbmd0aD4wJiZsJiYocys9XCIvXCIpLGE/XCIvXCIrczpzfSxpc0Fic29sdXRlOmZ1bmN0aW9uKHMpe3JldHVybiBlKHMpLHMubGVuZ3RoPjAmJnMuY2hhckNvZGVBdCgwKT09PTQ3fSxqb2luOmZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIFwiLlwiO2Zvcih2YXIgcyxhPTA7YTxhcmd1bWVudHMubGVuZ3RoOysrYSl7dmFyIGw9YXJndW1lbnRzW2FdO2UobCksbC5sZW5ndGg+MCYmKHM9PT12b2lkIDA/cz1sOnMrPVwiL1wiK2wpO31yZXR1cm4gcz09PXZvaWQgMD9cIi5cIjpuLm5vcm1hbGl6ZShzKX0scmVsYXRpdmU6ZnVuY3Rpb24ocyxhKXtpZihlKHMpLGUoYSkscz09PWF8fChzPW4ucmVzb2x2ZShzKSxhPW4ucmVzb2x2ZShhKSxzPT09YSkpcmV0dXJuIFwiXCI7Zm9yKHZhciBsPTE7bDxzLmxlbmd0aCYmcy5jaGFyQ29kZUF0KGwpPT09NDc7KytsKTtmb3IodmFyIGM9cy5sZW5ndGgsaD1jLWwsZD0xO2Q8YS5sZW5ndGgmJmEuY2hhckNvZGVBdChkKT09PTQ3OysrZCk7Zm9yKHZhciBnPWEubGVuZ3RoLHk9Zy1kLHc9aDx5P2g6eSxTPS0xLEU9MDtFPD13OysrRSl7aWYoRT09PXcpe2lmKHk+dyl7aWYoYS5jaGFyQ29kZUF0KGQrRSk9PT00NylyZXR1cm4gYS5zbGljZShkK0UrMSk7aWYoRT09PTApcmV0dXJuIGEuc2xpY2UoZCtFKX1lbHNlIGg+dyYmKHMuY2hhckNvZGVBdChsK0UpPT09NDc/Uz1FOkU9PT0wJiYoUz0wKSk7YnJlYWt9dmFyIEk9cy5jaGFyQ29kZUF0KGwrRSksQz1hLmNoYXJDb2RlQXQoZCtFKTtpZihJIT09QylicmVhaztJPT09NDcmJihTPUUpO312YXIgUj1cIlwiO2ZvcihFPWwrUysxO0U8PWM7KytFKShFPT09Y3x8cy5jaGFyQ29kZUF0KEUpPT09NDcpJiYoUi5sZW5ndGg9PT0wP1IrPVwiLi5cIjpSKz1cIi8uLlwiKTtyZXR1cm4gUi5sZW5ndGg+MD9SK2Euc2xpY2UoZCtTKTooZCs9UyxhLmNoYXJDb2RlQXQoZCk9PT00NyYmKytkLGEuc2xpY2UoZCkpfSxfbWFrZUxvbmc6ZnVuY3Rpb24ocyl7cmV0dXJuIHN9LGRpcm5hbWU6ZnVuY3Rpb24ocyl7aWYoZShzKSxzLmxlbmd0aD09PTApcmV0dXJuIFwiLlwiO2Zvcih2YXIgYT1zLmNoYXJDb2RlQXQoMCksbD1hPT09NDcsYz0tMSxoPSEwLGQ9cy5sZW5ndGgtMTtkPj0xOy0tZClpZihhPXMuY2hhckNvZGVBdChkKSxhPT09NDcpe2lmKCFoKXtjPWQ7YnJlYWt9fWVsc2UgaD0hMTtyZXR1cm4gYz09PS0xP2w/XCIvXCI6XCIuXCI6bCYmYz09PTE/XCIvL1wiOnMuc2xpY2UoMCxjKX0sYmFzZW5hbWU6ZnVuY3Rpb24ocyxhKXtpZihhIT09dm9pZCAwJiZ0eXBlb2YgYSE9XCJzdHJpbmdcIil0aHJvdyBuZXcgVHlwZUVycm9yKCdcImV4dFwiIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnKTtlKHMpO3ZhciBsPTAsYz0tMSxoPSEwLGQ7aWYoYSE9PXZvaWQgMCYmYS5sZW5ndGg+MCYmYS5sZW5ndGg8PXMubGVuZ3RoKXtpZihhLmxlbmd0aD09PXMubGVuZ3RoJiZhPT09cylyZXR1cm4gXCJcIjt2YXIgZz1hLmxlbmd0aC0xLHk9LTE7Zm9yKGQ9cy5sZW5ndGgtMTtkPj0wOy0tZCl7dmFyIHc9cy5jaGFyQ29kZUF0KGQpO2lmKHc9PT00Nyl7aWYoIWgpe2w9ZCsxO2JyZWFrfX1lbHNlIHk9PT0tMSYmKGg9ITEseT1kKzEpLGc+PTAmJih3PT09YS5jaGFyQ29kZUF0KGcpPy0tZz09PS0xJiYoYz1kKTooZz0tMSxjPXkpKTt9cmV0dXJuIGw9PT1jP2M9eTpjPT09LTEmJihjPXMubGVuZ3RoKSxzLnNsaWNlKGwsYyl9ZWxzZSB7Zm9yKGQ9cy5sZW5ndGgtMTtkPj0wOy0tZClpZihzLmNoYXJDb2RlQXQoZCk9PT00Nyl7aWYoIWgpe2w9ZCsxO2JyZWFrfX1lbHNlIGM9PT0tMSYmKGg9ITEsYz1kKzEpO3JldHVybiBjPT09LTE/XCJcIjpzLnNsaWNlKGwsYyl9fSxleHRuYW1lOmZ1bmN0aW9uKHMpe2Uocyk7Zm9yKHZhciBhPS0xLGw9MCxjPS0xLGg9ITAsZD0wLGc9cy5sZW5ndGgtMTtnPj0wOy0tZyl7dmFyIHk9cy5jaGFyQ29kZUF0KGcpO2lmKHk9PT00Nyl7aWYoIWgpe2w9ZysxO2JyZWFrfWNvbnRpbnVlfWM9PT0tMSYmKGg9ITEsYz1nKzEpLHk9PT00Nj9hPT09LTE/YT1nOmQhPT0xJiYoZD0xKTphIT09LTEmJihkPS0xKTt9cmV0dXJuIGE9PT0tMXx8Yz09PS0xfHxkPT09MHx8ZD09PTEmJmE9PT1jLTEmJmE9PT1sKzE/XCJcIjpzLnNsaWNlKGEsYyl9LGZvcm1hdDpmdW5jdGlvbihzKXtpZihzPT09bnVsbHx8dHlwZW9mIHMhPVwib2JqZWN0XCIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwicGF0aE9iamVjdFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2Ygcyk7cmV0dXJuIGkoXCIvXCIscyl9LHBhcnNlOmZ1bmN0aW9uKHMpe2Uocyk7dmFyIGE9e3Jvb3Q6XCJcIixkaXI6XCJcIixiYXNlOlwiXCIsZXh0OlwiXCIsbmFtZTpcIlwifTtpZihzLmxlbmd0aD09PTApcmV0dXJuIGE7dmFyIGw9cy5jaGFyQ29kZUF0KDApLGM9bD09PTQ3LGg7Yz8oYS5yb290PVwiL1wiLGg9MSk6aD0wO2Zvcih2YXIgZD0tMSxnPTAseT0tMSx3PSEwLFM9cy5sZW5ndGgtMSxFPTA7Uz49aDstLVMpe2lmKGw9cy5jaGFyQ29kZUF0KFMpLGw9PT00Nyl7aWYoIXcpe2c9UysxO2JyZWFrfWNvbnRpbnVlfXk9PT0tMSYmKHc9ITEseT1TKzEpLGw9PT00Nj9kPT09LTE/ZD1TOkUhPT0xJiYoRT0xKTpkIT09LTEmJihFPS0xKTt9cmV0dXJuIGQ9PT0tMXx8eT09PS0xfHxFPT09MHx8RT09PTEmJmQ9PT15LTEmJmQ9PT1nKzE/eSE9PS0xJiYoZz09PTAmJmM/YS5iYXNlPWEubmFtZT1zLnNsaWNlKDEseSk6YS5iYXNlPWEubmFtZT1zLnNsaWNlKGcseSkpOihnPT09MCYmYz8oYS5uYW1lPXMuc2xpY2UoMSxkKSxhLmJhc2U9cy5zbGljZSgxLHkpKTooYS5uYW1lPXMuc2xpY2UoZyxkKSxhLmJhc2U9cy5zbGljZShnLHkpKSxhLmV4dD1zLnNsaWNlKGQseSkpLGc+MD9hLmRpcj1zLnNsaWNlKDAsZy0xKTpjJiYoYS5kaXI9XCIvXCIpLGF9LHNlcDpcIi9cIixkZWxpbWl0ZXI6XCI6XCIsd2luMzI6bnVsbCxwb3NpeDpudWxsfTtyZXR1cm4gbi5wb3NpeD1uLHJsPW4scmx9ZnVuY3Rpb24ga0UodCl7aWYodHlwZW9mIHQ9PVwic3RyaW5nXCIpdD1uZXcgVVJMKHQpO2Vsc2UgaWYoISh0IGluc3RhbmNlb2YgVVJMKSl0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJpbnZhbGlkIGFyZ3VtZW50IHBhdGggLCBtdXN0IGJlIGEgc3RyaW5nIG9yIFVSTFwiKTtpZih0LnByb3RvY29sIT09XCJmaWxlOlwiKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImludmFsaWQgdXJsIHNjaGVtZVwiKTtyZXR1cm4gbmw/T0UodCk6eEUodCl9ZnVuY3Rpb24gT0UodCl7bGV0IGU9dC5ob3N0bmFtZSxyPXQucGF0aG5hbWU7Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXT09PVwiJVwiKXtsZXQgbj1yLmNvZGVQb2ludEF0KGkrMil8fDMyO2lmKHJbaSsxXT09PVwiMlwiJiZuPT09MTAyfHxyW2krMV09PT1cIjVcIiYmbj09PTk5KXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcIm11c3Qgbm90IGluY2x1ZGUgZW5jb2RlZCBcXFxcIG9yIC8gY2hhcmFjdGVyc1wiKX1pZihyPXIucmVwbGFjZShJRSxcIlxcXFxcIikscj1kZWNvZGVVUklDb21wb25lbnQociksZSE9PVwiXCIpcmV0dXJuIGBcXFxcXFxcXCR7ZX0ke3J9YDt7bGV0IGk9ci5jb2RlUG9pbnRBdCgxKXwzMixuPXJbMl07aWYoaTxTRXx8aT5BRXx8biE9PVwiOlwiKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImZpbGUgdXJsIHBhdGggbXVzdCBiZSBhYnNvbHV0ZVwiKTtyZXR1cm4gci5zbGljZSgxKX19ZnVuY3Rpb24geEUodCl7aWYodC5ob3N0bmFtZSE9PVwiXCIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiaW52YWxpZCBmaWxlIHVybCBob3N0bmFtZVwiKTtsZXQgZT10LnBhdGhuYW1lO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl09PT1cIiVcIil7bGV0IGk9ZS5jb2RlUG9pbnRBdChyKzIpfHwzMjtpZihlW3IrMV09PT1cIjJcIiYmaT09PTEwMil0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJtdXN0IG5vdCBpbmNsdWRlIGVuY29kZWQgLyBjaGFyYWN0ZXJzXCIpfXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gTUUodCl7bGV0IGU9aGcucmVzb2x2ZSh0KSxyPXQuY2hhckNvZGVBdCh0Lmxlbmd0aC0xKTsocj09PUVFfHxubCYmcj09PXZFKSYmZVtlLmxlbmd0aC0xXSE9PWhnLnNlcCYmKGUrPVwiL1wiKTtsZXQgaT1uZXcgVVJMKFwiZmlsZTovL1wiKTtyZXR1cm4gZS5pbmNsdWRlcyhcIiVcIikmJihlPWUucmVwbGFjZShURSxcIiUyNVwiKSksIW5sJiZlLmluY2x1ZGVzKFwiXFxcXFwiKSYmKGU9ZS5yZXBsYWNlKFJFLFwiJTVDXCIpKSxlLmluY2x1ZGVzKGBcbmApJiYoZT1lLnJlcGxhY2UoQ0UsXCIlMEFcIikpLGUuaW5jbHVkZXMoXCJcXHJcIikmJihlPWUucmVwbGFjZShCRSxcIiUwRFwiKSksZS5pbmNsdWRlcyhcIlx0XCIpJiYoZT1lLnJlcGxhY2UoUEUsXCIlMDlcIikpLGkucGF0aG5hbWU9ZSxpfWZ1bmN0aW9uIGRnKHQpe2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiKXQ9bmV3IFVSTCh0KTtlbHNlIGlmKCEodCBpbnN0YW5jZW9mIFVSTCkpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwiaW52YWxpZCBhcmd1bWVudCBwYXRoICwgbXVzdCBiZSBhIHN0cmluZyBvciBVUkxcIik7aWYodC5wcm90b2NvbCE9PVwiZmlsZTpcIil0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJpbnZhbGlkIHVybCBzY2hlbWVcIik7cmV0dXJuIHNsP1hFKHQpOlpFKHQpfWZ1bmN0aW9uIFhFKHQpe2xldCBlPXQuaG9zdG5hbWUscj10LnBhdGhuYW1lO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7aSsrKWlmKHJbaV09PT1cIiVcIil7bGV0IG49ci5jb2RlUG9pbnRBdChpKzIpfHwzMjtpZihyW2krMV09PT1cIjJcIiYmbj09PTEwMnx8cltpKzFdPT09XCI1XCImJm49PT05OSl0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJtdXN0IG5vdCBpbmNsdWRlIGVuY29kZWQgXFxcXCBvciAvIGNoYXJhY3RlcnNcIil9aWYocj1yLnJlcGxhY2UoekUsXCJcXFxcXCIpLHI9ZGVjb2RlVVJJQ29tcG9uZW50KHIpLGUhPT1cIlwiKXJldHVybiBgXFxcXFxcXFwke2V9JHtyfWA7e2xldCBpPXIuY29kZVBvaW50QXQoMSl8MzIsbj1yWzJdO2lmKGk8SEV8fGk+VkV8fG4hPT1cIjpcIil0aHJvdyBuZXcgRGVuby5lcnJvcnMuSW52YWxpZERhdGEoXCJmaWxlIHVybCBwYXRoIG11c3QgYmUgYWJzb2x1dGVcIik7cmV0dXJuIHIuc2xpY2UoMSl9fWZ1bmN0aW9uIFpFKHQpe2lmKHQuaG9zdG5hbWUhPT1cIlwiKXRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcImludmFsaWQgZmlsZSB1cmwgaG9zdG5hbWVcIik7bGV0IGU9dC5wYXRobmFtZTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdPT09XCIlXCIpe2xldCBpPWUuY29kZVBvaW50QXQocisyKXx8MzI7aWYoZVtyKzFdPT09XCIyXCImJmk9PT0xMDIpdGhyb3cgbmV3IERlbm8uZXJyb3JzLkludmFsaWREYXRhKFwibXVzdCBub3QgaW5jbHVkZSBlbmNvZGVkIC8gY2hhcmFjdGVyc1wiKX1yZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUpfWZ1bmN0aW9uIHBnKHQpe2xldCBlPVphLnJlc29sdmUodCkscj10LmNoYXJDb2RlQXQodC5sZW5ndGgtMSk7KHI9PT0kRXx8c2wmJnI9PT1XRSkmJmVbZS5sZW5ndGgtMV0hPT1aYS5zZXAmJihlKz1cIi9cIik7bGV0IGk9bmV3IFVSTChcImZpbGU6Ly9cIik7cmV0dXJuIGUuaW5jbHVkZXMoXCIlXCIpJiYoZT1lLnJlcGxhY2UoS0UsXCIlMjVcIikpLCFzbCYmZS5pbmNsdWRlcyhcIlxcXFxcIikmJihlPWUucmVwbGFjZShHRSxcIiU1Q1wiKSksZS5pbmNsdWRlcyhgXG5gKSYmKGU9ZS5yZXBsYWNlKFFFLFwiJTBBXCIpKSxlLmluY2x1ZGVzKFwiXFxyXCIpJiYoZT1lLnJlcGxhY2UoWUUsXCIlMERcIikpLGUuaW5jbHVkZXMoXCJcdFwiKSYmKGU9ZS5yZXBsYWNlKEpFLFwiJTA5XCIpKSxpLnBhdGhuYW1lPWUsaX12YXIgWixoRSxndCxkRSxwRSxnRSx5RSxpbCxsZyx1ZyxmZyxiRSx3RSxlbCxhaSx0bCxybCxjZyxoZyxtRSx2RSxFRSxTRSxBRSxubCxJRSxURSxSRSxDRSxCRSxQRSxMRSxVRSxORSxxRSxERSxqRSxGRSxXRSwkRSxIRSxWRSxzbCx6RSxLRSxHRSxRRSxZRSxKRSx5Zz1fZSgoKT0+e18oKTt2KCk7bSgpO1hwKCk7WnAoKTtuZygpO2FnKCk7SmEoKTtaPXt9LGhFPUt0LGd0PXtpc1N0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCJ9LGlzT2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09XCJvYmplY3RcIiYmdCE9PW51bGx9LGlzTnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gdD09PW51bGx9LGlzTnVsbE9yVW5kZWZpbmVkOmZ1bmN0aW9uKHQpe3JldHVybiB0PT1udWxsfX07Wi5wYXJzZT1MaSxaLnJlc29sdmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTGkodCwhMSwhMCkucmVzb2x2ZShlKX0sWi5yZXNvbHZlT2JqZWN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ/TGkodCwhMSwhMCkucmVzb2x2ZU9iamVjdChlKTplfSxaLmZvcm1hdD1mdW5jdGlvbih0KXtyZXR1cm4gZ3QuaXNTdHJpbmcodCkmJih0PUxpKHQpKSx0IGluc3RhbmNlb2YgRmU/dC5mb3JtYXQoKTpGZS5wcm90b3R5cGUuZm9ybWF0LmNhbGwodCl9LFouVXJsPUZlO2RFPS9eKFthLXowLTkuKy1dKzopL2kscEU9LzpbMC05XSokLyxnRT0vXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLHlFPVtcIntcIixcIn1cIixcInxcIixcIlxcXFxcIixcIl5cIixcImBcIl0uY29uY2F0KFtcIjxcIixcIj5cIiwnXCInLFwiYFwiLFwiIFwiLFwiXFxyXCIsYFxuYCxcIlx0XCJdKSxpbD1bXCInXCJdLmNvbmNhdCh5RSksbGc9W1wiJVwiLFwiL1wiLFwiP1wiLFwiO1wiLFwiI1wiXS5jb25jYXQoaWwpLHVnPVtcIi9cIixcIj9cIixcIiNcIl0sZmc9L15bK2EtejAtOUEtWl8tXXswLDYzfSQvLGJFPS9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyx3RT17amF2YXNjcmlwdDohMCxcImphdmFzY3JpcHQ6XCI6ITB9LGVsPXtqYXZhc2NyaXB0OiEwLFwiamF2YXNjcmlwdDpcIjohMH0sYWk9e2h0dHA6ITAsaHR0cHM6ITAsZnRwOiEwLGdvcGhlcjohMCxmaWxlOiEwLFwiaHR0cDpcIjohMCxcImh0dHBzOlwiOiEwLFwiZnRwOlwiOiEwLFwiZ29waGVyOlwiOiEwLFwiZmlsZTpcIjohMH0sdGw9cHQ7RmUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQsZSxyKXtpZighZ3QuaXNTdHJpbmcodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIrdHlwZW9mIHQpO3ZhciBpPXQuaW5kZXhPZihcIj9cIiksbj1pIT09LTEmJmk8dC5pbmRleE9mKFwiI1wiKT9cIj9cIjpcIiNcIixvPXQuc3BsaXQobik7b1swXT1vWzBdLnJlcGxhY2UoL1xcXFwvZyxcIi9cIik7dmFyIHM9dD1vLmpvaW4obik7aWYocz1zLnRyaW0oKSwhciYmdC5zcGxpdChcIiNcIikubGVuZ3RoPT09MSl7dmFyIGE9Z0UuZXhlYyhzKTtpZihhKXJldHVybiB0aGlzLnBhdGg9cyx0aGlzLmhyZWY9cyx0aGlzLnBhdGhuYW1lPWFbMV0sYVsyXT8odGhpcy5zZWFyY2g9YVsyXSx0aGlzLnF1ZXJ5PWU/dGwucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTp0aGlzLnNlYXJjaC5zdWJzdHIoMSkpOmUmJih0aGlzLnNlYXJjaD1cIlwiLHRoaXMucXVlcnk9e30pLHRoaXN9dmFyIGw9ZEUuZXhlYyhzKTtpZihsKXt2YXIgYz0obD1sWzBdKS50b0xvd2VyQ2FzZSgpO3RoaXMucHJvdG9jb2w9YyxzPXMuc3Vic3RyKGwubGVuZ3RoKTt9aWYocnx8bHx8cy5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpe3ZhciBoPXMuc3Vic3RyKDAsMik9PT1cIi8vXCI7IWh8fGwmJmVsW2xdfHwocz1zLnN1YnN0cigyKSx0aGlzLnNsYXNoZXM9ITApO31pZighZWxbbF0mJihofHxsJiYhYWlbbF0pKXtmb3IodmFyIGQsZyx5PS0xLHc9MDt3PHVnLmxlbmd0aDt3KyspKFM9cy5pbmRleE9mKHVnW3ddKSkhPT0tMSYmKHk9PT0tMXx8Uzx5KSYmKHk9Uyk7Zm9yKChnPXk9PT0tMT9zLmxhc3RJbmRleE9mKFwiQFwiKTpzLmxhc3RJbmRleE9mKFwiQFwiLHkpKSE9PS0xJiYoZD1zLnNsaWNlKDAsZykscz1zLnNsaWNlKGcrMSksdGhpcy5hdXRoPWRlY29kZVVSSUNvbXBvbmVudChkKSkseT0tMSx3PTA7dzxsZy5sZW5ndGg7dysrKXt2YXIgUzsoUz1zLmluZGV4T2YobGdbd10pKSE9PS0xJiYoeT09PS0xfHxTPHkpJiYoeT1TKTt9eT09PS0xJiYoeT1zLmxlbmd0aCksdGhpcy5ob3N0PXMuc2xpY2UoMCx5KSxzPXMuc2xpY2UoeSksdGhpcy5wYXJzZUhvc3QoKSx0aGlzLmhvc3RuYW1lPXRoaXMuaG9zdG5hbWV8fFwiXCI7dmFyIEU9dGhpcy5ob3N0bmFtZVswXT09PVwiW1wiJiZ0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoLTFdPT09XCJdXCI7aWYoIUUpZm9yKHZhciBJPXRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pLEM9KHc9MCxJLmxlbmd0aCk7dzxDO3crKyl7dmFyIFI9SVt3XTtpZihSJiYhUi5tYXRjaChmZykpe2Zvcih2YXIgVT1cIlwiLE49MCxXPVIubGVuZ3RoO048VztOKyspUi5jaGFyQ29kZUF0KE4pPjEyNz9VKz1cInhcIjpVKz1SW05dO2lmKCFVLm1hdGNoKGZnKSl7dmFyIEs9SS5zbGljZSgwLHcpLHo9SS5zbGljZSh3KzEpLFE9Ui5tYXRjaChiRSk7USYmKEsucHVzaChRWzFdKSx6LnVuc2hpZnQoUVsyXSkpLHoubGVuZ3RoJiYocz1cIi9cIit6LmpvaW4oXCIuXCIpK3MpLHRoaXMuaG9zdG5hbWU9Sy5qb2luKFwiLlwiKTticmVha319fXRoaXMuaG9zdG5hbWUubGVuZ3RoPjI1NT90aGlzLmhvc3RuYW1lPVwiXCI6dGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCksRXx8KHRoaXMuaG9zdG5hbWU9aEUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKSk7dmFyIHBlPXRoaXMucG9ydD9cIjpcIit0aGlzLnBvcnQ6XCJcIixZdD10aGlzLmhvc3RuYW1lfHxcIlwiO3RoaXMuaG9zdD1ZdCtwZSx0aGlzLmhyZWYrPXRoaXMuaG9zdCxFJiYodGhpcy5ob3N0bmFtZT10aGlzLmhvc3RuYW1lLnN1YnN0cigxLHRoaXMuaG9zdG5hbWUubGVuZ3RoLTIpLHNbMF0hPT1cIi9cIiYmKHM9XCIvXCIrcykpO31pZighd0VbY10pZm9yKHc9MCxDPWlsLmxlbmd0aDt3PEM7dysrKXt2YXIgZ2U9aWxbd107aWYocy5pbmRleE9mKGdlKSE9PS0xKXt2YXIgUHI9ZW5jb2RlVVJJQ29tcG9uZW50KGdlKTtQcj09PWdlJiYoUHI9ZXNjYXBlKGdlKSkscz1zLnNwbGl0KGdlKS5qb2luKFByKTt9fXZhciBrcj1zLmluZGV4T2YoXCIjXCIpO2tyIT09LTEmJih0aGlzLmhhc2g9cy5zdWJzdHIoa3IpLHM9cy5zbGljZSgwLGtyKSk7dmFyIE9yPXMuaW5kZXhPZihcIj9cIik7aWYoT3IhPT0tMT8odGhpcy5zZWFyY2g9cy5zdWJzdHIoT3IpLHRoaXMucXVlcnk9cy5zdWJzdHIoT3IrMSksZSYmKHRoaXMucXVlcnk9dGwucGFyc2UodGhpcy5xdWVyeSkpLHM9cy5zbGljZSgwLE9yKSk6ZSYmKHRoaXMuc2VhcmNoPVwiXCIsdGhpcy5xdWVyeT17fSkscyYmKHRoaXMucGF0aG5hbWU9cyksYWlbY10mJnRoaXMuaG9zdG5hbWUmJiF0aGlzLnBhdGhuYW1lJiYodGhpcy5wYXRobmFtZT1cIi9cIiksdGhpcy5wYXRobmFtZXx8dGhpcy5zZWFyY2gpe3BlPXRoaXMucGF0aG5hbWV8fFwiXCI7dmFyIGhzPXRoaXMuc2VhcmNofHxcIlwiO3RoaXMucGF0aD1wZStoczt9cmV0dXJuIHRoaXMuaHJlZj10aGlzLmZvcm1hdCgpLHRoaXN9LEZlLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmF1dGh8fFwiXCI7dCYmKHQ9KHQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQpKS5yZXBsYWNlKC8lM0EvaSxcIjpcIiksdCs9XCJAXCIpO3ZhciBlPXRoaXMucHJvdG9jb2x8fFwiXCIscj10aGlzLnBhdGhuYW1lfHxcIlwiLGk9dGhpcy5oYXNofHxcIlwiLG49ITEsbz1cIlwiO3RoaXMuaG9zdD9uPXQrdGhpcy5ob3N0OnRoaXMuaG9zdG5hbWUmJihuPXQrKHRoaXMuaG9zdG5hbWUuaW5kZXhPZihcIjpcIik9PT0tMT90aGlzLmhvc3RuYW1lOlwiW1wiK3RoaXMuaG9zdG5hbWUrXCJdXCIpLHRoaXMucG9ydCYmKG4rPVwiOlwiK3RoaXMucG9ydCkpLHRoaXMucXVlcnkmJmd0LmlzT2JqZWN0KHRoaXMucXVlcnkpJiZPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgmJihvPXRsLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KSk7dmFyIHM9dGhpcy5zZWFyY2h8fG8mJlwiP1wiK298fFwiXCI7cmV0dXJuIGUmJmUuc3Vic3RyKC0xKSE9PVwiOlwiJiYoZSs9XCI6XCIpLHRoaXMuc2xhc2hlc3x8KCFlfHxhaVtlXSkmJm4hPT0hMT8obj1cIi8vXCIrKG58fFwiXCIpLHImJnIuY2hhckF0KDApIT09XCIvXCImJihyPVwiL1wiK3IpKTpufHwobj1cIlwiKSxpJiZpLmNoYXJBdCgwKSE9PVwiI1wiJiYoaT1cIiNcIitpKSxzJiZzLmNoYXJBdCgwKSE9PVwiP1wiJiYocz1cIj9cIitzKSxlK24rKHI9ci5yZXBsYWNlKC9bPyNdL2csZnVuY3Rpb24oYSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChhKX0pKSsocz1zLnJlcGxhY2UoXCIjXCIsXCIlMjNcIikpK2l9LEZlLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlc29sdmVPYmplY3QoTGkodCwhMSwhMCkpLmZvcm1hdCgpfSxGZS5wcm90b3R5cGUucmVzb2x2ZU9iamVjdD1mdW5jdGlvbih0KXtpZihndC5pc1N0cmluZyh0KSl7dmFyIGU9bmV3IEZlO2UucGFyc2UodCwhMSwhMCksdD1lO31mb3IodmFyIHI9bmV3IEZlLGk9T2JqZWN0LmtleXModGhpcyksbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3Jbb109dGhpc1tvXTt9aWYoci5oYXNoPXQuaGFzaCx0LmhyZWY9PT1cIlwiKXJldHVybiByLmhyZWY9ci5mb3JtYXQoKSxyO2lmKHQuc2xhc2hlcyYmIXQucHJvdG9jb2wpe2Zvcih2YXIgcz1PYmplY3Qua2V5cyh0KSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciBsPXNbYV07bCE9PVwicHJvdG9jb2xcIiYmKHJbbF09dFtsXSk7fXJldHVybiBhaVtyLnByb3RvY29sXSYmci5ob3N0bmFtZSYmIXIucGF0aG5hbWUmJihyLnBhdGg9ci5wYXRobmFtZT1cIi9cIiksci5ocmVmPXIuZm9ybWF0KCkscn1pZih0LnByb3RvY29sJiZ0LnByb3RvY29sIT09ci5wcm90b2NvbCl7aWYoIWFpW3QucHJvdG9jb2xdKXtmb3IodmFyIGM9T2JqZWN0LmtleXModCksaD0wO2g8Yy5sZW5ndGg7aCsrKXt2YXIgZD1jW2hdO3JbZF09dFtkXTt9cmV0dXJuIHIuaHJlZj1yLmZvcm1hdCgpLHJ9aWYoci5wcm90b2NvbD10LnByb3RvY29sLHQuaG9zdHx8ZWxbdC5wcm90b2NvbF0pci5wYXRobmFtZT10LnBhdGhuYW1lO2Vsc2Uge2Zvcih2YXIgZz0odC5wYXRobmFtZXx8XCJcIikuc3BsaXQoXCIvXCIpO2cubGVuZ3RoJiYhKHQuaG9zdD1nLnNoaWZ0KCkpOyk7dC5ob3N0fHwodC5ob3N0PVwiXCIpLHQuaG9zdG5hbWV8fCh0Lmhvc3RuYW1lPVwiXCIpLGdbMF0hPT1cIlwiJiZnLnVuc2hpZnQoXCJcIiksZy5sZW5ndGg8MiYmZy51bnNoaWZ0KFwiXCIpLHIucGF0aG5hbWU9Zy5qb2luKFwiL1wiKTt9aWYoci5zZWFyY2g9dC5zZWFyY2gsci5xdWVyeT10LnF1ZXJ5LHIuaG9zdD10Lmhvc3R8fFwiXCIsci5hdXRoPXQuYXV0aCxyLmhvc3RuYW1lPXQuaG9zdG5hbWV8fHQuaG9zdCxyLnBvcnQ9dC5wb3J0LHIucGF0aG5hbWV8fHIuc2VhcmNoKXt2YXIgeT1yLnBhdGhuYW1lfHxcIlwiLHc9ci5zZWFyY2h8fFwiXCI7ci5wYXRoPXkrdzt9cmV0dXJuIHIuc2xhc2hlcz1yLnNsYXNoZXN8fHQuc2xhc2hlcyxyLmhyZWY9ci5mb3JtYXQoKSxyfXZhciBTPXIucGF0aG5hbWUmJnIucGF0aG5hbWUuY2hhckF0KDApPT09XCIvXCIsRT10Lmhvc3R8fHQucGF0aG5hbWUmJnQucGF0aG5hbWUuY2hhckF0KDApPT09XCIvXCIsST1FfHxTfHxyLmhvc3QmJnQucGF0aG5hbWUsQz1JLFI9ci5wYXRobmFtZSYmci5wYXRobmFtZS5zcGxpdChcIi9cIil8fFtdLFU9KGc9dC5wYXRobmFtZSYmdC5wYXRobmFtZS5zcGxpdChcIi9cIil8fFtdLHIucHJvdG9jb2wmJiFhaVtyLnByb3RvY29sXSk7aWYoVSYmKHIuaG9zdG5hbWU9XCJcIixyLnBvcnQ9bnVsbCxyLmhvc3QmJihSWzBdPT09XCJcIj9SWzBdPXIuaG9zdDpSLnVuc2hpZnQoci5ob3N0KSksci5ob3N0PVwiXCIsdC5wcm90b2NvbCYmKHQuaG9zdG5hbWU9bnVsbCx0LnBvcnQ9bnVsbCx0Lmhvc3QmJihnWzBdPT09XCJcIj9nWzBdPXQuaG9zdDpnLnVuc2hpZnQodC5ob3N0KSksdC5ob3N0PW51bGwpLEk9SSYmKGdbMF09PT1cIlwifHxSWzBdPT09XCJcIikpLEUpci5ob3N0PXQuaG9zdHx8dC5ob3N0PT09XCJcIj90Lmhvc3Q6ci5ob3N0LHIuaG9zdG5hbWU9dC5ob3N0bmFtZXx8dC5ob3N0bmFtZT09PVwiXCI/dC5ob3N0bmFtZTpyLmhvc3RuYW1lLHIuc2VhcmNoPXQuc2VhcmNoLHIucXVlcnk9dC5xdWVyeSxSPWc7ZWxzZSBpZihnLmxlbmd0aClSfHwoUj1bXSksUi5wb3AoKSxSPVIuY29uY2F0KGcpLHIuc2VhcmNoPXQuc2VhcmNoLHIucXVlcnk9dC5xdWVyeTtlbHNlIGlmKCFndC5pc051bGxPclVuZGVmaW5lZCh0LnNlYXJjaCkpcmV0dXJuIFUmJihyLmhvc3RuYW1lPXIuaG9zdD1SLnNoaWZ0KCksKFE9ISEoci5ob3N0JiZyLmhvc3QuaW5kZXhPZihcIkBcIik+MCkmJnIuaG9zdC5zcGxpdChcIkBcIikpJiYoci5hdXRoPVEuc2hpZnQoKSxyLmhvc3Q9ci5ob3N0bmFtZT1RLnNoaWZ0KCkpKSxyLnNlYXJjaD10LnNlYXJjaCxyLnF1ZXJ5PXQucXVlcnksZ3QuaXNOdWxsKHIucGF0aG5hbWUpJiZndC5pc051bGwoci5zZWFyY2gpfHwoci5wYXRoPShyLnBhdGhuYW1lP3IucGF0aG5hbWU6XCJcIikrKHIuc2VhcmNoP3Iuc2VhcmNoOlwiXCIpKSxyLmhyZWY9ci5mb3JtYXQoKSxyO2lmKCFSLmxlbmd0aClyZXR1cm4gci5wYXRobmFtZT1udWxsLHIuc2VhcmNoP3IucGF0aD1cIi9cIityLnNlYXJjaDpyLnBhdGg9bnVsbCxyLmhyZWY9ci5mb3JtYXQoKSxyO2Zvcih2YXIgTj1SLnNsaWNlKC0xKVswXSxXPShyLmhvc3R8fHQuaG9zdHx8Ui5sZW5ndGg+MSkmJihOPT09XCIuXCJ8fE49PT1cIi4uXCIpfHxOPT09XCJcIixLPTAsej1SLmxlbmd0aDt6Pj0wO3otLSkoTj1SW3pdKT09PVwiLlwiP1Iuc3BsaWNlKHosMSk6Tj09PVwiLi5cIj8oUi5zcGxpY2UoeiwxKSxLKyspOksmJihSLnNwbGljZSh6LDEpLEstLSk7aWYoIUkmJiFDKWZvcig7Sy0tO0spUi51bnNoaWZ0KFwiLi5cIik7IUl8fFJbMF09PT1cIlwifHxSWzBdJiZSWzBdLmNoYXJBdCgwKT09PVwiL1wifHxSLnVuc2hpZnQoXCJcIiksVyYmUi5qb2luKFwiL1wiKS5zdWJzdHIoLTEpIT09XCIvXCImJlIucHVzaChcIlwiKTt2YXIgUSxwZT1SWzBdPT09XCJcInx8UlswXSYmUlswXS5jaGFyQXQoMCk9PT1cIi9cIjtyZXR1cm4gVSYmKHIuaG9zdG5hbWU9ci5ob3N0PXBlP1wiXCI6Ui5sZW5ndGg/Ui5zaGlmdCgpOlwiXCIsKFE9ISEoci5ob3N0JiZyLmhvc3QuaW5kZXhPZihcIkBcIik+MCkmJnIuaG9zdC5zcGxpdChcIkBcIikpJiYoci5hdXRoPVEuc2hpZnQoKSxyLmhvc3Q9ci5ob3N0bmFtZT1RLnNoaWZ0KCkpKSwoST1JfHxyLmhvc3QmJlIubGVuZ3RoKSYmIXBlJiZSLnVuc2hpZnQoXCJcIiksUi5sZW5ndGg/ci5wYXRobmFtZT1SLmpvaW4oXCIvXCIpOihyLnBhdGhuYW1lPW51bGwsci5wYXRoPW51bGwpLGd0LmlzTnVsbChyLnBhdGhuYW1lKSYmZ3QuaXNOdWxsKHIuc2VhcmNoKXx8KHIucGF0aD0oci5wYXRobmFtZT9yLnBhdGhuYW1lOlwiXCIpKyhyLnNlYXJjaD9yLnNlYXJjaDpcIlwiKSksci5hdXRoPXQuYXV0aHx8ci5hdXRoLHIuc2xhc2hlcz1yLnNsYXNoZXN8fHQuc2xhc2hlcyxyLmhyZWY9ci5mb3JtYXQoKSxyfSxGZS5wcm90b3R5cGUucGFyc2VIb3N0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ob3N0LGU9cEUuZXhlYyh0KTtlJiYoKGU9ZVswXSkhPT1cIjpcIiYmKHRoaXMucG9ydD1lLnN1YnN0cigxKSksdD10LnN1YnN0cigwLHQubGVuZ3RoLWUubGVuZ3RoKSksdCYmKHRoaXMuaG9zdG5hbWU9dCk7fTtaLlVybDtaLmZvcm1hdDtaLnJlc29sdmU7Wi5yZXNvbHZlT2JqZWN0O3JsPXt9LGNnPSExO2hnPV9FKCksbUU9dHlwZW9mIERlbm88XCJ1XCI/RGVuby5idWlsZC5vcz09PVwid2luZG93c1wiP1wid2luMzJcIjpEZW5vLmJ1aWxkLm9zOnZvaWQgMDtaLlVSTD10eXBlb2YgVVJMPFwidVwiP1VSTDpudWxsO1oucGF0aFRvRmlsZVVSTD1NRTtaLmZpbGVVUkxUb1BhdGg9a0U7Wi5Vcmw7Wi5mb3JtYXQ7Wi5yZXNvbHZlO1oucmVzb2x2ZU9iamVjdDtaLlVSTDt2RT05MixFRT00NyxTRT05NyxBRT0xMjIsbmw9bUU9PT1cIndpbjMyXCIsSUU9L1xcLy9nLFRFPS8lL2csUkU9L1xcXFwvZyxDRT0vXFxuL2csQkU9L1xcci9nLFBFPS9cXHQvZztMRT10eXBlb2YgRGVubzxcInVcIj9EZW5vLmJ1aWxkLm9zPT09XCJ3aW5kb3dzXCI/XCJ3aW4zMlwiOkRlbm8uYnVpbGQub3M6dm9pZCAwO1ouVVJMPXR5cGVvZiBVUkw8XCJ1XCI/VVJMOm51bGw7Wi5wYXRoVG9GaWxlVVJMPXBnO1ouZmlsZVVSTFRvUGF0aD1kZztVRT1aLlVybCxORT1aLmZvcm1hdCxxRT1aLnJlc29sdmUsREU9Wi5yZXNvbHZlT2JqZWN0LGpFPVoucGFyc2UsRkU9Wi5VUkwsV0U9OTIsJEU9NDcsSEU9OTcsVkU9MTIyLHNsPUxFPT09XCJ3aW4zMlwiLHpFPS9cXC8vZyxLRT0vJS9nLEdFPS9cXFxcL2csUUU9L1xcbi9nLFlFPS9cXHIvZyxKRT0vXFx0L2c7fSk7dmFyIHdnPU0oKG04LGJnKT0+e18oKTt2KCk7bSgpO2JnLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJ3cyBkb2VzIG5vdCB3b3JrIGluIHRoZSBicm93c2VyLiBCcm93c2VyIGNsaWVudHMgbXVzdCB1c2UgdGhlIG5hdGl2ZSBXZWJTb2NrZXQgb2JqZWN0XCIpfTt9KTt2YXIgbHM9TShsaT0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShsaSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtsaS5CdWZmZXJlZER1cGxleD1saS53cml0ZXY9dm9pZCAwO3ZhciBlUz1qdCgpLF9nPShiZSgpLFgobWUpKTtmdW5jdGlvbiBtZyh0LGUpe2xldCByPW5ldyBBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspdHlwZW9mIHRbaV0uY2h1bms9PVwic3RyaW5nXCI/cltpXT1fZy5CdWZmZXIuZnJvbSh0W2ldLmNodW5rLFwidXRmOFwiKTpyW2ldPXRbaV0uY2h1bms7dGhpcy5fd3JpdGUoX2cuQnVmZmVyLmNvbmNhdChyKSxcImJpbmFyeVwiLGUpO31saS53cml0ZXY9bWc7dmFyIG9sPWNsYXNzIGV4dGVuZHMgZVMuRHVwbGV4e2NvbnN0cnVjdG9yKGUscixpKXtzdXBlcih7b2JqZWN0TW9kZTohMH0pLHRoaXMucHJveHk9cix0aGlzLnNvY2tldD1pLHRoaXMud3JpdGVRdWV1ZT1bXSxlLm9iamVjdE1vZGV8fCh0aGlzLl93cml0ZXY9bWcuYmluZCh0aGlzKSksdGhpcy5pc1NvY2tldE9wZW49ITEsdGhpcy5wcm94eS5vbihcImRhdGFcIixuPT57dGhpcy5kZXN0cm95ZWR8fHRoaXMucHVzaChuKTt9KTt9X3JlYWQoZSl7dGhpcy5wcm94eS5yZWFkKGUpO31fd3JpdGUoZSxyLGkpe3RoaXMuaXNTb2NrZXRPcGVuP3RoaXMud3JpdGVUb1Byb3h5KGUscixpKTp0aGlzLndyaXRlUXVldWUucHVzaCh7Y2h1bms6ZSxlbmNvZGluZzpyLGNiOml9KTt9X2ZpbmFsKGUpe3RoaXMud3JpdGVRdWV1ZT1bXSx0aGlzLnByb3h5LmVuZChlKTt9X2Rlc3Ryb3koZSxyKXt0aGlzLndyaXRlUXVldWU9W10sdGhpcy5wcm94eS5kZXN0cm95KCkscihlKTt9c29ja2V0UmVhZHkoKXt0aGlzLmVtaXQoXCJjb25uZWN0XCIpLHRoaXMuaXNTb2NrZXRPcGVuPSEwLHRoaXMucHJvY2Vzc1dyaXRlUXVldWUoKTt9d3JpdGVUb1Byb3h5KGUscixpKXt0aGlzLnByb3h5LndyaXRlKGUscik9PT0hMT90aGlzLnByb3h5Lm9uY2UoXCJkcmFpblwiLGkpOmkoKTt9cHJvY2Vzc1dyaXRlUXVldWUoKXtmb3IoO3RoaXMud3JpdGVRdWV1ZS5sZW5ndGg+MDspe2xldHtjaHVuazplLGVuY29kaW5nOnIsY2I6aX09dGhpcy53cml0ZVF1ZXVlLnNoaWZ0KCk7dGhpcy53cml0ZVRvUHJveHkoZSxyLGkpO319fTtsaS5CdWZmZXJlZER1cGxleD1vbDt9KTt2YXIgVWk9TShRdD0+e18oKTt2KCk7bSgpO3ZhciBsbD1RdCYmUXQuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShRdCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtRdC5zdHJlYW1CdWlsZGVyPVF0LmJyb3dzZXJTdHJlYW1CdWlsZGVyPXZvaWQgMDt2YXIgdXM9KGJlKCksWChtZSkpLHZnPWxsKHdnKCkpLHRTPWxsKG90KCkpLHJTPWp0KCksaVM9bGwoT2koKSksYWw9bHMoKSxHdD0oMCwgdFMuZGVmYXVsdCkoXCJtcXR0anM6d3NcIiksblM9W1wicmVqZWN0VW5hdXRob3JpemVkXCIsXCJjYVwiLFwiY2VydFwiLFwia2V5XCIsXCJwZnhcIixcInBhc3NwaHJhc2VcIl07ZnVuY3Rpb24gRWcodCxlKXtsZXQgcj1gJHt0LnByb3RvY29sfTovLyR7dC5ob3N0bmFtZX06JHt0LnBvcnR9JHt0LnBhdGh9YDtyZXR1cm4gdHlwZW9mIHQudHJhbnNmb3JtV3NVcmw9PVwiZnVuY3Rpb25cIiYmKHI9dC50cmFuc2Zvcm1Xc1VybChyLHQsZSkpLHJ9ZnVuY3Rpb24gU2codCl7bGV0IGU9dDtyZXR1cm4gdC5wb3J0fHwodC5wcm90b2NvbD09PVwid3NzXCI/ZS5wb3J0PTQ0MzplLnBvcnQ9ODApLHQucGF0aHx8KGUucGF0aD1cIi9cIiksdC53c09wdGlvbnN8fChlLndzT3B0aW9ucz17fSksIWlTLmRlZmF1bHQmJiF0LmZvcmNlTmF0aXZlV2ViU29ja2V0JiZ0LnByb3RvY29sPT09XCJ3c3NcIiYmblMuZm9yRWFjaChyPT57T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodC53c09wdGlvbnMscikmJihlLndzT3B0aW9uc1tyXT10W3JdKTt9KSxlfWZ1bmN0aW9uIHNTKHQpe2xldCBlPVNnKHQpO2lmKGUuaG9zdG5hbWV8fChlLmhvc3RuYW1lPWUuaG9zdCksIWUuaG9zdG5hbWUpe2lmKHR5cGVvZiBkb2N1bWVudD5cInVcIil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGhvc3QuIFNwZWNpZnkgaG9zdCBtYW51YWxseS5cIik7bGV0IHI9bmV3IFVSTChkb2N1bWVudC5VUkwpO2UuaG9zdG5hbWU9ci5ob3N0bmFtZSxlLnBvcnR8fChlLnBvcnQ9TnVtYmVyKHIucG9ydCkpO31yZXR1cm4gZS5vYmplY3RNb2RlPT09dm9pZCAwJiYoZS5vYmplY3RNb2RlPSEoZS5iaW5hcnk9PT0hMHx8ZS5iaW5hcnk9PT12b2lkIDApKSxlfWZ1bmN0aW9uIG9TKHQsZSxyKXtHdChcImNyZWF0ZVdlYlNvY2tldFwiKSxHdChgcHJvdG9jb2w6ICR7ci5wcm90b2NvbElkfSAke3IucHJvdG9jb2xWZXJzaW9ufWApO2xldCBpPXIucHJvdG9jb2xJZD09PVwiTVFJc2RwXCImJnIucHJvdG9jb2xWZXJzaW9uPT09Mz9cIm1xdHR2My4xXCI6XCJtcXR0XCI7R3QoYGNyZWF0aW5nIG5ldyBXZWJzb2NrZXQgZm9yIHVybDogJHtlfSBhbmQgcHJvdG9jb2w6ICR7aX1gKTtsZXQgbjtyZXR1cm4gci5jcmVhdGVXZWJzb2NrZXQ/bj1yLmNyZWF0ZVdlYnNvY2tldChlLFtpXSxyKTpuPW5ldyB2Zy5kZWZhdWx0KGUsW2ldLHIud3NPcHRpb25zKSxufWZ1bmN0aW9uIGFTKHQsZSl7bGV0IHI9ZS5wcm90b2NvbElkPT09XCJNUUlzZHBcIiYmZS5wcm90b2NvbFZlcnNpb249PT0zP1wibXF0dHYzLjFcIjpcIm1xdHRcIixpPUVnKGUsdCksbjtyZXR1cm4gZS5jcmVhdGVXZWJzb2NrZXQ/bj1lLmNyZWF0ZVdlYnNvY2tldChpLFtyXSxlKTpuPW5ldyBXZWJTb2NrZXQoaSxbcl0pLG4uYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsbn12YXIgbFM9KHQsZSk9PntHdChcInN0cmVhbUJ1aWxkZXJcIik7bGV0IHI9U2coZSk7ci5ob3N0bmFtZT1yLmhvc3RuYW1lfHxyLmhvc3R8fFwibG9jYWxob3N0XCI7bGV0IGk9RWcocix0KSxuPW9TKHQsaSxyKSxvPXZnLmRlZmF1bHQuY3JlYXRlV2ViU29ja2V0U3RyZWFtKG4sci53c09wdGlvbnMpO3JldHVybiBvLnVybD1pLG4ub24oXCJjbG9zZVwiLCgpPT57by5kZXN0cm95KCk7fSksb307UXQuc3RyZWFtQnVpbGRlcj1sUzt2YXIgdVM9KHQsZSk9PntHdChcImJyb3dzZXJTdHJlYW1CdWlsZGVyXCIpO2xldCByLG49c1MoZSkuYnJvd3NlckJ1ZmZlclNpemV8fDEwMjQqNTEyLG89ZS5icm93c2VyQnVmZmVyVGltZW91dHx8MWUzLHM9IWUub2JqZWN0TW9kZSxhPWFTKHQsZSksbD1oKGUsUyxFKTtlLm9iamVjdE1vZGV8fChsLl93cml0ZXY9YWwud3JpdGV2LmJpbmQobCkpLGwub24oXCJjbG9zZVwiLCgpPT57YS5jbG9zZSgpO30pO2xldCBjPXR5cGVvZiBhLmFkZEV2ZW50TGlzdGVuZXI8XCJ1XCI7YS5yZWFkeVN0YXRlPT09YS5PUEVOPyhyPWwsci5zb2NrZXQ9YSk6KHI9bmV3IGFsLkJ1ZmZlcmVkRHVwbGV4KGUsbCxhKSxjP2EuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIixkKTphLm9ub3Blbj1kKSxjPyhhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLGcpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIseSksYS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHcpKTooYS5vbmNsb3NlPWcsYS5vbmVycm9yPXksYS5vbm1lc3NhZ2U9dyk7ZnVuY3Rpb24gaChJLEMsUil7bGV0IFU9bmV3IHJTLlRyYW5zZm9ybSh7b2JqZWN0TW9kZTpJLm9iamVjdE1vZGV9KTtyZXR1cm4gVS5fd3JpdGU9QyxVLl9mbHVzaD1SLFV9ZnVuY3Rpb24gZCgpe0d0KFwiV2ViU29ja2V0IG9uT3BlblwiKSxyIGluc3RhbmNlb2YgYWwuQnVmZmVyZWREdXBsZXgmJnIuc29ja2V0UmVhZHkoKTt9ZnVuY3Rpb24gZyhJKXtHdChcIldlYlNvY2tldCBvbkNsb3NlXCIsSSksci5lbmQoKSxyLmRlc3Ryb3koKTt9ZnVuY3Rpb24geShJKXtHdChcIldlYlNvY2tldCBvbkVycm9yXCIsSSk7bGV0IEM9bmV3IEVycm9yKFwiV2ViU29ja2V0IGVycm9yXCIpO0MuZXZlbnQ9SSxyLmRlc3Ryb3koQyk7fWFzeW5jIGZ1bmN0aW9uIHcoSSl7bGV0e2RhdGE6Q309STtDIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/Qz11cy5CdWZmZXIuZnJvbShDKTpDIGluc3RhbmNlb2YgQmxvYj9DPXVzLkJ1ZmZlci5mcm9tKGF3YWl0IG5ldyBSZXNwb25zZShDKS5hcnJheUJ1ZmZlcigpKTpDPXVzLkJ1ZmZlci5mcm9tKEMsXCJ1dGY4XCIpLGwmJiFsLmRlc3Ryb3llZCYmbC5wdXNoKEMpO31mdW5jdGlvbiBTKEksQyxSKXtpZihhLmJ1ZmZlcmVkQW1vdW50Pm4pe3NldFRpbWVvdXQoUyxvLEksQyxSKTtyZXR1cm59cyYmdHlwZW9mIEk9PVwic3RyaW5nXCImJihJPXVzLkJ1ZmZlci5mcm9tKEksXCJ1dGY4XCIpKTt0cnl7YS5zZW5kKEkpO31jYXRjaChVKXtyZXR1cm4gUihVKX1SKCk7fWZ1bmN0aW9uIEUoSSl7YS5jbG9zZSgpLEkoKTt9cmV0dXJuIHJ9O1F0LmJyb3dzZXJTdHJlYW1CdWlsZGVyPXVTO30pO3ZhciB1bD17fTtKdCh1bCx7U2VydmVyOigpPT5NZSxTb2NrZXQ6KCk9Pk1lLFN0cmVhbTooKT0+TWUsX2NyZWF0ZVNlcnZlckhhbmRsZTooKT0+TWUsX25vcm1hbGl6ZUFyZ3M6KCk9Pk1lLF9zZXRTaW11bHRhbmVvdXNBY2NlcHRzOigpPT5NZSxjb25uZWN0OigpPT5NZSxjcmVhdGVDb25uZWN0aW9uOigpPT5NZSxjcmVhdGVTZXJ2ZXI6KCk9Pk1lLGRlZmF1bHQ6KCk9PmZTLGlzSVA6KCk9Pk1lLGlzSVB2NDooKT0+TWUsaXNJUHY2OigpPT5NZX0pO2Z1bmN0aW9uIE1lKCl7dGhyb3cgbmV3IEVycm9yKFwiTm9kZS5qcyBuZXQgbW9kdWxlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSlNQTSBjb3JlIG91dHNpZGUgb2YgTm9kZS5qc1wiKX12YXIgZlMsZmw9X2UoKCk9PntfKCk7digpO20oKTtmUz17X2NyZWF0ZVNlcnZlckhhbmRsZTpNZSxfbm9ybWFsaXplQXJnczpNZSxfc2V0U2ltdWx0YW5lb3VzQWNjZXB0czpNZSxjb25uZWN0Ok1lLGNyZWF0ZUNvbm5lY3Rpb246TWUsY3JlYXRlU2VydmVyOk1lLGlzSVA6TWUsaXNJUHY0Ok1lLGlzSVB2NjpNZSxTZXJ2ZXI6TWUsU29ja2V0Ok1lLFN0cmVhbTpNZX07fSk7dmFyIGNsPU0oTmk9PntfKCk7digpO20oKTt2YXIgQWc9TmkmJk5pLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTmksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNTPUFnKChmbCgpLFgodWwpKSksaFM9QWcob3QoKSksZFM9KDAsIGhTLmRlZmF1bHQpKFwibXF0dGpzOnRjcFwiKSxwUz0odCxlKT0+e2UucG9ydD1lLnBvcnR8fDE4ODMsZS5ob3N0bmFtZT1lLmhvc3RuYW1lfHxlLmhvc3R8fFwibG9jYWxob3N0XCI7bGV0e3BvcnQ6cixwYXRoOml9PWUsbj1lLmhvc3RuYW1lO3JldHVybiBkUyhcInBvcnQgJWQgYW5kIGhvc3QgJXNcIixyLG4pLGNTLmRlZmF1bHQuY3JlYXRlQ29ubmVjdGlvbih7cG9ydDpyLGhvc3Q6bixwYXRoOml9KX07TmkuZGVmYXVsdD1wUzt9KTt2YXIgSWc9e307SnQoSWcse2RlZmF1bHQ6KCk9PmdTfSk7dmFyIGdTLFRnPV9lKCgpPT57XygpO3YoKTttKCk7Z1M9e307fSk7dmFyIGRsPU0ocWk9PntfKCk7digpO20oKTt2YXIgaGw9cWkmJnFpLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkocWksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHlTPWhsKChUZygpLFgoSWcpKSksYlM9aGwoKGZsKCksWCh1bCkpKSx3Uz1obChvdCgpKSxfUz0oMCwgd1MuZGVmYXVsdCkoXCJtcXR0anM6dGxzXCIpLG1TPSh0LGUpPT57ZS5wb3J0PWUucG9ydHx8ODg4MyxlLmhvc3Q9ZS5ob3N0bmFtZXx8ZS5ob3N0fHxcImxvY2FsaG9zdFwiLGJTLmRlZmF1bHQuaXNJUChlLmhvc3QpPT09MCYmKGUuc2VydmVybmFtZT1lLmhvc3QpLGUucmVqZWN0VW5hdXRob3JpemVkPWUucmVqZWN0VW5hdXRob3JpemVkIT09ITEsZGVsZXRlIGUucGF0aCxfUyhcInBvcnQgJWQgaG9zdCAlcyByZWplY3RVbmF1dGhvcml6ZWQgJWJcIixlLnBvcnQsZS5ob3N0LGUucmVqZWN0VW5hdXRob3JpemVkKTtsZXQgcj15Uy5kZWZhdWx0LmNvbm5lY3QoZSk7ci5vbihcInNlY3VyZUNvbm5lY3RcIiwoKT0+e2UucmVqZWN0VW5hdXRob3JpemVkJiYhci5hdXRob3JpemVkP3IuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiVExTIG5vdCBhdXRob3JpemVkXCIpKTpyLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixpKTt9KTtmdW5jdGlvbiBpKG4pe2UucmVqZWN0VW5hdXRob3JpemVkJiZ0LmVtaXQoXCJlcnJvclwiLG4pLHIuZW5kKCk7fXJldHVybiByLm9uKFwiZXJyb3JcIixpKSxyfTtxaS5kZWZhdWx0PW1TO30pO3ZhciB5bD1NKGdsPT57XygpO3YoKTttKCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGdsLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBSZz0oYmUoKSxYKG1lKSksdlM9anQoKSxFUz1scygpLHl0LHBsLExlO2Z1bmN0aW9uIFNTKCl7bGV0IHQ9bmV3IHZTLlRyYW5zZm9ybTtyZXR1cm4gdC5fd3JpdGU9KGUscixpKT0+e3l0LnNlbmQoe2RhdGE6ZS5idWZmZXIsc3VjY2Vzcygpe2koKTt9LGZhaWwobil7aShuZXcgRXJyb3IobikpO319KTt9LHQuX2ZsdXNoPWU9Pnt5dC5jbG9zZSh7c3VjY2Vzcygpe2UoKTt9fSk7fSx0fWZ1bmN0aW9uIEFTKHQpe3QuaG9zdG5hbWV8fCh0Lmhvc3RuYW1lPVwibG9jYWxob3N0XCIpLHQucGF0aHx8KHQucGF0aD1cIi9cIiksdC53c09wdGlvbnN8fCh0LndzT3B0aW9ucz17fSk7fWZ1bmN0aW9uIElTKHQsZSl7bGV0IHI9dC5wcm90b2NvbD09PVwid3hzXCI/XCJ3c3NcIjpcIndzXCIsaT1gJHtyfTovLyR7dC5ob3N0bmFtZX0ke3QucGF0aH1gO3JldHVybiB0LnBvcnQmJnQucG9ydCE9PTgwJiZ0LnBvcnQhPT00NDMmJihpPWAke3J9Oi8vJHt0Lmhvc3RuYW1lfToke3QucG9ydH0ke3QucGF0aH1gKSx0eXBlb2YgdC50cmFuc2Zvcm1Xc1VybD09XCJmdW5jdGlvblwiJiYoaT10LnRyYW5zZm9ybVdzVXJsKGksdCxlKSksaX1mdW5jdGlvbiBUUygpe3l0Lm9uT3BlbigoKT0+e0xlLnNvY2tldFJlYWR5KCk7fSkseXQub25NZXNzYWdlKHQ9PntsZXR7ZGF0YTplfT10O2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lPVJnLkJ1ZmZlci5mcm9tKGUpOmU9UmcuQnVmZmVyLmZyb20oZSxcInV0ZjhcIikscGwucHVzaChlKTt9KSx5dC5vbkNsb3NlKCgpPT57TGUuZW1pdChcImNsb3NlXCIpLExlLmVuZCgpLExlLmRlc3Ryb3koKTt9KSx5dC5vbkVycm9yKHQ9PntsZXQgZT1uZXcgRXJyb3IodC5lcnJNc2cpO0xlLmRlc3Ryb3koZSk7fSk7fXZhciBSUz0odCxlKT0+e2lmKGUuaG9zdG5hbWU9ZS5ob3N0bmFtZXx8ZS5ob3N0LCFlLmhvc3RuYW1lKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgaG9zdC4gU3BlY2lmeSBob3N0IG1hbnVhbGx5LlwiKTtsZXQgcj1lLnByb3RvY29sSWQ9PT1cIk1RSXNkcFwiJiZlLnByb3RvY29sVmVyc2lvbj09PTM/XCJtcXR0djMuMVwiOlwibXF0dFwiO0FTKGUpO2xldCBpPUlTKGUsdCk7eXQ9d3guY29ubmVjdFNvY2tldCh7dXJsOmkscHJvdG9jb2xzOltyXX0pLHBsPVNTKCksTGU9bmV3IEVTLkJ1ZmZlcmVkRHVwbGV4KGUscGwseXQpLExlLl9kZXN0cm95PShvLHMpPT57eXQuY2xvc2Uoe3N1Y2Nlc3MoKXtzJiZzKG8pO319KTt9O2xldCBuPUxlLmRlc3Ryb3k7cmV0dXJuIExlLmRlc3Ryb3k9KG8scyk9PihMZS5kZXN0cm95PW4sc2V0VGltZW91dCgoKT0+e3l0LmNsb3NlKHtmYWlsKCl7TGUuX2Rlc3Ryb3kobyxzKTt9fSk7fSwwKSxMZSksVFMoKSxMZX07Z2wuZGVmYXVsdD1SUzt9KTt2YXIgX2w9TSh3bD0+e18oKTt2KCk7bSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3bCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYmw9KGJlKCksWChtZSkpLENTPWp0KCksQlM9bHMoKSx4dCxmcyx1aSxDZz0hMTtmdW5jdGlvbiBQUygpe2xldCB0PW5ldyBDUy5UcmFuc2Zvcm07cmV0dXJuIHQuX3dyaXRlPShlLHIsaSk9Pnt4dC5zZW5kU29ja2V0TWVzc2FnZSh7ZGF0YTplLmJ1ZmZlcixzdWNjZXNzKCl7aSgpO30sZmFpbCgpe2kobmV3IEVycm9yKTt9fSk7fSx0Ll9mbHVzaD1lPT57eHQuY2xvc2VTb2NrZXQoe3N1Y2Nlc3MoKXtlKCk7fX0pO30sdH1mdW5jdGlvbiBrUyh0KXt0Lmhvc3RuYW1lfHwodC5ob3N0bmFtZT1cImxvY2FsaG9zdFwiKSx0LnBhdGh8fCh0LnBhdGg9XCIvXCIpLHQud3NPcHRpb25zfHwodC53c09wdGlvbnM9e30pO31mdW5jdGlvbiBPUyh0LGUpe2xldCByPXQucHJvdG9jb2w9PT1cImFsaXNcIj9cIndzc1wiOlwid3NcIixpPWAke3J9Oi8vJHt0Lmhvc3RuYW1lfSR7dC5wYXRofWA7cmV0dXJuIHQucG9ydCYmdC5wb3J0IT09ODAmJnQucG9ydCE9PTQ0MyYmKGk9YCR7cn06Ly8ke3QuaG9zdG5hbWV9OiR7dC5wb3J0fSR7dC5wYXRofWApLHR5cGVvZiB0LnRyYW5zZm9ybVdzVXJsPT1cImZ1bmN0aW9uXCImJihpPXQudHJhbnNmb3JtV3NVcmwoaSx0LGUpKSxpfWZ1bmN0aW9uIHhTKCl7Q2d8fChDZz0hMCx4dC5vblNvY2tldE9wZW4oKCk9Pnt1aS5zb2NrZXRSZWFkeSgpO30pLHh0Lm9uU29ja2V0TWVzc2FnZSh0PT57aWYodHlwZW9mIHQuZGF0YT09XCJzdHJpbmdcIil7bGV0IGU9YmwuQnVmZmVyLmZyb20odC5kYXRhLFwiYmFzZTY0XCIpO2ZzLnB1c2goZSk7fWVsc2Uge2xldCBlPW5ldyBGaWxlUmVhZGVyO2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKT0+e2xldCByPWUucmVzdWx0O3IgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9yPWJsLkJ1ZmZlci5mcm9tKHIpOnI9YmwuQnVmZmVyLmZyb20ocixcInV0ZjhcIiksZnMucHVzaChyKTt9KSxlLnJlYWRBc0FycmF5QnVmZmVyKHQuZGF0YSk7fX0pLHh0Lm9uU29ja2V0Q2xvc2UoKCk9Pnt1aS5lbmQoKSx1aS5kZXN0cm95KCk7fSkseHQub25Tb2NrZXRFcnJvcih0PT57dWkuZGVzdHJveSh0KTt9KSk7fXZhciBNUz0odCxlKT0+e2lmKGUuaG9zdG5hbWU9ZS5ob3N0bmFtZXx8ZS5ob3N0LCFlLmhvc3RuYW1lKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgaG9zdC4gU3BlY2lmeSBob3N0IG1hbnVhbGx5LlwiKTtsZXQgcj1lLnByb3RvY29sSWQ9PT1cIk1RSXNkcFwiJiZlLnByb3RvY29sVmVyc2lvbj09PTM/XCJtcXR0djMuMVwiOlwibXF0dFwiO2tTKGUpO2xldCBpPU9TKGUsdCk7cmV0dXJuIHh0PWUubXkseHQuY29ubmVjdFNvY2tldCh7dXJsOmkscHJvdG9jb2xzOnJ9KSxmcz1QUygpLHVpPW5ldyBCUy5CdWZmZXJlZER1cGxleChlLGZzLHh0KSx4UygpLHVpfTt3bC5kZWZhdWx0PU1TO30pO3ZhciBrZz1NKEJyPT57XygpO3YoKTttKCk7dmFyIGNzPUJyJiZCci5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KEJyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO0JyLmNvbm5lY3RBc3luYz12b2lkIDA7dmFyIExTPWNzKG90KCkpLFVTPWNzKCh5ZygpLFgoZ2cpKSksTlM9Y3Mob3MoKSkscVM9Y3MoT2koKSk7dHlwZW9mKEI9PT1udWxsfHxCPT09dm9pZCAwP3ZvaWQgMDpCLm5leHRUaWNrKSE9XCJmdW5jdGlvblwiJiYoQi5uZXh0VGljaz1zZXRJbW1lZGlhdGUpO3ZhciBCZz0oMCwgTFMuZGVmYXVsdCkoXCJtcXR0anNcIiksZGU9bnVsbDtmdW5jdGlvbiBEUyh0KXtsZXQgZTt0LmF1dGgmJihlPXQuYXV0aC5tYXRjaCgvXiguKyk6KC4rKSQvKSxlPyh0LnVzZXJuYW1lPWVbMV0sdC5wYXNzd29yZD1lWzJdKTp0LnVzZXJuYW1lPXQuYXV0aCk7fWZ1bmN0aW9uIFBnKHQsZSl7dmFyIHIsaSxuLG87aWYoQmcoXCJjb25uZWN0aW5nIHRvIGFuIE1RVFQgYnJva2VyLi4uXCIpLHR5cGVvZiB0PT1cIm9iamVjdFwiJiYhZSYmKGU9dCx0PVwiXCIpLGU9ZXx8e30sdCYmdHlwZW9mIHQ9PVwic3RyaW5nXCIpe2xldCBsPVVTLmRlZmF1bHQucGFyc2UodCwhMCksYz17fTtpZihsLnBvcnQhPW51bGwmJihjLnBvcnQ9TnVtYmVyKGwucG9ydCkpLGMuaG9zdD1sLmhvc3RuYW1lLGMucXVlcnk9bC5xdWVyeSxjLmF1dGg9bC5hdXRoLGMucHJvdG9jb2w9bC5wcm90b2NvbCxjLnBhdGg9bC5wYXRoLGMucHJvdG9jb2w9KHI9Yy5wcm90b2NvbCk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnJlcGxhY2UoLzokLyxcIlwiKSxlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxjKSxlKSwhZS5wcm90b2NvbCl0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHByb3RvY29sXCIpfWlmKGUudW5peFNvY2tldD1lLnVuaXhTb2NrZXR8fCgoaT1lLnByb3RvY29sKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuaW5jbHVkZXMoXCIrdW5peFwiKSksZS51bml4U29ja2V0P2UucHJvdG9jb2w9ZS5wcm90b2NvbC5yZXBsYWNlKFwiK3VuaXhcIixcIlwiKTohKCEoKG49ZS5wcm90b2NvbCk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5zdGFydHNXaXRoKFwid3NcIikpJiYhKCEoKG89ZS5wcm90b2NvbCk9PT1udWxsfHxvPT09dm9pZCAwKSYmby5zdGFydHNXaXRoKFwid3hcIikpJiZkZWxldGUgZS5wYXRoLERTKGUpLGUucXVlcnkmJnR5cGVvZiBlLnF1ZXJ5LmNsaWVudElkPT1cInN0cmluZ1wiJiYoZS5jbGllbnRJZD1lLnF1ZXJ5LmNsaWVudElkKSxlLmNlcnQmJmUua2V5KWlmKGUucHJvdG9jb2wpe2lmKFtcIm1xdHRzXCIsXCJ3c3NcIixcInd4c1wiLFwiYWxpc1wiXS5pbmRleE9mKGUucHJvdG9jb2wpPT09LTEpc3dpdGNoKGUucHJvdG9jb2wpe2Nhc2VcIm1xdHRcIjplLnByb3RvY29sPVwibXF0dHNcIjticmVhaztjYXNlXCJ3c1wiOmUucHJvdG9jb2w9XCJ3c3NcIjticmVhaztjYXNlXCJ3eFwiOmUucHJvdG9jb2w9XCJ3eHNcIjticmVhaztjYXNlXCJhbGlcIjplLnByb3RvY29sPVwiYWxpc1wiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHByb3RvY29sIGZvciBzZWN1cmUgY29ubmVjdGlvbjogXCIke2UucHJvdG9jb2x9XCIhYCl9fWVsc2UgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZWN1cmUgcHJvdG9jb2wga2V5XCIpO2lmKGRlfHwoZGU9e30sIXFTLmRlZmF1bHQmJiFlLmZvcmNlTmF0aXZlV2ViU29ja2V0PyhkZS53cz1VaSgpLnN0cmVhbUJ1aWxkZXIsZGUud3NzPVVpKCkuc3RyZWFtQnVpbGRlcixkZS5tcXR0PWNsKCkuZGVmYXVsdCxkZS50Y3A9Y2woKS5kZWZhdWx0LGRlLnNzbD1kbCgpLmRlZmF1bHQsZGUudGxzPWRlLnNzbCxkZS5tcXR0cz1kbCgpLmRlZmF1bHQpOihkZS53cz1VaSgpLmJyb3dzZXJTdHJlYW1CdWlsZGVyLGRlLndzcz1VaSgpLmJyb3dzZXJTdHJlYW1CdWlsZGVyLGRlLnd4PXlsKCkuZGVmYXVsdCxkZS53eHM9eWwoKS5kZWZhdWx0LGRlLmFsaT1fbCgpLmRlZmF1bHQsZGUuYWxpcz1fbCgpLmRlZmF1bHQpKSwhZGVbZS5wcm90b2NvbF0pe2xldCBsPVtcIm1xdHRzXCIsXCJ3c3NcIl0uaW5kZXhPZihlLnByb3RvY29sKSE9PS0xO2UucHJvdG9jb2w9W1wibXF0dFwiLFwibXF0dHNcIixcIndzXCIsXCJ3c3NcIixcInd4XCIsXCJ3eHNcIixcImFsaVwiLFwiYWxpc1wiXS5maWx0ZXIoKGMsaCk9PmwmJmglMj09PTA/ITE6dHlwZW9mIGRlW2NdPT1cImZ1bmN0aW9uXCIpWzBdO31pZihlLmNsZWFuPT09ITEmJiFlLmNsaWVudElkKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgY2xpZW50SWQgZm9yIHVuY2xlYW4gY2xpZW50c1wiKTtlLnByb3RvY29sJiYoZS5kZWZhdWx0UHJvdG9jb2w9ZS5wcm90b2NvbCk7ZnVuY3Rpb24gcyhsKXtyZXR1cm4gZS5zZXJ2ZXJzJiYoKCFsLl9yZWNvbm5lY3RDb3VudHx8bC5fcmVjb25uZWN0Q291bnQ9PT1lLnNlcnZlcnMubGVuZ3RoKSYmKGwuX3JlY29ubmVjdENvdW50PTApLGUuaG9zdD1lLnNlcnZlcnNbbC5fcmVjb25uZWN0Q291bnRdLmhvc3QsZS5wb3J0PWUuc2VydmVyc1tsLl9yZWNvbm5lY3RDb3VudF0ucG9ydCxlLnByb3RvY29sPWUuc2VydmVyc1tsLl9yZWNvbm5lY3RDb3VudF0ucHJvdG9jb2w/ZS5zZXJ2ZXJzW2wuX3JlY29ubmVjdENvdW50XS5wcm90b2NvbDplLmRlZmF1bHRQcm90b2NvbCxlLmhvc3RuYW1lPWUuaG9zdCxsLl9yZWNvbm5lY3RDb3VudCsrKSxCZyhcImNhbGxpbmcgc3RyZWFtYnVpbGRlciBmb3JcIixlLnByb3RvY29sKSxkZVtlLnByb3RvY29sXShsLGUpfWxldCBhPW5ldyBOUy5kZWZhdWx0KHMsZSk7cmV0dXJuIGEub24oXCJlcnJvclwiLCgpPT57fSksYX1mdW5jdGlvbiBqUyh0LGUscj0hMCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLG4pPT57bGV0IG89UGcodCxlKSxzPXtjb25uZWN0Omw9PnthKCksaShvKTt9LGVuZDooKT0+e2EoKSxpKG8pO30sZXJyb3I6bD0+e2EoKSxvLmVuZCgpLG4obCk7fX07cj09PSExJiYocy5jbG9zZT0oKT0+e3MuZXJyb3IobmV3IEVycm9yKFwiQ291bGRuJ3QgY29ubmVjdCB0byBzZXJ2ZXJcIikpO30pO2Z1bmN0aW9uIGEoKXtPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGw9PntvLm9mZihsLHNbbF0pO30pO31PYmplY3Qua2V5cyhzKS5mb3JFYWNoKGw9PntvLm9uKGwsc1tsXSk7fSk7fSl9QnIuY29ubmVjdEFzeW5jPWpTO0JyLmRlZmF1bHQ9UGc7fSk7dmFyIG1sPU0oRz0+e18oKTt2KCk7bSgpO3ZhciBPZz1HJiZHLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9cik7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpOyghbnx8KFwiZ2V0XCJpbiBuPyFlLl9fZXNNb2R1bGU6bi53cml0YWJsZXx8bi5jb25maWd1cmFibGUpKSYmKG49e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbcl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxuKTt9OmZ1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpLHRbaV09ZVtyXTt9KSxGUz1HJiZHLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSk7fTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lO30pLFdTPUcmJkcuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIHIgaW4gdClyIT09XCJkZWZhdWx0XCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiZPZyhlLHQscik7cmV0dXJuIEZTKGUsdCksZX0seGc9RyYmRy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIHQpciE9PVwiZGVmYXVsdFwiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJk9nKGUsdCxyKTt9LERpPUcmJkcuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShHLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO0cuUmVhc29uQ29kZXM9Ry5LZWVwYWxpdmVNYW5hZ2VyPUcuVW5pcXVlTWVzc2FnZUlkUHJvdmlkZXI9Ry5EZWZhdWx0TWVzc2FnZUlkUHJvdmlkZXI9Ry5TdG9yZT1HLk1xdHRDbGllbnQ9Ry5jb25uZWN0QXN5bmM9Ry5jb25uZWN0PUcuQ2xpZW50PXZvaWQgMDt2YXIgTWc9RGkob3MoKSk7Ry5NcXR0Q2xpZW50PU1nLmRlZmF1bHQ7dmFyICRTPURpKFpvKCkpO0cuRGVmYXVsdE1lc3NhZ2VJZFByb3ZpZGVyPSRTLmRlZmF1bHQ7dmFyIEhTPURpKFZwKCkpO0cuVW5pcXVlTWVzc2FnZUlkUHJvdmlkZXI9SFMuZGVmYXVsdDt2YXIgVlM9RGkocmEoKSk7Ry5TdG9yZT1WUy5kZWZhdWx0O3ZhciBMZz1XUyhrZygpKTtHLmNvbm5lY3Q9TGcuZGVmYXVsdDtPYmplY3QuZGVmaW5lUHJvcGVydHkoRyxcImNvbm5lY3RBc3luY1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBMZy5jb25uZWN0QXN5bmN9fSk7dmFyIHpTPURpKFdhKCkpO0cuS2VlcGFsaXZlTWFuYWdlcj16Uy5kZWZhdWx0O0cuQ2xpZW50PU1nLmRlZmF1bHQ7eGcob3MoKSxHKTt4ZyhfcigpLEcpO3ZhciBLUz1UaSgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShHLFwiUmVhc29uQ29kZXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gS1MuUmVhc29uQ29kZXN9fSk7fSk7dmFyIFhTPU0oV2U9PntfKCk7digpO20oKTt2YXIgVWc9V2UmJldlLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlLHIsaSl7aT09PXZvaWQgMCYmKGk9cik7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpOyghbnx8KFwiZ2V0XCJpbiBuPyFlLl9fZXNNb2R1bGU6bi53cml0YWJsZXx8bi5jb25maWd1cmFibGUpKSYmKG49e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbcl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxuKTt9OmZ1bmN0aW9uKHQsZSxyLGkpe2k9PT12b2lkIDAmJihpPXIpLHRbaV09ZVtyXTt9KSxHUz1XZSYmV2UuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KTt9OmZ1bmN0aW9uKHQsZSl7dC5kZWZhdWx0PWU7fSksUVM9V2UmJldlLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKHQhPW51bGwpZm9yKHZhciByIGluIHQpciE9PVwiZGVmYXVsdFwiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmVWcoZSx0LHIpO3JldHVybiBHUyhlLHQpLGV9LFlTPVdlJiZXZS5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIHQpciE9PVwiZGVmYXVsdFwiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJlVnKGUsdCxyKTt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShXZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSlM9UVMobWwoKSk7V2UuZGVmYXVsdD1KUztZUyhtbCgpLFdlKTt9KTt2YXIgbXF0dCA9IFhTKCk7XG4vKiEgQnVuZGxlZCBsaWNlbnNlIGluZm9ybWF0aW9uOlxuXG5AanNwbS9jb3JlL25vZGVsaWJzL2Jyb3dzZXIvYnVmZmVyLmpzOlxuICAoKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqKVxuKi9cblxuY2xhc3MgQ2xvdWRJbnRlcm9wQVBJRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29kZTtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ0FuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkJywgY29kZSA9ICdVTkVYUEVDVEVEX0VSUk9SJywgY2F1c2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgeyBjYXVzZTogY2F1c2UgfSk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG5jbGFzcyBBdXRob3JpemF0aW9uRXJyb3IgZXh0ZW5kcyBDbG91ZEludGVyb3BBUElFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSA9ICdOb3QgYXV0aG9yaXplZCcsIGNvZGUgPSAnRVJSX1VOQVVUSE9SSVpFRCcpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgY29kZSwgdW5kZWZpbmVkKTtcbiAgICB9XG59XG5cbi8vIEVycm9yIGNvZGVzIGFzIGRlZmluZWQgaW4gaHR0cHM6Ly9kb2NzLmVtcXguY29tL2VuL2Nsb3VkL2xhdGVzdC9jb25uZWN0X3RvX2RlcGxveW1lbnRzL21xdHRfY2xpZW50X2Vycm9yX2NvZGVzLmh0bWxcbmNvbnN0IEJhZFVzZXJOYW1lUGFzc3dvcmRFcnJvciA9IDEzNDtcbi8qKlxuICogUmVwcmVzZW50cyBhIHNpbmdsZSBjb25uZWN0aW9uIHRvIGEgQ2xvdWQgSW50ZXJvcCBzZXJ2aWNlXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIENsb3VkSW50ZXJvcEFQSVxuICogQGltcGxlbWVudHMge0NsaWVudH1cbiAqL1xuY2xhc3MgQ2xvdWRJbnRlcm9wQVBJIHtcbiAgICAjY2xvdWRJbnRlcm9wU2V0dGluZ3M7XG4gICAgI3Nlc3Npb25EZXRhaWxzO1xuICAgICNtcXR0Q2xpZW50O1xuICAgICNyZWNvbm5lY3RSZXRyeUxpbWl0ID0gMzA7XG4gICAgI2tlZXBBbGl2ZUludGVydmFsU2Vjb25kcyA9IDMwO1xuICAgICNsb2dnZXIgPSAobGV2ZWwsIG1lc3NhZ2UpID0+IHtcbiAgICAgICAgY29uc29sZVtsZXZlbF0obWVzc2FnZSk7XG4gICAgfTtcbiAgICAjcmVjb25uZWN0UmV0cmllcyA9IDA7XG4gICAgI2Nvbm5lY3Rpb25QYXJhbXM7XG4gICAgI2V2ZW50TGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgICNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcihjbG91ZEludGVyb3BTZXR0aW5ncykge1xuICAgICAgICB0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncyA9IGNsb3VkSW50ZXJvcFNldHRpbmdzO1xuICAgIH1cbiAgICBnZXQgc2Vzc2lvbkRldGFpbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzZXNzaW9uRGV0YWlscztcbiAgICB9XG4gICAgZ2V0IG1xdHRDbGllbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNtcXR0Q2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyBhbmQgY3JlYXRlcyBhIHNlc3Npb24gb24gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtDb25uZWN0UGFyYW1ldGVyc30gcGFyYW1ldGVycyAtIFRoZSBwYXJhbWV0ZXJzIHRvIHVzZSB0byBjb25uZWN0XG4gICAgICogQHJldHVybiB7Kn0gIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BBUElcbiAgICAgKiBAdGhyb3dzIHtDbG91ZEludGVyb3BBUElFcnJvcn0gLSBJZiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGNvbm5lY3Rpb25cbiAgICAgKiBAdGhyb3dzIHtBdXRob3JpemF0aW9uRXJyb3J9IC0gSWYgdGhlIGNvbm5lY3Rpb24gaXMgdW5hdXRob3JpemVkXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdChwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHRoaXMuI3ZhbGlkYXRlQ29ubmVjdFBhcmFtcyhwYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy4jY29ubmVjdGlvblBhcmFtcyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMuI3JlY29ubmVjdFJldHJ5TGltaXQgPSBwYXJhbWV0ZXJzLnJlY29ubmVjdFJldHJ5TGltaXQgfHwgdGhpcy4jcmVjb25uZWN0UmV0cnlMaW1pdDtcbiAgICAgICAgdGhpcy4ja2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzID0gcGFyYW1ldGVycy5rZWVwQWxpdmVJbnRlcnZhbFNlY29uZHMgfHwgdGhpcy4ja2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzO1xuICAgICAgICB0aGlzLiNsb2dnZXIgPSBwYXJhbWV0ZXJzLmxvZ2dlciB8fCB0aGlzLiNsb2dnZXI7XG4gICAgICAgIGNvbnN0IHsgc291cmNlSWQsIHBsYXRmb3JtSWQgfSA9IHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjcmVhdGVTZXNzaW9uUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke3RoaXMuI2Nsb3VkSW50ZXJvcFNldHRpbmdzLnVybH0vYXBpL3Nlc3Npb25zYCwge1xuICAgICAgICAgICAgICAgIHNvdXJjZUlkLFxuICAgICAgICAgICAgICAgIHBsYXRmb3JtSWQsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy4jZ2V0UmVxdWVzdEhlYWRlcnMoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNyZWF0ZVNlc3Npb25SZXNwb25zZS5zdGF0dXMgIT09IDIwMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDbG91ZEludGVyb3BBUElFcnJvcihgRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIENsb3VkIEludGVyb3Agc2VydmljZTogJHt0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncy51cmx9YCwgJ0VSUl9DT05ORUNUJywgY3JlYXRlU2Vzc2lvblJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiNzZXNzaW9uRGV0YWlscyA9IGNyZWF0ZVNlc3Npb25SZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblJvb3RUb3BpYyA9IHRoaXMuI3Nlc3Npb25EZXRhaWxzLnNlc3Npb25Sb290VG9waWM7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGtlZXBhbGl2ZTogdGhpcy4ja2VlcEFsaXZlSW50ZXJ2YWxTZWNvbmRzLFxuICAgICAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLiNzZXNzaW9uRGV0YWlscy5zZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgY2xlYW46IHRydWUsXG4gICAgICAgICAgICAgICAgcHJvdG9jb2xWZXJzaW9uOiA1LFxuICAgICAgICAgICAgICAgIC8vIFRoZSBcIndpbGxcIiBtZXNzYWdlIHdpbGwgYmUgcHVibGlzaGVkIG9uIGFuIHVuZXhwZWN0ZWQgZGlzY29ubmVjdGlvblxuICAgICAgICAgICAgICAgIC8vIFRoZSBzZXJ2ZXIgY2FuIHRoZW4gdGlkeSB1cC4gIFNvIGl0IG5lZWRzIGV2ZXJ5IGZvciB0aGlzIGNsaWVudCB0byBkbyB0aGF0LCB0aGUgc2Vzc2lvbiBkZXRhaWxzIGlzIHBlcmZlY3RcbiAgICAgICAgICAgICAgICB3aWxsOiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcGljOiAnaW50ZXJvcC9sYXN0d2lsbCcsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHRoaXMuI3Nlc3Npb25EZXRhaWxzKSksXG4gICAgICAgICAgICAgICAgICAgIHFvczogMCxcbiAgICAgICAgICAgICAgICAgICAgcmV0YWluOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lsbERlbGF5SW50ZXJ2YWw6IDEwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuI3Nlc3Npb25EZXRhaWxzLnRva2VuLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQgPSBhd2FpdCBtcXR0LmNvbm5lY3RBc3luYyh0aGlzLiNzZXNzaW9uRGV0YWlscy51cmwsIGNsaWVudE9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCdsb2cnLCBgQ2xvdWQgSW50ZXJvcCBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvICR7dGhpcy4jY2xvdWRJbnRlcm9wU2V0dGluZ3MudXJsfWApO1xuICAgICAgICAgICAgdGhpcy4jbXF0dENsaWVudC5vbignZXJyb3InLCBhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXZSB3aWxsIHJlY2VpdmUgZXJyb3JzIGZvciBlYWNoIGZhaWxlZCByZWNvbm5lY3Rpb24gYXR0ZW1wdFxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdvbid0IHRvIGRpc2Nvbm5lY3Qgb24gdGhlc2UgZWxzZSB3ZSB3aWxsIG5ldmVyIHJlY29ubmVjdFxuICAgICAgICAgICAgICAgIGlmICghdGhpcy4jYXR0ZW1wdGluZ1RvUmVjb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI2Rpc2Nvbm5lY3QoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBtcXR0LkVycm9yV2l0aFJlYXNvbkNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEJhZFVzZXJOYW1lUGFzc3dvcmRFcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI2Rpc2Nvbm5lY3QoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignd2FybicsIGBTZXNzaW9uIGV4cGlyZWRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNlbWl0RXZlbnQoJ3Nlc3Npb24tZXhwaXJlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ2Vycm9yJywgYFVua25vd24gSW5mcmFzdHJ1Y3R1cmUgRXJyb3IgQ29kZSAke2Vycm9yLmNvZGV9IDogJHtlcnJvci5tZXNzYWdlfSR7dGhpcy4jYXR0ZW1wdGluZ1RvUmVjb25uZWN0ID8gJyBkdXJpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHQnIDogJyd9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXMgd2UgYXJlIGluIHRoZSBtaWRkbGUgb2YgYSByZWNvbm5lY3QsIGxldHMgbm90IGVtaXQgYW4gZXJyb3IgdG8gY3V0IGRvd24gb24gdGhlIGV2ZW50IG5vaXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jZW1pdEV2ZW50KCdlcnJvcicsIG5ldyBDbG91ZEludGVyb3BBUElFcnJvcihgVW5rbm93biBJbmZyYXN0cnVjdHVyZSBFcnJvciBDb2RlICR7ZXJyb3IuY29kZX0gOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ0VSUl9JTkZSQVNUUlVDVFVSRScsIGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCdlcnJvcicsIGBVbmtub3duIEVycm9yJHt0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPyAnIGR1cmluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdCcgOiAnJ306ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzIHdlIGFyZSBpbiB0aGUgbWlkZGxlIG9mIGEgcmVjb25uZWN0LCBsZXRzIG5vdCBlbWl0IGFuIGVycm9yIHRvIGN1dCBkb3duIG9uIHRoZSBldmVudCBub2lzZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuI2F0dGVtcHRpbmdUb1JlY29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jZW1pdEV2ZW50KCdlcnJvcicsIG5ldyBDbG91ZEludGVyb3BBUElFcnJvcihgVW5rbm93biBFcnJvcmAsICdFUlJfVU5LTk9XTicsIGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQub24oJ3JlY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuI3JlY29ubmVjdFJldHJpZXMgKz0gMTtcbiAgICAgICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ2RlYnVnJywgYENsb3VkIEludGVyb3AgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24gLSAke3RoaXMuI3JlY29ubmVjdFJldHJpZXN9Li4uYCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI3JlY29ubmVjdFJldHJpZXMgPT09IHRoaXMuI3JlY29ubmVjdFJldHJ5TGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jbG9nZ2VyKCd3YXJuJywgYENsb3VkIEludGVyb3AgcmVhY2hlZCBtYXggcmVjb25uZWN0aW9uIGF0dGVtcHRzIC0gJHt0aGlzLiNyZWNvbm5lY3RSZXRyeUxpbWl0fS4uLmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNkaXNjb25uZWN0KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiNlbWl0RXZlbnQoJ3JlY29ubmVjdGluZycsIHRoaXMuI3JlY29ubmVjdFJldHJpZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBEb2VzIG5vdCBmaXJlIG9uIGluaXRpYWwgY29ubmVjdGlvbiwgb25seSBzdWNjZXNzZnVsIHJlY29ubmVjdGlvbiBhdHRlbXB0c1xuICAgICAgICAgICAgdGhpcy4jbXF0dENsaWVudC5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNsb2dnZXIoJ2RlYnVnJywgYENsb3VkIEludGVyb3Agc3VjY2Vzc2Z1bGx5IHJlY29ubmVjdGVkIGFmdGVyICR7dGhpcy4jcmVjb25uZWN0UmV0cmllc30gYXR0ZW1wdHNgKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNyZWNvbm5lY3RSZXRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLiNlbWl0RXZlbnQoJ3JlY29ubmVjdGVkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQub24oJ21lc3NhZ2UnLCAodG9waWMsIG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuI3Nlc3Npb25EZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2xvZ2dlcignd2FybicsICdSZWNlaXZlZCBtZXNzYWdlIHdoZW4gc2Vzc2lvbiBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy4jaGFuZGxlQ29tbWFuZCh0b3BpYywgbWVzc2FnZSwgdGhpcy4jc2Vzc2lvbkRldGFpbHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gYWxsIGNvbnRleHQgZ3JvdXBzXG4gICAgICAgICAgICB0aGlzLiNtcXR0Q2xpZW50LnN1YnNjcmliZShgJHtzZXNzaW9uUm9vdFRvcGljfS9jb250ZXh0LWdyb3Vwcy8jYCk7XG4gICAgICAgICAgICAvLyBMaXN0ZW4gb3V0IGZvciBnbG9iYWwgY29tbWFuZHNcbiAgICAgICAgICAgIHRoaXMuI21xdHRDbGllbnQuc3Vic2NyaWJlKGAke3Nlc3Npb25Sb290VG9waWN9L2NvbW1hbmRzYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEgfHwgZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRob3JpemF0aW9uRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENsb3VkSW50ZXJvcEFQSUVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyBmcm9tIHRoZSBDbG91ZCBJbnRlcm9wIHNlcnZpY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4geyp9ICB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKiBAbWVtYmVyb2YgQ2xvdWRJbnRlcm9wQVBJXG4gICAgICogQHRocm93cyB7Q2xvdWRJbnRlcm9wQVBJRXJyb3J9IC0gSWYgYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBkaXNjb25uZWN0aW9uXG4gICAgICovXG4gICAgYXN5bmMgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy4jZGlzY29ubmVjdCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIGEgbmV3IGNvbnRleHQgZm9yIHRoZSBnaXZlbiBjb250ZXh0IGdyb3VwIHRvIHRoZSBvdGhlciBjb25uZWN0ZWQgc2Vzc2lvbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZXh0R3JvdXAgLSBUaGUgY29udGV4dCBncm91cCB0byBwdWJsaXNoIHRvXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBUaGUgY29udGV4dCB0byBwdWJsaXNoXG4gICAgICogQHJldHVybiB7Kn0gIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqIEBtZW1iZXJvZiBDbG91ZEludGVyb3BBUElcbiAgICAgKi9cbiAgICBhc3luYyBzZXRDb250ZXh0KGNvbnRleHRHcm91cCwgY29udGV4dCkge1xuICAgICAgICBpZiAoIXRoaXMuI3Nlc3Npb25EZXRhaWxzIHx8ICF0aGlzLiNjb25uZWN0aW9uUGFyYW1zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb24gbm90IGNvbm5lY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCBheGlvcy5wb3N0KGAke3RoaXMuI2Nsb3VkSW50ZXJvcFNldHRpbmdzLnVybH0vYXBpL2NvbnRleHQtZ3JvdXBzLyR7dGhpcy4jc2Vzc2lvbkRldGFpbHMuc2Vzc2lvbklkfS8ke2NvbnRleHRHcm91cH1gLCBwYXlsb2FkLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLiNnZXRSZXF1ZXN0SGVhZGVycygpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLiNldmVudExpc3RlbmVycy5nZXQodHlwZSkgfHwgW107XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy4jZXZlbnRMaXN0ZW5lcnMuc2V0KHR5cGUsIGxpc3RlbmVycyk7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy4jZXZlbnRMaXN0ZW5lcnMuZ2V0KHR5cGUpIHx8IFtdO1xuICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jZXZlbnRMaXN0ZW5lcnMuc2V0KHR5cGUsIGxpc3RlbmVycyk7XG4gICAgfVxuICAgIGFzeW5jICNkaXNjb25uZWN0KGZpcmVEaXNjb25uZWN0ZWRFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuI3Nlc3Npb25EZXRhaWxzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2Nvbm5lY3RSZXNwb25zZSA9IGF3YWl0IGF4aW9zLmRlbGV0ZShgJHt0aGlzLiNjbG91ZEludGVyb3BTZXR0aW5ncy51cmx9L2FwaS9zZXNzaW9ucy8ke3RoaXMuI3Nlc3Npb25EZXRhaWxzLnNlc3Npb25JZH1gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy4jZ2V0UmVxdWVzdEhlYWRlcnMoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGRpc2Nvbm5lY3RSZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDbG91ZEludGVyb3BBUElFcnJvcignRXJyb3IgZHVyaW5nIHNlc3Npb24gdGVhciBkb3duIC0gdW5leHBlY3RlZCBzdGF0dXMnLCAnRVJSX0RJU0NPTk5FQ1QnLCBkaXNjb25uZWN0UmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ2xvdWRJbnRlcm9wQVBJRXJyb3IoJ0Vycm9yIGR1cmluZyBkaXNjb25uZWN0aW9uJywgJ0VSUl9ESVNDT05ORUNUJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLiNtcXR0Q2xpZW50Py5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI21xdHRDbGllbnQ/LmVuZEFzeW5jKHRydWUpO1xuICAgICAgICAgICAgdGhpcy4jc2Vzc2lvbkRldGFpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLiNtcXR0Q2xpZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy4jcmVjb25uZWN0UmV0cmllcyA9IDA7XG4gICAgICAgICAgICB0aGlzLiNhdHRlbXB0aW5nVG9SZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChmaXJlRGlzY29ubmVjdGVkRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNlbWl0RXZlbnQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgICNoYW5kbGVDb21tYW5kKHRvcGljLCBtZXNzYWdlLCBzZXNzaW9uRGV0YWlscykge1xuICAgICAgICBpZiAobWVzc2FnZS5sZW5ndGggPT09IDAgfHwgIXNlc3Npb25EZXRhaWxzKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgY2xlYW4gdXAgbWVzc2FnZXNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXNzYWdlRW52ZWxvcGUgPSBKU09OLnBhcnNlKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmICh0b3BpYy5zdGFydHNXaXRoKGAke3Nlc3Npb25EZXRhaWxzLnNlc3Npb25Sb290VG9waWN9L2NvbnRleHQtZ3JvdXBzL2ApKSB7XG4gICAgICAgICAgICBpZiAobWVzc2FnZUVudmVsb3BlLnNvdXJjZS5zZXNzaW9uSWQgPT09IHNlc3Npb25EZXRhaWxzLnNlc3Npb25JZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY2hhbm5lbE5hbWU6IGNvbnRleHRHcm91cCwgcGF5bG9hZDogY29udGV4dCwgc291cmNlLCBoaXN0b3J5IH0gPSBtZXNzYWdlRW52ZWxvcGU7XG4gICAgICAgICAgICB0aGlzLiNlbWl0RXZlbnQoJ2NvbnRleHQnLCB7IGNvbnRleHRHcm91cCwgY29udGV4dCwgc291cmNlLCBoaXN0b3J5OiB7IC4uLmhpc3RvcnksIGNsaWVudFJlY2VpdmVkOiBEYXRlLm5vdygpIH0gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI2VtaXRFdmVudCh0eXBlLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuI2V2ZW50TGlzdGVuZXJzLmdldCh0eXBlKSB8fCBbXTtcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lciguLi5hcmdzKSk7XG4gICAgfVxuICAgICN2YWxpZGF0ZUNvbm5lY3RQYXJhbXMgPSAocGFyYW1ldGVycykgPT4ge1xuICAgICAgICBpZiAoIXBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29ubmVjdCBwYXJhbWV0ZXJzIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1ldGVycy5hdXRoZW50aWNhdGlvblR5cGUgPT09ICdqd3QnICYmXG4gICAgICAgICAgICAoIXBhcmFtZXRlcnMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzPy5qd3RSZXF1ZXN0Q2FsbGJhY2sgfHwgIXBhcmFtZXRlcnMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzPy5hdXRoZW50aWNhdGlvbklkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMgbXVzdCBiZSBwcm92aWRlZCB3aGVuIHVzaW5nIGp3dCBhdXRoZW50aWNhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLmF1dGhlbnRpY2F0aW9uVHlwZSA9PT0gJ2Jhc2ljJyAmJlxuICAgICAgICAgICAgKCFwYXJhbWV0ZXJzLmJhc2ljQXV0aGVudGljYXRpb25QYXJhbWV0ZXJzPy51c2VybmFtZSB8fCAhcGFyYW1ldGVycy5iYXNpY0F1dGhlbnRpY2F0aW9uUGFyYW1ldGVycz8ucGFzc3dvcmQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Jhc2ljQXV0aGVudGljYXRpb25QYXJhbWV0ZXJzIG11c3QgYmUgcHJvdmlkZWQgd2hlbiB1c2luZyBiYXNpYyBhdXRoZW50aWNhdGlvbicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAjZ2V0UmVxdWVzdEhlYWRlcnMgPSAoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy4jY29ubmVjdGlvblBhcmFtcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25uZWN0IHBhcmFtZXRlcnMgbXVzdCBiZSBwcm92aWRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgQXhpb3NIZWFkZXJzKCk7XG4gICAgICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICBpZiAodGhpcy4jY29ubmVjdGlvblBhcmFtcy5hdXRoZW50aWNhdGlvblR5cGUgPT09ICdqd3QnICYmIHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlblJlc3VsdCA9IHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMuand0QXV0aGVudGljYXRpb25QYXJhbWV0ZXJzLmp3dFJlcXVlc3RDYWxsYmFjaygpO1xuICAgICAgICAgICAgaWYgKCF0b2tlblJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignand0UmVxdWVzdENhbGxiYWNrIG11c3QgcmV0dXJuIGEgdG9rZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWRlcnNbJ3gtb2YtYXV0aC1pZCddID0gdGhpcy4jY29ubmVjdGlvblBhcmFtcy5qd3RBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMuYXV0aGVudGljYXRpb25JZDtcbiAgICAgICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIHRva2VuUmVzdWx0ID09PSAnc3RyaW5nJyA/IGBCZWFyZXIgJHt0b2tlblJlc3VsdH1gIDogYEJlYXJlciAke0J1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHRva2VuUmVzdWx0KSkudG9TdHJpbmcoJ2Jhc2U2NCcpfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMuYXV0aGVudGljYXRpb25UeXBlID09PSAnYmFzaWMnICYmIHRoaXMuI2Nvbm5lY3Rpb25QYXJhbXMuYmFzaWNBdXRoZW50aWNhdGlvblBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSB0aGlzLiNjb25uZWN0aW9uUGFyYW1zLmJhc2ljQXV0aGVudGljYXRpb25QYXJhbWV0ZXJzO1xuICAgICAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJhc2ljICR7QnVmZmVyLmZyb20oYCR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9YCkudG9TdHJpbmcoJ2Jhc2U2NCcpfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBFbmhhbmNlcyBJbnRlcm9wQnJva2VyIHdpdGggQ2xvdWQgSW50ZXJvcCBmdW5jdGlvbmFsaXR5XG4gKiBAcGFyYW0ge0Nsb3VkSW50ZXJvcE92ZXJyaWRlUGFyYW1zfSBjb25maWcgQ29uZmlndXJhdGlvbiB0byBjb25uZWN0IHRvIHRoZSBDbG91ZCBJbnRlcm9wIHNlcnZpY2VcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY2xvdWRJbnRlcm9wT3ZlcnJpZGUoY29uZmlnKSB7XG4gICAgY29uc3QgeyB1cmwsIC4uLnNldHRpbmdzIH0gPSBjb25maWc7XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IENsb3VkSW50ZXJvcEFQSSh7IHVybCB9KTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBjbGllbnQuY29ubmVjdChzZXR0aW5ncyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKGBbQ2xvdWRJbnRlcm9wT3ZlcnJpZGVdIEZhaWxlZCB0byBjb25uZWN0IHRvIENsb3VkIEludGVyb3AgU2VydmljZS4gQ2FsbCBpbnRlcm9wQnJva2VyLmNsb3VkUmVjb25uZWN0KCkgdG8gYXR0ZW1wdCByZWNvbm5lY3Rpb25gLCBlcnIpO1xuICAgIH1cbiAgICByZXR1cm4gKEJhc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIGNsYXNzIENsb3VkSW50ZXJvcE92ZXJyaWRlIGV4dGVuZHMgQmFzZSB7XG4gICAgICAgICAgICBjb250ZXh0TGlzdGVuZXI7XG4gICAgICAgICAgICBzZXRDb250ZXh0RmlsdGVyID0gKGNvbnRleHQpID0+IHRydWU7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dExpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY29udGV4dEdyb3VwLCBjb250ZXh0LCBzb3VyY2UgfSA9IGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRDb250ZXh0R3JvdXBzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHsgaWQgfSkgPT4gaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMoY29udGV4dEdyb3VwKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNlc3Npb25EZXRhaWxzPy5zZXNzaW9uSWQgIT09IHNvdXJjZS5zZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyLnNldENvbnRleHRGb3JHcm91cCh7IGNvbnRleHQ6IGNvbnRleHQgfSwgY29udGV4dEdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHQnLCB0aGlzLmNvbnRleHRMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBzZXRDb250ZXh0Rm9yR3JvdXAoeyBjb250ZXh0IH0sIGNvbnRleHRHcm91cElkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvdWRDb25uZWN0aW9uU3RhdGUgPT09ICdjb25uZWN0ZWQnICYmIHRoaXMuc2V0Q29udGV4dEZpbHRlcihjb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQuc2V0Q29udGV4dChjb250ZXh0R3JvdXBJZCwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1cGVyLnNldENvbnRleHRGb3JHcm91cCh7IGNvbnRleHQgfSwgY29udGV4dEdyb3VwSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdHRlbXB0cyByZWNvbm5lY3Rpb24gdG8gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAgICAgICAgICogQHBhcmFtIHtDb25uZWN0UGFyYW1ldGVyc30gc2V0dGluZ3MgUGFyYW1ldGVycyBmb3IgY29ubmVjdGluZyB0byB0aGUgSW50ZXJvcCBTZXJ2aWNlXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHsqfSB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICAgICAqIEB0aHJvd3Mge0Nsb3VkSW50ZXJvcEFQSUVycm9yfVxuICAgICAgICAgICAgICogQHRocm93cyB7QXV0aG9yaXphdGlvbkVycm9yfVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcE92ZXJyaWRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFzeW5jIGNsb3VkUmVjb25uZWN0KHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvdWRDb25uZWN0aW9uU3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KHNldHRpbmdzIHx8IGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBbQ2xvdWRJbnRlcm9wT3ZlcnJpZGVdIEZhaWxlZCByZWNvbm5lY3Rpb24gdG8gQ2xvdWQgSW50ZXJvcCBTZXJ2aWNlLmAsIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXRzIHRoZSBsaXN0ZW5lciBmb3IgY29udGV4dCBldmVudHMgY29taW5nIGZyb20gdGhlIENsb3VkIEludGVyb3Agc2VydmljZVxuICAgICAgICAgICAgICogQHBhcmFtIGxpc3RlbmVyIENvbnRleHQgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAqIEByZXR1cm4geyp9IHt2b2lkfVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcE92ZXJyaWRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNldENsb3VkQ29udGV4dExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHQnLCB0aGlzLmNvbnRleHRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dCcsIHRoaXMuY29udGV4dExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0cyBhIGZpbHRlciB0aGF0IGlzIGFwcGxpZWQgdG8gbG9jYWwgY29udGV4dCBiZWZvcmUgaXQgaXMgZm9yd2FyZGVkIHRvIHRoZSBDbG91ZCBJbnRlcm9wIHNlcnZpY2VcbiAgICAgICAgICAgICAqIEBwYXJhbSBmaWx0ZXJcbiAgICAgICAgICAgICAqIEByZXR1cm4geyp9IHt2b2lkfVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENsb3VkSW50ZXJvcE92ZXJyaWRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNldENsb3VkU2V0Q29udGV4dEZpbHRlcihmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnRleHRGaWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXQgY2xvdWRDb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsaWVudC5tcXR0Q2xpZW50Py5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjb25uZWN0ZWQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2xpZW50Lm1xdHRDbGllbnQ/LnJlY29ubmVjdGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3JlY29ubmVjdGluZyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAnZGlzY29ubmVjdGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjbG91ZEludGVyb3BPdmVycmlkZSB9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uYW1kTyA9IHt9OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGNsb3VkSW50ZXJvcE92ZXJyaWRlIH0gZnJvbSBcIkBvcGVuZmluL2Nsb3VkLWludGVyb3BcIjtcbmltcG9ydCB0eXBlIE9wZW5GaW4gZnJvbSBcIkBvcGVuZmluL2NvcmVcIjtcbmltcG9ydCB7IGdldE1hbmlmZXN0Q3VzdG9tU2V0dGluZ3MgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuXHRjb25zdCBjdXN0b21TZXR0aW5ncyA9IGF3YWl0IGdldE1hbmlmZXN0Q3VzdG9tU2V0dGluZ3MoKTtcblx0Y29uc3QgaW50ZXJvcE92ZXJyaWRlcyA9IFtdO1xuXG5cdGlmIChjdXN0b21TZXR0aW5ncz8uY2xvdWRJbnRlcm9wUHJvdmlkZXI/LmVuYWJsZWQpIHtcblx0XHRjb25zdCBpbml0aWFsaXplZENsb3VkSW50ZXJvcE92ZXJyaWRlID0gKGF3YWl0IGNsb3VkSW50ZXJvcE92ZXJyaWRlKFxuXHRcdFx0Y3VzdG9tU2V0dGluZ3M/LmNsb3VkSW50ZXJvcFByb3ZpZGVyPy5jb25uZWN0UGFyYW1zXG5cdFx0KSkgYXMgdW5rbm93biBhcyBPcGVuRmluLkNvbnN0cnVjdG9yT3ZlcnJpZGU8T3BlbkZpbi5JbnRlcm9wQnJva2VyPjtcblx0XHRpbnRlcm9wT3ZlcnJpZGVzLnB1c2goaW5pdGlhbGl6ZWRDbG91ZEludGVyb3BPdmVycmlkZSk7XG5cdH1cblx0ZmluLlBsYXRmb3JtLmluaXQoeyBpbnRlcm9wT3ZlcnJpZGU6IGludGVyb3BPdmVycmlkZXMgfSkuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGVycm9yKSk7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==