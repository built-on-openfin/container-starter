/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/dexie/dist/dexie.js":
/*!**********************************************!*\
  !*** ../../node_modules/dexie/dist/dexie.js ***!
  \**********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/*
 * Dexie.js - a minimalistic wrapper for IndexedDB
 * ===============================================
 *
 * By David Fahlander, david.fahlander@gmail.com
 *
 * Version 4.2.1, Sat Oct 04 2025
 *
 * https://dexie.org
 *
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/
 */
 
(function (global, factory) {
     true ? module.exports = factory() :
    0;
})(this, (function () { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
            if (ar || !(i in from)) {
                if (!ar) ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
            }
        }
        return to.concat(ar || Array.prototype.slice.call(from));
    }

    var _global = typeof globalThis !== 'undefined' ? globalThis :
        typeof self !== 'undefined' ? self :
            typeof window !== 'undefined' ? window :
                __webpack_require__.g;

    var keys = Object.keys;
    var isArray = Array.isArray;
    if (typeof Promise !== 'undefined' && !_global.Promise) {
        _global.Promise = Promise;
    }
    function extend(obj, extension) {
        if (typeof extension !== 'object')
            return obj;
        keys(extension).forEach(function (key) {
            obj[key] = extension[key];
        });
        return obj;
    }
    var getProto = Object.getPrototypeOf;
    var _hasOwn = {}.hasOwnProperty;
    function hasOwn(obj, prop) {
        return _hasOwn.call(obj, prop);
    }
    function props(proto, extension) {
        if (typeof extension === 'function')
            extension = extension(getProto(proto));
        (typeof Reflect === "undefined" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {
            setProp(proto, key, extension[key]);
        });
    }
    var defineProperty = Object.defineProperty;
    function setProp(obj, prop, functionOrGetSet, options) {
        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, "get") && typeof functionOrGetSet.get === 'function' ?
            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :
            { value: functionOrGetSet, configurable: true, writable: true }, options));
    }
    function derive(Child) {
        return {
            from: function (Parent) {
                Child.prototype = Object.create(Parent.prototype);
                setProp(Child.prototype, "constructor", Child);
                return {
                    extend: props.bind(null, Child.prototype)
                };
            }
        };
    }
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    function getPropertyDescriptor(obj, prop) {
        var pd = getOwnPropertyDescriptor(obj, prop);
        var proto;
        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);
    }
    var _slice = [].slice;
    function slice(args, start, end) {
        return _slice.call(args, start, end);
    }
    function override(origFunc, overridedFactory) {
        return overridedFactory(origFunc);
    }
    function assert(b) {
        if (!b)
            throw new Error("Assertion Failed");
    }
    function asap$1(fn) {
        if (_global.setImmediate)
            setImmediate(fn);
        else
            setTimeout(fn, 0);
    }
    function arrayToObject(array, extractor) {
        return array.reduce(function (result, item, i) {
            var nameAndValue = extractor(item, i);
            if (nameAndValue)
                result[nameAndValue[0]] = nameAndValue[1];
            return result;
        }, {});
    }
    function getByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string' && hasOwn(obj, keyPath))
            return obj[keyPath];
        if (!keyPath)
            return obj;
        if (typeof keyPath !== 'string') {
            var rv = [];
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                var val = getByKeyPath(obj, keyPath[i]);
                rv.push(val);
            }
            return rv;
        }
        var period = keyPath.indexOf('.');
        if (period !== -1) {
            var innerObj = obj[keyPath.substr(0, period)];
            return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));
        }
        return undefined;
    }
    function setByKeyPath(obj, keyPath, value) {
        if (!obj || keyPath === undefined)
            return;
        if ('isFrozen' in Object && Object.isFrozen(obj))
            return;
        if (typeof keyPath !== 'string' && 'length' in keyPath) {
            assert(typeof value !== 'string' && 'length' in value);
            for (var i = 0, l = keyPath.length; i < l; ++i) {
                setByKeyPath(obj, keyPath[i], value[i]);
            }
        }
        else {
            var period = keyPath.indexOf('.');
            if (period !== -1) {
                var currentKeyPath = keyPath.substr(0, period);
                var remainingKeyPath = keyPath.substr(period + 1);
                if (remainingKeyPath === "")
                    if (value === undefined) {
                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))
                            obj.splice(currentKeyPath, 1);
                        else
                            delete obj[currentKeyPath];
                    }
                    else
                        obj[currentKeyPath] = value;
                else {
                    var innerObj = obj[currentKeyPath];
                    if (!innerObj || !hasOwn(obj, currentKeyPath))
                        innerObj = (obj[currentKeyPath] = {});
                    setByKeyPath(innerObj, remainingKeyPath, value);
                }
            }
            else {
                if (value === undefined) {
                    if (isArray(obj) && !isNaN(parseInt(keyPath)))
                        obj.splice(keyPath, 1);
                    else
                        delete obj[keyPath];
                }
                else
                    obj[keyPath] = value;
            }
        }
    }
    function delByKeyPath(obj, keyPath) {
        if (typeof keyPath === 'string')
            setByKeyPath(obj, keyPath, undefined);
        else if ('length' in keyPath)
            [].map.call(keyPath, function (kp) {
                setByKeyPath(obj, kp, undefined);
            });
    }
    function shallowClone(obj) {
        var rv = {};
        for (var m in obj) {
            if (hasOwn(obj, m))
                rv[m] = obj[m];
        }
        return rv;
    }
    var concat = [].concat;
    function flatten(a) {
        return concat.apply([], a);
    }
    var intrinsicTypeNames = "BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey"
        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return ["Int", "Uint", "Float"].map(function (t) { return t + num + "Array"; }); }))).filter(function (t) { return _global[t]; });
    var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) { return _global[t]; }));
    function cloneSimpleObjectTree(o) {
        var rv = {};
        for (var k in o)
            if (hasOwn(o, k)) {
                var v = o[k];
                rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);
            }
        return rv;
    }
    function objectIsEmpty(o) {
        for (var k in o)
            if (hasOwn(o, k))
                return false;
        return true;
    }
    var circularRefs = null;
    function deepClone(any) {
        circularRefs = new WeakMap();
        var rv = innerDeepClone(any);
        circularRefs = null;
        return rv;
    }
    function innerDeepClone(x) {
        if (!x || typeof x !== 'object')
            return x;
        var rv = circularRefs.get(x);
        if (rv)
            return rv;
        if (isArray(x)) {
            rv = [];
            circularRefs.set(x, rv);
            for (var i = 0, l = x.length; i < l; ++i) {
                rv.push(innerDeepClone(x[i]));
            }
        }
        else if (intrinsicTypes.has(x.constructor)) {
            rv = x;
        }
        else {
            var proto = getProto(x);
            rv = proto === Object.prototype ? {} : Object.create(proto);
            circularRefs.set(x, rv);
            for (var prop in x) {
                if (hasOwn(x, prop)) {
                    rv[prop] = innerDeepClone(x[prop]);
                }
            }
        }
        return rv;
    }
    var toString = {}.toString;
    function toStringTag(o) {
        return toString.call(o).slice(8, -1);
    }
    var iteratorSymbol = typeof Symbol !== 'undefined' ?
        Symbol.iterator :
        '@@iterator';
    var getIteratorOf = typeof iteratorSymbol === "symbol" ? function (x) {
        var i;
        return x != null && (i = x[iteratorSymbol]) && i.apply(x);
    } : function () { return null; };
    function delArrayItem(a, x) {
        var i = a.indexOf(x);
        if (i >= 0)
            a.splice(i, 1);
        return i >= 0;
    }
    var NO_CHAR_ARRAY = {};
    function getArrayOf(arrayLike) {
        var i, a, x, it;
        if (arguments.length === 1) {
            if (isArray(arrayLike))
                return arrayLike.slice();
            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')
                return [arrayLike];
            if ((it = getIteratorOf(arrayLike))) {
                a = [];
                while ((x = it.next()), !x.done)
                    a.push(x.value);
                return a;
            }
            if (arrayLike == null)
                return [arrayLike];
            i = arrayLike.length;
            if (typeof i === 'number') {
                a = new Array(i);
                while (i--)
                    a[i] = arrayLike[i];
                return a;
            }
            return [arrayLike];
        }
        i = arguments.length;
        a = new Array(i);
        while (i--)
            a[i] = arguments[i];
        return a;
    }
    var isAsyncFunction = typeof Symbol !== 'undefined'
        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }
        : function () { return false; };

    var dexieErrorNames = [
        'Modify',
        'Bulk',
        'OpenFailed',
        'VersionChange',
        'Schema',
        'Upgrade',
        'InvalidTable',
        'MissingAPI',
        'NoSuchDatabase',
        'InvalidArgument',
        'SubTransaction',
        'Unsupported',
        'Internal',
        'DatabaseClosed',
        'PrematureCommit',
        'ForeignAwait'
    ];
    var idbDomErrorNames = [
        'Unknown',
        'Constraint',
        'Data',
        'TransactionInactive',
        'ReadOnly',
        'Version',
        'NotFound',
        'InvalidState',
        'InvalidAccess',
        'Abort',
        'Timeout',
        'QuotaExceeded',
        'Syntax',
        'DataClone'
    ];
    var errorList = dexieErrorNames.concat(idbDomErrorNames);
    var defaultTexts = {
        VersionChanged: "Database version changed by other database connection",
        DatabaseClosed: "Database has been closed",
        Abort: "Transaction aborted",
        TransactionInactive: "Transaction has already completed or failed",
        MissingAPI: "IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"
    };
    function DexieError(name, msg) {
        this.name = name;
        this.message = msg;
    }
    derive(DexieError).from(Error).extend({
        toString: function () { return this.name + ": " + this.message; }
    });
    function getMultiErrorMessage(msg, failures) {
        return msg + ". Errors: " + Object.keys(failures)
            .map(function (key) { return failures[key].toString(); })
            .filter(function (v, i, s) { return s.indexOf(v) === i; })
            .join('\n');
    }
    function ModifyError(msg, failures, successCount, failedKeys) {
        this.failures = failures;
        this.failedKeys = failedKeys;
        this.successCount = successCount;
        this.message = getMultiErrorMessage(msg, failures);
    }
    derive(ModifyError).from(DexieError);
    function BulkError(msg, failures) {
        this.name = "BulkError";
        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });
        this.failuresByPos = failures;
        this.message = getMultiErrorMessage(msg, this.failures);
    }
    derive(BulkError).from(DexieError);
    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + "Error", obj); }, {});
    var BaseException = DexieError;
    var exceptions = errorList.reduce(function (obj, name) {
        var fullName = name + "Error";
        function DexieError(msgOrInner, inner) {
            this.name = fullName;
            if (!msgOrInner) {
                this.message = defaultTexts[name] || fullName;
                this.inner = null;
            }
            else if (typeof msgOrInner === 'string') {
                this.message = "".concat(msgOrInner).concat(!inner ? '' : '\n ' + inner);
                this.inner = inner || null;
            }
            else if (typeof msgOrInner === 'object') {
                this.message = "".concat(msgOrInner.name, " ").concat(msgOrInner.message);
                this.inner = msgOrInner;
            }
        }
        derive(DexieError).from(BaseException);
        obj[name] = DexieError;
        return obj;
    }, {});
    exceptions.Syntax = SyntaxError;
    exceptions.Type = TypeError;
    exceptions.Range = RangeError;
    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {
        obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    function mapError(domError, message) {
        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])
            return domError;
        var rv = new exceptionMap[domError.name](message || domError.message, domError);
        if ("stack" in domError) {
            setProp(rv, "stack", { get: function () {
                    return this.inner.stack;
                } });
        }
        return rv;
    }
    var fullNameExceptions = errorList.reduce(function (obj, name) {
        if (["Syntax", "Type", "Range"].indexOf(name) === -1)
            obj[name + "Error"] = exceptions[name];
        return obj;
    }, {});
    fullNameExceptions.ModifyError = ModifyError;
    fullNameExceptions.DexieError = DexieError;
    fullNameExceptions.BulkError = BulkError;

    function nop() { }
    function mirror(val) { return val; }
    function pureFunctionChain(f1, f2) {
        if (f1 == null || f1 === mirror)
            return f2;
        return function (val) {
            return f2(f1(val));
        };
    }
    function callBoth(on1, on2) {
        return function () {
            on1.apply(this, arguments);
            on2.apply(this, arguments);
        };
    }
    function hookCreatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res !== undefined)
                arguments[0] = res;
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res2 !== undefined ? res2 : res;
        };
    }
    function hookDeletingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            f1.apply(this, arguments);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = this.onerror = null;
            f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
        };
    }
    function hookUpdatingChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function (modifications) {
            var res = f1.apply(this, arguments);
            extend(modifications, res);
            var onsuccess = this.onsuccess,
            onerror = this.onerror;
            this.onsuccess = null;
            this.onerror = null;
            var res2 = f2.apply(this, arguments);
            if (onsuccess)
                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
            if (onerror)
                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
            return res === undefined ?
                (res2 === undefined ? undefined : res2) :
                (extend(res, res2));
        };
    }
    function reverseStoppableEventChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            if (f2.apply(this, arguments) === false)
                return false;
            return f1.apply(this, arguments);
        };
    }
    function promisableChain(f1, f2) {
        if (f1 === nop)
            return f2;
        return function () {
            var res = f1.apply(this, arguments);
            if (res && typeof res.then === 'function') {
                var thiz = this, i = arguments.length, args = new Array(i);
                while (i--)
                    args[i] = arguments[i];
                return res.then(function () {
                    return f2.apply(thiz, args);
                });
            }
            return f2.apply(this, arguments);
        };
    }

    var debug = typeof location !== 'undefined' &&
        /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
    function setDebug(value, filter) {
        debug = value;
    }

    var INTERNAL = {};
    var ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?
        [] :
        (function () {
            var globalP = Promise.resolve();
            if (typeof crypto === 'undefined' || !crypto.subtle)
                return [globalP, getProto(globalP), globalP];
            var nativeP = crypto.subtle.digest("SHA-512", new Uint8Array([0]));
            return [
                nativeP,
                getProto(nativeP),
                globalP
            ];
        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;
    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;
    var patchGlobalPromise = !!resolvedGlobalPromise;
    function schedulePhysicalTick() {
        queueMicrotask(physicalTick);
    }
    var asap = function (callback, args) {
        microtickQueue.push([callback, args]);
        if (needsNewPhysicalTick) {
            schedulePhysicalTick();
            needsNewPhysicalTick = false;
        }
    };
    var isOutsideMicroTick = true,
    needsNewPhysicalTick = true,
    unhandledErrors = [],
    rejectingErrors = [],
    rejectionMapper = mirror;
    var globalPSD = {
        id: 'global',
        global: true,
        ref: 0,
        unhandleds: [],
        onunhandled: nop,
        pgp: false,
        env: {},
        finalize: nop
    };
    var PSD = globalPSD;
    var microtickQueue = [];
    var numScheduledCalls = 0;
    var tickFinalizers = [];
    function DexiePromise(fn) {
        if (typeof this !== 'object')
            throw new TypeError('Promises must be constructed via new');
        this._listeners = [];
        this._lib = false;
        var psd = (this._PSD = PSD);
        if (typeof fn !== 'function') {
            if (fn !== INTERNAL)
                throw new TypeError('Not a function');
            this._state = arguments[1];
            this._value = arguments[2];
            if (this._state === false)
                handleRejection(this, this._value);
            return;
        }
        this._state = null;
        this._value = null;
        ++psd.ref;
        executePromiseTask(this, fn);
    }
    var thenProp = {
        get: function () {
            var psd = PSD, microTaskId = totalEchoes;
            function then(onFulfilled, onRejected) {
                var _this = this;
                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);
                var cleanup = possibleAwait && !decrementExpectedAwaits();
                var rv = new DexiePromise(function (resolve, reject) {
                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));
                });
                if (this._consoleTask)
                    rv._consoleTask = this._consoleTask;
                return rv;
            }
            then.prototype = INTERNAL;
            return then;
        },
        set: function (value) {
            setProp(this, 'then', value && value.prototype === INTERNAL ?
                thenProp :
                {
                    get: function () {
                        return value;
                    },
                    set: thenProp.set
                });
        }
    };
    props(DexiePromise.prototype, {
        then: thenProp,
        _then: function (onFulfilled, onRejected) {
            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));
        },
        catch: function (onRejected) {
            if (arguments.length === 1)
                return this.then(null, onRejected);
            var type = arguments[0], handler = arguments[1];
            return typeof type === 'function' ? this.then(null, function (err) {
                return err instanceof type ? handler(err) : PromiseReject(err);
            })
                : this.then(null, function (err) {
                    return err && err.name === type ? handler(err) : PromiseReject(err);
                });
        },
        finally: function (onFinally) {
            return this.then(function (value) {
                return DexiePromise.resolve(onFinally()).then(function () { return value; });
            }, function (err) {
                return DexiePromise.resolve(onFinally()).then(function () { return PromiseReject(err); });
            });
        },
        timeout: function (ms, msg) {
            var _this = this;
            return ms < Infinity ?
                new DexiePromise(function (resolve, reject) {
                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);
                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));
                }) : this;
        }
    });
    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');
    globalPSD.env = snapShot();
    function Listener(onFulfilled, onRejected, resolve, reject, zone) {
        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
        this.onRejected = typeof onRejected === 'function' ? onRejected : null;
        this.resolve = resolve;
        this.reject = reject;
        this.psd = zone;
    }
    props(DexiePromise, {
        all: function () {
            var values = getArrayOf.apply(null, arguments)
                .map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                if (values.length === 0)
                    resolve([]);
                var remaining = values.length;
                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {
                    values[i] = x;
                    if (!--remaining)
                        resolve(values);
                }, reject); });
            });
        },
        resolve: function (value) {
            if (value instanceof DexiePromise)
                return value;
            if (value && typeof value.then === 'function')
                return new DexiePromise(function (resolve, reject) {
                    value.then(resolve, reject);
                });
            var rv = new DexiePromise(INTERNAL, true, value);
            return rv;
        },
        reject: PromiseReject,
        race: function () {
            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
            return new DexiePromise(function (resolve, reject) {
                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });
            });
        },
        PSD: {
            get: function () { return PSD; },
            set: function (value) { return PSD = value; }
        },
        totalEchoes: { get: function () { return totalEchoes; } },
        newPSD: newScope,
        usePSD: usePSD,
        scheduler: {
            get: function () { return asap; },
            set: function (value) { asap = value; }
        },
        rejectionMapper: {
            get: function () { return rejectionMapper; },
            set: function (value) { rejectionMapper = value; }
        },
        follow: function (fn, zoneProps) {
            return new DexiePromise(function (resolve, reject) {
                return newScope(function (resolve, reject) {
                    var psd = PSD;
                    psd.unhandleds = [];
                    psd.onunhandled = reject;
                    psd.finalize = callBoth(function () {
                        var _this = this;
                        run_at_end_of_this_or_next_physical_tick(function () {
                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);
                        });
                    }, psd.finalize);
                    fn();
                }, zoneProps, resolve, reject);
            });
        }
    });
    if (NativePromise) {
        if (NativePromise.allSettled)
            setProp(DexiePromise, "allSettled", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve) {
                    if (possiblePromises.length === 0)
                        resolve([]);
                    var remaining = possiblePromises.length;
                    var results = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: "fulfilled", value: value }; }, function (reason) { return results[i] = { status: "rejected", reason: reason }; })
                        .then(function () { return --remaining || resolve(results); }); });
                });
            });
        if (NativePromise.any && typeof AggregateError !== 'undefined')
            setProp(DexiePromise, "any", function () {
                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
                return new DexiePromise(function (resolve, reject) {
                    if (possiblePromises.length === 0)
                        reject(new AggregateError([]));
                    var remaining = possiblePromises.length;
                    var failures = new Array(remaining);
                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {
                        failures[i] = failure;
                        if (!--remaining)
                            reject(new AggregateError(failures));
                    }); });
                });
            });
        if (NativePromise.withResolvers)
            DexiePromise.withResolvers = NativePromise.withResolvers;
    }
    function executePromiseTask(promise, fn) {
        try {
            fn(function (value) {
                if (promise._state !== null)
                    return;
                if (value === promise)
                    throw new TypeError('A promise cannot be resolved with itself.');
                var shouldExecuteTick = promise._lib && beginMicroTickScope();
                if (value && typeof value.then === 'function') {
                    executePromiseTask(promise, function (resolve, reject) {
                        value instanceof DexiePromise ?
                            value._then(resolve, reject) :
                            value.then(resolve, reject);
                    });
                }
                else {
                    promise._state = true;
                    promise._value = value;
                    propagateAllListeners(promise);
                }
                if (shouldExecuteTick)
                    endMicroTickScope();
            }, handleRejection.bind(null, promise));
        }
        catch (ex) {
            handleRejection(promise, ex);
        }
    }
    function handleRejection(promise, reason) {
        rejectingErrors.push(reason);
        if (promise._state !== null)
            return;
        var shouldExecuteTick = promise._lib && beginMicroTickScope();
        reason = rejectionMapper(reason);
        promise._state = false;
        promise._value = reason;
        addPossiblyUnhandledError(promise);
        propagateAllListeners(promise);
        if (shouldExecuteTick)
            endMicroTickScope();
    }
    function propagateAllListeners(promise) {
        var listeners = promise._listeners;
        promise._listeners = [];
        for (var i = 0, len = listeners.length; i < len; ++i) {
            propagateToListener(promise, listeners[i]);
        }
        var psd = promise._PSD;
        --psd.ref || psd.finalize();
        if (numScheduledCalls === 0) {
            ++numScheduledCalls;
            asap(function () {
                if (--numScheduledCalls === 0)
                    finalizePhysicalTick();
            }, []);
        }
    }
    function propagateToListener(promise, listener) {
        if (promise._state === null) {
            promise._listeners.push(listener);
            return;
        }
        var cb = promise._state ? listener.onFulfilled : listener.onRejected;
        if (cb === null) {
            return (promise._state ? listener.resolve : listener.reject)(promise._value);
        }
        ++listener.psd.ref;
        ++numScheduledCalls;
        asap(callListener, [cb, promise, listener]);
    }
    function callListener(cb, promise, listener) {
        try {
            var ret, value = promise._value;
            if (!promise._state && rejectingErrors.length)
                rejectingErrors = [];
            ret = debug && promise._consoleTask ? promise._consoleTask.run(function () { return cb(value); }) : cb(value);
            if (!promise._state && rejectingErrors.indexOf(value) === -1) {
                markErrorAsHandled(promise);
            }
            listener.resolve(ret);
        }
        catch (e) {
            listener.reject(e);
        }
        finally {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
            --listener.psd.ref || listener.psd.finalize();
        }
    }
    function physicalTick() {
        usePSD(globalPSD, function () {
            beginMicroTickScope() && endMicroTickScope();
        });
    }
    function beginMicroTickScope() {
        var wasRootExec = isOutsideMicroTick;
        isOutsideMicroTick = false;
        needsNewPhysicalTick = false;
        return wasRootExec;
    }
    function endMicroTickScope() {
        var callbacks, i, l;
        do {
            while (microtickQueue.length > 0) {
                callbacks = microtickQueue;
                microtickQueue = [];
                l = callbacks.length;
                for (i = 0; i < l; ++i) {
                    var item = callbacks[i];
                    item[0].apply(null, item[1]);
                }
            }
        } while (microtickQueue.length > 0);
        isOutsideMicroTick = true;
        needsNewPhysicalTick = true;
    }
    function finalizePhysicalTick() {
        var unhandledErrs = unhandledErrors;
        unhandledErrors = [];
        unhandledErrs.forEach(function (p) {
            p._PSD.onunhandled.call(null, p._value, p);
        });
        var finalizers = tickFinalizers.slice(0);
        var i = finalizers.length;
        while (i)
            finalizers[--i]();
    }
    function run_at_end_of_this_or_next_physical_tick(fn) {
        function finalizer() {
            fn();
            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);
        }
        tickFinalizers.push(finalizer);
        ++numScheduledCalls;
        asap(function () {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick();
        }, []);
    }
    function addPossiblyUnhandledError(promise) {
        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))
            unhandledErrors.push(promise);
    }
    function markErrorAsHandled(promise) {
        var i = unhandledErrors.length;
        while (i)
            if (unhandledErrors[--i]._value === promise._value) {
                unhandledErrors.splice(i, 1);
                return;
            }
    }
    function PromiseReject(reason) {
        return new DexiePromise(INTERNAL, false, reason);
    }
    function wrap(fn, errorCatcher) {
        var psd = PSD;
        return function () {
            var wasRootExec = beginMicroTickScope(), outerScope = PSD;
            try {
                switchToZone(psd, true);
                return fn.apply(this, arguments);
            }
            catch (e) {
                errorCatcher && errorCatcher(e);
            }
            finally {
                switchToZone(outerScope, false);
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
    }
    var task = { awaits: 0, echoes: 0, id: 0 };
    var taskCounter = 0;
    var zoneStack = [];
    var zoneEchoes = 0;
    var totalEchoes = 0;
    var zone_id_counter = 0;
    function newScope(fn, props, a1, a2) {
        var parent = PSD, psd = Object.create(parent);
        psd.parent = parent;
        psd.ref = 0;
        psd.global = false;
        psd.id = ++zone_id_counter;
        globalPSD.env;
        psd.env = patchGlobalPromise ? {
            Promise: DexiePromise,
            PromiseProp: { value: DexiePromise, configurable: true, writable: true },
            all: DexiePromise.all,
            race: DexiePromise.race,
            allSettled: DexiePromise.allSettled,
            any: DexiePromise.any,
            resolve: DexiePromise.resolve,
            reject: DexiePromise.reject,
        } : {};
        if (props)
            extend(psd, props);
        ++parent.ref;
        psd.finalize = function () {
            --this.parent.ref || this.parent.finalize();
        };
        var rv = usePSD(psd, fn, a1, a2);
        if (psd.ref === 0)
            psd.finalize();
        return rv;
    }
    function incrementExpectedAwaits() {
        if (!task.id)
            task.id = ++taskCounter;
        ++task.awaits;
        task.echoes += ZONE_ECHO_LIMIT;
        return task.id;
    }
    function decrementExpectedAwaits() {
        if (!task.awaits)
            return false;
        if (--task.awaits === 0)
            task.id = 0;
        task.echoes = task.awaits * ZONE_ECHO_LIMIT;
        return true;
    }
    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {
        incrementExpectedAwaits = decrementExpectedAwaits = nop;
    }
    function onPossibleParallellAsync(possiblePromise) {
        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {
            incrementExpectedAwaits();
            return possiblePromise.then(function (x) {
                decrementExpectedAwaits();
                return x;
            }, function (e) {
                decrementExpectedAwaits();
                return rejection(e);
            });
        }
        return possiblePromise;
    }
    function zoneEnterEcho(targetZone) {
        ++totalEchoes;
        if (!task.echoes || --task.echoes === 0) {
            task.echoes = task.awaits = task.id = 0;
        }
        zoneStack.push(PSD);
        switchToZone(targetZone, true);
    }
    function zoneLeaveEcho() {
        var zone = zoneStack[zoneStack.length - 1];
        zoneStack.pop();
        switchToZone(zone, false);
    }
    function switchToZone(targetZone, bEnteringZone) {
        var currentZone = PSD;
        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {
            queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);
        }
        if (targetZone === PSD)
            return;
        PSD = targetZone;
        if (currentZone === globalPSD)
            globalPSD.env = snapShot();
        if (patchGlobalPromise) {
            var GlobalPromise = globalPSD.env.Promise;
            var targetEnv = targetZone.env;
            if (currentZone.global || targetZone.global) {
                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);
                GlobalPromise.all = targetEnv.all;
                GlobalPromise.race = targetEnv.race;
                GlobalPromise.resolve = targetEnv.resolve;
                GlobalPromise.reject = targetEnv.reject;
                if (targetEnv.allSettled)
                    GlobalPromise.allSettled = targetEnv.allSettled;
                if (targetEnv.any)
                    GlobalPromise.any = targetEnv.any;
            }
        }
    }
    function snapShot() {
        var GlobalPromise = _global.Promise;
        return patchGlobalPromise ? {
            Promise: GlobalPromise,
            PromiseProp: Object.getOwnPropertyDescriptor(_global, "Promise"),
            all: GlobalPromise.all,
            race: GlobalPromise.race,
            allSettled: GlobalPromise.allSettled,
            any: GlobalPromise.any,
            resolve: GlobalPromise.resolve,
            reject: GlobalPromise.reject,
        } : {};
    }
    function usePSD(psd, fn, a1, a2, a3) {
        var outerScope = PSD;
        try {
            switchToZone(psd, true);
            return fn(a1, a2, a3);
        }
        finally {
            switchToZone(outerScope, false);
        }
    }
    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {
        return typeof fn !== 'function' ? fn : function () {
            var outerZone = PSD;
            if (possibleAwait)
                incrementExpectedAwaits();
            switchToZone(zone, true);
            try {
                return fn.apply(this, arguments);
            }
            finally {
                switchToZone(outerZone, false);
                if (cleanup)
                    queueMicrotask(decrementExpectedAwaits);
            }
        };
    }
    function execInGlobalContext(cb) {
        if (Promise === NativePromise && task.echoes === 0) {
            if (zoneEchoes === 0) {
                cb();
            }
            else {
                enqueueNativeMicroTask(cb);
            }
        }
        else {
            setTimeout(cb, 0);
        }
    }
    var rejection = DexiePromise.reject;

    function tempTransaction(db, mode, storeNames, fn) {
        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {
            if (db._state.openComplete) {
                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));
            }
            if (!db._state.isBeingOpened) {
                if (!db._state.autoOpen)
                    return rejection(new exceptions.DatabaseClosed());
                db.open().catch(nop);
            }
            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });
        }
        else {
            var trans = db._createTransaction(mode, storeNames, db._dbSchema);
            try {
                trans.create();
                db._state.PR1398_maxLoop = 3;
            }
            catch (ex) {
                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                    console.warn('Dexie: Need to reopen db');
                    db.close({ disableAutoOpen: false });
                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });
                }
                return rejection(ex);
            }
            return trans._promise(mode, function (resolve, reject) {
                return newScope(function () {
                    PSD.trans = trans;
                    return fn(resolve, reject, trans);
                });
            }).then(function (result) {
                if (mode === 'readwrite')
                    try {
                        trans.idbtrans.commit();
                    }
                    catch (_a) { }
                return mode === 'readonly' ? result : trans._completion.then(function () { return result; });
            });
        }
    }

    var DEXIE_VERSION = '4.2.1';
    var maxString = String.fromCharCode(65535);
    var minKey = -Infinity;
    var INVALID_KEY_ARGUMENT = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";
    var STRING_EXPECTED = "String expected.";
    var connections = [];
    var DBNAMES_DB = '__dbnames';
    var READONLY = 'readonly';
    var READWRITE = 'readwrite';

    function combine(filter1, filter2) {
        return filter1 ?
            filter2 ?
                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :
                filter1 :
            filter2;
    }

    var AnyRange = {
        type: 3 ,
        lower: -Infinity,
        lowerOpen: false,
        upper: [[]],
        upperOpen: false
    };

    function workaroundForUndefinedPrimKey(keyPath) {
        return typeof keyPath === "string" && !/\./.test(keyPath)
            ? function (obj) {
                if (obj[keyPath] === undefined && (keyPath in obj)) {
                    obj = deepClone(obj);
                    delete obj[keyPath];
                }
                return obj;
            }
            : function (obj) { return obj; };
    }

    function Entity() {
        throw exceptions.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.");
    }

    function cmp(a, b) {
        try {
            var ta = type(a);
            var tb = type(b);
            if (ta !== tb) {
                if (ta === 'Array')
                    return 1;
                if (tb === 'Array')
                    return -1;
                if (ta === 'binary')
                    return 1;
                if (tb === 'binary')
                    return -1;
                if (ta === 'string')
                    return 1;
                if (tb === 'string')
                    return -1;
                if (ta === 'Date')
                    return 1;
                if (tb !== 'Date')
                    return NaN;
                return -1;
            }
            switch (ta) {
                case 'number':
                case 'Date':
                case 'string':
                    return a > b ? 1 : a < b ? -1 : 0;
                case 'binary': {
                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));
                }
                case 'Array':
                    return compareArrays(a, b);
            }
        }
        catch (_a) { }
        return NaN;
    }
    function compareArrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            var res = cmp(a[i], b[i]);
            if (res !== 0)
                return res;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function compareUint8Arrays(a, b) {
        var al = a.length;
        var bl = b.length;
        var l = al < bl ? al : bl;
        for (var i = 0; i < l; ++i) {
            if (a[i] !== b[i])
                return a[i] < b[i] ? -1 : 1;
        }
        return al === bl ? 0 : al < bl ? -1 : 1;
    }
    function type(x) {
        var t = typeof x;
        if (t !== 'object')
            return t;
        if (ArrayBuffer.isView(x))
            return 'binary';
        var tsTag = toStringTag(x);
        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;
    }
    function getUint8Array(a) {
        if (a instanceof Uint8Array)
            return a;
        if (ArrayBuffer.isView(a))
            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);
        return new Uint8Array(a);
    }

    function builtInDeletionTrigger(table, keys, res) {
        var yProps = table.schema.yProps;
        if (!yProps)
            return res;
        if (keys && res.numFailures > 0)
            keys = keys.filter(function (_, i) { return !res.failures[i]; });
        return Promise.all(yProps.map(function (_a) {
            var updatesTable = _a.updatesTable;
            return keys
                ? table.db.table(updatesTable).where('k').anyOf(keys).delete()
                : table.db.table(updatesTable).clear();
        })).then(function () { return res; });
    }

    var PropModification =  (function () {
        function PropModification(spec) {
            this["@@propmod"] = spec;
        }
        PropModification.prototype.execute = function (value) {
            var _a;
            var spec = this["@@propmod"];
            if (spec.add !== undefined) {
                var term = spec.add;
                if (isArray(term)) {
                    return __spreadArray(__spreadArray([], (isArray(value) ? value : []), true), term, true).sort();
                }
                if (typeof term === 'number')
                    return (Number(value) || 0) + term;
                if (typeof term === 'bigint') {
                    try {
                        return BigInt(value) + term;
                    }
                    catch (_b) {
                        return BigInt(0) + term;
                    }
                }
                throw new TypeError("Invalid term ".concat(term));
            }
            if (spec.remove !== undefined) {
                var subtrahend_1 = spec.remove;
                if (isArray(subtrahend_1)) {
                    return isArray(value) ? value.filter(function (item) { return !subtrahend_1.includes(item); }).sort() : [];
                }
                if (typeof subtrahend_1 === 'number')
                    return Number(value) - subtrahend_1;
                if (typeof subtrahend_1 === 'bigint') {
                    try {
                        return BigInt(value) - subtrahend_1;
                    }
                    catch (_c) {
                        return BigInt(0) - subtrahend_1;
                    }
                }
                throw new TypeError("Invalid subtrahend ".concat(subtrahend_1));
            }
            var prefixToReplace = (_a = spec.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];
            if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {
                return spec.replacePrefix[1] + value.substring(prefixToReplace.length);
            }
            return value;
        };
        return PropModification;
    }());

    function applyUpdateSpec(obj, changes) {
        var keyPaths = keys(changes);
        var numKeys = keyPaths.length;
        var anythingModified = false;
        for (var i = 0; i < numKeys; ++i) {
            var keyPath = keyPaths[i];
            var value = changes[keyPath];
            var origValue = getByKeyPath(obj, keyPath);
            if (value instanceof PropModification) {
                setByKeyPath(obj, keyPath, value.execute(origValue));
                anythingModified = true;
            }
            else if (origValue !== value) {
                setByKeyPath(obj, keyPath, value);
                anythingModified = true;
            }
        }
        return anythingModified;
    }

    var Table =  (function () {
        function Table() {
        }
        Table.prototype._trans = function (mode, fn, writeLocked) {
            var trans = this._tx || PSD.trans;
            var tableName = this.name;
            var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask("Dexie: ".concat(mode === 'readonly' ? 'read' : 'write', " ").concat(this.name));
            function checkTableInTransaction(resolve, reject, trans) {
                if (!trans.schema[tableName])
                    throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
                return fn(trans.idbtrans, trans);
            }
            var wasRootExec = beginMicroTickScope();
            try {
                var p = trans && trans.db._novip === this.db._novip ?
                    trans === PSD.trans ?
                        trans._promise(mode, checkTableInTransaction, writeLocked) :
                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :
                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);
                if (task) {
                    p._consoleTask = task;
                    p = p.catch(function (err) {
                        console.trace(err);
                        return rejection(err);
                    });
                }
                return p;
            }
            finally {
                if (wasRootExec)
                    endMicroTickScope();
            }
        };
        Table.prototype.get = function (keyOrCrit, cb) {
            var _this = this;
            if (keyOrCrit && keyOrCrit.constructor === Object)
                return this.where(keyOrCrit).first(cb);
            if (keyOrCrit == null)
                return rejection(new exceptions.Type("Invalid argument to Table.get()"));
            return this._trans('readonly', function (trans) {
                return _this.core.get({ trans: trans, key: keyOrCrit })
                    .then(function (res) { return _this.hook.reading.fire(res); });
            }).then(cb);
        };
        Table.prototype.where = function (indexOrCrit) {
            if (typeof indexOrCrit === 'string')
                return new this.db.WhereClause(this, indexOrCrit);
            if (isArray(indexOrCrit))
                return new this.db.WhereClause(this, "[".concat(indexOrCrit.join('+'), "]"));
            var keyPaths = keys(indexOrCrit);
            if (keyPaths.length === 1)
                return this
                    .where(keyPaths[0])
                    .equals(indexOrCrit[keyPaths[0]]);
            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {
                if (ix.compound &&
                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; })) {
                    for (var i = 0; i < keyPaths.length; ++i) {
                        if (keyPaths.indexOf(ix.keyPath[i]) === -1)
                            return false;
                    }
                    return true;
                }
                return false;
            }).sort(function (a, b) { return a.keyPath.length - b.keyPath.length; })[0];
            if (compoundIndex && this.db._maxKey !== maxString) {
                var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);
                return this
                    .where(keyPathsInValidOrder)
                    .equals(keyPathsInValidOrder.map(function (kp) { return indexOrCrit[kp]; }));
            }
            if (!compoundIndex && debug)
                console.warn("The query ".concat(JSON.stringify(indexOrCrit), " on ").concat(this.name, " would benefit from a ") +
                    "compound index [".concat(keyPaths.join('+'), "]"));
            var idxByName = this.schema.idxByName;
            function equals(a, b) {
                return cmp(a, b) === 0;
            }
            var _a = keyPaths.reduce(function (_a, keyPath) {
                var prevIndex = _a[0], prevFilterFn = _a[1];
                var index = idxByName[keyPath];
                var value = indexOrCrit[keyPath];
                return [
                    prevIndex || index,
                    prevIndex || !index ?
                        combine(prevFilterFn, index && index.multi ?
                            function (x) {
                                var prop = getByKeyPath(x, keyPath);
                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });
                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })
                        : prevFilterFn
                ];
            }, [null, null]), idx = _a[0], filterFunction = _a[1];
            return idx ?
                this.where(idx.name).equals(indexOrCrit[idx.keyPath])
                    .filter(filterFunction) :
                compoundIndex ?
                    this.filter(filterFunction) :
                    this.where(keyPaths).equals('');
        };
        Table.prototype.filter = function (filterFunction) {
            return this.toCollection().and(filterFunction);
        };
        Table.prototype.count = function (thenShortcut) {
            return this.toCollection().count(thenShortcut);
        };
        Table.prototype.offset = function (offset) {
            return this.toCollection().offset(offset);
        };
        Table.prototype.limit = function (numRows) {
            return this.toCollection().limit(numRows);
        };
        Table.prototype.each = function (callback) {
            return this.toCollection().each(callback);
        };
        Table.prototype.toArray = function (thenShortcut) {
            return this.toCollection().toArray(thenShortcut);
        };
        Table.prototype.toCollection = function () {
            return new this.db.Collection(new this.db.WhereClause(this));
        };
        Table.prototype.orderBy = function (index) {
            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?
                "[".concat(index.join('+'), "]") :
                index));
        };
        Table.prototype.reverse = function () {
            return this.toCollection().reverse();
        };
        Table.prototype.mapToClass = function (constructor) {
            var _a = this, db = _a.db, tableName = _a.name;
            this.schema.mappedClass = constructor;
            if (constructor.prototype instanceof Entity) {
                constructor =  (function (_super) {
                    __extends(class_1, _super);
                    function class_1() {
                        return _super !== null && _super.apply(this, arguments) || this;
                    }
                    Object.defineProperty(class_1.prototype, "db", {
                        get: function () { return db; },
                        enumerable: false,
                        configurable: true
                    });
                    class_1.prototype.table = function () { return tableName; };
                    return class_1;
                }(constructor));
            }
            var inheritedProps = new Set();
            for (var proto = constructor.prototype; proto; proto = getProto(proto)) {
                Object.getOwnPropertyNames(proto).forEach(function (propName) { return inheritedProps.add(propName); });
            }
            var readHook = function (obj) {
                if (!obj)
                    return obj;
                var res = Object.create(constructor.prototype);
                for (var m in obj)
                    if (!inheritedProps.has(m))
                        try {
                            res[m] = obj[m];
                        }
                        catch (_) { }
                return res;
            };
            if (this.schema.readHook) {
                this.hook.reading.unsubscribe(this.schema.readHook);
            }
            this.schema.readHook = readHook;
            this.hook("reading", readHook);
            return constructor;
        };
        Table.prototype.defineClass = function () {
            function Class(content) {
                extend(this, content);
            }
            return this.mapToClass(Class);
        };
        Table.prototype.add = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });
            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.upsert = function (key, modifications) {
            var _this = this;
            var keyPath = this.schema.primKey.keyPath;
            return this._trans('readwrite', function (trans) {
                return _this.core.get({ trans: trans, key: key }).then(function (existing) {
                    var obj = existing !== null && existing !== void 0 ? existing : {};
                    applyUpdateSpec(obj, modifications);
                    if (keyPath)
                        setByKeyPath(obj, keyPath, key);
                    return _this.core.mutate({
                        trans: trans,
                        type: 'put',
                        values: [obj],
                        keys: [key],
                        upsert: true,
                        updates: { keys: [key], changeSpecs: [modifications] }
                    }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : !!existing; });
                });
            });
        };
        Table.prototype.update = function (keyOrObject, modifications) {
            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {
                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);
                if (key === undefined)
                    return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));
                return this.where(":id").equals(key).modify(modifications);
            }
            else {
                return this.where(":id").equals(keyOrObject).modify(modifications);
            }
        };
        Table.prototype.put = function (obj, key) {
            var _this = this;
            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
            var objToAdd = obj;
            if (keyPath && auto) {
                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);
            }
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })
                .then(function (lastResult) {
                if (keyPath) {
                    try {
                        setByKeyPath(obj, keyPath, lastResult);
                    }
                    catch (_) { }
                }
                return lastResult;
            });
        };
        Table.prototype.delete = function (key) {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] })
                .then(function (res) { return builtInDeletionTrigger(_this, [key], res); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; }); });
        };
        Table.prototype.clear = function () {
            var _this = this;
            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange })
                .then(function (res) { return builtInDeletionTrigger(_this, null, res); }); })
                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });
        };
        Table.prototype.bulkGet = function (keys) {
            var _this = this;
            return this._trans('readonly', function (trans) {
                return _this.core.getMany({
                    keys: keys,
                    trans: trans
                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });
            });
        };
        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToAdd = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkAdd(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {
            var _this = this;
            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;
            options = options || (keys ? undefined : keysOrOptions);
            var wantResults = options ? options.allKeys : undefined;
            return this._trans('readwrite', function (trans) {
                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;
                if (keyPath && keys)
                    throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
                if (keys && keys.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                var numObjects = objects.length;
                var objectsToPut = keyPath && auto ?
                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :
                    objects;
                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })
                    .then(function (_a) {
                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;
                    var result = wantResults ? results : lastResult;
                    if (numFailures === 0)
                        return result;
                    throw new BulkError("".concat(_this.name, ".bulkPut(): ").concat(numFailures, " of ").concat(numObjects, " operations failed"), failures);
                });
            });
        };
        Table.prototype.bulkUpdate = function (keysAndChanges) {
            var _this = this;
            var coreTable = this.core;
            var keys = keysAndChanges.map(function (entry) { return entry.key; });
            var changeSpecs = keysAndChanges.map(function (entry) { return entry.changes; });
            var offsetMap = [];
            return this._trans('readwrite', function (trans) {
                return coreTable.getMany({ trans: trans, keys: keys, cache: 'clone' }).then(function (objs) {
                    var resultKeys = [];
                    var resultObjs = [];
                    keysAndChanges.forEach(function (_a, idx) {
                        var key = _a.key, changes = _a.changes;
                        var obj = objs[idx];
                        if (obj) {
                            for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {
                                var keyPath = _b[_i];
                                var value = changes[keyPath];
                                if (keyPath === _this.schema.primKey.keyPath) {
                                    if (cmp(value, key) !== 0) {
                                        throw new exceptions.Constraint("Cannot update primary key in bulkUpdate()");
                                    }
                                }
                                else {
                                    setByKeyPath(obj, keyPath, value);
                                }
                            }
                            offsetMap.push(idx);
                            resultKeys.push(key);
                            resultObjs.push(obj);
                        }
                    });
                    var numEntries = resultKeys.length;
                    return coreTable
                        .mutate({
                        trans: trans,
                        type: 'put',
                        keys: resultKeys,
                        values: resultObjs,
                        updates: {
                            keys: keys,
                            changeSpecs: changeSpecs
                        }
                    })
                        .then(function (_a) {
                        var numFailures = _a.numFailures, failures = _a.failures;
                        if (numFailures === 0)
                            return numEntries;
                        for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {
                            var offset = _b[_i];
                            var mappedOffset = offsetMap[Number(offset)];
                            if (mappedOffset != null) {
                                var failure = failures[offset];
                                delete failures[offset];
                                failures[mappedOffset] = failure;
                            }
                        }
                        throw new BulkError("".concat(_this.name, ".bulkUpdate(): ").concat(numFailures, " of ").concat(numEntries, " operations failed"), failures);
                    });
                });
            });
        };
        Table.prototype.bulkDelete = function (keys) {
            var _this = this;
            var numKeys = keys.length;
            return this._trans('readwrite', function (trans) {
                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys })
                    .then(function (res) { return builtInDeletionTrigger(_this, keys, res); });
            }).then(function (_a) {
                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;
                if (numFailures === 0)
                    return lastResult;
                throw new BulkError("".concat(_this.name, ".bulkDelete(): ").concat(numFailures, " of ").concat(numKeys, " operations failed"), failures);
            });
        };
        return Table;
    }());

    function Events(ctx) {
        var evs = {};
        var rv = function (eventName, subscriber) {
            if (subscriber) {
                var i = arguments.length, args = new Array(i - 1);
                while (--i)
                    args[i - 1] = arguments[i];
                evs[eventName].subscribe.apply(null, args);
                return ctx;
            }
            else if (typeof (eventName) === 'string') {
                return evs[eventName];
            }
        };
        rv.addEventType = add;
        for (var i = 1, l = arguments.length; i < l; ++i) {
            add(arguments[i]);
        }
        return rv;
        function add(eventName, chainFunction, defaultFunction) {
            if (typeof eventName === 'object')
                return addConfiguredEvents(eventName);
            if (!chainFunction)
                chainFunction = reverseStoppableEventChain;
            if (!defaultFunction)
                defaultFunction = nop;
            var context = {
                subscribers: [],
                fire: defaultFunction,
                subscribe: function (cb) {
                    if (context.subscribers.indexOf(cb) === -1) {
                        context.subscribers.push(cb);
                        context.fire = chainFunction(context.fire, cb);
                    }
                },
                unsubscribe: function (cb) {
                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });
                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);
                }
            };
            evs[eventName] = rv[eventName] = context;
            return context;
        }
        function addConfiguredEvents(cfg) {
            keys(cfg).forEach(function (eventName) {
                var args = cfg[eventName];
                if (isArray(args)) {
                    add(eventName, cfg[eventName][0], cfg[eventName][1]);
                }
                else if (args === 'asap') {
                    var context = add(eventName, mirror, function fire() {
                        var i = arguments.length, args = new Array(i);
                        while (i--)
                            args[i] = arguments[i];
                        context.subscribers.forEach(function (fn) {
                            asap$1(function fireEvent() {
                                fn.apply(null, args);
                            });
                        });
                    });
                }
                else
                    throw new exceptions.InvalidArgument("Invalid event config");
            });
        }
    }

    function makeClassConstructor(prototype, constructor) {
        derive(constructor).from({ prototype: prototype });
        return constructor;
    }

    function createTableConstructor(db) {
        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {
            this.db = db;
            this._tx = trans;
            this.name = name;
            this.schema = tableSchema;
            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {
                "creating": [hookCreatingChain, nop],
                "reading": [pureFunctionChain, mirror],
                "updating": [hookUpdatingChain, nop],
                "deleting": [hookDeletingChain, nop]
            });
        });
    }

    function isPlainKeyRange(ctx, ignoreLimitFilter) {
        return !(ctx.filter || ctx.algorithm || ctx.or) &&
            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);
    }
    function addFilter(ctx, fn) {
        ctx.filter = combine(ctx.filter, fn);
    }
    function addReplayFilter(ctx, factory, isLimitFilter) {
        var curr = ctx.replayFilter;
        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;
        ctx.justLimit = isLimitFilter && !curr;
    }
    function addMatchFilter(ctx, fn) {
        ctx.isMatch = combine(ctx.isMatch, fn);
    }
    function getIndexOrStore(ctx, coreSchema) {
        if (ctx.isPrimKey)
            return coreSchema.primaryKey;
        var index = coreSchema.getIndexByKeyPath(ctx.index);
        if (!index)
            throw new exceptions.Schema("KeyPath " + ctx.index + " on object store " + coreSchema.name + " is not indexed");
        return index;
    }
    function openCursor(ctx, coreTable, trans) {
        var index = getIndexOrStore(ctx, coreTable.schema);
        return coreTable.openCursor({
            trans: trans,
            values: !ctx.keysOnly,
            reverse: ctx.dir === 'prev',
            unique: !!ctx.unique,
            query: {
                index: index,
                range: ctx.range
            }
        });
    }
    function iter(ctx, fn, coreTrans, coreTable) {
        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;
        if (!ctx.or) {
            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);
        }
        else {
            var set_1 = {};
            var union = function (item, cursor, advance) {
                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {
                    var primaryKey = cursor.primaryKey;
                    var key = '' + primaryKey;
                    if (key === '[object ArrayBuffer]')
                        key = '' + new Uint8Array(primaryKey);
                    if (!hasOwn(set_1, key)) {
                        set_1[key] = true;
                        fn(item, cursor, advance);
                    }
                }
            };
            return Promise.all([
                ctx.or._iterate(union, coreTrans),
                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)
            ]);
        }
    }
    function iterate(cursorPromise, filter, fn, valueMapper) {
        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;
        var wrappedFn = wrap(mappedFn);
        return cursorPromise.then(function (cursor) {
            if (cursor) {
                return cursor.start(function () {
                    var c = function () { return cursor.continue(); };
                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))
                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });
                    c();
                });
            }
        });
    }

    var Collection =  (function () {
        function Collection() {
        }
        Collection.prototype._read = function (fn, cb) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readonly', fn).then(cb);
        };
        Collection.prototype._write = function (fn) {
            var ctx = this._ctx;
            return ctx.error ?
                ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                ctx.table._trans('readwrite', fn, "locked");
        };
        Collection.prototype._addAlgorithm = function (fn) {
            var ctx = this._ctx;
            ctx.algorithm = combine(ctx.algorithm, fn);
        };
        Collection.prototype._iterate = function (fn, coreTrans) {
            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);
        };
        Collection.prototype.clone = function (props) {
            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);
            if (props)
                extend(ctx, props);
            rv._ctx = ctx;
            return rv;
        };
        Collection.prototype.raw = function () {
            this._ctx.valueMapper = null;
            return this;
        };
        Collection.prototype.each = function (fn) {
            var ctx = this._ctx;
            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });
        };
        Collection.prototype.count = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                var coreTable = ctx.table.core;
                if (isPlainKeyRange(ctx, true)) {
                    return coreTable.count({
                        trans: trans,
                        query: {
                            index: getIndexOrStore(ctx, coreTable.schema),
                            range: ctx.range
                        }
                    }).then(function (count) { return Math.min(count, ctx.limit); });
                }
                else {
                    var count = 0;
                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)
                        .then(function () { return count; });
                }
            }).then(cb);
        };
        Collection.prototype.sortBy = function (keyPath, cb) {
            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;
            function getval(obj, i) {
                if (i)
                    return getval(obj[parts[i]], i - 1);
                return obj[lastPart];
            }
            var order = this._ctx.dir === "next" ? 1 : -1;
            function sorter(a, b) {
                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);
                return cmp(aVal, bVal) * order;
            }
            return this.toArray(function (a) {
                return a.sort(sorter);
            }).then(cb);
        };
        Collection.prototype.toArray = function (cb) {
            var _this = this;
            return this._read(function (trans) {
                var ctx = _this._ctx;
                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                    var valueMapper_1 = ctx.valueMapper;
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        limit: ctx.limit,
                        values: true,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    }).then(function (_a) {
                        var result = _a.result;
                        return valueMapper_1 ? result.map(valueMapper_1) : result;
                    });
                }
                else {
                    var a_1 = [];
                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });
                }
            }, cb);
        };
        Collection.prototype.offset = function (offset) {
            var ctx = this._ctx;
            if (offset <= 0)
                return this;
            ctx.offset += offset;
            if (isPlainKeyRange(ctx)) {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function (cursor, advance) {
                        if (offsetLeft === 0)
                            return true;
                        if (offsetLeft === 1) {
                            --offsetLeft;
                            return false;
                        }
                        advance(function () {
                            cursor.advance(offsetLeft);
                            offsetLeft = 0;
                        });
                        return false;
                    };
                });
            }
            else {
                addReplayFilter(ctx, function () {
                    var offsetLeft = offset;
                    return function () { return (--offsetLeft < 0); };
                });
            }
            return this;
        };
        Collection.prototype.limit = function (numRows) {
            this._ctx.limit = Math.min(this._ctx.limit, numRows);
            addReplayFilter(this._ctx, function () {
                var rowsLeft = numRows;
                return function (cursor, advance, resolve) {
                    if (--rowsLeft <= 0)
                        advance(resolve);
                    return rowsLeft >= 0;
                };
            }, true);
            return this;
        };
        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {
            addFilter(this._ctx, function (cursor, advance, resolve) {
                if (filterFunction(cursor.value)) {
                    advance(resolve);
                    return bIncludeStopEntry;
                }
                else {
                    return true;
                }
            });
            return this;
        };
        Collection.prototype.first = function (cb) {
            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.last = function (cb) {
            return this.reverse().first(cb);
        };
        Collection.prototype.filter = function (filterFunction) {
            addFilter(this._ctx, function (cursor) {
                return filterFunction(cursor.value);
            });
            addMatchFilter(this._ctx, filterFunction);
            return this;
        };
        Collection.prototype.and = function (filter) {
            return this.filter(filter);
        };
        Collection.prototype.or = function (indexName) {
            return new this.db.WhereClause(this._ctx.table, indexName, this);
        };
        Collection.prototype.reverse = function () {
            this._ctx.dir = (this._ctx.dir === "prev" ? "next" : "prev");
            if (this._ondirectionchange)
                this._ondirectionchange(this._ctx.dir);
            return this;
        };
        Collection.prototype.desc = function () {
            return this.reverse();
        };
        Collection.prototype.eachKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.key, cursor); });
        };
        Collection.prototype.eachUniqueKey = function (cb) {
            this._ctx.unique = "unique";
            return this.eachKey(cb);
        };
        Collection.prototype.eachPrimaryKey = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });
        };
        Collection.prototype.keys = function (cb) {
            var ctx = this._ctx;
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.key);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.primaryKeys = function (cb) {
            var ctx = this._ctx;
            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                return this._read(function (trans) {
                    var index = getIndexOrStore(ctx, ctx.table.core.schema);
                    return ctx.table.core.query({
                        trans: trans,
                        values: false,
                        limit: ctx.limit,
                        query: {
                            index: index,
                            range: ctx.range
                        }
                    });
                }).then(function (_a) {
                    var result = _a.result;
                    return result;
                }).then(cb);
            }
            ctx.keysOnly = !ctx.isMatch;
            var a = [];
            return this.each(function (item, cursor) {
                a.push(cursor.primaryKey);
            }).then(function () {
                return a;
            }).then(cb);
        };
        Collection.prototype.uniqueKeys = function (cb) {
            this._ctx.unique = "unique";
            return this.keys(cb);
        };
        Collection.prototype.firstKey = function (cb) {
            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);
        };
        Collection.prototype.lastKey = function (cb) {
            return this.reverse().firstKey(cb);
        };
        Collection.prototype.distinct = function () {
            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];
            if (!idx || !idx.multi)
                return this;
            var set = {};
            addFilter(this._ctx, function (cursor) {
                var strKey = cursor.primaryKey.toString();
                var found = hasOwn(set, strKey);
                set[strKey] = true;
                return !found;
            });
            return this;
        };
        Collection.prototype.modify = function (changes) {
            var _this = this;
            var ctx = this._ctx;
            return this._write(function (trans) {
                var modifyer;
                if (typeof changes === 'function') {
                    modifyer = changes;
                }
                else {
                    modifyer = function (item) { return applyUpdateSpec(item, changes); };
                }
                var coreTable = ctx.table.core;
                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;
                var limit = 200;
                var modifyChunkSize = _this.db._options.modifyChunkSize;
                if (modifyChunkSize) {
                    if (typeof modifyChunkSize == 'object') {
                        limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;
                    }
                    else {
                        limit = modifyChunkSize;
                    }
                }
                var totalFailures = [];
                var successCount = 0;
                var failedKeys = [];
                var applyMutateResult = function (expectedCount, res) {
                    var failures = res.failures, numFailures = res.numFailures;
                    successCount += expectedCount - numFailures;
                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {
                        var pos = _a[_i];
                        totalFailures.push(failures[pos]);
                    }
                };
                var isUnconditionalDelete = changes === deleteCallback;
                return _this.clone().primaryKeys().then(function (keys) {
                    var criteria = isPlainKeyRange(ctx) &&
                        ctx.limit === Infinity &&
                        (typeof changes !== 'function' || isUnconditionalDelete) && {
                        index: ctx.index,
                        range: ctx.range
                    };
                    var nextChunk = function (offset) {
                        var count = Math.min(limit, keys.length - offset);
                        var keysInChunk = keys.slice(offset, offset + count);
                        return (isUnconditionalDelete ? Promise.resolve([]) : coreTable.getMany({
                            trans: trans,
                            keys: keysInChunk,
                            cache: "immutable"
                        })).then(function (values) {
                            var addValues = [];
                            var putValues = [];
                            var putKeys = outbound ? [] : null;
                            var deleteKeys = isUnconditionalDelete ? keysInChunk : [];
                            if (!isUnconditionalDelete)
                                for (var i = 0; i < count; ++i) {
                                    var origValue = values[i];
                                    var ctx_1 = {
                                        value: deepClone(origValue),
                                        primKey: keys[offset + i]
                                    };
                                    if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {
                                        if (ctx_1.value == null) {
                                            deleteKeys.push(keys[offset + i]);
                                        }
                                        else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {
                                            deleteKeys.push(keys[offset + i]);
                                            addValues.push(ctx_1.value);
                                        }
                                        else {
                                            putValues.push(ctx_1.value);
                                            if (outbound)
                                                putKeys.push(keys[offset + i]);
                                        }
                                    }
                                }
                            return Promise.resolve(addValues.length > 0 &&
                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })
                                    .then(function (res) {
                                    for (var pos in res.failures) {
                                        deleteKeys.splice(parseInt(pos), 1);
                                    }
                                    applyMutateResult(addValues.length, res);
                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'put',
                                    keys: putKeys,
                                    values: putValues,
                                    criteria: criteria,
                                    changeSpec: typeof changes !== 'function'
                                        && changes,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && isUnconditionalDelete)) &&
                                coreTable.mutate({
                                    trans: trans,
                                    type: 'delete',
                                    keys: deleteKeys,
                                    criteria: criteria,
                                    isAdditionalChunk: offset > 0
                                }).then(function (res) { return builtInDeletionTrigger(ctx.table, deleteKeys, res); })
                                    .then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {
                                return keys.length > offset + count && nextChunk(offset + limit);
                            });
                        });
                    };
                    return nextChunk(0).then(function () {
                        if (totalFailures.length > 0)
                            throw new ModifyError("Error modifying one or more objects", totalFailures, successCount, failedKeys);
                        return keys.length;
                    });
                });
            });
        };
        Collection.prototype.delete = function () {
            var ctx = this._ctx, range = ctx.range;
            if (isPlainKeyRange(ctx) &&
                !ctx.table.schema.yProps &&
                (ctx.isPrimKey || range.type === 3 ))
             {
                return this._write(function (trans) {
                    var primaryKey = ctx.table.core.schema.primaryKey;
                    var coreRange = range;
                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {
                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })
                            .then(function (_a) {
                            var failures = _a.failures, numFailures = _a.numFailures;
                            if (numFailures)
                                throw new ModifyError("Could not delete some values", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);
                            return count - numFailures;
                        });
                    });
                });
            }
            return this.modify(deleteCallback);
        };
        return Collection;
    }());
    var deleteCallback = function (value, ctx) { return ctx.value = null; };

    function createCollectionConstructor(db) {
        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {
            this.db = db;
            var keyRange = AnyRange, error = null;
            if (keyRangeGenerator)
                try {
                    keyRange = keyRangeGenerator();
                }
                catch (ex) {
                    error = ex;
                }
            var whereCtx = whereClause._ctx;
            var table = whereCtx.table;
            var readingHook = table.hook.reading.fire;
            this._ctx = {
                table: table,
                index: whereCtx.index,
                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),
                range: keyRange,
                keysOnly: false,
                dir: "next",
                unique: "",
                algorithm: null,
                filter: null,
                replayFilter: null,
                justLimit: true,
                isMatch: null,
                offset: 0,
                limit: Infinity,
                error: error,
                or: whereCtx.or,
                valueMapper: readingHook !== mirror ? readingHook : null
            };
        });
    }

    function simpleCompare(a, b) {
        return a < b ? -1 : a === b ? 0 : 1;
    }
    function simpleCompareReverse(a, b) {
        return a > b ? -1 : a === b ? 0 : 1;
    }

    function fail(collectionOrWhereClause, err, T) {
        var collection = collectionOrWhereClause instanceof WhereClause ?
            new collectionOrWhereClause.Collection(collectionOrWhereClause) :
            collectionOrWhereClause;
        collection._ctx.error = T ? new T(err) : new TypeError(err);
        return collection;
    }
    function emptyCollection(whereClause) {
        return new whereClause.Collection(whereClause, function () { return rangeEqual(""); }).limit(0);
    }
    function upperFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toUpperCase(); } :
            function (s) { return s.toLowerCase(); };
    }
    function lowerFactory(dir) {
        return dir === "next" ?
            function (s) { return s.toLowerCase(); } :
            function (s) { return s.toUpperCase(); };
    }
    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {
        var length = Math.min(key.length, lowerNeedle.length);
        var llp = -1;
        for (var i = 0; i < length; ++i) {
            var lwrKeyChar = lowerKey[i];
            if (lwrKeyChar !== lowerNeedle[i]) {
                if (cmp(key[i], upperNeedle[i]) < 0)
                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);
                if (cmp(key[i], lowerNeedle[i]) < 0)
                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);
                if (llp >= 0)
                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);
                return null;
            }
            if (cmp(key[i], lwrKeyChar) < 0)
                llp = i;
        }
        if (length < lowerNeedle.length && dir === "next")
            return key + upperNeedle.substr(key.length);
        if (length < key.length && dir === "prev")
            return key.substr(0, upperNeedle.length);
        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));
    }
    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {
        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;
        if (!needles.every(function (s) { return typeof s === 'string'; })) {
            return fail(whereClause, STRING_EXPECTED);
        }
        function initDirection(dir) {
            upper = upperFactory(dir);
            lower = lowerFactory(dir);
            compare = (dir === "next" ? simpleCompare : simpleCompareReverse);
            var needleBounds = needles.map(function (needle) {
                return { lower: lower(needle), upper: upper(needle) };
            }).sort(function (a, b) {
                return compare(a.lower, b.lower);
            });
            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });
            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });
            direction = dir;
            nextKeySuffix = (dir === "next" ? "" : suffix);
        }
        initDirection("next");
        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });
        c._ondirectionchange = function (direction) {
            initDirection(direction);
        };
        var firstPossibleNeedle = 0;
        c._addAlgorithm(function (cursor, advance, resolve) {
            var key = cursor.key;
            if (typeof key !== 'string')
                return false;
            var lowerKey = lower(key);
            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {
                return true;
            }
            else {
                var lowestPossibleCasing = null;
                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {
                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);
                    if (casing === null && lowestPossibleCasing === null)
                        firstPossibleNeedle = i + 1;
                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {
                        lowestPossibleCasing = casing;
                    }
                }
                if (lowestPossibleCasing !== null) {
                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });
                }
                else {
                    advance(resolve);
                }
                return false;
            }
        });
        return c;
    }
    function createRange(lower, upper, lowerOpen, upperOpen) {
        return {
            type: 2 ,
            lower: lower,
            upper: upper,
            lowerOpen: lowerOpen,
            upperOpen: upperOpen
        };
    }
    function rangeEqual(value) {
        return {
            type: 1 ,
            lower: value,
            upper: value
        };
    }

    var WhereClause =  (function () {
        function WhereClause() {
        }
        Object.defineProperty(WhereClause.prototype, "Collection", {
            get: function () {
                return this._ctx.table.db.Collection;
            },
            enumerable: false,
            configurable: true
        });
        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {
            includeLower = includeLower !== false;
            includeUpper = includeUpper === true;
            try {
                if ((this._cmp(lower, upper) > 0) ||
                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))
                    return emptyCollection(this);
                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
        };
        WhereClause.prototype.equals = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return rangeEqual(value); });
        };
        WhereClause.prototype.above = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, true); });
        };
        WhereClause.prototype.aboveOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(value, undefined, false); });
        };
        WhereClause.prototype.below = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });
        };
        WhereClause.prototype.belowOrEqual = function (value) {
            if (value == null)
                return fail(this, INVALID_KEY_ARGUMENT);
            return new this.Collection(this, function () { return createRange(undefined, value); });
        };
        WhereClause.prototype.startsWith = function (str) {
            if (typeof str !== 'string')
                return fail(this, STRING_EXPECTED);
            return this.between(str, str + maxString, true, true);
        };
        WhereClause.prototype.startsWithIgnoreCase = function (str) {
            if (str === "")
                return this.startsWith(str);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);
        };
        WhereClause.prototype.equalsIgnoreCase = function (str) {
            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], "");
        };
        WhereClause.prototype.anyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, "");
        };
        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return emptyCollection(this);
            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);
        };
        WhereClause.prototype.anyOf = function () {
            var _this = this;
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            var compare = this._cmp;
            try {
                set.sort(compare);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            if (set.length === 0)
                return emptyCollection(this);
            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });
            c._ondirectionchange = function (direction) {
                compare = (direction === "next" ?
                    _this._ascending :
                    _this._descending);
                set.sort(compare);
            };
            var i = 0;
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (compare(key, set[i]) > 0) {
                    ++i;
                    if (i === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (compare(key, set[i]) === 0) {
                    return true;
                }
                else {
                    advance(function () { cursor.continue(set[i]); });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.notEqual = function (value) {
            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.noneOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (set.length === 0)
                return new this.Collection(this);
            try {
                set.sort(this._ascending);
            }
            catch (e) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var ranges = set.reduce(function (res, val) { return res ?
                res.concat([[res[res.length - 1][1], val]]) :
                [[minKey, val]]; }, null);
            ranges.push([set[set.length - 1], this.db._maxKey]);
            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });
        };
        WhereClause.prototype.inAnyRange = function (ranges, options) {
            var _this = this;
            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;
            if (ranges.length === 0)
                return emptyCollection(this);
            if (!ranges.every(function (range) {
                return range[0] !== undefined &&
                    range[1] !== undefined &&
                    ascending(range[0], range[1]) <= 0;
            })) {
                return fail(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", exceptions.InvalidArgument);
            }
            var includeLowers = !options || options.includeLowers !== false;
            var includeUppers = options && options.includeUppers === true;
            function addRange(ranges, newRange) {
                var i = 0, l = ranges.length;
                for (; i < l; ++i) {
                    var range = ranges[i];
                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {
                        range[0] = min(range[0], newRange[0]);
                        range[1] = max(range[1], newRange[1]);
                        break;
                    }
                }
                if (i === l)
                    ranges.push(newRange);
                return ranges;
            }
            var sortDirection = ascending;
            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }
            var set;
            try {
                set = ranges.reduce(addRange, []);
                set.sort(rangeSorter);
            }
            catch (ex) {
                return fail(this, INVALID_KEY_ARGUMENT);
            }
            var rangePos = 0;
            var keyIsBeyondCurrentEntry = includeUppers ?
                function (key) { return ascending(key, set[rangePos][1]) > 0; } :
                function (key) { return ascending(key, set[rangePos][1]) >= 0; };
            var keyIsBeforeCurrentEntry = includeLowers ?
                function (key) { return descending(key, set[rangePos][0]) > 0; } :
                function (key) { return descending(key, set[rangePos][0]) >= 0; };
            function keyWithinCurrentRange(key) {
                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);
            }
            var checkKey = keyIsBeyondCurrentEntry;
            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });
            c._ondirectionchange = function (direction) {
                if (direction === "next") {
                    checkKey = keyIsBeyondCurrentEntry;
                    sortDirection = ascending;
                }
                else {
                    checkKey = keyIsBeforeCurrentEntry;
                    sortDirection = descending;
                }
                set.sort(rangeSorter);
            };
            c._addAlgorithm(function (cursor, advance, resolve) {
                var key = cursor.key;
                while (checkKey(key)) {
                    ++rangePos;
                    if (rangePos === set.length) {
                        advance(resolve);
                        return false;
                    }
                }
                if (keyWithinCurrentRange(key)) {
                    return true;
                }
                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {
                    return false;
                }
                else {
                    advance(function () {
                        if (sortDirection === ascending)
                            cursor.continue(set[rangePos][0]);
                        else
                            cursor.continue(set[rangePos][1]);
                    });
                    return false;
                }
            });
            return c;
        };
        WhereClause.prototype.startsWithAnyOf = function () {
            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
            if (!set.every(function (s) { return typeof s === 'string'; })) {
                return fail(this, "startsWithAnyOf() only works with strings");
            }
            if (set.length === 0)
                return emptyCollection(this);
            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));
        };
        return WhereClause;
    }());

    function createWhereClauseConstructor(db) {
        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {
            this.db = db;
            this._ctx = {
                table: table,
                index: index === ":id" ? null : index,
                or: orCollection
            };
            this._cmp = this._ascending = cmp;
            this._descending = function (a, b) { return cmp(b, a); };
            this._max = function (a, b) { return cmp(a, b) > 0 ? a : b; };
            this._min = function (a, b) { return cmp(a, b) < 0 ? a : b; };
            this._IDBKeyRange = db._deps.IDBKeyRange;
            if (!this._IDBKeyRange)
                throw new exceptions.MissingAPI();
        });
    }

    function eventRejectHandler(reject) {
        return wrap(function (event) {
            preventDefault(event);
            reject(event.target.error);
            return false;
        });
    }
    function preventDefault(event) {
        if (event.stopPropagation)
            event.stopPropagation();
        if (event.preventDefault)
            event.preventDefault();
    }

    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';
    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';
    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);

    var Transaction =  (function () {
        function Transaction() {
        }
        Transaction.prototype._lock = function () {
            assert(!PSD.global);
            ++this._reculock;
            if (this._reculock === 1 && !PSD.global)
                PSD.lockOwnerFor = this;
            return this;
        };
        Transaction.prototype._unlock = function () {
            assert(!PSD.global);
            if (--this._reculock === 0) {
                if (!PSD.global)
                    PSD.lockOwnerFor = null;
                while (this._blockedFuncs.length > 0 && !this._locked()) {
                    var fnAndPSD = this._blockedFuncs.shift();
                    try {
                        usePSD(fnAndPSD[1], fnAndPSD[0]);
                    }
                    catch (e) { }
                }
            }
            return this;
        };
        Transaction.prototype._locked = function () {
            return this._reculock && PSD.lockOwnerFor !== this;
        };
        Transaction.prototype.create = function (idbtrans) {
            var _this = this;
            if (!this.mode)
                return this;
            var idbdb = this.db.idbdb;
            var dbOpenError = this.db._state.dbOpenError;
            assert(!this.idbtrans);
            if (!idbtrans && !idbdb) {
                switch (dbOpenError && dbOpenError.name) {
                    case "DatabaseClosedError":
                        throw new exceptions.DatabaseClosed(dbOpenError);
                    case "MissingAPIError":
                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);
                    default:
                        throw new exceptions.OpenFailed(dbOpenError);
                }
            }
            if (!this.active)
                throw new exceptions.TransactionInactive();
            assert(this._completion._state === null);
            idbtrans = this.idbtrans = idbtrans ||
                (this.db.core
                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })
                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));
            idbtrans.onerror = wrap(function (ev) {
                preventDefault(ev);
                _this._reject(idbtrans.error);
            });
            idbtrans.onabort = wrap(function (ev) {
                preventDefault(ev);
                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));
                _this.active = false;
                _this.on("abort").fire(ev);
            });
            idbtrans.oncomplete = wrap(function () {
                _this.active = false;
                _this._resolve();
                if ('mutatedParts' in idbtrans) {
                    globalEvents.storagemutated.fire(idbtrans["mutatedParts"]);
                }
            });
            return this;
        };
        Transaction.prototype._promise = function (mode, fn, bWriteLock) {
            var _this = this;
            if (mode === 'readwrite' && this.mode !== 'readwrite')
                return rejection(new exceptions.ReadOnly("Transaction is readonly"));
            if (!this.active)
                return rejection(new exceptions.TransactionInactive());
            if (this._locked()) {
                return new DexiePromise(function (resolve, reject) {
                    _this._blockedFuncs.push([function () {
                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);
                        }, PSD]);
                });
            }
            else if (bWriteLock) {
                return newScope(function () {
                    var p = new DexiePromise(function (resolve, reject) {
                        _this._lock();
                        var rv = fn(resolve, reject, _this);
                        if (rv && rv.then)
                            rv.then(resolve, reject);
                    });
                    p.finally(function () { return _this._unlock(); });
                    p._lib = true;
                    return p;
                });
            }
            else {
                var p = new DexiePromise(function (resolve, reject) {
                    var rv = fn(resolve, reject, _this);
                    if (rv && rv.then)
                        rv.then(resolve, reject);
                });
                p._lib = true;
                return p;
            }
        };
        Transaction.prototype._root = function () {
            return this.parent ? this.parent._root() : this;
        };
        Transaction.prototype.waitFor = function (promiseLike) {
            var root = this._root();
            var promise = DexiePromise.resolve(promiseLike);
            if (root._waitingFor) {
                root._waitingFor = root._waitingFor.then(function () { return promise; });
            }
            else {
                root._waitingFor = promise;
                root._waitingQueue = [];
                var store = root.idbtrans.objectStore(root.storeNames[0]);
                (function spin() {
                    ++root._spinCount;
                    while (root._waitingQueue.length)
                        (root._waitingQueue.shift())();
                    if (root._waitingFor)
                        store.get(-Infinity).onsuccess = spin;
                }());
            }
            var currentWaitPromise = root._waitingFor;
            return new DexiePromise(function (resolve, reject) {
                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {
                    if (root._waitingFor === currentWaitPromise) {
                        root._waitingFor = null;
                    }
                });
            });
        };
        Transaction.prototype.abort = function () {
            if (this.active) {
                this.active = false;
                if (this.idbtrans)
                    this.idbtrans.abort();
                this._reject(new exceptions.Abort());
            }
        };
        Transaction.prototype.table = function (tableName) {
            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));
            if (hasOwn(memoizedTables, tableName))
                return memoizedTables[tableName];
            var tableSchema = this.schema[tableName];
            if (!tableSchema) {
                throw new exceptions.NotFound("Table " + tableName + " not part of transaction");
            }
            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);
            transactionBoundTable.core = this.db.core.table(tableName);
            memoizedTables[tableName] = transactionBoundTable;
            return transactionBoundTable;
        };
        return Transaction;
    }());

    function createTransactionConstructor(db) {
        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {
            var _this = this;
            if (mode !== 'readonly')
                storeNames.forEach(function (storeName) {
                    var _a;
                    var yProps = (_a = dbschema[storeName]) === null || _a === void 0 ? void 0 : _a.yProps;
                    if (yProps)
                        storeNames = storeNames.concat(yProps.map(function (p) { return p.updatesTable; }));
                });
            this.db = db;
            this.mode = mode;
            this.storeNames = storeNames;
            this.schema = dbschema;
            this.chromeTransactionDurability = chromeTransactionDurability;
            this.idbtrans = null;
            this.on = Events(this, "complete", "error", "abort");
            this.parent = parent || null;
            this.active = true;
            this._reculock = 0;
            this._blockedFuncs = [];
            this._resolve = null;
            this._reject = null;
            this._waitingFor = null;
            this._waitingQueue = null;
            this._spinCount = 0;
            this._completion = new DexiePromise(function (resolve, reject) {
                _this._resolve = resolve;
                _this._reject = reject;
            });
            this._completion.then(function () {
                _this.active = false;
                _this.on.complete.fire();
            }, function (e) {
                var wasActive = _this.active;
                _this.active = false;
                _this.on.error.fire(e);
                _this.parent ?
                    _this.parent._reject(e) :
                    wasActive && _this.idbtrans && _this.idbtrans.abort();
                return rejection(e);
            });
        });
    }

    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey, type) {
        return {
            name: name,
            keyPath: keyPath,
            unique: unique,
            multi: multi,
            auto: auto,
            compound: compound,
            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? "++" : "") + nameFromKeyPath(keyPath),
            type: type
        };
    }
    function nameFromKeyPath(keyPath) {
        return typeof keyPath === 'string' ?
            keyPath :
            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : "";
    }

    function createTableSchema(name, primKey, indexes) {
        return {
            name: name,
            primKey: primKey,
            indexes: indexes,
            mappedClass: null,
            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; }),
        };
    }

    function safariMultiStoreFix(storeNames) {
        return storeNames.length === 1 ? storeNames[0] : storeNames;
    }
    var getMaxKey = function (IdbKeyRange) {
        try {
            IdbKeyRange.only([[]]);
            getMaxKey = function () { return [[]]; };
            return [[]];
        }
        catch (e) {
            getMaxKey = function () { return maxString; };
            return maxString;
        }
    };

    function getKeyExtractor(keyPath) {
        if (keyPath == null) {
            return function () { return undefined; };
        }
        else if (typeof keyPath === 'string') {
            return getSinglePathKeyExtractor(keyPath);
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }
    function getSinglePathKeyExtractor(keyPath) {
        var split = keyPath.split('.');
        if (split.length === 1) {
            return function (obj) { return obj[keyPath]; };
        }
        else {
            return function (obj) { return getByKeyPath(obj, keyPath); };
        }
    }

    function arrayify(arrayLike) {
        return [].slice.call(arrayLike);
    }
    var _id_counter = 0;
    function getKeyPathAlias(keyPath) {
        return keyPath == null ?
            ":id" :
            typeof keyPath === 'string' ?
                keyPath :
                "[".concat(keyPath.join('+'), "]");
    }
    function createDBCore(db, IdbKeyRange, tmpTrans) {
        function extractSchema(db, trans) {
            var tables = arrayify(db.objectStoreNames);
            return {
                schema: {
                    name: db.name,
                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {
                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;
                        var compound = isArray(keyPath);
                        var outbound = keyPath == null;
                        var indexByKeyPath = {};
                        var result = {
                            name: store.name,
                            primaryKey: {
                                name: null,
                                isPrimaryKey: true,
                                outbound: outbound,
                                compound: compound,
                                keyPath: keyPath,
                                autoIncrement: autoIncrement,
                                unique: true,
                                extractKey: getKeyExtractor(keyPath)
                            },
                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })
                                .map(function (index) {
                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;
                                var compound = isArray(keyPath);
                                var result = {
                                    name: name,
                                    compound: compound,
                                    keyPath: keyPath,
                                    unique: unique,
                                    multiEntry: multiEntry,
                                    extractKey: getKeyExtractor(keyPath)
                                };
                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;
                                return result;
                            }),
                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }
                        };
                        indexByKeyPath[":id"] = result.primaryKey;
                        if (keyPath != null) {
                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;
                        }
                        return result;
                    })
                },
                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&
                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
                        !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
                        [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604)
            };
        }
        function makeIDBKeyRange(range) {
            if (range.type === 3 )
                return null;
            if (range.type === 4 )
                throw new Error("Cannot convert never type to IDBKeyRange");
            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;
            var idbRange = lower === undefined ?
                upper === undefined ?
                    null :
                    IdbKeyRange.upperBound(upper, !!upperOpen) :
                upper === undefined ?
                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :
                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);
            return idbRange;
        }
        function createDbCoreTable(tableSchema) {
            var tableName = tableSchema.name;
            function mutate(_a) {
                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var store = trans.objectStore(tableName);
                    var outbound = store.keyPath == null;
                    var isAddOrPut = type === "put" || type === "add";
                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')
                        throw new Error("Invalid operation type: " + type);
                    var length = (keys || values || { length: 1 }).length;
                    if (keys && values && keys.length !== values.length) {
                        throw new Error("Given keys array must have same length as given values array.");
                    }
                    if (length === 0)
                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });
                    var req;
                    var reqs = [];
                    var failures = [];
                    var numFailures = 0;
                    var errorHandler = function (event) {
                        ++numFailures;
                        preventDefault(event);
                    };
                    if (type === 'deleteRange') {
                        if (range.type === 4 )
                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });
                        if (range.type === 3 )
                            reqs.push(req = store.clear());
                        else
                            reqs.push(req = store.delete(makeIDBKeyRange(range)));
                    }
                    else {
                        var _a = isAddOrPut ?
                            outbound ?
                                [values, keys] :
                                [values, null] :
                            [keys, null], args1 = _a[0], args2 = _a[1];
                        if (isAddOrPut) {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = (args2 && args2[i] !== undefined ?
                                    store[type](args1[i], args2[i]) :
                                    store[type](args1[i])));
                                req.onerror = errorHandler;
                            }
                        }
                        else {
                            for (var i = 0; i < length; ++i) {
                                reqs.push(req = store[type](args1[i]));
                                req.onerror = errorHandler;
                            }
                        }
                    }
                    var done = function (event) {
                        var lastResult = event.target.result;
                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });
                        resolve({
                            numFailures: numFailures,
                            failures: failures,
                            results: type === "delete" ? keys : reqs.map(function (req) { return req.result; }),
                            lastResult: lastResult
                        });
                    };
                    req.onerror = function (event) {
                        errorHandler(event);
                        done(event);
                    };
                    req.onsuccess = done;
                });
            }
            function openCursor(_a) {
                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;
                return new Promise(function (resolve, reject) {
                    resolve = wrap(resolve);
                    var index = query.index, range = query.range;
                    var store = trans.objectStore(tableName);
                    var source = index.isPrimaryKey ?
                        store :
                        store.index(index.name);
                    var direction = reverse ?
                        unique ?
                            "prevunique" :
                            "prev" :
                        unique ?
                            "nextunique" :
                            "next";
                    var req = values || !('openKeyCursor' in source) ?
                        source.openCursor(makeIDBKeyRange(range), direction) :
                        source.openKeyCursor(makeIDBKeyRange(range), direction);
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function (ev) {
                        var cursor = req.result;
                        if (!cursor) {
                            resolve(null);
                            return;
                        }
                        cursor.___id = ++_id_counter;
                        cursor.done = false;
                        var _cursorContinue = cursor.continue.bind(cursor);
                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;
                        if (_cursorContinuePrimaryKey)
                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);
                        var _cursorAdvance = cursor.advance.bind(cursor);
                        var doThrowCursorIsNotStarted = function () { throw new Error("Cursor not started"); };
                        var doThrowCursorIsStopped = function () { throw new Error("Cursor not stopped"); };
                        cursor.trans = trans;
                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;
                        cursor.fail = wrap(reject);
                        cursor.next = function () {
                            var _this = this;
                            var gotOne = 1;
                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });
                        };
                        cursor.start = function (callback) {
                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {
                                resolveIteration = wrap(resolveIteration);
                                req.onerror = eventRejectHandler(rejectIteration);
                                cursor.fail = rejectIteration;
                                cursor.stop = function (value) {
                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;
                                    resolveIteration(value);
                                };
                            });
                            var guardedCallback = function () {
                                if (req.result) {
                                    try {
                                        callback();
                                    }
                                    catch (err) {
                                        cursor.fail(err);
                                    }
                                }
                                else {
                                    cursor.done = true;
                                    cursor.start = function () { throw new Error("Cursor behind last entry"); };
                                    cursor.stop();
                                }
                            };
                            req.onsuccess = wrap(function (ev) {
                                req.onsuccess = guardedCallback;
                                guardedCallback();
                            });
                            cursor.continue = _cursorContinue;
                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;
                            cursor.advance = _cursorAdvance;
                            guardedCallback();
                            return iterationPromise;
                        };
                        resolve(cursor);
                    }, reject);
                });
            }
            function query(hasGetAll) {
                return function (request) {
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;
                        var nonInfinitLimit = limit === Infinity ? undefined : limit;
                        var index = query.index, range = query.range;
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        if (limit === 0)
                            return resolve({ result: [] });
                        if (hasGetAll) {
                            var req = values ?
                                source.getAll(idbKeyRange, nonInfinitLimit) :
                                source.getAllKeys(idbKeyRange, nonInfinitLimit);
                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };
                            req.onerror = eventRejectHandler(reject);
                        }
                        else {
                            var count_1 = 0;
                            var req_1 = values || !('openKeyCursor' in source) ?
                                source.openCursor(idbKeyRange) :
                                source.openKeyCursor(idbKeyRange);
                            var result_1 = [];
                            req_1.onsuccess = function (event) {
                                var cursor = req_1.result;
                                if (!cursor)
                                    return resolve({ result: result_1 });
                                result_1.push(values ? cursor.value : cursor.primaryKey);
                                if (++count_1 === limit)
                                    return resolve({ result: result_1 });
                                cursor.continue();
                            };
                            req_1.onerror = eventRejectHandler(reject);
                        }
                    });
                };
            }
            return {
                name: tableName,
                schema: tableSchema,
                mutate: mutate,
                getMany: function (_a) {
                    var trans = _a.trans, keys = _a.keys;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var length = keys.length;
                        var result = new Array(length);
                        var keyCount = 0;
                        var callbackCount = 0;
                        var req;
                        var successHandler = function (event) {
                            var req = event.target;
                            if ((result[req._pos] = req.result) != null)
                                ;
                            if (++callbackCount === keyCount)
                                resolve(result);
                        };
                        var errorHandler = eventRejectHandler(reject);
                        for (var i = 0; i < length; ++i) {
                            var key = keys[i];
                            if (key != null) {
                                req = store.get(keys[i]);
                                req._pos = i;
                                req.onsuccess = successHandler;
                                req.onerror = errorHandler;
                                ++keyCount;
                            }
                        }
                        if (keyCount === 0)
                            resolve(result);
                    });
                },
                get: function (_a) {
                    var trans = _a.trans, key = _a.key;
                    return new Promise(function (resolve, reject) {
                        resolve = wrap(resolve);
                        var store = trans.objectStore(tableName);
                        var req = store.get(key);
                        req.onsuccess = function (event) { return resolve(event.target.result); };
                        req.onerror = eventRejectHandler(reject);
                    });
                },
                query: query(hasGetAll),
                openCursor: openCursor,
                count: function (_a) {
                    var query = _a.query, trans = _a.trans;
                    var index = query.index, range = query.range;
                    return new Promise(function (resolve, reject) {
                        var store = trans.objectStore(tableName);
                        var source = index.isPrimaryKey ? store : store.index(index.name);
                        var idbKeyRange = makeIDBKeyRange(range);
                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();
                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });
                        req.onerror = eventRejectHandler(reject);
                    });
                }
            };
        }
        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;
        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });
        var tableMap = {};
        tables.forEach(function (table) { return tableMap[table.name] = table; });
        return {
            stack: "dbcore",
            transaction: db.transaction.bind(db),
            table: function (name) {
                var result = tableMap[name];
                if (!result)
                    throw new Error("Table '".concat(name, "' not found"));
                return tableMap[name];
            },
            MIN_KEY: -Infinity,
            MAX_KEY: getMaxKey(IdbKeyRange),
            schema: schema
        };
    }

    function createMiddlewareStack(stackImpl, middlewares) {
        return middlewares.reduce(function (down, _a) {
            var create = _a.create;
            return (__assign(__assign({}, down), create(down)));
        }, stackImpl);
    }
    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {
        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;
        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);
        return {
            dbcore: dbcore
        };
    }
    function generateMiddlewareStacks(db, tmpTrans) {
        var idbdb = tmpTrans.db;
        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);
        db.core = stacks.dbcore;
        db.tables.forEach(function (table) {
            var tableName = table.name;
            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {
                table.core = db.core.table(tableName);
                if (db[tableName] instanceof db.Table) {
                    db[tableName].core = table.core;
                }
            }
        });
    }

    function setApiOnPlace(db, objs, tableNames, dbschema) {
        tableNames.forEach(function (tableName) {
            var schema = dbschema[tableName];
            objs.forEach(function (obj) {
                var propDesc = getPropertyDescriptor(obj, tableName);
                if (!propDesc || ("value" in propDesc && propDesc.value === undefined)) {
                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {
                        setProp(obj, tableName, {
                            get: function () { return this.table(tableName); },
                            set: function (value) {
                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });
                            }
                        });
                    }
                    else {
                        obj[tableName] = new db.Table(tableName, schema);
                    }
                }
            });
        });
    }
    function removeTablesApi(db, objs) {
        objs.forEach(function (obj) {
            for (var key in obj) {
                if (obj[key] instanceof db.Table)
                    delete obj[key];
            }
        });
    }
    function lowerVersionFirst(a, b) {
        return a._cfg.version - b._cfg.version;
    }
    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {
        var globalSchema = db._dbSchema;
        if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {
            globalSchema.$meta = createTableSchema("$meta", parseIndexSyntax("")[0], []);
            db._storeNames.push('$meta');
        }
        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);
        trans.create(idbUpgradeTrans);
        trans._completion.catch(reject);
        var rejectTransaction = trans._reject.bind(trans);
        var transless = PSD.transless || PSD;
        newScope(function () {
            PSD.trans = trans;
            PSD.transless = transless;
            if (oldVersion === 0) {
                keys(globalSchema).forEach(function (tableName) {
                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);
                });
                generateMiddlewareStacks(db, idbUpgradeTrans);
                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);
            }
            else {
                generateMiddlewareStacks(db, idbUpgradeTrans);
                return getExistingVersion(db, trans, oldVersion)
                    .then(function (oldVersion) { return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans); })
                    .catch(rejectTransaction);
            }
        });
    }
    function patchCurrentVersion(db, idbUpgradeTrans) {
        createMissingTables(db._dbSchema, idbUpgradeTrans);
        if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {
            idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil((idbUpgradeTrans.db.version / 10) - 1), 'version');
        }
        var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);
        var diff = getSchemaDiff(globalSchema, db._dbSchema);
        var _loop_1 = function (tableChange) {
            if (tableChange.change.length || tableChange.recreate) {
                console.warn("Unable to patch indexes of table ".concat(tableChange.name, " because it has changes on the type of index or primary key."));
                return { value: void 0 };
            }
            var store = idbUpgradeTrans.objectStore(tableChange.name);
            tableChange.add.forEach(function (idx) {
                if (debug)
                    console.debug("Dexie upgrade patch: Creating missing index ".concat(tableChange.name, ".").concat(idx.src));
                addIndex(store, idx);
            });
        };
        for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {
            var tableChange = _a[_i];
            var state_1 = _loop_1(tableChange);
            if (typeof state_1 === "object")
                return state_1.value;
        }
    }
    function getExistingVersion(db, trans, oldVersion) {
        if (trans.storeNames.includes('$meta')) {
            return trans.table('$meta').get('version').then(function (metaVersion) {
                return metaVersion != null ? metaVersion : oldVersion;
            });
        }
        else {
            return DexiePromise.resolve(oldVersion);
        }
    }
    function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {
        var queue = [];
        var versions = db._versions;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);
        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });
        if (versToRun.length === 0) {
            return DexiePromise.resolve();
        }
        versToRun.forEach(function (version) {
            queue.push(function () {
                var oldSchema = globalSchema;
                var newSchema = version._cfg.dbschema;
                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);
                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);
                globalSchema = db._dbSchema = newSchema;
                var diff = getSchemaDiff(oldSchema, newSchema);
                diff.add.forEach(function (tuple) {
                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);
                });
                diff.change.forEach(function (change) {
                    if (change.recreate) {
                        throw new exceptions.Upgrade("Not yet support for changing primary key");
                    }
                    else {
                        var store_1 = idbUpgradeTrans.objectStore(change.name);
                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });
                        change.change.forEach(function (idx) {
                            store_1.deleteIndex(idx.name);
                            addIndex(store_1, idx);
                        });
                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });
                    }
                });
                var contentUpgrade = version._cfg.contentUpgrade;
                if (contentUpgrade && version._cfg.version > oldVersion) {
                    generateMiddlewareStacks(db, idbUpgradeTrans);
                    trans._memoizedTables = {};
                    var upgradeSchema_1 = shallowClone(newSchema);
                    diff.del.forEach(function (table) {
                        upgradeSchema_1[table] = oldSchema[table];
                    });
                    removeTablesApi(db, [db.Transaction.prototype]);
                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);
                    trans.schema = upgradeSchema_1;
                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);
                    if (contentUpgradeIsAsync_1) {
                        incrementExpectedAwaits();
                    }
                    var returnValue_1;
                    var promiseFollowed = DexiePromise.follow(function () {
                        returnValue_1 = contentUpgrade(trans);
                        if (returnValue_1) {
                            if (contentUpgradeIsAsync_1) {
                                var decrementor = decrementExpectedAwaits.bind(null, null);
                                returnValue_1.then(decrementor, decrementor);
                            }
                        }
                    });
                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?
                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));
                }
            });
            queue.push(function (idbtrans) {
                var newSchema = version._cfg.dbschema;
                deleteRemovedTables(newSchema, idbtrans);
                removeTablesApi(db, [db.Transaction.prototype]);
                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);
                trans.schema = db._dbSchema;
            });
            queue.push(function (idbtrans) {
                if (db.idbdb.objectStoreNames.contains('$meta')) {
                    if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {
                        db.idbdb.deleteObjectStore('$meta');
                        delete db._dbSchema.$meta;
                        db._storeNames = db._storeNames.filter(function (name) { return name !== '$meta'; });
                    }
                    else {
                        idbtrans.objectStore('$meta').put(version._cfg.version, 'version');
                    }
                }
            });
        });
        function runQueue() {
            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :
                DexiePromise.resolve();
        }
        return runQueue().then(function () {
            createMissingTables(globalSchema, idbUpgradeTrans);
        });
    }
    function getSchemaDiff(oldSchema, newSchema) {
        var diff = {
            del: [],
            add: [],
            change: []
        };
        var table;
        for (table in oldSchema) {
            if (!newSchema[table])
                diff.del.push(table);
        }
        for (table in newSchema) {
            var oldDef = oldSchema[table], newDef = newSchema[table];
            if (!oldDef) {
                diff.add.push([table, newDef]);
            }
            else {
                var change = {
                    name: table,
                    def: newDef,
                    recreate: false,
                    del: [],
                    add: [],
                    change: []
                };
                if ((
                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||
                    (oldDef.primKey.auto !== newDef.primKey.auto)) {
                    change.recreate = true;
                    diff.change.push(change);
                }
                else {
                    var oldIndexes = oldDef.idxByName;
                    var newIndexes = newDef.idxByName;
                    var idxName = void 0;
                    for (idxName in oldIndexes) {
                        if (!newIndexes[idxName])
                            change.del.push(idxName);
                    }
                    for (idxName in newIndexes) {
                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];
                        if (!oldIdx)
                            change.add.push(newIdx);
                        else if (oldIdx.src !== newIdx.src)
                            change.change.push(newIdx);
                    }
                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {
                        diff.change.push(change);
                    }
                }
            }
        }
        return diff;
    }
    function createTable(idbtrans, tableName, primKey, indexes) {
        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?
            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :
            { autoIncrement: primKey.auto });
        indexes.forEach(function (idx) { return addIndex(store, idx); });
        return store;
    }
    function createMissingTables(newSchema, idbtrans) {
        keys(newSchema).forEach(function (tableName) {
            if (!idbtrans.db.objectStoreNames.contains(tableName)) {
                if (debug)
                    console.debug('Dexie: Creating missing table', tableName);
                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);
            }
        });
    }
    function deleteRemovedTables(newSchema, idbtrans) {
        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {
            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);
        });
    }
    function addIndex(store, idx) {
        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });
    }
    function buildGlobalSchema(db, idbdb, tmpTrans) {
        var globalSchema = {};
        var dbStoreNames = slice(idbdb.objectStoreNames, 0);
        dbStoreNames.forEach(function (storeName) {
            var store = tmpTrans.objectStore(storeName);
            var keyPath = store.keyPath;
            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || "", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== "string", true);
            var indexes = [];
            for (var j = 0; j < store.indexNames.length; ++j) {
                var idbindex = store.index(store.indexNames[j]);
                keyPath = idbindex.keyPath;
                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== "string", false);
                indexes.push(index);
            }
            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);
        });
        return globalSchema;
    }
    function readGlobalSchema(db, idbdb, tmpTrans) {
        db.verno = idbdb.version / 10;
        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);
        db._storeNames = slice(idbdb.objectStoreNames, 0);
        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);
    }
    function verifyInstalledSchema(db, tmpTrans) {
        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);
        var diff = getSchemaDiff(installedSchema, db._dbSchema);
        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));
    }
    function adjustToExistingIndexNames(db, schema, idbtrans) {
        var storeNames = idbtrans.db.objectStoreNames;
        for (var i = 0; i < storeNames.length; ++i) {
            var storeName = storeNames[i];
            var store = idbtrans.objectStore(storeName);
            db._hasGetAll = 'getAll' in store;
            for (var j = 0; j < store.indexNames.length; ++j) {
                var indexName = store.indexNames[j];
                var keyPath = store.index(indexName).keyPath;
                var dexieName = typeof keyPath === 'string' ? keyPath : "[" + slice(keyPath).join('+') + "]";
                if (schema[storeName]) {
                    var indexSpec = schema[storeName].idxByName[dexieName];
                    if (indexSpec) {
                        indexSpec.name = indexName;
                        delete schema[storeName].idxByName[dexieName];
                        schema[storeName].idxByName[indexName] = indexSpec;
                    }
                }
            }
        }
        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&
            !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&
            [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) {
            db._hasGetAll = false;
        }
    }
    function parseIndexSyntax(primKeyAndIndexes) {
        return primKeyAndIndexes.split(',').map(function (index, indexNum) {
            var _a;
            var typeSplit = index.split(':');
            var type = (_a = typeSplit[1]) === null || _a === void 0 ? void 0 : _a.trim();
            index = typeSplit[0].trim();
            var name = index.replace(/([&*]|\+\+)/g, "");
            var keyPath = /^\[/.test(name) ? name.match(/^\[(.*)\]$/)[1].split('+') : name;
            return createIndexSpec(name, keyPath || null, /\&/.test(index), /\*/.test(index), /\+\+/.test(index), isArray(keyPath), indexNum === 0, type);
        });
    }

    var Version =  (function () {
        function Version() {
        }
        Version.prototype._createTableSchema = function (name, primKey, indexes) {
            return createTableSchema(name, primKey, indexes);
        };
        Version.prototype._parseIndexSyntax = function (primKeyAndIndexes) {
            return parseIndexSyntax(primKeyAndIndexes);
        };
        Version.prototype._parseStoresSpec = function (stores, outSchema) {
            var _this = this;
            keys(stores).forEach(function (tableName) {
                if (stores[tableName] !== null) {
                    var indexes = _this._parseIndexSyntax(stores[tableName]);
                    var primKey = indexes.shift();
                    if (!primKey) {
                        throw new exceptions.Schema('Invalid schema for table ' + tableName + ': ' + stores[tableName]);
                    }
                    primKey.unique = true;
                    if (primKey.multi)
                        throw new exceptions.Schema('Primary key cannot be multiEntry*');
                    indexes.forEach(function (idx) {
                        if (idx.auto)
                            throw new exceptions.Schema('Only primary key can be marked as autoIncrement (++)');
                        if (!idx.keyPath)
                            throw new exceptions.Schema('Index must have a name and cannot be an empty string');
                    });
                    var tblSchema = _this._createTableSchema(tableName, primKey, indexes);
                    outSchema[tableName] = tblSchema;
                }
            });
        };
        Version.prototype.stores = function (stores) {
            var db = this.db;
            this._cfg.storesSource = this._cfg.storesSource
                ? extend(this._cfg.storesSource, stores)
                : stores;
            var versions = db._versions;
            var storesSpec = {};
            var dbschema = {};
            versions.forEach(function (version) {
                extend(storesSpec, version._cfg.storesSource);
                dbschema = version._cfg.dbschema = {};
                version._parseStoresSpec(storesSpec, dbschema);
            });
            db._dbSchema = dbschema;
            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);
            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);
            db._storeNames = keys(dbschema);
            return this;
        };
        Version.prototype.upgrade = function (upgradeFunction) {
            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);
            return this;
        };
        return Version;
    }());

    function createVersionConstructor(db) {
        return makeClassConstructor(Version.prototype, function Version(versionNumber) {
            this.db = db;
            this._cfg = {
                version: versionNumber,
                storesSource: null,
                dbschema: {},
                tables: {},
                contentUpgrade: null
            };
        });
    }

    function getDbNamesTable(indexedDB, IDBKeyRange) {
        var dbNamesDB = indexedDB["_dbNamesDB"];
        if (!dbNamesDB) {
            dbNamesDB = indexedDB["_dbNamesDB"] = new Dexie$1(DBNAMES_DB, {
                addons: [],
                indexedDB: indexedDB,
                IDBKeyRange: IDBKeyRange,
            });
            dbNamesDB.version(1).stores({ dbnames: "name" });
        }
        return dbNamesDB.table("dbnames");
    }
    function hasDatabasesNative(indexedDB) {
        return indexedDB && typeof indexedDB.databases === "function";
    }
    function getDatabaseNames(_a) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        return hasDatabasesNative(indexedDB)
            ? Promise.resolve(indexedDB.databases()).then(function (infos) {
                return infos
                    .map(function (info) { return info.name; })
                    .filter(function (name) { return name !== DBNAMES_DB; });
            })
            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();
    }
    function _onDatabaseCreated(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);
    }
    function _onDatabaseDeleted(_a, name) {
        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;
        !hasDatabasesNative(indexedDB) &&
            name !== DBNAMES_DB &&
            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);
    }

    function vip(fn) {
        return newScope(function () {
            PSD.letThrough = true;
            return fn();
        });
    }

    function idbReady() {
        var isSafari = !navigator.userAgentData &&
            /Safari\//.test(navigator.userAgent) &&
            !/Chrom(e|ium)\//.test(navigator.userAgent);
        if (!isSafari || !indexedDB.databases)
            return Promise.resolve();
        var intervalId;
        return new Promise(function (resolve) {
            var tryIdb = function () { return indexedDB.databases().finally(resolve); };
            intervalId = setInterval(tryIdb, 100);
            tryIdb();
        }).finally(function () { return clearInterval(intervalId); });
    }

    var _a;
    function isEmptyRange(node) {
        return !("from" in node);
    }
    var RangeSet = function (fromOrTree, to) {
        if (this) {
            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });
        }
        else {
            var rv = new RangeSet();
            if (fromOrTree && ("d" in fromOrTree)) {
                extend(rv, fromOrTree);
            }
            return rv;
        }
    };
    props(RangeSet.prototype, (_a = {
            add: function (rangeSet) {
                mergeRanges(this, rangeSet);
                return this;
            },
            addKey: function (key) {
                addRange(this, key, key);
                return this;
            },
            addKeys: function (keys) {
                var _this = this;
                keys.forEach(function (key) { return addRange(_this, key, key); });
                return this;
            },
            hasKey: function (key) {
                var node = getRangeSetIterator(this).next(key).value;
                return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;
            }
        },
        _a[iteratorSymbol] = function () {
            return getRangeSetIterator(this);
        },
        _a));
    function addRange(target, from, to) {
        var diff = cmp(from, to);
        if (isNaN(diff))
            return;
        if (diff > 0)
            throw RangeError();
        if (isEmptyRange(target))
            return extend(target, { from: from, to: to, d: 1 });
        var left = target.l;
        var right = target.r;
        if (cmp(to, target.from) < 0) {
            left
                ? addRange(left, from, to)
                : (target.l = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.to) > 0) {
            right
                ? addRange(right, from, to)
                : (target.r = { from: from, to: to, d: 1, l: null, r: null });
            return rebalance(target);
        }
        if (cmp(from, target.from) < 0) {
            target.from = from;
            target.l = null;
            target.d = right ? right.d + 1 : 1;
        }
        if (cmp(to, target.to) > 0) {
            target.to = to;
            target.r = null;
            target.d = target.l ? target.l.d + 1 : 1;
        }
        var rightWasCutOff = !target.r;
        if (left && !target.l) {
            mergeRanges(target, left);
        }
        if (right && rightWasCutOff) {
            mergeRanges(target, right);
        }
    }
    function mergeRanges(target, newSet) {
        function _addRangeSet(target, _a) {
            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;
            addRange(target, from, to);
            if (l)
                _addRangeSet(target, l);
            if (r)
                _addRangeSet(target, r);
        }
        if (!isEmptyRange(newSet))
            _addRangeSet(target, newSet);
    }
    function rangesOverlap(rangeSet1, rangeSet2) {
        var i1 = getRangeSetIterator(rangeSet2);
        var nextResult1 = i1.next();
        if (nextResult1.done)
            return false;
        var a = nextResult1.value;
        var i2 = getRangeSetIterator(rangeSet1);
        var nextResult2 = i2.next(a.from);
        var b = nextResult2.value;
        while (!nextResult1.done && !nextResult2.done) {
            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)
                return true;
            cmp(a.from, b.from) < 0
                ? (a = (nextResult1 = i1.next(b.from)).value)
                : (b = (nextResult2 = i2.next(a.from)).value);
        }
        return false;
    }
    function getRangeSetIterator(node) {
        var state = isEmptyRange(node) ? null : { s: 0, n: node };
        return {
            next: function (key) {
                var keyProvided = arguments.length > 0;
                while (state) {
                    switch (state.s) {
                        case 0:
                            state.s = 1;
                            if (keyProvided) {
                                while (state.n.l && cmp(key, state.n.from) < 0)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                            else {
                                while (state.n.l)
                                    state = { up: state, n: state.n.l, s: 1 };
                            }
                        case 1:
                            state.s = 2;
                            if (!keyProvided || cmp(key, state.n.to) <= 0)
                                return { value: state.n, done: false };
                        case 2:
                            if (state.n.r) {
                                state.s = 3;
                                state = { up: state, n: state.n.r, s: 0 };
                                continue;
                            }
                        case 3:
                            state = state.up;
                    }
                }
                return { done: true };
            },
        };
    }
    function rebalance(target) {
        var _a, _b;
        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);
        var r = diff > 1 ? "r" : diff < -1 ? "l" : "";
        if (r) {
            var l = r === "r" ? "l" : "r";
            var rootClone = __assign({}, target);
            var oldRootRight = target[r];
            target.from = oldRootRight.from;
            target.to = oldRootRight.to;
            target[r] = oldRootRight[r];
            rootClone[r] = oldRootRight[l];
            target[l] = rootClone;
            rootClone.d = computeDepth(rootClone);
        }
        target.d = computeDepth(target);
    }
    function computeDepth(_a) {
        var r = _a.r, l = _a.l;
        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;
    }

    function extendObservabilitySet(target, newSet) {
        keys(newSet).forEach(function (part) {
            if (target[part])
                mergeRanges(target[part], newSet[part]);
            else
                target[part] = cloneSimpleObjectTree(newSet[part]);
        });
        return target;
    }

    function obsSetsOverlap(os1, os2) {
        return os1.all || os2.all || Object.keys(os1).some(function (key) { return os2[key] && rangesOverlap(os2[key], os1[key]); });
    }

    var cache = {};

    var unsignaledParts = {};
    var isTaskEnqueued = false;
    function signalSubscribersLazily(part, optimistic) {
        extendObservabilitySet(unsignaledParts, part);
        if (!isTaskEnqueued) {
            isTaskEnqueued = true;
            setTimeout(function () {
                isTaskEnqueued = false;
                var parts = unsignaledParts;
                unsignaledParts = {};
                signalSubscribersNow(parts, false);
            }, 0);
        }
    }
    function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {
        if (deleteAffectedCacheEntries === void 0) { deleteAffectedCacheEntries = false; }
        var queriesToSignal = new Set();
        if (updatedParts.all) {
            for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {
                var tblCache = _a[_i];
                collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
            }
        }
        else {
            for (var key in updatedParts) {
                var parts = /^idb\:\/\/(.*)\/(.*)\//.exec(key);
                if (parts) {
                    var dbName = parts[1], tableName = parts[2];
                    var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                    if (tblCache)
                        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);
                }
            }
        }
        queriesToSignal.forEach(function (requery) { return requery(); });
    }
    function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {
        var updatedEntryLists = [];
        for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {
            var _b = _a[_i], indexName = _b[0], entries = _b[1];
            var filteredEntries = [];
            for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {
                var entry = entries_1[_c];
                if (obsSetsOverlap(updatedParts, entry.obsSet)) {
                    entry.subscribers.forEach(function (requery) { return outQueriesToSignal.add(requery); });
                }
                else if (deleteAffectedCacheEntries) {
                    filteredEntries.push(entry);
                }
            }
            if (deleteAffectedCacheEntries)
                updatedEntryLists.push([indexName, filteredEntries]);
        }
        if (deleteAffectedCacheEntries) {
            for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {
                var _e = updatedEntryLists_1[_d], indexName = _e[0], filteredEntries = _e[1];
                tblCache.queries.query[indexName] = filteredEntries;
            }
        }
    }

    function dexieOpen(db) {
        var state = db._state;
        var indexedDB = db._deps.indexedDB;
        if (state.isBeingOpened || db.idbdb)
            return state.dbReadyPromise.then(function () { return state.dbOpenError ?
                rejection(state.dbOpenError) :
                db; });
        state.isBeingOpened = true;
        state.dbOpenError = null;
        state.openComplete = false;
        var openCanceller = state.openCanceller;
        var nativeVerToOpen = Math.round(db.verno * 10);
        var schemaPatchMode = false;
        function throwIfCancelled() {
            if (state.openCanceller !== openCanceller)
                throw new exceptions.DatabaseClosed('db.open() was cancelled');
        }
        var resolveDbReady = state.dbReadyResolve,
        upgradeTransaction = null, wasCreated = false;
        var tryOpenDB = function () { return new DexiePromise(function (resolve, reject) {
            throwIfCancelled();
            if (!indexedDB)
                throw new exceptions.MissingAPI();
            var dbName = db.name;
            var req = state.autoSchema || !nativeVerToOpen ?
                indexedDB.open(dbName) :
                indexedDB.open(dbName, nativeVerToOpen);
            if (!req)
                throw new exceptions.MissingAPI();
            req.onerror = eventRejectHandler(reject);
            req.onblocked = wrap(db._fireOnBlocked);
            req.onupgradeneeded = wrap(function (e) {
                upgradeTransaction = req.transaction;
                if (state.autoSchema && !db._options.allowEmptyDB) {
                    req.onerror = preventDefault;
                    upgradeTransaction.abort();
                    req.result.close();
                    var delreq = indexedDB.deleteDatabase(dbName);
                    delreq.onsuccess = delreq.onerror = wrap(function () {
                        reject(new exceptions.NoSuchDatabase("Database ".concat(dbName, " doesnt exist")));
                    });
                }
                else {
                    upgradeTransaction.onerror = eventRejectHandler(reject);
                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;
                    wasCreated = oldVer < 1;
                    db.idbdb = req.result;
                    if (schemaPatchMode) {
                        patchCurrentVersion(db, upgradeTransaction);
                    }
                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);
                }
            }, reject);
            req.onsuccess = wrap(function () {
                upgradeTransaction = null;
                var idbdb = db.idbdb = req.result;
                var objectStoreNames = slice(idbdb.objectStoreNames);
                if (objectStoreNames.length > 0)
                    try {
                        var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');
                        if (state.autoSchema)
                            readGlobalSchema(db, idbdb, tmpTrans);
                        else {
                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);
                            if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {
                                console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.");
                                idbdb.close();
                                nativeVerToOpen = idbdb.version + 1;
                                schemaPatchMode = true;
                                return resolve(tryOpenDB());
                            }
                        }
                        generateMiddlewareStacks(db, tmpTrans);
                    }
                    catch (e) {
                    }
                connections.push(db);
                idbdb.onversionchange = wrap(function (ev) {
                    state.vcFired = true;
                    db.on("versionchange").fire(ev);
                });
                idbdb.onclose = wrap(function () {
                    db.close({ disableAutoOpen: false });
                });
                if (wasCreated)
                    _onDatabaseCreated(db._deps, dbName);
                resolve();
            }, reject);
        }).catch(function (err) {
            switch (err === null || err === void 0 ? void 0 : err.name) {
                case "UnknownError":
                    if (state.PR1398_maxLoop > 0) {
                        state.PR1398_maxLoop--;
                        console.warn('Dexie: Workaround for Chrome UnknownError on open()');
                        return tryOpenDB();
                    }
                    break;
                case "VersionError":
                    if (nativeVerToOpen > 0) {
                        nativeVerToOpen = 0;
                        return tryOpenDB();
                    }
                    break;
            }
            return DexiePromise.reject(err);
        }); };
        return DexiePromise.race([
            openCanceller,
            (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)
        ]).then(function () {
            throwIfCancelled();
            state.onReadyBeingFired = [];
            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {
                if (state.onReadyBeingFired.length > 0) {
                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);
                    state.onReadyBeingFired = [];
                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);
                }
            });
        }).finally(function () {
            if (state.openCanceller === openCanceller) {
                state.onReadyBeingFired = null;
                state.isBeingOpened = false;
            }
        }).catch(function (err) {
            state.dbOpenError = err;
            try {
                upgradeTransaction && upgradeTransaction.abort();
            }
            catch (_a) { }
            if (openCanceller === state.openCanceller) {
                db._close();
            }
            return rejection(err);
        }).finally(function () {
            state.openComplete = true;
            resolveDbReady();
        }).then(function () {
            if (wasCreated) {
                var everything_1 = {};
                db.tables.forEach(function (table) {
                    table.schema.indexes.forEach(function (idx) {
                        if (idx.name)
                            everything_1["idb://".concat(db.name, "/").concat(table.name, "/").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);
                    });
                    everything_1["idb://".concat(db.name, "/").concat(table.name, "/")] = everything_1["idb://".concat(db.name, "/").concat(table.name, "/:dels")] = new RangeSet(-Infinity, [[[]]]);
                });
                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);
                signalSubscribersNow(everything_1, true);
            }
            return db;
        });
    }

    function awaitIterator(iterator) {
        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);
        function step(getNext) {
            return function (val) {
                var next = getNext(val), value = next.value;
                return next.done ? value :
                    (!value || typeof value.then !== 'function' ?
                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :
                        value.then(onSuccess, onError));
            };
        }
        return step(callNext)();
    }

    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {
        var i = arguments.length;
        if (i < 2)
            throw new exceptions.InvalidArgument("Too few arguments");
        var args = new Array(i - 1);
        while (--i)
            args[i - 1] = arguments[i];
        scopeFunc = args.pop();
        var tables = flatten(args);
        return [mode, tables, scopeFunc];
    }
    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {
        return DexiePromise.resolve().then(function () {
            var transless = PSD.transless || PSD;
            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);
            trans.explicit = true;
            var zoneProps = {
                trans: trans,
                transless: transless
            };
            if (parentTransaction) {
                trans.idbtrans = parentTransaction.idbtrans;
            }
            else {
                try {
                    trans.create();
                    trans.idbtrans._explicit = true;
                    db._state.PR1398_maxLoop = 3;
                }
                catch (ex) {
                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {
                        console.warn('Dexie: Need to reopen db');
                        db.close({ disableAutoOpen: false });
                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });
                    }
                    return rejection(ex);
                }
            }
            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);
            if (scopeFuncIsAsync) {
                incrementExpectedAwaits();
            }
            var returnValue;
            var promiseFollowed = DexiePromise.follow(function () {
                returnValue = scopeFunc.call(trans, trans);
                if (returnValue) {
                    if (scopeFuncIsAsync) {
                        var decrementor = decrementExpectedAwaits.bind(null, null);
                        returnValue.then(decrementor, decrementor);
                    }
                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {
                        returnValue = awaitIterator(returnValue);
                    }
                }
            }, zoneProps);
            return (returnValue && typeof returnValue.then === 'function' ?
                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?
                    x
                    : rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")); })
                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {
                if (parentTransaction)
                    trans._resolve();
                return trans._completion.then(function () { return x; });
            }).catch(function (e) {
                trans._reject(e);
                return rejection(e);
            });
        });
    }

    function pad(a, value, count) {
        var result = isArray(a) ? a.slice() : [a];
        for (var i = 0; i < count; ++i)
            result.push(value);
        return result;
    }
    function createVirtualIndexMiddleware(down) {
        return __assign(__assign({}, down), { table: function (tableName) {
                var table = down.table(tableName);
                var schema = table.schema;
                var indexLookup = {};
                var allVirtualIndexes = [];
                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {
                    var keyPathAlias = getKeyPathAlias(keyPath);
                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);
                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;
                    var isVirtual = keyTail > 0;
                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { name: isVirtual
                            ? "".concat(keyPathAlias, "(virtual-from:").concat(lowLevelIndex.name, ")")
                            : lowLevelIndex.name, lowLevelIndex: lowLevelIndex, isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });
                    indexList.push(virtualIndex);
                    if (!virtualIndex.isPrimaryKey) {
                        allVirtualIndexes.push(virtualIndex);
                    }
                    if (keyLength > 1) {
                        var virtualKeyPath = keyLength === 2 ?
                            keyPath[0] :
                            keyPath.slice(0, keyLength - 1);
                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);
                    }
                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });
                    return virtualIndex;
                }
                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);
                indexLookup[":id"] = [primaryKey];
                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {
                    var index = _a[_i];
                    addVirtualIndexes(index.keyPath, 0, index);
                }
                function findBestIndex(keyPath) {
                    var result = indexLookup[getKeyPathAlias(keyPath)];
                    return result && result[0];
                }
                function translateRange(range, keyTail) {
                    return {
                        type: range.type === 1  ?
                            2  :
                            range.type,
                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),
                        lowerOpen: true,
                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),
                        upperOpen: true
                    };
                }
                function translateRequest(req) {
                    var index = req.query.index;
                    return index.isVirtual ? __assign(__assign({}, req), { query: {
                            index: index.lowLevelIndex,
                            range: translateRange(req.query.range, index.keyTail)
                        } }) : req;
                }
                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {
                        return table.count(translateRequest(req));
                    }, query: function (req) {
                        return table.query(translateRequest(req));
                    }, openCursor: function (req) {
                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;
                        if (!isVirtual)
                            return table.openCursor(req);
                        function createVirtualCursor(cursor) {
                            function _continue(key) {
                                key != null ?
                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :
                                    req.unique ?
                                        cursor.continue(cursor.key.slice(0, keyLength)
                                            .concat(req.reverse
                                            ? down.MIN_KEY
                                            : down.MAX_KEY, keyTail)) :
                                        cursor.continue();
                            }
                            var virtualCursor = Object.create(cursor, {
                                continue: { value: _continue },
                                continuePrimaryKey: {
                                    value: function (key, primaryKey) {
                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);
                                    }
                                },
                                primaryKey: {
                                    get: function () {
                                        return cursor.primaryKey;
                                    }
                                },
                                key: {
                                    get: function () {
                                        var key = cursor.key;
                                        return keyLength === 1 ?
                                            key[0] :
                                            key.slice(0, keyLength);
                                    }
                                },
                                value: {
                                    get: function () {
                                        return cursor.value;
                                    }
                                }
                            });
                            return virtualCursor;
                        }
                        return table.openCursor(translateRequest(req))
                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });
                    } });
                return result;
            } });
    }
    var virtualIndexMiddleware = {
        stack: "dbcore",
        name: "VirtualIndexMiddleware",
        level: 1,
        create: createVirtualIndexMiddleware
    };

    function getObjectDiff(a, b, rv, prfx) {
        rv = rv || {};
        prfx = prfx || '';
        keys(a).forEach(function (prop) {
            if (!hasOwn(b, prop)) {
                rv[prfx + prop] = undefined;
            }
            else {
                var ap = a[prop], bp = b[prop];
                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {
                    var apTypeName = toStringTag(ap);
                    var bpTypeName = toStringTag(bp);
                    if (apTypeName !== bpTypeName) {
                        rv[prfx + prop] = b[prop];
                    }
                    else if (apTypeName === 'Object') {
                        getObjectDiff(ap, bp, rv, prfx + prop + '.');
                    }
                    else if (ap !== bp) {
                        rv[prfx + prop] = b[prop];
                    }
                }
                else if (ap !== bp)
                    rv[prfx + prop] = b[prop];
            }
        });
        keys(b).forEach(function (prop) {
            if (!hasOwn(a, prop)) {
                rv[prfx + prop] = b[prop];
            }
        });
        return rv;
    }

    function getEffectiveKeys(primaryKey, req) {
        if (req.type === 'delete')
            return req.keys;
        return req.keys || req.values.map(primaryKey.extractKey);
    }

    var hooksMiddleware = {
        stack: "dbcore",
        name: "HooksMiddleware",
        level: 2,
        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {
                var downTable = downCore.table(tableName);
                var primaryKey = downTable.schema.primaryKey;
                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {
                        var dxTrans = PSD.trans;
                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;
                        switch (req.type) {
                            case 'add':
                                if (creating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'put':
                                if (creating.fire === nop && updating.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'delete':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);
                            case 'deleteRange':
                                if (deleting.fire === nop)
                                    break;
                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);
                        }
                        return downTable.mutate(req);
                        function addPutOrDelete(req) {
                            var dxTrans = PSD.trans;
                            var keys = req.keys || getEffectiveKeys(primaryKey, req);
                            if (!keys)
                                throw new Error("Keys missing");
                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);
                            if (req.type !== 'delete')
                                req.values = __spreadArray([], req.values, true);
                            if (req.keys)
                                req.keys = __spreadArray([], req.keys, true);
                            return getExistingValues(downTable, req, keys).then(function (existingValues) {
                                var contexts = keys.map(function (key, i) {
                                    var existingValue = existingValues[i];
                                    var ctx = { onerror: null, onsuccess: null };
                                    if (req.type === 'delete') {
                                        deleting.fire.call(ctx, key, existingValue, dxTrans);
                                    }
                                    else if (req.type === 'add' || existingValue === undefined) {
                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);
                                        if (key == null && generatedPrimaryKey != null) {
                                            key = generatedPrimaryKey;
                                            req.keys[i] = key;
                                            if (!primaryKey.outbound) {
                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);
                                            }
                                        }
                                    }
                                    else {
                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);
                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);
                                        if (additionalChanges_1) {
                                            var requestedValue_1 = req.values[i];
                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {
                                                if (hasOwn(requestedValue_1, keyPath)) {
                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];
                                                }
                                                else {
                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);
                                                }
                                            });
                                        }
                                    }
                                    return ctx;
                                });
                                return downTable.mutate(req).then(function (_a) {
                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;
                                    for (var i = 0; i < keys.length; ++i) {
                                        var primKey = results ? results[i] : keys[i];
                                        var ctx = contexts[i];
                                        if (primKey == null) {
                                            ctx.onerror && ctx.onerror(failures[i]);
                                        }
                                        else {
                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?
                                                req.values[i] :
                                                primKey
                                            );
                                        }
                                    }
                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };
                                }).catch(function (error) {
                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });
                                    return Promise.reject(error);
                                });
                            });
                        }
                        function deleteRange(req) {
                            return deleteNextChunk(req.trans, req.range, 10000);
                        }
                        function deleteNextChunk(trans, range, limit) {
                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })
                                .then(function (_a) {
                                var result = _a.result;
                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {
                                    if (res.numFailures > 0)
                                        return Promise.reject(res.failures[0]);
                                    if (result.length < limit) {
                                        return { failures: [], numFailures: 0, lastResult: undefined };
                                    }
                                    else {
                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);
                                    }
                                });
                            });
                        }
                    } });
                return tableMiddleware;
            } })); }
    };
    function getExistingValues(table, req, effectiveKeys) {
        return req.type === "add"
            ? Promise.resolve([])
            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: "immutable" });
    }

    function getFromTransactionCache(keys, cache, clone) {
        try {
            if (!cache)
                return null;
            if (cache.keys.length < keys.length)
                return null;
            var result = [];
            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {
                if (cmp(cache.keys[i], keys[j]) !== 0)
                    continue;
                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);
                ++j;
            }
            return result.length === keys.length ? result : null;
        }
        catch (_a) {
            return null;
        }
    }
    var cacheExistingValuesMiddleware = {
        stack: "dbcore",
        level: -1,
        create: function (core) {
            return {
                table: function (tableName) {
                    var table = core.table(tableName);
                    return __assign(__assign({}, table), { getMany: function (req) {
                            if (!req.cache) {
                                return table.getMany(req);
                            }
                            var cachedResult = getFromTransactionCache(req.keys, req.trans["_cache"], req.cache === "clone");
                            if (cachedResult) {
                                return DexiePromise.resolve(cachedResult);
                            }
                            return table.getMany(req).then(function (res) {
                                req.trans["_cache"] = {
                                    keys: req.keys,
                                    values: req.cache === "clone" ? deepClone(res) : res,
                                };
                                return res;
                            });
                        }, mutate: function (req) {
                            if (req.type !== "add")
                                req.trans["_cache"] = null;
                            return table.mutate(req);
                        } });
                },
            };
        },
    };

    function isCachableContext(ctx, table) {
        return (ctx.trans.mode === 'readonly' &&
            !!ctx.subscr &&
            !ctx.trans.explicit &&
            ctx.trans.db._options.cache !== 'disabled' &&
            !table.schema.primaryKey.outbound);
    }

    function isCachableRequest(type, req) {
        switch (type) {
            case 'query':
                return req.values && !req.unique;
            case 'get':
                return false;
            case 'getMany':
                return false;
            case 'count':
                return false;
            case 'openCursor':
                return false;
        }
    }

    var observabilityMiddleware = {
        stack: "dbcore",
        level: 0,
        name: "Observability",
        create: function (core) {
            var dbName = core.schema.name;
            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);
            return __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    if (PSD.subscr && mode !== 'readonly') {
                        throw new exceptions.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(PSD.querier));
                    }
                    return core.transaction(stores, mode, options);
                }, table: function (tableName) {
                    var table = core.table(tableName);
                    var schema = table.schema;
                    var primaryKey = schema.primaryKey, indexes = schema.indexes;
                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;
                    var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) { return index.compound && index.keyPath.includes(primaryKey.keyPath); });
                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {
                            var _a, _b;
                            var trans = req.trans;
                            var mutatedParts = req.mutatedParts || (req.mutatedParts = {});
                            var getRangeSet = function (indexName) {
                                var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                return (mutatedParts[part] ||
                                    (mutatedParts[part] = new RangeSet()));
                            };
                            var pkRangeSet = getRangeSet("");
                            var delsRangeSet = getRangeSet(":dels");
                            var type = req.type;
                            var _c = req.type === "deleteRange"
                                ? [req.range]
                                : req.type === "delete"
                                    ? [req.keys]
                                    : req.values.length < 50
                                        ? [getEffectiveKeys(primaryKey, req).filter(function (id) { return id; }), req.values]
                                        : [], keys = _c[0], newObjs = _c[1];
                            var oldCache = req.trans["_cache"];
                            if (isArray(keys)) {
                                pkRangeSet.addKeys(keys);
                                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;
                                if (!oldObjs) {
                                    delsRangeSet.addKeys(keys);
                                }
                                if (oldObjs || newObjs) {
                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);
                                }
                            }
                            else if (keys) {
                                var range = {
                                    from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,
                                    to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY
                                };
                                delsRangeSet.add(range);
                                pkRangeSet.add(range);
                            }
                            else {
                                pkRangeSet.add(FULL_RANGE);
                                delsRangeSet.add(FULL_RANGE);
                                schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });
                            }
                            return table.mutate(req).then(function (res) {
                                if (keys && (req.type === 'add' || req.type === 'put')) {
                                    pkRangeSet.addKeys(res.results);
                                    if (indexesWithAutoIncPK) {
                                        indexesWithAutoIncPK.forEach(function (idx) {
                                            var idxVals = req.values.map(function (v) { return idx.extractKey(v); });
                                            var pkPos = idx.keyPath.findIndex(function (prop) { return prop === primaryKey.keyPath; });
                                            for (var i = 0, len = res.results.length; i < len; ++i) {
                                                idxVals[i][pkPos] = res.results[i];
                                            }
                                            getRangeSet(idx.name).addKeys(idxVals);
                                        });
                                    }
                                }
                                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);
                                return res;
                            });
                        } });
                    var getRange = function (_a) {
                        var _b, _c;
                        var _d = _a.query, index = _d.index, range = _d.range;
                        return [
                            index,
                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),
                        ];
                    };
                    var readSubscribers = {
                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },
                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },
                        count: getRange,
                        query: getRange,
                        openCursor: getRange,
                    };
                    keys(readSubscribers).forEach(function (method) {
                        tableClone[method] = function (req) {
                            var subscr = PSD.subscr;
                            var isLiveQuery = !!subscr;
                            var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);
                            var obsSet = cachable
                                ? req.obsSet = {}
                                : subscr;
                            if (isLiveQuery) {
                                var getRangeSet = function (indexName) {
                                    var part = "idb://".concat(dbName, "/").concat(tableName, "/").concat(indexName);
                                    return (obsSet[part] ||
                                        (obsSet[part] = new RangeSet()));
                                };
                                var pkRangeSet_1 = getRangeSet("");
                                var delsRangeSet_1 = getRangeSet(":dels");
                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];
                                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {
                                    delsRangeSet_1.add(queriedRanges);
                                }
                                else {
                                    getRangeSet(queriedIndex.name || "").add(queriedRanges);
                                }
                                if (!queriedIndex.isPrimaryKey) {
                                    if (method === "count") {
                                        delsRangeSet_1.add(FULL_RANGE);
                                    }
                                    else {
                                        var keysPromise_1 = method === "query" &&
                                            outbound &&
                                            req.values &&
                                            table.query(__assign(__assign({}, req), { values: false }));
                                        return table[method].apply(this, arguments).then(function (res) {
                                            if (method === "query") {
                                                if (outbound && req.values) {
                                                    return keysPromise_1.then(function (_a) {
                                                        var resultingKeys = _a.result;
                                                        pkRangeSet_1.addKeys(resultingKeys);
                                                        return res;
                                                    });
                                                }
                                                var pKeys = req.values
                                                    ? res.result.map(extractKey)
                                                    : res.result;
                                                if (req.values) {
                                                    pkRangeSet_1.addKeys(pKeys);
                                                }
                                                else {
                                                    delsRangeSet_1.addKeys(pKeys);
                                                }
                                            }
                                            else if (method === "openCursor") {
                                                var cursor_1 = res;
                                                var wantValues_1 = req.values;
                                                return (cursor_1 &&
                                                    Object.create(cursor_1, {
                                                        key: {
                                                            get: function () {
                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.key;
                                                            },
                                                        },
                                                        primaryKey: {
                                                            get: function () {
                                                                var pkey = cursor_1.primaryKey;
                                                                delsRangeSet_1.addKey(pkey);
                                                                return pkey;
                                                            },
                                                        },
                                                        value: {
                                                            get: function () {
                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);
                                                                return cursor_1.value;
                                                            },
                                                        },
                                                    }));
                                            }
                                            return res;
                                        });
                                    }
                                }
                            }
                            return table[method].apply(this, arguments);
                        };
                    });
                    return tableClone;
                } });
        },
    };
    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {
        function addAffectedIndex(ix) {
            var rangeSet = getRangeSet(ix.name || "");
            function extractKey(obj) {
                return obj != null ? ix.extractKey(obj) : null;
            }
            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)
                ? key.forEach(function (key) { return rangeSet.addKey(key); })
                : rangeSet.addKey(key); };
            (oldObjs || newObjs).forEach(function (_, i) {
                var oldKey = oldObjs && extractKey(oldObjs[i]);
                var newKey = newObjs && extractKey(newObjs[i]);
                if (cmp(oldKey, newKey) !== 0) {
                    if (oldKey != null)
                        addKeyOrKeys(oldKey);
                    if (newKey != null)
                        addKeyOrKeys(newKey);
                }
            });
        }
        schema.indexes.forEach(addAffectedIndex);
    }

    function adjustOptimisticFromFailures(tblCache, req, res) {
        if (res.numFailures === 0)
            return req;
        if (req.type === 'deleteRange') {
            return null;
        }
        var numBulkOps = req.keys
            ? req.keys.length
            : 'values' in req && req.values
                ? req.values.length
                : 1;
        if (res.numFailures === numBulkOps) {
            return null;
        }
        var clone = __assign({}, req);
        if (isArray(clone.keys)) {
            clone.keys = clone.keys.filter(function (_, i) { return !(i in res.failures); });
        }
        if ('values' in clone && isArray(clone.values)) {
            clone.values = clone.values.filter(function (_, i) { return !(i in res.failures); });
        }
        return clone;
    }

    function isAboveLower(key, range) {
        return range.lower === undefined
            ? true
            : range.lowerOpen
                ? cmp(key, range.lower) > 0
                : cmp(key, range.lower) >= 0;
    }
    function isBelowUpper(key, range) {
        return range.upper === undefined
            ? true
            : range.upperOpen
                ? cmp(key, range.upper) < 0
                : cmp(key, range.upper) <= 0;
    }
    function isWithinRange(key, range) {
        return isAboveLower(key, range) && isBelowUpper(key, range);
    }

    function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {
        if (!ops || ops.length === 0)
            return result;
        var index = req.query.index;
        var multiEntry = index.multiEntry;
        var queryRange = req.query.range;
        var primaryKey = table.schema.primaryKey;
        var extractPrimKey = primaryKey.extractKey;
        var extractIndex = index.extractKey;
        var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;
        var finalResult = ops.reduce(function (result, op) {
            var modifedResult = result;
            var includedValues = [];
            if (op.type === 'add' || op.type === 'put') {
                var includedPKs = new RangeSet();
                for (var i = op.values.length - 1; i >= 0; --i) {
                    var value = op.values[i];
                    var pk = extractPrimKey(value);
                    if (includedPKs.hasKey(pk))
                        continue;
                    var key = extractIndex(value);
                    if (multiEntry && isArray(key)
                        ? key.some(function (k) { return isWithinRange(k, queryRange); })
                        : isWithinRange(key, queryRange)) {
                        includedPKs.addKey(pk);
                        includedValues.push(value);
                    }
                }
            }
            switch (op.type) {
                case 'add': {
                    var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) { return extractPrimKey(v); }) : result);
                    modifedResult = result.concat(req.values
                        ? includedValues.filter(function (v) {
                            var key = extractPrimKey(v);
                            if (existingKeys_1.hasKey(key))
                                return false;
                            existingKeys_1.addKey(key);
                            return true;
                        })
                        : includedValues
                            .map(function (v) { return extractPrimKey(v); })
                            .filter(function (k) {
                            if (existingKeys_1.hasKey(k))
                                return false;
                            existingKeys_1.addKey(k);
                            return true;
                        }));
                    break;
                }
                case 'put': {
                    var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) { return extractPrimKey(v); }));
                    modifedResult = result
                        .filter(
                    function (item) { return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item); })
                        .concat(
                    req.values
                        ? includedValues
                        : includedValues.map(function (v) { return extractPrimKey(v); }));
                    break;
                }
                case 'delete':
                    var keysToDelete_1 = new RangeSet().addKeys(op.keys);
                    modifedResult = result.filter(function (item) {
                        return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);
                    });
                    break;
                case 'deleteRange':
                    var range_1 = op.range;
                    modifedResult = result.filter(function (item) { return !isWithinRange(extractPrimKey(item), range_1); });
                    break;
            }
            return modifedResult;
        }, result);
        if (finalResult === result)
            return result;
        finalResult.sort(function (a, b) {
            return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) ||
                cmp(extractPrimKey(a), extractPrimKey(b));
        });
        if (req.limit && req.limit < Infinity) {
            if (finalResult.length > req.limit) {
                finalResult.length = req.limit;
            }
            else if (result.length === req.limit && finalResult.length < req.limit) {
                cacheEntry.dirty = true;
            }
        }
        return immutable ? Object.freeze(finalResult) : finalResult;
    }

    function areRangesEqual(r1, r2) {
        return (cmp(r1.lower, r2.lower) === 0 &&
            cmp(r1.upper, r2.upper) === 0 &&
            !!r1.lowerOpen === !!r2.lowerOpen &&
            !!r1.upperOpen === !!r2.upperOpen);
    }

    function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {
        if (lower1 === undefined)
            return lower2 !== undefined ? -1 : 0;
        if (lower2 === undefined)
            return 1;
        var c = cmp(lower1, lower2);
        if (c === 0) {
            if (lowerOpen1 && lowerOpen2)
                return 0;
            if (lowerOpen1)
                return 1;
            if (lowerOpen2)
                return -1;
        }
        return c;
    }
    function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {
        if (upper1 === undefined)
            return upper2 !== undefined ? 1 : 0;
        if (upper2 === undefined)
            return -1;
        var c = cmp(upper1, upper2);
        if (c === 0) {
            if (upperOpen1 && upperOpen2)
                return 0;
            if (upperOpen1)
                return -1;
            if (upperOpen2)
                return 1;
        }
        return c;
    }
    function isSuperRange(r1, r2) {
        return (compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 &&
            compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0);
    }

    function findCompatibleQuery(dbName, tableName, type, req) {
        var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
        if (!tblCache)
            return [];
        var queries = tblCache.queries[type];
        if (!queries)
            return [null, false, tblCache, null];
        var indexName = req.query ? req.query.index.name : null;
        var entries = queries[indexName || ''];
        if (!entries)
            return [null, false, tblCache, null];
        switch (type) {
            case 'query':
                var equalEntry = entries.find(function (entry) {
                    return entry.req.limit === req.limit &&
                        entry.req.values === req.values &&
                        areRangesEqual(entry.req.query.range, req.query.range);
                });
                if (equalEntry)
                    return [
                        equalEntry,
                        true,
                        tblCache,
                        entries,
                    ];
                var superEntry = entries.find(function (entry) {
                    var limit = 'limit' in entry.req ? entry.req.limit : Infinity;
                    return (limit >= req.limit &&
                        (req.values ? entry.req.values : true) &&
                        isSuperRange(entry.req.query.range, req.query.range));
                });
                return [superEntry, false, tblCache, entries];
            case 'count':
                var countQuery = entries.find(function (entry) {
                    return areRangesEqual(entry.req.query.range, req.query.range);
                });
                return [countQuery, !!countQuery, tblCache, entries];
        }
    }

    function subscribeToCacheEntry(cacheEntry, container, requery, signal) {
        cacheEntry.subscribers.add(requery);
        signal.addEventListener("abort", function () {
            cacheEntry.subscribers.delete(requery);
            if (cacheEntry.subscribers.size === 0) {
                enqueForDeletion(cacheEntry, container);
            }
        });
    }
    function enqueForDeletion(cacheEntry, container) {
        setTimeout(function () {
            if (cacheEntry.subscribers.size === 0) {
                delArrayItem(container, cacheEntry);
            }
        }, 3000);
    }

    var cacheMiddleware = {
        stack: 'dbcore',
        level: 0,
        name: 'Cache',
        create: function (core) {
            var dbName = core.schema.name;
            var coreMW = __assign(__assign({}, core), { transaction: function (stores, mode, options) {
                    var idbtrans = core.transaction(stores, mode, options);
                    if (mode === 'readwrite') {
                        var ac_1 = new AbortController();
                        var signal = ac_1.signal;
                        var endTransaction = function (wasCommitted) { return function () {
                            ac_1.abort();
                            if (mode === 'readwrite') {
                                var affectedSubscribers_1 = new Set();
                                for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {
                                    var storeName = stores_1[_i];
                                    var tblCache = cache["idb://".concat(dbName, "/").concat(storeName)];
                                    if (tblCache) {
                                        var table = core.table(storeName);
                                        var ops = tblCache.optimisticOps.filter(function (op) { return op.trans === idbtrans; });
                                        if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {
                                            for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {
                                                var entries = _b[_a];
                                                for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {
                                                    var entry = _d[_c];
                                                    if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {
                                                        delArrayItem(entries, entry);
                                                        entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                    }
                                                }
                                            }
                                        }
                                        else if (ops.length > 0) {
                                            tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) { return op.trans !== idbtrans; });
                                            for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {
                                                var entries = _f[_e];
                                                for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {
                                                    var entry = _h[_g];
                                                    if (entry.res != null &&
                                                        idbtrans.mutatedParts
    ) {
                                                        if (wasCommitted && !entry.dirty) {
                                                            var freezeResults = Object.isFrozen(entry.res);
                                                            var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                                entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                            }
                                                            else if (modRes !== entry.res) {
                                                                entry.res = modRes;
                                                                entry.promise = DexiePromise.resolve({ result: modRes });
                                                            }
                                                        }
                                                        else {
                                                            if (entry.dirty) {
                                                                delArrayItem(entries, entry);
                                                            }
                                                            entry.subscribers.forEach(function (requery) { return affectedSubscribers_1.add(requery); });
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                affectedSubscribers_1.forEach(function (requery) { return requery(); });
                            }
                        }; };
                        idbtrans.addEventListener('abort', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('error', endTransaction(false), {
                            signal: signal,
                        });
                        idbtrans.addEventListener('complete', endTransaction(true), {
                            signal: signal,
                        });
                    }
                    return idbtrans;
                }, table: function (tableName) {
                    var downTable = core.table(tableName);
                    var primKey = downTable.schema.primaryKey;
                    var tableMW = __assign(__assign({}, downTable), { mutate: function (req) {
                            var trans = PSD.trans;
                            if (primKey.outbound ||
                                trans.db._options.cache === 'disabled' ||
                                trans.explicit ||
                                trans.idbtrans.mode !== 'readwrite'
                            ) {
                                return downTable.mutate(req);
                            }
                            var tblCache = cache["idb://".concat(dbName, "/").concat(tableName)];
                            if (!tblCache)
                                return downTable.mutate(req);
                            var promise = downTable.mutate(req);
                            if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) { return key == null; }))) {
                                promise.then(function (res) {
                                    var reqWithResolvedKeys = __assign(__assign({}, req), { values: req.values.map(function (value, i) {
                                            var _a;
                                            if (res.failures[i])
                                                return value;
                                            var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.'))
                                                ? deepClone(value)
                                                : __assign({}, value);
                                            setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);
                                            return valueWithKey;
                                        }) });
                                    var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);
                                    tblCache.optimisticOps.push(adjustedReq);
                                    queueMicrotask(function () { return req.mutatedParts && signalSubscribersLazily(req.mutatedParts); });
                                });
                            }
                            else {
                                tblCache.optimisticOps.push(req);
                                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                promise.then(function (res) {
                                    if (res.numFailures > 0) {
                                        delArrayItem(tblCache.optimisticOps, req);
                                        var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);
                                        if (adjustedReq) {
                                            tblCache.optimisticOps.push(adjustedReq);
                                        }
                                        req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                    }
                                });
                                promise.catch(function () {
                                    delArrayItem(tblCache.optimisticOps, req);
                                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);
                                });
                            }
                            return promise;
                        }, query: function (req) {
                            var _a;
                            if (!isCachableContext(PSD, downTable) || !isCachableRequest("query", req))
                                return downTable.query(req);
                            var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';
                            var _b = PSD, requery = _b.requery, signal = _b.signal;
                            var _c = findCompatibleQuery(dbName, tableName, 'query', req), cacheEntry = _c[0], exactMatch = _c[1], tblCache = _c[2], container = _c[3];
                            if (cacheEntry && exactMatch) {
                                cacheEntry.obsSet = req.obsSet;
                            }
                            else {
                                var promise = downTable.query(req).then(function (res) {
                                    var result = res.result;
                                    if (cacheEntry)
                                        cacheEntry.res = result;
                                    if (freezeResults) {
                                        for (var i = 0, l = result.length; i < l; ++i) {
                                            Object.freeze(result[i]);
                                        }
                                        Object.freeze(result);
                                    }
                                    else {
                                        res.result = deepClone(result);
                                    }
                                    return res;
                                }).catch(function (error) {
                                    if (container && cacheEntry)
                                        delArrayItem(container, cacheEntry);
                                    return Promise.reject(error);
                                });
                                cacheEntry = {
                                    obsSet: req.obsSet,
                                    promise: promise,
                                    subscribers: new Set(),
                                    type: 'query',
                                    req: req,
                                    dirty: false,
                                };
                                if (container) {
                                    container.push(cacheEntry);
                                }
                                else {
                                    container = [cacheEntry];
                                    if (!tblCache) {
                                        tblCache = cache["idb://".concat(dbName, "/").concat(tableName)] = {
                                            queries: {
                                                query: {},
                                                count: {},
                                            },
                                            objs: new Map(),
                                            optimisticOps: [],
                                            unsignaledParts: {}
                                        };
                                    }
                                    tblCache.queries.query[req.query.index.name || ''] = container;
                                }
                            }
                            subscribeToCacheEntry(cacheEntry, container, requery, signal);
                            return cacheEntry.promise.then(function (res) {
                                return {
                                    result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults),
                                };
                            });
                        } });
                    return tableMW;
                } });
            return coreMW;
        },
    };

    function vipify(target, vipDb) {
        return new Proxy(target, {
            get: function (target, prop, receiver) {
                if (prop === 'db')
                    return vipDb;
                return Reflect.get(target, prop, receiver);
            }
        });
    }

    var Dexie$1 =  (function () {
        function Dexie(name, options) {
            var _this = this;
            this._middlewares = {};
            this.verno = 0;
            var deps = Dexie.dependencies;
            this._options = options = __assign({
                addons: Dexie.addons, autoOpen: true,
                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange, cache: 'cloned' }, options);
            this._deps = {
                indexedDB: options.indexedDB,
                IDBKeyRange: options.IDBKeyRange
            };
            var addons = options.addons;
            this._dbSchema = {};
            this._versions = [];
            this._storeNames = [];
            this._allTables = {};
            this.idbdb = null;
            this._novip = this;
            var state = {
                dbOpenError: null,
                isBeingOpened: false,
                onReadyBeingFired: null,
                openComplete: false,
                dbReadyResolve: nop,
                dbReadyPromise: null,
                cancelOpen: nop,
                openCanceller: null,
                autoSchema: true,
                PR1398_maxLoop: 3,
                autoOpen: options.autoOpen,
            };
            state.dbReadyPromise = new DexiePromise(function (resolve) {
                state.dbReadyResolve = resolve;
            });
            state.openCanceller = new DexiePromise(function (_, reject) {
                state.cancelOpen = reject;
            });
            this._state = state;
            this.name = name;
            this.on = Events(this, "populate", "blocked", "versionchange", "close", { ready: [promisableChain, nop] });
            this.once = function (event, callback) {
                var fn = function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    _this.on(event).unsubscribe(fn);
                    callback.apply(_this, args);
                };
                return _this.on(event, fn);
            };
            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {
                return function (subscriber, bSticky) {
                    Dexie.vip(function () {
                        var state = _this._state;
                        if (state.openComplete) {
                            if (!state.dbOpenError)
                                DexiePromise.resolve().then(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else if (state.onReadyBeingFired) {
                            state.onReadyBeingFired.push(subscriber);
                            if (bSticky)
                                subscribe(subscriber);
                        }
                        else {
                            subscribe(subscriber);
                            var db_1 = _this;
                            if (!bSticky)
                                subscribe(function unsubscribe() {
                                    db_1.on.ready.unsubscribe(subscriber);
                                    db_1.on.ready.unsubscribe(unsubscribe);
                                });
                        }
                    });
                };
            });
            this.Collection = createCollectionConstructor(this);
            this.Table = createTableConstructor(this);
            this.Transaction = createTransactionConstructor(this);
            this.Version = createVersionConstructor(this);
            this.WhereClause = createWhereClauseConstructor(this);
            this.on("versionchange", function (ev) {
                if (ev.newVersion > 0)
                    console.warn("Another connection wants to upgrade database '".concat(_this.name, "'. Closing db now to resume the upgrade."));
                else
                    console.warn("Another connection wants to delete database '".concat(_this.name, "'. Closing db now to resume the delete request."));
                _this.close({ disableAutoOpen: false });
            });
            this.on("blocked", function (ev) {
                if (!ev.newVersion || ev.newVersion < ev.oldVersion)
                    console.warn("Dexie.delete('".concat(_this.name, "') was blocked"));
                else
                    console.warn("Upgrade '".concat(_this.name, "' blocked by other connection holding version ").concat(ev.oldVersion / 10));
            });
            this._maxKey = getMaxKey(options.IDBKeyRange);
            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };
            this._fireOnBlocked = function (ev) {
                _this.on("blocked").fire(ev);
                connections
                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })
                    .map(function (c) { return c.on("versionchange").fire(ev); });
            };
            this.use(cacheExistingValuesMiddleware);
            this.use(cacheMiddleware);
            this.use(observabilityMiddleware);
            this.use(virtualIndexMiddleware);
            this.use(hooksMiddleware);
            var vipDB = new Proxy(this, {
                get: function (_, prop, receiver) {
                    if (prop === '_vip')
                        return true;
                    if (prop === 'table')
                        return function (tableName) { return vipify(_this.table(tableName), vipDB); };
                    var rv = Reflect.get(_, prop, receiver);
                    if (rv instanceof Table)
                        return vipify(rv, vipDB);
                    if (prop === 'tables')
                        return rv.map(function (t) { return vipify(t, vipDB); });
                    if (prop === '_createTransaction')
                        return function () {
                            var tx = rv.apply(this, arguments);
                            return vipify(tx, vipDB);
                        };
                    return rv;
                }
            });
            this.vip = vipDB;
            addons.forEach(function (addon) { return addon(_this); });
        }
        Dexie.prototype.version = function (versionNumber) {
            if (isNaN(versionNumber) || versionNumber < 0.1)
                throw new exceptions.Type("Given version is not a positive number");
            versionNumber = Math.round(versionNumber * 10) / 10;
            if (this.idbdb || this._state.isBeingOpened)
                throw new exceptions.Schema("Cannot add version when database is open");
            this.verno = Math.max(this.verno, versionNumber);
            var versions = this._versions;
            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];
            if (versionInstance)
                return versionInstance;
            versionInstance = new this.Version(versionNumber);
            versions.push(versionInstance);
            versions.sort(lowerVersionFirst);
            versionInstance.stores({});
            this._state.autoSchema = false;
            return versionInstance;
        };
        Dexie.prototype._whenReady = function (fn) {
            var _this = this;
            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {
                if (_this._state.openComplete) {
                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));
                }
                if (!_this._state.isBeingOpened) {
                    if (!_this._state.autoOpen) {
                        reject(new exceptions.DatabaseClosed());
                        return;
                    }
                    _this.open().catch(nop);
                }
                _this._state.dbReadyPromise.then(resolve, reject);
            }).then(fn);
        };
        Dexie.prototype.use = function (_a) {
            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;
            if (name)
                this.unuse({ stack: stack, name: name });
            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);
            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });
            middlewares.sort(function (a, b) { return a.level - b.level; });
            return this;
        };
        Dexie.prototype.unuse = function (_a) {
            var stack = _a.stack, name = _a.name, create = _a.create;
            if (stack && this._middlewares[stack]) {
                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {
                    return create ? mw.create !== create :
                        name ? mw.name !== name :
                            false;
                });
            }
            return this;
        };
        Dexie.prototype.open = function () {
            var _this = this;
            return usePSD(globalPSD,
            function () { return dexieOpen(_this); });
        };
        Dexie.prototype._close = function () {
            this.on.close.fire(new CustomEvent('close'));
            var state = this._state;
            var idx = connections.indexOf(this);
            if (idx >= 0)
                connections.splice(idx, 1);
            if (this.idbdb) {
                try {
                    this.idbdb.close();
                }
                catch (e) { }
                this.idbdb = null;
            }
            if (!state.isBeingOpened) {
                state.dbReadyPromise = new DexiePromise(function (resolve) {
                    state.dbReadyResolve = resolve;
                });
                state.openCanceller = new DexiePromise(function (_, reject) {
                    state.cancelOpen = reject;
                });
            }
        };
        Dexie.prototype.close = function (_a) {
            var _b = _a === void 0 ? { disableAutoOpen: true } : _a, disableAutoOpen = _b.disableAutoOpen;
            var state = this._state;
            if (disableAutoOpen) {
                if (state.isBeingOpened) {
                    state.cancelOpen(new exceptions.DatabaseClosed());
                }
                this._close();
                state.autoOpen = false;
                state.dbOpenError = new exceptions.DatabaseClosed();
            }
            else {
                this._close();
                state.autoOpen = this._options.autoOpen ||
                    state.isBeingOpened;
                state.openComplete = false;
                state.dbOpenError = null;
            }
        };
        Dexie.prototype.delete = function (closeOptions) {
            var _this = this;
            if (closeOptions === void 0) { closeOptions = { disableAutoOpen: true }; }
            var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';
            var state = this._state;
            return new DexiePromise(function (resolve, reject) {
                var doDelete = function () {
                    _this.close(closeOptions);
                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);
                    req.onsuccess = wrap(function () {
                        _onDatabaseDeleted(_this._deps, _this.name);
                        resolve();
                    });
                    req.onerror = eventRejectHandler(reject);
                    req.onblocked = _this._fireOnBlocked;
                };
                if (hasInvalidArguments)
                    throw new exceptions.InvalidArgument("Invalid closeOptions argument to db.delete()");
                if (state.isBeingOpened) {
                    state.dbReadyPromise.then(doDelete);
                }
                else {
                    doDelete();
                }
            });
        };
        Dexie.prototype.backendDB = function () {
            return this.idbdb;
        };
        Dexie.prototype.isOpen = function () {
            return this.idbdb !== null;
        };
        Dexie.prototype.hasBeenClosed = function () {
            var dbOpenError = this._state.dbOpenError;
            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');
        };
        Dexie.prototype.hasFailed = function () {
            return this._state.dbOpenError !== null;
        };
        Dexie.prototype.dynamicallyOpened = function () {
            return this._state.autoSchema;
        };
        Object.defineProperty(Dexie.prototype, "tables", {
            get: function () {
                var _this = this;
                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });
            },
            enumerable: false,
            configurable: true
        });
        Dexie.prototype.transaction = function () {
            var args = extractTransactionArgs.apply(this, arguments);
            return this._transaction.apply(this, args);
        };
        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {
            var _this = this;
            var parentTransaction = PSD.trans;
            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)
                parentTransaction = null;
            var onlyIfCompatible = mode.indexOf('?') !== -1;
            mode = mode.replace('!', '').replace('?', '');
            var idbMode, storeNames;
            try {
                storeNames = tables.map(function (table) {
                    var storeName = table instanceof _this.Table ? table.name : table;
                    if (typeof storeName !== 'string')
                        throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");
                    return storeName;
                });
                if (mode == "r" || mode === READONLY)
                    idbMode = READONLY;
                else if (mode == "rw" || mode == READWRITE)
                    idbMode = READWRITE;
                else
                    throw new exceptions.InvalidArgument("Invalid transaction mode: " + mode);
                if (parentTransaction) {
                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {
                        if (onlyIfCompatible) {
                            parentTransaction = null;
                        }
                        else
                            throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
                    }
                    if (parentTransaction) {
                        storeNames.forEach(function (storeName) {
                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {
                                if (onlyIfCompatible) {
                                    parentTransaction = null;
                                }
                                else
                                    throw new exceptions.SubTransaction("Table " + storeName +
                                        " not included in parent transaction.");
                            }
                        });
                    }
                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {
                        parentTransaction = null;
                    }
                }
            }
            catch (e) {
                return parentTransaction ?
                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :
                    rejection(e);
            }
            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);
            return (parentTransaction ?
                parentTransaction._promise(idbMode, enterTransaction, "lock") :
                PSD.trans ?
                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :
                    this._whenReady(enterTransaction));
        };
        Dexie.prototype.table = function (tableName) {
            if (!hasOwn(this._allTables, tableName)) {
                throw new exceptions.InvalidTable("Table ".concat(tableName, " does not exist"));
            }
            return this._allTables[tableName];
        };
        return Dexie;
    }());

    var symbolObservable = typeof Symbol !== "undefined" && "observable" in Symbol
        ? Symbol.observable
        : "@@observable";
    var Observable =  (function () {
        function Observable(subscribe) {
            this._subscribe = subscribe;
        }
        Observable.prototype.subscribe = function (x, error, complete) {
            return this._subscribe(!x || typeof x === "function" ? { next: x, error: error, complete: complete } : x);
        };
        Observable.prototype[symbolObservable] = function () {
            return this;
        };
        return Observable;
    }());

    var domDeps;
    try {
        domDeps = {
            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,
            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange
        };
    }
    catch (e) {
        domDeps = { indexedDB: null, IDBKeyRange: null };
    }

    function liveQuery(querier) {
        var hasValue = false;
        var currentValue;
        var observable = new Observable(function (observer) {
            var scopeFuncIsAsync = isAsyncFunction(querier);
            function execute(ctx) {
                var wasRootExec = beginMicroTickScope();
                try {
                    if (scopeFuncIsAsync) {
                        incrementExpectedAwaits();
                    }
                    var rv = newScope(querier, ctx);
                    if (scopeFuncIsAsync) {
                        rv = rv.finally(decrementExpectedAwaits);
                    }
                    return rv;
                }
                finally {
                    wasRootExec && endMicroTickScope();
                }
            }
            var closed = false;
            var abortController;
            var accumMuts = {};
            var currentObs = {};
            var subscription = {
                get closed() {
                    return closed;
                },
                unsubscribe: function () {
                    if (closed)
                        return;
                    closed = true;
                    if (abortController)
                        abortController.abort();
                    if (startedListening)
                        globalEvents.storagemutated.unsubscribe(mutationListener);
                },
            };
            observer.start && observer.start(subscription);
            var startedListening = false;
            var doQuery = function () { return execInGlobalContext(_doQuery); };
            function shouldNotify() {
                return obsSetsOverlap(currentObs, accumMuts);
            }
            var mutationListener = function (parts) {
                extendObservabilitySet(accumMuts, parts);
                if (shouldNotify()) {
                    doQuery();
                }
            };
            var _doQuery = function () {
                if (closed ||
                    !domDeps.indexedDB)
                 {
                    return;
                }
                accumMuts = {};
                var subscr = {};
                if (abortController)
                    abortController.abort();
                abortController = new AbortController();
                var ctx = {
                    subscr: subscr,
                    signal: abortController.signal,
                    requery: doQuery,
                    querier: querier,
                    trans: null
                };
                var ret = execute(ctx);
                Promise.resolve(ret).then(function (result) {
                    hasValue = true;
                    currentValue = result;
                    if (closed || ctx.signal.aborted) {
                        return;
                    }
                    accumMuts = {};
                    currentObs = subscr;
                    if (!objectIsEmpty(currentObs) && !startedListening) {
                        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);
                        startedListening = true;
                    }
                    execInGlobalContext(function () { return !closed && observer.next && observer.next(result); });
                }, function (err) {
                    hasValue = false;
                    if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {
                        if (!closed)
                            execInGlobalContext(function () {
                                if (closed)
                                    return;
                                observer.error && observer.error(err);
                            });
                    }
                });
            };
            setTimeout(doQuery, 0);
            return subscription;
        });
        observable.hasValue = function () { return hasValue; };
        observable.getValue = function () { return currentValue; };
        return observable;
    }

    var Dexie = Dexie$1;
    props(Dexie, __assign(__assign({}, fullNameExceptions), {
        delete: function (databaseName) {
            var db = new Dexie(databaseName, { addons: [] });
            return db.delete();
        },
        exists: function (name) {
            return new Dexie(name, { addons: [] }).open().then(function (db) {
                db.close();
                return true;
            }).catch('NoSuchDatabaseError', function () { return false; });
        },
        getDatabaseNames: function (cb) {
            try {
                return getDatabaseNames(Dexie.dependencies).then(cb);
            }
            catch (_a) {
                return rejection(new exceptions.MissingAPI());
            }
        },
        defineClass: function () {
            function Class(content) {
                extend(this, content);
            }
            return Class;
        }, ignoreTransaction: function (scopeFunc) {
            return PSD.trans ?
                usePSD(PSD.transless, scopeFunc) :
                scopeFunc();
        }, vip: vip, async: function (generatorFn) {
            return function () {
                try {
                    var rv = awaitIterator(generatorFn.apply(this, arguments));
                    if (!rv || typeof rv.then !== 'function')
                        return DexiePromise.resolve(rv);
                    return rv;
                }
                catch (e) {
                    return rejection(e);
                }
            };
        }, spawn: function (generatorFn, args, thiz) {
            try {
                var rv = awaitIterator(generatorFn.apply(thiz, args || []));
                if (!rv || typeof rv.then !== 'function')
                    return DexiePromise.resolve(rv);
                return rv;
            }
            catch (e) {
                return rejection(e);
            }
        },
        currentTransaction: {
            get: function () { return PSD.trans || null; }
        }, waitFor: function (promiseOrFunction, optionalTimeout) {
            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?
                Dexie.ignoreTransaction(promiseOrFunction) :
                promiseOrFunction)
                .timeout(optionalTimeout || 60000);
            return PSD.trans ?
                PSD.trans.waitFor(promise) :
                promise;
        },
        Promise: DexiePromise,
        debug: {
            get: function () { return debug; },
            set: function (value) {
                setDebug(value);
            }
        },
        derive: derive, extend: extend, props: props, override: override,
        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,
        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,
        minKey: minKey,
        addons: [],
        connections: connections,
        errnames: errnames,
        dependencies: domDeps, cache: cache,
        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')
            .map(function (n) { return parseInt(n); })
            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));
    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);

    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {
            if (!propagatingLocally) {
                var event_1;
                event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {
                    detail: updatedParts
                });
                propagatingLocally = true;
                dispatchEvent(event_1);
                propagatingLocally = false;
            }
        });
        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {
            var detail = _a.detail;
            if (!propagatingLocally) {
                propagateLocally(detail);
            }
        });
    }
    function propagateLocally(updateParts) {
        var wasMe = propagatingLocally;
        try {
            propagatingLocally = true;
            globalEvents.storagemutated.fire(updateParts);
            signalSubscribersNow(updateParts, true);
        }
        finally {
            propagatingLocally = wasMe;
        }
    }
    var propagatingLocally = false;

    var bc;
    var createBC = function () { };
    if (typeof BroadcastChannel !== 'undefined') {
        createBC = function () {
            bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);
            bc.onmessage = function (ev) { return ev.data && propagateLocally(ev.data); };
        };
        createBC();
        if (typeof bc.unref === 'function') {
            bc.unref();
        }
        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {
            if (!propagatingLocally) {
                bc.postMessage(changedParts);
            }
        });
    }

    if (typeof addEventListener !== 'undefined') {
        addEventListener('pagehide', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pagehide');
                bc === null || bc === void 0 ? void 0 : bc.close();
                for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {
                    var db = connections_1[_i];
                    db.close({ disableAutoOpen: false });
                }
            }
        });
        addEventListener('pageshow', function (event) {
            if (!Dexie$1.disableBfCache && event.persisted) {
                if (debug)
                    console.debug('Dexie: handling persisted pageshow');
                createBC();
                propagateLocally({ all: new RangeSet(-Infinity, [[]]) });
            }
        });
    }

    function add(value) {
        return new PropModification({ add: value });
    }

    function remove(value) {
        return new PropModification({ remove: value });
    }

    function replacePrefix(a, b) {
        return new PropModification({ replacePrefix: [a, b] });
    }

    DexiePromise.rejectionMapper = mapError;
    setDebug(debug);

    var namedExports = /*#__PURE__*/Object.freeze({
        __proto__: null,
        Dexie: Dexie$1,
        liveQuery: liveQuery,
        Entity: Entity,
        cmp: cmp,
        PropModification: PropModification,
        replacePrefix: replacePrefix,
        add: add,
        remove: remove,
        'default': Dexie$1,
        RangeSet: RangeSet,
        mergeRanges: mergeRanges,
        rangesOverlap: rangesOverlap
    });

    __assign(Dexie$1, namedExports, { default: Dexie$1 });

    return Dexie$1;

}));
//# sourceMappingURL=dexie.js.map


/***/ }),

/***/ "../../node_modules/dexie/import-wrapper.mjs":
/*!***************************************************!*\
  !*** ../../node_modules/dexie/import-wrapper.mjs ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dexie: () => (/* binding */ Dexie),
/* harmony export */   DexieYProvider: () => (/* binding */ DexieYProvider),
/* harmony export */   Entity: () => (/* binding */ Entity),
/* harmony export */   PropModification: () => (/* binding */ PropModification),
/* harmony export */   RangeSet: () => (/* binding */ RangeSet),
/* harmony export */   add: () => (/* binding */ add),
/* harmony export */   cmp: () => (/* binding */ cmp),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   liveQuery: () => (/* binding */ liveQuery),
/* harmony export */   mergeRanges: () => (/* binding */ mergeRanges),
/* harmony export */   rangesOverlap: () => (/* binding */ rangesOverlap),
/* harmony export */   remove: () => (/* binding */ remove),
/* harmony export */   replacePrefix: () => (/* binding */ replacePrefix)
/* harmony export */ });
/* harmony import */ var _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dist/dexie.js */ "../../node_modules/dexie/dist/dexie.js");
// Making the module version consumable via require - to prohibit
// multiple occurrancies of the same module in the same app
// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)

const DexieSymbol = Symbol.for("Dexie");
const Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__);
if (_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer !== Dexie.semVer) {
    throw new Error(`Two different versions of Dexie loaded in the same app: ${_dist_dexie_js__WEBPACK_IMPORTED_MODULE_0__.semVer} and ${Dexie.semVer}`);
}
const { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Entity,
    PropModification, replacePrefix, add, remove,
    DexieYProvider } = Dexie;

    
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dexie);


/***/ }),

/***/ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js":
/*!***********************************************************************************!*\
  !*** ../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! void-elements */ "../../node_modules/void-elements/index.js");
/* harmony import */ var void_elements__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(void_elements__WEBPACK_IMPORTED_MODULE_0__);
var t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n(n){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=n.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],((void_elements__WEBPACK_IMPORTED_MODULE_0___default())[i[1]]||"/"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=n.indexOf("--\x3e");return{type:"comment",comment:-1!==s?n.slice(4,s):""}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i=/^\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf("<")){var u=e.indexOf("<");c.push({type:"text",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!=="</"+a.name+">")return;m=!1}var u,f="/"!==r.charAt(1),h=r.startsWith("\x3c!--"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,"tag"===(a=n(r)).type&&t.components[a.name]&&(a.type="component",m=!0),a.voidElement||m||!d||"<"===d||a.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&"<"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf("<",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=" "),(x>-1&&l+u.length>=0||" "!==g)&&u.push({type:"text",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a("",t)},"")}};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (c);
//# sourceMappingURL=html-parse-stringify.module.js.map


/***/ }),

/***/ "../../node_modules/i18next/dist/cjs/i18next.js":
/*!******************************************************!*\
  !*** ../../node_modules/i18next/dist/cjs/i18next.js ***!
  \******************************************************/
/***/ ((module) => {

"use strict";


const isString = obj => typeof obj === 'string';
const defer = () => {
  let res;
  let rej;
  const promise = new Promise((resolve, reject) => {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
};
const makeString = object => {
  if (object == null) return '';
  return '' + object;
};
const copy = (a, s, t) => {
  a.forEach(m => {
    if (s[m]) t[m] = s[m];
  });
};
const lastOfPathSeparatorRegExp = /###/g;
const cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;
const canNotTraverseDeeper = object => !object || isString(object);
const getLastOfPath = (object, path, Empty) => {
  const stack = !isString(path) ? path : path.split('.');
  let stackIndex = 0;
  while (stackIndex < stack.length - 1) {
    if (canNotTraverseDeeper(object)) return {};
    const key = cleanKey(stack[stackIndex]);
    if (!object[key] && Empty) object[key] = new Empty();
    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
    ++stackIndex;
  }
  if (canNotTraverseDeeper(object)) return {};
  return {
    obj: object,
    k: cleanKey(stack[stackIndex])
  };
};
const setPath = (object, path, newValue) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  if (obj !== undefined || path.length === 1) {
    obj[k] = newValue;
    return;
  }
  let e = path[path.length - 1];
  let p = path.slice(0, path.length - 1);
  let last = getLastOfPath(object, p, Object);
  while (last.obj === undefined && p.length) {
    e = `${p[p.length - 1]}.${e}`;
    p = p.slice(0, p.length - 1);
    last = getLastOfPath(object, p, Object);
    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {
      last.obj = undefined;
    }
  }
  last.obj[`${last.k}.${e}`] = newValue;
};
const pushPath = (object, path, newValue, concat) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path, Object);
  obj[k] = obj[k] || [];
  obj[k].push(newValue);
};
const getPath = (object, path) => {
  const {
    obj,
    k
  } = getLastOfPath(object, path);
  if (!obj) return undefined;
  return obj[k];
};
const getPathWithDefaults = (data, defaultData, key) => {
  const value = getPath(data, key);
  if (value !== undefined) {
    return value;
  }
  return getPath(defaultData, key);
};
const deepExtend = (target, source, overwrite) => {
  for (const prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }
  return target;
};
const regexEscape = str => str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
const escape = data => {
  if (isString(data)) {
    return data.replace(/[&<>"'\/]/g, s => _entityMap[s]);
  }
  return data;
};
class RegExpCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.regExpMap = new Map();
    this.regExpQueue = [];
  }
  getRegExp(pattern) {
    const regExpFromCache = this.regExpMap.get(pattern);
    if (regExpFromCache !== undefined) {
      return regExpFromCache;
    }
    const regExpNew = new RegExp(pattern);
    if (this.regExpQueue.length === this.capacity) {
      this.regExpMap.delete(this.regExpQueue.shift());
    }
    this.regExpMap.set(pattern, regExpNew);
    this.regExpQueue.push(pattern);
    return regExpNew;
  }
}
const chars = [' ', ',', '?', '!', ';'];
const looksLikeObjectPathRegExpCache = new RegExpCache(20);
const looksLikeObjectPath = (key, nsSeparator, keySeparator) => {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);
  if (possibleChars.length === 0) return true;
  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\?' : c).join('|')})`);
  let matched = !r.test(key);
  if (!matched) {
    const ki = key.indexOf(keySeparator);
    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }
  return matched;
};
const deepFind = function (obj, path) {
  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  const tokens = path.split(keySeparator);
  let current = obj;
  for (let i = 0; i < tokens.length;) {
    if (!current || typeof current !== 'object') {
      return undefined;
    }
    let next;
    let nextPath = '';
    for (let j = i; j < tokens.length; ++j) {
      if (j !== i) {
        nextPath += keySeparator;
      }
      nextPath += tokens[j];
      next = current[nextPath];
      if (next !== undefined) {
        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {
          continue;
        }
        i += j - i + 1;
        break;
      }
    }
    current = next;
  }
  return current;
};
const getCleanedCode = code => code && code.replace('_', '-');

const consoleLogger = {
  type: 'logger',
  log(args) {
    this.output('log', args);
  },
  warn(args) {
    this.output('warn', args);
  },
  error(args) {
    this.output('error', args);
  },
  output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};
class Logger {
  constructor(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.init(concreteLogger, options);
  }
  init(concreteLogger) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.prefix = options.prefix || 'i18next:';
    this.logger = concreteLogger || consoleLogger;
    this.options = options;
    this.debug = options.debug;
  }
  log() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return this.forward(args, 'log', '', true);
  }
  warn() {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return this.forward(args, 'warn', '', true);
  }
  error() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return this.forward(args, 'error', '');
  }
  deprecate() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
  }
  forward(args, lvl, prefix, debugOnly) {
    if (debugOnly && !this.debug) return null;
    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;
    return this.logger[lvl](args);
  }
  create(moduleName) {
    return new Logger(this.logger, {
      ...{
        prefix: `${this.prefix}:${moduleName}:`
      },
      ...this.options
    });
  }
  clone(options) {
    options = options || this.options;
    options.prefix = options.prefix || this.prefix;
    return new Logger(this.logger, options);
  }
}
var baseLogger = new Logger();

class EventEmitter {
  constructor() {
    this.observers = {};
  }
  on(events, listener) {
    events.split(' ').forEach(event => {
      if (!this.observers[event]) this.observers[event] = new Map();
      const numListeners = this.observers[event].get(listener) || 0;
      this.observers[event].set(listener, numListeners + 1);
    });
    return this;
  }
  off(event, listener) {
    if (!this.observers[event]) return;
    if (!listener) {
      delete this.observers[event];
      return;
    }
    this.observers[event].delete(listener);
  }
  emit(event) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    if (this.observers[event]) {
      const cloned = Array.from(this.observers[event].entries());
      cloned.forEach(_ref => {
        let [observer, numTimesAdded] = _ref;
        for (let i = 0; i < numTimesAdded; i++) {
          observer(...args);
        }
      });
    }
    if (this.observers['*']) {
      const cloned = Array.from(this.observers['*'].entries());
      cloned.forEach(_ref2 => {
        let [observer, numTimesAdded] = _ref2;
        for (let i = 0; i < numTimesAdded; i++) {
          observer.apply(observer, [event, ...args]);
        }
      });
    }
  }
}

class ResourceStore extends EventEmitter {
  constructor(data) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };
    super();
    this.data = data || {};
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    if (this.options.ignoreJSONStructure === undefined) {
      this.options.ignoreJSONStructure = true;
    }
  }
  addNamespaces(ns) {
    if (this.options.ns.indexOf(ns) < 0) {
      this.options.ns.push(ns);
    }
  }
  removeNamespaces(ns) {
    const index = this.options.ns.indexOf(ns);
    if (index > -1) {
      this.options.ns.splice(index, 1);
    }
  }
  getResource(lng, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
    let path;
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
    } else {
      path = [lng, ns];
      if (key) {
        if (Array.isArray(key)) {
          path.push(...key);
        } else if (isString(key) && keySeparator) {
          path.push(...key.split(keySeparator));
        } else {
          path.push(key);
        }
      }
    }
    const result = getPath(this.data, path);
    if (!result && !ns && !key && lng.indexOf('.') > -1) {
      lng = path[0];
      ns = path[1];
      key = path.slice(2).join('.');
    }
    if (result || !ignoreJSONStructure || !isString(key)) return result;
    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
  }
  addResource(lng, ns, key, value) {
    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      silent: false
    };
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let path = [lng, ns];
    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      value = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    setPath(this.data, path, value);
    if (!options.silent) this.emit('added', lng, ns, key, value);
  }
  addResources(lng, ns, resources) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
      silent: false
    };
    for (const m in resources) {
      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {
        silent: true
      });
    }
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  addResourceBundle(lng, ns, resources, deep, overwrite) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
      silent: false,
      skipCopy: false
    };
    let path = [lng, ns];
    if (lng.indexOf('.') > -1) {
      path = lng.split('.');
      deep = resources;
      resources = ns;
      ns = path[1];
    }
    this.addNamespaces(ns);
    let pack = getPath(this.data, path) || {};
    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));
    if (deep) {
      deepExtend(pack, resources, overwrite);
    } else {
      pack = {
        ...pack,
        ...resources
      };
    }
    setPath(this.data, path, pack);
    if (!options.silent) this.emit('added', lng, ns, resources);
  }
  removeResourceBundle(lng, ns) {
    if (this.hasResourceBundle(lng, ns)) {
      delete this.data[lng][ns];
    }
    this.removeNamespaces(ns);
    this.emit('removed', lng, ns);
  }
  hasResourceBundle(lng, ns) {
    return this.getResource(lng, ns) !== undefined;
  }
  getResourceBundle(lng, ns) {
    if (!ns) ns = this.options.defaultNS;
    if (this.options.compatibilityAPI === 'v1') return {
      ...{},
      ...this.getResource(lng, ns)
    };
    return this.getResource(lng, ns);
  }
  getDataByLanguage(lng) {
    return this.data[lng];
  }
  hasLanguageSomeTranslations(lng) {
    const data = this.getDataByLanguage(lng);
    const n = data && Object.keys(data) || [];
    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);
  }
  toJSON() {
    return this.data;
  }
}

var postProcessor = {
  processors: {},
  addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle(processors, value, key, options, translator) {
    processors.forEach(processor => {
      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

const checkedLoadedFor = {};
class Translator extends EventEmitter {
  constructor(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    super();
    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);
    this.options = options;
    if (this.options.keySeparator === undefined) {
      this.options.keySeparator = '.';
    }
    this.logger = baseLogger.create('translator');
  }
  changeLanguage(lng) {
    if (lng) this.language = lng;
  }
  exists(key) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    if (key === undefined || key === null) {
      return false;
    }
    const resolved = this.resolve(key, options);
    return resolved && resolved.res !== undefined;
  }
  extractFromKey(key, options) {
    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
    if (nsSeparator === undefined) nsSeparator = ':';
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    let namespaces = options.ns || this.options.defaultNS || [];
    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);
    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
      const m = key.match(this.interpolator.nestingRegexp);
      if (m && m.length > 0) {
        return {
          key,
          namespaces: isString(namespaces) ? [namespaces] : namespaces
        };
      }
      const parts = key.split(nsSeparator);
      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
      key = parts.join(keySeparator);
    }
    return {
      key,
      namespaces: isString(namespaces) ? [namespaces] : namespaces
    };
  }
  translate(keys, options, lastKey) {
    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {
      options = this.options.overloadTranslationOptionHandler(arguments);
    }
    if (typeof options === 'object') options = {
      ...options
    };
    if (!options) options = {};
    if (keys === undefined || keys === null) return '';
    if (!Array.isArray(keys)) keys = [String(keys)];
    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
    const {
      key,
      namespaces
    } = this.extractFromKey(keys[keys.length - 1], options);
    const namespace = namespaces[namespaces.length - 1];
    const lng = options.lng || this.language;
    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
    if (lng && lng.toLowerCase() === 'cimode') {
      if (appendNamespaceToCIMode) {
        const nsSeparator = options.nsSeparator || this.options.nsSeparator;
        if (returnDetails) {
          return {
            res: `${namespace}${nsSeparator}${key}`,
            usedKey: key,
            exactUsedKey: key,
            usedLng: lng,
            usedNS: namespace,
            usedParams: this.getUsedParamsDetails(options)
          };
        }
        return `${namespace}${nsSeparator}${key}`;
      }
      if (returnDetails) {
        return {
          res: key,
          usedKey: key,
          exactUsedKey: key,
          usedLng: lng,
          usedNS: namespace,
          usedParams: this.getUsedParamsDetails(options)
        };
      }
      return key;
    }
    const resolved = this.resolve(keys, options);
    let res = resolved && resolved.res;
    const resUsedKey = resolved && resolved.usedKey || key;
    const resExactUsedKey = resolved && resolved.exactUsedKey || key;
    const resType = Object.prototype.toString.apply(res);
    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
    const handleAsObject = !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';
    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(res))) {
      if (!options.returnObjects && !this.options.returnObjects) {
        if (!this.options.returnedObjectHandler) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
        }
        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {
          ...options,
          ns: namespaces
        }) : `key '${key} (${this.language})' returned an object instead of string.`;
        if (returnDetails) {
          resolved.res = r;
          resolved.usedParams = this.getUsedParamsDetails(options);
          return resolved;
        }
        return r;
      }
      if (keySeparator) {
        const resTypeIsArray = Array.isArray(res);
        const copy = resTypeIsArray ? [] : {};
        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;
        for (const m in res) {
          if (Object.prototype.hasOwnProperty.call(res, m)) {
            const deepKey = `${newKeyToUse}${keySeparator}${m}`;
            copy[m] = this.translate(deepKey, {
              ...options,
              ...{
                joinArrays: false,
                ns: namespaces
              }
            });
            if (copy[m] === deepKey) copy[m] = res[m];
          }
        }
        res = copy;
      }
    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {
      res = res.join(joinArrays);
      if (res) res = this.extendTranslation(res, keys, options, lastKey);
    } else {
      let usedDefault = false;
      let usedKey = false;
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const hasDefaultValue = Translator.hasDefaultValue(options);
      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {
        ordinal: false
      }) : '';
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;
      if (!this.isValidLookup(res) && hasDefaultValue) {
        usedDefault = true;
        res = defaultValue;
      }
      if (!this.isValidLookup(res)) {
        usedKey = true;
        res = key;
      }
      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;
      if (usedKey || usedDefault || updateMissing) {
        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);
        if (keySeparator) {
          const fk = this.resolve(key, {
            ...options,
            keySeparator: false
          });
          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
        }
        let lngs = [];
        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
          for (let i = 0; i < fallbackLngs.length; i++) {
            lngs.push(fallbackLngs[i]);
          }
        } else if (this.options.saveMissingTo === 'all') {
          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
        } else {
          lngs.push(options.lng || this.language);
        }
        const send = (l, k, specificDefaultValue) => {
          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;
          if (this.options.missingKeyHandler) {
            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
          } else if (this.backendConnector && this.backendConnector.saveMissing) {
            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
          }
          this.emit('missingKey', l, namespace, k, res);
        };
        if (this.options.saveMissing) {
          if (this.options.saveMissingPlurals && needsPluralHandling) {
            lngs.forEach(language => {
              const suffixes = this.pluralResolver.getSuffixes(language, options);
              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {
                suffixes.push(`${this.options.pluralSeparator}zero`);
              }
              suffixes.forEach(suffix => {
                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);
              });
            });
          } else {
            send(lngs, key, defaultValue);
          }
        }
      }
      res = this.extendTranslation(res, keys, options, resolved, lastKey);
      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;
      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
        if (this.options.compatibilityAPI !== 'v1') {
          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);
        } else {
          res = this.options.parseMissingKeyHandler(res);
        }
      }
    }
    if (returnDetails) {
      resolved.res = res;
      resolved.usedParams = this.getUsedParamsDetails(options);
      return resolved;
    }
    return res;
  }
  extendTranslation(res, key, options, resolved, lastKey) {
    var _this = this;
    if (this.i18nFormat && this.i18nFormat.parse) {
      res = this.i18nFormat.parse(res, {
        ...this.options.interpolation.defaultVariables,
        ...options
      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {
        resolved
      });
    } else if (!options.skipInterpolation) {
      if (options.interpolation) this.interpolator.init({
        ...options,
        ...{
          interpolation: {
            ...this.options.interpolation,
            ...options.interpolation
          }
        }
      });
      const skipOnVariables = isString(res) && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
      let nestBef;
      if (skipOnVariables) {
        const nb = res.match(this.interpolator.nestingRegexp);
        nestBef = nb && nb.length;
      }
      let data = options.replace && !isString(options.replace) ? options.replace : options;
      if (this.options.interpolation.defaultVariables) data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);
      if (skipOnVariables) {
        const na = res.match(this.interpolator.nestingRegexp);
        const nestAft = na && na.length;
        if (nestBef < nestAft) options.nest = false;
      }
      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;
      if (options.nest !== false) res = this.interpolator.nest(res, function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        if (lastKey && lastKey[0] === args[0] && !options.context) {
          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);
          return null;
        }
        return _this.translate(...args, key);
      }, options);
      if (options.interpolation) this.interpolator.reset();
    }
    const postProcess = options.postProcess || this.options.postProcess;
    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;
    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {
        i18nResolved: {
          ...resolved,
          usedParams: this.getUsedParamsDetails(options)
        },
        ...options
      } : options, this);
    }
    return res;
  }
  resolve(keys) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    let found;
    let usedKey;
    let exactUsedKey;
    let usedLng;
    let usedNS;
    if (isString(keys)) keys = [keys];
    keys.forEach(k => {
      if (this.isValidLookup(found)) return;
      const extracted = this.extractFromKey(k, options);
      const key = extracted.key;
      usedKey = key;
      let namespaces = extracted.namespaces;
      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);
      const needsPluralHandling = options.count !== undefined && !isString(options.count);
      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();
      const needsContextHandling = options.context !== undefined && (isString(options.context) || typeof options.context === 'number') && options.context !== '';
      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);
      namespaces.forEach(ns => {
        if (this.isValidLookup(found)) return;
        usedNS = ns;
        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {
          checkedLoadedFor[`${codes[0]}-${ns}`] = true;
          this.logger.warn(`key "${usedKey}" for languages "${codes.join(', ')}" won't get resolved as namespace "${usedNS}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        }
        codes.forEach(code => {
          if (this.isValidLookup(found)) return;
          usedLng = code;
          const finalKeys = [key];
          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {
            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
          } else {
            let pluralSuffix;
            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);
            const zeroSuffix = `${this.options.pluralSeparator}zero`;
            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;
            if (needsPluralHandling) {
              finalKeys.push(key + pluralSuffix);
              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
              }
              if (needsZeroSuffixLookup) {
                finalKeys.push(key + zeroSuffix);
              }
            }
            if (needsContextHandling) {
              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;
              finalKeys.push(contextKey);
              if (needsPluralHandling) {
                finalKeys.push(contextKey + pluralSuffix);
                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {
                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));
                }
                if (needsZeroSuffixLookup) {
                  finalKeys.push(contextKey + zeroSuffix);
                }
              }
            }
          }
          let possibleKey;
          while (possibleKey = finalKeys.pop()) {
            if (!this.isValidLookup(found)) {
              exactUsedKey = possibleKey;
              found = this.getResource(code, ns, possibleKey, options);
            }
          }
        });
      });
    });
    return {
      res: found,
      usedKey,
      exactUsedKey,
      usedLng,
      usedNS
    };
  }
  isValidLookup(res) {
    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
  }
  getResource(code, ns, key) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
    return this.resourceStore.getResource(code, ns, key, options);
  }
  getUsedParamsDetails() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];
    const useOptionsReplaceForData = options.replace && !isString(options.replace);
    let data = useOptionsReplaceForData ? options.replace : options;
    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {
      data.count = options.count;
    }
    if (this.options.interpolation.defaultVariables) {
      data = {
        ...this.options.interpolation.defaultVariables,
        ...data
      };
    }
    if (!useOptionsReplaceForData) {
      data = {
        ...data
      };
      for (const key of optionsKeys) {
        delete data[key];
      }
    }
    return data;
  }
  static hasDefaultValue(options) {
    const prefix = 'defaultValue';
    for (const option in options) {
      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
        return true;
      }
    }
    return false;
  }
}

const capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);
class LanguageUtil {
  constructor(options) {
    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }
  getScriptPartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return null;
    const p = code.split('-');
    if (p.length === 2) return null;
    p.pop();
    if (p[p.length - 1].toLowerCase() === 'x') return null;
    return this.formatLanguageCode(p.join('-'));
  }
  getLanguagePartFromCode(code) {
    code = getCleanedCode(code);
    if (!code || code.indexOf('-') < 0) return code;
    const p = code.split('-');
    return this.formatLanguageCode(p[0]);
  }
  formatLanguageCode(code) {
    if (isString(code) && code.indexOf('-') > -1) {
      if (typeof Intl !== 'undefined' && typeof Intl.getCanonicalLocales !== 'undefined') {
        try {
          let formattedCode = Intl.getCanonicalLocales(code)[0];
          if (formattedCode && this.options.lowerCaseLng) {
            formattedCode = formattedCode.toLowerCase();
          }
          if (formattedCode) return formattedCode;
        } catch (e) {}
      }
      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
      let p = code.split('-');
      if (this.options.lowerCaseLng) {
        p = p.map(part => part.toLowerCase());
      } else if (p.length === 2) {
        p[0] = p[0].toLowerCase();
        p[1] = p[1].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
      } else if (p.length === 3) {
        p[0] = p[0].toLowerCase();
        if (p[1].length === 2) p[1] = p[1].toUpperCase();
        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
      }
      return p.join('-');
    }
    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
  }
  isSupportedCode(code) {
    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
      code = this.getLanguagePartFromCode(code);
    }
    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
  }
  getBestMatchFromCodes(codes) {
    if (!codes) return null;
    let found;
    codes.forEach(code => {
      if (found) return;
      const cleanedLng = this.formatLanguageCode(code);
      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;
    });
    if (!found && this.options.supportedLngs) {
      codes.forEach(code => {
        if (found) return;
        const lngOnly = this.getLanguagePartFromCode(code);
        if (this.isSupportedCode(lngOnly)) return found = lngOnly;
        found = this.options.supportedLngs.find(supportedLng => {
          if (supportedLng === lngOnly) return supportedLng;
          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;
          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;
          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;
        });
      });
    }
    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
    return found;
  }
  getFallbackCodes(fallbacks, code) {
    if (!fallbacks) return [];
    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
    if (isString(fallbacks)) fallbacks = [fallbacks];
    if (Array.isArray(fallbacks)) return fallbacks;
    if (!code) return fallbacks.default || [];
    let found = fallbacks[code];
    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
    if (!found) found = fallbacks[this.formatLanguageCode(code)];
    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
    if (!found) found = fallbacks.default;
    return found || [];
  }
  toResolveHierarchy(code, fallbackCode) {
    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
    const codes = [];
    const addCode = c => {
      if (!c) return;
      if (this.isSupportedCode(c)) {
        codes.push(c);
      } else {
        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);
      }
    };
    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {
      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
    } else if (isString(code)) {
      addCode(this.formatLanguageCode(code));
    }
    fallbackCodes.forEach(fc => {
      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));
    });
    return codes;
  }
}

let sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
let _rulesPluralsTypes = {
  1: n => Number(n > 1),
  2: n => Number(n != 1),
  3: n => 0,
  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),
  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),
  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),
  9: n => Number(n >= 2),
  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),
  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),
  12: n => Number(n % 10 != 1 || n % 100 == 11),
  13: n => Number(n !== 0),
  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),
  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),
  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),
  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),
  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),
  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),
  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),
  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),
  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)
};
const nonIntlVersions = ['v1', 'v2', 'v3'];
const intlVersions = ['v4'];
const suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};
const createRules = () => {
  const rules = {};
  sets.forEach(set => {
    set.lngs.forEach(l => {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
};
class PluralResolver {
  constructor(languageUtils) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }
    this.rules = createRules();
    this.pluralRulesCache = {};
  }
  addRule(lng, obj) {
    this.rules[lng] = obj;
  }
  clearCache() {
    this.pluralRulesCache = {};
  }
  getRule(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (this.shouldUseIntlApi()) {
      const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);
      const type = options.ordinal ? 'ordinal' : 'cardinal';
      const cacheKey = JSON.stringify({
        cleanedCode,
        type
      });
      if (cacheKey in this.pluralRulesCache) {
        return this.pluralRulesCache[cacheKey];
      }
      let rule;
      try {
        rule = new Intl.PluralRules(cleanedCode, {
          type
        });
      } catch (err) {
        if (!code.match(/-|_/)) return;
        const lngPart = this.languageUtils.getLanguagePartFromCode(code);
        rule = this.getRule(lngPart, options);
      }
      this.pluralRulesCache[cacheKey] = rule;
      return rule;
    }
    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
  }
  needsPlural(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (this.shouldUseIntlApi()) {
      return rule && rule.resolvedOptions().pluralCategories.length > 1;
    }
    return rule && rule.numbers.length > 1;
  }
  getPluralFormsOfKey(code, key) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);
  }
  getSuffixes(code) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    const rule = this.getRule(code, options);
    if (!rule) {
      return [];
    }
    if (this.shouldUseIntlApi()) {
      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);
    }
    return rule.numbers.map(number => this.getSuffix(code, number, options));
  }
  getSuffix(code, count) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    const rule = this.getRule(code, options);
    if (rule) {
      if (this.shouldUseIntlApi()) {
        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;
      }
      return this.getSuffixRetroCompatible(rule, count);
    }
    this.logger.warn(`no plural rule found for: ${code}`);
    return '';
  }
  getSuffixRetroCompatible(rule, count) {
    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
    let suffix = rule.numbers[idx];
    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      if (suffix === 2) {
        suffix = 'plural';
      } else if (suffix === 1) {
        suffix = '';
      }
    }
    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();
    if (this.options.compatibilityJSON === 'v1') {
      if (suffix === 1) return '';
      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;
      return returnSuffix();
    } else if (this.options.compatibilityJSON === 'v2') {
      return returnSuffix();
    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
      return returnSuffix();
    }
    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
  }
  shouldUseIntlApi() {
    return !nonIntlVersions.includes(this.options.compatibilityJSON);
  }
}

const deepFindWithDefaults = function (data, defaultData, key) {
  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';
  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;
  let path = getPathWithDefaults(data, defaultData, key);
  if (!path && ignoreJSONStructure && isString(key)) {
    path = deepFind(data, key, keySeparator);
    if (path === undefined) path = deepFind(defaultData, key, keySeparator);
  }
  return path;
};
const regexSafe = val => val.replace(/\$/g, '$$$$');
class Interpolator {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('interpolator');
    this.options = options;
    this.format = options.interpolation && options.interpolation.format || (value => value);
    this.init(options);
  }
  init() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    if (!options.interpolation) options.interpolation = {
      escapeValue: true
    };
    const {
      escape: escape$1,
      escapeValue,
      useRawValueToEscape,
      prefix,
      prefixEscaped,
      suffix,
      suffixEscaped,
      formatSeparator,
      unescapeSuffix,
      unescapePrefix,
      nestingPrefix,
      nestingPrefixEscaped,
      nestingSuffix,
      nestingSuffixEscaped,
      nestingOptionsSeparator,
      maxReplaces,
      alwaysFormat
    } = options.interpolation;
    this.escape = escape$1 !== undefined ? escape$1 : escape;
    this.escapeValue = escapeValue !== undefined ? escapeValue : true;
    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;
    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';
    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';
    this.formatSeparator = formatSeparator || ',';
    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';
    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';
    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');
    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');
    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';
    this.maxReplaces = maxReplaces || 1000;
    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;
    this.resetRegExp();
  }
  reset() {
    if (this.options) this.init(this.options);
  }
  resetRegExp() {
    const getOrResetRegExp = (existingRegExp, pattern) => {
      if (existingRegExp && existingRegExp.source === pattern) {
        existingRegExp.lastIndex = 0;
        return existingRegExp;
      }
      return new RegExp(pattern, 'g');
    };
    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);
    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);
    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);
  }
  interpolate(str, data, lng, options) {
    let match;
    let value;
    let replaces;
    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};
    const handleFormat = key => {
      if (key.indexOf(this.formatSeparator) < 0) {
        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);
        return this.alwaysFormat ? this.format(path, undefined, lng, {
          ...options,
          ...data,
          interpolationkey: key
        }) : path;
      }
      const p = key.split(this.formatSeparator);
      const k = p.shift().trim();
      const f = p.join(this.formatSeparator).trim();
      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {
        ...options,
        ...data,
        interpolationkey: k
      });
    };
    this.resetRegExp();
    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
    const todos = [{
      regex: this.regexpUnescape,
      safeValue: val => regexSafe(val)
    }, {
      regex: this.regexp,
      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)
    }];
    todos.forEach(todo => {
      replaces = 0;
      while (match = todo.regex.exec(str)) {
        const matchedVar = match[1].trim();
        value = handleFormat(matchedVar);
        if (value === undefined) {
          if (typeof missingInterpolationHandler === 'function') {
            const temp = missingInterpolationHandler(str, match, options);
            value = isString(temp) ? temp : '';
          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {
            value = '';
          } else if (skipOnVariables) {
            value = match[0];
            continue;
          } else {
            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);
            value = '';
          }
        } else if (!isString(value) && !this.useRawValueToEscape) {
          value = makeString(value);
        }
        const safeValue = todo.safeValue(value);
        str = str.replace(match[0], safeValue);
        if (skipOnVariables) {
          todo.regex.lastIndex += value.length;
          todo.regex.lastIndex -= match[0].length;
        } else {
          todo.regex.lastIndex = 0;
        }
        replaces++;
        if (replaces >= this.maxReplaces) {
          break;
        }
      }
    });
    return str;
  }
  nest(str, fc) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let match;
    let value;
    let clonedOptions;
    const handleHasOptions = (key, inheritedOptions) => {
      const sep = this.nestingOptionsSeparator;
      if (key.indexOf(sep) < 0) return key;
      const c = key.split(new RegExp(`${sep}[ ]*{`));
      let optionsString = `{${c[1]}`;
      key = c[0];
      optionsString = this.interpolate(optionsString, clonedOptions);
      const matchedSingleQuotes = optionsString.match(/'/g);
      const matchedDoubleQuotes = optionsString.match(/"/g);
      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
        optionsString = optionsString.replace(/'/g, '"');
      }
      try {
        clonedOptions = JSON.parse(optionsString);
        if (inheritedOptions) clonedOptions = {
          ...inheritedOptions,
          ...clonedOptions
        };
      } catch (e) {
        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);
        return `${key}${sep}${optionsString}`;
      }
      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;
      return key;
    };
    while (match = this.nestingRegexp.exec(str)) {
      let formatters = [];
      clonedOptions = {
        ...options
      };
      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;
      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;
      let doReduce = false;
      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());
        match[1] = r.shift();
        formatters = r;
        doReduce = true;
      }
      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
      if (value && match[0] === str && !isString(value)) return value;
      if (!isString(value)) value = makeString(value);
      if (!value) {
        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);
        value = '';
      }
      if (doReduce) {
        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {
          ...options,
          interpolationkey: match[1].trim()
        }), value.trim());
      }
      str = str.replace(match[0], value);
      this.regexp.lastIndex = 0;
    }
    return str;
  }
}

const parseFormatStr = formatStr => {
  let formatName = formatStr.toLowerCase().trim();
  const formatOptions = {};
  if (formatStr.indexOf('(') > -1) {
    const p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    const optStr = p[1].substring(0, p[1].length - 1);
    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      const opts = optStr.split(';');
      opts.forEach(opt => {
        if (opt) {
          const [key, ...rest] = opt.split(':');
          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');
          const trimmedKey = key.trim();
          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;
          if (val === 'false') formatOptions[trimmedKey] = false;
          if (val === 'true') formatOptions[trimmedKey] = true;
          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);
        }
      });
    }
  }
  return {
    formatName,
    formatOptions
  };
};
const createCachedFormatter = fn => {
  const cache = {};
  return (val, lng, options) => {
    let optForCache = options;
    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {
      optForCache = {
        ...optForCache,
        [options.interpolationkey]: undefined
      };
    }
    const key = lng + JSON.stringify(optForCache);
    let formatter = cache[key];
    if (!formatter) {
      formatter = fn(getCleanedCode(lng), options);
      cache[key] = formatter;
    }
    return formatter(val);
  };
};
class Formatter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      currency: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.NumberFormat(lng, {
          ...opt,
          style: 'currency'
        });
        return val => formatter.format(val);
      }),
      datetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.DateTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      }),
      relativetime: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.RelativeTimeFormat(lng, {
          ...opt
        });
        return val => formatter.format(val, opt.range || 'day');
      }),
      list: createCachedFormatter((lng, opt) => {
        const formatter = new Intl.ListFormat(lng, {
          ...opt
        });
        return val => formatter.format(val);
      })
    };
    this.init(options);
  }
  init(services) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      interpolation: {}
    };
    this.formatSeparator = options.interpolation.formatSeparator || ',';
  }
  add(name, fc) {
    this.formats[name.toLowerCase().trim()] = fc;
  }
  addCached(name, fc) {
    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
  }
  format(value, format, lng) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    const formats = format.split(this.formatSeparator);
    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {
      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);
      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);
    }
    const result = formats.reduce((mem, f) => {
      const {
        formatName,
        formatOptions
      } = parseFormatStr(f);
      if (this.formats[formatName]) {
        let formatted = mem;
        try {
          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
          formatted = this.formats[formatName](mem, l, {
            ...formatOptions,
            ...options,
            ...valOptions
          });
        } catch (error) {
          this.logger.warn(error);
        }
        return formatted;
      } else {
        this.logger.warn(`there was no format function for ${formatName}`);
      }
      return mem;
    }, value);
    return result;
  }
}

const removePending = (q, name) => {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
};
class Connector extends EventEmitter {
  constructor(backend, store, services) {
    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    super();
    this.backend = backend;
    this.store = store;
    this.services = services;
    this.languageUtils = services.languageUtils;
    this.options = options;
    this.logger = baseLogger.create('backendConnector');
    this.waitingReads = [];
    this.maxParallelReads = options.maxParallelReads || 10;
    this.readingCalls = 0;
    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    this.state = {};
    this.queue = [];
    if (this.backend && this.backend.init) {
      this.backend.init(services, options.backend, options);
    }
  }
  queueLoad(languages, namespaces, options, callback) {
    const toLoad = {};
    const pending = {};
    const toLoadLanguages = {};
    const toLoadNamespaces = {};
    languages.forEach(lng => {
      let hasAllNamespaces = true;
      namespaces.forEach(ns => {
        const name = `${lng}|${ns}`;
        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {
          this.state[name] = 2;
        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {
          if (pending[name] === undefined) pending[name] = true;
        } else {
          this.state[name] = 1;
          hasAllNamespaces = false;
          if (pending[name] === undefined) pending[name] = true;
          if (toLoad[name] === undefined) toLoad[name] = true;
          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
        }
      });
      if (!hasAllNamespaces) toLoadLanguages[lng] = true;
    });
    if (Object.keys(toLoad).length || Object.keys(pending).length) {
      this.queue.push({
        pending,
        pendingCount: Object.keys(pending).length,
        loaded: {},
        errors: [],
        callback
      });
    }
    return {
      toLoad: Object.keys(toLoad),
      pending: Object.keys(pending),
      toLoadLanguages: Object.keys(toLoadLanguages),
      toLoadNamespaces: Object.keys(toLoadNamespaces)
    };
  }
  loaded(name, err, data) {
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    if (err) this.emit('failedLoading', lng, ns, err);
    if (!err && data) {
      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {
        skipCopy: true
      });
    }
    this.state[name] = err ? -1 : 2;
    if (err && data) this.state[name] = 0;
    const loaded = {};
    this.queue.forEach(q => {
      pushPath(q.loaded, [lng], ns);
      removePending(q, name);
      if (err) q.errors.push(err);
      if (q.pendingCount === 0 && !q.done) {
        Object.keys(q.loaded).forEach(l => {
          if (!loaded[l]) loaded[l] = {};
          const loadedKeys = q.loaded[l];
          if (loadedKeys.length) {
            loadedKeys.forEach(n => {
              if (loaded[l][n] === undefined) loaded[l][n] = true;
            });
          }
        });
        q.done = true;
        if (q.errors.length) {
          q.callback(q.errors);
        } else {
          q.callback();
        }
      }
    });
    this.emit('loaded', loaded);
    this.queue = this.queue.filter(q => !q.done);
  }
  read(lng, ns, fcName) {
    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
    let callback = arguments.length > 5 ? arguments[5] : undefined;
    if (!lng.length) return callback(null, {});
    if (this.readingCalls >= this.maxParallelReads) {
      this.waitingReads.push({
        lng,
        ns,
        fcName,
        tried,
        wait,
        callback
      });
      return;
    }
    this.readingCalls++;
    const resolver = (err, data) => {
      this.readingCalls--;
      if (this.waitingReads.length > 0) {
        const next = this.waitingReads.shift();
        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
      }
      if (err && data && tried < this.maxRetries) {
        setTimeout(() => {
          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);
        }, wait);
        return;
      }
      callback(err, data);
    };
    const fc = this.backend[fcName].bind(this.backend);
    if (fc.length === 2) {
      try {
        const r = fc(lng, ns);
        if (r && typeof r.then === 'function') {
          r.then(data => resolver(null, data)).catch(resolver);
        } else {
          resolver(null, r);
        }
      } catch (err) {
        resolver(err);
      }
      return;
    }
    return fc(lng, ns, resolver);
  }
  prepareLoading(languages, namespaces) {
    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    let callback = arguments.length > 3 ? arguments[3] : undefined;
    if (!this.backend) {
      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
      return callback && callback();
    }
    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);
    if (isString(namespaces)) namespaces = [namespaces];
    const toLoad = this.queueLoad(languages, namespaces, options, callback);
    if (!toLoad.toLoad.length) {
      if (!toLoad.pending.length) callback();
      return null;
    }
    toLoad.toLoad.forEach(name => {
      this.loadOne(name);
    });
  }
  load(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {}, callback);
  }
  reload(languages, namespaces, callback) {
    this.prepareLoading(languages, namespaces, {
      reload: true
    }, callback);
  }
  loadOne(name) {
    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
    const s = name.split('|');
    const lng = s[0];
    const ns = s[1];
    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {
      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);
      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);
      this.loaded(name, err, data);
    });
  }
  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};
    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
      this.logger.warn(`did not save key "${key}" as the namespace "${namespace}" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
      return;
    }
    if (key === undefined || key === null || key === '') return;
    if (this.backend && this.backend.create) {
      const opts = {
        ...options,
        isUpdate
      };
      const fc = this.backend.create.bind(this.backend);
      if (fc.length < 6) {
        try {
          let r;
          if (fc.length === 5) {
            r = fc(languages, namespace, key, fallbackValue, opts);
          } else {
            r = fc(languages, namespace, key, fallbackValue);
          }
          if (r && typeof r.then === 'function') {
            r.then(data => clb(null, data)).catch(clb);
          } else {
            clb(null, r);
          }
        } catch (err) {
          clb(err);
        }
      } else {
        fc(languages, namespace, key, fallbackValue, clb, opts);
      }
    }
    if (!languages || !languages[0]) return;
    this.store.addResource(languages[0], namespace, key, fallbackValue);
  }
}

const get = () => ({
  debug: false,
  initImmediate: true,
  ns: ['translation'],
  defaultNS: ['translation'],
  fallbackLng: ['dev'],
  fallbackNS: false,
  supportedLngs: false,
  nonExplicitSupportedLngs: false,
  load: 'all',
  preload: false,
  simplifyPluralSuffix: true,
  keySeparator: '.',
  nsSeparator: ':',
  pluralSeparator: '_',
  contextSeparator: '_',
  partialBundledLanguages: false,
  saveMissing: false,
  updateMissing: false,
  saveMissingTo: 'fallback',
  saveMissingPlurals: true,
  missingKeyHandler: false,
  missingInterpolationHandler: false,
  postProcess: false,
  postProcessPassResolved: false,
  returnNull: false,
  returnEmptyString: true,
  returnObjects: false,
  joinArrays: false,
  returnedObjectHandler: false,
  parseMissingKeyHandler: false,
  appendNamespaceToMissingKey: false,
  appendNamespaceToCIMode: false,
  overloadTranslationOptionHandler: args => {
    let ret = {};
    if (typeof args[1] === 'object') ret = args[1];
    if (isString(args[1])) ret.defaultValue = args[1];
    if (isString(args[2])) ret.tDescription = args[2];
    if (typeof args[2] === 'object' || typeof args[3] === 'object') {
      const options = args[3] || args[2];
      Object.keys(options).forEach(key => {
        ret[key] = options[key];
      });
    }
    return ret;
  },
  interpolation: {
    escapeValue: true,
    format: value => value,
    prefix: '{{',
    suffix: '}}',
    formatSeparator: ',',
    unescapePrefix: '-',
    nestingPrefix: '$t(',
    nestingSuffix: ')',
    nestingOptionsSeparator: ',',
    maxReplaces: 1000,
    skipOnVariables: true
  }
});
const transformOptions = options => {
  if (isString(options.ns)) options.ns = [options.ns];
  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];
  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];
  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }
  return options;
};

const noop = () => {};
const bindMemberFunctions = inst => {
  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(mem => {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
};
class I18n extends EventEmitter {
  constructor() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    super();
    this.options = transformOptions(options);
    this.services = {};
    this.logger = baseLogger;
    this.modules = {
      external: []
    };
    bindMemberFunctions(this);
    if (callback && !this.isInitialized && !options.isClone) {
      if (!this.options.initImmediate) {
        this.init(options, callback);
        return this;
      }
      setTimeout(() => {
        this.init(options, callback);
      }, 0);
    }
  }
  init() {
    var _this = this;
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    this.isInitializing = true;
    if (typeof options === 'function') {
      callback = options;
      options = {};
    }
    if (!options.defaultNS && options.defaultNS !== false && options.ns) {
      if (isString(options.ns)) {
        options.defaultNS = options.ns;
      } else if (options.ns.indexOf('translation') < 0) {
        options.defaultNS = options.ns[0];
      }
    }
    const defOpts = get();
    this.options = {
      ...defOpts,
      ...this.options,
      ...transformOptions(options)
    };
    if (this.options.compatibilityAPI !== 'v1') {
      this.options.interpolation = {
        ...defOpts.interpolation,
        ...this.options.interpolation
      };
    }
    if (options.keySeparator !== undefined) {
      this.options.userDefinedKeySeparator = options.keySeparator;
    }
    if (options.nsSeparator !== undefined) {
      this.options.userDefinedNsSeparator = options.nsSeparator;
    }
    const createClassOnDemand = ClassOrObject => {
      if (!ClassOrObject) return null;
      if (typeof ClassOrObject === 'function') return new ClassOrObject();
      return ClassOrObject;
    };
    if (!this.options.isClone) {
      if (this.modules.logger) {
        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
      } else {
        baseLogger.init(null, this.options);
      }
      let formatter;
      if (this.modules.formatter) {
        formatter = this.modules.formatter;
      } else if (typeof Intl !== 'undefined') {
        formatter = Formatter;
      }
      const lu = new LanguageUtil(this.options);
      this.store = new ResourceStore(this.options.resources, this.options);
      const s = this.services;
      s.logger = baseLogger;
      s.resourceStore = this.store;
      s.languageUtils = lu;
      s.pluralResolver = new PluralResolver(lu, {
        prepend: this.options.pluralSeparator,
        compatibilityJSON: this.options.compatibilityJSON,
        simplifyPluralSuffix: this.options.simplifyPluralSuffix
      });
      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
        s.formatter = createClassOnDemand(formatter);
        s.formatter.init(s, this.options);
        this.options.interpolation.format = s.formatter.format.bind(s.formatter);
      }
      s.interpolator = new Interpolator(this.options);
      s.utils = {
        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
      };
      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
      s.backendConnector.on('*', function (event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        _this.emit(event, ...args);
      });
      if (this.modules.languageDetector) {
        s.languageDetector = createClassOnDemand(this.modules.languageDetector);
        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);
      }
      if (this.modules.i18nFormat) {
        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
        if (s.i18nFormat.init) s.i18nFormat.init(this);
      }
      this.translator = new Translator(this.services, this.options);
      this.translator.on('*', function (event) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        _this.emit(event, ...args);
      });
      this.modules.external.forEach(m => {
        if (m.init) m.init(this);
      });
    }
    this.format = this.options.interpolation.format;
    if (!callback) callback = noop;
    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
    }
    if (!this.services.languageDetector && !this.options.lng) {
      this.logger.warn('init: no languageDetector is used and no lng is defined');
    }
    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
    storeApi.forEach(fcName => {
      this[fcName] = function () {
        return _this.store[fcName](...arguments);
      };
    });
    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
    storeApiChained.forEach(fcName => {
      this[fcName] = function () {
        _this.store[fcName](...arguments);
        return _this;
      };
    });
    const deferred = defer();
    const load = () => {
      const finish = (err, t) => {
        this.isInitializing = false;
        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');
        this.isInitialized = true;
        if (!this.options.isClone) this.logger.log('initialized', this.options);
        this.emit('initialized', this.options);
        deferred.resolve(t);
        callback(err, t);
      };
      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));
      this.changeLanguage(this.options.lng, finish);
    };
    if (this.options.resources || !this.options.initImmediate) {
      load();
    } else {
      setTimeout(load, 0);
    }
    return deferred;
  }
  loadResources(language) {
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    let usedCallback = callback;
    const usedLng = isString(language) ? language : this.language;
    if (typeof language === 'function') usedCallback = language;
    if (!this.options.resources || this.options.partialBundledLanguages) {
      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();
      const toLoad = [];
      const append = lng => {
        if (!lng) return;
        if (lng === 'cimode') return;
        const lngs = this.services.languageUtils.toResolveHierarchy(lng);
        lngs.forEach(l => {
          if (l === 'cimode') return;
          if (toLoad.indexOf(l) < 0) toLoad.push(l);
        });
      };
      if (!usedLng) {
        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        fallbacks.forEach(l => append(l));
      } else {
        append(usedLng);
      }
      if (this.options.preload) {
        this.options.preload.forEach(l => append(l));
      }
      this.services.backendConnector.load(toLoad, this.options.ns, e => {
        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);
        usedCallback(e);
      });
    } else {
      usedCallback(null);
    }
  }
  reloadResources(lngs, ns, callback) {
    const deferred = defer();
    if (typeof lngs === 'function') {
      callback = lngs;
      lngs = undefined;
    }
    if (typeof ns === 'function') {
      callback = ns;
      ns = undefined;
    }
    if (!lngs) lngs = this.languages;
    if (!ns) ns = this.options.ns;
    if (!callback) callback = noop;
    this.services.backendConnector.reload(lngs, ns, err => {
      deferred.resolve();
      callback(err);
    });
    return deferred;
  }
  use(module) {
    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');
    if (module.type === 'backend') {
      this.modules.backend = module;
    }
    if (module.type === 'logger' || module.log && module.warn && module.error) {
      this.modules.logger = module;
    }
    if (module.type === 'languageDetector') {
      this.modules.languageDetector = module;
    }
    if (module.type === 'i18nFormat') {
      this.modules.i18nFormat = module;
    }
    if (module.type === 'postProcessor') {
      postProcessor.addPostProcessor(module);
    }
    if (module.type === 'formatter') {
      this.modules.formatter = module;
    }
    if (module.type === '3rdParty') {
      this.modules.external.push(module);
    }
    return this;
  }
  setResolvedLanguage(l) {
    if (!l || !this.languages) return;
    if (['cimode', 'dev'].indexOf(l) > -1) return;
    for (let li = 0; li < this.languages.length; li++) {
      const lngInLngs = this.languages[li];
      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;
      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
        this.resolvedLanguage = lngInLngs;
        break;
      }
    }
  }
  changeLanguage(lng, callback) {
    var _this2 = this;
    this.isLanguageChangingTo = lng;
    const deferred = defer();
    this.emit('languageChanging', lng);
    const setLngProps = l => {
      this.language = l;
      this.languages = this.services.languageUtils.toResolveHierarchy(l);
      this.resolvedLanguage = undefined;
      this.setResolvedLanguage(l);
    };
    const done = (err, l) => {
      if (l) {
        setLngProps(l);
        this.translator.changeLanguage(l);
        this.isLanguageChangingTo = undefined;
        this.emit('languageChanged', l);
        this.logger.log('languageChanged', l);
      } else {
        this.isLanguageChangingTo = undefined;
      }
      deferred.resolve(function () {
        return _this2.t(...arguments);
      });
      if (callback) callback(err, function () {
        return _this2.t(...arguments);
      });
    };
    const setLng = lngs => {
      if (!lng && !lngs && this.services.languageDetector) lngs = [];
      const l = isString(lngs) ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);
      if (l) {
        if (!this.language) {
          setLngProps(l);
        }
        if (!this.translator.language) this.translator.changeLanguage(l);
        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);
      }
      this.loadResources(l, err => {
        done(err, l);
      });
    };
    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
      setLng(this.services.languageDetector.detect());
    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
      if (this.services.languageDetector.detect.length === 0) {
        this.services.languageDetector.detect().then(setLng);
      } else {
        this.services.languageDetector.detect(setLng);
      }
    } else {
      setLng(lng);
    }
    return deferred;
  }
  getFixedT(lng, ns, keyPrefix) {
    var _this3 = this;
    const fixedT = function (key, opts) {
      let options;
      if (typeof opts !== 'object') {
        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
          rest[_key3 - 2] = arguments[_key3];
        }
        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));
      } else {
        options = {
          ...opts
        };
      }
      options.lng = options.lng || fixedT.lng;
      options.lngs = options.lngs || fixedT.lngs;
      options.ns = options.ns || fixedT.ns;
      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
      const keySeparator = _this3.options.keySeparator || '.';
      let resultKey;
      if (options.keyPrefix && Array.isArray(key)) {
        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);
      } else {
        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;
      }
      return _this3.t(resultKey, options);
    };
    if (isString(lng)) {
      fixedT.lng = lng;
    } else {
      fixedT.lngs = lng;
    }
    fixedT.ns = ns;
    fixedT.keyPrefix = keyPrefix;
    return fixedT;
  }
  t() {
    return this.translator && this.translator.translate(...arguments);
  }
  exists() {
    return this.translator && this.translator.exists(...arguments);
  }
  setDefaultNamespace(ns) {
    this.options.defaultNS = ns;
  }
  hasLoadedNamespace(ns) {
    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    if (!this.isInitialized) {
      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
      return false;
    }
    if (!this.languages || !this.languages.length) {
      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
      return false;
    }
    const lng = options.lng || this.resolvedLanguage || this.languages[0];
    const fallbackLng = this.options ? this.options.fallbackLng : false;
    const lastLng = this.languages[this.languages.length - 1];
    if (lng.toLowerCase() === 'cimode') return true;
    const loadNotPending = (l, n) => {
      const loadState = this.services.backendConnector.state[`${l}|${n}`];
      return loadState === -1 || loadState === 0 || loadState === 2;
    };
    if (options.precheck) {
      const preResult = options.precheck(this, loadNotPending);
      if (preResult !== undefined) return preResult;
    }
    if (this.hasResourceBundle(lng, ns)) return true;
    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
    return false;
  }
  loadNamespaces(ns, callback) {
    const deferred = defer();
    if (!this.options.ns) {
      if (callback) callback();
      return Promise.resolve();
    }
    if (isString(ns)) ns = [ns];
    ns.forEach(n => {
      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);
    });
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  loadLanguages(lngs, callback) {
    const deferred = defer();
    if (isString(lngs)) lngs = [lngs];
    const preloaded = this.options.preload || [];
    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));
    if (!newLngs.length) {
      if (callback) callback();
      return Promise.resolve();
    }
    this.options.preload = preloaded.concat(newLngs);
    this.loadResources(err => {
      deferred.resolve();
      if (callback) callback(err);
    });
    return deferred;
  }
  dir(lng) {
    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
    if (!lng) return 'rtl';
    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());
    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
  }
  static createInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 ? arguments[1] : undefined;
    return new I18n(options, callback);
  }
  cloneInstance() {
    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
    const forkResourceStore = options.forkResourceStore;
    if (forkResourceStore) delete options.forkResourceStore;
    const mergedOptions = {
      ...this.options,
      ...options,
      ...{
        isClone: true
      }
    };
    const clone = new I18n(mergedOptions);
    if (options.debug !== undefined || options.prefix !== undefined) {
      clone.logger = clone.logger.clone(options);
    }
    const membersToCopy = ['store', 'services', 'language'];
    membersToCopy.forEach(m => {
      clone[m] = this[m];
    });
    clone.services = {
      ...this.services
    };
    clone.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    if (forkResourceStore) {
      clone.store = new ResourceStore(this.store.data, mergedOptions);
      clone.services.resourceStore = clone.store;
    }
    clone.translator = new Translator(clone.services, mergedOptions);
    clone.translator.on('*', function (event) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      clone.emit(event, ...args);
    });
    clone.init(mergedOptions, callback);
    clone.translator.options = mergedOptions;
    clone.translator.backendConnector.services.utils = {
      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
    };
    return clone;
  }
  toJSON() {
    return {
      options: this.options,
      store: this.store,
      language: this.language,
      languages: this.languages,
      resolvedLanguage: this.resolvedLanguage
    };
  }
}
const instance = I18n.createInstance();
instance.createInstance = I18n.createInstance;

module.exports = instance;


/***/ }),

/***/ "../../node_modules/lodash.debounce/index.js":
/*!***************************************************!*\
  !*** ../../node_modules/lodash.debounce/index.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = debounce;


/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/I18nextProvider.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/I18nextProvider.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nextProvider: () => (/* binding */ I18nextProvider)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


function I18nextProvider(_ref) {
  let {
    i18n,
    defaultNS,
    children
  } = _ref;
  const value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    i18n,
    defaultNS
  }), [i18n, defaultNS]);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext.Provider, {
    value
  }, children);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Trans.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Trans.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");




function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_2__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const t = tFromProps || i18n && i18n.t.bind(i18n);
  return (0,_TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans)({
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions,
    values,
    defaults,
    components,
    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,
    i18n,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  });
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js":
/*!***********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/TransWithoutContext.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Trans: () => (/* binding */ Trans),
/* harmony export */   nodesToString: () => (/* binding */ nodesToString)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html-parse-stringify */ "../../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");





const hasChildren = (node, checkLength) => {
  if (!node) return false;
  const base = node.props ? node.props.children : node.children;
  if (checkLength) return base.length > 0;
  return !!base;
};
const getChildren = node => {
  if (!node) return [];
  const children = node.props ? node.props.children : node.children;
  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;
};
const hasValidReactChildren = children => Array.isArray(children) && children.every(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement);
const getAsArray = data => Array.isArray(data) ? data : [data];
const mergeProps = (source, target) => {
  const newTarget = {
    ...target
  };
  newTarget.props = Object.assign(source.props, target.props);
  return newTarget;
};
const nodesToString = (children, i18nOptions) => {
  if (!children) return '';
  let stringNode = '';
  const childrenArray = getAsArray(children);
  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];
  childrenArray.forEach((child, childIndex) => {
    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
      stringNode += `${child}`;
    } else if ((0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) {
      const {
        props,
        type
      } = child;
      const childPropsCount = Object.keys(props).length;
      const shouldKeepChild = keepArray.indexOf(type) > -1;
      const childChildren = props.children;
      if (!childChildren && shouldKeepChild && !childPropsCount) {
        stringNode += `<${type}/>`;
      } else if (!childChildren && (!shouldKeepChild || childPropsCount) || props.i18nIsDynamicList) {
        stringNode += `<${childIndex}></${childIndex}>`;
      } else if (shouldKeepChild && childPropsCount === 1 && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(childChildren)) {
        stringNode += `<${type}>${childChildren}</${type}>`;
      } else {
        const content = nodesToString(childChildren, i18nOptions);
        stringNode += `<${childIndex}>${content}</${childIndex}>`;
      }
    } else if (child === null) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a null child.`);
    } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child)) {
      const {
        format,
        ...clone
      } = child;
      const keys = Object.keys(clone);
      if (keys.length === 1) {
        const value = format ? `${keys[0]}, ${format}` : keys[0];
        stringNode += `{{${value}}}`;
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);
      }
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warn)(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);
    }
  });
  return stringNode;
};
const renderNodes = (children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) => {
  if (targetString === '') return [];
  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];
  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);
  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];
  const data = {};
  const getData = childs => {
    const childrenArray = getAsArray(childs);
    childrenArray.forEach(child => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) return;
      if (hasChildren(child)) getData(getChildren(child));else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child)) Object.assign(data, child);
    });
  };
  getData(children);
  const ast = html_parse_stringify__WEBPACK_IMPORTED_MODULE_1__["default"].parse(`<0>${targetString}</0>`);
  const opts = {
    ...data,
    ...combinedTOpts
  };
  const renderInner = (child, node, rootReactNode) => {
    const childs = getChildren(child);
    const mappedChildren = mapAST(childs, node.children, rootReactNode);
    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;
  };
  const pushTranslatedJSX = (child, inner, mem, i, isVoid) => {
    if (child.dummy) {
      child.children = inner;
      mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(child, {
        key: i
      }, isVoid ? undefined : inner));
    } else {
      mem.push(...react__WEBPACK_IMPORTED_MODULE_0__.Children.map([child], c => {
        const props = {
          ...c.props
        };
        delete props.i18nIsDynamicList;
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(c.type, {
          ...props,
          key: i,
          ref: c.ref
        }, isVoid ? null : inner);
      }));
    }
  };
  const mapAST = (reactNode, astNode, rootReactNode) => {
    const reactNodes = getAsArray(reactNode);
    const astNodes = getAsArray(astNode);
    return astNodes.reduce((mem, node, i) => {
      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);
      if (node.type === 'tag') {
        let tmp = reactNodes[parseInt(node.name, 10)];
        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];
        if (!tmp) tmp = {};
        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({
          props: node.attrs
        }, tmp) : tmp;
        const isElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child);
        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;
        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && child.dummy && !isElement;
        const isKnownComponent = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(children) && Object.hasOwnProperty.call(children, node.name);
        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(child)) {
          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);
          mem.push(value);
        } else if (hasChildren(child) || isValidTranslationWithChildren) {
          const inner = renderInner(child, node, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (isEmptyTransWithHTML) {
          const inner = mapAST(reactNodes, node.children, rootReactNode);
          pushTranslatedJSX(child, inner, mem, i);
        } else if (Number.isNaN(parseFloat(node.name))) {
          if (isKnownComponent) {
            const inner = renderInner(child, node, rootReactNode);
            pushTranslatedJSX(child, inner, mem, i, node.voidElement);
          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {
            if (node.voidElement) {
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }));
            } else {
              const inner = mapAST(reactNodes, node.children, rootReactNode);
              mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(node.name, {
                key: `${node.name}-${i}`
              }, inner));
            }
          } else if (node.voidElement) {
            mem.push(`<${node.name} />`);
          } else {
            const inner = mapAST(reactNodes, node.children, rootReactNode);
            mem.push(`<${node.name}>${inner}</${node.name}>`);
          }
        } else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(child) && !isElement) {
          const content = node.children[0] ? translationContent : null;
          if (content) mem.push(content);
        } else {
          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);
        }
      } else if (node.type === 'text') {
        const wrapTextNodes = i18nOptions.transWrapTextNodes;
        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);
        if (wrapTextNodes) {
          mem.push((0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(wrapTextNodes, {
            key: `${node.name}-${i}`
          }, content));
        } else {
          mem.push(content);
        }
      }
      return mem;
    }, []);
  };
  const result = mapAST([{
    dummy: true,
    children: children || []
  }], ast, getAsArray(children || []));
  return getChildren(result[0]);
};
function Trans(_ref) {
  let {
    children,
    count,
    parent,
    i18nKey,
    context,
    tOptions = {},
    values,
    defaults,
    components,
    ns,
    i18n: i18nFromProps,
    t: tFromProps,
    shouldUnescape,
    ...additionalProps
  } = _ref;
  const i18n = i18nFromProps || (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_4__.getI18n)();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using i18nextReactModule');
    return children;
  }
  const t = tFromProps || i18n.t.bind(i18n) || (k => k);
  const reactI18nextOptions = {
    ...(0,_defaults_js__WEBPACK_IMPORTED_MODULE_3__.getDefaults)(),
    ...(i18n.options && i18n.options.react)
  };
  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  const nodeAsString = nodesToString(children, reactI18nextOptions);
  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;
  const {
    hashTransKey
  } = reactI18nextOptions;
  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);
  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {
    values = values && Object.keys(values).length > 0 ? {
      ...values,
      ...i18n.options.interpolation.defaultVariables
    } : {
      ...i18n.options.interpolation.defaultVariables
    };
  }
  const interpolationOverride = values || count !== undefined || !children ? tOptions.interpolation : {
    interpolation: {
      ...tOptions.interpolation,
      prefix: '#$?',
      suffix: '?$#'
    }
  };
  const combinedTOpts = {
    ...tOptions,
    context: context || tOptions.context,
    count,
    ...values,
    ...interpolationOverride,
    defaultValue,
    ns: namespaces
  };
  const translation = key ? t(key, combinedTOpts) : defaultValue;
  if (components) {
    Object.keys(components).forEach(c => {
      const comp = components[c];
      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;
      function Componentized() {
        return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, comp);
      }
      components[c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Componentized);
    });
  }
  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);
  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;
  return useAsParent ? (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(useAsParent, additionalProps, content) : content;
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/Translation.js":
/*!***************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/Translation.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Translation: () => (/* binding */ Translation)
/* harmony export */ });
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");

function Translation(props) {
  const {
    ns,
    children,
    ...options
  } = props;
  const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_0__.useTranslation)(ns, options);
  return children(t, {
    i18n,
    lng: i18n.language
  }, ready);
}

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/context.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/context.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* binding */ I18nContext),
/* harmony export */   ReportNamespaces: () => (/* binding */ ReportNamespaces),
/* harmony export */   composeInitialProps: () => (/* binding */ composeInitialProps),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n),
/* harmony export */   getInitialProps: () => (/* binding */ getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__.initReactI18next),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_1__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.setI18n)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");





const I18nContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();
class ReportNamespaces {
  constructor() {
    this.usedNamespaces = {};
  }
  addUsedNamespaces(namespaces) {
    namespaces.forEach(ns => {
      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;
    });
  }
  getUsedNamespaces = () => Object.keys(this.usedNamespaces);
}
const composeInitialProps = ForComponent => async ctx => {
  const componentsInitialProps = ForComponent.getInitialProps ? await ForComponent.getInitialProps(ctx) : {};
  const i18nInitialProps = getInitialProps();
  return {
    ...componentsInitialProps,
    ...i18nInitialProps
  };
};
const getInitialProps = () => {
  const i18n = (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_2__.getI18n)();
  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];
  const ret = {};
  const initialI18nStore = {};
  i18n.languages.forEach(l => {
    initialI18nStore[l] = {};
    namespaces.forEach(ns => {
      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};
    });
  });
  ret.initialI18nStore = initialI18nStore;
  ret.initialLanguage = i18n.language;
  return ret;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/defaults.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/defaults.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDefaults: () => (/* binding */ getDefaults),
/* harmony export */   setDefaults: () => (/* binding */ setDefaults)
/* harmony export */ });
/* harmony import */ var _unescape_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unescape.js */ "../../node_modules/react-i18next/dist/es/unescape.js");

let defaultOptions = {
  bindI18n: 'languageChanged',
  bindI18nStore: '',
  transEmptyNodeValue: '',
  transSupportBasicHtmlNodes: true,
  transWrapTextNodes: '',
  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],
  useSuspense: true,
  unescape: _unescape_js__WEBPACK_IMPORTED_MODULE_0__.unescape
};
const setDefaults = function () {
  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  defaultOptions = {
    ...defaultOptions,
    ...options
  };
};
const getDefaults = () => defaultOptions;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/i18nInstance.js":
/*!****************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/i18nInstance.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getI18n: () => (/* binding */ getI18n),
/* harmony export */   setI18n: () => (/* binding */ setI18n)
/* harmony export */ });
let i18nInstance;
const setI18n = instance => {
  i18nInstance = instance;
};
const getI18n = () => i18nInstance;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/index.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I18nContext: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.I18nContext),
/* harmony export */   I18nextProvider: () => (/* reexport safe */ _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__.I18nextProvider),
/* harmony export */   Trans: () => (/* reexport safe */ _Trans_js__WEBPACK_IMPORTED_MODULE_0__.Trans),
/* harmony export */   TransWithoutContext: () => (/* reexport safe */ _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__.Trans),
/* harmony export */   Translation: () => (/* reexport safe */ _Translation_js__WEBPACK_IMPORTED_MODULE_4__.Translation),
/* harmony export */   composeInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.composeInitialProps),
/* harmony export */   date: () => (/* binding */ date),
/* harmony export */   getDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.getDefaults),
/* harmony export */   getI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.getI18n),
/* harmony export */   getInitialProps: () => (/* reexport safe */ _context_js__WEBPACK_IMPORTED_MODULE_11__.getInitialProps),
/* harmony export */   initReactI18next: () => (/* reexport safe */ _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__.initReactI18next),
/* harmony export */   number: () => (/* binding */ number),
/* harmony export */   plural: () => (/* binding */ plural),
/* harmony export */   select: () => (/* binding */ select),
/* harmony export */   selectOrdinal: () => (/* binding */ selectOrdinal),
/* harmony export */   setDefaults: () => (/* reexport safe */ _defaults_js__WEBPACK_IMPORTED_MODULE_9__.setDefaults),
/* harmony export */   setI18n: () => (/* reexport safe */ _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__.setI18n),
/* harmony export */   time: () => (/* binding */ time),
/* harmony export */   useSSR: () => (/* reexport safe */ _useSSR_js__WEBPACK_IMPORTED_MODULE_7__.useSSR),
/* harmony export */   useTranslation: () => (/* reexport safe */ _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__.useTranslation),
/* harmony export */   withSSR: () => (/* reexport safe */ _withSSR_js__WEBPACK_IMPORTED_MODULE_6__.withSSR),
/* harmony export */   withTranslation: () => (/* reexport safe */ _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__.withTranslation)
/* harmony export */ });
/* harmony import */ var _Trans_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Trans.js */ "../../node_modules/react-i18next/dist/es/Trans.js");
/* harmony import */ var _TransWithoutContext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransWithoutContext.js */ "../../node_modules/react-i18next/dist/es/TransWithoutContext.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _withTranslation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./withTranslation.js */ "../../node_modules/react-i18next/dist/es/withTranslation.js");
/* harmony import */ var _Translation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Translation.js */ "../../node_modules/react-i18next/dist/es/Translation.js");
/* harmony import */ var _I18nextProvider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./I18nextProvider.js */ "../../node_modules/react-i18next/dist/es/I18nextProvider.js");
/* harmony import */ var _withSSR_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./withSSR.js */ "../../node_modules/react-i18next/dist/es/withSSR.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _initReactI18next_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./initReactI18next.js */ "../../node_modules/react-i18next/dist/es/initReactI18next.js");
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");












const date = () => '';
const time = () => '';
const number = () => '';
const select = () => '';
const plural = () => '';
const selectOrdinal = () => '';

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/initReactI18next.js":
/*!********************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/initReactI18next.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initReactI18next: () => (/* binding */ initReactI18next)
/* harmony export */ });
/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaults.js */ "../../node_modules/react-i18next/dist/es/defaults.js");
/* harmony import */ var _i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./i18nInstance.js */ "../../node_modules/react-i18next/dist/es/i18nInstance.js");


const initReactI18next = {
  type: '3rdParty',
  init(instance) {
    (0,_defaults_js__WEBPACK_IMPORTED_MODULE_0__.setDefaults)(instance.options.react);
    (0,_i18nInstance_js__WEBPACK_IMPORTED_MODULE_1__.setI18n)(instance);
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/unescape.js":
/*!************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/unescape.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   unescape: () => (/* binding */ unescape)
/* harmony export */ });
const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;
const htmlEntities = {
  '&amp;': '&',
  '&#38;': '&',
  '&lt;': '<',
  '&#60;': '<',
  '&gt;': '>',
  '&#62;': '>',
  '&apos;': "'",
  '&#39;': "'",
  '&quot;': '"',
  '&#34;': '"',
  '&nbsp;': ' ',
  '&#160;': ' ',
  '&copy;': '',
  '&#169;': '',
  '&reg;': '',
  '&#174;': '',
  '&hellip;': '',
  '&#8230;': '',
  '&#x2F;': '/',
  '&#47;': '/'
};
const unescapeHtmlEntity = m => htmlEntities[m];
const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useSSR.js":
/*!**********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useSSR.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSSR: () => (/* binding */ useSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");


const useSSR = function (initialI18nStore, initialLanguage) {
  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n.options && i18n.options.isClone) return;
  if (initialI18nStore && !i18n.initializedStoreOnce) {
    i18n.services.resourceStore.data = initialI18nStore;
    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {
      Object.keys(lngResources).forEach(ns => {
        if (mem.indexOf(ns) < 0) mem.push(ns);
      });
      return mem;
    }, i18n.options.ns);
    i18n.initializedStoreOnce = true;
    i18n.isInitialized = true;
  }
  if (initialLanguage && !i18n.initializedLanguageOnce) {
    i18n.changeLanguage(initialLanguage);
    i18n.initializedLanguageOnce = true;
  }
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/useTranslation.js":
/*!******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/useTranslation.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useTranslation: () => (/* binding */ useTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const usePrevious = (value, ignore) => {
  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    ref.current = ignore ? ref.current : value;
  }, [value, ignore]);
  return ref.current;
};
const alwaysNewT = (i18n, language, namespace, keyPrefix) => i18n.getFixedT(language, namespace, keyPrefix);
const useMemoizedT = (i18n, language, namespace, keyPrefix) => (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(alwaysNewT(i18n, language, namespace, keyPrefix), [i18n, language, namespace, keyPrefix]);
const useTranslation = function (ns) {
  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  const {
    i18n: i18nFromProps
  } = props;
  const {
    i18n: i18nFromContext,
    defaultNS: defaultNSFromContext
  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_js__WEBPACK_IMPORTED_MODULE_1__.I18nContext) || {};
  const i18n = i18nFromProps || i18nFromContext || (0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getI18n)();
  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new _context_js__WEBPACK_IMPORTED_MODULE_1__.ReportNamespaces();
  if (!i18n) {
    (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('You will need to pass in an i18next instance by using initReactI18next');
    const notReadyT = (k, optsOrDefaultValue) => {
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue)) return optsOrDefaultValue;
      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isObject)(optsOrDefaultValue) && (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;
      return Array.isArray(k) ? k[k.length - 1] : k;
    };
    const retNotReady = [notReadyT, {}, false];
    retNotReady.t = notReadyT;
    retNotReady.i18n = {};
    retNotReady.ready = false;
    return retNotReady;
  }
  if (i18n.options.react && i18n.options.react.wait !== undefined) (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.warnOnce)('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');
  const i18nOptions = {
    ...(0,_context_js__WEBPACK_IMPORTED_MODULE_1__.getDefaults)(),
    ...i18n.options.react,
    ...props
  };
  const {
    useSuspense,
    keyPrefix
  } = i18nOptions;
  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;
  namespaces = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isString)(namespaces) ? [namespaces] : namespaces || ['translation'];
  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);
  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.hasLoadedNamespace)(n, i18n, i18nOptions));
  const memoGetT = useMemoizedT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const getT = () => memoGetT;
  const getNewT = () => alwaysNewT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  const [t, setT] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getT);
  let joinedNS = namespaces.join();
  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;
  const previousJoinedNS = usePrevious(joinedNS);
  const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const {
      bindI18n,
      bindI18nStore
    } = i18nOptions;
    isMounted.current = true;
    if (!ready && !useSuspense) {
      if (props.lng) {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      } else {
        (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => {
          if (isMounted.current) setT(getNewT);
        });
      }
    }
    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {
      setT(getNewT);
    }
    const boundReset = () => {
      if (isMounted.current) setT(getNewT);
    };
    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);
    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);
    return () => {
      isMounted.current = false;
      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));
      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));
    };
  }, [i18n, joinedNS]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isMounted.current && ready) {
      setT(getT);
    }
  }, [i18n, keyPrefix, ready]);
  const ret = [t, i18n, ready];
  ret.t = t;
  ret.i18n = i18n;
  ret.ready = ready;
  if (ready) return ret;
  if (!ready && !useSuspense) return ret;
  throw new Promise(resolve => {
    if (props.lng) {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadLanguages)(i18n, props.lng, namespaces, () => resolve());
    } else {
      (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadNamespaces)(i18n, namespaces, () => resolve());
    }
  });
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/utils.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getDisplayName: () => (/* binding */ getDisplayName),
/* harmony export */   hasLoadedNamespace: () => (/* binding */ hasLoadedNamespace),
/* harmony export */   isObject: () => (/* binding */ isObject),
/* harmony export */   isString: () => (/* binding */ isString),
/* harmony export */   loadLanguages: () => (/* binding */ loadLanguages),
/* harmony export */   loadNamespaces: () => (/* binding */ loadNamespaces),
/* harmony export */   warn: () => (/* binding */ warn),
/* harmony export */   warnOnce: () => (/* binding */ warnOnce)
/* harmony export */ });
function warn() {
  if (console && console.warn) {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (isString(args[0])) args[0] = `react-i18next:: ${args[0]}`;
    console.warn(...args);
  }
}
const alreadyWarned = {};
function warnOnce() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }
  if (isString(args[0]) && alreadyWarned[args[0]]) return;
  if (isString(args[0])) alreadyWarned[args[0]] = new Date();
  warn(...args);
}
const loadedClb = (i18n, cb) => () => {
  if (i18n.isInitialized) {
    cb();
  } else {
    const initialized = () => {
      setTimeout(() => {
        i18n.off('initialized', initialized);
      }, 0);
      cb();
    };
    i18n.on('initialized', initialized);
  }
};
const loadNamespaces = (i18n, ns, cb) => {
  i18n.loadNamespaces(ns, loadedClb(i18n, cb));
};
const loadLanguages = (i18n, lng, ns, cb) => {
  if (isString(ns)) ns = [ns];
  ns.forEach(n => {
    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);
  });
  i18n.loadLanguages(lng, loadedClb(i18n, cb));
};
const oldI18nextHasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const lng = i18n.languages[0];
  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;
  const lastLng = i18n.languages[i18n.languages.length - 1];
  if (lng.toLowerCase() === 'cimode') return true;
  const loadNotPending = (l, n) => {
    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];
    return loadState === -1 || loadState === 2;
  };
  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;
  if (i18n.hasResourceBundle(lng, ns)) return true;
  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;
  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
  return false;
};
const hasLoadedNamespace = function (ns, i18n) {
  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  if (!i18n.languages || !i18n.languages.length) {
    warnOnce('i18n.languages were undefined or empty', i18n.languages);
    return true;
  }
  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;
  if (!isNewerI18next) {
    return oldI18nextHasLoadedNamespace(ns, i18n, options);
  }
  return i18n.hasLoadedNamespace(ns, {
    lng: options.lng,
    precheck: (i18nInstance, loadNotPending) => {
      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;
    }
  });
};
const getDisplayName = Component => Component.displayName || Component.name || (isString(Component) && Component.length > 0 ? Component : 'Unknown');
const isString = obj => typeof obj === 'string';
const isObject = obj => typeof obj === 'object' && obj !== null;

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withSSR.js":
/*!***********************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withSSR.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withSSR: () => (/* binding */ withSSR)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useSSR_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useSSR.js */ "../../node_modules/react-i18next/dist/es/useSSR.js");
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context.js */ "../../node_modules/react-i18next/dist/es/context.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");




const withSSR = () => function Extend(WrappedComponent) {
  function I18nextWithSSR(_ref) {
    let {
      initialI18nStore,
      initialLanguage,
      ...rest
    } = _ref;
    (0,_useSSR_js__WEBPACK_IMPORTED_MODULE_1__.useSSR)(initialI18nStore, initialLanguage);
    return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, {
      ...rest
    });
  }
  I18nextWithSSR.getInitialProps = (0,_context_js__WEBPACK_IMPORTED_MODULE_2__.composeInitialProps)(WrappedComponent);
  I18nextWithSSR.displayName = `withI18nextSSR(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.getDisplayName)(WrappedComponent)})`;
  I18nextWithSSR.WrappedComponent = WrappedComponent;
  return I18nextWithSSR;
};

/***/ }),

/***/ "../../node_modules/react-i18next/dist/es/withTranslation.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/react-i18next/dist/es/withTranslation.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   withTranslation: () => (/* binding */ withTranslation)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../../node_modules/react/index.js");
/* harmony import */ var _useTranslation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useTranslation.js */ "../../node_modules/react-i18next/dist/es/useTranslation.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "../../node_modules/react-i18next/dist/es/utils.js");



const withTranslation = function (ns) {
  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return function Extend(WrappedComponent) {
    function I18nextWithTranslation(_ref) {
      let {
        forwardedRef,
        ...rest
      } = _ref;
      const [t, i18n, ready] = (0,_useTranslation_js__WEBPACK_IMPORTED_MODULE_1__.useTranslation)(ns, {
        ...rest,
        keyPrefix: options.keyPrefix
      });
      const passDownProps = {
        ...rest,
        t,
        i18n,
        tReady: ready
      };
      if (options.withRef && forwardedRef) {
        passDownProps.ref = forwardedRef;
      } else if (!options.withRef && forwardedRef) {
        passDownProps.forwardedRef = forwardedRef;
      }
      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(WrappedComponent, passDownProps);
    }
    I18nextWithTranslation.displayName = `withI18nextTranslation(${(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getDisplayName)(WrappedComponent)})`;
    I18nextWithTranslation.WrappedComponent = WrappedComponent;
    const forwardRef = (props, ref) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(I18nextWithTranslation, Object.assign({}, props, {
      forwardedRef: ref
    }));
    return options.withRef ? (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(forwardRef) : I18nextWithTranslation;
  };
};

/***/ }),

/***/ "../../node_modules/react/cjs/react.development.js":
/*!*********************************************************!*\
  !*** ../../node_modules/react/cjs/react.development.js ***!
  \*********************************************************/
/***/ ((module, exports, __webpack_require__) => {

"use strict";
/* module decorator */ module = __webpack_require__.nmd(module);
/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


 true &&
  (function () {
    function defineDeprecationWarning(methodName, info) {
      Object.defineProperty(Component.prototype, methodName, {
        get: function () {
          console.warn(
            "%s(...) is deprecated in plain JavaScript React classes. %s",
            info[0],
            info[1]
          );
        }
      });
    }
    function getIteratorFn(maybeIterable) {
      if (null === maybeIterable || "object" !== typeof maybeIterable)
        return null;
      maybeIterable =
        (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||
        maybeIterable["@@iterator"];
      return "function" === typeof maybeIterable ? maybeIterable : null;
    }
    function warnNoop(publicInstance, callerName) {
      publicInstance =
        ((publicInstance = publicInstance.constructor) &&
          (publicInstance.displayName || publicInstance.name)) ||
        "ReactClass";
      var warningKey = publicInstance + "." + callerName;
      didWarnStateUpdateForUnmountedComponent[warningKey] ||
        (console.error(
          "Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",
          callerName,
          publicInstance
        ),
        (didWarnStateUpdateForUnmountedComponent[warningKey] = !0));
    }
    function Component(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function ComponentDummy() {}
    function PureComponent(props, context, updater) {
      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;
    }
    function noop() {}
    function testStringCoercion(value) {
      return "" + value;
    }
    function checkKeyStringCoercion(value) {
      try {
        testStringCoercion(value);
        var JSCompiler_inline_result = !1;
      } catch (e) {
        JSCompiler_inline_result = !0;
      }
      if (JSCompiler_inline_result) {
        JSCompiler_inline_result = console;
        var JSCompiler_temp_const = JSCompiler_inline_result.error;
        var JSCompiler_inline_result$jscomp$0 =
          ("function" === typeof Symbol &&
            Symbol.toStringTag &&
            value[Symbol.toStringTag]) ||
          value.constructor.name ||
          "Object";
        JSCompiler_temp_const.call(
          JSCompiler_inline_result,
          "The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",
          JSCompiler_inline_result$jscomp$0
        );
        return testStringCoercion(value);
      }
    }
    function getComponentNameFromType(type) {
      if (null == type) return null;
      if ("function" === typeof type)
        return type.$$typeof === REACT_CLIENT_REFERENCE
          ? null
          : type.displayName || type.name || null;
      if ("string" === typeof type) return type;
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "Fragment";
        case REACT_PROFILER_TYPE:
          return "Profiler";
        case REACT_STRICT_MODE_TYPE:
          return "StrictMode";
        case REACT_SUSPENSE_TYPE:
          return "Suspense";
        case REACT_SUSPENSE_LIST_TYPE:
          return "SuspenseList";
        case REACT_ACTIVITY_TYPE:
          return "Activity";
      }
      if ("object" === typeof type)
        switch (
          ("number" === typeof type.tag &&
            console.error(
              "Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."
            ),
          type.$$typeof)
        ) {
          case REACT_PORTAL_TYPE:
            return "Portal";
          case REACT_CONTEXT_TYPE:
            return type.displayName || "Context";
          case REACT_CONSUMER_TYPE:
            return (type._context.displayName || "Context") + ".Consumer";
          case REACT_FORWARD_REF_TYPE:
            var innerType = type.render;
            type = type.displayName;
            type ||
              ((type = innerType.displayName || innerType.name || ""),
              (type = "" !== type ? "ForwardRef(" + type + ")" : "ForwardRef"));
            return type;
          case REACT_MEMO_TYPE:
            return (
              (innerType = type.displayName || null),
              null !== innerType
                ? innerType
                : getComponentNameFromType(type.type) || "Memo"
            );
          case REACT_LAZY_TYPE:
            innerType = type._payload;
            type = type._init;
            try {
              return getComponentNameFromType(type(innerType));
            } catch (x) {}
        }
      return null;
    }
    function getTaskName(type) {
      if (type === REACT_FRAGMENT_TYPE) return "<>";
      if (
        "object" === typeof type &&
        null !== type &&
        type.$$typeof === REACT_LAZY_TYPE
      )
        return "<...>";
      try {
        var name = getComponentNameFromType(type);
        return name ? "<" + name + ">" : "<...>";
      } catch (x) {
        return "<...>";
      }
    }
    function getOwner() {
      var dispatcher = ReactSharedInternals.A;
      return null === dispatcher ? null : dispatcher.getOwner();
    }
    function UnknownOwner() {
      return Error("react-stack-top-frame");
    }
    function hasValidKey(config) {
      if (hasOwnProperty.call(config, "key")) {
        var getter = Object.getOwnPropertyDescriptor(config, "key").get;
        if (getter && getter.isReactWarning) return !1;
      }
      return void 0 !== config.key;
    }
    function defineKeyPropWarningGetter(props, displayName) {
      function warnAboutAccessingKey() {
        specialPropKeyWarningShown ||
          ((specialPropKeyWarningShown = !0),
          console.error(
            "%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",
            displayName
          ));
      }
      warnAboutAccessingKey.isReactWarning = !0;
      Object.defineProperty(props, "key", {
        get: warnAboutAccessingKey,
        configurable: !0
      });
    }
    function elementRefGetterWithDeprecationWarning() {
      var componentName = getComponentNameFromType(this.type);
      didWarnAboutElementRef[componentName] ||
        ((didWarnAboutElementRef[componentName] = !0),
        console.error(
          "Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release."
        ));
      componentName = this.props.ref;
      return void 0 !== componentName ? componentName : null;
    }
    function ReactElement(type, key, props, owner, debugStack, debugTask) {
      var refProp = props.ref;
      type = {
        $$typeof: REACT_ELEMENT_TYPE,
        type: type,
        key: key,
        props: props,
        _owner: owner
      };
      null !== (void 0 !== refProp ? refProp : null)
        ? Object.defineProperty(type, "ref", {
            enumerable: !1,
            get: elementRefGetterWithDeprecationWarning
          })
        : Object.defineProperty(type, "ref", { enumerable: !1, value: null });
      type._store = {};
      Object.defineProperty(type._store, "validated", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: 0
      });
      Object.defineProperty(type, "_debugInfo", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: null
      });
      Object.defineProperty(type, "_debugStack", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugStack
      });
      Object.defineProperty(type, "_debugTask", {
        configurable: !1,
        enumerable: !1,
        writable: !0,
        value: debugTask
      });
      Object.freeze && (Object.freeze(type.props), Object.freeze(type));
      return type;
    }
    function cloneAndReplaceKey(oldElement, newKey) {
      newKey = ReactElement(
        oldElement.type,
        newKey,
        oldElement.props,
        oldElement._owner,
        oldElement._debugStack,
        oldElement._debugTask
      );
      oldElement._store &&
        (newKey._store.validated = oldElement._store.validated);
      return newKey;
    }
    function validateChildKeys(node) {
      isValidElement(node)
        ? node._store && (node._store.validated = 1)
        : "object" === typeof node &&
          null !== node &&
          node.$$typeof === REACT_LAZY_TYPE &&
          ("fulfilled" === node._payload.status
            ? isValidElement(node._payload.value) &&
              node._payload.value._store &&
              (node._payload.value._store.validated = 1)
            : node._store && (node._store.validated = 1));
    }
    function isValidElement(object) {
      return (
        "object" === typeof object &&
        null !== object &&
        object.$$typeof === REACT_ELEMENT_TYPE
      );
    }
    function escape(key) {
      var escaperLookup = { "=": "=0", ":": "=2" };
      return (
        "$" +
        key.replace(/[=:]/g, function (match) {
          return escaperLookup[match];
        })
      );
    }
    function getElementKey(element, index) {
      return "object" === typeof element &&
        null !== element &&
        null != element.key
        ? (checkKeyStringCoercion(element.key), escape("" + element.key))
        : index.toString(36);
    }
    function resolveThenable(thenable) {
      switch (thenable.status) {
        case "fulfilled":
          return thenable.value;
        case "rejected":
          throw thenable.reason;
        default:
          switch (
            ("string" === typeof thenable.status
              ? thenable.then(noop, noop)
              : ((thenable.status = "pending"),
                thenable.then(
                  function (fulfilledValue) {
                    "pending" === thenable.status &&
                      ((thenable.status = "fulfilled"),
                      (thenable.value = fulfilledValue));
                  },
                  function (error) {
                    "pending" === thenable.status &&
                      ((thenable.status = "rejected"),
                      (thenable.reason = error));
                  }
                )),
            thenable.status)
          ) {
            case "fulfilled":
              return thenable.value;
            case "rejected":
              throw thenable.reason;
          }
      }
      throw thenable;
    }
    function mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {
      var type = typeof children;
      if ("undefined" === type || "boolean" === type) children = null;
      var invokeCallback = !1;
      if (null === children) invokeCallback = !0;
      else
        switch (type) {
          case "bigint":
          case "string":
          case "number":
            invokeCallback = !0;
            break;
          case "object":
            switch (children.$$typeof) {
              case REACT_ELEMENT_TYPE:
              case REACT_PORTAL_TYPE:
                invokeCallback = !0;
                break;
              case REACT_LAZY_TYPE:
                return (
                  (invokeCallback = children._init),
                  mapIntoArray(
                    invokeCallback(children._payload),
                    array,
                    escapedPrefix,
                    nameSoFar,
                    callback
                  )
                );
            }
        }
      if (invokeCallback) {
        invokeCallback = children;
        callback = callback(invokeCallback);
        var childKey =
          "" === nameSoFar ? "." + getElementKey(invokeCallback, 0) : nameSoFar;
        isArrayImpl(callback)
          ? ((escapedPrefix = ""),
            null != childKey &&
              (escapedPrefix =
                childKey.replace(userProvidedKeyEscapeRegex, "$&/") + "/"),
            mapIntoArray(callback, array, escapedPrefix, "", function (c) {
              return c;
            }))
          : null != callback &&
            (isValidElement(callback) &&
              (null != callback.key &&
                ((invokeCallback && invokeCallback.key === callback.key) ||
                  checkKeyStringCoercion(callback.key)),
              (escapedPrefix = cloneAndReplaceKey(
                callback,
                escapedPrefix +
                  (null == callback.key ||
                  (invokeCallback && invokeCallback.key === callback.key)
                    ? ""
                    : ("" + callback.key).replace(
                        userProvidedKeyEscapeRegex,
                        "$&/"
                      ) + "/") +
                  childKey
              )),
              "" !== nameSoFar &&
                null != invokeCallback &&
                isValidElement(invokeCallback) &&
                null == invokeCallback.key &&
                invokeCallback._store &&
                !invokeCallback._store.validated &&
                (escapedPrefix._store.validated = 2),
              (callback = escapedPrefix)),
            array.push(callback));
        return 1;
      }
      invokeCallback = 0;
      childKey = "" === nameSoFar ? "." : nameSoFar + ":";
      if (isArrayImpl(children))
        for (var i = 0; i < children.length; i++)
          (nameSoFar = children[i]),
            (type = childKey + getElementKey(nameSoFar, i)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if (((i = getIteratorFn(children)), "function" === typeof i))
        for (
          i === children.entries &&
            (didWarnAboutMaps ||
              console.warn(
                "Using Maps as children is not supported. Use an array of keyed ReactElements instead."
              ),
            (didWarnAboutMaps = !0)),
            children = i.call(children),
            i = 0;
          !(nameSoFar = children.next()).done;

        )
          (nameSoFar = nameSoFar.value),
            (type = childKey + getElementKey(nameSoFar, i++)),
            (invokeCallback += mapIntoArray(
              nameSoFar,
              array,
              escapedPrefix,
              type,
              callback
            ));
      else if ("object" === type) {
        if ("function" === typeof children.then)
          return mapIntoArray(
            resolveThenable(children),
            array,
            escapedPrefix,
            nameSoFar,
            callback
          );
        array = String(children);
        throw Error(
          "Objects are not valid as a React child (found: " +
            ("[object Object]" === array
              ? "object with keys {" + Object.keys(children).join(", ") + "}"
              : array) +
            "). If you meant to render a collection of children, use an array instead."
        );
      }
      return invokeCallback;
    }
    function mapChildren(children, func, context) {
      if (null == children) return children;
      var result = [],
        count = 0;
      mapIntoArray(children, result, "", "", function (child) {
        return func.call(context, child, count++);
      });
      return result;
    }
    function lazyInitializer(payload) {
      if (-1 === payload._status) {
        var ioInfo = payload._ioInfo;
        null != ioInfo && (ioInfo.start = ioInfo.end = performance.now());
        ioInfo = payload._result;
        var thenable = ioInfo();
        thenable.then(
          function (moduleObject) {
            if (0 === payload._status || -1 === payload._status) {
              payload._status = 1;
              payload._result = moduleObject;
              var _ioInfo = payload._ioInfo;
              null != _ioInfo && (_ioInfo.end = performance.now());
              void 0 === thenable.status &&
                ((thenable.status = "fulfilled"),
                (thenable.value = moduleObject));
            }
          },
          function (error) {
            if (0 === payload._status || -1 === payload._status) {
              payload._status = 2;
              payload._result = error;
              var _ioInfo2 = payload._ioInfo;
              null != _ioInfo2 && (_ioInfo2.end = performance.now());
              void 0 === thenable.status &&
                ((thenable.status = "rejected"), (thenable.reason = error));
            }
          }
        );
        ioInfo = payload._ioInfo;
        if (null != ioInfo) {
          ioInfo.value = thenable;
          var displayName = thenable.displayName;
          "string" === typeof displayName && (ioInfo.name = displayName);
        }
        -1 === payload._status &&
          ((payload._status = 0), (payload._result = thenable));
      }
      if (1 === payload._status)
        return (
          (ioInfo = payload._result),
          void 0 === ioInfo &&
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))\n\nDid you accidentally put curly braces around the import?",
              ioInfo
            ),
          "default" in ioInfo ||
            console.error(
              "lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",
              ioInfo
            ),
          ioInfo.default
        );
      throw payload._result;
    }
    function resolveDispatcher() {
      var dispatcher = ReactSharedInternals.H;
      null === dispatcher &&
        console.error(
          "Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem."
        );
      return dispatcher;
    }
    function releaseAsyncTransition() {
      ReactSharedInternals.asyncTransitions--;
    }
    function enqueueTask(task) {
      if (null === enqueueTaskImpl)
        try {
          var requireString = ("require" + Math.random()).slice(0, 7);
          enqueueTaskImpl = (module && module[requireString]).call(
            module,
            "timers"
          ).setImmediate;
        } catch (_err) {
          enqueueTaskImpl = function (callback) {
            !1 === didWarnAboutMessageChannel &&
              ((didWarnAboutMessageChannel = !0),
              "undefined" === typeof MessageChannel &&
                console.error(
                  "This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."
                ));
            var channel = new MessageChannel();
            channel.port1.onmessage = callback;
            channel.port2.postMessage(void 0);
          };
        }
      return enqueueTaskImpl(task);
    }
    function aggregateErrors(errors) {
      return 1 < errors.length && "function" === typeof AggregateError
        ? new AggregateError(errors)
        : errors[0];
    }
    function popActScope(prevActQueue, prevActScopeDepth) {
      prevActScopeDepth !== actScopeDepth - 1 &&
        console.error(
          "You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "
        );
      actScopeDepth = prevActScopeDepth;
    }
    function recursivelyFlushAsyncActWork(returnValue, resolve, reject) {
      var queue = ReactSharedInternals.actQueue;
      if (null !== queue)
        if (0 !== queue.length)
          try {
            flushActQueue(queue);
            enqueueTask(function () {
              return recursivelyFlushAsyncActWork(returnValue, resolve, reject);
            });
            return;
          } catch (error) {
            ReactSharedInternals.thrownErrors.push(error);
          }
        else ReactSharedInternals.actQueue = null;
      0 < ReactSharedInternals.thrownErrors.length
        ? ((queue = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          reject(queue))
        : resolve(returnValue);
    }
    function flushActQueue(queue) {
      if (!isFlushing) {
        isFlushing = !0;
        var i = 0;
        try {
          for (; i < queue.length; i++) {
            var callback = queue[i];
            do {
              ReactSharedInternals.didUsePromise = !1;
              var continuation = callback(!1);
              if (null !== continuation) {
                if (ReactSharedInternals.didUsePromise) {
                  queue[i] = callback;
                  queue.splice(0, i);
                  return;
                }
                callback = continuation;
              } else break;
            } while (1);
          }
          queue.length = 0;
        } catch (error) {
          queue.splice(0, i + 1), ReactSharedInternals.thrownErrors.push(error);
        } finally {
          isFlushing = !1;
        }
      }
    }
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());
    var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
      REACT_PORTAL_TYPE = Symbol.for("react.portal"),
      REACT_FRAGMENT_TYPE = Symbol.for("react.fragment"),
      REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode"),
      REACT_PROFILER_TYPE = Symbol.for("react.profiler"),
      REACT_CONSUMER_TYPE = Symbol.for("react.consumer"),
      REACT_CONTEXT_TYPE = Symbol.for("react.context"),
      REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref"),
      REACT_SUSPENSE_TYPE = Symbol.for("react.suspense"),
      REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list"),
      REACT_MEMO_TYPE = Symbol.for("react.memo"),
      REACT_LAZY_TYPE = Symbol.for("react.lazy"),
      REACT_ACTIVITY_TYPE = Symbol.for("react.activity"),
      MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
      didWarnStateUpdateForUnmountedComponent = {},
      ReactNoopUpdateQueue = {
        isMounted: function () {
          return !1;
        },
        enqueueForceUpdate: function (publicInstance) {
          warnNoop(publicInstance, "forceUpdate");
        },
        enqueueReplaceState: function (publicInstance) {
          warnNoop(publicInstance, "replaceState");
        },
        enqueueSetState: function (publicInstance) {
          warnNoop(publicInstance, "setState");
        }
      },
      assign = Object.assign,
      emptyObject = {};
    Object.freeze(emptyObject);
    Component.prototype.isReactComponent = {};
    Component.prototype.setState = function (partialState, callback) {
      if (
        "object" !== typeof partialState &&
        "function" !== typeof partialState &&
        null != partialState
      )
        throw Error(
          "takes an object of state variables to update or a function which returns an object of state variables."
        );
      this.updater.enqueueSetState(this, partialState, callback, "setState");
    };
    Component.prototype.forceUpdate = function (callback) {
      this.updater.enqueueForceUpdate(this, callback, "forceUpdate");
    };
    var deprecatedAPIs = {
      isMounted: [
        "isMounted",
        "Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."
      ],
      replaceState: [
        "replaceState",
        "Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."
      ]
    };
    for (fnName in deprecatedAPIs)
      deprecatedAPIs.hasOwnProperty(fnName) &&
        defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);
    ComponentDummy.prototype = Component.prototype;
    deprecatedAPIs = PureComponent.prototype = new ComponentDummy();
    deprecatedAPIs.constructor = PureComponent;
    assign(deprecatedAPIs, Component.prototype);
    deprecatedAPIs.isPureReactComponent = !0;
    var isArrayImpl = Array.isArray,
      REACT_CLIENT_REFERENCE = Symbol.for("react.client.reference"),
      ReactSharedInternals = {
        H: null,
        A: null,
        T: null,
        S: null,
        actQueue: null,
        asyncTransitions: 0,
        isBatchingLegacy: !1,
        didScheduleLegacyUpdate: !1,
        didUsePromise: !1,
        thrownErrors: [],
        getCurrentStack: null,
        recentlyCreatedOwnerStacks: 0
      },
      hasOwnProperty = Object.prototype.hasOwnProperty,
      createTask = console.createTask
        ? console.createTask
        : function () {
            return null;
          };
    deprecatedAPIs = {
      react_stack_bottom_frame: function (callStackForError) {
        return callStackForError();
      }
    };
    var specialPropKeyWarningShown, didWarnAboutOldJSXRuntime;
    var didWarnAboutElementRef = {};
    var unknownOwnerDebugStack = deprecatedAPIs.react_stack_bottom_frame.bind(
      deprecatedAPIs,
      UnknownOwner
    )();
    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));
    var didWarnAboutMaps = !1,
      userProvidedKeyEscapeRegex = /\/+/g,
      reportGlobalError =
        "function" === typeof reportError
          ? reportError
          : function (error) {
              if (
                "object" === typeof window &&
                "function" === typeof window.ErrorEvent
              ) {
                var event = new window.ErrorEvent("error", {
                  bubbles: !0,
                  cancelable: !0,
                  message:
                    "object" === typeof error &&
                    null !== error &&
                    "string" === typeof error.message
                      ? String(error.message)
                      : String(error),
                  error: error
                });
                if (!window.dispatchEvent(event)) return;
              } else if (
                "object" === typeof process &&
                "function" === typeof process.emit
              ) {
                process.emit("uncaughtException", error);
                return;
              }
              console.error(error);
            },
      didWarnAboutMessageChannel = !1,
      enqueueTaskImpl = null,
      actScopeDepth = 0,
      didWarnNoAwaitAct = !1,
      isFlushing = !1,
      queueSeveralMicrotasks =
        "function" === typeof queueMicrotask
          ? function (callback) {
              queueMicrotask(function () {
                return queueMicrotask(callback);
              });
            }
          : enqueueTask;
    deprecatedAPIs = Object.freeze({
      __proto__: null,
      c: function (size) {
        return resolveDispatcher().useMemoCache(size);
      }
    });
    var fnName = {
      map: mapChildren,
      forEach: function (children, forEachFunc, forEachContext) {
        mapChildren(
          children,
          function () {
            forEachFunc.apply(this, arguments);
          },
          forEachContext
        );
      },
      count: function (children) {
        var n = 0;
        mapChildren(children, function () {
          n++;
        });
        return n;
      },
      toArray: function (children) {
        return (
          mapChildren(children, function (child) {
            return child;
          }) || []
        );
      },
      only: function (children) {
        if (!isValidElement(children))
          throw Error(
            "React.Children.only expected to receive a single React element child."
          );
        return children;
      }
    };
    exports.Activity = REACT_ACTIVITY_TYPE;
    exports.Children = fnName;
    exports.Component = Component;
    exports.Fragment = REACT_FRAGMENT_TYPE;
    exports.Profiler = REACT_PROFILER_TYPE;
    exports.PureComponent = PureComponent;
    exports.StrictMode = REACT_STRICT_MODE_TYPE;
    exports.Suspense = REACT_SUSPENSE_TYPE;
    exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =
      ReactSharedInternals;
    exports.__COMPILER_RUNTIME = deprecatedAPIs;
    exports.act = function (callback) {
      var prevActQueue = ReactSharedInternals.actQueue,
        prevActScopeDepth = actScopeDepth;
      actScopeDepth++;
      var queue = (ReactSharedInternals.actQueue =
          null !== prevActQueue ? prevActQueue : []),
        didAwaitActCall = !1;
      try {
        var result = callback();
      } catch (error) {
        ReactSharedInternals.thrownErrors.push(error);
      }
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          (popActScope(prevActQueue, prevActScopeDepth),
          (callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      if (
        null !== result &&
        "object" === typeof result &&
        "function" === typeof result.then
      ) {
        var thenable = result;
        queueSeveralMicrotasks(function () {
          didAwaitActCall ||
            didWarnNoAwaitAct ||
            ((didWarnNoAwaitAct = !0),
            console.error(
              "You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"
            ));
        });
        return {
          then: function (resolve, reject) {
            didAwaitActCall = !0;
            thenable.then(
              function (returnValue) {
                popActScope(prevActQueue, prevActScopeDepth);
                if (0 === prevActScopeDepth) {
                  try {
                    flushActQueue(queue),
                      enqueueTask(function () {
                        return recursivelyFlushAsyncActWork(
                          returnValue,
                          resolve,
                          reject
                        );
                      });
                  } catch (error$0) {
                    ReactSharedInternals.thrownErrors.push(error$0);
                  }
                  if (0 < ReactSharedInternals.thrownErrors.length) {
                    var _thrownError = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    );
                    ReactSharedInternals.thrownErrors.length = 0;
                    reject(_thrownError);
                  }
                } else resolve(returnValue);
              },
              function (error) {
                popActScope(prevActQueue, prevActScopeDepth);
                0 < ReactSharedInternals.thrownErrors.length
                  ? ((error = aggregateErrors(
                      ReactSharedInternals.thrownErrors
                    )),
                    (ReactSharedInternals.thrownErrors.length = 0),
                    reject(error))
                  : reject(error);
              }
            );
          }
        };
      }
      var returnValue$jscomp$0 = result;
      popActScope(prevActQueue, prevActScopeDepth);
      0 === prevActScopeDepth &&
        (flushActQueue(queue),
        0 !== queue.length &&
          queueSeveralMicrotasks(function () {
            didAwaitActCall ||
              didWarnNoAwaitAct ||
              ((didWarnNoAwaitAct = !0),
              console.error(
                "A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"
              ));
          }),
        (ReactSharedInternals.actQueue = null));
      if (0 < ReactSharedInternals.thrownErrors.length)
        throw (
          ((callback = aggregateErrors(ReactSharedInternals.thrownErrors)),
          (ReactSharedInternals.thrownErrors.length = 0),
          callback)
        );
      return {
        then: function (resolve, reject) {
          didAwaitActCall = !0;
          0 === prevActScopeDepth
            ? ((ReactSharedInternals.actQueue = queue),
              enqueueTask(function () {
                return recursivelyFlushAsyncActWork(
                  returnValue$jscomp$0,
                  resolve,
                  reject
                );
              }))
            : resolve(returnValue$jscomp$0);
        }
      };
    };
    exports.cache = function (fn) {
      return function () {
        return fn.apply(null, arguments);
      };
    };
    exports.cacheSignal = function () {
      return null;
    };
    exports.captureOwnerStack = function () {
      var getCurrentStack = ReactSharedInternals.getCurrentStack;
      return null === getCurrentStack ? null : getCurrentStack();
    };
    exports.cloneElement = function (element, config, children) {
      if (null === element || void 0 === element)
        throw Error(
          "The argument must be a React element, but you passed " +
            element +
            "."
        );
      var props = assign({}, element.props),
        key = element.key,
        owner = element._owner;
      if (null != config) {
        var JSCompiler_inline_result;
        a: {
          if (
            hasOwnProperty.call(config, "ref") &&
            (JSCompiler_inline_result = Object.getOwnPropertyDescriptor(
              config,
              "ref"
            ).get) &&
            JSCompiler_inline_result.isReactWarning
          ) {
            JSCompiler_inline_result = !1;
            break a;
          }
          JSCompiler_inline_result = void 0 !== config.ref;
        }
        JSCompiler_inline_result && (owner = getOwner());
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (key = "" + config.key));
        for (propName in config)
          !hasOwnProperty.call(config, propName) ||
            "key" === propName ||
            "__self" === propName ||
            "__source" === propName ||
            ("ref" === propName && void 0 === config.ref) ||
            (props[propName] = config[propName]);
      }
      var propName = arguments.length - 2;
      if (1 === propName) props.children = children;
      else if (1 < propName) {
        JSCompiler_inline_result = Array(propName);
        for (var i = 0; i < propName; i++)
          JSCompiler_inline_result[i] = arguments[i + 2];
        props.children = JSCompiler_inline_result;
      }
      props = ReactElement(
        element.type,
        key,
        props,
        owner,
        element._debugStack,
        element._debugTask
      );
      for (key = 2; key < arguments.length; key++)
        validateChildKeys(arguments[key]);
      return props;
    };
    exports.createContext = function (defaultValue) {
      defaultValue = {
        $$typeof: REACT_CONTEXT_TYPE,
        _currentValue: defaultValue,
        _currentValue2: defaultValue,
        _threadCount: 0,
        Provider: null,
        Consumer: null
      };
      defaultValue.Provider = defaultValue;
      defaultValue.Consumer = {
        $$typeof: REACT_CONSUMER_TYPE,
        _context: defaultValue
      };
      defaultValue._currentRenderer = null;
      defaultValue._currentRenderer2 = null;
      return defaultValue;
    };
    exports.createElement = function (type, config, children) {
      for (var i = 2; i < arguments.length; i++)
        validateChildKeys(arguments[i]);
      i = {};
      var key = null;
      if (null != config)
        for (propName in (didWarnAboutOldJSXRuntime ||
          !("__self" in config) ||
          "key" in config ||
          ((didWarnAboutOldJSXRuntime = !0),
          console.warn(
            "Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform"
          )),
        hasValidKey(config) &&
          (checkKeyStringCoercion(config.key), (key = "" + config.key)),
        config))
          hasOwnProperty.call(config, propName) &&
            "key" !== propName &&
            "__self" !== propName &&
            "__source" !== propName &&
            (i[propName] = config[propName]);
      var childrenLength = arguments.length - 2;
      if (1 === childrenLength) i.children = children;
      else if (1 < childrenLength) {
        for (
          var childArray = Array(childrenLength), _i = 0;
          _i < childrenLength;
          _i++
        )
          childArray[_i] = arguments[_i + 2];
        Object.freeze && Object.freeze(childArray);
        i.children = childArray;
      }
      if (type && type.defaultProps)
        for (propName in ((childrenLength = type.defaultProps), childrenLength))
          void 0 === i[propName] && (i[propName] = childrenLength[propName]);
      key &&
        defineKeyPropWarningGetter(
          i,
          "function" === typeof type
            ? type.displayName || type.name || "Unknown"
            : type
        );
      var propName = 1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;
      return ReactElement(
        type,
        key,
        i,
        getOwner(),
        propName ? Error("react-stack-top-frame") : unknownOwnerDebugStack,
        propName ? createTask(getTaskName(type)) : unknownOwnerDebugTask
      );
    };
    exports.createRef = function () {
      var refObject = { current: null };
      Object.seal(refObject);
      return refObject;
    };
    exports.forwardRef = function (render) {
      null != render && render.$$typeof === REACT_MEMO_TYPE
        ? console.error(
            "forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."
          )
        : "function" !== typeof render
          ? console.error(
              "forwardRef requires a render function but was given %s.",
              null === render ? "null" : typeof render
            )
          : 0 !== render.length &&
            2 !== render.length &&
            console.error(
              "forwardRef render functions accept exactly two parameters: props and ref. %s",
              1 === render.length
                ? "Did you forget to use the ref parameter?"
                : "Any additional parameter will be undefined."
            );
      null != render &&
        null != render.defaultProps &&
        console.error(
          "forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?"
        );
      var elementType = { $$typeof: REACT_FORWARD_REF_TYPE, render: render },
        ownName;
      Object.defineProperty(elementType, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          render.name ||
            render.displayName ||
            (Object.defineProperty(render, "name", { value: name }),
            (render.displayName = name));
        }
      });
      return elementType;
    };
    exports.isValidElement = isValidElement;
    exports.lazy = function (ctor) {
      ctor = { _status: -1, _result: ctor };
      var lazyType = {
          $$typeof: REACT_LAZY_TYPE,
          _payload: ctor,
          _init: lazyInitializer
        },
        ioInfo = {
          name: "lazy",
          start: -1,
          end: -1,
          value: null,
          owner: null,
          debugStack: Error("react-stack-top-frame"),
          debugTask: console.createTask ? console.createTask("lazy()") : null
        };
      ctor._ioInfo = ioInfo;
      lazyType._debugInfo = [{ awaited: ioInfo }];
      return lazyType;
    };
    exports.memo = function (type, compare) {
      null == type &&
        console.error(
          "memo: The first argument must be a component. Instead received: %s",
          null === type ? "null" : typeof type
        );
      compare = {
        $$typeof: REACT_MEMO_TYPE,
        type: type,
        compare: void 0 === compare ? null : compare
      };
      var ownName;
      Object.defineProperty(compare, "displayName", {
        enumerable: !1,
        configurable: !0,
        get: function () {
          return ownName;
        },
        set: function (name) {
          ownName = name;
          type.name ||
            type.displayName ||
            (Object.defineProperty(type, "name", { value: name }),
            (type.displayName = name));
        }
      });
      return compare;
    };
    exports.startTransition = function (scope) {
      var prevTransition = ReactSharedInternals.T,
        currentTransition = {};
      currentTransition._updatedFibers = new Set();
      ReactSharedInternals.T = currentTransition;
      try {
        var returnValue = scope(),
          onStartTransitionFinish = ReactSharedInternals.S;
        null !== onStartTransitionFinish &&
          onStartTransitionFinish(currentTransition, returnValue);
        "object" === typeof returnValue &&
          null !== returnValue &&
          "function" === typeof returnValue.then &&
          (ReactSharedInternals.asyncTransitions++,
          returnValue.then(releaseAsyncTransition, releaseAsyncTransition),
          returnValue.then(noop, reportGlobalError));
      } catch (error) {
        reportGlobalError(error);
      } finally {
        null === prevTransition &&
          currentTransition._updatedFibers &&
          ((scope = currentTransition._updatedFibers.size),
          currentTransition._updatedFibers.clear(),
          10 < scope &&
            console.warn(
              "Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."
            )),
          null !== prevTransition &&
            null !== currentTransition.types &&
            (null !== prevTransition.types &&
              prevTransition.types !== currentTransition.types &&
              console.error(
                "We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."
              ),
            (prevTransition.types = currentTransition.types)),
          (ReactSharedInternals.T = prevTransition);
      }
    };
    exports.unstable_useCacheRefresh = function () {
      return resolveDispatcher().useCacheRefresh();
    };
    exports.use = function (usable) {
      return resolveDispatcher().use(usable);
    };
    exports.useActionState = function (action, initialState, permalink) {
      return resolveDispatcher().useActionState(
        action,
        initialState,
        permalink
      );
    };
    exports.useCallback = function (callback, deps) {
      return resolveDispatcher().useCallback(callback, deps);
    };
    exports.useContext = function (Context) {
      var dispatcher = resolveDispatcher();
      Context.$$typeof === REACT_CONSUMER_TYPE &&
        console.error(
          "Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"
        );
      return dispatcher.useContext(Context);
    };
    exports.useDebugValue = function (value, formatterFn) {
      return resolveDispatcher().useDebugValue(value, formatterFn);
    };
    exports.useDeferredValue = function (value, initialValue) {
      return resolveDispatcher().useDeferredValue(value, initialValue);
    };
    exports.useEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useEffect(create, deps);
    };
    exports.useEffectEvent = function (callback) {
      return resolveDispatcher().useEffectEvent(callback);
    };
    exports.useId = function () {
      return resolveDispatcher().useId();
    };
    exports.useImperativeHandle = function (ref, create, deps) {
      return resolveDispatcher().useImperativeHandle(ref, create, deps);
    };
    exports.useInsertionEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useInsertionEffect(create, deps);
    };
    exports.useLayoutEffect = function (create, deps) {
      null == create &&
        console.warn(
          "React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"
        );
      return resolveDispatcher().useLayoutEffect(create, deps);
    };
    exports.useMemo = function (create, deps) {
      return resolveDispatcher().useMemo(create, deps);
    };
    exports.useOptimistic = function (passthrough, reducer) {
      return resolveDispatcher().useOptimistic(passthrough, reducer);
    };
    exports.useReducer = function (reducer, initialArg, init) {
      return resolveDispatcher().useReducer(reducer, initialArg, init);
    };
    exports.useRef = function (initialValue) {
      return resolveDispatcher().useRef(initialValue);
    };
    exports.useState = function (initialState) {
      return resolveDispatcher().useState(initialState);
    };
    exports.useSyncExternalStore = function (
      subscribe,
      getSnapshot,
      getServerSnapshot
    ) {
      return resolveDispatcher().useSyncExternalStore(
        subscribe,
        getSnapshot,
        getServerSnapshot
      );
    };
    exports.useTransition = function () {
      return resolveDispatcher().useTransition();
    };
    exports.version = "19.2.3";
    "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
      "function" ===
        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());
  })();


/***/ }),

/***/ "../../node_modules/react/index.js":
/*!*****************************************!*\
  !*** ../../node_modules/react/index.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (false) // removed by dead control flow
{} else {
  module.exports = __webpack_require__(/*! ./cjs/react.development.js */ "../../node_modules/react/cjs/react.development.js");
}


/***/ }),

/***/ "../../node_modules/title-case/dist.es2015/index.js":
/*!**********************************************************!*\
  !*** ../../node_modules/title-case/dist.es2015/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   titleCase: () => (/* binding */ titleCase)
/* harmony export */ });
var SMALL_WORDS = /\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\.?|versus|via|when|with|without|yet)\b/i;
var TOKENS = /[^\s:-]+|./g;
var WHITESPACE = /\s/;
var IS_MANUAL_CASE = /.(?=[A-Z]|\..)/;
var ALPHANUMERIC_PATTERN = /[A-Za-z0-9\u00C0-\u00FF]/;
function titleCase(input) {
    var result = "";
    var m;
    // tslint:disable-next-line
    while ((m = TOKENS.exec(input)) !== null) {
        var token = m[0], index = m.index;
        if (
        // Ignore already capitalized words.
        !IS_MANUAL_CASE.test(token) &&
            // Ignore small words except at beginning or end.
            (!SMALL_WORDS.test(token) ||
                index === 0 ||
                index + token.length === input.length) &&
            // Ignore URLs.
            (input.charAt(index + token.length) !== ":" ||
                WHITESPACE.test(input.charAt(index + token.length + 1)))) {
            // Find and uppercase first word character, skips over *modifiers*.
            result += token.replace(ALPHANUMERIC_PATTERN, function (m) { return m.toUpperCase(); });
            continue;
        }
        result += token;
    }
    return result;
}
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "../../node_modules/void-elements/index.js":
/*!*************************************************!*\
  !*** ../../node_modules/void-elements/index.js ***!
  \*************************************************/
/***/ ((module) => {

/**
 * This file automatically generated from `pre-publish.js`.
 * Do not manually edit.
 */

module.exports = {
  "area": true,
  "base": true,
  "br": true,
  "col": true,
  "embed": true,
  "hr": true,
  "img": true,
  "input": true,
  "link": true,
  "meta": true,
  "param": true,
  "source": true,
  "track": true,
  "wbr": true
};


/***/ }),

/***/ "./node_modules/@openfin/notifications/dist/client/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@openfin/notifications/dist/client/index.js ***!
  \******************************************************************/
/***/ (function(module) {

!function(e,t){ true?module.exports=t():0}(this,(()=>(()=>{"use strict";var e={2:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(637),t),o(n(155),t)},7:e=>{var t,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function r(){r.init.call(this)}e.exports=r,e.exports.once=function(e,t){return new Promise((function(n,i){function o(n){e.removeListener(t,r),i(n)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,r,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,o)}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function l(e,t,n,i){var o,r,a,l;if(s(n),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),r=e._events),a=r[t]),void 0===a)a=r[t]=n,++e._eventsCount;else if("function"==typeof a?a=r[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(i);return o.listener=n,i.wrapFn=o,o}function f(e,t,n){var i=e._events;if(void 0===i)return[];var o=i[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function g(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(r){i.once&&e.removeEventListener(t,o),n(r)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return c(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,r=this._events;if(void 0!==r)o=o&&void 0===r.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var l=c.length,u=v(c,l);for(n=0;n<l;++n)i(u[n],this,t)}return!0},r.prototype.addListener=function(e,t){return l(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return l(this,e,t,!0)},r.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,i,o,r,a;if(s(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,r=n.length-1;r>=0;r--)if(n[r]===t||n[r].listener===t){a=n[r].listener,o=r;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(o=r[i])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},r.prototype.listeners=function(e){return f(this,e,!0)},r.prototype.rawListeners=function(e){return f(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},36:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;const i=n(329);class o{static async error(e){try{const t=o.getPrefixedMessage(e);console.error(t),await i.finContext.System.log("error",t)}catch(e){o.handleError(e,"Failed to log error")}}static async warn(e){try{const t=o.getPrefixedMessage(e);console.warn(t),await i.finContext.System.log("warning",t)}catch(e){o.handleError(e,"Failed to log warning")}}static async info(e){try{const t=o.getPrefixedMessage(e);console.info(t),await i.finContext.System.log("info",t)}catch(e){o.handleError(e,"Failed to log info")}}static getPrefixedMessage(e){return`${o.LOG_PREFIX} ${e}`}static handleError(e,t){e instanceof Error?console.error(`${t} - ${e.name}: ${e.message}`):console.error(`${t} - ${JSON.stringify(e)}`)}}t.Log=o,o.LOG_PREFIX="[@openfin/notifications]"},89:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeferredPromise=class{constructor(){const e=new Promise(((e,t)=>{this._resolve=e,this._reject=t}));this._promise=e}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}}},93:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},96:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},155:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetType=t.TimeWidgetType=t.DateWidgetType=t.RadioGroupWidgetType=t.CheckboxGroupWidgetType=t.BooleanWidgetType=t.NumberWidgetType=t.StringWidgetType=void 0,t.StringWidgetType={Text:"Text",Dropdown:"Dropdown"},t.NumberWidgetType={Number:"Number"},t.BooleanWidgetType={Toggle:"Toggle",Checkbox:"Checkbox"},t.CheckboxGroupWidgetType={CheckboxGroup:"CheckboxGroup"},t.RadioGroupWidgetType={RadioGroup:"RadioGroup"},t.DateWidgetType={Date:"Date"},t.TimeWidgetType={Time:"Time"},t.WidgetType=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t.StringWidgetType),t.NumberWidgetType),t.BooleanWidgetType),t.CheckboxGroupWidgetType),t.RadioGroupWidgetType),t.DateWidgetType),t.TimeWidgetType)},158:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBodyClickType=t.ActionNoopType=t.ActionTrigger=void 0,(n=t.ActionTrigger||(t.ActionTrigger={})).CONTROL="control",n.SELECT="select",n.CLOSE="close",n.EXPIRE="expire",n.PROGRAMMATIC="programmatic",(t.ActionNoopType||(t.ActionNoopType={})).EVENT_DISMISS="event_dismiss",(t.ActionBodyClickType||(t.ActionBodyClickType={})).DISMISS_EVENT="dismiss_event"},166:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsExternalClient=t.externalDispatchMethod=void 0;const i=n(471);let o;t.externalDispatchMethod=async(e,t)=>{if(!o)throw new Error("Not connected to the notification center. Did you call connectToNotifications()?.");return o.dispatch(e,t)},t.connectAsExternalClient=async function(e){const{externalProviderConfig:t}=e,n={id:t.id,title:t.title,icon:t.icon};console.log("Connecting to the Notification Center..."),o=await t.finContext.InterApplicationBus.Channel.connect(t.serviceId,{wait:!0,payload:{version:"2.14.0-alpha-4463",providerInfo:n}}),console.log("Connected to the Notification Center.");const r=(0,i.getEventRouter)();o.setDefaultAction((()=>!1)),o.register("WARN",(e=>console.warn(e))),o.register("event",(e=>{r.dispatchEvent(e)})),o.onDisconnection((()=>{console.warn("Disconnected from the Notification Center"),o=null,setTimeout((()=>{console.log("Attempting to reconnect to the Notification Center"),e.retry(e)}),300)}))}},217:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isConnectedToAtLeast=t.getStatus=void 0;const o=i(n(667)),r=n(785),a=n(902),s=n(349);function c(){return(0,r.withStrictTimeout)(500,(0,a.tryServiceDispatch)(s.APITopic.GET_PROVIDER_STATUS,void 0),"").catch((()=>({connected:!1,version:null,templateAPIVersion:null})))}t.getStatus=c,t.isConnectedToAtLeast=async function(e){const t=await c();if(t.connected&&null!==t.version){const n=(0,o.default)(t.version,e);if(0===n||1===n)return!0}return!1}},312:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extractConfigFromManifest=void 0;const i=n(36);t.extractConfigFromManifest=async function(){try{const e=await fin.Application.getCurrentSync().getManifest();if(!(null==e?void 0:e.notifications))return;const{customManifest:t,routingOptions:n}=e.notifications;return(null==n?void 0:n.routerChannelName)?(i.Log.info("Routing option detected in manifest. Using router configuration."),{routingOptions:n}):(i.Log.info("Custom manifest option detected in manifest. Using custom manifest configuration."),{customManifest:t})}catch(e){return}}},329:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setFinContext=t.finContext=void 0,t.setFinContext=e=>{t.finContext=e}},349:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.eventTypes=t.APITopic=t.getChannelName=t.SERVICE_CHANNEL=t.SERVICE_IDENTITY=void 0,t.SERVICE_IDENTITY={uuid:"notifications-service",name:"notifications-service"},t.SERVICE_CHANNEL="of-notifications-service-v1",t.getChannelName=e=>e===t.SERVICE_IDENTITY.uuid?t.SERVICE_CHANNEL:`${e}-${t.SERVICE_CHANNEL}`,(n=t.APITopic||(t.APITopic={})).CREATE_NOTIFICATION="create-notification",n.UPDATE_NOTIFICATION="update-notification",n.CLEAR_NOTIFICATION="clear-notification",n.SET_REMINDER="set-reminder",n.CANCEL_REMINDER="cancel-reminder",n.GET_APP_NOTIFICATIONS="fetch-app-notifications",n.CLEAR_APP_NOTIFICATIONS="clear-app-notifications",n.TOGGLE_NOTIFICATION_CENTER="toggle-notification-center",n.ADD_EVENT_LISTENER="add-event-listener",n.REMOVE_EVENT_LISTENER="remove-event-listener",n.GET_PROVIDER_STATUS="get-provider-status",n.GET_NOTIFICATIONS_COUNT="get-notifications-count",n.SHOW_NOTIFICATION_CENTER="show-notification-center",n.HIDE_NOTIFICATION_CENTER="hide-notification-center",n.REGISTER_PLATFORM="register-notifications-platform",n.DEREGISTER_PLATFORM="deregister-notifications-platform",n.SET_FORM_STATUS_OPTIONS="set-form-status-options",n.SET_FORM_VALIDATION_ERRORS="set-form-validation-errors",n.GET_USER_SETTINGS_STATUS="get-user-settings-status",n.SET_DEFAULT_PLATFORM_SHORTCUT="set-default-platform-shortcut",n.SET_NOTIFICATION_SECURITY_RULE="set-notification-security-rule",t.eventTypes=["notification-created","notification-closed","notification-action","notification-form-submitted","notification-form-values-changed","notifications-count-changed","notification-sound-toggled","notification-reminder-created","notification-reminder-removed","notification-toast-dismissed"]},403:(e,t)=>{var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorColor=t.IndicatorType=void 0,(i=t.IndicatorType||(t.IndicatorType={})).FAILURE="failure",i.WARNING="warning",i.SUCCESS="success",(n=t.IndicatorColor||(t.IndicatorColor={})).RED="red",n.GREEN="green",n.YELLOW="yellow",n.BLUE="blue",n.PURPLE="purple",n.GRAY="gray",n.ORANGE="orange",n.MAGENTA="magenta",n.TEAL="teal"},405:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},s=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.setAllowedOrigins=t.getUserSettingStatus=t.UserSettings=t.getNotificationsCount=t.hide=t.show=t.setDefaultPlatformShortcut=t.toggleNotificationCenter=t.clearAll=t.getAll=t.cancelReminder=t.setReminder=t.clear=t.update=t.create=t.removeEventListener=t.addEventListener=t.VERSION=t.NotificationIndicatorType=t.IndicatorColor=t.NotificationIndicatorWithCustomColor=t.NotificationIndicator=t.NotificationOptions=t.provider=t.actions=void 0;const c=n(158),l=n(902),u=n(349),d=n(471),f=r(n(217));t.provider=f;const p=n(855),v=n(403);Object.defineProperty(t,"NotificationIndicator",{enumerable:!0,get:function(){return v.NotificationIndicator}}),Object.defineProperty(t,"NotificationIndicatorWithCustomColor",{enumerable:!0,get:function(){return v.NotificationIndicatorWithCustomColor}}),Object.defineProperty(t,"NotificationIndicatorType",{enumerable:!0,get:function(){return v.IndicatorType}}),Object.defineProperty(t,"IndicatorColor",{enumerable:!0,get:function(){return v.IndicatorColor}});const g=n(965);Object.defineProperty(t,"NotificationOptions",{enumerable:!0,get:function(){return g.NotificationOptions}});const h=r(n(158));t.actions=h,a(n(158),t),a(n(578),t),a(n(93),t),a(n(2),t),a(n(520),t),a(n(96),t),a(n(470),t),t.VERSION="2.14.0-alpha-4463";const m=(0,d.getEventRouter)();function y(e){const{notification:t}=e;return Object.assign(Object.assign({},e),{notification:Object.assign(Object.assign({},t),{date:new Date(t.date),expires:null!==t.expires?new Date(t.expires):null})})}m.registerDeserializer("notification-created",(e=>y(e))),m.registerDeserializer("notification-toast-dismissed",(e=>y(e))),m.registerDeserializer("notification-closed",(e=>y(e))),m.registerDeserializer("notification-action",(e=>{var t;const n=y(e),{controlSource:i,controlIndex:o}=n,r=s(n,["controlSource","controlIndex"]);return e.trigger===c.ActionTrigger.CONTROL?Object.assign(Object.assign({},r),{control:null===(t=e.notification[i])||void 0===t?void 0:t[o]}):r})),m.registerDeserializer("notifications-count-changed",(e=>e)),m.registerDeserializer("notification-reminder-created",(e=>{const t=y(e),{reminderDate:n}=t,i=s(t,["reminderDate"]);return Object.assign(Object.assign({},i),{reminderDate:new Date(n)})})),m.registerDeserializer("notification-reminder-removed",(e=>y(e))),m.registerDeserializer("notification-sound-toggled",(e=>e)),t.addEventListener=async function(e,t){(0,p.validateEnvironment)(),e=(0,p.sanitizeEventType)(e),t=(0,p.sanitizeFunction)(t);const n=d.eventEmitter.listenerCount(e);"notification-form-submitted"===e&&(t=function(e){return t=>{const n=t.notification.id;t.setFormStatus=e=>(0,l.tryServiceDispatch)(u.APITopic.SET_FORM_STATUS_OPTIONS,Object.assign(Object.assign({},e),{_notificationId:n})),e(t)}}(t)),"notification-form-values-changed"===e&&(t=function(e){return t=>{t.setErrors=e=>(0,l.tryServiceDispatch)(u.APITopic.SET_FORM_VALIDATION_ERRORS,{errors:e,notificationId:t.notification.id}),e(t)}}(t)),d.eventEmitter.addListener(e,t),0===n&&1===d.eventEmitter.listenerCount(e)&&await(0,l.tryServiceDispatch)(u.APITopic.ADD_EVENT_LISTENER,e)},t.removeEventListener=async function(e,t){(0,p.validateEnvironment)(),e=(0,p.sanitizeEventType)(e),t=(0,p.sanitizeFunction)(t),1===d.eventEmitter.listenerCount(e)&&d.eventEmitter.listeners(e)[0]===t&&await(0,l.tryServiceDispatch)(u.APITopic.REMOVE_EVENT_LISTENER,e),d.eventEmitter.removeListener(e,t)},t.create=async function(e,t){if("object"!=typeof e||null===e)throw new Error("Invalid argument passed to create: argument must be an object and must not be null");if(void 0!==e.date&&!(e.date instanceof Date))throw new Error('Invalid argument passed to create: "date" must be a valid Date object');if(void 0!==e.expires&&null!==e.expires&&!(e.expires instanceof Date))throw new Error('Invalid argument passed to create: "expires" must be null or a valid Date object');if(t&&t.reminderDate){if(!1===e.allowReminder)throw new Error('You must not specify a reminder date for a notification with "allowReminder" option set to false.');if(!(t.reminderDate instanceof Date))throw new Error('Invalid argument passed to reminder Options: "date" must a valid Date object');if(e.expires&&e.expires.getTime()<t.reminderDate.getTime())throw new Error("Expiration date must not be earlier than reminder date.")}void 0!==e.category&&null!==e.category||(e.category="default");const n=await(0,l.tryServiceDispatch)(u.APITopic.CREATE_NOTIFICATION,Object.assign(Object.assign({},e),{date:e.date&&e.date.getTime(),expires:e.expires&&e.expires.getTime(),reminder:(null==t?void 0:t.reminderDate)&&t.reminderDate.getTime()}));return Object.assign(Object.assign({},n),{date:new Date(n.date),expires:null!==n.expires?new Date(n.expires):null})},t.update=async function(e){if("object"!=typeof e||null===e)throw new Error("Invalid argument passed to create: argument must be an object and must not be null");if(!e.id)throw new Error('Invalid argument passed to create: "id" must be Id of previously created Notification');const t=await(0,l.tryServiceDispatch)(u.APITopic.UPDATE_NOTIFICATION,Object.assign({},e));return Object.assign({},t)},t.clear=async function(e){return(0,l.tryServiceDispatch)(u.APITopic.CLEAR_NOTIFICATION,{id:e})},t.setReminder=async function(e,t){if(!(t instanceof Date))throw new Error('Invalid argument passed to setReminder: "reminderDate" must a valid Date object');if(t.getTime()<Date.now())throw new Error('Invalid argument passed to setReminder: "reminderDate" was set to a Date in the past, must be a Date in the future.');const n=await(0,l.tryServiceDispatch)(u.APITopic.SET_REMINDER,{id:e,reminder:t.getTime()});return n?console.log(`[Client::setReminder] Reminder set for notification: ${e}`):console.log(`[Client::setReminder] Notification not found for id: ${e}`),n},t.cancelReminder=async function(e){const t=await(0,l.tryServiceDispatch)(u.APITopic.CANCEL_REMINDER,{id:e});return t?console.log(`[Client::cancelReminder] Reminder canceled for notification: ${e}`):console.log(`[Client::cancelReminder] Notification not found for id: ${e}`),t},t.getAll=async function(){return(await(0,l.tryServiceDispatch)(u.APITopic.GET_APP_NOTIFICATIONS,void 0)).map((e=>Object.assign(Object.assign({},e),{indicator:e.indicator||null,date:new Date(e.date),expires:null!==e.expires?new Date(e.expires):null})))},t.clearAll=async function(){return(0,l.tryServiceDispatch)(u.APITopic.CLEAR_APP_NOTIFICATIONS,void 0)},t.toggleNotificationCenter=async function(){return(0,l.tryServiceDispatch)(u.APITopic.TOGGLE_NOTIFICATION_CENTER,void 0)},t.setDefaultPlatformShortcut=function(e){return(0,l.tryServiceDispatch)(u.APITopic.SET_DEFAULT_PLATFORM_SHORTCUT,e)},t.show=async function(e){return(0,l.tryServiceDispatch)(u.APITopic.SHOW_NOTIFICATION_CENTER,e)},t.hide=async function(){return(0,l.tryServiceDispatch)(u.APITopic.HIDE_NOTIFICATION_CENTER,void 0)},t.getNotificationsCount=async function(){return(0,l.tryServiceDispatch)(u.APITopic.GET_NOTIFICATIONS_COUNT,void 0)},(t.UserSettings||(t.UserSettings={})).SOUND_ENABLED="soundEnabled",t.getUserSettingStatus=async function(e){return(0,l.tryServiceDispatch)(u.APITopic.GET_USER_SETTINGS_STATUS,e)},t.setAllowedOrigins=async e=>(0,l.tryServiceDispatch)(u.APITopic.SET_NOTIFICATION_SECURITY_RULE,{allowedOrigins:e})},468:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},470:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(134),t),o(n(468),t),o(n(965),t),o(n(929),t)},471:function(e,t,n){var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getEventRouter=t.eventEmitter=t.EventRouter=void 0;const o=n(7),r=n(902),a=n(349);class s{constructor(e){this._emitterProviders={},this._deserializers={},this._defaultEmitter=e}registerEmitterProvider(e,t){this._emitterProviders[e]=t}registerDeserializer(e,t){this._deserializers[e]=t}dispatchEvent(e){const{type:t,target:n}=e,o=i(e,["type","target"]);let s;if(!n)throw new Error("Invalid event, no target specified");if("default"===n)s=this._defaultEmitter;else{if(!this._emitterProviders[n.type])throw new Error(`Invalid target, no provider registered for '${n.type}'`);s=this._emitterProviders[n.type](n.id)}const c=Object.assign({type:t},o),l=this._deserializers[t];l?s.emit(t,l(c)):"notification-form-submitted"===t?function(e,t){let n=!1;e.preventDefault=()=>n=!0,t.emit("notification-form-submitted",e),n||(0,r.tryServiceDispatch)(a.APITopic.SET_FORM_STATUS_OPTIONS,{formStatus:"submitted",_notificationId:e.notification.id})}(c,s):s.emit(t,c)}}let c;t.EventRouter=s,t.eventEmitter=new o.EventEmitter,t.getEventRouter=function(){return c||(c=new s(t.eventEmitter)),c}},520:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},536:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.NotificationsRegistration=void 0;const r=n(329),a=n(902),s=n(855),c=n(610),l=n(312),u=n(797);Object.defineProperty(t,"NotificationsRegistration",{enumerable:!0,get:function(){return u.NotificationsRegistration}});const d=n(166),f=n(217),p=n(919);o(n(405),t);class v extends Error{constructor(e){super(e),this.name="NotificationsRegistrationError"}}t.register=async function e(t){if((null==t?void 0:t.customManifest)&&console.warn("The customManifest option is not supported anymore and will be ignored. Use manifest configuration instead."),null==t?void 0:t.externalProviderConfig){const{externalProviderConfig:n}=t,{finContext:i}=n||{};if(!i)throw new v("fin context must be provided for external notification providers.");return(0,p.validateExternalProviderInfo)(n),(0,s.setValidationMethod)((()=>{})),(0,a.setDispatchMethod)(d.externalDispatchMethod),await(0,d.connectAsExternalClient)({externalProviderConfig:n,retry:e}),{clientAPIVersion:"2.14.0-alpha-4463",notificationsVersion:(await(0,f.getStatus)()).version||"unknown"}}if("undefined"!=typeof fin&&"undefined"!=typeof window){(0,r.setFinContext)(fin),(0,s.setValidationMethod)(c.defaultValidateEnvironment),(0,a.setDispatchMethod)(c.defaultDispatch);const e=await(0,l.extractConfigFromManifest)();return(0,u.register)(e)}throw new Error("You are neither in OpenFin environment nor provided an external OpenFin connection.")}},578:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultValidateEnvironment=t.defaultDispatch=void 0;const i=n(793),o=n(329);t.defaultDispatch=async function(e,t){return(await(0,i.getChannelClient)()).dispatch(e,t)},t.defaultValidateEnvironment=function(){if(void 0===o.finContext)throw new Error("fin is not defined. The openfin-notifications module is only intended for use in an OpenFin application.")}},637:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldType=void 0,t.FieldType={string:"string",number:"number",boolean:"boolean",date:"date",checkboxGroup:"checkboxGroup",radioGroup:"radioGroup",time:"time"}},667:e=>{e.exports=void 0},777:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(89);async function o(e,t){let n=0;for(const i of e)await t(i,n,e),n++}async function r(e,t){await Promise.all(e.map(t))}function a(e,t,n){const o=new i.DeferredPromise,r=e.add(((...e)=>{t(...e)&&(r.remove(),o.resolve())}));return n&&n.catch((e=>{r.remove(),o.reject(e)})),s(o.promise)}function s(e){return e.catch((()=>{})),e}t.serialForEach=o,t.serialMap=async function(e,t){const n=[];return await o(e,(async(e,i,o)=>{n.push(await t(e,i,o))})),n},t.serialFilter=async function(e,t){const n=[];return await o(e,(async(e,i,o)=>{await t(e,i,o)&&n.push(e)})),n},t.parallelForEach=r,t.parallelMap=async function(e,t){const n=[];return await r(e,(async(e,i,o)=>{n[i]=await t(e,i,o)})),n},t.parallelFilter=async function(e,t){const n=[];return await r(e,(async(e,i,o)=>{n[i]=await t(e,i,o)})),e.filter(((e,t)=>n[t]))},t.withStrictTimeout=function(e,t,n){const i=new Promise(((t,i)=>setTimeout((()=>i(new Error(n))),e)));return s(Promise.race([i,t]))},t.withTimeout=function(e,t){const n=new Promise((t=>setTimeout((()=>t([!0,void 0])),e))),i=t.then((e=>[!1,e]));return Promise.race([n,i])},t.untilTrue=function(e,t,n){return t()?Promise.resolve():a(e,t,n)},t.untilSignal=a,t.allowReject=s},785:(e,t,n)=>{function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(777)),i(n(89))},793:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getChannelClient=t.clearAwaitedChannelClient=t.initAwaitedChannelClient=t.ServiceConfig=void 0;const i=n(349),o=n(36),r=n(329);t.ServiceConfig={serviceChannel:i.SERVICE_CHANNEL,serviceUuid:i.SERVICE_IDENTITY.uuid,routingEnabled:!1};const a=async({wait:e})=>{await o.Log.info(`Connecting to Notifications (${t.ServiceConfig.serviceChannel})...`);const n=await r.finContext.InterApplicationBus.Channel.connect(t.ServiceConfig.serviceChannel,{wait:e,payload:{version:"2.14.0-alpha-4463"}});return await o.Log.info(`Successfully connected to Notifications (${t.ServiceConfig.serviceChannel}).`),n};let s,c;t.initAwaitedChannelClient=()=>s?{channelClientPromise:s,isInit:!1}:(s=a({wait:!0}),s.catch((e=>(0,t.clearAwaitedChannelClient)())),{channelClientPromise:s,isInit:!0}),t.clearAwaitedChannelClient=()=>{s=null},t.getChannelClient=async()=>s||(async()=>{if(!c){try{c=await a({wait:!1}),c.setDefaultAction((()=>!1))}catch(e){throw await o.Log.error('Could not find channel provider. Did you call "notifications.register()"?'),e}c.onDisconnection((()=>{c=null}))}return c})()},797:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.ChannelClientHandlers=void 0;const i=n(349),o=n(471),r=n(36),a=n(793),s=n(217),c=n(329);class l{}t.ChannelClientHandlers=l,l.handleDefaultAction=()=>!1,l.handleEventAction=e=>{(0,o.getEventRouter)().dispatchEvent(e)},l.handleWarnAction=async e=>{await r.Log.warn(e)},l.handleDisconnection=async()=>{(0,a.getChannelClient)()&&(await r.Log.warn("Disconnected from Notifications. Reconnecting..."),(0,a.clearAwaitedChannelClient)(),await f(),await p())};let u=null;t.register=async e=>{if(null==e?void 0:e.externalProviderConfig)throw new Error("It appears you are attempting to use an external provider configuration with the desktop client. This usually suggests that the Client API package version in use is deprecated.");if(u)return u;try{return u=d(e),await u}finally{u=null}};const d=async e=>{const t=e;if(null==t?void 0:t.routingOptions){const e=t.routingOptions.routerChannelName;if(!e)throw new Error("When a router config is provided, the router channel name must also be provided and cannot be an empty string.");r.Log.info(`Connecting to router channel: ${e}`),a.ServiceConfig.serviceChannel=e,a.ServiceConfig.routingEnabled=!0}else if(null==t?void 0:t.customManifest){const e=t.customManifest;if(r.Log.info(`Connecting to private instance: ${e.manifestUuid} at ${e.manifestUrl}`),!e.manifestUrl)throw new Error("When a custom manifest config is provided, the manifest url must be provided and cannot be an empty string.");if(!e.manifestUuid)throw new Error("When a custom manifest config is provided, the manifest UUID must be provided and cannot be an empty string.");a.ServiceConfig.serviceChannel=`${e.manifestUuid}-${i.SERVICE_CHANNEL}`,a.ServiceConfig.serviceUuid=e.manifestUuid,a.ServiceConfig.serviceManifestUrl=e.manifestUrl,await f()}else a.ServiceConfig.serviceChannel=i.SERVICE_CHANNEL,await f();return await p(),{clientAPIVersion:"2.14.0-alpha-4463",notificationsVersion:(await(0,s.getStatus)()).version||"unknown"}},f=async()=>{if(!a.ServiceConfig.routingEnabled)try{const e=a.ServiceConfig.serviceManifestUrl,t=window.navigator.userAgent.toLowerCase().includes("windows"),n=e||"fins://system-apps/notification-center";t?(await r.Log.info("Launching Notifications via fin.System.launchManifest..."),await c.finContext.System.launchManifest(n,{noUi:!0})):(await r.Log.info("Launching Notifications via fin.System.openUrlWithBrowser..."),await c.finContext.System.openUrlWithBrowser(n))}catch(e){throw e instanceof Error?await r.Log.error(`Failed to launch Notifications - ${e.name}: ${e.message}`):await r.Log.error(`Failed to launch Notifications - ${JSON.stringify(e)}`),e}},p=async()=>{try{const{channelClientPromise:e,isInit:t}=(0,a.initAwaitedChannelClient)(),n=await e;t&&(n.setDefaultAction(l.handleDefaultAction),n.register("event",l.handleEventAction),n.register("WARN",l.handleWarnAction),n.onDisconnection(l.handleDisconnection),!a.ServiceConfig.routingEnabled)&&c.finContext.Application.wrapSync({uuid:a.ServiceConfig.serviceUuid}).once("closed",l.handleDisconnection)}catch(e){throw e instanceof Error?await r.Log.error(`Failed to connect to Notifications - ${e.name}: ${e.message}`):await r.Log.error(`Failed to connect to Notifications - ${JSON.stringify(e)}`),e}}},855:(e,t)=>{function n(e,t){let n;try{n=JSON.stringify(e)}catch(e){n=t}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.setValidationMethod=t.validateEnvironment=t.safeStringify=t.sanitizeEventType=t.sanitizeFunction=void 0,t.sanitizeFunction=function(e){if("function"!=typeof e)throw new Error(`Invalid argument passed: ${n(e,"The provided value")} is not a valid function`);return e},t.sanitizeEventType=function(e){if("notification-action"===e||"notification-created"===e||"notification-toast-dismissed"===e||"notification-closed"===e||"notifications-count-changed"===e||"notification-form-submitted"===e||"notification-reminder-created"===e||"notification-reminder-removed"===e||"notification-form-values-changed"===e||"notification-sound-toggled"===e)return e;throw new Error(`Invalid argument passed: ${n(e,"The provided event type")} is not a valid Notifications event type`)},t.safeStringify=n,t.validateEnvironment=()=>{throw new Error("fin is not defined. The notifications module is only intended for use in an OpenFin application.")},t.setValidationMethod=e=>{t.validateEnvironment=e}},902:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setDispatchMethod=t.tryServiceDispatch=void 0,t.tryServiceDispatch=async(e,t)=>{throw new Error("Environment is not initialized..")},t.setDispatchMethod=e=>{t.tryServiceDispatch=e}},919:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateExternalProviderInfo=void 0,t.validateExternalProviderInfo=function(e){if(!e.id)throw new Error("id must be a non-zero length and must be a unique identifier of the provider.");if(!e.title)throw new Error("title must be a non-zero length.");if(!e.serviceId)throw new Error("serviceId must be a non-zero length and must match the service id of the Web Notification Center instance.")}},929:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},965:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateFragmentNames=t.PresentationTemplateFragmentNames=t.ContainerTemplateFragmentNames=t.TemplateNames=void 0,t.TemplateNames={markdown:"markdown",list:"list",custom:"custom"},t.ContainerTemplateFragmentNames={container:"container"},t.PresentationTemplateFragmentNames={text:"text",image:"image",list:"list",actionableText:"actionableText"},t.TemplateFragmentNames=Object.assign(Object.assign({},t.ContainerTemplateFragmentNames),t.PresentationTemplateFragmentNames)}},t={};return function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(536)})()));

/***/ }),

/***/ "./node_modules/@openfin/workspace/notifications.js":
/*!**********************************************************!*\
  !*** ./node_modules/@openfin/workspace/notifications.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/*! For license information please see notifications.js.LICENSE.txt */
(()=>{var e={927:(e,r,t)=>{"use strict";t(822);var o=t(189),n=t(275),a=t(141);const i=e=>{if(!e.includes("#"))throw new Error("Invalid hex value, cannot convert to RGB. Hex value begins with a hashtag.");let r=0,t=0,o=0;if(4===e.length)r=`0x${e[1]}${e[1]}`,t=`0x${e[2]}${e[2]}`,o=`0x${e[3]}${e[3]}`;else{if(7!==e.length)throw new Error("Invalid hex string length, cannot convert to RGB.");r=`0x${e[1]}${e[2]}`,t=`0x${e[3]}${e[4]}`,o=`0x${e[5]}${e[6]}`}return[+r,+t,+o]},l=e=>{const r=e;if(r.startsWith("#")){return{rgb:i(r).join(", "),alpha:1}}const t=r.match(/\d{1,3}(\.\d+)?/g);if(t){const[e,r,o,n]=t;return{rgb:`${e}, ${r}, ${o}`,alpha:void 0!==n?parseFloat(n):1}}return{rgb:i(e).join(", "),alpha:1}};var c=t(675);const s=c.qT.Dark,u=e=>Object.entries(e).reduce((e,[r,t])=>`${e}--workspace-palette-${r}: ${t};`,""),d=(e,r)=>{const t=!!e.contentBackground5&&"#000000"!==e.contentBackground5,o=!!e.contentBackground4&&"#000000"!==e.contentBackground4,n=l(e.textDefault),a=l(e.textInactive),i=n.rgb,c=a.rgb,s=n.alpha?parseFloat(n.alpha.toString()):1,u=a.alpha?parseFloat(a.alpha.toString()):1;return{dockExpandedContainerBorderRadius:t&&r?"0":"10px",fillerBackgroundColor:o?e.contentBackground4:"inherit","computed-scrollbar-thumb-alpha":s,"computed-scrollbar-track-alpha":u,"scrollbar-thumb-rgb":i,"scrollbar-track-rgb":c}},f=(e,r,t)=>({selectedTab:"dark"===r?e.background3:e.background1,...d(e,t)});var p={79:(e,r,t)=>{var o=t(3702),n=t(80),a=t(4739),i=t(8655),l=t(1175);function c(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,e.exports=c},80:(e,r,t)=>{var o=t(6025),n=Array.prototype.splice;e.exports=function(e){var r=this.__data__,t=o(r,e);return!(t<0||(t==r.length-1?r.pop():n.call(r,t,1),--this.size,0))}},181:e=>{e.exports=function(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}},289:(e,r,t)=>{var o=t(2651);e.exports=function(e){return o(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},392:e=>{e.exports=function(e,r){return null==e?void 0:e[r]}},659:(e,r,t)=>{var o=t(1873),n=Object.prototype,a=n.hasOwnProperty,i=n.toString,l=o?o.toStringTag:void 0;e.exports=function(e){var r=a.call(e,l),t=e[l];try{e[l]=void 0;var o=!0}catch(e){}var n=i.call(e);return o&&(r?e[l]=t:delete e[l]),n}},695:(e,r,t)=>{var o=t(8096),n=t(2428),a=t(6449),i=t(3656),l=t(361),c=t(7167),s=Object.prototype.hasOwnProperty;e.exports=function(e,r){var t=a(e),u=!t&&n(e),d=!t&&!u&&i(e),f=!t&&!u&&!d&&c(e),p=t||u||d||f,g=p?o(e.length,String):[],h=g.length;for(var b in e)!r&&!s.call(e,b)||p&&("length"==b||d&&("offset"==b||"parent"==b)||f&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||l(b,h))||g.push(b);return g}},938:e=>{e.exports=function(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}},945:(e,r,t)=>{var o=t(79),n=t(8223),a=t(3661);e.exports=function(e,r){var t=this.__data__;if(t instanceof o){var i=t.__data__;if(!n||i.length<199)return i.push([e,r]),this.size=++t.size,this;t=this.__data__=new a(i)}return t.set(e,r),this.size=t.size,this}},999:(e,r,t)=>{var o=t(9302),n=t(6800);e.exports=function(e){return o(function(r,t){var o=-1,a=t.length,i=a>1?t[a-1]:void 0,l=a>2?t[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,l&&n(t[0],t[1],l)&&(i=a<3?void 0:i,a=1),r=Object(r);++o<a;){var c=t[o];c&&e(r,c,o,i)}return r})}},1033:e=>{e.exports=function(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}},1042:(e,r,t)=>{var o=t(6110)(Object,"create");e.exports=o},1175:(e,r,t)=>{var o=t(6025);e.exports=function(e,r){var t=this.__data__,n=o(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}},1331:(e,r,t)=>{var o=t(2552),n=t(8879),a=t(346),i=Function.prototype,l=Object.prototype,c=i.toString,s=l.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=o(e))return!1;var r=n(e);if(null===r)return!0;var t=s.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&c.call(t)==u}},1420:(e,r,t)=>{var o=t(79);e.exports=function(){this.__data__=new o,this.size=0}},1549:(e,r,t)=>{var o=t(2032),n=t(3862),a=t(6721),i=t(2749),l=t(5749);function c(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,e.exports=c},1791:(e,r,t)=>{var o=t(6547),n=t(3360);e.exports=function(e,r,t,a){var i=!t;t||(t={});for(var l=-1,c=r.length;++l<c;){var s=r[l],u=a?a(t[s],e[s],s,t,e):void 0;void 0===u&&(u=e[s]),i?n(t,s,u):o(t,s,u)}return t}},1811:e=>{var r=Date.now;e.exports=function(e){var t=0,o=0;return function(){var n=r(),a=16-(n-o);if(o=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},1873:(e,r,t)=>{var o=t(9325).Symbol;e.exports=o},1882:(e,r,t)=>{var o=t(2552),n=t(3805);e.exports=function(e){if(!n(e))return!1;var r=o(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}},1961:(e,r,t)=>{var o=t(9653);e.exports=function(e,r){var t=r?o(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}},2032:(e,r,t)=>{var o=t(1042);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},2428:(e,r,t)=>{var o=t(7534),n=t(346),a=Object.prototype,i=a.hasOwnProperty,l=a.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return n(e)&&i.call(e,"callee")&&!l.call(e,"callee")};e.exports=c},2543:function(e,r,t){var o;e=t.nmd(e),function(){var n,a="Expected a function",i="__lodash_hash_undefined__",l="__lodash_placeholder__",c=32,s=128,u=1/0,d=9007199254740991,f=NaN,p=4294967295,g=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],h="[object Arguments]",b="[object Array]",v="[object Boolean]",m="[object Date]",y="[object Error]",w="[object Function]",_="[object GeneratorFunction]",k="[object Map]",x="[object Number]",P="[object Object]",S="[object Promise]",M="[object RegExp]",I="[object Set]",C="[object String]",A="[object Symbol]",O="[object WeakMap]",F="[object ArrayBuffer]",W="[object DataView]",z="[object Float32Array]",T="[object Float64Array]",D="[object Int8Array]",B="[object Int16Array]",R="[object Int32Array]",E="[object Uint8Array]",j="[object Uint8ClampedArray]",$="[object Uint16Array]",N="[object Uint32Array]",G=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,H=RegExp(V.source),K=RegExp(q.source),Z=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,te=RegExp(re.source),oe=/^\s+/,ne=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,we=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ce="["+_e+"]",Ae="["+Ie+"]",Oe="["+ke+"]",Fe="\\d+",We="["+xe+"]",ze="["+Pe+"]",Te="[^"+_e+Ie+Fe+xe+Pe+Se+"]",De="\\ud83c[\\udffb-\\udfff]",Be="[^"+_e+"]",Re="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Se+"]",$e="\\u200d",Ne="(?:"+ze+"|"+Te+")",Ge="(?:"+je+"|"+Te+")",Le="(?:['](?:d|ll|m|re|s|t|ve))?",Ue="(?:['](?:D|LL|M|RE|S|T|VE))?",Ve="(?:"+Oe+"|"+De+")?",qe="["+Me+"]?",He=qe+Ve+"(?:"+$e+"(?:"+[Be,Re,Ee].join("|")+")"+qe+Ve+")*",Ke="(?:"+[We,Re,Ee].join("|")+")"+He,Ze="(?:"+[Be+Oe+"?",Oe,Re,Ee,Ce].join("|")+")",Ye=RegExp("[']","g"),Qe=RegExp(Oe,"g"),Je=RegExp(De+"(?="+De+")|"+Ze+He,"g"),Xe=RegExp([je+"?"+ze+"+"+Le+"(?="+[Ae,je,"$"].join("|")+")",Ge+"+"+Ue+"(?="+[Ae,je+Ne,"$"].join("|")+")",je+"?"+Ne+"+"+Le,je+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fe,Ke].join("|"),"g"),er=RegExp("["+$e+_e+ke+Me+"]"),rr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],or=-1,nr={};nr[z]=nr[T]=nr[D]=nr[B]=nr[R]=nr[E]=nr[j]=nr[$]=nr[N]=!0,nr[h]=nr[b]=nr[F]=nr[v]=nr[W]=nr[m]=nr[y]=nr[w]=nr[k]=nr[x]=nr[P]=nr[M]=nr[I]=nr[C]=nr[O]=!1;var ar={};ar[h]=ar[b]=ar[F]=ar[W]=ar[v]=ar[m]=ar[z]=ar[T]=ar[D]=ar[B]=ar[R]=ar[k]=ar[x]=ar[P]=ar[M]=ar[I]=ar[C]=ar[A]=ar[E]=ar[j]=ar[$]=ar[N]=!0,ar[y]=ar[w]=ar[O]=!1;var ir={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lr=parseFloat,cr=parseInt,sr="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,ur="object"==typeof self&&self&&self.Object===Object&&self,dr=sr||ur||Function("return this")(),fr=r&&!r.nodeType&&r,pr=fr&&e&&!e.nodeType&&e,gr=pr&&pr.exports===fr,hr=gr&&sr.process,br=function(){try{return pr&&pr.require&&pr.require("util").types||hr&&hr.binding&&hr.binding("util")}catch(e){}}(),vr=br&&br.isArrayBuffer,mr=br&&br.isDate,yr=br&&br.isMap,wr=br&&br.isRegExp,_r=br&&br.isSet,kr=br&&br.isTypedArray;function xr(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}function Pr(e,r,t,o){for(var n=-1,a=null==e?0:e.length;++n<a;){var i=e[n];r(o,i,t(i),e)}return o}function Sr(e,r){for(var t=-1,o=null==e?0:e.length;++t<o&&!1!==r(e[t],t,e););return e}function Mr(e,r){for(var t=null==e?0:e.length;t--&&!1!==r(e[t],t,e););return e}function Ir(e,r){for(var t=-1,o=null==e?0:e.length;++t<o;)if(!r(e[t],t,e))return!1;return!0}function Cr(e,r){for(var t=-1,o=null==e?0:e.length,n=0,a=[];++t<o;){var i=e[t];r(i,t,e)&&(a[n++]=i)}return a}function Ar(e,r){return!(null==e||!e.length)&&jr(e,r,0)>-1}function Or(e,r,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(r,e[o]))return!0;return!1}function Fr(e,r){for(var t=-1,o=null==e?0:e.length,n=Array(o);++t<o;)n[t]=r(e[t],t,e);return n}function Wr(e,r){for(var t=-1,o=r.length,n=e.length;++t<o;)e[n+t]=r[t];return e}function zr(e,r,t,o){var n=-1,a=null==e?0:e.length;for(o&&a&&(t=e[++n]);++n<a;)t=r(t,e[n],n,e);return t}function Tr(e,r,t,o){var n=null==e?0:e.length;for(o&&n&&(t=e[--n]);n--;)t=r(t,e[n],n,e);return t}function Dr(e,r){for(var t=-1,o=null==e?0:e.length;++t<o;)if(r(e[t],t,e))return!0;return!1}var Br=Lr("length");function Rr(e,r,t){var o;return t(e,function(e,t,n){if(r(e,t,n))return o=t,!1}),o}function Er(e,r,t,o){for(var n=e.length,a=t+(o?1:-1);o?a--:++a<n;)if(r(e[a],a,e))return a;return-1}function jr(e,r,t){return r==r?function(e,r,t){for(var o=t-1,n=e.length;++o<n;)if(e[o]===r)return o;return-1}(e,r,t):Er(e,Nr,t)}function $r(e,r,t,o){for(var n=t-1,a=e.length;++n<a;)if(o(e[n],r))return n;return-1}function Nr(e){return e!=e}function Gr(e,r){var t=null==e?0:e.length;return t?qr(e,r)/t:f}function Lr(e){return function(r){return null==r?n:r[e]}}function Ur(e){return function(r){return null==e?n:e[r]}}function Vr(e,r,t,o,n){return n(e,function(e,n,a){t=o?(o=!1,e):r(t,e,n,a)}),t}function qr(e,r){for(var t,o=-1,a=e.length;++o<a;){var i=r(e[o]);i!==n&&(t=t===n?i:t+i)}return t}function Hr(e,r){for(var t=-1,o=Array(e);++t<e;)o[t]=r(t);return o}function Kr(e){return e?e.slice(0,ut(e)+1).replace(oe,""):e}function Zr(e){return function(r){return e(r)}}function Yr(e,r){return Fr(r,function(r){return e[r]})}function Qr(e,r){return e.has(r)}function Jr(e,r){for(var t=-1,o=e.length;++t<o&&jr(r,e[t],0)>-1;);return t}function Xr(e,r){for(var t=e.length;t--&&jr(r,e[t],0)>-1;);return t}var et=Ur({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),rt=Ur({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tt(e){return"\\"+ir[e]}function ot(e){return er.test(e)}function nt(e){var r=-1,t=Array(e.size);return e.forEach(function(e,o){t[++r]=[o,e]}),t}function at(e,r){return function(t){return e(r(t))}}function it(e,r){for(var t=-1,o=e.length,n=0,a=[];++t<o;){var i=e[t];i!==r&&i!==l||(e[t]=l,a[n++]=t)}return a}function lt(e){var r=-1,t=Array(e.size);return e.forEach(function(e){t[++r]=e}),t}function ct(e){return ot(e)?function(e){for(var r=Je.lastIndex=0;Je.test(e);)++r;return r}(e):Br(e)}function st(e){return ot(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function ut(e){for(var r=e.length;r--&&ne.test(e.charAt(r)););return r}var dt=Ur({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ft=function e(r){var t,o=(r=null==r?dr:ft.defaults(dr.Object(),r,ft.pick(dr,tr))).Array,ne=r.Date,_e=r.Error,ke=r.Function,xe=r.Math,Pe=r.Object,Se=r.RegExp,Me=r.String,Ie=r.TypeError,Ce=o.prototype,Ae=ke.prototype,Oe=Pe.prototype,Fe=r["__core-js_shared__"],We=Ae.toString,ze=Oe.hasOwnProperty,Te=0,De=(t=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",Be=Oe.toString,Re=We.call(Pe),Ee=dr._,je=Se("^"+We.call(ze).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=gr?r.Buffer:n,Ne=r.Symbol,Ge=r.Uint8Array,Le=$e?$e.allocUnsafe:n,Ue=at(Pe.getPrototypeOf,Pe),Ve=Pe.create,qe=Oe.propertyIsEnumerable,He=Ce.splice,Ke=Ne?Ne.isConcatSpreadable:n,Ze=Ne?Ne.iterator:n,Je=Ne?Ne.toStringTag:n,er=function(){try{var e=ca(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),ir=r.clearTimeout!==dr.clearTimeout&&r.clearTimeout,sr=ne&&ne.now!==dr.Date.now&&ne.now,ur=r.setTimeout!==dr.setTimeout&&r.setTimeout,fr=xe.ceil,pr=xe.floor,hr=Pe.getOwnPropertySymbols,br=$e?$e.isBuffer:n,Br=r.isFinite,Ur=Ce.join,pt=at(Pe.keys,Pe),gt=xe.max,ht=xe.min,bt=ne.now,vt=r.parseInt,mt=xe.random,yt=Ce.reverse,wt=ca(r,"DataView"),_t=ca(r,"Map"),kt=ca(r,"Promise"),xt=ca(r,"Set"),Pt=ca(r,"WeakMap"),St=ca(Pe,"create"),Mt=Pt&&new Pt,It={},Ct=Ba(wt),At=Ba(_t),Ot=Ba(kt),Ft=Ba(xt),Wt=Ba(Pt),zt=Ne?Ne.prototype:n,Tt=zt?zt.valueOf:n,Dt=zt?zt.toString:n;function Bt(e){if(Xi(e)&&!Gi(e)&&!(e instanceof $t)){if(e instanceof jt)return e;if(ze.call(e,"__wrapped__"))return Ra(e)}return new jt(e)}var Rt=function(){function e(){}return function(r){if(!Ji(r))return{};if(Ve)return Ve(r);e.prototype=r;var t=new e;return e.prototype=n,t}}();function Et(){}function jt(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=n}function $t(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Nt(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}function Gt(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}function Lt(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}function Ut(e){var r=-1,t=null==e?0:e.length;for(this.__data__=new Lt;++r<t;)this.add(e[r])}function Vt(e){var r=this.__data__=new Gt(e);this.size=r.size}function qt(e,r){var t=Gi(e),o=!t&&Ni(e),n=!t&&!o&&qi(e),a=!t&&!o&&!n&&ll(e),i=t||o||n||a,l=i?Hr(e.length,Me):[],c=l.length;for(var s in e)!r&&!ze.call(e,s)||i&&("length"==s||n&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ha(s,c))||l.push(s);return l}function Ht(e){var r=e.length;return r?e[Uo(0,r-1)]:n}function Kt(e,r){return Fa(Mn(e),oo(r,0,e.length))}function Zt(e){return Fa(Mn(e))}function Yt(e,r,t){(t!==n&&!Ei(e[r],t)||t===n&&!(r in e))&&ro(e,r,t)}function Qt(e,r,t){var o=e[r];ze.call(e,r)&&Ei(o,t)&&(t!==n||r in e)||ro(e,r,t)}function Jt(e,r){for(var t=e.length;t--;)if(Ei(e[t][0],r))return t;return-1}function Xt(e,r,t,o){return co(e,function(e,n,a){r(o,e,t(e),a)}),o}function eo(e,r){return e&&In(r,Al(r),e)}function ro(e,r,t){"__proto__"==r&&er?er(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function to(e,r){for(var t=-1,a=r.length,i=o(a),l=null==e;++t<a;)i[t]=l?n:Pl(e,r[t]);return i}function oo(e,r,t){return e==e&&(t!==n&&(e=e<=t?e:t),r!==n&&(e=e>=r?e:r)),e}function no(e,r,t,o,a,i){var l,c=1&r,s=2&r,u=4&r;if(t&&(l=a?t(e,o,a,i):t(e)),l!==n)return l;if(!Ji(e))return e;var d=Gi(e);if(d){if(l=function(e){var r=e.length,t=new e.constructor(r);return r&&"string"==typeof e[0]&&ze.call(e,"index")&&(t.index=e.index,t.input=e.input),t}(e),!c)return Mn(e,l)}else{var f=da(e),p=f==w||f==_;if(qi(e))return wn(e,c);if(f==P||f==h||p&&!a){if(l=s||p?{}:pa(e),!c)return s?function(e,r){return In(e,ua(e),r)}(e,function(e,r){return e&&In(r,Ol(r),e)}(l,e)):function(e,r){return In(e,sa(e),r)}(e,eo(l,e))}else{if(!ar[f])return a?e:{};l=function(e,r,t){var o,n=e.constructor;switch(r){case F:return _n(e);case v:case m:return new n(+e);case W:return function(e,r){var t=r?_n(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,t);case z:case T:case D:case B:case R:case E:case j:case $:case N:return kn(e,t);case k:return new n;case x:case C:return new n(e);case M:return function(e){var r=new e.constructor(e.source,fe.exec(e));return r.lastIndex=e.lastIndex,r}(e);case I:return new n;case A:return o=e,Tt?Pe(Tt.call(o)):{}}}(e,f,c)}}i||(i=new Vt);var g=i.get(e);if(g)return g;i.set(e,l),nl(e)?e.forEach(function(o){l.add(no(o,r,t,o,e,i))}):el(e)&&e.forEach(function(o,n){l.set(n,no(o,r,t,n,e,i))});var b=d?n:(u?s?ra:ea:s?Ol:Al)(e);return Sr(b||e,function(o,n){b&&(o=e[n=o]),Qt(l,n,no(o,r,t,n,e,i))}),l}function ao(e,r,t){var o=t.length;if(null==e)return!o;for(e=Pe(e);o--;){var a=t[o],i=r[a],l=e[a];if(l===n&&!(a in e)||!i(l))return!1}return!0}function io(e,r,t){if("function"!=typeof e)throw new Ie(a);return Ia(function(){e.apply(n,t)},r)}function lo(e,r,t,o){var n=-1,a=Ar,i=!0,l=e.length,c=[],s=r.length;if(!l)return c;t&&(r=Fr(r,Zr(t))),o?(a=Or,i=!1):r.length>=200&&(a=Qr,i=!1,r=new Ut(r));e:for(;++n<l;){var u=e[n],d=null==t?u:t(u);if(u=o||0!==u?u:0,i&&d==d){for(var f=s;f--;)if(r[f]===d)continue e;c.push(u)}else a(r,d,o)||c.push(u)}return c}Bt.templateSettings={escape:Z,evaluate:Y,interpolate:Q,variable:"",imports:{_:Bt}},Bt.prototype=Et.prototype,Bt.prototype.constructor=Bt,jt.prototype=Rt(Et.prototype),jt.prototype.constructor=jt,$t.prototype=Rt(Et.prototype),$t.prototype.constructor=$t,Nt.prototype.clear=function(){this.__data__=St?St(null):{},this.size=0},Nt.prototype.delete=function(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},Nt.prototype.get=function(e){var r=this.__data__;if(St){var t=r[e];return t===i?n:t}return ze.call(r,e)?r[e]:n},Nt.prototype.has=function(e){var r=this.__data__;return St?r[e]!==n:ze.call(r,e)},Nt.prototype.set=function(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=St&&r===n?i:r,this},Gt.prototype.clear=function(){this.__data__=[],this.size=0},Gt.prototype.delete=function(e){var r=this.__data__,t=Jt(r,e);return!(t<0||(t==r.length-1?r.pop():He.call(r,t,1),--this.size,0))},Gt.prototype.get=function(e){var r=this.__data__,t=Jt(r,e);return t<0?n:r[t][1]},Gt.prototype.has=function(e){return Jt(this.__data__,e)>-1},Gt.prototype.set=function(e,r){var t=this.__data__,o=Jt(t,e);return o<0?(++this.size,t.push([e,r])):t[o][1]=r,this},Lt.prototype.clear=function(){this.size=0,this.__data__={hash:new Nt,map:new(_t||Gt),string:new Nt}},Lt.prototype.delete=function(e){var r=ia(this,e).delete(e);return this.size-=r?1:0,r},Lt.prototype.get=function(e){return ia(this,e).get(e)},Lt.prototype.has=function(e){return ia(this,e).has(e)},Lt.prototype.set=function(e,r){var t=ia(this,e),o=t.size;return t.set(e,r),this.size+=t.size==o?0:1,this},Ut.prototype.add=Ut.prototype.push=function(e){return this.__data__.set(e,i),this},Ut.prototype.has=function(e){return this.__data__.has(e)},Vt.prototype.clear=function(){this.__data__=new Gt,this.size=0},Vt.prototype.delete=function(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t},Vt.prototype.get=function(e){return this.__data__.get(e)},Vt.prototype.has=function(e){return this.__data__.has(e)},Vt.prototype.set=function(e,r){var t=this.__data__;if(t instanceof Gt){var o=t.__data__;if(!_t||o.length<199)return o.push([e,r]),this.size=++t.size,this;t=this.__data__=new Lt(o)}return t.set(e,r),this.size=t.size,this};var co=On(vo),so=On(mo,!0);function uo(e,r){var t=!0;return co(e,function(e,o,n){return t=!!r(e,o,n)}),t}function fo(e,r,t){for(var o=-1,a=e.length;++o<a;){var i=e[o],l=r(i);if(null!=l&&(c===n?l==l&&!il(l):t(l,c)))var c=l,s=i}return s}function po(e,r){var t=[];return co(e,function(e,o,n){r(e,o,n)&&t.push(e)}),t}function go(e,r,t,o,n){var a=-1,i=e.length;for(t||(t=ga),n||(n=[]);++a<i;){var l=e[a];r>0&&t(l)?r>1?go(l,r-1,t,o,n):Wr(n,l):o||(n[n.length]=l)}return n}var ho=Fn(),bo=Fn(!0);function vo(e,r){return e&&ho(e,r,Al)}function mo(e,r){return e&&bo(e,r,Al)}function yo(e,r){return Cr(r,function(r){return Zi(e[r])})}function wo(e,r){for(var t=0,o=(r=bn(r,e)).length;null!=e&&t<o;)e=e[Da(r[t++])];return t&&t==o?e:n}function _o(e,r,t){var o=r(e);return Gi(e)?o:Wr(o,t(e))}function ko(e){return null==e?e===n?"[object Undefined]":"[object Null]":Je&&Je in Pe(e)?function(e){var r=ze.call(e,Je),t=e[Je];try{e[Je]=n;var o=!0}catch(e){}var a=Be.call(e);return o&&(r?e[Je]=t:delete e[Je]),a}(e):function(e){return Be.call(e)}(e)}function xo(e,r){return e>r}function Po(e,r){return null!=e&&ze.call(e,r)}function So(e,r){return null!=e&&r in Pe(e)}function Mo(e,r,t){for(var a=t?Or:Ar,i=e[0].length,l=e.length,c=l,s=o(l),u=1/0,d=[];c--;){var f=e[c];c&&r&&(f=Fr(f,Zr(r))),u=ht(f.length,u),s[c]=!t&&(r||i>=120&&f.length>=120)?new Ut(c&&f):n}f=e[0];var p=-1,g=s[0];e:for(;++p<i&&d.length<u;){var h=f[p],b=r?r(h):h;if(h=t||0!==h?h:0,!(g?Qr(g,b):a(d,b,t))){for(c=l;--c;){var v=s[c];if(!(v?Qr(v,b):a(e[c],b,t)))continue e}g&&g.push(b),d.push(h)}}return d}function Io(e,r,t){var o=null==(e=Pa(e,r=bn(r,e)))?e:e[Da(Ka(r))];return null==o?n:xr(o,e,t)}function Co(e){return Xi(e)&&ko(e)==h}function Ao(e,r,t,o,a){return e===r||(null==e||null==r||!Xi(e)&&!Xi(r)?e!=e&&r!=r:function(e,r,t,o,a,i){var l=Gi(e),c=Gi(r),s=l?b:da(e),u=c?b:da(r),d=(s=s==h?P:s)==P,f=(u=u==h?P:u)==P,p=s==u;if(p&&qi(e)){if(!qi(r))return!1;l=!0,d=!1}if(p&&!d)return i||(i=new Vt),l||ll(e)?Jn(e,r,t,o,a,i):function(e,r,t,o,n,a,i){switch(t){case W:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case F:return!(e.byteLength!=r.byteLength||!a(new Ge(e),new Ge(r)));case v:case m:case x:return Ei(+e,+r);case y:return e.name==r.name&&e.message==r.message;case M:case C:return e==r+"";case k:var l=nt;case I:var c=1&o;if(l||(l=lt),e.size!=r.size&&!c)return!1;var s=i.get(e);if(s)return s==r;o|=2,i.set(e,r);var u=Jn(l(e),l(r),o,n,a,i);return i.delete(e),u;case A:if(Tt)return Tt.call(e)==Tt.call(r)}return!1}(e,r,s,t,o,a,i);if(!(1&t)){var g=d&&ze.call(e,"__wrapped__"),w=f&&ze.call(r,"__wrapped__");if(g||w){var _=g?e.value():e,S=w?r.value():r;return i||(i=new Vt),a(_,S,t,o,i)}}return!!p&&(i||(i=new Vt),function(e,r,t,o,a,i){var l=1&t,c=ea(e),s=c.length;if(s!=ea(r).length&&!l)return!1;for(var u=s;u--;){var d=c[u];if(!(l?d in r:ze.call(r,d)))return!1}var f=i.get(e),p=i.get(r);if(f&&p)return f==r&&p==e;var g=!0;i.set(e,r),i.set(r,e);for(var h=l;++u<s;){var b=e[d=c[u]],v=r[d];if(o)var m=l?o(v,b,d,r,e,i):o(b,v,d,e,r,i);if(!(m===n?b===v||a(b,v,t,o,i):m)){g=!1;break}h||(h="constructor"==d)}if(g&&!h){var y=e.constructor,w=r.constructor;y==w||!("constructor"in e)||!("constructor"in r)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(g=!1)}return i.delete(e),i.delete(r),g}(e,r,t,o,a,i))}(e,r,t,o,Ao,a))}function Oo(e,r,t,o){var a=t.length,i=a,l=!o;if(null==e)return!i;for(e=Pe(e);a--;){var c=t[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<i;){var s=(c=t[a])[0],u=e[s],d=c[1];if(l&&c[2]){if(u===n&&!(s in e))return!1}else{var f=new Vt;if(o)var p=o(u,d,s,e,r,f);if(!(p===n?Ao(d,u,3,o,f):p))return!1}}return!0}function Fo(e){return!(!Ji(e)||(r=e,De&&De in r))&&(Zi(e)?je:he).test(Ba(e));// removed by dead control flow
 var r; }function Wo(e){return"function"==typeof e?e:null==e?rc:"object"==typeof e?Gi(e)?Ro(e[0],e[1]):Bo(e):uc(e)}function zo(e){if(!wa(e))return pt(e);var r=[];for(var t in Pe(e))ze.call(e,t)&&"constructor"!=t&&r.push(t);return r}function To(e,r){return e<r}function Do(e,r){var t=-1,n=Ui(e)?o(e.length):[];return co(e,function(e,o,a){n[++t]=r(e,o,a)}),n}function Bo(e){var r=la(e);return 1==r.length&&r[0][2]?ka(r[0][0],r[0][1]):function(t){return t===e||Oo(t,e,r)}}function Ro(e,r){return va(e)&&_a(r)?ka(Da(e),r):function(t){var o=Pl(t,e);return o===n&&o===r?Sl(t,e):Ao(r,o,3)}}function Eo(e,r,t,o,a){e!==r&&ho(r,function(i,l){if(a||(a=new Vt),Ji(i))!function(e,r,t,o,a,i,l){var c=Sa(e,t),s=Sa(r,t),u=l.get(s);if(u)Yt(e,t,u);else{var d=i?i(c,s,t+"",e,r,l):n,f=d===n;if(f){var p=Gi(s),g=!p&&qi(s),h=!p&&!g&&ll(s);d=s,p||g||h?Gi(c)?d=c:Vi(c)?d=Mn(c):g?(f=!1,d=wn(s,!0)):h?(f=!1,d=kn(s,!0)):d=[]:tl(s)||Ni(s)?(d=c,Ni(c)?d=hl(c):Ji(c)&&!Zi(c)||(d=pa(s))):f=!1}f&&(l.set(s,d),a(d,s,o,i,l),l.delete(s)),Yt(e,t,d)}}(e,r,l,t,Eo,o,a);else{var c=o?o(Sa(e,l),i,l+"",e,r,a):n;c===n&&(c=i),Yt(e,l,c)}},Ol)}function jo(e,r){var t=e.length;if(t)return ha(r+=r<0?t:0,t)?e[r]:n}function $o(e,r,t){r=r.length?Fr(r,function(e){return Gi(e)?function(r){return wo(r,1===e.length?e[0]:e)}:e}):[rc];var o=-1;r=Fr(r,Zr(aa()));var n=Do(e,function(e,t,n){var a=Fr(r,function(r){return r(e)});return{criteria:a,index:++o,value:e}});return function(e){var r=e.length;for(e.sort(function(e,r){return function(e,r,t){for(var o=-1,n=e.criteria,a=r.criteria,i=n.length,l=t.length;++o<i;){var c=xn(n[o],a[o]);if(c)return o>=l?c:c*("desc"==t[o]?-1:1)}return e.index-r.index}(e,r,t)});r--;)e[r]=e[r].value;return e}(n)}function No(e,r,t){for(var o=-1,n=r.length,a={};++o<n;){var i=r[o],l=wo(e,i);t(l,i)&&Zo(a,bn(i,e),l)}return a}function Go(e,r,t,o){var n=o?$r:jr,a=-1,i=r.length,l=e;for(e===r&&(r=Mn(r)),t&&(l=Fr(e,Zr(t)));++a<i;)for(var c=0,s=r[a],u=t?t(s):s;(c=n(l,u,c,o))>-1;)l!==e&&He.call(l,c,1),He.call(e,c,1);return e}function Lo(e,r){for(var t=e?r.length:0,o=t-1;t--;){var n=r[t];if(t==o||n!==a){var a=n;ha(n)?He.call(e,n,1):cn(e,n)}}return e}function Uo(e,r){return e+pr(mt()*(r-e+1))}function Vo(e,r){var t="";if(!e||r<1||r>d)return t;do{r%2&&(t+=e),(r=pr(r/2))&&(e+=e)}while(r);return t}function qo(e,r){return Ca(xa(e,r,rc),e+"")}function Ho(e){return Ht(El(e))}function Ko(e,r){var t=El(e);return Fa(t,oo(r,0,t.length))}function Zo(e,r,t,o){if(!Ji(e))return e;for(var a=-1,i=(r=bn(r,e)).length,l=i-1,c=e;null!=c&&++a<i;){var s=Da(r[a]),u=t;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(a!=l){var d=c[s];(u=o?o(d,s,c):n)===n&&(u=Ji(d)?d:ha(r[a+1])?[]:{})}Qt(c,s,u),c=c[s]}return e}var Yo=Mt?function(e,r){return Mt.set(e,r),e}:rc,Qo=er?function(e,r){return er(e,"toString",{configurable:!0,enumerable:!1,value:Jl(r),writable:!0})}:rc;function Jo(e){return Fa(El(e))}function Xo(e,r,t){var n=-1,a=e.length;r<0&&(r=-r>a?0:a+r),(t=t>a?a:t)<0&&(t+=a),a=r>t?0:t-r>>>0,r>>>=0;for(var i=o(a);++n<a;)i[n]=e[n+r];return i}function en(e,r){var t;return co(e,function(e,o,n){return!(t=r(e,o,n))}),!!t}function rn(e,r,t){var o=0,n=null==e?o:e.length;if("number"==typeof r&&r==r&&n<=2147483647){for(;o<n;){var a=o+n>>>1,i=e[a];null!==i&&!il(i)&&(t?i<=r:i<r)?o=a+1:n=a}return n}return tn(e,r,rc,t)}function tn(e,r,t,o){var a=0,i=null==e?0:e.length;if(0===i)return 0;for(var l=(r=t(r))!=r,c=null===r,s=il(r),u=r===n;a<i;){var d=pr((a+i)/2),f=t(e[d]),p=f!==n,g=null===f,h=f==f,b=il(f);if(l)var v=o||h;else v=u?h&&(o||p):c?h&&p&&(o||!g):s?h&&p&&!g&&(o||!b):!g&&!b&&(o?f<=r:f<r);v?a=d+1:i=d}return ht(i,4294967294)}function on(e,r){for(var t=-1,o=e.length,n=0,a=[];++t<o;){var i=e[t],l=r?r(i):i;if(!t||!Ei(l,c)){var c=l;a[n++]=0===i?0:i}}return a}function nn(e){return"number"==typeof e?e:il(e)?f:+e}function an(e){if("string"==typeof e)return e;if(Gi(e))return Fr(e,an)+"";if(il(e))return Dt?Dt.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}function ln(e,r,t){var o=-1,n=Ar,a=e.length,i=!0,l=[],c=l;if(t)i=!1,n=Or;else if(a>=200){var s=r?null:qn(e);if(s)return lt(s);i=!1,n=Qr,c=new Ut}else c=r?[]:l;e:for(;++o<a;){var u=e[o],d=r?r(u):u;if(u=t||0!==u?u:0,i&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;r&&c.push(d),l.push(u)}else n(c,d,t)||(c!==l&&c.push(d),l.push(u))}return l}function cn(e,r){return null==(e=Pa(e,r=bn(r,e)))||delete e[Da(Ka(r))]}function sn(e,r,t,o){return Zo(e,r,t(wo(e,r)),o)}function un(e,r,t,o){for(var n=e.length,a=o?n:-1;(o?a--:++a<n)&&r(e[a],a,e););return t?Xo(e,o?0:a,o?a+1:n):Xo(e,o?a+1:0,o?n:a)}function dn(e,r){var t=e;return t instanceof $t&&(t=t.value()),zr(r,function(e,r){return r.func.apply(r.thisArg,Wr([e],r.args))},t)}function fn(e,r,t){var n=e.length;if(n<2)return n?ln(e[0]):[];for(var a=-1,i=o(n);++a<n;)for(var l=e[a],c=-1;++c<n;)c!=a&&(i[a]=lo(i[a]||l,e[c],r,t));return ln(go(i,1),r,t)}function pn(e,r,t){for(var o=-1,a=e.length,i=r.length,l={};++o<a;){var c=o<i?r[o]:n;t(l,e[o],c)}return l}function gn(e){return Vi(e)?e:[]}function hn(e){return"function"==typeof e?e:rc}function bn(e,r){return Gi(e)?e:va(e,r)?[e]:Ta(bl(e))}var vn=qo;function mn(e,r,t){var o=e.length;return t=t===n?o:t,!r&&t>=o?e:Xo(e,r,t)}var yn=ir||function(e){return dr.clearTimeout(e)};function wn(e,r){if(r)return e.slice();var t=e.length,o=Le?Le(t):new e.constructor(t);return e.copy(o),o}function _n(e){var r=new e.constructor(e.byteLength);return new Ge(r).set(new Ge(e)),r}function kn(e,r){var t=r?_n(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function xn(e,r){if(e!==r){var t=e!==n,o=null===e,a=e==e,i=il(e),l=r!==n,c=null===r,s=r==r,u=il(r);if(!c&&!u&&!i&&e>r||i&&l&&s&&!c&&!u||o&&l&&s||!t&&s||!a)return 1;if(!o&&!i&&!u&&e<r||u&&t&&a&&!o&&!i||c&&t&&a||!l&&a||!s)return-1}return 0}function Pn(e,r,t,n){for(var a=-1,i=e.length,l=t.length,c=-1,s=r.length,u=gt(i-l,0),d=o(s+u),f=!n;++c<s;)d[c]=r[c];for(;++a<l;)(f||a<i)&&(d[t[a]]=e[a]);for(;u--;)d[c++]=e[a++];return d}function Sn(e,r,t,n){for(var a=-1,i=e.length,l=-1,c=t.length,s=-1,u=r.length,d=gt(i-c,0),f=o(d+u),p=!n;++a<d;)f[a]=e[a];for(var g=a;++s<u;)f[g+s]=r[s];for(;++l<c;)(p||a<i)&&(f[g+t[l]]=e[a++]);return f}function Mn(e,r){var t=-1,n=e.length;for(r||(r=o(n));++t<n;)r[t]=e[t];return r}function In(e,r,t,o){var a=!t;t||(t={});for(var i=-1,l=r.length;++i<l;){var c=r[i],s=o?o(t[c],e[c],c,t,e):n;s===n&&(s=e[c]),a?ro(t,c,s):Qt(t,c,s)}return t}function Cn(e,r){return function(t,o){var n=Gi(t)?Pr:Xt,a=r?r():{};return n(t,e,aa(o,2),a)}}function An(e){return qo(function(r,t){var o=-1,a=t.length,i=a>1?t[a-1]:n,l=a>2?t[2]:n;for(i=e.length>3&&"function"==typeof i?(a--,i):n,l&&ba(t[0],t[1],l)&&(i=a<3?n:i,a=1),r=Pe(r);++o<a;){var c=t[o];c&&e(r,c,o,i)}return r})}function On(e,r){return function(t,o){if(null==t)return t;if(!Ui(t))return e(t,o);for(var n=t.length,a=r?n:-1,i=Pe(t);(r?a--:++a<n)&&!1!==o(i[a],a,i););return t}}function Fn(e){return function(r,t,o){for(var n=-1,a=Pe(r),i=o(r),l=i.length;l--;){var c=i[e?l:++n];if(!1===t(a[c],c,a))break}return r}}function Wn(e){return function(r){var t=ot(r=bl(r))?st(r):n,o=t?t[0]:r.charAt(0),a=t?mn(t,1).join(""):r.slice(1);return o[e]()+a}}function zn(e){return function(r){return zr(Zl(Nl(r).replace(Ye,"")),e,"")}}function Tn(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=Rt(e.prototype),o=e.apply(t,r);return Ji(o)?o:t}}function Dn(e){return function(r,t,o){var a=Pe(r);if(!Ui(r)){var i=aa(t,3);r=Al(r),t=function(e){return i(a[e],e,a)}}var l=e(r,t,o);return l>-1?a[i?r[l]:l]:n}}function Bn(e){return Xn(function(r){var t=r.length,o=t,i=jt.prototype.thru;for(e&&r.reverse();o--;){var l=r[o];if("function"!=typeof l)throw new Ie(a);if(i&&!c&&"wrapper"==oa(l))var c=new jt([],!0)}for(o=c?o:t;++o<t;){var s=oa(l=r[o]),u="wrapper"==s?ta(l):n;c=u&&ma(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[oa(u[0])].apply(c,u[3]):1==l.length&&ma(l)?c[s]():c.thru(l)}return function(){var e=arguments,o=e[0];if(c&&1==e.length&&Gi(o))return c.plant(o).value();for(var n=0,a=t?r[n].apply(this,e):o;++n<t;)a=r[n].call(this,a);return a}})}function Rn(e,r,t,a,i,l,c,u,d,f){var p=r&s,g=1&r,h=2&r,b=24&r,v=512&r,m=h?n:Tn(e);return function s(){for(var y=arguments.length,w=o(y),_=y;_--;)w[_]=arguments[_];if(b)var k=na(s),x=function(e,r){for(var t=e.length,o=0;t--;)e[t]===r&&++o;return o}(w,k);if(a&&(w=Pn(w,a,i,b)),l&&(w=Sn(w,l,c,b)),y-=x,b&&y<f){var P=it(w,k);return Un(e,r,Rn,s.placeholder,t,w,P,u,d,f-y)}var S=g?t:this,M=h?S[e]:e;return y=w.length,u?w=function(e,r){for(var t=e.length,o=ht(r.length,t),a=Mn(e);o--;){var i=r[o];e[o]=ha(i,t)?a[i]:n}return e}(w,u):v&&y>1&&w.reverse(),p&&d<y&&(w.length=d),this&&this!==dr&&this instanceof s&&(M=m||Tn(M)),M.apply(S,w)}}function En(e,r){return function(t,o){return function(e,r,t,o){return vo(e,function(e,n,a){r(o,t(e),n,a)}),o}(t,e,r(o),{})}}function jn(e,r){return function(t,o){var a;if(t===n&&o===n)return r;if(t!==n&&(a=t),o!==n){if(a===n)return o;"string"==typeof t||"string"==typeof o?(t=an(t),o=an(o)):(t=nn(t),o=nn(o)),a=e(t,o)}return a}}function $n(e){return Xn(function(r){return r=Fr(r,Zr(aa())),qo(function(t){var o=this;return e(r,function(e){return xr(e,o,t)})})})}function Nn(e,r){var t=(r=r===n?" ":an(r)).length;if(t<2)return t?Vo(r,e):r;var o=Vo(r,fr(e/ct(r)));return ot(r)?mn(st(o),0,e).join(""):o.slice(0,e)}function Gn(e){return function(r,t,a){return a&&"number"!=typeof a&&ba(r,t,a)&&(t=a=n),r=dl(r),t===n?(t=r,r=0):t=dl(t),function(e,r,t,n){for(var a=-1,i=gt(fr((r-e)/(t||1)),0),l=o(i);i--;)l[n?i:++a]=e,e+=t;return l}(r,t,a=a===n?r<t?1:-1:dl(a),e)}}function Ln(e){return function(r,t){return"string"==typeof r&&"string"==typeof t||(r=gl(r),t=gl(t)),e(r,t)}}function Un(e,r,t,o,a,i,l,s,u,d){var f=8&r;r|=f?c:64,4&(r&=~(f?64:c))||(r&=-4);var p=[e,r,a,f?i:n,f?l:n,f?n:i,f?n:l,s,u,d],g=t.apply(n,p);return ma(e)&&Ma(g,p),g.placeholder=o,Aa(g,e,r)}function Vn(e){var r=xe[e];return function(e,t){if(e=gl(e),(t=null==t?0:ht(fl(t),292))&&Br(e)){var o=(bl(e)+"e").split("e");return+((o=(bl(r(o[0]+"e"+(+o[1]+t)))+"e").split("e"))[0]+"e"+(+o[1]-t))}return r(e)}}var qn=xt&&1/lt(new xt([,-0]))[1]==u?function(e){return new xt(e)}:ic;function Hn(e){return function(r){var t=da(r);return t==k?nt(r):t==I?function(e){var r=-1,t=Array(e.size);return e.forEach(function(e){t[++r]=[e,e]}),t}(r):function(e,r){return Fr(r,function(r){return[r,e[r]]})}(r,e(r))}}function Kn(e,r,t,i,u,d,f,p){var g=2&r;if(!g&&"function"!=typeof e)throw new Ie(a);var h=i?i.length:0;if(h||(r&=-97,i=u=n),f=f===n?f:gt(fl(f),0),p=p===n?p:fl(p),h-=u?u.length:0,64&r){var b=i,v=u;i=u=n}var m=g?n:ta(e),y=[e,r,t,i,u,b,v,d,f,p];if(m&&function(e,r){var t=e[1],o=r[1],n=t|o,a=n<131,i=o==s&&8==t||o==s&&256==t&&e[7].length<=r[8]||384==o&&r[7].length<=r[8]&&8==t;if(!a&&!i)return e;1&o&&(e[2]=r[2],n|=1&t?0:4);var c=r[3];if(c){var u=e[3];e[3]=u?Pn(u,c,r[4]):c,e[4]=u?it(e[3],l):r[4]}(c=r[5])&&(u=e[5],e[5]=u?Sn(u,c,r[6]):c,e[6]=u?it(e[5],l):r[6]),(c=r[7])&&(e[7]=c),o&s&&(e[8]=null==e[8]?r[8]:ht(e[8],r[8])),null==e[9]&&(e[9]=r[9]),e[0]=r[0],e[1]=n}(y,m),e=y[0],r=y[1],t=y[2],i=y[3],u=y[4],!(p=y[9]=y[9]===n?g?0:e.length:gt(y[9]-h,0))&&24&r&&(r&=-25),r&&1!=r)w=8==r||16==r?function(e,r,t){var a=Tn(e);return function i(){for(var l=arguments.length,c=o(l),s=l,u=na(i);s--;)c[s]=arguments[s];var d=l<3&&c[0]!==u&&c[l-1]!==u?[]:it(c,u);return(l-=d.length)<t?Un(e,r,Rn,i.placeholder,n,c,d,n,n,t-l):xr(this&&this!==dr&&this instanceof i?a:e,this,c)}}(e,r,p):r!=c&&33!=r||u.length?Rn.apply(n,y):function(e,r,t,n){var a=1&r,i=Tn(e);return function r(){for(var l=-1,c=arguments.length,s=-1,u=n.length,d=o(u+c),f=this&&this!==dr&&this instanceof r?i:e;++s<u;)d[s]=n[s];for(;c--;)d[s++]=arguments[++l];return xr(f,a?t:this,d)}}(e,r,t,i);else var w=function(e,r,t){var o=1&r,n=Tn(e);return function r(){return(this&&this!==dr&&this instanceof r?n:e).apply(o?t:this,arguments)}}(e,r,t);return Aa((m?Yo:Ma)(w,y),e,r)}function Zn(e,r,t,o){return e===n||Ei(e,Oe[t])&&!ze.call(o,t)?r:e}function Yn(e,r,t,o,a,i){return Ji(e)&&Ji(r)&&(i.set(r,e),Eo(e,r,n,Yn,i),i.delete(r)),e}function Qn(e){return tl(e)?n:e}function Jn(e,r,t,o,a,i){var l=1&t,c=e.length,s=r.length;if(c!=s&&!(l&&s>c))return!1;var u=i.get(e),d=i.get(r);if(u&&d)return u==r&&d==e;var f=-1,p=!0,g=2&t?new Ut:n;for(i.set(e,r),i.set(r,e);++f<c;){var h=e[f],b=r[f];if(o)var v=l?o(b,h,f,r,e,i):o(h,b,f,e,r,i);if(v!==n){if(v)continue;p=!1;break}if(g){if(!Dr(r,function(e,r){if(!Qr(g,r)&&(h===e||a(h,e,t,o,i)))return g.push(r)})){p=!1;break}}else if(h!==b&&!a(h,b,t,o,i)){p=!1;break}}return i.delete(e),i.delete(r),p}function Xn(e){return Ca(xa(e,n,La),e+"")}function ea(e){return _o(e,Al,sa)}function ra(e){return _o(e,Ol,ua)}var ta=Mt?function(e){return Mt.get(e)}:ic;function oa(e){for(var r=e.name+"",t=It[r],o=ze.call(It,r)?t.length:0;o--;){var n=t[o],a=n.func;if(null==a||a==e)return n.name}return r}function na(e){return(ze.call(Bt,"placeholder")?Bt:e).placeholder}function aa(){var e=Bt.iteratee||tc;return e=e===tc?Wo:e,arguments.length?e(arguments[0],arguments[1]):e}function ia(e,r){var t,o,n=e.__data__;return("string"==(o=typeof(t=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==t:null===t)?n["string"==typeof r?"string":"hash"]:n.map}function la(e){for(var r=Al(e),t=r.length;t--;){var o=r[t],n=e[o];r[t]=[o,n,_a(n)]}return r}function ca(e,r){var t=function(e,r){return null==e?n:e[r]}(e,r);return Fo(t)?t:n}var sa=hr?function(e){return null==e?[]:(e=Pe(e),Cr(hr(e),function(r){return qe.call(e,r)}))}:pc,ua=hr?function(e){for(var r=[];e;)Wr(r,sa(e)),e=Ue(e);return r}:pc,da=ko;function fa(e,r,t){for(var o=-1,n=(r=bn(r,e)).length,a=!1;++o<n;){var i=Da(r[o]);if(!(a=null!=e&&t(e,i)))break;e=e[i]}return a||++o!=n?a:!!(n=null==e?0:e.length)&&Qi(n)&&ha(i,n)&&(Gi(e)||Ni(e))}function pa(e){return"function"!=typeof e.constructor||wa(e)?{}:Rt(Ue(e))}function ga(e){return Gi(e)||Ni(e)||!!(Ke&&e&&e[Ke])}function ha(e,r){var t=typeof e;return!!(r=null==r?d:r)&&("number"==t||"symbol"!=t&&ve.test(e))&&e>-1&&e%1==0&&e<r}function ba(e,r,t){if(!Ji(t))return!1;var o=typeof r;return!!("number"==o?Ui(t)&&ha(r,t.length):"string"==o&&r in t)&&Ei(t[r],e)}function va(e,r){if(Gi(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!il(e))||X.test(e)||!J.test(e)||null!=r&&e in Pe(r)}function ma(e){var r=oa(e),t=Bt[r];if("function"!=typeof t||!(r in $t.prototype))return!1;if(e===t)return!0;var o=ta(t);return!!o&&e===o[0]}(wt&&da(new wt(new ArrayBuffer(1)))!=W||_t&&da(new _t)!=k||kt&&da(kt.resolve())!=S||xt&&da(new xt)!=I||Pt&&da(new Pt)!=O)&&(da=function(e){var r=ko(e),t=r==P?e.constructor:n,o=t?Ba(t):"";if(o)switch(o){case Ct:return W;case At:return k;case Ot:return S;case Ft:return I;case Wt:return O}return r});var ya=Fe?Zi:gc;function wa(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||Oe)}function _a(e){return e==e&&!Ji(e)}function ka(e,r){return function(t){return null!=t&&t[e]===r&&(r!==n||e in Pe(t))}}function xa(e,r,t){return r=gt(r===n?e.length-1:r,0),function(){for(var n=arguments,a=-1,i=gt(n.length-r,0),l=o(i);++a<i;)l[a]=n[r+a];a=-1;for(var c=o(r+1);++a<r;)c[a]=n[a];return c[r]=t(l),xr(e,this,c)}}function Pa(e,r){return r.length<2?e:wo(e,Xo(r,0,-1))}function Sa(e,r){if(("constructor"!==r||"function"!=typeof e[r])&&"__proto__"!=r)return e[r]}var Ma=Oa(Yo),Ia=ur||function(e,r){return dr.setTimeout(e,r)},Ca=Oa(Qo);function Aa(e,r,t){var o=r+"";return Ca(e,function(e,r){var t=r.length;if(!t)return e;var o=t-1;return r[o]=(t>1?"& ":"")+r[o],r=r.join(t>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+r+"] */\n")}(o,function(e,r){return Sr(g,function(t){var o="_."+t[0];r&t[1]&&!Ar(e,o)&&e.push(o)}),e.sort()}(function(e){var r=e.match(ie);return r?r[1].split(le):[]}(o),t)))}function Oa(e){var r=0,t=0;return function(){var o=bt(),a=16-(o-t);if(t=o,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(n,arguments)}}function Fa(e,r){var t=-1,o=e.length,a=o-1;for(r=r===n?o:r;++t<r;){var i=Uo(t,a),l=e[i];e[i]=e[t],e[t]=l}return e.length=r,e}var Wa,za,Ta=(Wa=Wi(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(ee,function(e,t,o,n){r.push(o?n.replace(ue,"$1"):t||e)}),r},function(e){return 500===za.size&&za.clear(),e}),za=Wa.cache,Wa);function Da(e){if("string"==typeof e||il(e))return e;var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}function Ba(e){if(null!=e){try{return We.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ra(e){if(e instanceof $t)return e.clone();var r=new jt(e.__wrapped__,e.__chain__);return r.__actions__=Mn(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}var Ea=qo(function(e,r){return Vi(e)?lo(e,go(r,1,Vi,!0)):[]}),ja=qo(function(e,r){var t=Ka(r);return Vi(t)&&(t=n),Vi(e)?lo(e,go(r,1,Vi,!0),aa(t,2)):[]}),$a=qo(function(e,r){var t=Ka(r);return Vi(t)&&(t=n),Vi(e)?lo(e,go(r,1,Vi,!0),n,t):[]});function Na(e,r,t){var o=null==e?0:e.length;if(!o)return-1;var n=null==t?0:fl(t);return n<0&&(n=gt(o+n,0)),Er(e,aa(r,3),n)}function Ga(e,r,t){var o=null==e?0:e.length;if(!o)return-1;var a=o-1;return t!==n&&(a=fl(t),a=t<0?gt(o+a,0):ht(a,o-1)),Er(e,aa(r,3),a,!0)}function La(e){return null!=e&&e.length?go(e,1):[]}function Ua(e){return e&&e.length?e[0]:n}var Va=qo(function(e){var r=Fr(e,gn);return r.length&&r[0]===e[0]?Mo(r):[]}),qa=qo(function(e){var r=Ka(e),t=Fr(e,gn);return r===Ka(t)?r=n:t.pop(),t.length&&t[0]===e[0]?Mo(t,aa(r,2)):[]}),Ha=qo(function(e){var r=Ka(e),t=Fr(e,gn);return(r="function"==typeof r?r:n)&&t.pop(),t.length&&t[0]===e[0]?Mo(t,n,r):[]});function Ka(e){var r=null==e?0:e.length;return r?e[r-1]:n}var Za=qo(Ya);function Ya(e,r){return e&&e.length&&r&&r.length?Go(e,r):e}var Qa=Xn(function(e,r){var t=null==e?0:e.length,o=to(e,r);return Lo(e,Fr(r,function(e){return ha(e,t)?+e:e}).sort(xn)),o});function Ja(e){return null==e?e:yt.call(e)}var Xa=qo(function(e){return ln(go(e,1,Vi,!0))}),ei=qo(function(e){var r=Ka(e);return Vi(r)&&(r=n),ln(go(e,1,Vi,!0),aa(r,2))}),ri=qo(function(e){var r=Ka(e);return r="function"==typeof r?r:n,ln(go(e,1,Vi,!0),n,r)});function ti(e){if(!e||!e.length)return[];var r=0;return e=Cr(e,function(e){if(Vi(e))return r=gt(e.length,r),!0}),Hr(r,function(r){return Fr(e,Lr(r))})}function oi(e,r){if(!e||!e.length)return[];var t=ti(e);return null==r?t:Fr(t,function(e){return xr(r,n,e)})}var ni=qo(function(e,r){return Vi(e)?lo(e,r):[]}),ai=qo(function(e){return fn(Cr(e,Vi))}),ii=qo(function(e){var r=Ka(e);return Vi(r)&&(r=n),fn(Cr(e,Vi),aa(r,2))}),li=qo(function(e){var r=Ka(e);return r="function"==typeof r?r:n,fn(Cr(e,Vi),n,r)}),ci=qo(ti),si=qo(function(e){var r=e.length,t=r>1?e[r-1]:n;return t="function"==typeof t?(e.pop(),t):n,oi(e,t)});function ui(e){var r=Bt(e);return r.__chain__=!0,r}function di(e,r){return r(e)}var fi=Xn(function(e){var r=e.length,t=r?e[0]:0,o=this.__wrapped__,a=function(r){return to(r,e)};return!(r>1||this.__actions__.length)&&o instanceof $t&&ha(t)?((o=o.slice(t,+t+(r?1:0))).__actions__.push({func:di,args:[a],thisArg:n}),new jt(o,this.__chain__).thru(function(e){return r&&!e.length&&e.push(n),e})):this.thru(a)}),pi=Cn(function(e,r,t){ze.call(e,t)?++e[t]:ro(e,t,1)}),gi=Dn(Na),hi=Dn(Ga);function bi(e,r){return(Gi(e)?Sr:co)(e,aa(r,3))}function vi(e,r){return(Gi(e)?Mr:so)(e,aa(r,3))}var mi=Cn(function(e,r,t){ze.call(e,t)?e[t].push(r):ro(e,t,[r])}),yi=qo(function(e,r,t){var n=-1,a="function"==typeof r,i=Ui(e)?o(e.length):[];return co(e,function(e){i[++n]=a?xr(r,e,t):Io(e,r,t)}),i}),wi=Cn(function(e,r,t){ro(e,t,r)});function _i(e,r){return(Gi(e)?Fr:Do)(e,aa(r,3))}var ki=Cn(function(e,r,t){e[t?0:1].push(r)},function(){return[[],[]]}),xi=qo(function(e,r){if(null==e)return[];var t=r.length;return t>1&&ba(e,r[0],r[1])?r=[]:t>2&&ba(r[0],r[1],r[2])&&(r=[r[0]]),$o(e,go(r,1),[])}),Pi=sr||function(){return dr.Date.now()};function Si(e,r,t){return r=t?n:r,r=e&&null==r?e.length:r,Kn(e,s,n,n,n,n,r)}function Mi(e,r){var t;if("function"!=typeof r)throw new Ie(a);return e=fl(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=n),t}}var Ii=qo(function(e,r,t){var o=1;if(t.length){var n=it(t,na(Ii));o|=c}return Kn(e,o,r,t,n)}),Ci=qo(function(e,r,t){var o=3;if(t.length){var n=it(t,na(Ci));o|=c}return Kn(r,o,e,t,n)});function Ai(e,r,t){var o,i,l,c,s,u,d=0,f=!1,p=!1,g=!0;if("function"!=typeof e)throw new Ie(a);function h(r){var t=o,a=i;return o=i=n,d=r,c=e.apply(a,t)}function b(e){var t=e-u;return u===n||t>=r||t<0||p&&e-d>=l}function v(){var e=Pi();if(b(e))return m(e);s=Ia(v,function(e){var t=r-(e-u);return p?ht(t,l-(e-d)):t}(e))}function m(e){return s=n,g&&o?h(e):(o=i=n,c)}function y(){var e=Pi(),t=b(e);if(o=arguments,i=this,u=e,t){if(s===n)return function(e){return d=e,s=Ia(v,r),f?h(e):c}(u);if(p)return yn(s),s=Ia(v,r),h(u)}return s===n&&(s=Ia(v,r)),c}return r=gl(r)||0,Ji(t)&&(f=!!t.leading,l=(p="maxWait"in t)?gt(gl(t.maxWait)||0,r):l,g="trailing"in t?!!t.trailing:g),y.cancel=function(){s!==n&&yn(s),d=0,o=u=i=s=n},y.flush=function(){return s===n?c:m(Pi())},y}var Oi=qo(function(e,r){return io(e,1,r)}),Fi=qo(function(e,r,t){return io(e,gl(r)||0,t)});function Wi(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new Ie(a);var t=function(){var o=arguments,n=r?r.apply(this,o):o[0],a=t.cache;if(a.has(n))return a.get(n);var i=e.apply(this,o);return t.cache=a.set(n,i)||a,i};return t.cache=new(Wi.Cache||Lt),t}function zi(e){if("function"!=typeof e)throw new Ie(a);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}Wi.Cache=Lt;var Ti=vn(function(e,r){var t=(r=1==r.length&&Gi(r[0])?Fr(r[0],Zr(aa())):Fr(go(r,1),Zr(aa()))).length;return qo(function(o){for(var n=-1,a=ht(o.length,t);++n<a;)o[n]=r[n].call(this,o[n]);return xr(e,this,o)})}),Di=qo(function(e,r){var t=it(r,na(Di));return Kn(e,c,n,r,t)}),Bi=qo(function(e,r){var t=it(r,na(Bi));return Kn(e,64,n,r,t)}),Ri=Xn(function(e,r){return Kn(e,256,n,n,n,r)});function Ei(e,r){return e===r||e!=e&&r!=r}var ji=Ln(xo),$i=Ln(function(e,r){return e>=r}),Ni=Co(function(){return arguments}())?Co:function(e){return Xi(e)&&ze.call(e,"callee")&&!qe.call(e,"callee")},Gi=o.isArray,Li=vr?Zr(vr):function(e){return Xi(e)&&ko(e)==F};function Ui(e){return null!=e&&Qi(e.length)&&!Zi(e)}function Vi(e){return Xi(e)&&Ui(e)}var qi=br||gc,Hi=mr?Zr(mr):function(e){return Xi(e)&&ko(e)==m};function Ki(e){if(!Xi(e))return!1;var r=ko(e);return r==y||"[object DOMException]"==r||"string"==typeof e.message&&"string"==typeof e.name&&!tl(e)}function Zi(e){if(!Ji(e))return!1;var r=ko(e);return r==w||r==_||"[object AsyncFunction]"==r||"[object Proxy]"==r}function Yi(e){return"number"==typeof e&&e==fl(e)}function Qi(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Ji(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}function Xi(e){return null!=e&&"object"==typeof e}var el=yr?Zr(yr):function(e){return Xi(e)&&da(e)==k};function rl(e){return"number"==typeof e||Xi(e)&&ko(e)==x}function tl(e){if(!Xi(e)||ko(e)!=P)return!1;var r=Ue(e);if(null===r)return!0;var t=ze.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&We.call(t)==Re}var ol=wr?Zr(wr):function(e){return Xi(e)&&ko(e)==M},nl=_r?Zr(_r):function(e){return Xi(e)&&da(e)==I};function al(e){return"string"==typeof e||!Gi(e)&&Xi(e)&&ko(e)==C}function il(e){return"symbol"==typeof e||Xi(e)&&ko(e)==A}var ll=kr?Zr(kr):function(e){return Xi(e)&&Qi(e.length)&&!!nr[ko(e)]},cl=Ln(To),sl=Ln(function(e,r){return e<=r});function ul(e){if(!e)return[];if(Ui(e))return al(e)?st(e):Mn(e);if(Ze&&e[Ze])return function(e){for(var r,t=[];!(r=e.next()).done;)t.push(r.value);return t}(e[Ze]());var r=da(e);return(r==k?nt:r==I?lt:El)(e)}function dl(e){return e?(e=gl(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fl(e){var r=dl(e),t=r%1;return r==r?t?r-t:r:0}function pl(e){return e?oo(fl(e),0,p):0}function gl(e){if("number"==typeof e)return e;if(il(e))return f;if(Ji(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=Ji(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=Kr(e);var t=ge.test(e);return t||be.test(e)?cr(e.slice(2),t?2:8):pe.test(e)?f:+e}function hl(e){return In(e,Ol(e))}function bl(e){return null==e?"":an(e)}var vl=An(function(e,r){if(wa(r)||Ui(r))In(r,Al(r),e);else for(var t in r)ze.call(r,t)&&Qt(e,t,r[t])}),ml=An(function(e,r){In(r,Ol(r),e)}),yl=An(function(e,r,t,o){In(r,Ol(r),e,o)}),wl=An(function(e,r,t,o){In(r,Al(r),e,o)}),_l=Xn(to),kl=qo(function(e,r){e=Pe(e);var t=-1,o=r.length,a=o>2?r[2]:n;for(a&&ba(r[0],r[1],a)&&(o=1);++t<o;)for(var i=r[t],l=Ol(i),c=-1,s=l.length;++c<s;){var u=l[c],d=e[u];(d===n||Ei(d,Oe[u])&&!ze.call(e,u))&&(e[u]=i[u])}return e}),xl=qo(function(e){return e.push(n,Yn),xr(Wl,n,e)});function Pl(e,r,t){var o=null==e?n:wo(e,r);return o===n?t:o}function Sl(e,r){return null!=e&&fa(e,r,So)}var Ml=En(function(e,r,t){null!=r&&"function"!=typeof r.toString&&(r=Be.call(r)),e[r]=t},Jl(rc)),Il=En(function(e,r,t){null!=r&&"function"!=typeof r.toString&&(r=Be.call(r)),ze.call(e,r)?e[r].push(t):e[r]=[t]},aa),Cl=qo(Io);function Al(e){return Ui(e)?qt(e):zo(e)}function Ol(e){return Ui(e)?qt(e,!0):function(e){if(!Ji(e))return function(e){var r=[];if(null!=e)for(var t in Pe(e))r.push(t);return r}(e);var r=wa(e),t=[];for(var o in e)("constructor"!=o||!r&&ze.call(e,o))&&t.push(o);return t}(e)}var Fl=An(function(e,r,t){Eo(e,r,t)}),Wl=An(function(e,r,t,o){Eo(e,r,t,o)}),zl=Xn(function(e,r){var t={};if(null==e)return t;var o=!1;r=Fr(r,function(r){return r=bn(r,e),o||(o=r.length>1),r}),In(e,ra(e),t),o&&(t=no(t,7,Qn));for(var n=r.length;n--;)cn(t,r[n]);return t}),Tl=Xn(function(e,r){return null==e?{}:function(e,r){return No(e,r,function(r,t){return Sl(e,t)})}(e,r)});function Dl(e,r){if(null==e)return{};var t=Fr(ra(e),function(e){return[e]});return r=aa(r),No(e,t,function(e,t){return r(e,t[0])})}var Bl=Hn(Al),Rl=Hn(Ol);function El(e){return null==e?[]:Yr(e,Al(e))}var jl=zn(function(e,r,t){return r=r.toLowerCase(),e+(t?$l(r):r)});function $l(e){return Kl(bl(e).toLowerCase())}function Nl(e){return(e=bl(e))&&e.replace(me,et).replace(Qe,"")}var Gl=zn(function(e,r,t){return e+(t?"-":"")+r.toLowerCase()}),Ll=zn(function(e,r,t){return e+(t?" ":"")+r.toLowerCase()}),Ul=Wn("toLowerCase"),Vl=zn(function(e,r,t){return e+(t?"_":"")+r.toLowerCase()}),ql=zn(function(e,r,t){return e+(t?" ":"")+Kl(r)}),Hl=zn(function(e,r,t){return e+(t?" ":"")+r.toUpperCase()}),Kl=Wn("toUpperCase");function Zl(e,r,t){return e=bl(e),(r=t?n:r)===n?function(e){return rr.test(e)}(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(r)||[]}var Yl=qo(function(e,r){try{return xr(e,n,r)}catch(e){return Ki(e)?e:new _e(e)}}),Ql=Xn(function(e,r){return Sr(r,function(r){r=Da(r),ro(e,r,Ii(e[r],e))}),e});function Jl(e){return function(){return e}}var Xl=Bn(),ec=Bn(!0);function rc(e){return e}function tc(e){return Wo("function"==typeof e?e:no(e,1))}var oc=qo(function(e,r){return function(t){return Io(t,e,r)}}),nc=qo(function(e,r){return function(t){return Io(e,t,r)}});function ac(e,r,t){var o=Al(r),n=yo(r,o);null!=t||Ji(r)&&(n.length||!o.length)||(t=r,r=e,e=this,n=yo(r,Al(r)));var a=!(Ji(t)&&"chain"in t&&!t.chain),i=Zi(e);return Sr(n,function(t){var o=r[t];e[t]=o,i&&(e.prototype[t]=function(){var r=this.__chain__;if(a||r){var t=e(this.__wrapped__);return(t.__actions__=Mn(this.__actions__)).push({func:o,args:arguments,thisArg:e}),t.__chain__=r,t}return o.apply(e,Wr([this.value()],arguments))})}),e}function ic(){}var lc=$n(Fr),cc=$n(Ir),sc=$n(Dr);function uc(e){return va(e)?Lr(Da(e)):function(e){return function(r){return wo(r,e)}}(e)}var dc=Gn(),fc=Gn(!0);function pc(){return[]}function gc(){return!1}var hc,bc=jn(function(e,r){return e+r},0),vc=Vn("ceil"),mc=jn(function(e,r){return e/r},1),yc=Vn("floor"),wc=jn(function(e,r){return e*r},1),_c=Vn("round"),kc=jn(function(e,r){return e-r},0);return Bt.after=function(e,r){if("function"!=typeof r)throw new Ie(a);return e=fl(e),function(){if(--e<1)return r.apply(this,arguments)}},Bt.ary=Si,Bt.assign=vl,Bt.assignIn=ml,Bt.assignInWith=yl,Bt.assignWith=wl,Bt.at=_l,Bt.before=Mi,Bt.bind=Ii,Bt.bindAll=Ql,Bt.bindKey=Ci,Bt.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Gi(e)?e:[e]},Bt.chain=ui,Bt.chunk=function(e,r,t){r=(t?ba(e,r,t):r===n)?1:gt(fl(r),0);var a=null==e?0:e.length;if(!a||r<1)return[];for(var i=0,l=0,c=o(fr(a/r));i<a;)c[l++]=Xo(e,i,i+=r);return c},Bt.compact=function(e){for(var r=-1,t=null==e?0:e.length,o=0,n=[];++r<t;){var a=e[r];a&&(n[o++]=a)}return n},Bt.concat=function(){var e=arguments.length;if(!e)return[];for(var r=o(e-1),t=arguments[0],n=e;n--;)r[n-1]=arguments[n];return Wr(Gi(t)?Mn(t):[t],go(r,1))},Bt.cond=function(e){var r=null==e?0:e.length,t=aa();return e=r?Fr(e,function(e){if("function"!=typeof e[1])throw new Ie(a);return[t(e[0]),e[1]]}):[],qo(function(t){for(var o=-1;++o<r;){var n=e[o];if(xr(n[0],this,t))return xr(n[1],this,t)}})},Bt.conforms=function(e){return function(e){var r=Al(e);return function(t){return ao(t,e,r)}}(no(e,1))},Bt.constant=Jl,Bt.countBy=pi,Bt.create=function(e,r){var t=Rt(e);return null==r?t:eo(t,r)},Bt.curry=function e(r,t,o){var a=Kn(r,8,n,n,n,n,n,t=o?n:t);return a.placeholder=e.placeholder,a},Bt.curryRight=function e(r,t,o){var a=Kn(r,16,n,n,n,n,n,t=o?n:t);return a.placeholder=e.placeholder,a},Bt.debounce=Ai,Bt.defaults=kl,Bt.defaultsDeep=xl,Bt.defer=Oi,Bt.delay=Fi,Bt.difference=Ea,Bt.differenceBy=ja,Bt.differenceWith=$a,Bt.drop=function(e,r,t){var o=null==e?0:e.length;return o?Xo(e,(r=t||r===n?1:fl(r))<0?0:r,o):[]},Bt.dropRight=function(e,r,t){var o=null==e?0:e.length;return o?Xo(e,0,(r=o-(r=t||r===n?1:fl(r)))<0?0:r):[]},Bt.dropRightWhile=function(e,r){return e&&e.length?un(e,aa(r,3),!0,!0):[]},Bt.dropWhile=function(e,r){return e&&e.length?un(e,aa(r,3),!0):[]},Bt.fill=function(e,r,t,o){var a=null==e?0:e.length;return a?(t&&"number"!=typeof t&&ba(e,r,t)&&(t=0,o=a),function(e,r,t,o){var a=e.length;for((t=fl(t))<0&&(t=-t>a?0:a+t),(o=o===n||o>a?a:fl(o))<0&&(o+=a),o=t>o?0:pl(o);t<o;)e[t++]=r;return e}(e,r,t,o)):[]},Bt.filter=function(e,r){return(Gi(e)?Cr:po)(e,aa(r,3))},Bt.flatMap=function(e,r){return go(_i(e,r),1)},Bt.flatMapDeep=function(e,r){return go(_i(e,r),u)},Bt.flatMapDepth=function(e,r,t){return t=t===n?1:fl(t),go(_i(e,r),t)},Bt.flatten=La,Bt.flattenDeep=function(e){return null!=e&&e.length?go(e,u):[]},Bt.flattenDepth=function(e,r){return null!=e&&e.length?go(e,r=r===n?1:fl(r)):[]},Bt.flip=function(e){return Kn(e,512)},Bt.flow=Xl,Bt.flowRight=ec,Bt.fromPairs=function(e){for(var r=-1,t=null==e?0:e.length,o={};++r<t;){var n=e[r];o[n[0]]=n[1]}return o},Bt.functions=function(e){return null==e?[]:yo(e,Al(e))},Bt.functionsIn=function(e){return null==e?[]:yo(e,Ol(e))},Bt.groupBy=mi,Bt.initial=function(e){return null!=e&&e.length?Xo(e,0,-1):[]},Bt.intersection=Va,Bt.intersectionBy=qa,Bt.intersectionWith=Ha,Bt.invert=Ml,Bt.invertBy=Il,Bt.invokeMap=yi,Bt.iteratee=tc,Bt.keyBy=wi,Bt.keys=Al,Bt.keysIn=Ol,Bt.map=_i,Bt.mapKeys=function(e,r){var t={};return r=aa(r,3),vo(e,function(e,o,n){ro(t,r(e,o,n),e)}),t},Bt.mapValues=function(e,r){var t={};return r=aa(r,3),vo(e,function(e,o,n){ro(t,o,r(e,o,n))}),t},Bt.matches=function(e){return Bo(no(e,1))},Bt.matchesProperty=function(e,r){return Ro(e,no(r,1))},Bt.memoize=Wi,Bt.merge=Fl,Bt.mergeWith=Wl,Bt.method=oc,Bt.methodOf=nc,Bt.mixin=ac,Bt.negate=zi,Bt.nthArg=function(e){return e=fl(e),qo(function(r){return jo(r,e)})},Bt.omit=zl,Bt.omitBy=function(e,r){return Dl(e,zi(aa(r)))},Bt.once=function(e){return Mi(2,e)},Bt.orderBy=function(e,r,t,o){return null==e?[]:(Gi(r)||(r=null==r?[]:[r]),Gi(t=o?n:t)||(t=null==t?[]:[t]),$o(e,r,t))},Bt.over=lc,Bt.overArgs=Ti,Bt.overEvery=cc,Bt.overSome=sc,Bt.partial=Di,Bt.partialRight=Bi,Bt.partition=ki,Bt.pick=Tl,Bt.pickBy=Dl,Bt.property=uc,Bt.propertyOf=function(e){return function(r){return null==e?n:wo(e,r)}},Bt.pull=Za,Bt.pullAll=Ya,Bt.pullAllBy=function(e,r,t){return e&&e.length&&r&&r.length?Go(e,r,aa(t,2)):e},Bt.pullAllWith=function(e,r,t){return e&&e.length&&r&&r.length?Go(e,r,n,t):e},Bt.pullAt=Qa,Bt.range=dc,Bt.rangeRight=fc,Bt.rearg=Ri,Bt.reject=function(e,r){return(Gi(e)?Cr:po)(e,zi(aa(r,3)))},Bt.remove=function(e,r){var t=[];if(!e||!e.length)return t;var o=-1,n=[],a=e.length;for(r=aa(r,3);++o<a;){var i=e[o];r(i,o,e)&&(t.push(i),n.push(o))}return Lo(e,n),t},Bt.rest=function(e,r){if("function"!=typeof e)throw new Ie(a);return qo(e,r=r===n?r:fl(r))},Bt.reverse=Ja,Bt.sampleSize=function(e,r,t){return r=(t?ba(e,r,t):r===n)?1:fl(r),(Gi(e)?Kt:Ko)(e,r)},Bt.set=function(e,r,t){return null==e?e:Zo(e,r,t)},Bt.setWith=function(e,r,t,o){return o="function"==typeof o?o:n,null==e?e:Zo(e,r,t,o)},Bt.shuffle=function(e){return(Gi(e)?Zt:Jo)(e)},Bt.slice=function(e,r,t){var o=null==e?0:e.length;return o?(t&&"number"!=typeof t&&ba(e,r,t)?(r=0,t=o):(r=null==r?0:fl(r),t=t===n?o:fl(t)),Xo(e,r,t)):[]},Bt.sortBy=xi,Bt.sortedUniq=function(e){return e&&e.length?on(e):[]},Bt.sortedUniqBy=function(e,r){return e&&e.length?on(e,aa(r,2)):[]},Bt.split=function(e,r,t){return t&&"number"!=typeof t&&ba(e,r,t)&&(r=t=n),(t=t===n?p:t>>>0)?(e=bl(e))&&("string"==typeof r||null!=r&&!ol(r))&&!(r=an(r))&&ot(e)?mn(st(e),0,t):e.split(r,t):[]},Bt.spread=function(e,r){if("function"!=typeof e)throw new Ie(a);return r=null==r?0:gt(fl(r),0),qo(function(t){var o=t[r],n=mn(t,0,r);return o&&Wr(n,o),xr(e,this,n)})},Bt.tail=function(e){var r=null==e?0:e.length;return r?Xo(e,1,r):[]},Bt.take=function(e,r,t){return e&&e.length?Xo(e,0,(r=t||r===n?1:fl(r))<0?0:r):[]},Bt.takeRight=function(e,r,t){var o=null==e?0:e.length;return o?Xo(e,(r=o-(r=t||r===n?1:fl(r)))<0?0:r,o):[]},Bt.takeRightWhile=function(e,r){return e&&e.length?un(e,aa(r,3),!1,!0):[]},Bt.takeWhile=function(e,r){return e&&e.length?un(e,aa(r,3)):[]},Bt.tap=function(e,r){return r(e),e},Bt.throttle=function(e,r,t){var o=!0,n=!0;if("function"!=typeof e)throw new Ie(a);return Ji(t)&&(o="leading"in t?!!t.leading:o,n="trailing"in t?!!t.trailing:n),Ai(e,r,{leading:o,maxWait:r,trailing:n})},Bt.thru=di,Bt.toArray=ul,Bt.toPairs=Bl,Bt.toPairsIn=Rl,Bt.toPath=function(e){return Gi(e)?Fr(e,Da):il(e)?[e]:Mn(Ta(bl(e)))},Bt.toPlainObject=hl,Bt.transform=function(e,r,t){var o=Gi(e),n=o||qi(e)||ll(e);if(r=aa(r,4),null==t){var a=e&&e.constructor;t=n?o?new a:[]:Ji(e)&&Zi(a)?Rt(Ue(e)):{}}return(n?Sr:vo)(e,function(e,o,n){return r(t,e,o,n)}),t},Bt.unary=function(e){return Si(e,1)},Bt.union=Xa,Bt.unionBy=ei,Bt.unionWith=ri,Bt.uniq=function(e){return e&&e.length?ln(e):[]},Bt.uniqBy=function(e,r){return e&&e.length?ln(e,aa(r,2)):[]},Bt.uniqWith=function(e,r){return r="function"==typeof r?r:n,e&&e.length?ln(e,n,r):[]},Bt.unset=function(e,r){return null==e||cn(e,r)},Bt.unzip=ti,Bt.unzipWith=oi,Bt.update=function(e,r,t){return null==e?e:sn(e,r,hn(t))},Bt.updateWith=function(e,r,t,o){return o="function"==typeof o?o:n,null==e?e:sn(e,r,hn(t),o)},Bt.values=El,Bt.valuesIn=function(e){return null==e?[]:Yr(e,Ol(e))},Bt.without=ni,Bt.words=Zl,Bt.wrap=function(e,r){return Di(hn(r),e)},Bt.xor=ai,Bt.xorBy=ii,Bt.xorWith=li,Bt.zip=ci,Bt.zipObject=function(e,r){return pn(e||[],r||[],Qt)},Bt.zipObjectDeep=function(e,r){return pn(e||[],r||[],Zo)},Bt.zipWith=si,Bt.entries=Bl,Bt.entriesIn=Rl,Bt.extend=ml,Bt.extendWith=yl,ac(Bt,Bt),Bt.add=bc,Bt.attempt=Yl,Bt.camelCase=jl,Bt.capitalize=$l,Bt.ceil=vc,Bt.clamp=function(e,r,t){return t===n&&(t=r,r=n),t!==n&&(t=(t=gl(t))==t?t:0),r!==n&&(r=(r=gl(r))==r?r:0),oo(gl(e),r,t)},Bt.clone=function(e){return no(e,4)},Bt.cloneDeep=function(e){return no(e,5)},Bt.cloneDeepWith=function(e,r){return no(e,5,r="function"==typeof r?r:n)},Bt.cloneWith=function(e,r){return no(e,4,r="function"==typeof r?r:n)},Bt.conformsTo=function(e,r){return null==r||ao(e,r,Al(r))},Bt.deburr=Nl,Bt.defaultTo=function(e,r){return null==e||e!=e?r:e},Bt.divide=mc,Bt.endsWith=function(e,r,t){e=bl(e),r=an(r);var o=e.length,a=t=t===n?o:oo(fl(t),0,o);return(t-=r.length)>=0&&e.slice(t,a)==r},Bt.eq=Ei,Bt.escape=function(e){return(e=bl(e))&&K.test(e)?e.replace(q,rt):e},Bt.escapeRegExp=function(e){return(e=bl(e))&&te.test(e)?e.replace(re,"\\$&"):e},Bt.every=function(e,r,t){var o=Gi(e)?Ir:uo;return t&&ba(e,r,t)&&(r=n),o(e,aa(r,3))},Bt.find=gi,Bt.findIndex=Na,Bt.findKey=function(e,r){return Rr(e,aa(r,3),vo)},Bt.findLast=hi,Bt.findLastIndex=Ga,Bt.findLastKey=function(e,r){return Rr(e,aa(r,3),mo)},Bt.floor=yc,Bt.forEach=bi,Bt.forEachRight=vi,Bt.forIn=function(e,r){return null==e?e:ho(e,aa(r,3),Ol)},Bt.forInRight=function(e,r){return null==e?e:bo(e,aa(r,3),Ol)},Bt.forOwn=function(e,r){return e&&vo(e,aa(r,3))},Bt.forOwnRight=function(e,r){return e&&mo(e,aa(r,3))},Bt.get=Pl,Bt.gt=ji,Bt.gte=$i,Bt.has=function(e,r){return null!=e&&fa(e,r,Po)},Bt.hasIn=Sl,Bt.head=Ua,Bt.identity=rc,Bt.includes=function(e,r,t,o){e=Ui(e)?e:El(e),t=t&&!o?fl(t):0;var n=e.length;return t<0&&(t=gt(n+t,0)),al(e)?t<=n&&e.indexOf(r,t)>-1:!!n&&jr(e,r,t)>-1},Bt.indexOf=function(e,r,t){var o=null==e?0:e.length;if(!o)return-1;var n=null==t?0:fl(t);return n<0&&(n=gt(o+n,0)),jr(e,r,n)},Bt.inRange=function(e,r,t){return r=dl(r),t===n?(t=r,r=0):t=dl(t),function(e,r,t){return e>=ht(r,t)&&e<gt(r,t)}(e=gl(e),r,t)},Bt.invoke=Cl,Bt.isArguments=Ni,Bt.isArray=Gi,Bt.isArrayBuffer=Li,Bt.isArrayLike=Ui,Bt.isArrayLikeObject=Vi,Bt.isBoolean=function(e){return!0===e||!1===e||Xi(e)&&ko(e)==v},Bt.isBuffer=qi,Bt.isDate=Hi,Bt.isElement=function(e){return Xi(e)&&1===e.nodeType&&!tl(e)},Bt.isEmpty=function(e){if(null==e)return!0;if(Ui(e)&&(Gi(e)||"string"==typeof e||"function"==typeof e.splice||qi(e)||ll(e)||Ni(e)))return!e.length;var r=da(e);if(r==k||r==I)return!e.size;if(wa(e))return!zo(e).length;for(var t in e)if(ze.call(e,t))return!1;return!0},Bt.isEqual=function(e,r){return Ao(e,r)},Bt.isEqualWith=function(e,r,t){var o=(t="function"==typeof t?t:n)?t(e,r):n;return o===n?Ao(e,r,n,t):!!o},Bt.isError=Ki,Bt.isFinite=function(e){return"number"==typeof e&&Br(e)},Bt.isFunction=Zi,Bt.isInteger=Yi,Bt.isLength=Qi,Bt.isMap=el,Bt.isMatch=function(e,r){return e===r||Oo(e,r,la(r))},Bt.isMatchWith=function(e,r,t){return t="function"==typeof t?t:n,Oo(e,r,la(r),t)},Bt.isNaN=function(e){return rl(e)&&e!=+e},Bt.isNative=function(e){if(ya(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Fo(e)},Bt.isNil=function(e){return null==e},Bt.isNull=function(e){return null===e},Bt.isNumber=rl,Bt.isObject=Ji,Bt.isObjectLike=Xi,Bt.isPlainObject=tl,Bt.isRegExp=ol,Bt.isSafeInteger=function(e){return Yi(e)&&e>=-9007199254740991&&e<=d},Bt.isSet=nl,Bt.isString=al,Bt.isSymbol=il,Bt.isTypedArray=ll,Bt.isUndefined=function(e){return e===n},Bt.isWeakMap=function(e){return Xi(e)&&da(e)==O},Bt.isWeakSet=function(e){return Xi(e)&&"[object WeakSet]"==ko(e)},Bt.join=function(e,r){return null==e?"":Ur.call(e,r)},Bt.kebabCase=Gl,Bt.last=Ka,Bt.lastIndexOf=function(e,r,t){var o=null==e?0:e.length;if(!o)return-1;var a=o;return t!==n&&(a=(a=fl(t))<0?gt(o+a,0):ht(a,o-1)),r==r?function(e,r,t){for(var o=t+1;o--;)if(e[o]===r)return o;return o}(e,r,a):Er(e,Nr,a,!0)},Bt.lowerCase=Ll,Bt.lowerFirst=Ul,Bt.lt=cl,Bt.lte=sl,Bt.max=function(e){return e&&e.length?fo(e,rc,xo):n},Bt.maxBy=function(e,r){return e&&e.length?fo(e,aa(r,2),xo):n},Bt.mean=function(e){return Gr(e,rc)},Bt.meanBy=function(e,r){return Gr(e,aa(r,2))},Bt.min=function(e){return e&&e.length?fo(e,rc,To):n},Bt.minBy=function(e,r){return e&&e.length?fo(e,aa(r,2),To):n},Bt.stubArray=pc,Bt.stubFalse=gc,Bt.stubObject=function(){return{}},Bt.stubString=function(){return""},Bt.stubTrue=function(){return!0},Bt.multiply=wc,Bt.nth=function(e,r){return e&&e.length?jo(e,fl(r)):n},Bt.noConflict=function(){return dr._===this&&(dr._=Ee),this},Bt.noop=ic,Bt.now=Pi,Bt.pad=function(e,r,t){e=bl(e);var o=(r=fl(r))?ct(e):0;if(!r||o>=r)return e;var n=(r-o)/2;return Nn(pr(n),t)+e+Nn(fr(n),t)},Bt.padEnd=function(e,r,t){e=bl(e);var o=(r=fl(r))?ct(e):0;return r&&o<r?e+Nn(r-o,t):e},Bt.padStart=function(e,r,t){e=bl(e);var o=(r=fl(r))?ct(e):0;return r&&o<r?Nn(r-o,t)+e:e},Bt.parseInt=function(e,r,t){return t||null==r?r=0:r&&(r=+r),vt(bl(e).replace(oe,""),r||0)},Bt.random=function(e,r,t){if(t&&"boolean"!=typeof t&&ba(e,r,t)&&(r=t=n),t===n&&("boolean"==typeof r?(t=r,r=n):"boolean"==typeof e&&(t=e,e=n)),e===n&&r===n?(e=0,r=1):(e=dl(e),r===n?(r=e,e=0):r=dl(r)),e>r){var o=e;e=r,r=o}if(t||e%1||r%1){var a=mt();return ht(e+a*(r-e+lr("1e-"+((a+"").length-1))),r)}return Uo(e,r)},Bt.reduce=function(e,r,t){var o=Gi(e)?zr:Vr,n=arguments.length<3;return o(e,aa(r,4),t,n,co)},Bt.reduceRight=function(e,r,t){var o=Gi(e)?Tr:Vr,n=arguments.length<3;return o(e,aa(r,4),t,n,so)},Bt.repeat=function(e,r,t){return r=(t?ba(e,r,t):r===n)?1:fl(r),Vo(bl(e),r)},Bt.replace=function(){var e=arguments,r=bl(e[0]);return e.length<3?r:r.replace(e[1],e[2])},Bt.result=function(e,r,t){var o=-1,a=(r=bn(r,e)).length;for(a||(a=1,e=n);++o<a;){var i=null==e?n:e[Da(r[o])];i===n&&(o=a,i=t),e=Zi(i)?i.call(e):i}return e},Bt.round=_c,Bt.runInContext=e,Bt.sample=function(e){return(Gi(e)?Ht:Ho)(e)},Bt.size=function(e){if(null==e)return 0;if(Ui(e))return al(e)?ct(e):e.length;var r=da(e);return r==k||r==I?e.size:zo(e).length},Bt.snakeCase=Vl,Bt.some=function(e,r,t){var o=Gi(e)?Dr:en;return t&&ba(e,r,t)&&(r=n),o(e,aa(r,3))},Bt.sortedIndex=function(e,r){return rn(e,r)},Bt.sortedIndexBy=function(e,r,t){return tn(e,r,aa(t,2))},Bt.sortedIndexOf=function(e,r){var t=null==e?0:e.length;if(t){var o=rn(e,r);if(o<t&&Ei(e[o],r))return o}return-1},Bt.sortedLastIndex=function(e,r){return rn(e,r,!0)},Bt.sortedLastIndexBy=function(e,r,t){return tn(e,r,aa(t,2),!0)},Bt.sortedLastIndexOf=function(e,r){if(null!=e&&e.length){var t=rn(e,r,!0)-1;if(Ei(e[t],r))return t}return-1},Bt.startCase=ql,Bt.startsWith=function(e,r,t){return e=bl(e),t=null==t?0:oo(fl(t),0,e.length),r=an(r),e.slice(t,t+r.length)==r},Bt.subtract=kc,Bt.sum=function(e){return e&&e.length?qr(e,rc):0},Bt.sumBy=function(e,r){return e&&e.length?qr(e,aa(r,2)):0},Bt.template=function(e,r,t){var o=Bt.templateSettings;t&&ba(e,r,t)&&(r=n),e=bl(e),r=yl({},r,o,Zn);var a,i,l=yl({},r.imports,o.imports,Zn),c=Al(l),s=Yr(l,c),u=0,d=r.interpolate||ye,f="__p += '",p=Se((r.escape||ye).source+"|"+d.source+"|"+(d===Q?de:ye).source+"|"+(r.evaluate||ye).source+"|$","g"),g="//# sourceURL="+(ze.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++or+"]")+"\n";e.replace(p,function(r,t,o,n,l,c){return o||(o=n),f+=e.slice(u,c).replace(we,tt),t&&(a=!0,f+="' +\n__e("+t+") +\n'"),l&&(i=!0,f+="';\n"+l+";\n__p += '"),o&&(f+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=c+r.length,r}),f+="';\n";var h=ze.call(r,"variable")&&r.variable;if(h){if(se.test(h))throw new _e("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(G,""):f).replace(L,"$1").replace(U,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var b=Yl(function(){return ke(c,g+"return "+f).apply(n,s)});if(b.source=f,Ki(b))throw b;return b},Bt.times=function(e,r){if((e=fl(e))<1||e>d)return[];var t=p,o=ht(e,p);r=aa(r),e-=p;for(var n=Hr(o,r);++t<e;)r(t);return n},Bt.toFinite=dl,Bt.toInteger=fl,Bt.toLength=pl,Bt.toLower=function(e){return bl(e).toLowerCase()},Bt.toNumber=gl,Bt.toSafeInteger=function(e){return e?oo(fl(e),-9007199254740991,d):0===e?e:0},Bt.toString=bl,Bt.toUpper=function(e){return bl(e).toUpperCase()},Bt.trim=function(e,r,t){if((e=bl(e))&&(t||r===n))return Kr(e);if(!e||!(r=an(r)))return e;var o=st(e),a=st(r);return mn(o,Jr(o,a),Xr(o,a)+1).join("")},Bt.trimEnd=function(e,r,t){if((e=bl(e))&&(t||r===n))return e.slice(0,ut(e)+1);if(!e||!(r=an(r)))return e;var o=st(e);return mn(o,0,Xr(o,st(r))+1).join("")},Bt.trimStart=function(e,r,t){if((e=bl(e))&&(t||r===n))return e.replace(oe,"");if(!e||!(r=an(r)))return e;var o=st(e);return mn(o,Jr(o,st(r))).join("")},Bt.truncate=function(e,r){var t=30,o="...";if(Ji(r)){var a="separator"in r?r.separator:a;t="length"in r?fl(r.length):t,o="omission"in r?an(r.omission):o}var i=(e=bl(e)).length;if(ot(e)){var l=st(e);i=l.length}if(t>=i)return e;var c=t-ct(o);if(c<1)return o;var s=l?mn(l,0,c).join(""):e.slice(0,c);if(a===n)return s+o;if(l&&(c+=s.length-c),ol(a)){if(e.slice(c).search(a)){var u,d=s;for(a.global||(a=Se(a.source,bl(fe.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var f=u.index;s=s.slice(0,f===n?c:f)}}else if(e.indexOf(an(a),c)!=c){var p=s.lastIndexOf(a);p>-1&&(s=s.slice(0,p))}return s+o},Bt.unescape=function(e){return(e=bl(e))&&H.test(e)?e.replace(V,dt):e},Bt.uniqueId=function(e){var r=++Te;return bl(e)+r},Bt.upperCase=Hl,Bt.upperFirst=Kl,Bt.each=bi,Bt.eachRight=vi,Bt.first=Ua,ac(Bt,(hc={},vo(Bt,function(e,r){ze.call(Bt.prototype,r)||(hc[r]=e)}),hc),{chain:!1}),Bt.VERSION="4.17.21",Sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Bt[e].placeholder=Bt}),Sr(["drop","take"],function(e,r){$t.prototype[e]=function(t){t=t===n?1:gt(fl(t),0);var o=this.__filtered__&&!r?new $t(this):this.clone();return o.__filtered__?o.__takeCount__=ht(t,o.__takeCount__):o.__views__.push({size:ht(t,p),type:e+(o.__dir__<0?"Right":"")}),o},$t.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),Sr(["filter","map","takeWhile"],function(e,r){var t=r+1,o=1==t||3==t;$t.prototype[e]=function(e){var r=this.clone();return r.__iteratees__.push({iteratee:aa(e,3),type:t}),r.__filtered__=r.__filtered__||o,r}}),Sr(["head","last"],function(e,r){var t="take"+(r?"Right":"");$t.prototype[e]=function(){return this[t](1).value()[0]}}),Sr(["initial","tail"],function(e,r){var t="drop"+(r?"":"Right");$t.prototype[e]=function(){return this.__filtered__?new $t(this):this[t](1)}}),$t.prototype.compact=function(){return this.filter(rc)},$t.prototype.find=function(e){return this.filter(e).head()},$t.prototype.findLast=function(e){return this.reverse().find(e)},$t.prototype.invokeMap=qo(function(e,r){return"function"==typeof e?new $t(this):this.map(function(t){return Io(t,e,r)})}),$t.prototype.reject=function(e){return this.filter(zi(aa(e)))},$t.prototype.slice=function(e,r){e=fl(e);var t=this;return t.__filtered__&&(e>0||r<0)?new $t(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),r!==n&&(t=(r=fl(r))<0?t.dropRight(-r):t.take(r-e)),t)},$t.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$t.prototype.toArray=function(){return this.take(p)},vo($t.prototype,function(e,r){var t=/^(?:filter|find|map|reject)|While$/.test(r),o=/^(?:head|last)$/.test(r),a=Bt[o?"take"+("last"==r?"Right":""):r],i=o||/^find/.test(r);a&&(Bt.prototype[r]=function(){var r=this.__wrapped__,l=o?[1]:arguments,c=r instanceof $t,s=l[0],u=c||Gi(r),d=function(e){var r=a.apply(Bt,Wr([e],l));return o&&f?r[0]:r};u&&t&&"function"==typeof s&&1!=s.length&&(c=u=!1);var f=this.__chain__,p=!!this.__actions__.length,g=i&&!f,h=c&&!p;if(!i&&u){r=h?r:new $t(this);var b=e.apply(r,l);return b.__actions__.push({func:di,args:[d],thisArg:n}),new jt(b,f)}return g&&h?e.apply(this,l):(b=this.thru(d),g?o?b.value()[0]:b.value():b)})}),Sr(["pop","push","shift","sort","splice","unshift"],function(e){var r=Ce[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);Bt.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var n=this.value();return r.apply(Gi(n)?n:[],e)}return this[t](function(t){return r.apply(Gi(t)?t:[],e)})}}),vo($t.prototype,function(e,r){var t=Bt[r];if(t){var o=t.name+"";ze.call(It,o)||(It[o]=[]),It[o].push({name:r,func:t})}}),It[Rn(n,2).name]=[{name:"wrapper",func:n}],$t.prototype.clone=function(){var e=new $t(this.__wrapped__);return e.__actions__=Mn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mn(this.__views__),e},$t.prototype.reverse=function(){if(this.__filtered__){var e=new $t(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$t.prototype.value=function(){var e=this.__wrapped__.value(),r=this.__dir__,t=Gi(e),o=r<0,n=t?e.length:0,a=function(e,r,t){for(var o=-1,n=t.length;++o<n;){var a=t[o],i=a.size;switch(a.type){case"drop":e+=i;break;case"dropRight":r-=i;break;case"take":r=ht(r,e+i);break;case"takeRight":e=gt(e,r-i)}}return{start:e,end:r}}(0,n,this.__views__),i=a.start,l=a.end,c=l-i,s=o?l:i-1,u=this.__iteratees__,d=u.length,f=0,p=ht(c,this.__takeCount__);if(!t||!o&&n==c&&p==c)return dn(e,this.__actions__);var g=[];e:for(;c--&&f<p;){for(var h=-1,b=e[s+=r];++h<d;){var v=u[h],m=v.iteratee,y=v.type,w=m(b);if(2==y)b=w;else if(!w){if(1==y)continue e;break e}}g[f++]=b}return g},Bt.prototype.at=fi,Bt.prototype.chain=function(){return ui(this)},Bt.prototype.commit=function(){return new jt(this.value(),this.__chain__)},Bt.prototype.next=function(){this.__values__===n&&(this.__values__=ul(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Bt.prototype.plant=function(e){for(var r,t=this;t instanceof Et;){var o=Ra(t);o.__index__=0,o.__values__=n,r?a.__wrapped__=o:r=o;var a=o;t=t.__wrapped__}return a.__wrapped__=e,r},Bt.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $t){var r=e;return this.__actions__.length&&(r=new $t(this)),(r=r.reverse()).__actions__.push({func:di,args:[Ja],thisArg:n}),new jt(r,this.__chain__)}return this.thru(Ja)},Bt.prototype.toJSON=Bt.prototype.valueOf=Bt.prototype.value=function(){return dn(this.__wrapped__,this.__actions__)},Bt.prototype.first=Bt.prototype.head,Ze&&(Bt.prototype[Ze]=function(){return this}),Bt}();dr._=ft,(o=function(){return ft}.call(r,t,r,e))===n||(e.exports=o)}.call(this)},2552:(e,r,t)=>{var o=t(1873),n=t(659),a=t(9350),i=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):a(e)}},2651:(e,r,t)=>{var o=t(4218);e.exports=function(e,r){var t=e.__data__;return o(r)?t["string"==typeof r?"string":"hash"]:t.map}},2749:(e,r,t)=>{var o=t(1042),n=Object.prototype.hasOwnProperty;e.exports=function(e){var r=this.__data__;return o?void 0!==r[e]:n.call(r,e)}},2824:(e,r,t)=>{var o=t(7805),n=t(3290),a=t(1961),i=t(3007),l=t(5529),c=t(2428),s=t(6449),u=t(3693),d=t(3656),f=t(1882),p=t(3805),g=t(1331),h=t(7167),b=t(4974),v=t(9884);e.exports=function(e,r,t,m,y,w,_){var k=b(e,t),x=b(r,t),P=_.get(x);if(P)o(e,t,P);else{var S=w?w(k,x,t+"",e,r,_):void 0,M=void 0===S;if(M){var I=s(x),C=!I&&d(x),A=!I&&!C&&h(x);S=x,I||C||A?s(k)?S=k:u(k)?S=i(k):C?(M=!1,S=n(x,!0)):A?(M=!1,S=a(x,!0)):S=[]:g(x)||c(x)?(S=k,c(k)?S=v(k):p(k)&&!f(k)||(S=l(x))):M=!1}M&&(_.set(x,S),y(S,x,m,w,_),_.delete(x)),o(e,t,S)}}},2865:(e,r,t)=>{var o=t(9570),n=t(1811)(o);e.exports=n},2903:(e,r,t)=>{var o=t(3805),n=t(5527),a=t(181),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return a(e);var r=n(e),t=[];for(var l in e)("constructor"!=l||!r&&i.call(e,l))&&t.push(l);return t}},2949:(e,r,t)=>{var o=t(2651);e.exports=function(e,r){var t=o(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}},3007:e=>{e.exports=function(e,r){var t=-1,o=e.length;for(r||(r=Array(o));++t<o;)r[t]=e[t];return r}},3040:(e,r,t)=>{var o=t(1549),n=t(79),a=t(8223);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(a||n),string:new o}}},3221:e=>{e.exports=function(e){return function(r,t,o){for(var n=-1,a=Object(r),i=o(r),l=i.length;l--;){var c=i[e?l:++n];if(!1===t(a[c],c,a))break}return r}}},3243:(e,r,t)=>{var o=t(6110),n=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=n},3290:(e,r,t)=>{e=t.nmd(e);var o=t(9325),n=r&&!r.nodeType&&r,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n?o.Buffer:void 0,l=i?i.allocUnsafe:void 0;e.exports=function(e,r){if(r)return e.slice();var t=e.length,o=l?l(t):new e.constructor(t);return e.copy(o),o}},3360:(e,r,t)=>{var o=t(3243);e.exports=function(e,r,t){"__proto__"==r&&o?o(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}},3488:e=>{e.exports=function(e){return e}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3656:(e,r,t)=>{e=t.nmd(e);var o=t(9325),n=t(9935),a=r&&!r.nodeType&&r,i=a&&e&&!e.nodeType&&e,l=i&&i.exports===a?o.Buffer:void 0,c=(l?l.isBuffer:void 0)||n;e.exports=c},3661:(e,r,t)=>{var o=t(3040),n=t(7670),a=t(289),i=t(4509),l=t(2949);function c(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var o=e[r];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,e.exports=c},3693:(e,r,t)=>{var o=t(4894),n=t(346);e.exports=function(e){return n(e)&&o(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3805:e=>{e.exports=function(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}},3862:e=>{e.exports=function(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}},4218:e=>{e.exports=function(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e}},4335:e=>{e.exports=function(e,r){return function(t){return e(r(t))}}},4509:(e,r,t)=>{var o=t(2651);e.exports=function(e){return o(this,e).has(e)}},4739:(e,r,t)=>{var o=t(6025);e.exports=function(e){var r=this.__data__,t=o(r,e);return t<0?void 0:r[t][1]}},4840:(e,r,t)=>{var o="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=o},4894:(e,r,t)=>{var o=t(1882),n=t(294);e.exports=function(e){return null!=e&&n(e.length)&&!o(e)}},4901:(e,r,t)=>{var o=t(2552),n=t(294),a=t(346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&n(e.length)&&!!i[o(e)]}},4974:e=>{e.exports=function(e,r){if(("constructor"!==r||"function"!=typeof e[r])&&"__proto__"!=r)return e[r]}},5083:(e,r,t)=>{var o=t(1882),n=t(7296),a=t(3805),i=t(7473),l=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,u=c.toString,d=s.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||n(e))&&(o(e)?f:l).test(i(e))}},5250:(e,r,t)=>{var o=t(7217),n=t(7805),a=t(6649),i=t(2824),l=t(3805),c=t(7241),s=t(4974);e.exports=function e(r,t,u,d,f){r!==t&&a(t,function(a,c){if(f||(f=new o),l(a))i(r,t,c,u,e,d,f);else{var p=d?d(s(r,c),a,c+"",r,t,f):void 0;void 0===p&&(p=a),n(r,c,p)}},c)}},5288:e=>{e.exports=function(e,r){return e===r||e!=e&&r!=r}},5364:(e,r,t)=>{var o=t(5250),n=t(999)(function(e,r,t){o(e,r,t)});e.exports=n},5481:(e,r,t)=>{var o=t(9325)["__core-js_shared__"];e.exports=o},5527:e=>{var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},5529:(e,r,t)=>{var o=t(9344),n=t(8879),a=t(5527);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:o(n(e))}},5749:(e,r,t)=>{var o=t(1042);e.exports=function(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=o&&void 0===r?"__lodash_hash_undefined__":r,this}},6009:(e,r,t)=>{e=t.nmd(e);var o=t(4840),n=r&&!r.nodeType&&r,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n&&o.process,l=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=l},6025:(e,r,t)=>{var o=t(5288);e.exports=function(e,r){for(var t=e.length;t--;)if(o(e[t][0],r))return t;return-1}},6110:(e,r,t)=>{var o=t(5083),n=t(392);e.exports=function(e,r){var t=n(e,r);return o(t)?t:void 0}},6449:e=>{var r=Array.isArray;e.exports=r},6547:(e,r,t)=>{var o=t(3360),n=t(5288),a=Object.prototype.hasOwnProperty;e.exports=function(e,r,t){var i=e[r];a.call(e,r)&&n(i,t)&&(void 0!==t||r in e)||o(e,r,t)}},6649:(e,r,t)=>{var o=t(3221)();e.exports=o},6721:(e,r,t)=>{var o=t(1042),n=Object.prototype.hasOwnProperty;e.exports=function(e){var r=this.__data__;if(o){var t=r[e];return"__lodash_hash_undefined__"===t?void 0:t}return n.call(r,e)?r[e]:void 0}},6757:(e,r,t)=>{var o=t(1033),n=Math.max;e.exports=function(e,r,t){return r=n(void 0===r?e.length-1:r,0),function(){for(var a=arguments,i=-1,l=n(a.length-r,0),c=Array(l);++i<l;)c[i]=a[r+i];i=-1;for(var s=Array(r+1);++i<r;)s[i]=a[i];return s[r]=t(c),o(e,this,s)}}},6800:(e,r,t)=>{var o=t(5288),n=t(4894),a=t(361),i=t(3805);e.exports=function(e,r,t){if(!i(t))return!1;var l=typeof r;return!!("number"==l?n(t)&&a(r,t.length):"string"==l&&r in t)&&o(t[r],e)}},7167:(e,r,t)=>{var o=t(4901),n=t(7301),a=t(6009),i=a&&a.isTypedArray,l=i?n(i):o;e.exports=l},7217:(e,r,t)=>{var o=t(79),n=t(1420),a=t(938),i=t(3605),l=t(9817),c=t(945);function s(e){var r=this.__data__=new o(e);this.size=r.size}s.prototype.clear=n,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=l,s.prototype.set=c,e.exports=s},7241:(e,r,t)=>{var o=t(695),n=t(2903),a=t(4894);e.exports=function(e){return a(e)?o(e,!0):n(e)}},7296:(e,r,t)=>{var o,n=t(5481),a=(o=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!a&&a in e}},7301:e=>{e.exports=function(e){return function(r){return e(r)}}},7334:e=>{e.exports=function(e){return function(){return e}}},7473:e=>{var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,r,t)=>{var o=t(2552),n=t(346);e.exports=function(e){return n(e)&&"[object Arguments]"==o(e)}},7670:(e,r,t)=>{var o=t(2651);e.exports=function(e){var r=o(this,e).delete(e);return this.size-=r?1:0,r}},7805:(e,r,t)=>{var o=t(3360),n=t(5288);e.exports=function(e,r,t){(void 0!==t&&!n(e[r],t)||void 0===t&&!(r in e))&&o(e,r,t)}},7828:(e,r,t)=>{var o=t(9325).Uint8Array;e.exports=o},8096:e=>{e.exports=function(e,r){for(var t=-1,o=Array(e);++t<e;)o[t]=r(t);return o}},8223:(e,r,t)=>{var o=t(6110)(t(9325),"Map");e.exports=o},8655:(e,r,t)=>{var o=t(6025);e.exports=function(e){return o(this.__data__,e)>-1}},8879:(e,r,t)=>{var o=t(4335)(Object.getPrototypeOf,Object);e.exports=o},9302:(e,r,t)=>{var o=t(3488),n=t(6757),a=t(2865);e.exports=function(e,r){return a(n(e,r,o),e+"")}},9325:(e,r,t)=>{var o=t(4840),n="object"==typeof self&&self&&self.Object===Object&&self,a=o||n||Function("return this")();e.exports=a},9344:(e,r,t)=>{var o=t(3805),n=Object.create,a=function(){function e(){}return function(r){if(!o(r))return{};if(n)return n(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();e.exports=a},9350:e=>{var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},9570:(e,r,t)=>{var o=t(7334),n=t(3243),a=t(3488),i=n?function(e,r){return n(e,"toString",{configurable:!0,enumerable:!1,value:o(r),writable:!0})}:a;e.exports=i},9653:(e,r,t)=>{var o=t(7828);e.exports=function(e){var r=new e.constructor(e.byteLength);return new o(r).set(new o(e)),r}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9884:(e,r,t)=>{var o=t(1791),n=t(7241);e.exports=function(e){return o(e,n(e))}},9935:e=>{e.exports=function(){return!1}}},g={};function h(e){var r=g[e];if(void 0!==r)return r.exports;var t=g[e]={id:e,loaded:!1,exports:{}};return p[e].call(t.exports,t,t.exports,h),t.loaded=!0,t.exports}h.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return h.d(r,{a:r}),r},h.d=(e,r)=>{for(var t in r)h.o(r,t)&&!h.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},h.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),h.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),h.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var b=h(5364);h.n(b);JSON.parse('{"brand":{"base":{"dark":"rgba(20, 6, 17, 1)","light":"rgba(255, 255, 255, 1)"},"accent":{"dark":"rgba(255, 214, 210, 1)","light":"rgba(100, 30, 85, 1)"}},"icon":{"symbol":"","wordmark":""},"color":{"role":{"focusRing":"{color.role.transparent.50}","overlay":"rgba(0, 0, 0, 0.75)","background":{"1":"{color.generated.scale.1}","2":"{color.generated.scale.2}","3":"{color.generated.scale.3}","4":"{color.generated.scale.4}","5":"{color.generated.scale.5}","6":"{color.generated.scale.6}","base":"{color.role.background.1}","inverse":"{color.generated.foreground.base}","accent":{"stronger":"{color.generated.accent.stronger}","strong":"{color.generated.accent.strong}","base":"{color.generated.accent.base}","soft":"{color.generated.accent.soft}","softer":"{color.generated.accent.softer}","softest":"{color.generated.accent.softest}"},"positive":{"strong":"{color.generated.positive.strong}","base":"{color.generated.positive.base}","soft":"{color.generated.positive.soft}","stronger":"{color.generated.positive.stronger}","softer":"{color.generated.positive.softer}","softest":"{color.generated.positive.softest}"},"warning":{"strong":"{color.generated.warning.strong}","base":"{color.generated.warning.base}","soft":"{color.generated.warning.soft}","stronger":"{color.generated.warning.stronger}","softer":"{color.generated.warning.softer}","softest":"{color.generated.warning.softest}"},"critical":{"strong":"{color.generated.critical.strong}","base":"{color.generated.critical.base}","soft":"{color.generated.critical.soft}","stronger":"{color.generated.critical.stronger}","softer":"{color.generated.critical.softer}","softest":"{color.generated.critical.softest}"},"informative":{"strong":"{color.generated.informative.strong}","base":"{color.generated.informative.base}","soft":"{color.generated.informative.soft}","stronger":"{color.generated.informative.stronger}","softer":"{color.generated.informative.softer}","softest":"{color.generated.informative.softest}"}},"foreground":{"base":"{color.generated.foreground.base}","soft":"{color.generated.foreground.soft}","softer":"{color.generated.foreground.softer}","onPrimary":"{color.generated.background.base}","inverse":"{color.generated.background.base}","neutral":"{color.generated.foreground.base}","positive":"{color.generated.positive.base}","warning":"{color.generated.warning.base}","critical":"{color.generated.critical.base}","accent":{"stronger":"{color.generated.accent.stronger}","strong":"{color.generated.accent.strong}","base":"{color.generated.accent.base}","soft":"{color.generated.accent.soft}","softer":"{color.generated.accent.softer}","softest":"{color.generated.accent.softest}"},"informative":"{color.generated.informative.base}"},"border":{"1":"{color.generated.scale.1}","2":"{color.generated.scale.2}","3":"{color.generated.scale.3}","4":"{color.generated.scale.4}","5":"{color.generated.scale.5}","6":"{color.generated.scale.6}","base":"{color.generated.scale.5}","accent":{"stronger":"{color.generated.accent.stronger}","strong":"{color.generated.accent.strong}","base":"{color.generated.accent.base}","soft":"{color.generated.accent.soft}","softer":"{color.generated.accent.softer}","softest":"{color.generated.accent.softest}"},"positive":{"strong":"{color.generated.positive.strong}","base":"{color.generated.positive.base}","soft":"{color.generated.positive.soft}","stronger":"{color.generated.positive.stronger}","softer":"{color.generated.positive.softer}","softest":"{color.generated.positive.softest}"},"warning":{"strong":"{color.generated.warning.strong}","base":"{color.generated.warning.base}","soft":"{color.generated.warning.soft}","stronger":"{color.generated.warning.stronger}","softer":"{color.generated.warning.softer}","softest":"{color.generated.warning.softest}"},"critical":{"strong":"{color.generated.critical.strong}","base":"{color.generated.critical.base}","soft":"{color.generated.critical.soft}","stronger":"{color.generated.critical.stronger}","softer":"{color.generated.critical.softer}","softest":"{color.generated.critical.softest}"}},"identifier":{"blue":"{color.generated.identifier.blue}","pink":"{color.generated.identifier.pink}","indigo":"{color.generated.identifier.indigo}","teal":"{color.generated.identifier.teal}","green":"{color.generated.identifier.green}","orange":"{color.generated.identifier.orange}","red":"{color.generated.identifier.red}","yellow":"{color.generated.identifier.yellow}","gray":"{color.generated.identifier.gray}"},"link":{"default":"{color.generated.accent.base}","hover":"{color.generated.accent.stronger}"},"transparent":{"0":{"_inputs":["{color.role.foreground.base}"],"_transforms":[{"type":"alpha","amount":0.001}]},"12":{"_inputs":["{color.role.foreground.base}"],"_transforms":[{"type":"alpha","amount":0.12}]},"18":{"_inputs":["{color.role.foreground.base}"],"_transforms":[{"type":"alpha","amount":0.18}]},"32":{"_inputs":["{color.role.foreground.base}"],"_transforms":[{"type":"alpha","amount":0.32}]},"50":{"_inputs":["{color.role.foreground.base}"],"_transforms":[{"type":"alpha","amount":0.5}]}}},"generated":{"scale":{"1":"{color.generated.background.base}","2":{"_inputs":["{color.generated.scale.1}",{"color":"{color.generated.foreground.base}","alpha":0.06}]},"3":{"_inputs":["{color.generated.scale.1}",{"color":"{color.generated.foreground.base}","alpha":0.12}]},"4":{"_inputs":["{color.generated.scale.1}",{"color":"{color.generated.foreground.base}","alpha":0.18}]},"5":{"_inputs":["{color.generated.scale.1}",{"color":"{color.generated.foreground.base}","alpha":0.24}]},"6":{"_inputs":["{color.generated.scale.1}",{"color":"{color.generated.foreground.base}","alpha":0.3}]}},"foreground":{"soft":{"_inputs":["{color.generated.background.base}",{"color":"{color.generated.foreground.base}","alpha":0.75}]},"softer":{"_inputs":["{color.generated.background.base}",{"color":"{color.generated.foreground.base}","alpha":0.6}]}}},"enterprise":{"contextMenu":{"background":"{color.role.background.base}","border":"{color.role.border.base}"},"contextMenuItem":{"divider":"{color.role.border.3}","heading":"{color.role.foreground.soft}","default":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}","active":"{color.role.background.3}","focus":"{color.role.background.3}"},"text":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","active":"{color.role.foreground.base}","focus":"{color.role.foreground.base}"},"icon":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","active":"{color.role.foreground.base}","focus":"{color.role.foreground.base}"}},"critical":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.critical.softest}","active":"{color.role.background.critical.softest}","focus":"{color.role.background.critical.softest}"},"text":{"default":"{color.role.foreground.critical}","hover":"{color.role.foreground.critical}","active":"{color.role.foreground.critical}","focus":"{color.role.foreground.critical}"},"icon":{"default":"{color.role.foreground.critical}","hover":"{color.role.foreground.critical}","active":"{color.role.foreground.critical}","focus":"{color.role.foreground.critical}"}}},"view":{"border":"{color.role.border.base}"},"viewSplitter":{"default":"{color.role.transparent.0}","hover":"{color.role.background.6}"},"window":{"background":"{color.role.background.base}","border":"{color.role.border.base}","text":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}"}},"topChrome":{"border":"{color.role.border.base}"},"topTab":{"icon":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.accent.base}","selected":"{color.role.foreground.accent.base}"},"text":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.base}","selected":"{color.role.foreground.base}"},"overflow":{"start":{"default":"{color.enterprise.topTab.background.default}","hover":"{color.enterprise.topTab.background.hover}","selected":"{color.enterprise.topTab.background.selected}"},"middle":{"default":{"_inputs":["{color.enterprise.topTab.overflow.start.default}"],"_transforms":[{"type":"alpha","amount":0.5}]},"hover":{"_inputs":["{color.enterprise.topTab.overflow.start.hover}"],"_transforms":[{"type":"alpha","amount":0.5}]},"selected":{"_inputs":["{color.enterprise.topTab.overflow.start.selected}"],"_transforms":[{"type":"alpha","amount":0.5}]}},"end":{"default":{"_inputs":["{color.enterprise.topTab.overflow.start.default}"],"_transforms":[{"type":"alpha","amount":0}]},"hover":{"_inputs":["{color.enterprise.topTab.overflow.start.hover}"],"_transforms":[{"type":"alpha","amount":0}]},"selected":{"_inputs":["{color.enterprise.topTab.overflow.start.selected}"],"_transforms":[{"type":"alpha","amount":0}]}}},"unsavedIcon":"{color.role.foreground.base}","loader":"{color.role.foreground.base}"},"viewTab":{"border":{"selected":"{color.role.foreground.base}","dragging":"{color.role.foreground.base}"},"icon":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.base}","active":"{color.role.foreground.base}","selected":"{color.role.foreground.base}"},"text":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.base}","active":"{color.role.foreground.base}","inactive":"{color.role.foreground.soft}","selected":"{color.role.foreground.base}"},"overflow":{"start":{"default":"{color.enterprise.viewTab.background.default}","hover":"{color.enterprise.viewTab.background.hover}","active":"{color.enterprise.viewTab.background.active}","selected":"{color.enterprise.viewTab.background.selected}"},"middle":{"default":{"_inputs":["{color.enterprise.viewTab.overflow.start.default}"],"_transforms":[{"type":"alpha","amount":0.5}]},"hover":{"_inputs":["{color.enterprise.viewTab.overflow.start.hover}"],"_transforms":[{"type":"alpha","amount":0.5}]},"selected":{"_inputs":["{color.enterprise.viewTab.overflow.start.selected}"],"_transforms":[{"type":"alpha","amount":0.5}]}},"end":{"default":{"_inputs":["{color.enterprise.viewTab.overflow.start.default}"],"_transforms":[{"type":"alpha","amount":0}]},"hover":{"_inputs":["{color.enterprise.viewTab.overflow.start.hover}"],"_transforms":[{"type":"alpha","amount":0}]},"selected":{"_inputs":["{color.enterprise.viewTab.overflow.start.selected}"],"_transforms":[{"type":"alpha","amount":0}]}}},"loader":"{color.role.foreground.base}"},"command":{"default":"{color.role.transparent.0}","hover":"{color.role.background.4}"},"shortcutKey":{"background":"{color.role.background.4}","icon":"{color.role.foreground.base}"},"searchBar":{"border":{"default":"{color.role.border.base}","hover":"{color.role.border.6}","active":"{color.role.border.6}","focus":"{color.role.border.strong}"},"icon":{"default":"{color.role.foreground.base}"},"value":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","active":"{color.role.foreground.soft}","focus":"{color.role.foreground.soft}","filled":"{color.role.foreground.base}"},"overflow":{"start":{"default":"{color.enterprise.searchBar.background.default}","hover":"{color.enterprise.searchBar.background.hover}"},"middle":{"default":{"_inputs":["{color.enterprise.searchBar.overflow.start.default}"],"_transforms":[{"type":"alpha","amount":0.5}]},"hover":{"_inputs":["{color.enterprise.searchBar.overflow.start.hover}"],"_transforms":[{"type":"alpha","amount":0.5}]}},"end":{"default":{"_inputs":["{color.enterprise.searchBar.overflow.start.default}"],"_transforms":[{"type":"alpha","amount":0}]},"hover":{"_inputs":["{color.enterprise.searchBar.overflow.start.hover}"],"_transforms":[{"type":"alpha","amount":0}]}}}},"searchMenu":{"background":"{color.role.background.base}","border":"{color.role.border.base}","commandBar":"{color.role.background.2}","banner":"{color.role.background.2}","text":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}"}},"searchResult":{"icon":"{color.shared.icon.accent}","iconBackground":"{color.role.background.2}","heading":"{color.role.foreground.soft}","title":"{color.role.foreground.base}","description":"{color.role.foreground.soft}","link":"{color.role.link.default}","background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}","selected":"{color.role.background.4}"}},"progressIndicator":{"container":"{color.role.transparent.18}","fill":"{color.role.foreground.accent.base}"},"sidePanel":{"background":{"_value":"{color.role.background.base}","transparent":{"_inputs":["{color.enterprise.sidePanel.background}"],"_transforms":[{"type":"alpha","amount":0}]}},"border":"{color.role.border.base}","icon":"{color.role.foreground.base}","text":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}","softer":"{color.role.foreground.softer}"}},"listItem":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}"},"text":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}"},"icon":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}"},"iconBackground":{"default":"{color.role.background.3}","hover":"{color.role.background.3}"}},"prompt":{"text":"{color.role.foreground.base}","icon":"{color.role.foreground.base}","iconBackground":"{color.role.background.base}","editBorder":"{color.role.border.base}","background":{"default":"{color.role.background.3}","hover":"{color.role.background.4}"}},"composer":{"background":"{color.role.background.2}","border":"{color.role.border.base}","placeholder":"{color.role.foreground.soft}","text":"{color.role.foreground.base}"},"skeletonLoader":{"background":"{color.role.background.3}","template":{"start":{"_inputs":["{color.role.background.3}"],"_transforms":[{"type":"alpha","amount":0}]},"middle":"{color.role.background.4}","end":{"_inputs":["{color.role.background.3}"],"_transforms":[{"type":"alpha","amount":0}]}}},"searchFilter":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}","selected":"{color.role.background.accent.softer}","selectedHover":"{color.role.background.accent.soft}"},"border":{"default":"{color.role.border.3}","hover":"{color.role.border.3}","selected":"{color.role.border.accent.base}","selectedHover":"{color.role.border.accent.base}"},"icon":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","selected":"{color.role.background.accent.base}"},"text":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","selected":"{color.role.background.accent.base}"}},"searchTab":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}","selected":"{color.role.transparent.0}"},"icon":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","selected":"{color.role.background.accent.base}"},"text":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.base}","selected":"{color.role.foreground.base}"},"indicator":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.0}","selected":"{color.role.background.accent.base}"}},"featuredContentItem":{"background":{"default":"{color.role.background.2}","hover":"{color.role.background.4}","selected":"{color.role.background.4}"},"text":{"default":"{color.role.foreground.base}"}}},"shared":{"overlay":"{color.role.overlay}","focusRing":"{color.role.focusRing}","watermark":"{color.role.transparent.50}","banner":{"positive":{"background":"{color.role.background.positive.soft}","border":"{color.role.border.positive.base}","text":"{color.role.foreground.base}","icon":"{color.role.foreground.positive}"},"warning":{"background":"{color.role.background.warning.strong}","border":"{color.role.border.warning.base}","text":"{color.role.foreground.inverse}","icon":"{color.role.foreground.warning}"},"critical":{"background":"{color.role.background.critical.soft}","border":"{color.role.border.critical.base}","text":"{color.role.foreground.base}","icon":"{color.role.foreground.critical}"}},"button":{"default":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.12}","selected":"{color.role.background.accent.softer}","pressed":"{color.role.transparent.18}"},"border":{"default":"{color.role.border.base}","hover":"{color.role.border.base}","pressed":"{color.role.border.base}","selected":"{color.role.border.accent.base}"},"icon":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","pressed":"{color.role.foreground.base}","selected":"{color.role.foreground.accent.base}"},"text":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","selected":"{color.role.foreground.accent.base}"},"focusRing":"{color.role.focusRing}"},"primary":{"background":{"default":"{color.role.background.accent.base}","hover":"{color.role.background.accent.strong}","pressed":"{color.role.background.accent.stronger}"},"border":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.0}","pressed":"{color.role.transparent.0}"},"icon":{"default":"{color.role.foreground.onPrimary}","hover":"{color.role.foreground.onPrimary}","pressed":"{color.role.foreground.onPrimary}"},"text":{"default":"{color.role.foreground.onPrimary}","hover":"{color.role.foreground.onPrimary}"},"focusRing":"{color.role.background.accent.soft}"},"subtle":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.12}","pressed":"{color.role.transparent.18}"},"border":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.0}","pressed":"{color.role.transparent.0}"},"icon":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","pressed":"{color.role.foreground.base}"},"text":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}"}},"critical":{"background":{"default":"{color.role.background.critical.base}","hover":"{color.role.background.critical.strong}","pressed":"{color.role.background.critical.stronger}"},"border":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.0}","pressed":"{color.role.transparent.0}"},"icon":{"default":"{color.role.foreground.inverse}","hover":"{color.role.foreground.inverse}","pressed":"{color.role.foreground.inverse}"},"text":{"default":"{color.role.foreground.inverse}","hover":"{color.role.foreground.inverse}"},"focusRing":"{color.role.background.critical.soft}"},"ghost":{"icon":{"default":"{color.role.foreground.base}"},"text":{"default":"{color.role.foreground.base}","hover":"{color.role.background.accent.strong}"},"background":"{color.role.transparent.0}"}},"iconButton":{"ghost":{"icon":{"default":"{color.role.foreground.base}"},"background":"{color.role.transparent.0}"},"primary":{"background":{"default":"{color.role.background.accent.base}","hover":"{color.role.background.accent.strong}"},"border":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.0}","pressed":"{color.role.transparent.0}"},"icon":{"default":"{color.role.foreground.onPrimary}","hover":"{color.role.foreground.onPrimary}","pressed":"{color.role.foreground.onPrimary}"},"focusRing":"{color.role.background.accent.soft}"},"subtle":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.12}","pressed":"{color.role.transparent.18}"},"border":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.0}","pressed":"{color.role.transparent.0}"},"icon":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","pressed":"{color.role.foreground.soft}"}},"default":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.12}","selected":"{color.role.background.accent.softer}","pressed":"{color.role.transparent.18}"},"border":{"default":"{color.role.border.base}","hover":"{color.role.border.base}","pressed":"{color.role.border.base}","selected":"{color.role.border.accent.base}"},"icon":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","pressed":"{color.role.foreground.base}","selected":"{color.role.foreground.accent.base}"},"focusRing":"{color.role.focusRing}"}},"icon":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}","error":"{color.role.foreground.critical}","background3":"{color.role.background.3}","background1":"{color.role.background.1}","accent":"{color.role.foreground.accent.base}","border":"{color.role.foreground.base}","accentTransparent":{"_inputs":["{color.shared.icon.accent}"],"_transforms":[{"type":"alpha","amount":0.16}]}},"dock":{"background":"{color.role.background.base}","dragIndicator":"{color.role.foreground.soft}","border":"{color.role.border.base}"},"indicator":{"text":"{color.role.foreground.inverse}","background":{"blue":"{color.role.identifier.blue}","orange":"{color.role.identifier.orange}","indigo":"{color.role.identifier.indigo}","pink":"{color.role.identifier.pink}","yellow":"{color.role.identifier.yellow}","green":"{color.role.identifier.green}","teal":"{color.role.identifier.teal}","red":"{color.role.identifier.red}","expired":"{color.role.background.6}","transparent":"{color.role.transparent.0}"}},"notification":{"background":"{color.role.background.3}","border":"{color.role.border.base}","text":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}"}},"placementOption":{"text":{"default":"{color.role.foreground.base}"},"backdrop":"{color.role.background.2}","background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.4}","selected":"{color.role.background.6}"},"previewObject":{"default":"{color.role.background.5}","hover":"{color.role.background.accent.base}","selected":"{color.role.background.accent.base}"}},"platformSelector":{"underline":"{color.role.border.base}"},"notificationCenter":{"background":"{color.role.background.base}","border":"{color.role.border.base}","text":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}"},"icon":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}"}},"toggle":{"track":{"off":"{color.role.transparent.32}","on":"{color.role.background.accent.base}"},"thumb":{"off":"{color.role.foreground.base}","on":"{color.role.foreground.onPrimary}"}},"colorChannel":{"blue":"{color.role.identifier.blue}","pink":"{color.role.identifier.pink}","indigo":"{color.role.identifier.indigo}","teal":"{color.role.identifier.teal}","green":"{color.role.identifier.green}","orange":"{color.role.identifier.orange}","red":"{color.role.identifier.red}","yellow":"{color.role.identifier.yellow}","gray":"{color.role.identifier.gray}","unlink":"{color.role.foreground.base}","selected":"{color.role.background.base}"},"dropzone":{"border":"{color.role.background.accent.base}","background":{"_inputs":["{color.role.background.accent.base}"],"_transforms":[{"type":"alpha","amount":0.25}]}},"form":{"label":"{color.role.foreground.base}","helpIcon":"{color.role.foreground.soft}","optionalDot":"{color.role.foreground.critical}","background":{"default":"{color.role.transparent.0}","hover":"{color.role.transparent.0}","focus":"{color.role.transparent.0}","filled":"{color.role.transparent.0}","error":"{color.role.transparent.0}","selected":"{color.role.background.accent.base}"},"border":{"default":"{color.role.border.base}","hover":"{color.role.border.6}","focus":"{color.role.border.accent.base}","filled":"{color.role.border.base}","error":"{color.role.border.critical.base}","selected":"{color.role.border.accent.base}"},"placeholder":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","focus":"{color.role.foreground.soft}"},"icon":{"default":"{color.role.foreground.soft}","focus":"{color.role.foreground.base}","selected":"{color.role.foreground.onPrimary}"},"value":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","focus":"{color.role.foreground.base}","filled":"{color.role.foreground.base}"},"errorMessage":{"background":"{color.role.background.critical.softest}","text":"{color.role.foreground.base}","icon":"{color.role.foreground.critical}"},"focusRing":"{color.role.border.accent.soft}","hint":"{color.role.foreground.softer}"},"scrollBar":{"area":"{color.role.transparent.50}","bar":"{color.role.background.base}"}},"coreui":{"home":{"background":"{color.role.background.2}","border":"{color.role.border.4}"},"homeInput":{"background":{"default":"{color.role.background.4}","hover":"{color.role.background.4}","active":"{color.role.background.4}","focus":"{color.role.background.4}"},"value":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","active":"{color.role.foreground.base}","filled":"{color.role.foreground.base}"},"border":{"active":"{color.role.border.base}","focus":"{color.role.border.base}"}},"homeResult":{"icon":"{color.role.foreground.base}","background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}","selected":"{color.role.background.6}","launching":"{color.role.background.6}"},"title":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","selected":"{color.role.foreground.base}","launching":"{color.role.foreground.base}"},"description":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","selected":"{color.role.foreground.base}","launching":"{color.role.foreground.base}"}},"homeTemplate":{"background":"{color.role.background.3}","icon":"{color.role.foreground.base}","text":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}"}},"homeCard":{"background":"{color.role.background.3}"},"homeHotkey":{"background":"{color.role.background.6}","icon":"{color.role.foreground.base}","text":"{color.role.foreground.base}"},"homeText":{"base":"{color.role.foreground.base}","soft":"{color.role.foreground.soft}"},"store":{"background":"{color.role.background.2}"},"storeBanner":{"background":"{color.role.background.accent.base}","button":{"background":{"default":"{color.role.background.base}","hover":"{color.role.background.base}"},"text":{"default":"{color.role.foreground.accent.base}","hover":"{color.role.background.accent.base}"},"icon":{"default":"{color.role.background.accent.base}","hover":"{color.role.background.accent.base}"}},"header":{"title":"{color.role.foreground.onPrimary}","description":"{color.role.foreground.onPrimary}"}},"storeInput":{"background":{"default":"{color.role.background.4}","hover":"{color.role.background.4}","active":"{color.role.background.4}","filled":"{color.role.background.4}","error":"{color.role.background.4}"},"border":{"active":"{color.role.border.base}","focus":"{color.role.border.base}","error":"{color.role.border.critical.base}"},"value":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","active":"{color.role.foreground.soft}","filled":"{color.role.foreground.base}","error":"{color.role.foreground.critical}"},"icon":"{color.role.foreground.base}"},"storeSidebar":{"background":"{color.role.background.3}","header":"{color.role.foreground.base}"},"storeCard":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.4}"},"title":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}"},"description":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}"}},"storeMenuItem":{"text":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}"},"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}"},"category":"{color.role.foreground.soft}"},"storeFooter":{"link":{"default":"{color.role.foreground.base}","hover":"{color.role.foreground.base}"},"tagline":"{color.role.foreground.base}","icon":"{color.role.foreground.base}"},"browser":{"background":"{color.role.background.1}","border":"{color.role.border.base}"},"browserTopBar":{"background":"{color.role.background.2}","border":"{color.role.border.base}"},"browserToolbarIcon":{"default":"{color.role.foreground.base}","focus":"{color.role.foreground.base}","selected":"{color.role.foreground.onPrimary}","active":"{color.role.foreground.base}","hover":"{color.role.foreground.base}","background":{"default":"{color.role.transparent.0}","focus":"{color.role.transparent.0}","selected":"{color.role.background.accent.base}","active":"{color.role.transparent.0}","hover":"{color.role.background.4}"}},"browserViewSplitter":{"default":"{color.role.background.1}","hover":"{color.role.background.3}"},"browserPageTab":{"text":{"default":"{color.role.foreground.base}","selected":"{color.role.background.base}"},"background":{"default":"{color.role.background.4}","selected":"{color.role.background.accent.base}"},"icon":{"default":"{color.role.foreground.base}","selected":"{color.role.foreground.onPrimary}"}},"browserViewTab":{"background":{"default":"{color.role.transparent.0}","hover":"{color.role.background.3}","active":"{color.role.background.2}","focus":"{color.role.background.2}"},"text":{"default":"{color.role.foreground.base}"},"border":{"active":"{color.role.border.5}","focus":"{color.role.border.5}"},"icon":"{color.role.foreground.base}"},"browserView":{"border":{"default":"{color.role.transparent.0}","focus":"{color.role.border.base}","green":"{color.role.identifier.green}","purple":"{color.role.identifier.indigo}","orange":"{color.role.identifier.orange}","red":"{color.role.identifier.red}","pink":"{color.role.identifier.pink}","yellow":"{color.role.identifier.yellow}"},"icon":"{color.role.foreground.base}"}},"admin":{"1":"#ffffff","color":"#ffffff","color2":"#ffffff"},"_utilities":{"green":"{color.role.background.positive.base}","red":"{color.role.background.critical.base}","appBackground1":"{color.role.background.1}","loader":"#e3e1e200","dataViz":{"linePlot":"{color.role.border.accent.base}"},"teamsProfiles":{"text":{"red":"#76213e","green":"#164229","yellow":"#805d0b","orange":"#56392b","purple":"#282155","blue":"#0f3157"},"background":{"red":"#f5d4df","green":"#cfe0d6","yellow":"#fdefca","orange":"#e8ddd9","purple":"#d6d4e9","blue":"#cddaea"}},"appBackground2":"{color.role.background.2}","appBackground3":"{color.role.background.3}"}},"colorPrimitives":{"green":{"50":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.green.base}","600":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.green.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"blue":{"50":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.blue.base}","600":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.blue.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"indigo":{"50":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.indigo.base}","600":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.indigo.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"pink":{"50":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.pink.base}","600":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.pink.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"orange":{"50":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.orange.base}","600":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.orange.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"teal":{"50":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.teal.base}","600":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.teal.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"red":{"50":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.red.base}","600":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.red.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"yellow":{"50":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.yellow.base}","600":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.yellow.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}},"gray":{"50":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(255, 255, 255, 0.9)"}]},"100":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(255, 255, 255, 0.8)"}]},"200":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(255, 255, 255, 0.6)"}]},"300":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(255, 255, 255, 0.4)"}]},"400":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(255, 255, 255, 0.2)"}]},"500":"{colorPrimitives.gray.base}","600":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(0, 0, 0, 0.2)"}]},"700":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(0, 0, 0, 0.4)"}]},"800":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(0, 0, 0, 0.6)"}]},"900":{"_inputs":["{colorPrimitives.gray.500}",{"color":"rgba(0, 0, 0, 0.8)"}]}}}}'),JSON.parse('{"colorPrimitives":{"green":{"base":"rgba(3, 227, 156, 1)"},"blue":{"base":"rgba(31, 169, 255, 1)"},"indigo":{"base":"rgba(147, 133, 255, 1)"},"pink":{"base":"rgba(240, 163, 222, 1)"},"orange":{"base":"rgba(254, 159, 108, 1)"},"teal":{"base":"rgba(72, 224, 224, 1)"},"red":{"base":"rgba(250, 102, 105, 1)"},"yellow":{"base":"rgba(250, 214, 127, 1)"},"gray":{"base":"rgba(156, 160, 160, 1)"}},"brand":{"accent":{"100":{"_inputs":["{brand.accent.dark}",{"color":"{brand.base.dark}","alpha":0.8}],"_transforms":[{"type":"darken","amount":0.1},{"type":"saturate","amount":0.1}]},"200":{"_inputs":["{brand.accent.dark}",{"color":"{brand.base.dark}","alpha":0.7}],"_transforms":[{"type":"darken","amount":0.1},{"type":"saturate","amount":0.1}]},"300":{"_inputs":["{brand.accent.dark}",{"color":"{brand.base.dark}","alpha":0.6}],"_transforms":[{"type":"darken","amount":0.1},{"type":"saturate","amount":0.1}]},"400":"{brand.accent.dark}","500":{"_inputs":["{brand.accent.dark}",{"color":"{brand.base.light}","alpha":0.4}]},"600":{"_inputs":["{brand.accent.dark}",{"color":"{brand.base.light}","alpha":0.6}]}},"status":{"positive":{"100":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.dark}","alpha":0.9}]},"200":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.dark}","alpha":0.8}]},"300":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.dark}","alpha":0.7}]},"400":"{colorPrimitives.green.500}","500":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.light}","alpha":0.4}]},"600":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.light}","alpha":0.6}]}},"warning":{"100":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.dark}","alpha":0.9}]},"200":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.dark}","alpha":0.8}]},"300":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.dark}","alpha":0.7}]},"400":"{colorPrimitives.yellow.500}","500":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.light}","alpha":0.4}]},"600":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.light}","alpha":0.6}]}},"critical":{"100":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.dark}","alpha":0.9}]},"200":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.dark}","alpha":0.8}]},"300":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.dark}","alpha":0.7}]},"400":"{colorPrimitives.red.500}","500":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.light}","alpha":0.4}]},"600":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.light}","alpha":0.6}]}},"informative":{"100":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.dark}","alpha":0.9}]},"200":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.dark}","alpha":0.8}]},"300":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.dark}","alpha":0.7}]},"400":"{colorPrimitives.blue.500}","500":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.light}","alpha":0.4}]},"600":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.light}","alpha":0.6}]}}}},"color":{"generated":{"accent":{"stronger":"{brand.accent.600}","strong":"{brand.accent.500}","base":"{brand.accent.400}","soft":"{brand.accent.300}","softer":"{brand.accent.200}","softest":"{brand.accent.100}"},"background":{"base":"{brand.base.dark}"},"foreground":{"base":"{brand.base.light}"},"identifier":{"blue":"{colorPrimitives.blue.500}","pink":"{colorPrimitives.pink.500}","indigo":"{colorPrimitives.indigo.500}","teal":"{colorPrimitives.teal.500}","green":"{colorPrimitives.green.500}","orange":"{colorPrimitives.orange.500}","red":"{colorPrimitives.red.500}","yellow":"{colorPrimitives.yellow.500}","gray":"{colorPrimitives.gray.500}"},"positive":{"strong":"{brand.status.positive.500}","base":"{brand.status.positive.400}","soft":"{brand.status.positive.300}","stronger":"{brand.status.positive.600}","softer":"{brand.status.positive.200}","softest":"{brand.status.positive.100}"},"warning":{"strong":"{brand.status.warning.500}","base":"{brand.status.warning.400}","soft":"{brand.status.warning.300}","stronger":"{brand.status.warning.600}","softer":"{brand.status.warning.200}","softest":"{brand.status.warning.100}"},"critical":{"strong":"{brand.status.critical.500}","base":"{brand.status.critical.400}","soft":"{brand.status.critical.300}","stronger":"{brand.status.critical.600}","softer":"{brand.status.critical.200}","softest":"{brand.status.critical.100}"},"informative":{"strong":"{brand.status.informative.500}","base":"{brand.status.informative.400}","soft":"{brand.status.informative.300}","stronger":"{brand.status.informative.600}","softer":"{brand.status.informative.200}","softest":"{brand.status.informative.100}"}},"shared":{"button":{"ghost":{"icon":{"hover":"{color.role.background.accent.base}","active":"{color.role.background.accent.strong}"},"text":{"pressed":"{color.role.background.accent.strong}"}}},"iconButton":{"ghost":{"icon":{"hover":"{color.role.background.accent.base}","pressed":"{color.role.background.accent.strong}"}}}},"coreui":{"homeInput":{"border":{"default":"{color.role.border.6}","hover":"{color.role.border.6}"}},"storeInput":{"border":{"default":"{color.role.border.4}","hover":"{color.role.border.4}"}}},"role":{"border":{"stronger":"{color.role.foreground.soft}","strong":"{color.role.foreground.softer}"}},"enterprise":{"contextMenuItem":{"default":{"hint":{"default":"{color.role.foreground.soft}","hover":"{color.role.foreground.soft}","active":"{color.role.foreground.soft}","focus":"{color.role.foreground.soft}"}}},"view":{"background":"{color.role.background.3}"},"topChrome":{"background":"{color.role.background.base}"},"logo":{"background":"{brand.accent.dark}","foreground":"{brand.accent.light}"},"topTab":{"background":{"default":"{color.role.background.base}","hover":"{color.role.background.3}","selected":"{color.role.background.3}","dragging":"{color.role.background.3}"}},"viewTab":{"background":{"default":"{color.role.background.3}","hover":"{color.role.background.5}","active":"{color.role.background.5}","selected":"{color.role.background.5}","dragging":"{color.role.background.5}"}},"searchBar":{"background":{"default":"{color.role.background.3}","hover":"{color.role.background.4}","active":"{color.role.background.3}","focus":"{color.role.background.3}"}}}}}'),JSON.parse('{"colorPrimitives":{"green":{"base":"rgba(1, 126, 86, 1)"},"blue":{"base":"rgba(0, 113, 184, 1)"},"indigo":{"base":"rgba(83, 61, 255, 1)"},"pink":{"base":"rgba(215, 15, 167, 1)"},"orange":{"base":"rgba(208, 74, 1, 1)"},"teal":{"base":"rgba(22, 131, 131, 1)"},"red":{"base":"rgba(206, 8, 10, 1)"},"yellow":{"base":"rgba(155, 111, 3, 1)"},"gray":{"base":"rgba(104, 109, 110, 1)"}},"brand":{"accent":{"100":{"_inputs":["{brand.accent.light}",{"color":"{brand.base.light}","alpha":0.6}],"_transforms":[{"type":"lighten","amount":0.2},{"type":"saturate","amount":0.1}]},"200":{"_inputs":["{brand.accent.light}",{"color":"{brand.base.light}","alpha":0.5}],"_transforms":[{"type":"lighten","amount":0.2},{"type":"saturate","amount":0.1}]},"300":{"_inputs":["{brand.accent.light}",{"color":"{brand.base.light}","alpha":0.6}],"_transforms":[{"type":"darken","amount":0.1},{"type":"saturate","amount":0.1}]},"400":"{brand.accent.light}","500":{"_inputs":["{brand.accent.light}",{"color":"{brand.base.dark}","alpha":0.4}]},"600":{"_inputs":["{brand.accent.light}",{"color":"{brand.base.dark}","alpha":0.6}]}},"status":{"positive":{"100":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.light}","alpha":0.9}]},"200":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.light}","alpha":0.8}]},"300":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.light}","alpha":0.7}]},"400":"{colorPrimitives.green.500}","500":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.dark}","alpha":0.4}]},"600":{"_inputs":["{brand.status.positive.400}",{"color":"{brand.base.dark}","alpha":0.6}]}},"warning":{"100":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.light}","alpha":0.9}]},"200":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.light}","alpha":0.8}]},"300":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.light}","alpha":0.7}]},"400":"{colorPrimitives.yellow.500}","500":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.dark}","alpha":0.4}]},"600":{"_inputs":["{brand.status.warning.400}",{"color":"{brand.base.dark}","alpha":0.6}]}},"critical":{"100":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.light}","alpha":0.9}]},"200":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.light}","alpha":0.8}]},"300":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.light}","alpha":0.7}]},"400":"{colorPrimitives.red.500}","500":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.dark}","alpha":0.4}]},"600":{"_inputs":["{brand.status.critical.400}",{"color":"{brand.base.dark}","alpha":0.6}]}},"informative":{"100":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.light}","alpha":0.9}]},"200":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.light}","alpha":0.8}]},"300":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.light}","alpha":0.7}]},"400":"{colorPrimitives.blue.500}","500":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.dark}","alpha":0.4}]},"600":{"_inputs":["{brand.status.informative.400}",{"color":"{brand.base.dark}","alpha":0.6}]}}}},"color":{"generated":{"accent":{"stronger":"{brand.accent.600}","strong":"{brand.accent.500}","base":"{brand.accent.400}","soft":"{brand.accent.300}","softer":"{brand.accent.200}","softest":"{brand.accent.100}"},"background":{"base":"{brand.base.light}"},"foreground":{"base":"{brand.base.dark}"},"identifier":{"blue":"{colorPrimitives.blue.500}","pink":"{colorPrimitives.pink.500}","indigo":"{colorPrimitives.indigo.500}","teal":"{colorPrimitives.teal.500}","green":"{colorPrimitives.green.500}","orange":"{colorPrimitives.orange.500}","red":"{colorPrimitives.red.500}","yellow":"{colorPrimitives.yellow.400}","gray":"{colorPrimitives.gray.500}"},"positive":{"strong":"{brand.status.positive.500}","base":"{brand.status.positive.400}","soft":"{brand.status.positive.300}","stronger":"{brand.status.positive.600}","softer":"{brand.status.positive.200}","softest":"{brand.status.positive.100}"},"warning":{"strong":"{brand.status.warning.500}","base":"{brand.status.warning.400}","soft":"{brand.status.warning.300}","stronger":"{brand.status.warning.600}","softer":"{brand.status.warning.200}","softest":"{brand.status.warning.100}"},"critical":{"strong":"{brand.status.critical.500}","base":"{brand.status.critical.400}","soft":"{brand.status.critical.300}","stronger":"{brand.status.critical.600}","softer":"{brand.status.critical.200}","softest":"{brand.status.critical.100}"},"informative":{"strong":"{brand.status.informative.500}","base":"{brand.status.informative.400}","soft":"{brand.status.informative.300}","stronger":"{brand.status.informative.600}","softer":"{brand.status.informative.200}","softest":"{brand.status.informative.100}"}},"shared":{"button":{"ghost":{"icon":{"hover":"{color.role.background.accent.strong}","active":"{color.role.background.accent.stronger}"},"text":{"pressed":"{color.role.background.accent.stronger}"}}},"iconButton":{"ghost":{"icon":{"hover":"{color.role.background.accent.strong}","pressed":"{color.role.background.accent.stronger}"}}}},"coreui":{"homeInput":{"border":{"default":"{color.role.border.4}","hover":"{color.role.border.4}"}},"storeInput":{"border":{"default":"{color.role.border.6}","hover":"{color.role.border.6}"}}},"role":{"border":{"stronger":"{color.generated.foreground.soft}","strong":"{color.generated.foreground.softer}"}},"enterprise":{"contextMenuItem":{"default":{"hint":{"default":"{color.role.foreground.softer}","hover":"{color.role.foreground.softer}","active":"{color.role.foreground.softer}","focus":"{color.role.foreground.softer}"}}},"view":{"background":"{color.role.background.1}"},"topChrome":{"background":"{color.role.background.2}"},"topTab":{"background":{"default":"{color.role.background.2}","hover":"{color.role.background.1}","selected":"{color.role.background.1}","dragging":"{color.role.background.1}"}},"logo":{"background":"{brand.accent.light}","foreground":"{brand.accent.dark}"},"viewTab":{"background":{"default":"{color.role.background.1}","hover":"{color.role.background.3}","active":"{color.role.background.3}","selected":"{color.role.background.3}","dragging":"{color.role.background.3}"}},"searchBar":{"background":{"default":"{color.role.background.base}","hover":"{color.role.background.3}","active":"{color.role.background.base}","focus":"{color.role.background.base}"}}}}}');var v=h(2543);h.n(v);const m=(e,r)=>{if("number"==typeof e)return 3===r?{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|240&e)/255,b:(15&e|e<<4&240)/255}:4===r?{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|240&e)/255,alpha:(15&e|e<<4&240)/255}:6===r?{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}:8===r?{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(255&e)/255}:void 0},y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},w=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,_="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",k=`${_}%`,x=`(?:${_}%|${_})`,P=`(?:${_}(deg|grad|rad|turn)|${_})`,S="\\s*,\\s*",M=(new RegExp(`^(?:${_}%|${_}|none)$`),new RegExp(`^rgba?\\(\\s*${_}${S}${_}${S}${_}\\s*(?:,\\s*${x}\\s*)?\\)$`)),I=new RegExp(`^rgba?\\(\\s*${k}${S}${k}${S}${k}\\s*(?:,\\s*${x}\\s*)?\\)$`),C=(e="rgb")=>r=>void 0!==(r=((e,r)=>void 0===e?void 0:"object"!=typeof e?re(e):void 0!==e.mode?e:r?{...e,mode:r}:void 0)(r,e))?r.mode===e?r:A[r.mode][e]?A[r.mode][e](r):"rgb"===e?A[r.mode].rgb(r):A.rgb[e](A[r.mode].rgb(r)):void 0,A={},O={},F=[],W={},z=e=>e,T=e=>(A[e.mode]={...A[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach(r=>{A[r]||(A[r]={}),A[r][e.mode]=e.fromMode[r]}),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach(r=>{if(void 0===e.ranges[r]&&(e.ranges[r]=[0,1]),!e.interpolate[r])throw new Error(`Missing interpolator for: ${r}`);"function"==typeof e.interpolate[r]&&(e.interpolate[r]={use:e.interpolate[r]}),e.interpolate[r].fixup||(e.interpolate[r].fixup=z)}),O[e.mode]=e,(e.parse||[]).forEach(r=>{B(r,e.mode)}),C(e.mode)),D=e=>O[e],B=(e,r)=>{if("string"==typeof e){if(!r)throw new Error("'mode' required when 'parser' is a string");W[e]=r}else"function"==typeof e&&F.indexOf(e)<0&&F.push(e)},R=/[^\x00-\x7F]|[a-zA-Z_]/,E=/[^\x00-\x7F]|[-\w]/,j="function",$="ident",N="number",G="percentage",L="none",U="hue",V="alpha";let q=0;function H(e){let r=e[q],t=e[q+1];return"-"===r||"+"===r?/\d/.test(t)||"."===t&&/\d/.test(e[q+2]):/\d/.test("."===r?t:r)}function K(e){if(q>=e.length)return!1;let r=e[q];if(R.test(r))return!0;if("-"===r){if(e.length-q<2)return!1;let r=e[q+1];return!("-"!==r&&!R.test(r))}return!1}const Z={deg:1,rad:180/Math.PI,grad:.9,turn:360};function Y(e){let r="";if("-"!==e[q]&&"+"!==e[q]||(r+=e[q++]),r+=Q(e),"."===e[q]&&/\d/.test(e[q+1])&&(r+=e[q++]+Q(e)),"e"!==e[q]&&"E"!==e[q]||("-"!==e[q+1]&&"+"!==e[q+1]||!/\d/.test(e[q+2])?/\d/.test(e[q+1])&&(r+=e[q++]+Q(e)):r+=e[q++]+e[q++]+Q(e)),K(e)){let t=J(e);return"deg"===t||"rad"===t||"turn"===t||"grad"===t?{type:U,value:r*Z[t]}:void 0}return"%"===e[q]?(q++,{type:G,value:+r}):{type:N,value:+r}}function Q(e){let r="";for(;/\d/.test(e[q]);)r+=e[q++];return r}function J(e){let r="";for(;q<e.length&&E.test(e[q]);)r+=e[q++];return r}function X(e){let r=J(e);return"("===e[q]?(q++,{type:j,value:r}):"none"===r?{type:L,value:void 0}:{type:$,value:r}}function ee(e,r){const t=[];let o;for(;e._i<e.length;)if(o=e[e._i++],o.type===L||o.type===N||o.type===V||o.type===G||r&&o.type===U)t.push(o);else{if(")"!==o.type)return;if(e._i<e.length)return}if(!(t.length<3||t.length>4)){if(4===t.length){if(t[3].type!==V)return;t[3]=t[3].value}return 3===t.length&&t.push({type:L,value:void 0}),t.every(e=>e.type!==V)?t:void 0}}const re=e=>{if("string"!=typeof e)return;const r=function(e=""){let r,t=e.trim(),o=[];for(q=0;q<t.length;)if(r=t[q++],"\n"!==r&&"\t"!==r&&" "!==r){if(","===r)return;if(")"!==r){if("+"===r){if(q--,H(t)){o.push(Y(t));continue}return}if("-"===r){if(q--,H(t)){o.push(Y(t));continue}if(K(t)){o.push({type:$,value:J(t)});continue}return}if("."===r){if(q--,H(t)){o.push(Y(t));continue}return}if("/"===r){for(;q<t.length&&("\n"===t[q]||"\t"===t[q]||" "===t[q]);)q++;let e;if(H(t)&&(e=Y(t),e.type!==U)){o.push({type:V,value:e});continue}if(K(t)&&"none"===J(t)){o.push({type:V,value:{type:L,value:void 0}});continue}return}if(/\d/.test(r))q--,o.push(Y(t));else{if(!R.test(r))return;q--,o.push(X(t))}}else o.push({type:")"})}else for(;q<t.length&&("\n"===t[q]||"\t"===t[q]||" "===t[q]);)q++;return o}(e),t=r?function(e){e._i=0;let r=e[e._i++];if(!r||r.type!==j)return;let t=ee(e,!0);return t?(t.unshift(r.value),t):void 0}(r):void 0;let o,n=0,a=F.length;for(;n<a;)if(void 0!==(o=F[n++](e,t)))return o;return r?function(e){e._i=0;let r=e[e._i++];if(!r||r.type!==j||"color"!==r.value)return;if(r=e[e._i++],r.type!==$)return;const t=W[r.value];if(!t)return;const o={mode:t},n=ee(e,!1);if(!n)return;const a=D(t).channels;for(let e,r,t=0;t<a.length;t++)e=n[t],r=a[t],e.type!==L&&(o[r]=e.type===N?e.value:e.value/100,"alpha"===r&&(o[r]=Math.max(0,Math.min(1,o[r]))));return o}(r):void 0},te=(oe=(e,r,t)=>e+t*(r-e),e=>{let r=(e=>{let r=[];for(let t=0;t<e.length-1;t++){let o=e[t],n=e[t+1];void 0===o&&void 0===n?r.push(void 0):void 0!==o&&void 0!==n?r.push([o,n]):r.push(void 0!==o?[o,o]:[n,n])}return r})(e);return e=>{let t=e*r.length,o=e>=1?r.length-1:Math.max(Math.floor(t),0),n=r[o];return void 0===n?void 0:oe(n[0],n[1],t-o)}});var oe;const ne=e=>{let r=!1,t=e.map(e=>void 0!==e?(r=!0,e):1);return r?t:e},ae={mode:"rgb",channels:["r","g","b","alpha"],parse:[function(e,r){if(!r||"rgb"!==r[0]&&"rgba"!==r[0])return;const t={mode:"rgb"},[,o,n,a,i]=r;return o.type!==U&&n.type!==U&&a.type!==U?(o.type!==L&&(t.r=o.type===N?o.value/255:o.value/100),n.type!==L&&(t.g=n.type===N?n.value/255:n.value/100),a.type!==L&&(t.b=a.type===N?a.value/255:a.value/100),i.type!==L&&(t.alpha=Math.min(1,Math.max(0,i.type===N?i.value:i.value/100))),t):void 0},e=>{let r;return(r=e.match(w))?m(parseInt(r[1],16),r[1].length):void 0},e=>{let r,t={mode:"rgb"};if(r=e.match(M))void 0!==r[1]&&(t.r=r[1]/255),void 0!==r[2]&&(t.g=r[2]/255),void 0!==r[3]&&(t.b=r[3]/255);else{if(!(r=e.match(I)))return;void 0!==r[1]&&(t.r=r[1]/100),void 0!==r[2]&&(t.g=r[2]/100),void 0!==r[3]&&(t.b=r[3]/100)}return void 0!==r[4]?t.alpha=Math.max(0,Math.min(1,r[4]/100)):void 0!==r[5]&&(t.alpha=Math.max(0,Math.min(1,+r[5]))),t},e=>m(y[e.toLowerCase()],6),e=>"transparent"===e?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,"srgb"],serialize:"srgb",interpolate:{r:te,g:te,b:te,alpha:{use:te,fixup:ne}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},ie=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),le=e=>{let r=ie(e.r),t=ie(e.g),o=ie(e.b),n={mode:"xyz65",x:.5766690429101305*r+.1855582379065463*t+.1882286462349947*o,y:.297344975250536*r+.6273635662554661*t+.0752914584939979*o,z:.0270313613864123*r+.0706888525358272*t+.9913375368376386*o};return void 0!==e.alpha&&(n.alpha=e.alpha),n},ce=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),se=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n={mode:"a98",r:ce(2.0415879038107465*e-.5650069742788597*r-.3447313507783297*t),g:ce(-.9692436362808798*e+1.8759675015077206*r+.0415550574071756*t),b:ce(.0134442806320312*e-.1183623922310184*r+1.0151749943912058*t)};return void 0!==o&&(n.alpha=o),n},ue=(e=0)=>{const r=Math.abs(e);return r<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((r+.055)/1.055,2.4)},de=({r:e,g:r,b:t,alpha:o})=>{let n={mode:"lrgb",r:ue(e),g:ue(r),b:ue(t)};return void 0!==o&&(n.alpha=o),n},fe=e=>{let{r,g:t,b:o,alpha:n}=de(e),a={mode:"xyz65",x:.4123907992659593*r+.357584339383878*t+.1804807884018343*o,y:.2126390058715102*r+.715168678767756*t+.0721923153607337*o,z:.0193308187155918*r+.119194779794626*t+.9505321522496607*o};return void 0!==n&&(a.alpha=n),a},pe=(e=0)=>{const r=Math.abs(e);return r>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(r,1/2.4)-.055):12.92*e},ge=({r:e,g:r,b:t,alpha:o},n="rgb")=>{let a={mode:n,r:pe(e),g:pe(r),b:pe(t)};return void 0!==o&&(a.alpha=o),a},he=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=ge({r:3.2409699419045226*e-1.537383177570094*r-.4986107602930034*t,g:-.9692436362808796*e+1.8759675015077204*r+.0415550574071756*t,b:.0556300796969936*e-.2039769588889765*r+1.0569715142428784*t});return void 0!==o&&(n.alpha=o),n},be={...ae,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>se(fe(e)),xyz65:se},toMode:{rgb:e=>he(le(e)),xyz65:le}},ve=e=>(e%=360)<0?e+360:e,me=e=>(e=>e.map((r,t,o)=>{if(void 0===r)return r;let n=ve(r);return 0===t||void 0===e[t-1]?n:(e=>Math.abs(e)<=180?e:e-360*Math.sign(e))(n-ve(o[t-1]))}).reduce((e,r)=>e.length&&void 0!==r&&void 0!==e[e.length-1]?(e.push(r+e[e.length-1]),e):(e.push(r),e),[]))(e),ye=[-.14861,1.78277,-.29227,-.90649,1.97294,0],we=Math.PI/180,_e=180/Math.PI;let ke=ye[3]*ye[4],xe=ye[1]*ye[4],Pe=ye[1]*ye[2]-ye[0]*ye[3];const Se=(e,r)=>{if(void 0===e.h||void 0===r.h||!e.s||!r.s)return 0;let t=ve(e.h),o=ve(r.h),n=Math.sin((o-t+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*r.s)*n},Me=(e,r)=>{if(void 0===e.h||void 0===r.h||!e.c||!r.c)return 0;let t=ve(e.h),o=ve(r.h),n=Math.sin((o-t+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*r.c)*n},Ie=e=>{let r=e.reduce((e,r)=>{if(void 0!==r){let t=r*Math.PI/180;e.sin+=Math.sin(t),e.cos+=Math.cos(t)}return e},{sin:0,cos:0}),t=180*Math.atan2(r.sin,r.cos)/Math.PI;return t<0?360+t:t},Ce={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:({r:e,g:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=(Pe*t+e*ke-r*xe)/(Pe+ke-xe),a=t-n,i=(ye[4]*(r-n)-ye[2]*a)/ye[3],l={mode:"cubehelix",l:n,s:0===n||1===n?void 0:Math.sqrt(a*a+i*i)/(ye[4]*n*(1-n))};return l.s&&(l.h=Math.atan2(i,a)*_e-120),void 0!==o&&(l.alpha=o),l}},toMode:{rgb:({h:e,s:r,l:t,alpha:o})=>{let n={mode:"rgb"};e=(void 0===e?0:e+120)*we,void 0===t&&(t=0);let a=void 0===r?0:r*t*(1-t),i=Math.cos(e),l=Math.sin(e);return n.r=t+a*(ye[0]*i+ye[1]*l),n.g=t+a*(ye[2]*i+ye[3]*l),n.b=t+a*(ye[4]*i+ye[5]*l),void 0!==o&&(n.alpha=o),n}},interpolate:{h:{use:te,fixup:me},s:te,l:te,alpha:{use:te,fixup:ne}},difference:{h:Se},average:{h:Ie}},Ae=({l:e,a:r,b:t,alpha:o},n="lch")=>{void 0===r&&(r=0),void 0===t&&(t=0);let a=Math.sqrt(r*r+t*t),i={mode:n,l:e,c:a};return a&&(i.h=ve(180*Math.atan2(t,r)/Math.PI)),void 0!==o&&(i.alpha=o),i},Oe=({l:e,c:r,h:t,alpha:o},n="lab")=>{void 0===t&&(t=0);let a={mode:n,l:e,a:r?r*Math.cos(t/180*Math.PI):0,b:r?r*Math.sin(t/180*Math.PI):0};return void 0!==o&&(a.alpha=o),a},Fe=Math.pow(29,3)/Math.pow(3,3),We=Math.pow(6,3)/Math.pow(29,3),ze=.3457/.3585,Te=.2958/.3585,De=.3127/.329,Be=.3583/.329;Math.pow(29,3),Math.pow(3,3),Math.pow(6,3),Math.pow(29,3);let Re=e=>Math.pow(e,3)>We?Math.pow(e,3):(116*e-16)/Fe;const Ee=({l:e,a:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=(e+16)/116,a=n-t/200,i={mode:"xyz65",x:Re(r/500+n)*De,y:1*Re(n),z:Re(a)*Be};return void 0!==o&&(i.alpha=o),i},je=e=>he(Ee(e)),$e=e=>e>We?Math.cbrt(e):(Fe*e+16)/116,Ne=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=$e(e/De),a=$e(r/1),i={mode:"lab65",l:116*a-16,a:500*(n-a),b:200*(a-$e(t/Be))};return void 0!==o&&(i.alpha=o),i},Ge=e=>{let r=Ne(fe(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},Le=26/180*Math.PI,Ue=Math.cos(Le),Ve=Math.sin(Le),qe=100/Math.log(1.39),He=({l:e,c:r,h:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n={mode:"lab65",l:(Math.exp(1*e/qe)-1)/.0039},a=(Math.exp(.0435*r*1*1)-1)/.075,i=a*Math.cos(t/180*Math.PI-Le),l=a*Math.sin(t/180*Math.PI-Le);return n.a=i*Ue-l/.83*Ve,n.b=i*Ve+l/.83*Ue,void 0!==o&&(n.alpha=o),n},Ke=({l:e,a:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=r*Ue+t*Ve,a=.83*(t*Ue-r*Ve),i=Math.sqrt(n*n+a*a),l={mode:"dlch",l:qe/1*Math.log(1+.0039*e),c:Math.log(1+.075*i)/.0435};return l.c&&(l.h=ve((Math.atan2(a,n)+Le)/Math.PI*180)),void 0!==o&&(l.alpha=o),l},Ze=e=>He(Ae(e,"dlch")),Ye=e=>Oe(Ke(e),"dlab"),Qe={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:Ze,rgb:e=>je(Ze(e))},fromMode:{lab65:Ye,rgb:e=>Ye(Ge(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:te,a:te,b:te,alpha:{use:te,fixup:ne}}},Je=Qe,Xe={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:He,dlab:e=>Oe(e,"dlab"),rgb:e=>je(He(e))},fromMode:{lab65:Ke,dlab:e=>Ae(e,"dlch"),rgb:e=>Ke(Ge(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:te,c:te,h:{use:te,fixup:me},alpha:{use:te,fixup:ne}},difference:{h:Me},average:{h:Ie}},er=Xe,rr={mode:"hsi",toMode:{rgb:function({h:e,s:r,i:t,alpha:o}){e=ve(void 0!==e?e:0),void 0===r&&(r=0),void 0===t&&(t=0);let n,a=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:n={r:t*(1+r*(3/(2-a)-1)),g:t*(1+r*(3*(1-a)/(2-a)-1)),b:t*(1-r)};break;case 1:n={r:t*(1+r*(3*(1-a)/(2-a)-1)),g:t*(1+r*(3/(2-a)-1)),b:t*(1-r)};break;case 2:n={r:t*(1-r),g:t*(1+r*(3/(2-a)-1)),b:t*(1+r*(3*(1-a)/(2-a)-1))};break;case 3:n={r:t*(1-r),g:t*(1+r*(3*(1-a)/(2-a)-1)),b:t*(1+r*(3/(2-a)-1))};break;case 4:n={r:t*(1+r*(3*(1-a)/(2-a)-1)),g:t*(1-r),b:t*(1+r*(3/(2-a)-1))};break;case 5:n={r:t*(1+r*(3/(2-a)-1)),g:t*(1-r),b:t*(1+r*(3*(1-a)/(2-a)-1))};break;default:n={r:t*(1-r),g:t*(1-r),b:t*(1-r)}}return n.mode="rgb",void 0!==o&&(n.alpha=o),n}},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:function({r:e,g:r,b:t,alpha:o}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=Math.max(e,r,t),a=Math.min(e,r,t),i={mode:"hsi",s:e+r+t===0?0:1-3*a/(e+r+t),i:(e+r+t)/3};return n-a!==0&&(i.h=60*(n===e?(r-t)/(n-a)+6*(r<t):n===r?(t-e)/(n-a)+2:(e-r)/(n-a)+4)),void 0!==o&&(i.alpha=o),i}},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:te,fixup:me},s:te,i:te,alpha:{use:te,fixup:ne}},difference:{h:Se},average:{h:Ie}},tr=rr,or=new RegExp(`^hsla?\\(\\s*${P}${S}${k}${S}${k}\\s*(?:,\\s*${x}\\s*)?\\)$`),nr={mode:"hsl",toMode:{rgb:function({h:e,s:r,l:t,alpha:o}){e=ve(void 0!==e?e:0),void 0===r&&(r=0),void 0===t&&(t=0);let n,a=t+r*(t<.5?t:1-t),i=a-2*(a-t)*Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:n={r:a,g:i,b:2*t-a};break;case 1:n={r:i,g:a,b:2*t-a};break;case 2:n={r:2*t-a,g:a,b:i};break;case 3:n={r:2*t-a,g:i,b:a};break;case 4:n={r:i,g:2*t-a,b:a};break;case 5:n={r:a,g:2*t-a,b:i};break;default:n={r:2*t-a,g:2*t-a,b:2*t-a}}return n.mode="rgb",void 0!==o&&(n.alpha=o),n}},fromMode:{rgb:function({r:e,g:r,b:t,alpha:o}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=Math.max(e,r,t),a=Math.min(e,r,t),i={mode:"hsl",s:n===a?0:(n-a)/(1-Math.abs(n+a-1)),l:.5*(n+a)};return n-a!==0&&(i.h=60*(n===e?(r-t)/(n-a)+6*(r<t):n===r?(t-e)/(n-a)+2:(e-r)/(n-a)+4)),void 0!==o&&(i.alpha=o),i}},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[function(e,r){if(!r||"hsl"!==r[0]&&"hsla"!==r[0])return;const t={mode:"hsl"},[,o,n,a,i]=r;if(o.type!==L){if(o.type===G)return;t.h=o.value}if(n.type!==L){if(n.type===U)return;t.s=n.value/100}if(a.type!==L){if(a.type===U)return;t.l=a.value/100}return i.type!==L&&(t.alpha=Math.min(1,Math.max(0,i.type===N?i.value:i.value/100))),t},e=>{let r=e.match(or);if(!r)return;let t={mode:"hsl"};return void 0!==r[3]?t.h=+r[3]:void 0!==r[1]&&void 0!==r[2]&&(t.h=((e,r)=>{switch(r){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return 360*e}})(r[1],r[2])),void 0!==r[4]&&(t.s=Math.min(Math.max(0,r[4]/100),1)),void 0!==r[5]&&(t.l=Math.min(Math.max(0,r[5]/100),1)),void 0!==r[6]?t.alpha=Math.max(0,Math.min(1,r[6]/100)):void 0!==r[7]&&(t.alpha=Math.max(0,Math.min(1,+r[7]))),t}],serialize:e=>`hsl(${void 0!==e.h?e.h:"none"} ${void 0!==e.s?100*e.s+"%":"none"} ${void 0!==e.l?100*e.l+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:te,fixup:me},s:te,l:te,alpha:{use:te,fixup:ne}},difference:{h:Se},average:{h:Ie}},ar=nr;function ir({h:e,s:r,v:t,alpha:o}){e=ve(void 0!==e?e:0),void 0===r&&(r=0),void 0===t&&(t=0);let n,a=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:n={r:t,g:t*(1-r*a),b:t*(1-r)};break;case 1:n={r:t*(1-r*a),g:t,b:t*(1-r)};break;case 2:n={r:t*(1-r),g:t,b:t*(1-r*a)};break;case 3:n={r:t*(1-r),g:t*(1-r*a),b:t};break;case 4:n={r:t*(1-r*a),g:t*(1-r),b:t};break;case 5:n={r:t,g:t*(1-r),b:t*(1-r*a)};break;default:n={r:t*(1-r),g:t*(1-r),b:t*(1-r)}}return n.mode="rgb",void 0!==o&&(n.alpha=o),n}function lr({r:e,g:r,b:t,alpha:o}){void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=Math.max(e,r,t),a=Math.min(e,r,t),i={mode:"hsv",s:0===n?0:1-a/n,v:n};return n-a!==0&&(i.h=60*(n===e?(r-t)/(n-a)+6*(r<t):n===r?(t-e)/(n-a)+2:(e-r)/(n-a)+4)),void 0!==o&&(i.alpha=o),i}const cr={mode:"hsv",toMode:{rgb:ir},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:lr},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:te,fixup:me},s:te,v:te,alpha:{use:te,fixup:ne}},difference:{h:Se},average:{h:Ie}},sr={mode:"hwb",toMode:{rgb:function({h:e,w:r,b:t,alpha:o}){if(void 0===r&&(r=0),void 0===t&&(t=0),r+t>1){let e=r+t;r/=e,t/=e}return ir({h:e,s:1===t?1:1-r/(1-t),v:1-t,alpha:o})}},fromMode:{rgb:function(e){let r=lr(e);if(void 0===r)return;let t=void 0!==r.s?r.s:0,o=void 0!==r.v?r.v:0,n={mode:"hwb",w:(1-t)*o,b:1-o};return void 0!==r.h&&(n.h=r.h),void 0!==r.alpha&&(n.alpha=r.alpha),n}},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[function(e,r){if(!r||"hwb"!==r[0])return;const t={mode:"hwb"},[,o,n,a,i]=r;if(o.type!==L){if(o.type===G)return;t.h=o.value}if(n.type!==L){if(n.type===U)return;t.w=n.value/100}if(a.type!==L){if(a.type===U)return;t.b=a.value/100}return i.type!==L&&(t.alpha=Math.min(1,Math.max(0,i.type===N?i.value:i.value/100))),t}],serialize:e=>`hwb(${void 0!==e.h?e.h:"none"} ${void 0!==e.w?100*e.w+"%":"none"} ${void 0!==e.b?100*e.b+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:te,fixup:me},w:te,b:te,alpha:{use:te,fixup:ne}},difference:{h:(e,r)=>{if(void 0===e.h||void 0===r.h)return 0;let t=ve(e.h),o=ve(r.h);return Math.abs(o-t)>180?t-(o-360*Math.sign(o-t)):o-t}},average:{h:Ie}},ur=sr,dr=.1593017578125,fr=78.84375,pr=.8359375,gr=18.8515625,hr=18.6875;function br(e){if(e<0)return 0;const r=Math.pow(e,1/fr);return 1e4*Math.pow(Math.max(0,r-pr)/(gr-hr*r),1/dr)}function vr(e){if(e<0)return 0;const r=Math.pow(e/1e4,dr);return Math.pow((pr+gr*r)/(1+hr*r),fr)}const mr=e=>Math.max(e/203,0),yr=({i:e,t:r,p:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);const n=br(e+.008609037037932761*r+.11102962500302593*t),a=br(e-.00860903703793275*r-.11102962500302599*t),i=br(e+.5600313357106791*r-.32062717498731885*t),l={mode:"xyz65",x:mr(2.070152218389422*n-1.3263473389671556*a+.2066510476294051*i),y:mr(.3647385209748074*n+.680566024947227*a-.0453045459220346*i),z:mr(-.049747207535812*n-.0492609666966138*a+1.1880659249923042*i)};return void 0!==o&&(l.alpha=o),l},wr=(e=0)=>Math.max(203*e,0),_r=({x:e,y:r,z:t,alpha:o})=>{const n=wr(e),a=wr(r),i=wr(t),l=vr(.3592832590121217*n+.6976051147779502*a-.0358915932320289*i),c=vr(-.1920808463704995*n+1.1004767970374323*a+.0753748658519118*i),s=vr(.0070797844607477*n+.0748396662186366*a+.8433265453898765*i),u={mode:"itp",i:.5*l+.5*c,t:1.61376953125*l-3.323486328125*c+1.709716796875*s,p:4.378173828125*l-4.24560546875*c-.132568359375*s};return void 0!==o&&(u.alpha=o),u},kr={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:yr,rgb:e=>he(yr(e))},fromMode:{xyz65:_r,rgb:e=>_r(fe(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:te,t:te,p:te,alpha:{use:te,fixup:ne}}},xr=e=>{if(e<0)return 0;let r=Math.pow(e/1e4,dr);return Math.pow((pr+gr*r)/(1+hr*r),134.03437499999998)},Pr=(e=0)=>Math.max(203*e,0),Sr=({x:e,y:r,z:t,alpha:o})=>{e=Pr(e),r=Pr(r);let n=1.15*e-.15*(t=Pr(t)),a=.66*r+.34*e,i=xr(.41478972*n+.579999*a+.014648*t),l=xr(-.20151*n+1.120649*a+.0531008*t),c=xr(-.0166008*n+.2648*a+.6684799*t),s=(i+l)/2,u={mode:"jab",j:.44*s/(1-.56*s)-16295499532821565e-27,a:3.524*i-4.066708*l+.542708*c,b:.199076*i+1.096799*l-1.295875*c};return void 0!==o&&(u.alpha=o),u},Mr=16295499532821565e-27,Ir=e=>{if(e<0)return 0;let r=Math.pow(e,.007460772656268216);return 1e4*Math.pow((pr-r)/(hr*r-gr),1/dr)},Cr=e=>e/203,Ar=({j:e,a:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=(e+Mr)/(.44+.56*(e+Mr)),a=Ir(n+.13860504*r+.058047316*t),i=Ir(n-.13860504*r-.058047316*t),l=Ir(n-.096019242*r-.8118919*t),c={mode:"xyz65",x:Cr(1.661373024652174*a-.914523081304348*i+.23136208173913045*l),y:Cr(-.3250758611844533*a+1.571847026732543*i-.21825383453227928*l),z:Cr(-.090982811*a-.31272829*i+1.5227666*l)};return void 0!==o&&(c.alpha=o),c},Or=e=>{let r=Sr(fe(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},Fr=e=>he(Ar(e)),Wr={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:Or,xyz65:Sr},toMode:{rgb:Fr,xyz65:Ar},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:te,a:te,b:te,alpha:{use:te,fixup:ne}}},zr=({j:e,a:r,b:t,alpha:o})=>{void 0===r&&(r=0),void 0===t&&(t=0);let n=Math.sqrt(r*r+t*t),a={mode:"jch",j:e,c:n};return n&&(a.h=ve(180*Math.atan2(t,r)/Math.PI)),void 0!==o&&(a.alpha=o),a},Tr=({j:e,c:r,h:t,alpha:o})=>{void 0===t&&(t=0);let n={mode:"jab",j:e,a:r?r*Math.cos(t/180*Math.PI):0,b:r?r*Math.sin(t/180*Math.PI):0};return void 0!==o&&(n.alpha=o),n},Dr={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:Tr,rgb:e=>Fr(Tr(e))},fromMode:{rgb:e=>zr(Or(e)),jab:zr},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:te,fixup:me},c:te,j:te,alpha:{use:te,fixup:ne}},difference:{h:Me},average:{h:Ie}},Br=Dr,Rr=Math.pow(29,3)/Math.pow(3,3),Er=Math.pow(6,3)/Math.pow(29,3);let jr=e=>Math.pow(e,3)>Er?Math.pow(e,3):(116*e-16)/Rr;const $r=({l:e,a:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=(e+16)/116,a=n-t/200,i={mode:"xyz50",x:jr(r/500+n)*ze,y:1*jr(n),z:jr(a)*Te};return void 0!==o&&(i.alpha=o),i},Nr=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=ge({r:3.1341359569958707*e-1.6173863321612538*r-.4906619460083532*t,g:-.978795502912089*e+1.916254567259524*r+.03344273116131949*t,b:.07195537988411677*e-.2289768264158322*r+1.405386058324125*t});return void 0!==o&&(n.alpha=o),n},Gr=e=>Nr($r(e)),Lr=e=>{let{r,g:t,b:o,alpha:n}=de(e),a={mode:"xyz50",x:.436065742824811*r+.3851514688337912*t+.14307845442264197*o,y:.22249319175623702*r+.7168870538238823*t+.06061979053616537*o,z:.013923904500943465*r+.09708128566574634*t+.7140993584005155*o};return void 0!==n&&(a.alpha=n),a},Ur=e=>e>Er?Math.cbrt(e):(Rr*e+16)/116,Vr=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=Ur(e/ze),a=Ur(r/1),i={mode:"lab",l:116*a-16,a:500*(n-a),b:200*(a-Ur(t/Te))};return void 0!==o&&(i.alpha=o),i},qr=e=>{let r=Vr(Lr(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},Hr={mode:"lab",toMode:{xyz50:$r,rgb:Gr},fromMode:{xyz50:Vr,rgb:qr},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-125,125],b:[-125,125]},parse:[function(e,r){if(!r||"lab"!==r[0])return;const t={mode:"lab"},[,o,n,a,i]=r;return o.type!==U&&n.type!==U&&a.type!==U?(o.type!==L&&(t.l=Math.min(Math.max(0,o.value),100)),n.type!==L&&(t.a=n.type===N?n.value:125*n.value/100),a.type!==L&&(t.b=a.type===N?a.value:125*a.value/100),i.type!==L&&(t.alpha=Math.min(1,Math.max(0,i.type===N?i.value:i.value/100))),t):void 0}],serialize:e=>`lab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:te,a:te,b:te,alpha:{use:te,fixup:ne}}},Kr=Hr,Zr={...Kr,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Ee,rgb:je},fromMode:{xyz65:Ne,rgb:Ge},ranges:{l:[0,100],a:[-125,125],b:[-125,125]}},Yr={mode:"lch",toMode:{lab:Oe,rgb:e=>Gr(Oe(e))},fromMode:{rgb:e=>Ae(qr(e)),lab:Ae},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[function(e,r){if(!r||"lch"!==r[0])return;const t={mode:"lch"},[,o,n,a,i]=r;if(o.type!==L){if(o.type===U)return;t.l=Math.min(Math.max(0,o.value),100)}if(n.type!==L&&(t.c=Math.max(0,n.type===N?n.value:150*n.value/100)),a.type!==L){if(a.type===G)return;t.h=a.value}return i.type!==L&&(t.alpha=Math.min(1,Math.max(0,i.type===N?i.value:i.value/100))),t}],serialize:e=>`lch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${void 0!==e.h?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:te,fixup:me},c:te,l:te,alpha:{use:te,fixup:ne}},difference:{h:Me},average:{h:Ie}},Qr=Yr,Jr={...Qr,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>Oe(e,"lab65"),rgb:e=>je(Oe(e,"lab65"))},fromMode:{rgb:e=>Ae(Ge(e),"lch65"),lab65:e=>Ae(e,"lch65")},ranges:{l:[0,100],c:[0,150],h:[0,360]}},Xr=Jr,et=({l:e,u:r,v:t,alpha:o})=>{void 0===r&&(r=0),void 0===t&&(t=0);let n=Math.sqrt(r*r+t*t),a={mode:"lchuv",l:e,c:n};return n&&(a.h=ve(180*Math.atan2(t,r)/Math.PI)),void 0!==o&&(a.alpha=o),a},rt=({l:e,c:r,h:t,alpha:o})=>{void 0===t&&(t=0);let n={mode:"luv",l:e,u:r?r*Math.cos(t/180*Math.PI):0,v:r?r*Math.sin(t/180*Math.PI):0};return void 0!==o&&(n.alpha=o),n},tt=(e,r,t)=>4*e/(e+15*r+3*t),ot=(e,r,t)=>9*r/(e+15*r+3*t),nt=tt(ze,1,Te),at=ot(ze,1,Te),it=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=(a=r/1)<=Er?Rr*a:116*Math.cbrt(a)-16;var a;let i=tt(e,r,t),l=ot(e,r,t);isFinite(i)&&isFinite(l)?(i=13*n*(i-nt),l=13*n*(l-at)):n=i=l=0;let c={mode:"luv",l:n,u:i,v:l};return void 0!==o&&(c.alpha=o),c},lt=4*(ct=ze)/(ct+15+3*Te);var ct;const st=({l:e,u:r,v:t,alpha:o})=>{if(void 0===e&&(e=0),0===e)return{mode:"xyz50",x:0,y:0,z:0};void 0===r&&(r=0),void 0===t&&(t=0);let n=r/(13*e)+lt,a=t/(13*e)+.4880797507034157,i=1*(e<=8?e/Rr:Math.pow((e+16)/116,3)),l={mode:"xyz50",x:i*(9*n)/(4*a),y:i,z:i*(12-3*n-20*a)/(4*a)};return void 0!==o&&(l.alpha=o),l},ut={mode:"lchuv",toMode:{luv:rt,rgb:e=>Nr(st(rt(e)))},fromMode:{rgb:e=>et(it(Lr(e))),luv:et},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:te,fixup:me},c:te,l:te,alpha:{use:te,fixup:ne}},difference:{h:Me},average:{h:Ie}},dt=ut,ft={...ae,mode:"lrgb",toMode:{rgb:ge},fromMode:{rgb:de},parse:["srgb-linear"],serialize:"srgb-linear"},pt={mode:"luv",toMode:{xyz50:st,rgb:e=>Nr(st(e))},fromMode:{xyz50:it,rgb:e=>it(Lr(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:te,u:te,v:te,alpha:{use:te,fixup:ne}}},gt=pt,ht=({r:e,g:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=Math.cbrt(.412221469470763*e+.5363325372617348*r+.0514459932675022*t),a=Math.cbrt(.2119034958178252*e+.6806995506452344*r+.1073969535369406*t),i=Math.cbrt(.0883024591900564*e+.2817188391361215*r+.6299787016738222*t),l={mode:"oklab",l:.210454268309314*n+.7936177747023054*a-.0040720430116193*i,a:1.9779985324311684*n-2.42859224204858*a+.450593709617411*i,b:.0259040424655478*n+.7827717124575296*a-.8086757549230774*i};return void 0!==o&&(l.alpha=o),l},bt=e=>{let r=ht(de(e));return e.r===e.b&&e.b===e.g&&(r.a=r.b=0),r},vt=({l:e,a:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=Math.pow(e+.3963377773761749*r+.2158037573099136*t,3),a=Math.pow(e-.1055613458156586*r-.0638541728258133*t,3),i=Math.pow(e-.0894841775298119*r-1.2914855480194092*t,3),l={mode:"lrgb",r:4.076741636075957*n-3.3077115392580616*a+.2309699031821044*i,g:-1.2684379732850317*n+2.6097573492876887*a-.3413193760026573*i,b:-.0041960761386756*n-.7034186179359362*a+1.7076146940746117*i};return void 0!==o&&(l.alpha=o),l},mt=e=>ge(vt(e));function yt(e){const r=.206,t=1.206/1.03;return.5*(t*e-r+Math.sqrt((t*e-r)*(t*e-r)+.12*t*e))}function wt(e){return(e*e+.206*e)/(1.206/1.03*(e+.03))}function _t(e,r){let t=function(e,r){let t,o,n,a,i,l,c,s;-1.88170328*e-.80936493*r>1?(t=1.19086277,o=1.76576728,n=.59662641,a=.75515197,i=.56771245,l=4.0767416621,c=-3.3077115913,s=.2309699292):1.81444104*e-1.19445276*r>1?(t=.73956515,o=-.45954404,n=.08285427,a=.1254107,i=.14503204,l=-1.2684380046,c=2.6097574011,s=-.3413193965):(t=1.35733652,o=-.00915799,n=-1.1513021,a=-.50559606,i=.00692167,l=-.0041960863,c=-.7034186147,s=1.707614701);let u=t+o*e+n*r+a*e*e+i*e*r,d=.3963377774*e+.2158037573*r,f=-.1055613458*e-.0638541728*r,p=-.0894841775*e-1.291485548*r;{let e=1+u*d,r=1+u*f,t=1+u*p,o=l*(e*e*e)+c*(r*r*r)+s*(t*t*t),n=l*(3*d*e*e)+c*(3*f*r*r)+s*(3*p*t*t);u-=o*n/(n*n-.5*o*(l*(6*d*d*e)+c*(6*f*f*r)+s*(6*p*p*t)))}return u}(e,r),o=vt({l:1,a:t*e,b:t*r}),n=Math.cbrt(1/Math.max(o.r,o.g,o.b));return[n,n*t]}function kt(e,r,t=null){t||(t=_t(e,r));let o=t[0],n=t[1];return[n/o,n/(1-o)]}function xt(e,r,t){let o=_t(r,t),n=function(e,r,t,o,n,a=null){let i;if(a||(a=_t(e,r)),(t-n)*a[1]-(a[0]-n)*o<=0)i=a[1]*n/(o*a[0]+a[1]*(n-t));else{i=a[1]*(n-1)/(o*(a[0]-1)+a[1]*(n-t));{let a=t-n,l=.3963377774*e+.2158037573*r,c=-.1055613458*e-.0638541728*r,s=-.0894841775*e-1.291485548*r,u=a+o*l,d=a+o*c,f=a+o*s;{let e=n*(1-i)+i*t,r=i*o,a=e+r*l,p=e+r*c,g=e+r*s,h=a*a*a,b=p*p*p,v=g*g*g,m=3*u*a*a,y=3*d*p*p,w=3*f*g*g,_=6*u*u*a,k=6*d*d*p,x=6*f*f*g,P=4.0767416621*h-3.3077115913*b+.2309699292*v-1,S=4.0767416621*m-3.3077115913*y+.2309699292*w,M=S/(S*S-.5*P*(4.0767416621*_-3.3077115913*k+.2309699292*x)),I=-P*M,C=-1.2684380046*h+2.6097574011*b-.3413193965*v-1,A=-1.2684380046*m+2.6097574011*y-.3413193965*w,O=A/(A*A-.5*C*(-1.2684380046*_+2.6097574011*k-.3413193965*x)),F=-C*O,W=-.0041960863*h-.7034186147*b+1.707614701*v-1,z=-.0041960863*m-.7034186147*y+1.707614701*w,T=z/(z*z-.5*W*(-.0041960863*_-.7034186147*k+1.707614701*x)),D=-W*T;I=M>=0?I:1e6,F=O>=0?F:1e6,D=T>=0?D:1e6,i+=Math.min(I,Math.min(F,D))}}}return i}(r,t,e,1,e,o),a=kt(r,t,o),i=e*(.11516993+1/(7.4477897+4.1590124*t+r*(1.75198401*t-2.19557347+r*(-2.13704948-10.02301043*t+r*(5.38770819*t-4.24894561+4.69891013*r))))),l=(1-e)*(.11239642+1/(1.6132032-.68124379*t+r*(.40370612+.90148123*t+r*(.6122399*t-.27087943+r*(.00299215-.45399568*t-.14661872*r))))),c=n/Math.min(e*a[0],(1-e)*a[1])*.9*Math.sqrt(Math.sqrt(1/(1/(i*i*i*i)+1/(l*l*l*l))));return i=.4*e,l=.8*(1-e),[Math.sqrt(1/(1/(i*i)+1/(l*l))),c,n]}function Pt(e){const r=void 0!==e.l?e.l:0,t=void 0!==e.a?e.a:0,o=void 0!==e.b?e.b:0,n={mode:"okhsl",l:yt(r)};void 0!==e.alpha&&(n.alpha=e.alpha);let a=Math.sqrt(t*t+o*o);if(!a)return n.s=0,n;let i,[l,c,s]=xt(r,t/a,o/a);if(a<c){let e=0,r=.8*l;i=(a-e)/(r+(1-r/c)*(a-e))*.8}else{let e=.2*c*c*1.25*1.25/l;i=.8+(a-c)/(e+(1-e/(s-c))*(a-c))*.2}return i&&(n.s=i,n.h=ve(180*Math.atan2(o,t)/Math.PI)),n}function St(e){let r=void 0!==e.h?e.h:0,t=void 0!==e.s?e.s:0,o=void 0!==e.l?e.l:0;const n={mode:"oklab",l:wt(o)};if(void 0!==e.alpha&&(n.alpha=e.alpha),!t||1===o)return n.a=n.b=0,n;let a,i,l,c,s=Math.cos(r/180*Math.PI),u=Math.sin(r/180*Math.PI),[d,f,p]=xt(n.l,s,u);t<.8?(a=1.25*t,i=0,l=.8*d,c=1-l/f):(a=5*(t-.8),i=f,l=.2*f*f*1.25*1.25/d,c=1-l/(p-f));let g=i+a*l/(1-c*a);return n.a=g*s,n.b=g*u,n}const Mt={...ar,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:Pt,rgb:e=>Pt(bt(e))},toMode:{oklab:St,rgb:e=>mt(St(e))}},It=Mt;function Ct(e){let r=void 0!==e.l?e.l:0,t=void 0!==e.a?e.a:0,o=void 0!==e.b?e.b:0,n=Math.sqrt(t*t+o*o),a=n?t/n:1,i=n?o/n:1,[l,c]=kt(a,i),s=1-.5/l,u=c/(n+r*c),d=u*r,f=u*n,p=wt(d),g=f*p/d,h=vt({l:p,a:a*g,b:i*g}),b=Math.cbrt(1/Math.max(h.r,h.g,h.b,0));r/=b,n=n/b*yt(r)/r,r=yt(r);const v={mode:"okhsv",s:n?(.5+c)*f/(.5*c+c*s*f):0,v:r?r/d:0};return v.s&&(v.h=ve(180*Math.atan2(o,t)/Math.PI)),void 0!==e.alpha&&(v.alpha=e.alpha),v}function At(e){const r={mode:"oklab"};void 0!==e.alpha&&(r.alpha=e.alpha);const t=void 0!==e.h?e.h:0,o=void 0!==e.s?e.s:0,n=void 0!==e.v?e.v:0,a=Math.cos(t/180*Math.PI),i=Math.sin(t/180*Math.PI),[l,c]=kt(a,i),s=.5,u=1-s/l,d=1-o*s/(s+c-c*u*o),f=o*c*s/(s+c-c*u*o),p=wt(d),g=f*p/d,h=vt({l:p,a:a*g,b:i*g}),b=Math.cbrt(1/Math.max(h.r,h.g,h.b,0)),v=wt(n*d),m=f*v/d;return r.l=v*b,r.a=m*a*b,r.b=m*i*b,r}const Ot={...cr,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:Ct,rgb:e=>Ct(bt(e))},toMode:{oklab:At,rgb:e=>mt(At(e))}},Ft=Ot,Wt={...Kr,mode:"oklab",toMode:{lrgb:vt,rgb:mt},fromMode:{lrgb:ht,rgb:bt},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[function(e,r){if(!r||"oklab"!==r[0])return;const t={mode:"oklab"},[,o,n,a,i]=r;return o.type!==U&&n.type!==U&&a.type!==U?(o.type!==L&&(t.l=Math.min(Math.max(0,o.type===N?o.value:o.value/100),1)),n.type!==L&&(t.a=n.type===N?n.value:.4*n.value/100),a.type!==L&&(t.b=a.type===N?a.value:.4*a.value/100),i.type!==L&&(t.alpha=Math.min(1,Math.max(0,i.type===N?i.value:i.value/100))),t):void 0}],serialize:e=>`oklab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`},zt=Wt,Tt={...Qr,mode:"oklch",toMode:{oklab:e=>Oe(e,"oklab"),rgb:e=>mt(Oe(e,"oklab"))},fromMode:{rgb:e=>Ae(bt(e),"oklch"),oklab:e=>Ae(e,"oklch")},parse:[function(e,r){if(!r||"oklch"!==r[0])return;const t={mode:"oklch"},[,o,n,a,i]=r;if(o.type!==L){if(o.type===U)return;t.l=Math.min(Math.max(0,o.type===N?o.value:o.value/100),1)}if(n.type!==L&&(t.c=Math.max(0,n.type===N?n.value:.4*n.value/100)),a.type!==L){if(a.type===G)return;t.h=a.value}return i.type!==L&&(t.alpha=Math.min(1,Math.max(0,i.type===N?i.value:i.value/100))),t}],serialize:e=>`oklch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${void 0!==e.h?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},Dt=Tt,Bt=e=>{let{r,g:t,b:o,alpha:n}=de(e),a={mode:"xyz65",x:.486570948648216*r+.265667693169093*t+.1982172852343625*o,y:.2289745640697487*r+.6917385218365062*t+.079286914093745*o,z:0*r+.0451133818589026*t+1.043944368900976*o};return void 0!==n&&(a.alpha=n),a},Rt=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n=ge({r:2.4934969119414263*e-.9313836179191242*r-.402710784450717*t,g:-.8294889695615749*e+1.7626640603183465*r+.0236246858419436*t,b:.0358458302437845*e-.0761723892680418*r+.9568845240076871*t},"p3");return void 0!==o&&(n.alpha=o),n},Et={...ae,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>Rt(fe(e)),xyz65:Rt},toMode:{rgb:e=>he(Bt(e)),xyz65:Bt}},jt=e=>{let r=Math.abs(e);return r>=1/512?Math.sign(e)*Math.pow(r,1/1.8):16*e},$t=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n={mode:"prophoto",r:jt(1.3457868816471585*e-.2555720873797946*r-.0511018649755453*t),g:jt(-.5446307051249019*e+1.5082477428451466*r+.0205274474364214*t),b:jt(0*e+0*r+1.2119675456389452*t)};return void 0!==o&&(n.alpha=o),n},Nt=(e=0)=>{let r=Math.abs(e);return r>=16/512?Math.sign(e)*Math.pow(r,1.8):e/16},Gt=e=>{let r=Nt(e.r),t=Nt(e.g),o=Nt(e.b),n={mode:"xyz50",x:.7977666449006423*r+.1351812974005331*t+.0313477341283922*o,y:.2880748288194013*r+.7118352342418731*t+899369387256e-16*o,z:0*r+0*t+.8251046025104602*o};return void 0!==e.alpha&&(n.alpha=e.alpha),n},Lt={...ae,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:$t,rgb:e=>$t(Lr(e))},toMode:{xyz50:Gt,rgb:e=>Nr(Gt(e))}},Ut=1.09929682680944,Vt=e=>{const r=Math.abs(e);return r>.018053968510807?(Math.sign(e)||1)*(Ut*Math.pow(r,.45)-(Ut-1)):4.5*e},qt=({x:e,y:r,z:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);let n={mode:"rec2020",r:Vt(1.7166511879712683*e-.3556707837763925*r-.2533662813736599*t),g:Vt(-.6666843518324893*e+1.6164812366349395*r+.0157685458139111*t),b:Vt(.0176398574453108*e-.0427706132578085*r+.9421031212354739*t)};return void 0!==o&&(n.alpha=o),n},Ht=1.09929682680944,Kt=(e=0)=>{let r=Math.abs(e);return r<.08124285829863151?e/4.5:(Math.sign(e)||1)*Math.pow((r+Ht-1)/Ht,1/.45)},Zt=e=>{let r=Kt(e.r),t=Kt(e.g),o=Kt(e.b),n={mode:"xyz65",x:.6369580483012911*r+.1446169035862083*t+.1688809751641721*o,y:.262700212011267*r+.6779980715188708*t+.059301716469862*o,z:0*r+.0280726930490874*t+1.0609850577107909*o};return void 0!==e.alpha&&(n.alpha=e.alpha),n},Yt={...ae,mode:"rec2020",fromMode:{xyz65:qt,rgb:e=>qt(fe(e))},toMode:{xyz65:Zt,rgb:e=>he(Zt(e))},parse:["rec2020"],serialize:"rec2020"},Qt=.0037930732552754493,Jt=Math.cbrt(Qt),Xt=e=>Math.cbrt(e)-Jt,eo=e=>Math.pow(e+Jt,3),ro={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:({x:e,y:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);const n=eo(e+r)-Qt,a=eo(r-e)-Qt,i=eo(t+r)-Qt,l=ge({r:11.031566904639861*n-9.866943908131562*a-.16462299650829934*i,g:-3.2541473810744237*n+4.418770377582723*a-.16462299650829934*i,b:-3.6588512867136815*n+2.7129230459360922*a+1.9459282407775895*i});return void 0!==o&&(l.alpha=o),l}},fromMode:{rgb:e=>{const{r,g:t,b:o,alpha:n}=de(e),a=Xt(.3*r+.622*t+.078*o+Qt),i=Xt(.23*r+.692*t+.078*o+Qt),l={mode:"xyb",x:(a-i)/2,y:(a+i)/2,b:Xt(.2434226892454782*r+.2047674442449682*t+.5518098665095535*o+Qt)-(a+i)/2};return void 0!==n&&(l.alpha=n),l}},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:te,y:te,b:te,alpha:{use:te,fixup:ne}}},to={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:Nr,lab:Vr},fromMode:{rgb:Lr,lab:$r},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:te,y:te,z:te,alpha:{use:te,fixup:ne}}},oo={mode:"xyz65",toMode:{rgb:he,xyz50:e=>{let{x:r,y:t,z:o,alpha:n}=e;void 0===r&&(r=0),void 0===t&&(t=0),void 0===o&&(o=0);let a={mode:"xyz50",x:1.0479298208405488*r+.0229467933410191*t-.0501922295431356*o,y:.0296278156881593*r+.990434484573249*t-.0170738250293851*o,z:-.0092430581525912*r+.0150551448965779*t+.7518742899580008*o};return void 0!==n&&(a.alpha=n),a}},fromMode:{rgb:fe,xyz50:e=>{let{x:r,y:t,z:o,alpha:n}=e;void 0===r&&(r=0),void 0===t&&(t=0),void 0===o&&(o=0);let a={mode:"xyz65",x:.9554734527042182*r-.0230985368742614*t+.0632593086610217*o,y:-.0283697069632081*r+1.0099954580058226*t+.021041398966943*o,z:.0123140016883199*r-.0205076964334779*t+1.3303659366080753*o};return void 0!==n&&(a.alpha=n),a}},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:te,y:te,z:te,alpha:{use:te,fixup:ne}}},no={mode:"yiq",toMode:{rgb:({y:e,i:r,q:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);const n={mode:"rgb",r:e+.95608445*r+.6208885*t,g:e-.27137664*r-.6486059*t,b:e-1.10561724*r+1.70250126*t};return void 0!==o&&(n.alpha=o),n}},fromMode:{rgb:({r:e,g:r,b:t,alpha:o})=>{void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0);const n={mode:"yiq",y:.29889531*e+.58662247*r+.11448223*t,i:.59597799*e-.2741761*r-.32180189*t,q:.21147017*e-.52261711*r+.31114694*t};return void 0!==o&&(n.alpha=o),n}},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:te,i:te,q:te,alpha:{use:te,fixup:ne}}};let ao=((e=4)=>r=>"number"==typeof r?((e,r)=>Math.round(e*(r=Math.pow(10,r)))/r)(r,e):r)(2);const io=e=>Math.max(0,Math.min(1,e||0)),lo=e=>Math.round(255*io(e)),co=C("rgb");C("hsl"),T(be),T(Ce),T(Je),T(er),T(tr),T(ar),T(cr),T(ur),T(kr),T(Wr),T(Br),T(Kr),T(Zr),T(Qr),T(Xr),T(dt),T(ft),T(gt),T(It),T(Ft),T(zt),T(Dt),T(Et),T(Lt),T(Yt),T(ae),T(ro),T(to),T(oo),T(no),C("rgb");C("rgb");t(180);new class{constructor(e){this.providerStorage=e,this.setWorkspaceStorageProxy=e=>{this.workspaceStorage=e},this.trySynchronizeWorkspaceStorage=async()=>{if(this.workspaceStorage){const e=this.getScheme();this.hasUserPreference()&&this.workspaceStorage.setItem(a.A.SelectedColorScheme,e),this.generatedPalettes&&(this.themePaletteSheet=(0,n.v3)(this.generatedPalettes),this.workspaceStorage.setItem(a.A.ThemePaletteSheet,this.themePaletteSheet));const r=function(e){const r=e===c.qT.System?"system":e===c.qT.Light?"light":"dark",t="dark"===r;return{inForcedColorsMode:!1,prefersReducedTransparency:!1,shouldUseDarkColors:t,shouldUseDarkColorsForSystemIntegratedUI:t,shouldUseHighContrastColors:!1,shouldUseInvertedColorScheme:!1,themeSource:r}}(e);try{await fin.System.setThemePreferences(r)}catch(e){console.error("failed to set native theme preferences: ",e)}}},this.setLegacyPalettes=async({light:e,dark:r},t)=>{this.lightPaletteVars=u({...e,...f(e,"light",t)}),this.darkPaletteVars=u({...r,...f(r,"dark",t)})},this.setPalettes=async({light:e,dark:r})=>{this.lightPaletteVars=e,this.darkPaletteVars=r}}hasUserPreference(){return null!==this.providerStorage.getItem(a.A.SelectedColorScheme)}setScheme(e){this.providerStorage.setItem(a.A.SelectedColorScheme,e)}setThemeDefaultScheme(e){const r=Object.values(c.qT);r.includes(e)?this.providerStorage.setItem(a.A.ThemePaletteDefaultScheme,e):console.warn(`Invalid theme default scheme '${e}'. Must be one of: ${r.join(", ")}. Ignoring default.`)}setGeneratedPalettes(e){this.generatedPalettes=e}getScheme(){const e=this.providerStorage.getItem(a.A.SelectedColorScheme),r=this.providerStorage.getItem(a.A.ThemePaletteDefaultScheme);return null!==e?e:r??s}getThemePaletteSheet(){return this.themePaletteSheet}getThemePalette(){return{light:this.lightPaletteVars,dark:this.darkPaletteVars}}}(o)},180:(e,r,t)=>{"use strict";t.d(r,{NA:()=>n});t(70),t(326),t(78),t(695);var o=t(79);t(927);const n=e=>({getThemes:async()=>(await(0,o.N)(e)).dispatch(o.OF.GetThemes,void 0),getGeneratedPalettes:async()=>(await(0,o.N)(e)).dispatch(o.OF.GetGeneratedPalettes,void 0),getThemePaletteSheet:async()=>(await(0,o.N)(e)).dispatch(o.OF.GetThemePaletteSheet,void 0),setSelectedScheme:async r=>(await(0,o.N)(e)).dispatch(o.OF.SetSelectedScheme,r),getSelectedScheme:async()=>(await(0,o.N)(e)).dispatch(o.OF.GetSelectedScheme,void 0),getNotificationIndicatorColorsInternal:async()=>(await(0,o.N)(e)).dispatch(o.OF.GetNotificationIndicatorColorsInternal,void 0)})},732:(e,r,t)=>{"use strict";t.d(r,{Nt:()=>we,Ag:()=>ye});var o=t(675),n=t(723),a=t(181);async function i(){const e="getManifestOverrides",{manifest:r,initialOptions:t}=await fin.Application.getCurrentSync().getInfo();return r?.platform.workspace||r?.platform.home||t?.workspace||t?.home||console.warn(`${e}: Missing Home development manifest overrides, using Desktop Owner Settings.`),r?.platform.workspace?(JSON.stringify(r?.platform.workspace),r?.platform.workspace):r?.platform.home?(JSON.stringify(r?.platform.home),r?.platform.home):t?.workspace?(JSON.stringify(t?.workspace),t?.workspace):t?.home?(JSON.stringify(t?.home),t?.home):{}}const l=e=>fin.System.getSystemAppConfig(e);async function c(){const e="getDOSOverrides";if(!n.cI)return console.warn(`${e}: the fin API was not available, returning no result`),{};try{let e=await l("workspace").catch(e=>{});return e||(e=await l("home")),JSON.stringify(e),e}catch(r){if(!n.Hd)return{};if(!(r instanceof Error))throw r;console.warn(`${e}: Missing Workspace Desktop Owner Settings configuration, using defaults. ${r?.message}`)}return{}}let s,u;const d=e=>e.replace(/\/$/,"");async function f(){const e=(await async function(){if(s)return s;const e="getOverrides";if(!n.cI)return n.YY&&console.warn(`${e}: The Fin API was not available. Returning an empty result.`),{};const[r,t]=await Promise.all([c(),i()]);return s={...t,...r,disableRuntimeValidation:t.disableRuntimeValidation||r.disableRuntimeValidation},s}()).browserBaseUrl;if(e)try{const r=new URL(e);if(r.pathname.endsWith("/"))r.pathname=d(r.pathname);else{if("/workspace"===r.pathname)return r.pathname+=`/${n.et}`,r.toString();console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url, with path: /workspace. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}}catch(r){console.warn(`@openfin/workspace-platform: browserOverrideBaseUrl must be a valid url. Expected <protocol>://<optional subdomain>.<domain>/workspace but got ${e}`)}return u??n.bD}async function p(e=!1){const r=await f()+a.Ay.EnterpriseBrowser;return e?r:d(r)}t(822);var g=t(70);const h=(e,r)=>{const t=e;return t.workspacePlatform||(t.workspacePlatform={}),t.workspacePlatform._internalDeferShowOptions={setAsForeground:!!r,deferShowEnabled:!0,autoShow:t.workspacePlatform?._internalAutoShow||t.workspacePlatform?._internalDeferShowOptions?.autoShow||void 0===t.autoShow||t.autoShow},t.autoShow=!1,t};var b,v;!function(e){e.RelativeToParentWindow="relative-to-parent-window",e.RelativeToMonitor="relative-to-monitor"}(b||(b={})),function(e){e.Top="top",e.Below="below"}(v||(v={}));const m=async e=>{const r=e&&await(0,g.Iq)(e).getBounds(),t=e?await(0,g.jz)(r):(await fin.System.getMonitorInfo()).primaryMonitor;return(0,g.VE)(t.availableRect)};var y=t(275);function w(){let e,r;return{promise:new Promise((t,o)=>{e=t,r=o}),resolve:e,reject:r}}const _="dock3",k=__webpack_require__(/*! dexie */ "../../node_modules/dexie/import-wrapper.mjs");var x=t(189),P=t(141);const S=e=>e+"-"+fin.me.uuid,M=(e,r)=>{const t=n.AT&&n.cI&&new k.Dexie(e);return t&&t.version(.1).stores({[r]:""}),t},I=(e,r)=>{const t=M(S(e),r),o=M(e,r);if(!t||!o)throw new Error("Unable to migrate store - IndexDB not supported");return(async(e,r,t)=>{if(!e[t])return void console.warn(`Legacy store ${t} not found, skipping migration`);const o=x.getItem(P.A.HasMovedStore),n=o?JSON.parse(o):{};if(n&&n[t])return;if(n[t]=!0,x.setItem(P.A.HasMovedStore,JSON.stringify(n)),!e[t]||!r[t])return;const a=await e[t].toArray();await r[t].bulkPut(a)})(o,t,e),t},C="dock3-provider-config",A=n.AT&&n.cI&&new k.Dexie(S("dock3-provider-config"));A&&A.version(.1).stores({[C]:""});var O,F,W,z,T=function(e,r,t,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,t):n?n.value=t:r.set(e,t),t},D=function(e,r,t,o){if("a"===t&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?o:"a"===t?o.call(e):o?o.value:r.get(e)};class B{static getOverrideConstructor(...e){return class extends B{constructor(){super(...e)}}}constructor(e,r){if(O.set(this,void 0),F.set(this,void 0),W.set(this,null),z.set(this,w()),B.instance)throw new Error("Dock3Provider has already been initialized.");B.instance=this,T(this,O,e,"f"),T(this,F,r,"f"),this.registerChannelActions()}async launchEntry(e){}get ready(){return D(this,z,"f").promise}async bookmarkContentMenuEntry(e){}async moreMenuCustomOptionClicked(e){}get config(){return D(this,O,"f")}set config(e){T(this,O,e,"f")}async updateConfig(e){T(this,O,e,"f"),await this.handleConfigChange(e)}async shutdown(){await Promise.all([D(this,F,"f").destroy(),this.getWindowSync().close(!0)]),B.instance=null}async saveConfig({config:e}){T(this,O,e,"f"),await async function(e){if(!A)throw new Error("Unable to save Dock provider config - IndexedDb not supported");await A[C].put(e,"latest")}(e)}async handleConfigChange(e){D(this,W,"f")&&await D(this,F,"f").dispatch(D(this,W,"f"),"handle-dock-config-updated",e)}async loadConfig(){const e=await async function(){if(!A)throw new Error("Unable to get Dock provider config - IndexedDB not supported");try{return await A[C].get("latest")}catch(e){return void console.warn("Failed to retrieve Dock provider config from IndexedDB",e)}}();return e&&T(this,O,e,"f"),D(this,O,"f")}getWindowSync(){return fin.Window.wrapSync({uuid:fin.me.identity.uuid,name:_})}registerChannelActions(){D(this,F,"f").register("launch-entry",async e=>{"folder"===e.entry.type&&e.entry.id&&D(this,W,"f")&&await D(this,F,"f").dispatch(D(this,W,"f"),"navigate-content-menu",{targetId:e.entry.id}),await this.launchEntry(e)}),D(this,F,"f").register("save-config",this.saveConfig.bind(this)),D(this,F,"f").register("bookmark-content-menu-entry",this.bookmarkContentMenuEntry.bind(this)),D(this,F,"f").register("more-menu-custom-option-clicked",this.moreMenuCustomOptionClicked.bind(this)),D(this,F,"f").onConnection(e=>{e.name===_&&T(this,W,e,"f")}),D(this,F,"f").register("ready",async(e,r)=>{if(D(this,W,"f")?.endpointId!==r.endpointId)throw new Error(`Dock3Provider: 'ready' action received from unexpected client ${r.name} (${r.uuid})`);D(this,z,"f").resolve()}),D(this,F,"f").onDisconnection(e=>{D(this,W,"f")?.endpointId===e.endpointId&&(T(this,W,null,"f"),T(this,z,w(),"f"))})}}O=new WeakMap,F=new WeakMap,W=new WeakMap,z=new WeakMap,B.instance=null;const R=async e=>{const r=e?fin.Window.wrapSync(e):fin.Window.getCurrentSync(),t=await r.getOptions();return t.workspacePlatform?.windowType&&"enterprise"===t.workspacePlatform.windowType};let E;t(277);var j=t(438);const $=__webpack_require__(/*! lodash.debounce */ "../../node_modules/lodash.debounce/index.js");var N=t.n($);function G(){return localStorage.getItem(P.A.MachineName)??"unknown"}let L;async function U(){return L||(L=await fin.System.getMachineId()),L}var V=t(333);const q=async e=>({...e,layoutDetails:{machineId:await U(),machineName:G()}}),H=async e=>{const r=await(async(e,r)=>({pageId:(0,V.N)(),title:e,layout:await q(r),isReadOnly:!1}))(e.title,xe(e.layout));return e.panels&&(r.panels=e.panels.map(e=>({...e,viewOptions:ke(e.viewOptions)}))),{...e,...r}};var K=t(79),Z=t(786);var Y=t(326),Q=t(102);const J=(0,Q.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-bookmarks`),X=e=>({identity:e,openfinWindow:fin.Window.wrapSync(e),_bookmarks:{_createBookmarkNode:async e=>(async e=>(await J()).dispatch(Y.Hc.CreateBookmarkNode,e))(e),_getBookmarkNode:async e=>(async e=>(await J()).dispatch(Y.Hc.GetBookmarkNode,e))(e),_searchBookmarkNodes:async e=>(async e=>(await J()).dispatch(Y.Hc.SearchBookmarkNodes,e))(e),_updateBookmarkNode:async e=>(async e=>(await J()).dispatch(Y.Hc.UpdateBookmarkNode,e))(e),_deleteBookmarkNode:async e=>(async e=>(await J()).dispatch(Y.Hc.DeleteBookmarkNode,e))(e)},getPages:async()=>(await(0,K.bW)(e)).dispatch(K.OF.GetPagesForWindow,e),getPage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetPageForWindow,{identity:e,pageId:r}),addPage:async r=>we().Browser.wrapSync(e)._addPage(r),_addPage:async(r,t)=>{const o=await(0,K.bW)(e),n={identity:e,page:r,insertionIndex:t?.index,multiInstanceViewBehavior:t?.multiInstanceViewBehavior};return o.dispatch(K.OF.AddPage,n)},_addPages:async(r,t)=>{const o=await(0,K.bW)(e),n=r.map(({page:e,opts:r})=>({...e,multiInstanceViewBehavior:r?.multiInstanceViewBehavior||"duplicate"})),a={identity:e,pages:n,...t};return o.dispatch(K.OF.AttachPagesToWindow,a)},removePage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.DetachPagesFromWindow,{identity:e,pageIds:[r]}),reparentPage:async r=>we().Browser.wrapSync(e)._reparentPage(r),_reparentPage:async r=>{const{pageId:t}=r,o=await(0,K.bW)(e),n=(await o.dispatch(K.OF.GetAllAttachedPages,void 0)).find(({pageId:e})=>e===t);if(!n)throw new Error(`Reparent Page Error: Target page with pageId ${t} not found`);n.multiInstanceViewBehavior="reparent";const a={identity:e,pages:[n],insertionIndex:r.index};return o.dispatch(K.OF.AttachPagesToWindow,a)},setActivePage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.SetActivePage,{identity:e,pageId:r}),updatePage:async r=>{const t=await(0,K.bW)(e);return r.identity=e,t.dispatch(K.OF.UpdatePageForWindow,r)},reorderPages:async r=>{const t=await(0,K.bW)(e);return r.identity=e,t.dispatch(K.OF.ReorderPagesForWindow,r)},_openGlobalContextMenu:async r=>{const t=await(0,K.bW)(e);return r.identity=e,t.dispatch(K.OF.OpenGlobalContextMenuInternal,r)},replaceToolbarOptions:async r=>{await(0,K.bW)(e);const t=fin.Window.wrapSync(e);await t.updateOptions({workspacePlatform:{toolbarOptions:r}})},replaceWindowStateButtonOptions:async r=>{await(0,K.bW)(e);const t=fin.Window.wrapSync(e);await t.updateOptions({workspacePlatform:{windowStateButtonOptions:r}})},updateBrowserWindowTitle:async r=>{const t=fin.Window.wrapSync(e);"string"!=typeof r?await t.updateOptions({workspacePlatform:{title:r}}):console.warn("Type string for window title is deprecated, please use WindowTitle type instead",r)},_openViewTabContextMenu:async r=>{const t=await(0,K.bW)(e);return r.identity=e,t.dispatch(K.OF.OpenViewTabContextMenuInternal,r)},_openPageTabContextMenu:async r=>{const t=await(0,K.bW)(e);return r.identity=e,t.dispatch(K.OF.OpenPageTabContextMenuInternal,r)},_openSaveModal:async r=>{await(0,K.bW)(e);return(await(0,Y.p4)(e)).dispatch(Y.aQ.OpenSaveModalInternal,r)},_getLayoutsWithSelectedViews:async()=>(await(0,Y.p4)(e)).dispatch(Y.aQ.GetLayoutsWithSelectedViewsInternal,e),_openSaveButtonContextMenu:async r=>{const t=await(0,K.bW)(e);return r.identity=e,t.dispatch(K.OF.OpenSaveButtonContextMenuInternal,r)},_addDefaultPage:async r=>{const t=await(0,K.bW)(e);return r.identity=e,t.dispatch(K.OF.AddDefaultPage,r)},_trackRemovedTab:async r=>(await(0,K.bW)(e)).dispatch(K.OF.TrackRemovedTabInternal,r),_restoreRemovedTab:async r=>(await(0,K.bW)(e)).dispatch(K.OF.RestoreRemovedTabInternal,r),_trackVisitedSite:async r=>(await(0,K.bW)(e)).dispatch(K.OF.TrackVisitedSiteInternal,r),_getRecentlyVisitedSites:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetRecentlyVisitedSitesInternal,r),_getFrequentlyVisitedSites:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetFrequentlyVisitedSitesInternal,r),_searchSites:async r=>(await(0,K.bW)(e)).dispatch(K.OF.SearchSitesInternal,{identity:e,req:r}),_getSearchProviders:async()=>(await(0,K.bW)(e)).dispatch(K.OF.GetSearchProvidersInternal,{identity:e}),_getCuratedContent:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetCuratedContentInternal,{identity:e,req:r}),_handleRequestNavigation:async r=>(await(0,K.bW)(e)).dispatch(K.OF.HandleRequestNavigationInternal,r),_sendUpdateVersionModalResponse:async r=>(await(0,K.bW)(e)).dispatch(K.OF.SendUpdateVersionModalResponseInternal,r)}),ee=e=>{const r=fin.Platform.wrapSync(e);return{wrapSync:e=>X(e),createWindow:async t=>{const o=(()=>{const e=`browser-window-startup-${(0,V.N)()}`;return Z.A.markStart(e),e})();(e=>{fin.Application.wrapSync({uuid:fin.me.identity.uuid}).once("window-shown",()=>{Z.A.markAndMeasure("browser-window-shown",e)})})(o),await(0,K.bW)(e);const n=await r.createWindow(t);return(e=>{Z.A.markAndMeasure("browser-window-started",e)})(o),X(n.identity)},getAllAttachedPages:async()=>(await(0,K.bW)(e)).dispatch(K.OF.GetAllAttachedPages,void 0),getAllWindows:async()=>{await(0,K.bW)(e);return(await(0,g.Io)()).map(e=>X(e.identity))},getUniquePageTitle:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetUniquePageTitle,r),getLastFocusedWindow:async()=>(await(0,K.bW)(e)).dispatch(K.OF.GetLastFocusedBrowserWindow,void 0),getPageByViewIdentity:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetPageByViewIdentity,r)}},re=(e,r=0)=>{let t,o,n=!1;const a=async o=>{const i=await e(...o);if(n){await new Promise(e=>setTimeout(e,r));const e=t;return t=void 0,n=!1,a(e)}return i};return(...e)=>(o?(n=!0,t=e):o=a(e).catch(e=>{throw console.error("makeDebouncedFunc",e),e}).finally(()=>{o=void 0}),o)};var te=t(523);function oe(e,r){return async(t,...o)=>{e.has(t)&&e.get(t).forEach(e=>e(...o)),r&&await r({event:t,payload:o})}}function ne(e,r){return r&&r(r=>{const{event:t,payload:o}=r;e.has(t)&&e.get(t).forEach(e=>e(...o))}),(r,t)=>{e.has(r)||e.set(r,new Set),e.get(r).add(t)}}function ae(e){return(r,t)=>{e.has(r)||e.set(r,new Set);const o=e.get(r),n=(...e)=>{t(...e),o.delete(n)};o.add(n)}}function ie(e){return(r,t)=>{e.has(r)&&e.get(r).delete(t)}}const le={name:g.Q.BrowserMenu,alwaysOnTop:!0,autoShow:!0,frame:!1,resizable:!1,backgroundColor:"#2f3136",smallWindow:!0,showTaskbarIcon:!1,backgroundThrottling:!1,saveWindowState:!1};function ce(e){const r={...le,...e};return r.url=(0,te.Tt)(r.url??""),r}const se=function(e){const r=new Map;return{emit:oe(r,r=>n.cI&&fin.InterApplicationBus.publish(e,r)),addListener:ne(r,r=>n.cI&&fin.InterApplicationBus.subscribe({uuid:fin.me.uuid},e,r)),addListenerWithUUID:t=>ne(r,r=>n.cI&&fin.InterApplicationBus.subscribe({uuid:t},e,r)),removeListener:ie(r),once:ae(r)}}("window.menu"),ue=(e,r)=>fin.Window.wrapSync(e).updateOptions({opacity:r}),de=e=>se.emit("response",e),fe=re(()=>(0,j.v1)().getChildWindows(),500);const pe=new Map;async function ge(e,r,t){const o=ce(e);if(o.backgroundColor=await(0,y.Pw)(fin.me.identity),!pe.has(o.name)){return new Promise(n=>{se.once("ready",async e=>{if(e.name===o.name){const r=await pe.get(o.name);o.preventBlur||r.once("blurred",async()=>{}),setTimeout(async()=>{await ue(e,1);1!==(await fin.Window.wrapSync(e).getOptions()).opacity&&ue(e,1)}),n(r)}});const a=(async()=>{const n=await fin.Platform.getCurrentSync().createWindow(h({...o,opacity:0,url:r||o.url,defaultLeft:t?.left,defaultTop:t?.top,defaultWidth:t?.width,defaultHeight:t?.height,workspacePlatform:{preventBlur:e.preventBlur}},!0));return n.once("closed",()=>{pe.delete(o.name)}),n})();pe.set(o.name,a)})}return pe.get(o.name)}async function he(e,r){const t=ce(e),o={top:t.top,left:t.left,width:t.defaultWidth||t.width,height:t.defaultHeight||t.height};return r.set("parentName",fin.Window.getCurrentSync().identity.name),{name:t.name,bounds:o,route:`${t.url}#${r.toString()}`}}async function be({options:e,parameters:r}){(0,g._Y)({name:e.name,uuid:fin.me.identity.uuid})&&se.emit("modal-opened",e.name);const t=r??new URLSearchParams,o=ce(e),{name:n,modalParentIdentity:a}=o;if(!t.has("isEnterprise")){const e=`${await(async e=>(E||(E=await R(e)),E))(a)}`;t.set("isEnterprise",e)}let i=await async function(e){return(await fe()).find(r=>r.identity.name===e)}(n);if(i)await async function(e,r){const{name:t,bounds:o,route:n}=await he(e,r),a={uuid:fin.me.identity.uuid,name:t},i=fin.Window.wrapSync(a);await Promise.all([i.hide(),ue(a,0),i.setBounds(o)]),e.preventBlur||i.once("blurred",()=>{}),se.emit("update",t,o,n),await de({name:t,data:{actionName:"Cancel"}})}(o,t);else{const{route:r,bounds:n}=await he(e,t);i=await ge({...o},r,n)}return i}const ve=e=>({createPage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.CreateSavedPageInternal,r),deletePage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.DeleteSavedPageInternal,r),updatePage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.UpdateSavedPageInternal,r),getPage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetSavedPage,r),getPages:async r=>(await(0,K.bW)(e)).dispatch(K.OF.GetSavedPages,r),savePage:async r=>(await(0,K.bW)(e)).dispatch(K.OF.SavePage,r),createWorkspace:async r=>(await(0,K.N)(e)).dispatch(K.OF.CreateSavedWorkspace,r),deleteWorkspace:async r=>{const t=we(),o=await t.getCurrentWorkspace();if(o.workspaceId===r)throw new Error(`Cannot delete current active workspace ${o.title}`);return(await(0,K.N)(e)).dispatch(K.OF.DeleteSavedWorkspace,r)},updateWorkspace:async r=>(await(0,K.N)(e)).dispatch(K.OF.UpdateSavedWorkspace,r),getWorkspace:async r=>(await(0,K.N)(e)).dispatch(K.OF.GetSavedWorkspace,r),getWorkspaces:async r=>(await(0,K.N)(e)).dispatch(K.OF.GetSavedWorkspaces,r),getWorkspacesMetadata:async r=>(await(0,K.N)(e)).dispatch(K.OF.GetSavedWorkspacesMetadata,r),saveWorkspace:async r=>(await(0,K.N)(e)).dispatch(K.OF.SaveWorkspace,r),getDockProviderConfig:async r=>(await(0,K.N)(e)).dispatch(K.OF.GetDockProviderConfig,r),saveDockProviderConfig:async r=>(await(0,K.N)(e)).dispatch(K.OF.SaveDockProviderConfig,r)});var me=t(180);const ye=e=>{const r=fin.Platform.wrapSync(e);let t;return Object.assign(r,{applySnapshot:async(r,t)=>{if("string"!=typeof r&&!r?.windows)throw new Error("Not a valid browser snapshot");return fin.Platform.wrapSync(e).applySnapshot(r,t)},getSnapshot:()=>fin.Platform.wrapSync(e).getSnapshot().then(e=>e),getViewSnapshot:r=>fin.Platform.wrapSync(e).getViewSnapshot(r),createView:(r,t,o)=>fin.Platform.wrapSync(e).createView(r,t,o),launchApp:async r=>{console.warn("launchApp method is deprecated. It is recommended to use createView - https://developers.openfin.co/of-docs/docs/platform-getting-started#add-a-view-to-an-existing-window or  createWindow - https://developers.openfin.co/of-docs/docs/platform-getting-started#create-a-platform-window instead."),r.target||(r.target={uuid:n.$h,name:n.vL,entityType:n.fT||"unknown"});return(await(0,K.N)(e)).dispatch(K.OF.LaunchApp,r)},_invokeCustomAction:async(r,t)=>{const n=await(0,K.N)(e),a={actionId:r,payload:{...t,callerType:t.callerType||o.vc.API}};return n.dispatch(K.OF.InvokeCustomActionInternal,a)},_requestQuitPlatformDialog:async r=>(await(0,K.N)(e)).dispatch(K.OF.RequestQuitPlatformDialogInternal,r),_showUpdateVersionModal:async r=>(await(0,K.N)(e)).dispatch(K.OF.ShowUpdateVersionModalInternal,r),getCurrentWorkspace:async r=>(await(0,K.N)(e)).dispatch(K.OF.GetCurrentWorkspace,r),applyWorkspace:async(r,t)=>(await(0,K.N)(e)).dispatch(K.OF.ApplyWorkspace,{...r,options:t}),restoreLastSavedWorkspace:async r=>(await(0,K.N)(e)).dispatch(K.OF.RestoreLastSavedWorkspaceInternal,r),setActiveWorkspace:async r=>(await(0,K.N)(e)).dispatch(K.OF.SetActiveWorkspace,r),getLanguage:async()=>(await(0,K.N)(e)).dispatch(K.OF.GetLanguage),_getLanguageResources:async()=>(await(0,K.N)(e)).dispatch(K.OF.GetLanguageResourcesInternal),setLanguage:async r=>(await(0,K.N)(e)).dispatch(K.OF.SetLanguage,r),_raiseAnalytics:async r=>{if(t||(t=await(0,K.KZ)(e)),"object"==typeof t&&t?.analytics?.isSupported){return(await(0,K.N)(e)).dispatch(K.OF.Analytics,r)}e.uuid},getNotificationsConfig:async()=>{console.warn("Notifications config is now part of the platform manifest and is automatically resolved by the notifications API. Do NOT use getNotificationsConfig method as it will not return the correct configuration.")},_refreshBookmarksInternal:async()=>(await(0,K.N)(e)).dispatch(K.OF.RefreshBookmarksInternal),_launchBookmarkInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.LaunchBookmarkInternal,r),_updateDockFavoritesInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.UpdateDockFavoritesInternal,r),_updateContentMenuInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.UpdateContentMenuInternal,r),_launchDockEntryInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.LaunchDockEntryInternal,r),_setDockFavoritesInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.SetDockFavoritesOrderInternal,r),_setDefaultDockButtonsOrderInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.SetDefaultDockButtonsOrderInternal,r),_removeDockFavoriteInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.RemoveDockFavoriteInternal,r),_addDockFavoriteInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.AddDockFavoriteInternal,r),_navigateContentMenuInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.NavigateContentMenuInternal,r),_openDockWorkspacesContextMenuInternal:async()=>(await(0,K.N)(e)).dispatch(K.OF.GetDockWorkspacesContextMenuInternal),_handleDockWorkspacesMenuResponseInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.HandleDockWorkspacesMenuResponseInternal,r),_refreshDockCollectionMenuInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.RefreshDockCollectionMenuInternal,r),_launchCollectionInternal:async r=>(await(0,K.N)(e)).dispatch(K.OF.LaunchCollectionInternal,r),_focusAndExpandSearchInternal:async()=>(await(0,K.N)(e)).dispatch(K.OF.FocusAndExpandSearchInternal),_showAboutPagePopup:async e=>(async e=>{const r=new URLSearchParams({...e,title:"About"}),t=await m(fin.me.identity),o=e.copyrightMessage?320:286,n=(0,g.Xq)(t,{height:o,width:360});return be({options:{frame:!0,smallWindow:!0,saveWindowState:!1,showTaskbarIcon:!0,includeInSnapshots:!1,workspacePlatform:{windowType:"enterprise"},resizable:!1,name:g.Q.AboutPageWindow,url:await p()+a.Ay.EnterpriseAboutPage,defaultWidth:360,defaultHeight:o,preventBlur:!0,...n},parameters:r})})(e),Theme:(0,me.NA)(e),Browser:ee(e),Storage:ve(e)})},we=()=>ye(fin.me.identity);const _e=(e,r)=>e.content?{...e,content:e.content.map(e=>_e(e,r))}:{...e,componentState:r(e.componentState)},ke=e=>({...e,name:void 0}),xe=e=>{const r={...e};return _e(r,ke)},Pe=e=>{const r=[];return(e&&Array.isArray(e)?e:[]).forEach(e=>{if("component"===e.type)return r.push(e.componentState);const t=Pe(e.content);r.push(...t)}),r};new Map,new Map,new Map;const Se=async(e,r)=>{const t=(e=>{const r=fin.Platform.Layout.wrapSync(e);return{show:async()=>{const t=await r.getConfig(),{settings:o,dimensions:n}=t,a=await R(e);await r.replace({...t,settings:{...o,hasHeaders:!0,reorderEnabled:!0},dimensions:{...n,headerHeight:a?28:30}})},hide:async e=>{const t=await r.getConfig(),{settings:o,dimensions:n}=await t;await r.replace({...t,settings:{...o,hasHeaders:!1,reorderEnabled:e?.settings?.reorderEnabled??!1},dimensions:{...n,headerHeight:0}})},isShowingTabs:async()=>{try{const e=await r.getConfig(),{settings:t}=await e;return t.hasHeaders}catch(e){return console.error("failed to get layout config: ",e),!0}}}})({...g.$p,layoutName:e.layoutContainerKey}),o=await t.isShowingTabs();r>1?o||await t.show():1===r&&o&&await t.hide({settings:{reorderEnabled:!0}})},Me=(N()(async e=>{try{if(!e||!e.layoutContainerKey)return;const r=await(async e=>fin.Platform.Layout.wrapSync({...fin.me.identity,layoutName:e}).getConfig())(e.layoutContainerKey),t=r.content?Pe(r.content):[],o=t.length;o>1?(async e=>{if("multiView"!==e.attachedPageType){const r=await we().Browser.getUniquePageTitle();we().Browser.wrapSync(g.$p).updatePage({pageId:e.pageId,page:{title:e.title??r,singleViewName:null,attachedPageType:"multiView"}})}})(e):1===o&&(async(e,r)=>{const t=we().Browser.wrapSync(g.$p);if("singleView"!==e.attachedPageType){const o=await H(e);delete o.layout,delete o.pageId;const n=fin.View.wrapSync({uuid:g.$p.uuid,name:r}),a=await n.getInfo(),i={...o,title:null,singleViewName:r,hasUnsavedChanges:!1,attachedPageType:"singleView",pageIcon:a.favicons[0]};await t.updatePage({pageId:e.pageId,page:i})}})(e,t[0].name),await Se(e,o)}catch(e){}},50,{leading:!1,trailing:!0}),__webpack_require__(/*! react-i18next */ "../../node_modules/react-i18next/dist/es/index.js"),__webpack_require__(/*! i18next */ "../../node_modules/i18next/dist/cjs/i18next.js"));t.n(Me)().t;new class{constructor(){this.queue=[],this.locked=!1}lock(){return new Promise(e=>{this.locked?this.queue.push(e):(this.locked=!0,e())})}unlock(){if(this.queue.length>0){const e=this.queue.shift();e&&e()}else this.locked=!1}};new Map;const Ie=h({alwaysOnTop:!0,autoShow:!1,frame:!1,resizable:!1,showTaskbarIcon:!1});!function(e=Ie){const r=new Map}();t(927);new Map;Date.now();N()(async()=>{const e=await fin.Platform.getCurrentSync().Application.getChildWindows();let r,t=!1;for(const o of e)if(o.identity.name===g.Q.BrowserMenu||o.identity.name===g.Q.BrowserSaveMenu?r=o:await(0,g.hb)(o.identity)&&(t=!0),t)break;!t&&r&&r.close()},100,{leading:!1,trailing:!0});var Ce,Ae;!function(e){e.Save="Save",e.SaveAs="SaveAs"}(Ce||(Ce={})),function(e){e.GlobalMenu="global-menu",e.ContextMenu="context-menu",e.RenameSupertab="rename-supertab",e.AddEditBookmark="add-edit-bookmark",e.DropdownMenu="dropdown-menu",e.ZoomControls="zoom-controls"}(Ae||(Ae={}));const Oe="visited-sites",Fe="removed-tab-stack",We=(n.AT&&n.cI&&I("openfin-home-pages","pages"),n.AT&&n.cI&&new k.Dexie(S("openfin-enterprise-site-history")));We&&We.version(.1).stores({[Oe]:"id, url"});const ze=n.AT&&n.cI&&new k.Dexie(S("openfin-enterprise-tab-history"));ze&&ze.version(.1).stores({[Fe]:""});var Te;!function(e){e.Label="normal",e.Separator="separator",e.Submenu="submenu",e.Checkbox="checkbox"}(Te||(Te={}));Te.Separator;t(995);new Map([["blue",{name:"Blue",color:"#0091EB"}],["indigo",{name:"Indigo",color:"#6450FF"}],["pink",{name:"Pink",color:"#E878CF"}],["teal",{name:"Teal",color:"#24D1D1"}],["green",{name:"Green",color:"#00AF78"}],["orange",{name:"Orange",color:"#FF7D37"}],["red",{name:"Red",color:"#F94144"}],["yellow",{name:"Yellow",color:"#F9C74F"}],["gray",{name:"Gray",color:"#828788"}]]);var De;!function(e){e[e.TopLeft=0]="TopLeft",e[e.TopRight=1]="TopRight",e[e.BottomLeft=2]="BottomLeft",e[e.BottomRight=3]="BottomRight",e[e.Center=4]="Center"}(De||(De={}));(0,Q.A)(`${"undefined"!=typeof fin&&fin?.me.identity.uuid}-enterprise-dock`);const Be="dock-provider-configs",Re=n.AT&&n.cI&&new k.Dexie(S("dock-provider-configs"));Re&&Re.version(.1).stores({[Be]:""});const Ee="workspaces";n.AT&&n.cI&&I("openfin-workspace-platform-workspaces",Ee);t(250);t(179)},675:(e,r,t)=>{"use strict";t.d(r,{qT:()=>a,vc:()=>p});var o,n,a,i,l,c,s,u,d,f,p;t(179),t(250);!function(e){e.UrlChange="URL_CHANGE",e.ViewAdded="VIEW_ADDED",e.ViewRemoved="VIEW_REMOVED",e.PageContextAdded="PAGE_CONTEXT_ADDED",e.PageContextRemoved="PAGE_CONTEXT_REMOVED"}(o||(o={})),function(e){e.NewWindow="NewWindow",e.NewPage="NewPage",e.SavePage="SavePage",e.SavePageAs="SavePageAs",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.CloseWindow="CloseWindow",e.RestoreChanges="RestoreChanges",e.SaveWorkspace="SaveWorkspace",e.SaveWorkspaceAs="SaveWorkspaceAs",e.RenameWorkspace="RenameWorkspace",e.SwitchWorkspace="SwitchWorkspace",e.DeleteWorkspace="DeleteWorkspace",e.Downloads="Downloads",e.OpenStorefront="OpenStorefront",e.ManageDesktopSignals="ManageDesktopSignals",e.FindInPage="FindInPage",e.Appearance="Appearance",e.Quit="Quit",e.Custom="Custom"}(n||(n={})),function(e){e.Light="light",e.Dark="dark",e.System="system"}(a||(a={})),function(e){e.Close="Close",e.Duplicate="Duplicate",e.Rename="Rename",e.Save="Save",e.SaveAs="Save As",e.NewPage="New Page",e.DeletePage="Delete Page",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Refresh="Refresh",e.CloseOthers="Close others",e.Delete="Delete",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.ManageDesktopSignals="ManageDesktopSignals",e.AddToChannel="AddToChannel",e.Custom="Custom"}(i||(i={})),function(e){e.Lock="Lock",e.ShowHideTabs="ShowHideTabs",e.AddToChanel="AddToChannel",e.ManageDesktopSignals="ManageDesktopSignals",e.FindInPage="FindInPage",e.Print="Print",e.Pin="Pin"}(l||(l={})),function(e){e.EditName="Edit Name",e.Move="Move",e.Delete="Delete"}(c||(c={})),function(e){e.NewView="NewView",e.DuplicateViews="DuplicateView",e.OpenWithDefaultBrowser="OpenWithDefaultBrowser",e.ReloadViews="ReloadTab",e.CloseViews="CloseTab",e.AddToChannel="AddToChannel",e.RemoveFromChannel="RemoveFromChannel",e.Back="Back",e.Forward="Forward",e.Print="Print",e.PrintAll="PrintAll",e.PrintScreen="PrintScreen",e.Custom="Custom"}(s||(s={})),function(e){e.ShowHideTabs="ShowHideTabs",e.ColorLinking="ColorLinking",e.PresetLayouts="PresetLayouts",e.LockUnlockPage="LockUnlockPage",e.SaveMenu="SaveMenu",e.SavePage="SavePage",e.Download="Download",e.Minimise="Minimise",e.Maximise="Maximise",e.Close="Close",e.Custom="Custom"}(u||(u={})),function(e){e.SavePage="SavePage",e.SaveWorkspace="SaveWorkspace",e.SavePageAs="SavePageAs",e.SaveWorkspaceAs="SaveWorkspaceAs",e.Custom="Custom"}(d||(d={})),function(e){e.Browser="browser",e.Platform="platform"}(f||(f={})),function(e){e.CustomButton="CustomButton",e.StoreCustomButton="StoreCustomButton",e.CustomDropdownItem="CustomDropdownItem",e.GlobalContextMenu="GlobalContextMenu",e.ViewTabContextMenu="ViewTabContextMenu",e.PageTabContextMenu="PageTabContextMenu",e.SaveButtonContextMenu="SaveButtonContextMenu",e.API="API"}(p||(p={}));var g;!function(e){e.SAVE_PAGE="SAVE_PAGE",e.SAVE_WORKSPACE="SAVE_WORKSPACE",e.SAVE_PAGE_AS="SAVE_PAGE_AS",e.SAVE_WORKSPACE_AS="SAVE_WORKSPACE_AS",e.RENAME_PAGE="RENAME_PAGE",e.RENAME_WORKSPACE="RENAME_WORKSPACE"}(g||(g={}))},129:()=>{"use strict";var e,r,t;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(e||(e={})),function(e){e.UserAction="user-action",e.FocusChange="focus-change",e.Reload="reload"}(r||(r={})),function(e){e.Active="active",e.Default="default"}(t||(t={}))},600:(e,r,t)=>{"use strict";var o;!function(e){e.ActionButton="ActionButton",e.DropdownButton="DropdownButton"}(o||(o={}))},872:(e,r,t)=>{"use strict";var o,n,a;!function(e){e.Suggestion="suggestion"}(o||(o={})),function(e){e.Contact="Contact",e.Custom="Custom",e.List="List",e.Plain="Plain",e.SimpleText="SimpleText",e.Loading="Loading",e.Error="Error"}(n||(n={})),function(e){e.MultiSelect="MultiSelect"}(a||(a={}))},179:(e,r,t)=>{"use strict";t(129),t(872),t(710),t(184),t(600)},710:(e,r,t)=>{"use strict";var o,n;!function(e){e.Snapshot="snapshot",e.Manifest="manifest",e.View="view",e.External="external"}(o||(o={})),function(e){e.LandingPage="landingPage",e.AppGrid="appGrid"}(n||(n={}))},184:(e,r,t)=>{"use strict";var o;!function(e){e.Primary="primary",e.Secondary="secondary",e.TextOnly="textOnly"}(o||(o={}))},250:(e,r,t)=>{"use strict";var o;!function(e){e.Left="Left",e.Right="Right",e.Top="Top",e.Bottom="Bottom"}(o||(o={}))},326:(e,r,t)=>{"use strict";t.d(r,{Hc:()=>u,aQ:()=>p,p4:()=>i});var o=t(102);t(70);const n=(e,r)=>r?`${r}-${e.uuid}-${e.name}`:`__browser_window__-${e.uuid}-${e.name}`,a=new Map,i=(e,r)=>{const t=n(e,r);return i=t,a.has(i)||a.set(i,(0,o.A)(i)),a.get(i)();// removed by dead control flow
 var i; };var l,c,s,u,d,f;!function(e){e.CloseBrowserWindow="close-browser-window",e.QuitPlatform="quit-platform",e.ClosePage="close-page",e.AddToChannel="add-to-channel",e.RemoveFromChannel="remove-from-channel",e.OpenSaveModalInternal="open-save-modal-internal",e.DuplicatePage="duplicate-page",e.SetSelectedScheme="set-selected-scheme",e.ShowBrowserIndicator="show-browser-indicator",e.SetSelectedLanguage="set-selected-language",e.RefreshBookmarksInternal="refresh-bookmarks",e.GetLayoutsWithSelectedViewsInternal="get-layouts-with-selected-views",e.FocusAndExpandSearchInternal="focus-and-expand-search"}(l||(l={})),function(e){e.GetPages="get-pages",e.GetActivePageForWindow="get-active-page-for-window",e.AttachPagesToWindow="attach-pages-to-window",e.DetachPagesFromWindow="detach-pages-from-window",e.SetActivePageForWindow="set-active-page-for-window",e.RenamePage="rename-page",e.ReorderPagesForWindow="reorder-pages-for-window",e.UpdatePageForWindow="update-page-for-window",e.UpdatePagesWindowOptions="update-pages-window-options",e.IsDetachingPages="is-detaching-pages",e.IsActivePageChanging="is-active-page-changing"}(c||(c={})),function(e){e.GetApps="get-apps",e.GetCuratedContent="get-curated-content",e.GetRecentlyVisited="get-recently-visited",e.GetSearchProviders="get-search-providers"}(s||(s={})),function(e){e.CreateBookmarkNode="create-bookmark-node",e.GetBookmarkNode="get-bookmark-node",e.SearchBookmarkNodes="search-bookmark-nodes",e.UpdateBookmarkNode="update-bookmark-node",e.DeleteBookmarkNode="delete-bookmark-node"}(u||(u={})),function(e){e.UpdateFavoriteEntries="update-favorite-entries",e.UpdateContentMenu="update-content-menu",e.NavigateContentMenu="navigate-content-menu",e.MoreMenuCustomOptionClicked="more-menu-custom-option-clicked",e.RefreshDockCollectionMenu="refresh-dock-collection-menu"}(d||(d={})),function(e){e.SendUpdateVersionModalResponse="send-update-version-modal-response",e.SendIntentResolverModalResponse="send-intent-resolver-modal-response"}(f||(f={}));const p={...l,...c,...d}},78:(e,r,t)=>{"use strict";t.d(r,{XI:()=>n,kz:()=>i});t(102);var o=t(70);const n="of-workspace-notifications-sync";var a;async function i(){const e=await async function(){try{const e=await fin.Application.getCurrentSync().getManifest(),r=e?.notifications?.customManifest?.manifestUuid;return r||o.ct.uuid}catch(e){return console.warn("Could not get manifest options for notifications, defaulting to standard notification center uuid.",e),o.ct.uuid}}();return e!==o.ct.uuid?`${e}-${n}`:n}!function(e){e.UpdatePlatformThemeScheme="update-platform-theme-scheme"}(a||(a={}))},79:(e,r,t)=>{"use strict";var o;t.d(r,{KZ:()=>a,N:()=>i,OF:()=>o,bW:()=>l}),function(e){e.LaunchApp="launchApp",e.SavePage="savePage",e.GetSavedPage="getSavedPage",e.CreateSavedPage="createSavedPage",e.UpdateSavedPage="updateSavedPage",e.DeleteSavedPage="deleteSavedPage",e.GetSavedPages="getSavedPages",e.CreateSavedPageInternal="createSavedPageInternal",e.UpdateSavedPageInternal="updateSavedPageInternal",e.DeleteSavedPageInternal="deleteSavedPageInternal",e.UpdatePageForWindow="updatePageForWindow",e.AttachPagesToWindow="attachPagesToWindow",e.DetachPagesFromWindow="detachPagesFromWindow",e.ReorderPagesForWindow="reorderPagesForWindow",e.SetActivePage="setActivePage",e.AddPage="addPage",e.AddDefaultPage="addDefaultPage",e.GetAllAttachedPages="getAllAttachedPages",e.GetActivePageIdForWindow="getActivePageIdForWindow",e.GetPagesForWindow="getPagesForWindow",e.GetPageForWindow="getPageForWindow",e.GetSavedPageMetadata="getSavedPageMetadata",e.GetUniquePageTitle="getUniquePageTitle",e.GetLastFocusedBrowserWindow="getLastFocusedBrowserWindow",e.GetPageByViewIdentity="getPageByViewIdentity",e.GetThemes="getThemes",e.GetGeneratedPalettes="getGeneratedPalettes",e.GetThemePaletteSheet="getThemePaletteSheet",e.GetSelectedScheme="getSelectedScheme",e.SetSelectedScheme="setSelectedScheme",e.OpenGlobalContextMenuInternal="openGlobalContextMenuInternal",e.OpenViewTabContextMenuInternal="openViewTabContextMenuInternal",e.OpenPageTabContextMenuInternal="openPageTabContextMenuInternal",e.OpenSaveButtonContextMenuInternal="openSaveButtonContextMenuInternal",e.InvokeCustomActionInternal="invokeCustomActionInternal",e.RequestQuitPlatformDialogInternal="requestQuitPlatformDialogInternal",e.GetSavedWorkspace="getSavedWorkspace",e.CreateSavedWorkspace="createSavedWorkspace",e.UpdateSavedWorkspace="updateSavedWorkspace",e.DeleteSavedWorkspace="deleteSavedWorkspace",e.GetSavedWorkspaces="getSavedWorkspaces",e.GetSavedWorkspacesMetadata="getSavedWorkspacesMetadata",e.SaveWorkspace="saveWorkspace",e.GetCurrentWorkspace="getCurrentWorkspace",e.ApplyWorkspace="applyWorkspace",e.RestoreLastSavedWorkspaceInternal="restoreLastSavedWorkspaceInternal",e.SetActiveWorkspace="setActiveWorkspace",e.IsBrowserInitialized="isBrowserInitialized",e.Analytics="analyticsInternal",e.GetLanguage="getLanguage",e.GetLanguageResourcesInternal="getLanguageResourcesInternal",e.SetLanguage="setLanguage",e.GetDockProviderConfig="getDockProviderConfig",e.SaveDockProviderConfig="saveDockProviderConfig",e.HandleSaveModalOnPageClose="handleSaveModalOnPageClose",e.ShouldPageClose="shouldPageClose",e.ShouldWindowClose="shouldWindowClose",e.CopyPage="copyPage",e.HandlePageChanges="handlePageChanges",e.MarkUnsavedPagesAsSavedInternal="markUnsavedPagesAsSavedInternal",e.TrackRemovedTabInternal="trackRemovedTabInternal",e.RestoreRemovedTabInternal="restoreRemovedTabInternal",e.TrackVisitedSiteInternal="trackVisitedSiteInternal",e.GetRecentlyVisitedSitesInternal="getRecentlyVisitedSitesInternal",e.GetFrequentlyVisitedSitesInternal="getFrequentlyVisitedSitesInternal",e.SearchSitesInternal="searchSitesInternal",e.GetSearchProvidersInternal="getSearchProvidersInternal",e.GetCuratedContentInternal="getCuratedContentInternal",e.HandleRequestNavigationInternal="handleRequestNavigationInternal",e.RefreshBookmarksInternal="refreshBookmarksInternal",e.LaunchBookmarkInternal="launchBookmarkInternal",e.GetNotificationsConfig="getNotificationsConfig",e.UpdateDockFavoritesInternal="updateDockFavoritesInternal",e.UpdateContentMenuInternal="updateContentMenuInternal",e.LaunchDockEntryInternal="launchDockEntryInternal",e.SetDockFavoritesOrderInternal="setDockFavoritesOrderInternal",e.NavigateContentMenuInternal="navigateContentMenuInternal",e.SetDefaultDockButtonsOrderInternal="setDefaultDockButtonsOrderInternal",e.GetDockWorkspacesContextMenuInternal="getDockWorkspacesContextMenuInternal",e.HandleDockWorkspacesMenuResponseInternal="handleDockWorkspacesMenuResponseInternal",e.RefreshDockCollectionMenuInternal="refreshDockCollectionMenuInternal",e.LaunchCollectionInternal="launchCollectionInternal",e.RemoveDockFavoriteInternal="removeDockFavoriteInternal",e.AddDockFavoriteInternal="addDockFavoriteInternal",e.FocusAndExpandSearchInternal="focusAndExpandSearchInternal",e.SendUpdateVersionModalResponseInternal="sendUpdateVersionModalResponseInternal",e.ShowUpdateVersionModalInternal="showUpdateVersionModalInternal",e.GetNotificationIndicatorColorsInternal="getNotificationIndicatorColorsInternal"}(o||(o={}));const n=async e=>fin.Platform.wrapSync(e).getClient(),a=async e=>{const r=await n(e),t="Target is not a Workspace Platform. Target must call WorkspacePlatform.init";let o;try{o=await r.dispatch("isWorkspacePlatform")}catch(e){throw new Error(t)}if("boolean"==typeof o&&o)return console.warn("You are using an older version of the workspace platform. Please update your workspace platform."),o;if("object"==typeof o&&o.isWorkspacePlatform)return o;throw new Error(t)},i=async e=>(await a(e),n(e)),l=async e=>{const r=await a(e);if("object"==typeof r&&!0!==r?.isBrowserInitialized)throw new Error("Target is not a Browser-enabled Workspace Platform.");return n(e)}},695:(e,r,t)=>{"use strict";var o=t(102),n=(t(723),t(70),t(905));t(927),t(180);(0,o.A)("__of_workspace_protocol__"),(0,o.A)(n.BT)},905:(e,r,t)=>{"use strict";t.d(r,{BT:()=>o});const o="__search-openfin-browser-home-topic__";var n,a;!function(e){e.Fetching="fetching",e.Fetched="fetched",e.Complete="complete"}(n||(n={})),function(e){e[e.Initial=0]="Initial",e[e.Open=1]="Open",e[e.Close=2]="Close"}(a||(a={}))},275:(e,r,t)=>{"use strict";t.d(r,{Pw:()=>f,qq:()=>d,v3:()=>p});var o=t(516),n=t(70),a=t(732),i=t(675),l=(t(695),t(79));const c={[o.Palette.brandPrimary]:"#0A76D3",[o.Palette.brandPrimaryActive]:"#0A71C9",[o.Palette.brandPrimaryHover]:"#0B84EB",[o.Palette.brandPrimaryFocused]:o.Color.white,[o.Palette.brandPrimaryText]:o.Color.white,[o.Palette.statusSuccess]:o.Color.functional1,[o.Palette.statusWarning]:o.Color.functional10,[o.Palette.statusCritical]:o.Color.functional7,[o.Palette.statusActive]:o.Color.functional3,[o.Palette.contentBackground1]:"#0A76D3",[o.Palette.contentBackground2]:"#000000",[o.Palette.contentBackground3]:"#000000",[o.Palette.contentBackground4]:"#000000",[o.Palette.contentBackground5]:"#000000",[o.Palette.borderNeutral]:o.Color.silverGray},s={...c,[o.Palette.background1]:o.Color.white,[o.Palette.background2]:o.Color.lightGray1,[o.Palette.background3]:o.Color.lightGray2,[o.Palette.background4]:o.Color.lightGray3,[o.Palette.background5]:o.Color.lightGray4,[o.Palette.background6]:o.Color.lightGray5,[o.Palette.brandSecondary]:o.Color.lightGray4,[o.Palette.brandSecondaryActive]:o.Color.lightGray4Active,[o.Palette.brandSecondaryHover]:o.Color.lightGray4Hover,[o.Palette.brandSecondaryFocused]:o.Color.darkGray5,[o.Palette.brandSecondaryText]:o.Color.darkGray5,[o.Palette.inputBackground]:o.Color.lightGray3,[o.Palette.inputColor]:o.Color.darkGray5,[o.Palette.inputPlaceholder]:o.Color.darkGray2,[o.Palette.inputDisabled]:o.Color.neutralGray,[o.Palette.inputFocused]:o.Color.lightGray5,[o.Palette.inputBorder]:o.Color.neutralGray,[o.Palette.textDefault]:o.Color.darkGray5,[o.Palette.textHelp]:o.Color.darkGray3,[o.Palette.textInactive]:o.Color.neutralGray},u={...c,[o.Palette.background1]:o.Color.darkGray6,[o.Palette.background2]:o.Color.darkGray5,[o.Palette.background3]:o.Color.darkGray4,[o.Palette.background4]:o.Color.darkGray3,[o.Palette.background5]:o.Color.darkGray2,[o.Palette.background6]:o.Color.darkGray1,[o.Palette.brandSecondary]:o.Color.darkGray2,[o.Palette.brandSecondaryActive]:o.Color.darkGray2Active,[o.Palette.brandSecondaryHover]:o.Color.darkGray2Hover,[o.Palette.brandSecondaryFocused]:o.Color.white,[o.Palette.brandSecondaryText]:o.Color.white,[o.Palette.inputBackground]:o.Color.darkGray1,[o.Palette.inputColor]:o.Color.white,[o.Palette.inputPlaceholder]:o.Color.lightGray5,[o.Palette.inputDisabled]:o.Color.neutralGray,[o.Palette.inputFocused]:o.Color.lightGray5,[o.Palette.inputBorder]:o.Color.neutralGray,[o.Palette.textDefault]:o.Color.white,[o.Palette.textHelp]:o.Color.lightGray5,[o.Palette.textInactive]:o.Color.neutralGray},d=(o.Color.darkGray5,o.Color.darkGray5,async e=>{const{themes:r,selectedScheme:t}=await(async e=>{const r=fin?.__internal_?.initialOptions?.workspacePlatform?._themeData;if(!r||e.uuid!==n.$p.uuid)return{themes:await(0,a.Ag)(e).Theme.getGeneratedPalettes(),selectedScheme:await(0,a.Ag)(e).Theme.getSelectedScheme()};return r})(e);return{theme:r,defaultScheme:t}}),f=async e=>{const r=await(0,a.Ag)(e).Theme.getGeneratedPalettes(),t=await(async e=>{const r=await(0,l.N)(e||fin.me.identity),t=await r.dispatch(l.OF.GetSelectedScheme,void 0);return t===i.qT.System?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t})(e),o=r.dark["color.role.background.1"],n=r.light["color.role.background.1"];return t===i.qT.Dark?o:n},p=e=>{const r=e.light.toCSS(),t=e.dark.toCSS();return`:root{${r}}\n                [data-scheme="dark"] {\n                    ${t}\n                }\n                @media (prefers-color-scheme: dark) {\n                    [data-scheme="system"] {${t} }\n                }\n\n                @media (prefers-color-scheme: light) {\n                    [data-scheme="system"] {${r} }\n                }\n            `}},438:(e,r,t)=>{"use strict";t.d(r,{MW:()=>o,v1:()=>c});var o,n,a=t(723);!function(e){e.Workspace="openfin-workspace",e.OldWorkspace="openfin-browser"}(o||(o={})),function(e){e.FinProtocol="fin-protocol"}(n||(n={}));const i={uuid:a.$h},l=(o.Workspace,e=>{if(!a.cI)throw new Error("getApplication cannot be used in a non OpenFin env. Avoid using this during pre-rendering.");return fin.Application.wrapSync(e)}),c=()=>l(i)},102:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var o=t(723);const n=o.YY&&"complete"!==document.readyState&&new Promise(e=>document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&e()}));function a(e){let r;const t=new Set;return()=>{if(!o.cI)throw new Error("getChannelClient cannot be used outside an OpenFin env. Avoid using this method during pre-rendering.");return r||(r=(async()=>{await n;const a={clientAPIVersion:o.et},i=await fin.InterApplicationBus.Channel.connect(e,{payload:a});return i.onDisconnection(async()=>{t.forEach(e=>e()),t.clear(),console.warn(`disconnected from channel provider ${e}`),r=void 0}),i})().then(e=>(e.addDisconnectionListener=e=>{t.add(e)},e)).catch(t=>{throw r=void 0,new Error(`failed to connect to channel provider ${e}: ${t}`)})),r}}},723:(e,r,t)=>{"use strict";var o;t.d(r,{$h:()=>c,AT:()=>i,Hd:()=>d,YY:()=>a,bD:()=>p,cI:()=>n,et:()=>g,fT:()=>u,vL:()=>s}),function(e){e.Local="local",e.Dev="dev",e.Staging="staging",e.Prod="prod"}(o||(o={}));const n="undefined"!=typeof window&&"undefined"!=typeof fin,a=("undefined"==typeof process||process.env,"undefined"!=typeof window),i=a&&"undefined"!=typeof indexedDB,l=a?window.origin:o.Local,c=n&&fin.me.uuid,s=n&&fin.me.name,u=n&&fin.me.entityType,d=(o.Local,o.Dev,o.Staging,"prod"===o.Prod),f=e=>e.startsWith("http://")||e.startsWith("https://")?e:l+e,p=(f("https://workspace.openfin.co/workspace/23.1.3"),f("https://workspace.openfin.co/workspace/23.1.3")),g=("undefined"!=typeof WORKSPACE_DOCS_PLATFORM_URL&&f(WORKSPACE_DOCS_PLATFORM_URL),"undefined"!=typeof WORKSPACE_DOCS_CLIENT_URL&&f(WORKSPACE_DOCS_CLIENT_URL),"23.1.3");"undefined"!=typeof WORKSPACE_BUILD_SHA&&WORKSPACE_BUILD_SHA},141:(e,r,t)=>{"use strict";var o;t.d(r,{A:()=>n}),function(e){e.CurrentWorkspaceId="currentWorkspaceId",e.LastFocusedBrowserWindow="lastFocusedBrowserWindow",e.MachineName="machineName",e.NewTabPageLayout="NewTabPageLayout",e.NewTabPageSort="NewTabPageSort",e.DockPosition="DockPosition",e.SelectedColorScheme="SelectedColorScheme",e.ThemePaletteSheet="ThemePaletteSheet",e.HasMovedStore="HasMovedStore",e.PageDragState="BrowserPageDragState",e.ThemePaletteDefaultScheme="ThemePaletteDefaultScheme"}(o||(o={}));const n=o},822:(e,r,t)=>{"use strict"},189:(e,r,t)=>{"use strict";t.r(r),t.d(r,{createNamespacedLocalStorage:()=>l,getItem:()=>a,removeItem:()=>i,setItem:()=>n});var o=t(723);const n=(e,r)=>{localStorage.setItem(`${o.$h}-${e}`,r)},a=e=>localStorage.getItem(`${o.$h}-${e}`),i=e=>localStorage.removeItem(`${o.$h}-${e}`),l=e=>({setItem:(r,t)=>{localStorage.setItem(`${e}-${r}`,t)},getItem:r=>localStorage.getItem(`${e}-${r}`),removeItem:r=>localStorage.removeItem(`${e}-${r}`)})},786:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});const o="of-workspace-";const n=new class{mark(e){performance.mark(`${o}${e}`)}markStart(e){performance.mark(`${o}${e}-start`)}markEnd(e){performance.mark(`${o}${e}-end`)}markEndAndMeasure(e){performance.mark(`${o}${e}-end`);try{return performance.measure(`${o}${e}`,`${o}${e}-start`,`${o}${e}-end`)}catch(e){0}}markAndMeasure(e,r){performance.mark(`${o}${e}`);try{return performance.measure(`${o}${e}-measure`,`${o}${r}-start`,`${o}${e}`)}catch(e){0}}reportWorkspacePerformanceEntries(){return performance.getEntriesByType("measure").filter(e=>e.name.startsWith(o))}reportWorkspacePerformance(){return this.reportWorkspacePerformanceEntries().map(e=>({name:e.name.replace(`${o}`,"").replace("-measure",""),duration:e.duration}))}}},181:(e,r,t)=>{"use strict";var o,n;t.d(r,{Ay:()=>l}),function(e){e.Home="/home/",e.HomeSearch="/home/?deeplink=search",e.HomePagesRename="/home/pages/rename/",e.Dock="/dock/",e.Docs="/provider/docs/",e.Storefront="/storefront/",e.DeprecatedAlert="/provider/deprecated-alert/",e.Analytics="/provider/analytics/",e.Provider="/provider/"}(o||(o={})),function(e){e.Browser="/browser/",e.BrowserPopupMenu="/popup-menu/",e.BrowserPopupMenuSaveModal="/popup-menu/save-modal/",e.BrowserPopupMenuLayouts="/popup-menu/layouts/layouts/",e.BrowserPopupMenuColorLinking="/popup-menu/color-linking/color-linking/",e.BrowserIndicator="/indicator/",e.BrowserPopupMenuAddressSearchResultsView="/popup-menu/address-search-results-view/",e.ResponseModal="/popup-menu/response-modal/",e.CloseConfirmationModal="/popup-menu/close-confirmation-modal/",e.EnterpriseBrowser="/enterprise/",e.EnterpriseLandingPage="/enterprise/landing/",e.EnterpriseContextMenu="/context-menu/",e.EnterpriseBookmarkDialog="/bookmark-dialog/",e.EnterpriseAboutPage="/popup-menu/about/",e.StorageProxy="/browser/storage-proxy",e.DropdownMenu="/dropdown-menu/",e.EnterpriseDock="/dock/",e.ZoomControlsDialog="/zoom-controls-dialog/",e.DesktopSignalsModal="/popup-menu/desktop-signals-modal/",e.IntentsResolverModal="/popup-menu/intents-resolver-modal/",e.FindInPageModal="/popup-menu/find-in-page-modal/"}(n||(n={}));const a={...o,...n};var i;!function(e){e.Search="search"}(i||(i={}));const l=a},523:(e,r,t)=>{"use strict";t.d(r,{Tt:()=>a});var o,n=t(723);!function(e){e.Home="/home",e.Browser="/browser",e.Enterprise="/enterprise",e.Provider="/provider",e.Storefront="/storefront",e.Dock="/dock"}(o||(o={}));function a(e,r){if(!n.YY)throw new Error("resolveAbsolutePath can only be used in a window");const t=r??window.location;if(/^(?:[a-z]+:)?\/\//i.test(e))return e;const o=`${t.protocol}//${t.hostname}`;return new URL(e,o).href}},277:(e,r,t)=>{"use strict";t.d(r,{os:()=>i});var o,n=t(723);t(70),t(732);!function(e){e.Browser="Browser",e.Dock="Dock",e.EnterpriseDock="EnterpriseDock",e.Home="Home",e.Notification="Notification",e.Storefront="Storefront",e.Platform="Platform",e.Theming="Theming",e.Microflow="Microflow"}(o||(o={}));const a=async(e,r,t="workspace-licensing")=>{const o={apiVersion:r.apiVersion||n.et,componentName:e,componentVersion:r.componentVersion||n.et,allowed:r.allowed,rejectionCode:r.rejectionCode};fin.System.registerUsage({type:t,data:o})};const i=e=>{a(o.Notification,e)};new Map},333:(e,r,t)=>{"use strict";function o(){return void 0!==typeof crypto&&"randomUUID"in crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}t.d(r,{N:()=>o})},70:(e,r,t)=>{"use strict";t.d(r,{$p:()=>s,Io:()=>p,Iq:()=>c,Q:()=>o,VE:()=>i,Xq:()=>l,_Y:()=>f,ct:()=>u,hb:()=>d,jz:()=>g});t(78);var o,n=t(438),a=t(723);!function(e){e.Home="openfin-home",e.Dock="openfin-dock",e.Storefront="openfin-storefront",e.HomeInternal="openfin-home-internal",e.BrowserIndicator="openfin-browser-indicator",e.BrowserWindow="internal-generated-window",e.ClassicWindow="internal-generated-classic-window",e.BrowserAddressSearchPrefix="openfin-browser-menu-address-search-",e.DockCompanion="openfin-dock-companion",e.AICompanionPrefix="openfin-ai-companion-",e.AboutPageWindow="here-about-page",e.FindInPageViewPrefix="here-find-in-page-view-",e.BrowserMenu="openfin-browser-menu",e.BrowserSaveMenu="openfin-browser-save-menu",e.DockSaveWorkspaceMenu="openfin-dock3-save-workspace-menu",e.DropdownMenu="openfin-enterprise-dropdown-menu",e.EnterpriseContextMenu="openfin-enterprise-context-menu",e.EnterpriseBookmarkDialogWindow="openfin-enterprise-bookmark-dialog",e.ZoomControlsDialog="here-zoom-controls-dialog",e.UpdateVersionModal="here-update-version-modal",e.DesktopSignalsModal="here-desktop-signals-modal",e.IntentsResolverModal="here-intents-resolver-modal"}(o||(o={}));const i=e=>({left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}),l=(e,r)=>{const t=r.width/2,o=r.height/2;return{left:Math.round(e.left-t),top:Math.round(e.top-o),width:r.width,height:r.height}};function c(e){if(!a.cI)throw new Error("getOFWindow can only be used in an OpenFin env. Avoid calling this method during pre-rendering.");return fin.Window.wrapSync(e)}const s={name:a.vL,uuid:a.$h};o.Home,n.MW.Workspace,o.Dock,n.MW.Workspace;const u={name:"Notification-Center",uuid:"notifications-service"};o.Storefront,n.MW.Workspace,n.MW.Workspace,n.MW.Workspace;const d=async e=>{try{const r=await fin.Window.wrapSync({name:e.name,uuid:e.uuid??fin.me.uuid}).getOptions();return("browser"===r.workspacePlatform?.windowType||"enterprise"===r.workspacePlatform?.windowType)&&r.workspacePlatform?.pages}catch(e){return console.warn("isBrowserWindow error: ",e),!1}},f=e=>!e.name.startsWith(o.BrowserAddressSearchPrefix)&&e.name!==o.ZoomControlsDialog&&["menu","modal","dialog"].some(r=>e.name.includes(r));async function p(){const e=await fin.Application.getCurrentSync().getChildWindows(),r=await Promise.all(e.map(async e=>d(e.identity)));return e.filter((e,t)=>r[t])}async function g(e){const r=await fin.System.getMonitorInfo();return[r.primaryMonitor,...r.nonPrimaryMonitors].reduce((r,t)=>{const o=function(e,r){const t=e.top,o=e.left,n=e.top+e.height,a=e.left+e.width,i=r.monitorRect.top,l=r.monitorRect.left,c=r.monitorRect.bottom,s=r.monitorRect.right;if(t>c||n<i||o>s||a<l)return 0;const u=Math.max(t,i),d=Math.max(o,l);return(Math.min(n,c)-u)*(Math.min(a,s)-d)/(e.height*e.width)}(e,t);return o>r.percentage?{percentage:o,monitor:t}:r},{percentage:0,monitor:r.primaryMonitor}).monitor}},516:(e,r)=>{var t={9037:function(e,r,t){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.toRgbaColor=r.getMostReadable=r.darkenColor=r.lightenColor=void 0;const n=o(t(5888)),a=(e,r,t)=>{if(t&&(t<0||t>100))throw new Error(`${t} must be a number between 0 and 100`);return(0,n.default)(e)[r](t).toString()};r.lightenColor=(e,r)=>a(e,"lighten",r),r.darkenColor=(e,r)=>a(e,"darken",r),r.getMostReadable=(e,r)=>n.default.mostReadable(e,r).toHexString(),r.toRgbaColor=(e,r=1)=>(0,n.default)(e).setAlpha(r).toRgbString()},5820:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.IconSize=r.Transition=r.LineHeight=r.FontWeight=r.FontSize=r.FontFamily=r.Shadow=r.Radius=r.UnitPx=r.Unit=r.SizeName=r.Size=r.Color=void 0,r.Color={white:"#FFFFFF",lightGray1:"#FAFBFE",lightGray2:"#F3F5F8",lightGray3:"#ECEEF1",lightGray4:"#DDDFE4",lightGray5:"#C9CBD2",neutralGray:"#7D808A",neutralGray80:"rgba(125,128,138,0.8)",silverGray:"#C0C1C2",darkGray1:"#53565F",darkGray2:"#383A40",darkGray3:"#2F3136",darkGray4:"#24262B",darkGray5:"#1E1F23",darkGray6:"#111214",openFinDarkest:"#3D39CD",openFinDarker:"#4642E0",openFin:"#504CFF",openFinLight:"#5254FB",openFinLighter:"#5C5EFE",openFinLightest:"#6864FF",functional1:"#207735",functional2:"#46C8F1",functional3:"#0A76D3",functional4:"#6CADE5",functional5:"#0A76D3",functional6:"#882BFE",functional7:"#F31818",functional8:"#C93400",functional9:"#FF5E60",functional10:"#F48F00",purple:"var(--color-primitives-indigo-500)",lightblue:"var(--color-primitives-blue-500)",aqua:"var(--color-primitives-teal-500)",yellow:"var(--color-primitives-yellow-500)",salmon:"var(--color-primitives-orange-500)",pink:"var(--color-primitives-pink-500)",lightpink:"var(--color-primitives-pink-500)",white00:"rgba(255,255,255,0.0)",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",white30:"rgba(255,255,255,0.3)",white40:"rgba(255,255,255,0.4)",white50:"rgba(255,255,255,0.5)",white60:"rgba(255,255,255,0.6)",white70:"rgba(255,255,255,0.7)",white80:"rgba(255,255,255,0.8)",white90:"rgba(255,255,255,0.9)",black00:"rgba(0,0,0,0.0)",black10:"rgba(0,0,0,0.1)",black20:"rgba(0,0,0,0.2)",black30:"rgba(0,0,0,0.3)",black40:"rgba(0,0,0,0.4)",black50:"rgba(0,0,0,0.5)",black60:"rgba(0,0,0,0.6)",black70:"rgba(0,0,0,0.7)",black80:"rgba(0,0,0,0.8)",black90:"rgba(0,0,0,0.9)",transparent:"transparent",openFinActive:"#4642FF",openFinHover:"#6965FF",lightGray4Active:"#D7DADF",lightGray4Hover:"#EBECEF",darkGray2Active:"#33353B",darkGray2Hover:"#44464E"},r.Size={xsmall:"xsmall",small:"small",base:"base",large:"large",xlarge:"xlarge",xxlarge:"xxlarge",xxxlarge:"xxxlarge",xxxxlarge:"xxxxlarge"},r.SizeName={[r.Size.xsmall]:"Extra Small",[r.Size.small]:"Small",[r.Size.base]:"Base",[r.Size.large]:"Large",[r.Size.xlarge]:"Extra Large",[r.Size.xxlarge]:"2X Large",[r.Size.xxxlarge]:"3X Large",[r.Size.xxxxlarge]:"4X Large"},r.Unit={[r.Size.xsmall]:4,[r.Size.small]:8,[r.Size.base]:12,[r.Size.large]:16,[r.Size.xlarge]:20,[r.Size.xxlarge]:24,[r.Size.xxxlarge]:32,[r.Size.xxxxlarge]:48},r.UnitPx={[r.Size.xsmall]:"4px",[r.Size.small]:"8px",[r.Size.base]:"12px",[r.Size.large]:"16px",[r.Size.xlarge]:"20px",[r.Size.xxlarge]:"24px",[r.Size.xxxlarge]:"32px",[r.Size.xxxxlarge]:"48px"},r.Radius={[r.Size.xsmall]:"2px",[r.Size.small]:"4px",[r.Size.base]:"8px",[r.Size.large]:"24px",pill:"100vh",round:"50%",none:"0"},r.Shadow={[r.Size.base]:"0 4px 4px rgba(0, 0, 0, 0.25)"},r.FontFamily=["Inter","system-ui","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"].join(","),r.FontSize={[r.Size.xsmall]:"8px",[r.Size.small]:"10px",[r.Size.base]:"12px",[r.Size.large]:"14px",[r.Size.xlarge]:"16px",[r.Size.xxlarge]:"18px",[r.Size.xxxlarge]:"20px",[r.Size.xxxxlarge]:"40px"},r.FontWeight={normal:400,bold:600},r.LineHeight={ui:1,heading:1.2,text:1.5},r.Transition={base:"200ms cubic-bezier(0.16, 1, 0.3, 1)",none:"0ms"},r.IconSize={[r.Size.xsmall]:r.UnitPx.small,[r.Size.small]:r.UnitPx.base,[r.Size.base]:"15px",[r.Size.large]:r.UnitPx.xlarge,[r.Size.xlarge]:r.UnitPx.xxlarge,[r.Size.xxlarge]:r.UnitPx.xxxlarge,[r.Size.xxxlarge]:r.UnitPx.xxxxlarge}},1848:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createTheme=void 0;const o=t(5820),n=t(9037),a=t(4502),i={fontFamily:o.FontFamily,fontSize:o.FontSize,fontWeight:o.FontWeight,lineHeight:o.LineHeight,iconSize:o.IconSize,radius:o.Radius,shadow:o.Shadow,transition:o.Transition,unit:o.Unit,px:o.UnitPx},l=(e,r)=>({[`${e}Active`]:(0,n.darkenColor)(r,2),[`${e}Hover`]:(0,n.lightenColor)(r,5),[`${e}Focused`]:(0,n.getMostReadable)(r,[o.Color.white,o.Color.darkGray5]),[`${e}Text`]:(0,n.getMostReadable)(r,[o.Color.white,o.Color.darkGray5])});r.createTheme=e=>Object.assign(Object.assign({},i),{palette:Object.assign(Object.assign(Object.assign({},l(a.Palette.brandPrimary,e.brandPrimary)),l(a.Palette.brandSecondary,e.brandSecondary)),e)})},4502:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Palette=void 0,r.Palette={background1:"background1",background2:"background2",background3:"background3",background4:"background4",background5:"background5",background6:"background6",brandPrimary:"brandPrimary",brandSecondary:"brandSecondary",brandPrimaryActive:"brandPrimaryActive",brandPrimaryHover:"brandPrimaryHover",brandPrimaryFocused:"brandPrimaryFocused",brandPrimaryText:"brandPrimaryText",brandSecondaryActive:"brandSecondaryActive",brandSecondaryHover:"brandSecondaryHover",brandSecondaryFocused:"brandSecondaryFocused",brandSecondaryText:"brandSecondaryText",inputBackground:"inputBackground",inputColor:"inputColor",inputPlaceholder:"inputPlaceholder",inputDisabled:"inputDisabled",inputFocused:"inputFocused",inputBorder:"inputBorder",statusSuccess:"statusSuccess",statusWarning:"statusWarning",statusCritical:"statusCritical",statusActive:"statusActive",textDefault:"textDefault",textHelp:"textHelp",textInactive:"textInactive",borderNeutral:"borderNeutral",contentBackground1:"contentBackground1",contentBackground2:"contentBackground2",contentBackground3:"contentBackground3",contentBackground4:"contentBackground4",contentBackground5:"contentBackground5",linkDefault:"linkDefault",linkHover:"linkHover"}},5888:function(e){e.exports=function(){function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var r=/^\s+/,t=/\s+$/;function o(n,a){if(a=a||{},(n=n||"")instanceof o)return n;if(!(this instanceof o))return new o(n,a);var i=function(o){var n,a,i,l={r:0,g:0,b:0},c=1,s=null,u=null,d=null,f=!1,p=!1;return"string"==typeof o&&(o=function(e){e=e.replace(r,"").replace(t,"").toLowerCase();var o,n=!1;if(w[e])e=w[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(o=z.rgb.exec(e))?{r:o[1],g:o[2],b:o[3]}:(o=z.rgba.exec(e))?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=z.hsl.exec(e))?{h:o[1],s:o[2],l:o[3]}:(o=z.hsla.exec(e))?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=z.hsv.exec(e))?{h:o[1],s:o[2],v:o[3]}:(o=z.hsva.exec(e))?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=z.hex8.exec(e))?{r:S(o[1]),g:S(o[2]),b:S(o[3]),a:A(o[4]),format:n?"name":"hex8"}:(o=z.hex6.exec(e))?{r:S(o[1]),g:S(o[2]),b:S(o[3]),format:n?"name":"hex"}:(o=z.hex4.exec(e))?{r:S(o[1]+""+o[1]),g:S(o[2]+""+o[2]),b:S(o[3]+""+o[3]),a:A(o[4]+""+o[4]),format:n?"name":"hex8"}:!!(o=z.hex3.exec(e))&&{r:S(o[1]+""+o[1]),g:S(o[2]+""+o[2]),b:S(o[3]+""+o[3]),format:n?"name":"hex"}}(o)),"object"==e(o)&&(T(o.r)&&T(o.g)&&T(o.b)?(n=o.r,a=o.g,i=o.b,l={r:255*x(n,255),g:255*x(a,255),b:255*x(i,255)},f=!0,p="%"===String(o.r).substr(-1)?"prgb":"rgb"):T(o.h)&&T(o.s)&&T(o.v)?(s=I(o.s),u=I(o.v),l=function(e,r,t){e=6*x(e,360),r=x(r,100),t=x(t,100);var o=Math.floor(e),n=e-o,a=t*(1-r),i=t*(1-n*r),l=t*(1-(1-n)*r),c=o%6;return{r:255*[t,i,a,a,l,t][c],g:255*[l,t,t,i,a,a][c],b:255*[a,a,l,t,t,i][c]}}(o.h,s,u),f=!0,p="hsv"):T(o.h)&&T(o.s)&&T(o.l)&&(s=I(o.s),d=I(o.l),l=function(e,r,t){var o,n,a;function i(e,r,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(r-e)*t:t<.5?r:t<2/3?e+(r-e)*(2/3-t)*6:e}if(e=x(e,360),r=x(r,100),t=x(t,100),0===r)o=n=a=t;else{var l=t<.5?t*(1+r):t+r-t*r,c=2*t-l;o=i(c,l,e+1/3),n=i(c,l,e),a=i(c,l,e-1/3)}return{r:255*o,g:255*n,b:255*a}}(o.h,s,d),f=!0,p="hsl"),o.hasOwnProperty("a")&&(c=o.a)),c=k(c),{ok:f,format:o.format||p,r:Math.min(255,Math.max(l.r,0)),g:Math.min(255,Math.max(l.g,0)),b:Math.min(255,Math.max(l.b,0)),a:c}}(n);this._originalInput=n,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=a.format||i.format,this._gradientType=a.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function n(e,r,t){e=x(e,255),r=x(r,255),t=x(t,255);var o,n,a=Math.max(e,r,t),i=Math.min(e,r,t),l=(a+i)/2;if(a==i)o=n=0;else{var c=a-i;switch(n=l>.5?c/(2-a-i):c/(a+i),a){case e:o=(r-t)/c+(r<t?6:0);break;case r:o=(t-e)/c+2;break;case t:o=(e-r)/c+4}o/=6}return{h:o,s:n,l}}function a(e,r,t){e=x(e,255),r=x(r,255),t=x(t,255);var o,n,a=Math.max(e,r,t),i=Math.min(e,r,t),l=a,c=a-i;if(n=0===a?0:c/a,a==i)o=0;else{switch(a){case e:o=(r-t)/c+(r<t?6:0);break;case r:o=(t-e)/c+2;break;case t:o=(e-r)/c+4}o/=6}return{h:o,s:n,v:l}}function i(e,r,t,o){var n=[M(Math.round(e).toString(16)),M(Math.round(r).toString(16)),M(Math.round(t).toString(16))];return o&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function l(e,r,t,o){return[M(C(o)),M(Math.round(e).toString(16)),M(Math.round(r).toString(16)),M(Math.round(t).toString(16))].join("")}function c(e,r){r=0===r?0:r||10;var t=o(e).toHsl();return t.s-=r/100,t.s=P(t.s),o(t)}function s(e,r){r=0===r?0:r||10;var t=o(e).toHsl();return t.s+=r/100,t.s=P(t.s),o(t)}function u(e){return o(e).desaturate(100)}function d(e,r){r=0===r?0:r||10;var t=o(e).toHsl();return t.l+=r/100,t.l=P(t.l),o(t)}function f(e,r){r=0===r?0:r||10;var t=o(e).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-r/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-r/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-r/100*255))),o(t)}function p(e,r){r=0===r?0:r||10;var t=o(e).toHsl();return t.l-=r/100,t.l=P(t.l),o(t)}function g(e,r){var t=o(e).toHsl(),n=(t.h+r)%360;return t.h=n<0?360+n:n,o(t)}function h(e){var r=o(e).toHsl();return r.h=(r.h+180)%360,o(r)}function b(e,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var t=o(e).toHsl(),n=[o(e)],a=360/r,i=1;i<r;i++)n.push(o({h:(t.h+i*a)%360,s:t.s,l:t.l}));return n}function v(e){var r=o(e).toHsl(),t=r.h;return[o(e),o({h:(t+72)%360,s:r.s,l:r.l}),o({h:(t+216)%360,s:r.s,l:r.l})]}function m(e,r,t){r=r||6,t=t||30;var n=o(e).toHsl(),a=360/t,i=[o(e)];for(n.h=(n.h-(a*r>>1)+720)%360;--r;)n.h=(n.h+a)%360,i.push(o(n));return i}function y(e,r){r=r||6;for(var t=o(e).toHsv(),n=t.h,a=t.s,i=t.v,l=[],c=1/r;r--;)l.push(o({h:n,s:a,v:i})),i=(i+c)%1;return l}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,r,t,o=this.toRgb();return e=o.r/255,r=o.g/255,t=o.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))},setAlpha:function(e){return this._a=k(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a(this._r,this._g,this._b),r=Math.round(360*e.h),t=Math.round(100*e.s),o=Math.round(100*e.v);return 1==this._a?"hsv("+r+", "+t+"%, "+o+"%)":"hsva("+r+", "+t+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=n(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=n(this._r,this._g,this._b),r=Math.round(360*e.h),t=Math.round(100*e.s),o=Math.round(100*e.l);return 1==this._a?"hsl("+r+", "+t+"%, "+o+"%)":"hsla("+r+", "+t+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return i(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,r,t,o,n){var a=[M(Math.round(e).toString(16)),M(Math.round(r).toString(16)),M(Math.round(t).toString(16)),M(C(o))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*x(this._r,255))+"%",g:Math.round(100*x(this._g,255))+"%",b:Math.round(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*x(this._r,255))+"%, "+Math.round(100*x(this._g,255))+"%, "+Math.round(100*x(this._b,255))+"%)":"rgba("+Math.round(100*x(this._r,255))+"%, "+Math.round(100*x(this._g,255))+"%, "+Math.round(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(_[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var r="#"+l(this._r,this._g,this._b,this._a),t=r,n=this._gradientType?"GradientType = 1, ":"";if(e){var a=o(e);t="#"+l(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+t+")"},toString:function(e){var r=!!e;e=e||this._format;var t=!1,o=this._a<1&&this._a>=0;return r||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(t=this.toRgbString()),"prgb"===e&&(t=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(t=this.toHexString()),"hex3"===e&&(t=this.toHexString(!0)),"hex4"===e&&(t=this.toHex8String(!0)),"hex8"===e&&(t=this.toHex8String()),"name"===e&&(t=this.toName()),"hsl"===e&&(t=this.toHslString()),"hsv"===e&&(t=this.toHsvString()),t||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,r){var t=e.apply(null,[this].concat([].slice.call(r)));return this._r=t._r,this._g=t._g,this._b=t._b,this.setAlpha(t._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(s,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(m,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(y,arguments)},splitcomplement:function(){return this._applyCombination(v,arguments)},triad:function(){return this._applyCombination(b,[3])},tetrad:function(){return this._applyCombination(b,[4])}},o.fromRatio=function(r,t){if("object"==e(r)){var n={};for(var a in r)r.hasOwnProperty(a)&&(n[a]="a"===a?r[a]:I(r[a]));r=n}return o(r,t)},o.equals=function(e,r){return!(!e||!r)&&o(e).toRgbString()==o(r).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},o.mix=function(e,r,t){t=0===t?0:t||50;var n=o(e).toRgb(),a=o(r).toRgb(),i=t/100;return o({r:(a.r-n.r)*i+n.r,g:(a.g-n.g)*i+n.g,b:(a.b-n.b)*i+n.b,a:(a.a-n.a)*i+n.a})},o.readability=function(e,r){var t=o(e),n=o(r);return(Math.max(t.getLuminance(),n.getLuminance())+.05)/(Math.min(t.getLuminance(),n.getLuminance())+.05)},o.isReadable=function(e,r,t){var n,a,i,l,c,s=o.readability(e,r);switch(a=!1,(i=t,"AA"!==(l=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==l&&(l="AA"),"small"!==(c=(i.size||"small").toLowerCase())&&"large"!==c&&(c="small"),n={level:l,size:c}).level+n.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7}return a},o.mostReadable=function(e,r,t){var n,a,i,l,c=null,s=0;a=(t=t||{}).includeFallbackColors,i=t.level,l=t.size;for(var u=0;u<r.length;u++)(n=o.readability(e,r[u]))>s&&(s=n,c=o(r[u]));return o.isReadable(e,c,{level:i,size:l})||!a?c:(t.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],t))};var w=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_=o.hexNames=function(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[e[t]]=t);return r}(w);function k(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function x(e,r){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var t=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(r,Math.max(0,parseFloat(e))),t&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function P(e){return Math.min(1,Math.max(0,e))}function S(e){return parseInt(e,16)}function M(e){return 1==e.length?"0"+e:""+e}function I(e){return e<=1&&(e=100*e+"%"),e}function C(e){return Math.round(255*parseFloat(e)).toString(16)}function A(e){return S(e)/255}var O,F,W,z=(F="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",W="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+W),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function T(e){return!!z.CSS_UNIT.exec(e)}return o}()}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var a=o[e]={exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}var a={};(()=>{var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.createTheme=e.Palette=e.Color=void 0;var r=n(5820);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return r.Color}});var t=n(4502);Object.defineProperty(e,"Palette",{enumerable:!0,get:function(){return t.Palette}});var o=n(1848);Object.defineProperty(e,"createTheme",{enumerable:!0,get:function(){return o.createTheme}})})();var i=r;for(var l in a)i[l]=a[l];a.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})},812:e=>{"use strict";e.exports=__webpack_require__(/*! @openfin/notifications */ "./node_modules/@openfin/notifications/dist/client/index.js")},995:e=>{"use strict";e.exports=__webpack_require__(/*! title-case */ "../../node_modules/title-case/dist.es2015/index.js")}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var a=r[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";t.r(o),t.d(o,{deregister:()=>g,register:()=>p});var e=t(277),r=t(78),n=t(275),a=t(732),i=t(812),l={};for(const e in i)["default","register","deregister"].indexOf(e)<0&&(l[e]=()=>i[e]);t.d(o,l);const c=async e=>{if(e instanceof Error){let r=e.message;if(e.message.includes("register-notifications-platform")){if(r="Notifications platforms are not supported in versions below 1.13.0, try updating your notifications-service.",i?.provider?.getStatus){const{version:e}=await i.provider.getStatus();r+=` Your version is: ${e}`}return r}return e.message}return"string"==typeof e?e:"unknown error registering Notifications"},s=async e=>{if(e instanceof Error&&e.message.includes("register-notifications-platform"))throw new Error(await c(e));throw e},u="of-notifications-service-v1",d={channelName:r.XI},f=async(e,r,t=!1)=>{const o=r.notificationsVersion.startsWith("2")?d.channelName:u,n=await fin.InterApplicationBus.Channel.connect(o,{wait:t}),a=r.notificationsVersion.startsWith("2")?"register-platform":"register-notifications-platform";await n.dispatch(a,e)};async function p(t){try{const o=await(0,r.kz)(),l=t&&"notificationsCustomManifest"in t?{customManifest:t.notificationsCustomManifest}:void 0;let c=!1;o!==r.XI?(d.channelName=o,c=!0):l&&l.customManifest?.manifestUuid&&(d.channelName=`${l.customManifest.manifestUuid}-${r.XI}`,console.warn("Using 'notificationsCustomManifest' is deprecated. Please include custom manifest in platform manifest."));const s=await i.register(l),u=(0,a.Nt)(),p=await u.Theme.getThemePaletteSheet(),g=await u.Theme.getNotificationIndicatorColorsInternal();if(t){const e=await(0,n.qq)(fin.me.identity),r="notificationsPlatformOptions"in t?t.notificationsPlatformOptions:t;await f({theme:p,notificationsIndicatorColors:g,scheme:e.defaultScheme,...r,workspacePlatform:{identity:fin.Platform.getCurrentSync().identity,analytics:{isSupported:!0}}},{notificationsVersion:s.notificationsVersion},c)}return(0,e.os)({allowed:!0,apiVersion:i.VERSION,componentVersion:s.notificationsVersion}),s}catch(r){(0,e.os)({allowed:!1,rejectionCode:await c(r),apiVersion:i.VERSION}),await s(r)}}const g=async e=>{try{const{version:r}=await i.provider.getStatus();if(null===r)throw new Error("Notifications service is not currently running.");await(async(e,r)=>{const t=r.notificationsVersion.startsWith("2")?d.channelName:u,o=await fin.InterApplicationBus.Channel.connect(t,{wait:!1}),n=r.notificationsVersion.startsWith("2")?"deregister-platform":"deregister-notifications-platform";await o.dispatch(n,e)})({id:e},{notificationsVersion:r})}catch(e){await s(e)}}})(),module.exports=o})();
//# sourceMappingURL=notifications.js.map

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be in strict mode.
(() => {
"use strict";
/*!********************************!*\
  !*** ./client/src/provider.ts ***!
  \********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @openfin/workspace/notifications */ "./node_modules/@openfin/workspace/notifications.js");
/* harmony import */ var _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable linebreak-style */

const NOTIFICATION_SOUND_URL = "https://built-on-openfin.github.io/container-starter/dev/nick/v43-updates/use-notifications/assets/notification.mp3";
// Keep track of notifications we are updating
const updatableNotifications = {};
let updatableNotificationTimer;
let loggingElement;
let codeElement;
let connected = false;
let connectedVersion;
let statusIntervalId;
let lastConnectionStatus;
document.addEventListener("DOMContentLoaded", async () => {
    try {
        await initDom();
        await initializeNotifications();
    }
    catch (error) {
        console.error(error);
    }
});
/**
 * Initializes the DOM elements and sets up event listeners for UI controls.
 */
async function initDom() {
    loggingElement = document.querySelector("#logging");
    codeElement = document.querySelector("#code");
    const loggingContainer = document.querySelector("#logging-container");
    const codeContainer = document.querySelector("#code-container");
    if (!codeElement || !loggingElement || !loggingContainer || !codeContainer) {
        return;
    }
    loggingAddEntry(`Library Version: ${_openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.VERSION}`);
    const btnLoggingClear = document.querySelector("#btnLoggingClear");
    if (btnLoggingClear) {
        btnLoggingClear.addEventListener("click", () => {
            if (loggingElement) {
                loggingElement.textContent = "";
            }
        });
    }
    const btnCodeCopy = document.querySelector("#btnCodeCopy");
    if (btnCodeCopy) {
        btnCodeCopy.addEventListener("click", async () => {
            if (codeElement) {
                await fin.Clipboard.writeText({ data: codeElement.value });
            }
        });
    }
    const btnCodeNotification = document.querySelector("#btnCodeNotification");
    if (btnCodeNotification) {
        btnCodeNotification.addEventListener("click", async () => {
            try {
                if (codeElement) {
                    const notificationOptions = JSON.parse(codeElement.value);
                    notificationOptions.id = randomUUID();
                    codeShowExample(notificationOptions);
                    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notificationOptions);
                }
            }
            catch { }
        });
    }
    codeElement.addEventListener("input", () => {
        if (codeElement) {
            try {
                JSON.parse(codeElement.value);
                codeElement.classList.remove("error");
            }
            catch {
                codeElement.classList.add("error");
            }
        }
    });
    codeContainer.style.display = "none";
    if (loggingContainer) {
        loggingContainer.style.display = "flex";
    }
    const btnViewLogging = document.querySelector("#btnViewLogging");
    if (btnViewLogging) {
        btnViewLogging.addEventListener("click", () => {
            loggingContainer.style.display = "flex";
            codeContainer.style.display = "none";
        });
    }
    const btnViewCode = document.querySelector("#btnViewCode");
    if (btnViewCode) {
        btnViewCode.addEventListener("click", () => {
            loggingContainer.style.display = "none";
            codeContainer.style.display = "flex";
        });
    }
    const btnNotificationSimple = document.querySelector("#btnNotificationSimple");
    if (btnNotificationSimple) {
        btnNotificationSimple.addEventListener("click", async () => showSimpleNotification());
    }
    const btnNotificationBodyDismiss = document.querySelector("#btnNotificationBodyDismiss");
    if (btnNotificationBodyDismiss) {
        btnNotificationBodyDismiss.addEventListener("click", async () => showSimpleNotificationBodyDismiss());
    }
    const btnNotificationBodyDismissAction = document.querySelector("#btnNotificationBodyDismissAction");
    if (btnNotificationBodyDismissAction) {
        btnNotificationBodyDismissAction.addEventListener("click", async () => showSimpleNotificationBodyDismissAction());
    }
    const btnNotificationActionable = document.querySelector("#btnNotificationActionable");
    if (btnNotificationActionable) {
        btnNotificationActionable.addEventListener("click", async () => showActionableNotification());
    }
    const btnNotificationForm = document.querySelector("#btnNotificationForm");
    if (btnNotificationForm) {
        btnNotificationForm.addEventListener("click", async () => showFormNotification());
    }
    const btnNotificationFormAdvanced = document.querySelector("#btnNotificationFormAdvanced");
    if (btnNotificationFormAdvanced) {
        btnNotificationFormAdvanced.addEventListener("click", async () => showFormAdvancedNotification());
    }
    const btnNotificationUpdatable = document.querySelector("#btnNotificationUpdatable");
    if (btnNotificationUpdatable) {
        btnNotificationUpdatable.addEventListener("click", async () => showUpdatableNotification());
    }
    const btnNotificationCustom = document.querySelector("#btnNotificationCustom");
    if (btnNotificationCustom) {
        btnNotificationCustom.addEventListener("click", async () => showCustomNotification());
    }
    const btnNotificationWithSound = document.querySelector("#btnNotificationWithSound");
    if (btnNotificationWithSound) {
        btnNotificationWithSound.addEventListener("click", async () => showSoundNotification(NOTIFICATION_SOUND_URL));
    }
    const btnNotificationCenterUserSettings = document.querySelector("#btnNotificationCenterUserSettings");
    if (btnNotificationCenterUserSettings) {
        btnNotificationCenterUserSettings.addEventListener("click", async () => getNotificationCenterUserSettings());
    }
    const btnNotificationWithIndicator = document.querySelector("#btnNotificationWithIndicator");
    if (btnNotificationWithIndicator) {
        btnNotificationWithIndicator.addEventListener("click", async () => showIndicatorNotification());
    }
    const btnNotificationWithCustomIndicator = document.querySelector("#btnNotificationWithCustomIndicator");
    if (btnNotificationWithCustomIndicator) {
        btnNotificationWithCustomIndicator.addEventListener("click", async () => showCustomIndicatorNotification());
    }
    const btnNotificationsCenterShow = document.querySelector("#btnNotificationsCenterShow");
    if (btnNotificationsCenterShow) {
        btnNotificationsCenterShow.addEventListener("click", async () => {
            try {
                btnNotificationsCenterShow.disabled = true;
                await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.show();
            }
            catch (err) {
                loggingAddEntry(`${err}`);
            }
            finally {
                btnNotificationsCenterShow.disabled = false;
            }
        });
    }
    const btnNotificationsCenterHide = document.querySelector("#btnNotificationsCenterHide");
    if (btnNotificationsCenterHide) {
        btnNotificationsCenterHide.addEventListener("click", async () => {
            try {
                btnNotificationsCenterHide.disabled = true;
                await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.hide();
            }
            catch (err) {
                loggingAddEntry(`${err}`);
            }
            finally {
                btnNotificationsCenterHide.disabled = false;
            }
        });
    }
    const btnNotificationStudioOpen = document.querySelector("#btnNotificationStudioOpen");
    if (btnNotificationStudioOpen) {
        btnNotificationStudioOpen.addEventListener("click", async () => {
            try {
                btnNotificationStudioOpen.disabled = true;
                await fin.Application.startFromManifest("https://cdn.openfin.co/studio/notification/app.json");
            }
            finally {
                btnNotificationStudioOpen.disabled = false;
            }
        });
    }
}
/**
 * Initializes the notifications by registering and logging the count.
 */
async function initializeNotifications() {
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.register();
    await initializeListeners();
    console.log("Number of notifications:", await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.getNotificationsCount());
}
/**
 * Initialize the listeners for the events from the notification center.
 */
async function initializeListeners() {
    // Listen for new notifications being created
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.addEventListener("notification-created", (event) => {
        loggingAddEntry(`Created: ${event.notification.id}`);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.addEventListener("notification-closed", (event) => {
        loggingAddEntry(`Closed: ${event.notification.id}`);
        if (updatableNotifications[event.notification.id]) {
            delete updatableNotifications[event.notification.id];
            if (Object.keys(updatableNotifications).length === 0) {
                window.clearInterval(updatableNotificationTimer);
                updatableNotificationTimer = undefined;
            }
        }
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.addEventListener("notification-action", async (event) => {
        if (event?.result?.actionId === "open-web-site") {
            await fin.System.openUrlWithBrowser(event?.result?.url);
        }
        else if (event?.result?.BODY_CLICK === "dismiss_event") {
            if (event.notification?.customData?.action) {
                loggingAddEntry(`\tData: ${event?.notification?.customData ? JSON.stringify(event.notification.customData) : "None"}`);
            }
            else {
                loggingAddEntry("\tNo action");
            }
            loggingAddEntry("\tBody click dismiss");
        }
        else {
            loggingAddEntry(`\tData: ${event?.result?.customData ? JSON.stringify(event.result.customData) : "None"}`);
            loggingAddEntry(`\tTask: ${event?.result?.task ?? "None"}`);
            loggingAddEntry(`Action: ${event.notification.id}`);
        }
        console.log(event);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.addEventListener("notification-toast-dismissed", (event) => {
        loggingAddEntry(`Toast Dismissed: ${event.notification.id}`);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.addEventListener("notification-form-submitted", (event) => {
        loggingAddEntry(`\tData: ${event?.form ? JSON.stringify(event.form) : "None"}`);
        loggingAddEntry(`Form: ${event.notification.id}`);
        console.log(event);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.addEventListener("notifications-count-changed", (event) => {
        showNotificationCount(event.count);
    });
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.addEventListener("notification-sound-toggled", (event) => {
        loggingAddEntry(`Sound Enabled: ${event.notificationSoundEnabled}`);
    });
    addConnectionChangedEventListener((status) => {
        if (status.connected !== connected) {
            connected = status.connected;
            connectedVersion = status.version;
            updateConnectedState();
        }
    });
}
/**
 * Generates a random UUID string.
 * @returns A randomly generated UUID.
 */
function randomUUID() {
    if ("randomUUID" in window.crypto) {
        // If the browser supports window.crypto.randomUUID, use it
        // eslint-disable-next-line no-restricted-syntax
        return window.crypto.randomUUID();
    }
    // Polyfill the window.crypto.randomUUID if we are running in a non secure context that doesn't have it
    // we are still using window.crypto.getRandomValues which is always available
    // https://stackoverflow.com/a/2117523/2800218
    /**
     * Get random hex value.
     * @param c The number to base the random value on.
     * @returns The random value.
     */
    function getRandomHex(c) {
        // eslint-disable-next-line no-bitwise
        const rnd = window.crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (Number(c) / 4));
        return (
        // eslint-disable-next-line no-bitwise
        (Number(c) ^ rnd).toString(16));
    }
    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, getRandomHex);
}
/**
 * Add a new entry in to the logging window.
 * @param entry The entry to add.
 */
function loggingAddEntry(entry) {
    if (loggingElement) {
        loggingElement.textContent = `${entry}\n\n${loggingElement.textContent}`;
    }
}
/**
 * Update the code example with the notification.
 * @param notificationOptions The options to show in the code example.
 */
function codeShowExample(notificationOptions) {
    if (codeElement) {
        codeElement.value = JSON.stringify(notificationOptions, undefined, "  ");
    }
}
/**
 * Update the connected state on the view.
 */
function updateConnectedState() {
    loggingAddEntry(`Is Connected: ${connected}`);
    if (connected) {
        loggingAddEntry(`Connected Version: ${connectedVersion}`);
    }
    const buttons = document.querySelectorAll("button");
    for (const button of buttons) {
        button.disabled = !connected;
    }
}
/**
 * Update the notification count on the view.
 * @param count The new count to display.
 */
function showNotificationCount(count) {
    const btnNotificationsCenterShow = document.querySelector("#btnNotificationsCenterShow");
    if (btnNotificationsCenterShow) {
        btnNotificationsCenterShow.textContent = `Show [${count}]`;
    }
}
/**
 * Display a very basic simple notification.
 */
async function showSimpleNotification() {
    const notification = {
        title: "Simple Notification",
        body: "This is a simple notification",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        soundOptions: {
            mode: "silent"
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Show a notification which can be dismissed by clicking on the body.
 */
async function showSimpleNotificationBodyDismiss() {
    const notification = {
        title: "Simple Notification",
        body: "This is a simple notification that be dismissed by clicking the body",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        onSelect: { BODY_CLICK: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.ActionBodyClickType.DISMISS_EVENT }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Show a notification which can be dismissed by clicking on the body and then trigger a custom action.
 */
async function showSimpleNotificationBodyDismissAction() {
    const notification = {
        title: "Simple Notification",
        body: "This is a simple notification that be dismissed by clicking the body and trigger custom action",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        onSelect: { BODY_CLICK: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.ActionBodyClickType.DISMISS_EVENT },
        customData: {
            action: "custom-action",
            data: {
                message: "Body click custom action"
            }
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Show a notification which has action buttons, the events returned will
 * be handled the the notification-action listener.
 */
async function showActionableNotification() {
    const notification = {
        title: "Actionable Notification",
        body: "This is a notification that has an action",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        buttons: [
            {
                title: "Acknowledged",
                type: "button",
                cta: true,
                onClick: {
                    task: "acknowledge-task",
                    customData: {
                        message: "This is the response data"
                    }
                }
            },
            {
                title: "Cancel",
                type: "button"
            }
        ]
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Show a notification which has form fields, the data from the form will
 * be returned to the notification-form-submitted listener.
 */
async function showFormNotification() {
    const notification = {
        title: "Form Notification",
        body: "This is a notification that has form data",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        form: [
            {
                key: "amount",
                label: "Amount",
                type: "number",
                widget: {
                    type: "Number",
                    max: 100,
                    min: 1
                },
                validation: {
                    min: {
                        arg: 1,
                        invalidMessage: "Must be at least 1"
                    },
                    max: {
                        arg: 100,
                        invalidMessage: "Cannot be more than 100"
                    },
                    required: {
                        arg: true
                    }
                }
            }
        ],
        buttons: [
            {
                title: "Save",
                type: "button",
                cta: true,
                submit: true
            },
            {
                title: "Cancel",
                type: "button"
            }
        ]
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Show a notification which has form fields, the data from the form will
 * be returned to the notification-form-submitted listener.
 */
async function showFormAdvancedNotification() {
    const notification = {
        title: "Form Advanced Notification",
        body: "This is a notification that has form data",
        toast: "transient",
        category: "default",
        template: "markdown",
        id: randomUUID(),
        form: [
            {
                type: "string",
                key: "book",
                label: "Book",
                helperText: "This is used to look up for book",
                widget: {
                    type: "Text",
                    placeholder: "Book name"
                },
                validation: {
                    min: {
                        arg: 7,
                        invalidMessage: "Must be at least 7 chars long"
                    },
                    max: {
                        arg: 9,
                        invalidMessage: "Must be at most 9 chars long"
                    },
                    required: {
                        arg: true
                    }
                },
                value: "1234554"
            },
            {
                type: "time",
                key: "what_time",
                label: "Chose time?",
                helperText: "Some time choosing helper text",
                value: {
                    hour: 12
                },
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "Time"
                }
            },
            {
                type: "date",
                key: "date_pickup",
                label: "When to pick up?",
                helperText: "Some date choosing helper text",
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "Date"
                }
            },
            {
                type: "string",
                key: "book2",
                label: "Book Type",
                helperText: "This is used to look up for book",
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "Dropdown",
                    options: [
                        {
                            value: "book1",
                            label: "Book 1"
                        },
                        {
                            value: "book2",
                            label: "Book 2"
                        },
                        {
                            value: "book3",
                            label: "Book 3"
                        }
                    ]
                }
            },
            {
                type: "radioGroup",
                key: "radioGroupDemo",
                label: "Chose one",
                helperText: "Some radio choosing helper text",
                value: "option_1",
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "RadioGroup",
                    group: [
                        {
                            label: "Option 1",
                            value: "option_1"
                        },
                        {
                            label: "Option 2",
                            value: "option_2"
                        },
                        {
                            label: "Option 3",
                            value: "option_3"
                        }
                    ]
                }
            },
            {
                type: "checkboxGroup",
                key: "checkboxGroupDemo",
                label: "Chose Multiple",
                helperText: "Some checkbox choosing helper text",
                value: ["option_1", "option_2"],
                validation: {
                    required: {
                        arg: true
                    }
                },
                widget: {
                    type: "CheckboxGroup",
                    group: [
                        {
                            label: "Option 1",
                            value: "option_1"
                        },
                        {
                            label: "Option 2",
                            value: "option_2"
                        },
                        {
                            label: "Option 3",
                            value: "option_3"
                        }
                    ]
                }
            },
            {
                type: "string",
                key: "description",
                label: "Description",
                value: "very long text....",
                helperText: "This is used to look up for book",
                widget: {
                    type: "Text",
                    multiline: true,
                    placeholder: "Write description",
                    rows: 5
                }
            },
            {
                type: "number",
                key: "age",
                label: "Age",
                helperText: "This is used to look up for book",
                widget: {
                    type: "Number",
                    placeholder: "Enter age",
                    min: 1,
                    max: 8
                },
                validation: {
                    min: {
                        arg: 0
                    },
                    max: {
                        arg: 9
                    },
                    required: {
                        arg: true
                    }
                }
            }
        ],
        buttons: [
            {
                title: "Save",
                type: "button",
                cta: true,
                submit: true
            },
            {
                title: "Cancel",
                type: "button"
            }
        ]
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Show a notification that can be updated.
 */
async function showUpdatableNotification() {
    const id = randomUUID();
    const notification = {
        title: "Updatable Notification",
        body: "This is an updatable notification",
        toast: "transient",
        category: "default",
        template: "markdown",
        customData: {
            count: 0
        },
        id
    };
    if (Object.keys(updatableNotifications).length === 0) {
        updatableNotificationTimer = window.setInterval(async () => {
            for (const notificationId in updatableNotifications) {
                updatableNotifications[notificationId].customData.count++;
                const notificationUpdate = {
                    template: "markdown",
                    body: `This is an updatable notification ${updatableNotifications[notificationId].customData.count}`,
                    id: notificationId
                };
                await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.update(notificationUpdate);
            }
        }, 1000);
    }
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
    updatableNotifications[id] = notification;
}
/**
 * Show a notification with custom content.
 */
async function showCustomNotification() {
    const notification = {
        title: "Custom Notification",
        toast: "transient",
        category: "default",
        template: "custom",
        id: randomUUID(),
        templateOptions: {
            body: {
                compositions: [
                    {
                        minTemplateAPIVersion: "1",
                        layout: {
                            type: "container",
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                gap: "10px"
                            },
                            children: [
                                {
                                    type: "text",
                                    dataKey: "subTitle",
                                    style: {
                                        fontSize: "12px",
                                        fontWeight: "bold"
                                    }
                                },
                                {
                                    type: "container",
                                    style: {
                                        display: "flex",
                                        flexDirection: "column",
                                        marginBottom: "10px"
                                    },
                                    children: [
                                        {
                                            type: "text",
                                            dataKey: "firstValueTitle",
                                            style: {
                                                fontSize: "12px"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "firstValue",
                                            style: {
                                                fontSize: "14px",
                                                color: "red"
                                            }
                                        }
                                    ]
                                },
                                {
                                    type: "container",
                                    style: {
                                        display: "flex",
                                        flexDirection: "column",
                                        marginBottom: "10px"
                                    },
                                    children: [
                                        {
                                            type: "text",
                                            dataKey: "secondValueTitle",
                                            style: {
                                                fontSize: "12px"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "secondValue",
                                            style: {
                                                fontSize: "14px",
                                                color: "blue"
                                            }
                                        }
                                    ]
                                },
                                {
                                    type: "image",
                                    dataKey: "exampleImageUrl",
                                    style: {
                                        height: "100px"
                                    }
                                },
                                {
                                    type: "actionableText",
                                    dataKey: "actionableUrlTitle",
                                    tooltipKey: "actionableUrlTooltip",
                                    onClick: {
                                        actionId: "open-web-site",
                                        url: "https://here.io"
                                    }
                                },
                                {
                                    type: "container",
                                    style: {
                                        display: "grid",
                                        flexDirection: "row",
                                        gridTemplateColumns: "1fr 1fr 1fr",
                                        marginBottom: "10px",
                                        overflow: "auto"
                                    },
                                    children: [
                                        {
                                            type: "text",
                                            dataKey: "c0",
                                            style: {
                                                fontSize: "10px",
                                                marginBottom: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                                backgroundColor: "green"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "c1",
                                            style: {
                                                fontSize: "10px",
                                                marginBottom: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                                backgroundColor: "red"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "c2",
                                            style: {
                                                fontSize: "10px",
                                                marginBottom: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap",
                                                fontWeight: "bold",
                                                backgroundColor: "blue"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d00",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d01",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d02",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d10",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d11",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        },
                                        {
                                            type: "text",
                                            dataKey: "d12",
                                            style: {
                                                fontSize: "10px",
                                                padding: "3px",
                                                whiteSpace: "nowrap"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ]
            }
        },
        templateData: {
            subTitle: "Sub Title ",
            firstValueTitle: "First Value",
            firstValue: "100",
            secondValueTitle: "Second Value",
            secondValue: "200",
            c0: "Col 1",
            c1: "Col 2",
            c2: "Col 3",
            d00: "50",
            d01: "150",
            d02: "250",
            d10: "550",
            d11: "650",
            d12: "750",
            exampleImageUrl: "https://built-on-openfin.github.io/container-starter/dev/nick/v43-updates/use-notifications/images/example.png",
            actionableUrlTitle: "HERE Website",
            actionableUrlTooltip: "http://www.here.io"
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Show a notification and play a sound with it.
 * @param notificationSoundUrl The url of the sounds file to play.
 */
async function showSoundNotification(notificationSoundUrl) {
    // we disable the sound if it is enabled at the Notification Center level
    const notification = {
        title: "Sound Notification",
        body: "This is a notification with sound ",
        toast: "transient",
        category: "default",
        template: "markdown",
        soundOptions: { mode: "silent" },
        id: randomUUID()
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
    await playNotification(notificationSoundUrl);
}
/**
 * Get the user settings for the notification center.
 */
async function getNotificationCenterUserSettings() {
    const status = await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.getUserSettingStatus("soundEnabled" /* Notifications.UserSettings.SOUND_ENABLED */);
    loggingAddEntry(`Sound Enabled: ${status}`);
}
/**
 * Display a notification that has an indicator bar on the left.
 */
async function showIndicatorNotification() {
    const notification = {
        title: "Indicator Notification",
        toast: "transient",
        indicator: {
            text: "Limit"
        },
        category: "default",
        template: "custom",
        id: randomUUID(),
        templateOptions: {
            body: {
                compositions: [
                    {
                        minTemplateAPIVersion: "1",
                        layout: {
                            type: "container",
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                gap: "10px"
                            },
                            children: [
                                {
                                    type: "text",
                                    dataKey: "content"
                                }
                            ]
                        }
                    }
                ]
            },
            indicator: {
                align: "left",
                color: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.IndicatorColor.RED
            }
        },
        templateData: {
            content: "This is a custom notification with a red indicator showing to the left of the toast"
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Display a notification that has an custom indicator bar color theme.
 */
async function showCustomIndicatorNotification() {
    const notification = {
        title: "Custom Indicator Notification",
        toast: "transient",
        category: "default",
        template: "custom",
        id: randomUUID(),
        templateOptions: {
            body: {
                compositions: [
                    {
                        minTemplateAPIVersion: "1",
                        layout: {
                            type: "container",
                            style: {
                                display: "flex",
                                flexDirection: "column",
                                gap: "10px"
                            },
                            children: [
                                {
                                    type: "text",
                                    dataKey: "content"
                                }
                            ]
                        }
                    }
                ]
            },
            indicator: {
                align: "right"
            }
        },
        indicator: {
            color: "custom-indicator",
            fallback: _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.IndicatorColor.RED,
            text: "ALERT!!!"
        },
        templateData: {
            content: "This is a custom notification with custom indicator styling"
        }
    };
    codeShowExample(notification);
    await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.create(notification);
}
/**
 * Play a sound.
 * @param notificationSoundUrl The url of the notification to play.
 */
async function playNotification(notificationSoundUrl) {
    const audio = new Audio(notificationSoundUrl);
    await audio.play();
}
/**
 * Add a listener which checks for the connection changed event.
 * @param callback The callback to call when the connection state changes.
 */
function addConnectionChangedEventListener(callback) {
    if (statusIntervalId === undefined) {
        statusIntervalId = window.setInterval(async () => {
            const status = await _openfin_workspace_notifications__WEBPACK_IMPORTED_MODULE_0__.provider.getStatus();
            if (status.connected !== lastConnectionStatus) {
                lastConnectionStatus = status.connected;
                callback(status);
            }
        }, 1000);
    }
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0EsNEVBQTRFLGVBQWU7QUFDM0YsYUFBYTtBQUNiLDRFQUE0RSw0QkFBNEI7QUFDeEcsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCw2Q0FBNkM7QUFDdkc7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixZQUFZO0FBQzdCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsMkRBQTJEO0FBQ3pHLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSwrQkFBK0IsYUFBYTtBQUM1QyxvQ0FBb0M7QUFDcEMsU0FBUztBQUNULHVCQUF1QixtQkFBbUIsdUJBQXVCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixjQUFjO0FBQzdDLG9DQUFvQztBQUNwQyxTQUFTO0FBQ1Q7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hELG9DQUFvQztBQUNwQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsdURBQXVELHNCQUFzQixzQ0FBc0Msc0JBQXNCLHNCQUFzQix1Q0FBdUM7QUFDclEsNENBQTRDLHlDQUF5QyxJQUFJO0FBQ3pGLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx1REFBdUQsd0JBQXdCO0FBQzlJO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixJQUFJO0FBQ3pCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsU0FBUztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixtQkFBbUI7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGlEQUFpRCxxQ0FBcUM7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5REFBeUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsbURBQW1EO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHdCQUF3QjtBQUN2RCx3REFBd0QsbURBQW1EO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkZBQTJGLGdCQUFnQjtBQUMzRyxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJFQUEyRTtBQUN6RztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9COztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELDBCQUEwQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxzQkFBc0IsYUFBYTtBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsc0NBQXNDO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGFBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLG9FQUFvRSxJQUFJLCtDQUErQztBQUN0SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDhCQUE4QjtBQUN0RSwyQ0FBMkMsc0NBQXNDO0FBQ2pGLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCwwQ0FBMEM7QUFDbEcsb0NBQW9DLHFCQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlCQUF5Qiw2Q0FBNkM7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUseUJBQXlCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRiw2QkFBNkI7QUFDakgsOEJBQThCLGlCQUFpQixpREFBaUQ7QUFDaEc7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZO0FBQ3ZEO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsNERBQTREO0FBQzVEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxvREFBb0QsT0FBTztBQUMzRCxnRkFBZ0Ysc0NBQXNDO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGlGQUFpRjtBQUM1SCxhQUFhLHdCQUF3QixpRkFBaUY7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHdCQUF3QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxxQkFBcUIsd0JBQXdCLDZFQUE2RTtBQUMxSCxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDJCQUEyQixpRkFBaUYsSUFBSTtBQUMvSyx1Q0FBdUMsaUZBQWlGO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDJCQUEyQiwyQ0FBMkM7QUFDckksdUNBQXVDLG1EQUFtRDtBQUMxRix1Q0FBdUMsNEVBQTRFLElBQUk7QUFDdkg7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDJCQUEyQixvREFBb0Q7QUFDOUksdUNBQXVDLGtEQUFrRCxJQUFJO0FBQzdGLHVDQUF1Qyw0RUFBNEU7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkJBQTJCLG1DQUFtQyxzQ0FBc0MsSUFBSTtBQUN6SCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsdUZBQXVGO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsdUZBQXVGO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsbUJBQW1CO0FBQ2hGLG9FQUFvRSx1QkFBdUI7QUFDM0Y7QUFDQTtBQUNBLDJDQUEyQywwQ0FBMEM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGdCQUFnQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxnQkFBZ0I7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywwQ0FBMEM7QUFDckYsMkNBQTJDLGtEQUFrRDtBQUM3RixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EscUZBQXFGLG1CQUFtQjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsc0JBQXNCO0FBQ3pEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHFDQUFxQztBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLDZCQUE2QixtQkFBbUIsMEJBQTBCO0FBQ3JKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsbUNBQW1DO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLHdFQUF3RSxzQkFBc0IsbUJBQW1CLGtCQUFrQixVQUFVLGlCQUFpQixnQkFBZ0IsVUFBVTtBQUN4TCw4RUFBOEUsc0JBQXNCO0FBQ3BHO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsOENBQThDO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBCQUEwQixvQ0FBb0M7QUFDbkY7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFNBQVMsZUFBZTtBQUMzRSw0Q0FBNEMsZUFBZTtBQUMzRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsd0JBQXdCLDRDQUE0QyxhQUFhO0FBQ3hJO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx5QkFBeUI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQ0FBZ0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxjQUFjO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxnQkFBZ0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxXQUFXO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw4Q0FBOEM7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzQkFBc0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdCQUF3QixrREFBa0QsSUFBSSxxQkFBcUI7QUFDcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdCQUF3Qiw0REFBNEQ7QUFDckgsMkRBQTJELG1EQUFtRCxJQUFJO0FBQ2xIO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsdUJBQXVCLHVDQUF1QztBQUNoSCx1REFBdUQscURBQXFEO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLGlJQUFpSSx1QkFBdUI7QUFDeEo7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpREFBaUQ7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSx3QkFBd0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBCQUEwQjtBQUNyRCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBCQUEwQjtBQUNyRCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0JBQStCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYiw0REFBNEQsa0JBQWtCO0FBQzlFLDREQUE0RCxrQkFBa0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsNkVBQTZFO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsZ0JBQWdCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsd0RBQXdEO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsaUVBQWlFO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsMkJBQTJCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELDZDQUE2QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCw4Q0FBOEM7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsb0RBQW9EO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHVDQUF1QztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsK0JBQStCO0FBQ2pHO0FBQ0E7QUFDQSxrRUFBa0Usb0JBQW9CO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsNkJBQTZCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsNkJBQTZCLDRCQUE0QixJQUFJO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGtEQUFrRDtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDBCQUEwQjtBQUNwRTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRiw0Q0FBNEM7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBLGtDQUFrQztBQUNsQztBQUNBLDZDQUE2Qyw0Q0FBNEM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLCtDQUErQztBQUNoRixpQ0FBaUM7QUFDakM7QUFDQSxpQ0FBaUMsZ0RBQWdEO0FBQ2pGLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCx3RkFBd0Y7QUFDcEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLCtCQUErQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxnQ0FBZ0M7QUFDNUY7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELDBDQUEwQztBQUMxQywwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsOENBQThDO0FBQzNILHNFQUFzRSw4Q0FBOEM7QUFDcEg7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQiw0Q0FBNEMseUJBQXlCO0FBQ3JFO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsaUJBQWlCO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGdFQUFnRSxtQkFBbUIsK0RBQStEO0FBQ2hNO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0Y7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGLHdCQUF3QjtBQUN6RyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSw2QkFBNkI7QUFDOUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxrQ0FBa0M7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDJGQUEyRixnQ0FBZ0M7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0Isb0VBQW9FO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxXQUFXO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDRCQUE0QixzQ0FBc0M7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsa0ZBQWtGO0FBQy9IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxZQUFZO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVk7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsd0RBQXdEO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRixvQkFBb0I7QUFDOUc7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsb0RBQW9ELHFCQUFxQixlQUFlO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsWUFBWTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxpQkFBaUIsNkJBQTZCO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsa0JBQWtCO0FBQ3ZFO0FBQ0E7QUFDQSxxREFBcUQsa0JBQWtCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsbUNBQW1DO0FBQ2hHO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLHdDQUF3QztBQUN4RztBQUNBLDBDQUEwQyxzQ0FBc0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGdDQUFnQztBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsK0JBQStCO0FBQzlFO0FBQ0Esa0VBQWtFLG9FQUFvRTtBQUN0STtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxrREFBa0Qsb0NBQW9DO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHdFQUF3RTtBQUMxSDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSwyQ0FBMkMsZ0JBQWdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxzQ0FBc0M7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGdDQUFnQztBQUM1RjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsZ0VBQWdFLHNDQUFzQztBQUN0RztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlHQUFpRyx1QkFBdUI7QUFDeEg7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsMEJBQTBCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdEQUF3RDtBQUN0RSxjQUFjLDZCQUE2QjtBQUMzQyx5Q0FBeUMsOEJBQThCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsbURBQW1ELDJDQUEyQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkJBQTZCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDJDQUEyQztBQUNoSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsMENBQTBDLGlCQUFpQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1CQUFtQjtBQUM5RCw4Q0FBOEMsNkJBQTZCO0FBQzNFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsWUFBWTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTLHdCQUF3QixtQ0FBbUM7QUFDcEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHFFQUFxRSxJQUFJLE1BQU07QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSw4Q0FBOEMsbUNBQW1DO0FBQ2pGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywwQkFBMEI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBNEM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0Q0FBNEM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsNEVBQTRFLHVEQUF1RDtBQUNuSTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0Esd0RBQXdELGdCQUFnQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsbUJBQW1CO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxnQkFBZ0I7QUFDdEY7QUFDQTtBQUNBLGtEQUFrRCx1QkFBdUI7QUFDekU7QUFDQTtBQUNBLG1FQUFtRSx5Q0FBeUM7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGlDQUFpQztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsK0JBQStCLHdCQUF3QjtBQUN2RCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsa0NBQWtDO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSw4QkFBOEI7QUFDaEc7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLDJDQUEyQywrQkFBK0IsK0JBQStCLCtCQUErQjtBQUN4STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0JBQXdCO0FBQzNELDREQUE0RCxzRUFBc0U7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBLGdJQUFnSTtBQUNoSSxxREFBcUQscUJBQXFCO0FBQzFFO0FBQ0E7QUFDQSw0REFBNEQsV0FBVztBQUN2RSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLFdBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELG9CQUFvQjtBQUMvRTtBQUNBLGdPQUFnTztBQUNoTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCwrQkFBK0I7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0JBQWdCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsVUFBVTtBQUMzRTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsaURBQWlELFlBQVksNEJBQTRCLGFBQWEsc0ZBQXNGO0FBQzVMO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrQkFBa0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsK0NBQStDO0FBQ3JHLHVCQUF1QjtBQUN2QjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNEJBQTRCLGVBQWU7QUFDakY7QUFDQTtBQUNBLDBEQUEwRCxnQkFBZ0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLDZCQUE2QjtBQUNoSDtBQUNBO0FBQ0E7QUFDQSxtRkFBbUYsNkJBQTZCO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRiw2QkFBNkI7QUFDaEg7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLDBCQUEwQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxVQUFVLFlBQVksZUFBZTtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLG9EQUFvRCxpQkFBaUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLGlDQUFpQztBQUNqQyxzRUFBc0UsMkNBQTJDO0FBQ2pIO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNDQUFzQyxpQ0FBaUMsZ0JBQWdCO0FBQzVJO0FBQ0E7QUFDQSx3REFBd0QsNENBQTRDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0EsMEZBQTBGLFlBQVksbURBQW1EO0FBQ3pKO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QjtBQUM3QjtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiwyREFBMkQ7QUFDekY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMENBQTBDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxZQUFZO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsV0FBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RyxzRUFBc0U7QUFDbkwseURBQXlELFlBQVk7QUFDckU7QUFDQTtBQUNBLHlGQUF5RjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRyxZQUFZO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsK0NBQStDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RiwyQkFBMkI7QUFDbkgsZ0dBQWdHLHFDQUFxQztBQUNySSxzRkFBc0YsU0FBUztBQUMvRjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLG9HQUFvRztBQUNwRztBQUNBLDZCQUE2QjtBQUM3QiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDZDQUE2QztBQUMzRixrREFBa0Qsd0RBQXdEO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsVUFBVSxlQUFlO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0QseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0QseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdELHlEQUF5RDtBQUN6RCxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsbUJBQW1CO0FBQ25CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRCwrQ0FBK0MsOEJBQThCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsNkRBQTZELDhCQUE4QjtBQUMzRjtBQUNBO0FBQ0EsaUVBQWlFLDhCQUE4QjtBQUMvRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsc0NBQXNDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsMkJBQTJCO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EsZ0RBQWdELDJCQUEyQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RiwyQkFBMkI7QUFDbEg7QUFDQTtBQUNBLHNDQUFzQyxvRUFBb0U7QUFDMUc7QUFDQTtBQUNBO0FBQ0EsNERBQTRELDJCQUEyQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHVEQUF1RDtBQUMzSDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFdBQVc7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHNCQUFzQjtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRywrQkFBK0I7QUFDL0g7QUFDQSx5R0FBeUcsZ0JBQWdCO0FBQ3pIO0FBQ0EsdUZBQXVGLGdCQUFnQjtBQUN2RztBQUNBO0FBQ0E7QUFDQSx1R0FBdUcsNENBQTRDO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtSEFBbUgsK0JBQStCO0FBQ2xKLHlHQUF5RyxnQkFBZ0I7QUFDekg7QUFDQSx1RkFBdUYsZ0JBQWdCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtHQUErRyw0Q0FBNEM7QUFDM0o7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLGdCQUFnQjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsNENBQTRDO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUZBQW1GLG1CQUFtQjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esc0RBQXNELGdCQUFnQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrSkFBK0oscUJBQXFCO0FBQ3BMO0FBQ0Esa0ZBQWtGLFVBQVU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EseUNBQXlDLEdBQUc7QUFDNUM7QUFDQTtBQUNBLGlFQUFpRSx1RUFBdUU7QUFDeEksaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxPQUFPO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pELHlEQUF5RDtBQUN6RCw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMkJBQTJCO0FBQzNCO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxzRkFBc0YsK0JBQStCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx1QkFBdUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix3QkFBd0I7QUFDdEQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpR0FBaUc7QUFDakc7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1FQUFtRTtBQUM5Ryx3Q0FBd0Msd0NBQXdDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsMEJBQTBCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsOENBQThDLHNCQUFzQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsMENBQTBDO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwQkFBMEI7QUFDdkQ7QUFDQSwrQkFBK0IsNkVBQTZFO0FBQzVHLCtDQUErQywyQkFBMkI7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwwQkFBMEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3QkFBd0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsaUJBQWlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsZ0NBQWdDO0FBQ25HLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxZQUFZO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCw0Q0FBNEM7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLDRDQUE0QztBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDJEQUEyRDtBQUNqSCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRDQUE0QztBQUM1Qyw0Q0FBNEM7QUFDNUM7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBLCtDQUErQyxZQUFZO0FBQzNEO0FBQ0EsU0FBUztBQUNUO0FBQ0EscUNBQXFDLFlBQVk7QUFDakQ7QUFDQTtBQUNBLGFBQWEsNkNBQTZDLGVBQWU7QUFDekUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsK0JBQStCO0FBQy9CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLGVBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxQkFBcUI7QUFDckQseUNBQXlDLHVDQUF1QyxHQUFHO0FBQ25GOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwyQkFBMkI7QUFDekY7QUFDQSwrQkFBK0Isd0JBQXdCO0FBQ3ZEO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0M7QUFDdkU7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxzQ0FBc0MsWUFBWTtBQUNsRDs7QUFFQTtBQUNBLHNDQUFzQyxlQUFlO0FBQ3JEOztBQUVBO0FBQ0Esc0NBQXNDLHVCQUF1QjtBQUM3RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLHNDQUFzQyxrQkFBa0I7O0FBRXhEOztBQUVBLENBQUM7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvM0xBO0FBQ0E7QUFDQTtBQUNxQztBQUNyQztBQUNBLG9FQUFvRSwyQ0FBTTtBQUMxRSxJQUFJLGtEQUFhO0FBQ2pCLCtFQUErRSxrREFBYSxFQUFFLE1BQU0sYUFBYTtBQUNqSDtBQUNBLFFBQVE7QUFDUjtBQUNBLHFCQUFxQjtBQUdEO0FBQ3BCO0FBQ0EsaUVBQWUsS0FBSyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoQlEsMkRBQTJELGNBQWMsT0FBTywwQ0FBMEMsYUFBYSxrQ0FBa0Msb0JBQW9CLHNEQUFDLG1GQUFtRiwwQkFBMEIsT0FBTywrQ0FBK0MsK0JBQStCLHFCQUFxQix5QkFBeUIsMkJBQTJCLHFFQUFxRSxrRUFBa0UsU0FBUyx3RkFBd0YsZ0JBQWdCLGVBQWUsOEJBQThCLG9EQUFvRCxTQUFTLHVDQUF1QyxtQ0FBbUMsaUdBQWlHLHFEQUFxRCxPQUFPLG9CQUFvQixRQUFRLGlDQUFpQywwQkFBMEIsdUJBQXVCLHFCQUFxQixRQUFRLDhDQUE4QyxFQUFFLGlDQUFpQyxNQUFNLDhCQUE4QixLQUFLLCtFQUErRSxNQUFNLFdBQVcsdURBQXVELGtJQUFrSSxnREFBZ0Qsc0tBQXNLLHlCQUF5QixvREFBb0QsMkRBQTJELHNCQUFzQixHQUFHLElBQUksdUJBQXVCLDhCQUE4QixpQkFBaUIsT0FBTyxpRUFBZSxDQUFDLEVBQUM7QUFDdGlFOzs7Ozs7Ozs7Ozs7QUNEYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCLEdBQUcsRUFBRTtBQUNoQztBQUNBO0FBQ0EsK0NBQStDLE9BQU8sR0FBRyxFQUFFO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTyxHQUFHLEVBQUU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxFQUFFO0FBQ3JEO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWixZQUFZO0FBQ1osY0FBYztBQUNkLGFBQWE7QUFDYixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx3REFBd0Q7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGVBQWU7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxlQUFlO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsZUFBZTtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsT0FBTyxFQUFFLGFBQWEsRUFBRSxRQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWSxHQUFHLFdBQVc7QUFDN0MsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsYUFBYTtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQW1CO0FBQzNDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVUsRUFBRSxZQUFZLEVBQUUsSUFBSTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixVQUFVLEVBQUUsWUFBWSxFQUFFLElBQUk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxZQUFZLEtBQUssR0FBRyxjQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFlBQVksRUFBRSxhQUFhLEVBQUUsRUFBRTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsMkVBQTJFLDZCQUE2QixpQ0FBaUMsbUJBQW1CLDZCQUE2QixrQ0FBa0M7QUFDM047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlCQUF5QjtBQUNuRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLDZCQUE2Qiw4QkFBOEIsNkJBQTZCO0FBQzFKLGlDQUFpQyw2QkFBNkI7QUFDOUQ7QUFDQTtBQUNBLHNFQUFzRSxPQUFPO0FBQzdFLGVBQWU7QUFDZixhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsVUFBVSxHQUFHLElBQUk7QUFDeEc7QUFDQTtBQUNBLGtHQUFrRyxVQUFVLEdBQUcsSUFBSTtBQUNuSCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxhQUFhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxTQUFTLFVBQVUsT0FBTztBQUNuRztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFNBQVMsR0FBRyxHQUFHO0FBQ2hELDhCQUE4QixTQUFTLEdBQUcsR0FBRztBQUM3QyxtQ0FBbUMsUUFBUSxtQkFBbUIsaUJBQWlCLHFDQUFxQyxPQUFPO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxrQ0FBa0MsNkJBQTZCO0FBQy9ELHFDQUFxQyw2QkFBNkIsU0FBUyw2QkFBNkI7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsSUFBSSxFQUFFLDhCQUE4QixFQUFFLGdCQUFnQjtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLGdGQUFnRixFQUFFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsYUFBYTtBQUM1RztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsZUFBZTtBQUNsSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRCQUE0QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsZUFBZTtBQUNsSDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsRUFBRTtBQUN6RSxRQUFRO0FBQ1IsMkNBQTJDLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxJQUFJO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLEVBQUUsR0FBRyxFQUFFO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLGVBQWU7QUFDaEg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQ2gwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IscUJBQU0sZ0JBQWdCLHFCQUFNLElBQUkscUJBQU0sc0JBQXNCLHFCQUFNOztBQUUxRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRLFdBQVc7QUFDOUIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsK0NBQStDLGlCQUFpQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSxv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O0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHlDQUF5QztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCLGNBQWM7QUFDZDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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bUMsRUFBRSxTQUFTLDBCQUEwQixTQUFTLGFBQWEseUJBQXlCLEdBQUcsNkJBQTZCLEVBQUUsUUFBUSxhQUFhLHlCQUF5QixHQUFHLDZCQUE2QixFQUFFLFFBQVEsYUFBYSx5QkFBeUIsR0FBRyw2QkFBNkIsRUFBRSxRQUFRLGFBQWEseUJBQXlCLEdBQUcsNkJBQTZCLEdBQUcsV0FBVyxNQUFNLGFBQWEsMkJBQTJCLEdBQUcsbUNBQW1DLEVBQUUsUUFBUSxhQUFhLDJCQUEyQixHQUFHLG1DQUFtQyxFQUFFLFFBQVEsYUFBYSwyQkFBMkIsR0FBRyxtQ0FBbUMsRUFBRSxRQUFRLGFBQWEsMkJBQTJCLEdBQUcsbUNBQW1DLEVBQUUsUUFBUSxhQUFhLDJCQUEyQixHQUFHLG1DQUFtQyxFQUFFLFNBQVMsNEJBQTRCLFNBQVMsYUFBYSwyQkFBMkIsR0FBRyw2QkFBNkIsRUFBRSxRQUFRLGFBQWEsMkJBQTJCLEdBQUcsNkJBQTZCLEVBQUUsUUFBUSxhQUFhLDJCQUEyQixHQUFHLDZCQUE2QixFQUFFLFFBQVEsYUFBYSwyQkFBMkIsR0FBRyw2QkFBNkIsR0FBRyxTQUFTLE1BQU0sYUFBYSx5QkFBeUIsR0FBRyxtQ0FBbUMsRUFBRSxRQUFRLGFBQWEseUJBQXlCLEdBQUcsbUNBQW1DLEVBQUUsUUFBUSxhQUFhLHlCQUF5QixHQUFHLG1DQUFtQyxFQUFFLFFBQVEsYUFBYSx5QkFBeUIsR0FBRyxtQ0FBbUMsRUFBRSxRQUFRLGFBQWEseUJBQXlCLEdBQUcsbUNBQW1DLEVBQUUsU0FBUywwQkFBMEIsU0FBUyxhQUFhLHlCQUF5QixHQUFHLDZCQUE2QixFQUFFLFFBQVEsYUFBYSx5QkFBeUIsR0FBRyw2QkFBNkIsRUFBRSxRQUFRLGFBQWEseUJBQXlCLEdBQUcsNkJBQTZCLEVBQUUsUUFBUSxhQUFhLHlCQUF5QixHQUFHLDZCQUE2QixHQUFHLFdBQVcsTUFBTSxhQUFhLDJCQUEyQixHQUFHLG1DQUFtQyxFQUFFLFFBQVEsYUFBYSwyQkFBMkIsR0FBRyxtQ0FBbUMsRUFBRSxRQUFRLGFBQWEsMkJBQTJCLEdBQUcsbUNB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Q3BCLE9BQU8sRUFBRSxLQUFLO2dEQUNkLFVBQVUsRUFBRSxRQUFRO2dEQUNwQixVQUFVLEVBQUUsTUFBTTtnREFDbEIsZUFBZSxFQUFFLE9BQU87NkNBQ3hCO3lDQUNEO3dDQUNEOzRDQUNDLElBQUksRUFBRSxNQUFNOzRDQUNaLE9BQU8sRUFBRSxJQUFJOzRDQUNiLEtBQUssRUFBRTtnREFDTixRQUFRLEVBQUUsTUFBTTtnREFDaEIsWUFBWSxFQUFFLE1BQU07Z0RBQ3BCLE9BQU8sRUFBRSxLQUFLO2dEQUNkLFVBQVUsRUFBRSxRQUFRO2dEQUNwQixVQUFVLEVBQUUsTUFBTTtnREFDbEIsZUFBZSxFQUFFLEtBQUs7NkNBQ3RCO3lDQUNEO3dDQUNEOzRDQUNDLElBQUksRUFBRSxNQUFNOzRDQUNaLE9BQU8sRUFBRSxJQUFJOzRDQUNiLEtBQUssRUFBRTtnREFDTixRQUFRLEVBQUUsTUFBTTtnREFDaEIsWUFBWSxFQUFFLE1BQU07Z0RBQ3BCLE9BQU8sRUFBRSxLQUFLO2dEQUNkLFVBQVUsRUFBRSxRQUFRO2dEQUNwQixVQUFVLEVBQUUsTUFBTTtnREFDbEIsZUFBZSxFQUFFLE1BQU07NkNBQ3ZCO3lDQUNEO3dDQUNEOzRDQUNDLElBQUksRUFBRSxNQUFNOzRDQUNaLE9BQU8sRUFBRSxLQUFLOzRDQUNkLEtBQUssRUFBRTtnREFDTixRQUFRLEVBQUUsTUFBTTtnREFDaEIsT0FBTyxFQUFFLEtBQUs7Z0RBQ2QsVUFBVSxFQUFFLFFBQVE7NkNBQ3BCO3lDQUNEO3dDQUNEOzRDQUNDLElBQUksRUFBRSxNQUFNOzRDQUNaLE9BQU8sRUFBRSxLQUFLOzRDQUNkLEtBQUssRUFBRTtnREFDTixRQUFRLEVBQUUsTUFBTTtnREFDaEIsT0FBTyxFQUFFLEtBQUs7Z0RBQ2QsVUFBVSxFQUFFLFFBQVE7NkNBQ3BCO3lDQUNEO3dDQUNEOzRDQUNDLElBQUksRUFBRSxNQUFNOzRDQUNaLE9BQU8sRUFBRSxLQUFLOzRDQUNkLEtBQUssRUFBRTtnREFDTixRQUFRLEVBQUUsTUFBTTtnREFDaEIsT0FBTyxFQUFFLEtBQUs7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S0FBSyxFQUFFLE9BQU87YUFDZDtTQUNEO1FBQ0QsU0FBUyxFQUFFO1lBQ1YsS0FBSyxFQUFFLGtCQUFrQjtZQUN6QixRQUFRLEVBQUUsNEVBQTRCLENBQUMsR0FBRztZQUMxQyxJQUFJLEVBQUUsVUFBVTtTQUNoQjtRQUNELFlBQVksRUFBRTtZQUNiLE9BQU8sRUFBRSw2REFBNkQ7U0FDdEU7S0FDRCxDQUFDO0lBRUYsZUFBZSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzlCLE1BQU0sb0VBQW9CLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDMUMsQ0FBQztBQUVEOzs7R0FHRztBQUNILEtBQUssVUFBVSxnQkFBZ0IsQ0FBQyxvQkFBNEI7SUFDM0QsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUM5QyxNQUFNLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNwQixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxpQ0FBaUMsQ0FDekMsUUFBaUU7SUFFakUsSUFBSSxnQkFBZ0IsS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUNwQyxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssSUFBSSxFQUFFO1lBQ2hELE1BQU0sTUFBTSxHQUFHLE1BQU0sc0VBQXNCLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDeEQsSUFBSSxNQUFNLENBQUMsU0FBUyxLQUFLLG9CQUFvQixFQUFFLENBQUM7Z0JBQy9DLG9CQUFvQixHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7Z0JBQ3hDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNsQixDQUFDO1FBQ0YsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ1YsQ0FBQztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL2RleGllL2Rpc3QvZGV4aWUuanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9kZXhpZS9pbXBvcnQtd3JhcHBlci5tanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9odG1sLXBhcnNlLXN0cmluZ2lmeS9kaXN0L2h0bWwtcGFyc2Utc3RyaW5naWZ5Lm1vZHVsZS5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL2kxOG5leHQvZGlzdC9janMvaTE4bmV4dC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC5kZWJvdW5jZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9JMThuZXh0UHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvVHJhbnMuanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXVzZS1ub3RpZmljYXRpb25zLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1pMThuZXh0L2Rpc3QvZXMvVHJhbnNXaXRob3V0Q29udGV4dC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9UcmFuc2xhdGlvbi5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9jb250ZXh0LmpzIiwid2VicGFjazovL2NvbnRhaW5lci11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2RlZmF1bHRzLmpzIiwid2VicGFjazovL2NvbnRhaW5lci11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL2kxOG5JbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy9pbml0UmVhY3RJMThuZXh0LmpzIiwid2VicGFjazovL2NvbnRhaW5lci11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL3VuZXNjYXBlLmpzIiwid2VicGFjazovL2NvbnRhaW5lci11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL3VzZVNTUi5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91c2VUcmFuc2xhdGlvbi5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy91dGlscy5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWkxOG5leHQvZGlzdC9lcy93aXRoU1NSLmpzIiwid2VicGFjazovL2NvbnRhaW5lci11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtaTE4bmV4dC9kaXN0L2VzL3dpdGhUcmFuc2xhdGlvbi5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2luZGV4LmpzIiwid2VicGFjazovL2NvbnRhaW5lci11c2Utbm90aWZpY2F0aW9ucy8uLi8uLi9ub2RlX21vZHVsZXMvdGl0bGUtY2FzZS9kaXN0LmVzMjAxNS9pbmRleC5qcyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi4vLi4vbm9kZV9tb2R1bGVzL3ZvaWQtZWxlbWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXVzZS1ub3RpZmljYXRpb25zLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL25vdGlmaWNhdGlvbnMvZGlzdC9jbGllbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXVzZS1ub3RpZmljYXRpb25zLy4vbm9kZV9tb2R1bGVzL0BvcGVuZmluL3dvcmtzcGFjZS9ub3RpZmljYXRpb25zLmpzIiwid2VicGFjazovL2NvbnRhaW5lci11c2Utbm90aWZpY2F0aW9ucy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY29udGFpbmVyLXVzZS1ub3RpZmljYXRpb25zL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9jb250YWluZXItdXNlLW5vdGlmaWNhdGlvbnMvLi9jbGllbnQvc3JjL3Byb3ZpZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBEZXhpZS5qcyAtIGEgbWluaW1hbGlzdGljIHdyYXBwZXIgZm9yIEluZGV4ZWREQlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBCeSBEYXZpZCBGYWhsYW5kZXIsIGRhdmlkLmZhaGxhbmRlckBnbWFpbC5jb21cbiAqXG4gKiBWZXJzaW9uIDQuMi4xLCBTYXQgT2N0IDA0IDIwMjVcbiAqXG4gKiBodHRwczovL2RleGllLm9yZ1xuICpcbiAqIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBKYW51YXJ5IDIwMDQsIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9cbiAqL1xuIFxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuRGV4aWUgPSBmYWN0b3J5KCkpO1xufSkodGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG4gICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG4gICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcbiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG4gICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG4gICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcbiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG4gICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfVxuICAgIHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICAgICAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xuICAgIH1cblxuICAgIHZhciBfZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6XG4gICAgICAgIHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOlxuICAgICAgICAgICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOlxuICAgICAgICAgICAgICAgIGdsb2JhbDtcblxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXM7XG4gICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgIV9nbG9iYWwuUHJvbWlzZSkge1xuICAgICAgICBfZ2xvYmFsLlByb21pc2UgPSBQcm9taXNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBleHRlbmQob2JqLCBleHRlbnNpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBleHRlbnNpb24gIT09ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAga2V5cyhleHRlbnNpb24pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBleHRlbnNpb25ba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgICB2YXIgX2hhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuICAgIGZ1bmN0aW9uIGhhc093bihvYmosIHByb3ApIHtcbiAgICAgICAgcmV0dXJuIF9oYXNPd24uY2FsbChvYmosIHByb3ApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wcyhwcm90bywgZXh0ZW5zaW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uKGdldFByb3RvKHByb3RvKSk7XG4gICAgICAgICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IGtleXMgOiBSZWZsZWN0Lm93bktleXMpKGV4dGVuc2lvbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBzZXRQcm9wKHByb3RvLCBrZXksIGV4dGVuc2lvbltrZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgICBmdW5jdGlvbiBzZXRQcm9wKG9iaiwgcHJvcCwgZnVuY3Rpb25PckdldFNldCwgb3B0aW9ucykge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIGV4dGVuZChmdW5jdGlvbk9yR2V0U2V0ICYmIGhhc093bihmdW5jdGlvbk9yR2V0U2V0LCBcImdldFwiKSAmJiB0eXBlb2YgZnVuY3Rpb25PckdldFNldC5nZXQgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgeyBnZXQ6IGZ1bmN0aW9uT3JHZXRTZXQuZ2V0LCBzZXQ6IGZ1bmN0aW9uT3JHZXRTZXQuc2V0LCBjb25maWd1cmFibGU6IHRydWUgfSA6XG4gICAgICAgICAgICB7IHZhbHVlOiBmdW5jdGlvbk9yR2V0U2V0LCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVyaXZlKENoaWxkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiBmdW5jdGlvbiAoUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgQ2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQYXJlbnQucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICBzZXRQcm9wKENoaWxkLnByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCBDaGlsZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kOiBwcm9wcy5iaW5kKG51bGwsIENoaWxkLnByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgICBmdW5jdGlvbiBnZXRQcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKSB7XG4gICAgICAgIHZhciBwZCA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApO1xuICAgICAgICB2YXIgcHJvdG87XG4gICAgICAgIHJldHVybiBwZCB8fCAocHJvdG8gPSBnZXRQcm90byhvYmopKSAmJiBnZXRQcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIHByb3ApO1xuICAgIH1cbiAgICB2YXIgX3NsaWNlID0gW10uc2xpY2U7XG4gICAgZnVuY3Rpb24gc2xpY2UoYXJncywgc3RhcnQsIGVuZCkge1xuICAgICAgICByZXR1cm4gX3NsaWNlLmNhbGwoYXJncywgc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG92ZXJyaWRlKG9yaWdGdW5jLCBvdmVycmlkZWRGYWN0b3J5KSB7XG4gICAgICAgIHJldHVybiBvdmVycmlkZWRGYWN0b3J5KG9yaWdGdW5jKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNzZXJ0KGIpIHtcbiAgICAgICAgaWYgKCFiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXNzZXJ0aW9uIEZhaWxlZFwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNhcCQxKGZuKSB7XG4gICAgICAgIGlmIChfZ2xvYmFsLnNldEltbWVkaWF0ZSlcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycmF5LCBleHRyYWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBpdGVtLCBpKSB7XG4gICAgICAgICAgICB2YXIgbmFtZUFuZFZhbHVlID0gZXh0cmFjdG9yKGl0ZW0sIGkpO1xuICAgICAgICAgICAgaWYgKG5hbWVBbmRWYWx1ZSlcbiAgICAgICAgICAgICAgICByZXN1bHRbbmFtZUFuZFZhbHVlWzBdXSA9IG5hbWVBbmRWYWx1ZVsxXTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCkge1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnICYmIGhhc093bihvYmosIGtleVBhdGgpKVxuICAgICAgICAgICAgcmV0dXJuIG9ialtrZXlQYXRoXTtcbiAgICAgICAgaWYgKCFrZXlQYXRoKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlQYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHJ2ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleVBhdGgubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGdldEJ5S2V5UGF0aChvYmosIGtleVBhdGhbaV0pO1xuICAgICAgICAgICAgICAgIHJ2LnB1c2godmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGVyaW9kID0ga2V5UGF0aC5pbmRleE9mKCcuJyk7XG4gICAgICAgIGlmIChwZXJpb2QgIT09IC0xKSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJPYmogPSBvYmpba2V5UGF0aC5zdWJzdHIoMCwgcGVyaW9kKV07XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJPYmogPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGdldEJ5S2V5UGF0aChpbm5lck9iaiwga2V5UGF0aC5zdWJzdHIocGVyaW9kICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHZhbHVlKSB7XG4gICAgICAgIGlmICghb2JqIHx8IGtleVBhdGggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCdpc0Zyb3plbicgaW4gT2JqZWN0ICYmIE9iamVjdC5pc0Zyb3plbihvYmopKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIGtleVBhdGggIT09ICdzdHJpbmcnICYmICdsZW5ndGgnIGluIGtleVBhdGgpIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmICdsZW5ndGgnIGluIHZhbHVlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5UGF0aC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoW2ldLCB2YWx1ZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcGVyaW9kID0ga2V5UGF0aC5pbmRleE9mKCcuJyk7XG4gICAgICAgICAgICBpZiAocGVyaW9kICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50S2V5UGF0aCA9IGtleVBhdGguc3Vic3RyKDAsIHBlcmlvZCk7XG4gICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0tleVBhdGggPSBrZXlQYXRoLnN1YnN0cihwZXJpb2QgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nS2V5UGF0aCA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KG9iaikgJiYgIWlzTmFOKHBhcnNlSW50KGN1cnJlbnRLZXlQYXRoKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnNwbGljZShjdXJyZW50S2V5UGF0aCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtjdXJyZW50S2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2N1cnJlbnRLZXlQYXRoXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJPYmogPSBvYmpbY3VycmVudEtleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlubmVyT2JqIHx8ICFoYXNPd24ob2JqLCBjdXJyZW50S2V5UGF0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lck9iaiA9IChvYmpbY3VycmVudEtleVBhdGhdID0ge30pO1xuICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgoaW5uZXJPYmosIHJlbWFpbmluZ0tleVBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShvYmopICYmICFpc05hTihwYXJzZUludChrZXlQYXRoKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouc3BsaWNlKGtleVBhdGgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXlQYXRoXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlbEJ5S2V5UGF0aChvYmosIGtleVBhdGgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHVuZGVmaW5lZCk7XG4gICAgICAgIGVsc2UgaWYgKCdsZW5ndGgnIGluIGtleVBhdGgpXG4gICAgICAgICAgICBbXS5tYXAuY2FsbChrZXlQYXRoLCBmdW5jdGlvbiAoa3ApIHtcbiAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrcCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaGFsbG93Q2xvbmUob2JqKSB7XG4gICAgICAgIHZhciBydiA9IHt9O1xuICAgICAgICBmb3IgKHZhciBtIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093bihvYmosIG0pKVxuICAgICAgICAgICAgICAgIHJ2W21dID0gb2JqW21dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgdmFyIGNvbmNhdCA9IFtdLmNvbmNhdDtcbiAgICBmdW5jdGlvbiBmbGF0dGVuKGEpIHtcbiAgICAgICAgcmV0dXJuIGNvbmNhdC5hcHBseShbXSwgYSk7XG4gICAgfVxuICAgIHZhciBpbnRyaW5zaWNUeXBlTmFtZXMgPSBcIkJpZ1VpbnQ2NEFycmF5LEJpZ0ludDY0QXJyYXksQXJyYXksQm9vbGVhbixTdHJpbmcsRGF0ZSxSZWdFeHAsQmxvYixGaWxlLEZpbGVMaXN0LEZpbGVTeXN0ZW1GaWxlSGFuZGxlLEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUsQXJyYXlCdWZmZXIsRGF0YVZpZXcsVWludDhDbGFtcGVkQXJyYXksSW1hZ2VCaXRtYXAsSW1hZ2VEYXRhLE1hcCxTZXQsQ3J5cHRvS2V5XCJcbiAgICAgICAgLnNwbGl0KCcsJykuY29uY2F0KGZsYXR0ZW4oWzgsIDE2LCAzMiwgNjRdLm1hcChmdW5jdGlvbiAobnVtKSB7IHJldHVybiBbXCJJbnRcIiwgXCJVaW50XCIsIFwiRmxvYXRcIl0ubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0ICsgbnVtICsgXCJBcnJheVwiOyB9KTsgfSkpKS5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIF9nbG9iYWxbdF07IH0pO1xuICAgIHZhciBpbnRyaW5zaWNUeXBlcyA9IG5ldyBTZXQoaW50cmluc2ljVHlwZU5hbWVzLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gX2dsb2JhbFt0XTsgfSkpO1xuICAgIGZ1bmN0aW9uIGNsb25lU2ltcGxlT2JqZWN0VHJlZShvKSB7XG4gICAgICAgIHZhciBydiA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrIGluIG8pXG4gICAgICAgICAgICBpZiAoaGFzT3duKG8sIGspKSB7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSBvW2tdO1xuICAgICAgICAgICAgICAgIHJ2W2tdID0gIXYgfHwgdHlwZW9mIHYgIT09ICdvYmplY3QnIHx8IGludHJpbnNpY1R5cGVzLmhhcyh2LmNvbnN0cnVjdG9yKSA/IHYgOiBjbG9uZVNpbXBsZU9iamVjdFRyZWUodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgZnVuY3Rpb24gb2JqZWN0SXNFbXB0eShvKSB7XG4gICAgICAgIGZvciAodmFyIGsgaW4gbylcbiAgICAgICAgICAgIGlmIChoYXNPd24obywgaykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGNpcmN1bGFyUmVmcyA9IG51bGw7XG4gICAgZnVuY3Rpb24gZGVlcENsb25lKGFueSkge1xuICAgICAgICBjaXJjdWxhclJlZnMgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB2YXIgcnYgPSBpbm5lckRlZXBDbG9uZShhbnkpO1xuICAgICAgICBjaXJjdWxhclJlZnMgPSBudWxsO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlubmVyRGVlcENsb25lKHgpIHtcbiAgICAgICAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB2YXIgcnYgPSBjaXJjdWxhclJlZnMuZ2V0KHgpO1xuICAgICAgICBpZiAocnYpXG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIGlmIChpc0FycmF5KHgpKSB7XG4gICAgICAgICAgICBydiA9IFtdO1xuICAgICAgICAgICAgY2lyY3VsYXJSZWZzLnNldCh4LCBydik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHgubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcnYucHVzaChpbm5lckRlZXBDbG9uZSh4W2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW50cmluc2ljVHlwZXMuaGFzKHguY29uc3RydWN0b3IpKSB7XG4gICAgICAgICAgICBydiA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJvdG8gPSBnZXRQcm90byh4KTtcbiAgICAgICAgICAgIHJ2ID0gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgPyB7fSA6IE9iamVjdC5jcmVhdGUocHJvdG8pO1xuICAgICAgICAgICAgY2lyY3VsYXJSZWZzLnNldCh4LCBydik7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHgsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ2W3Byb3BdID0gaW5uZXJEZWVwQ2xvbmUoeFtwcm9wXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgdmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG4gICAgZnVuY3Rpb24gdG9TdHJpbmdUYWcobykge1xuICAgICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgU3ltYm9sLml0ZXJhdG9yIDpcbiAgICAgICAgJ0BAaXRlcmF0b3InO1xuICAgIHZhciBnZXRJdGVyYXRvck9mID0gdHlwZW9mIGl0ZXJhdG9yU3ltYm9sID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHJldHVybiB4ICE9IG51bGwgJiYgKGkgPSB4W2l0ZXJhdG9yU3ltYm9sXSkgJiYgaS5hcHBseSh4KTtcbiAgICB9IDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBmdW5jdGlvbiBkZWxBcnJheUl0ZW0oYSwgeCkge1xuICAgICAgICB2YXIgaSA9IGEuaW5kZXhPZih4KTtcbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIGEuc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm4gaSA+PSAwO1xuICAgIH1cbiAgICB2YXIgTk9fQ0hBUl9BUlJBWSA9IHt9O1xuICAgIGZ1bmN0aW9uIGdldEFycmF5T2YoYXJyYXlMaWtlKSB7XG4gICAgICAgIHZhciBpLCBhLCB4LCBpdDtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGFycmF5TGlrZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5TGlrZS5zbGljZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMgPT09IE5PX0NIQVJfQVJSQVkgJiYgdHlwZW9mIGFycmF5TGlrZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgICAgICAgICAgaWYgKChpdCA9IGdldEl0ZXJhdG9yT2YoYXJyYXlMaWtlKSkpIHtcbiAgICAgICAgICAgICAgICBhID0gW107XG4gICAgICAgICAgICAgICAgd2hpbGUgKCh4ID0gaXQubmV4dCgpKSwgIXguZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKHgudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFycmF5TGlrZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBbYXJyYXlMaWtlXTtcbiAgICAgICAgICAgIGkgPSBhcnJheUxpa2UubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGEgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICAgICAgYVtpXSA9IGFycmF5TGlrZVtpXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbYXJyYXlMaWtlXTtcbiAgICAgICAgfVxuICAgICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgYSA9IG5ldyBBcnJheShpKTtcbiAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgIGFbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICB2YXIgaXNBc3luY0Z1bmN0aW9uID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdBc3luY0Z1bmN0aW9uJzsgfVxuICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuXG4gICAgdmFyIGRleGllRXJyb3JOYW1lcyA9IFtcbiAgICAgICAgJ01vZGlmeScsXG4gICAgICAgICdCdWxrJyxcbiAgICAgICAgJ09wZW5GYWlsZWQnLFxuICAgICAgICAnVmVyc2lvbkNoYW5nZScsXG4gICAgICAgICdTY2hlbWEnLFxuICAgICAgICAnVXBncmFkZScsXG4gICAgICAgICdJbnZhbGlkVGFibGUnLFxuICAgICAgICAnTWlzc2luZ0FQSScsXG4gICAgICAgICdOb1N1Y2hEYXRhYmFzZScsXG4gICAgICAgICdJbnZhbGlkQXJndW1lbnQnLFxuICAgICAgICAnU3ViVHJhbnNhY3Rpb24nLFxuICAgICAgICAnVW5zdXBwb3J0ZWQnLFxuICAgICAgICAnSW50ZXJuYWwnLFxuICAgICAgICAnRGF0YWJhc2VDbG9zZWQnLFxuICAgICAgICAnUHJlbWF0dXJlQ29tbWl0JyxcbiAgICAgICAgJ0ZvcmVpZ25Bd2FpdCdcbiAgICBdO1xuICAgIHZhciBpZGJEb21FcnJvck5hbWVzID0gW1xuICAgICAgICAnVW5rbm93bicsXG4gICAgICAgICdDb25zdHJhaW50JyxcbiAgICAgICAgJ0RhdGEnLFxuICAgICAgICAnVHJhbnNhY3Rpb25JbmFjdGl2ZScsXG4gICAgICAgICdSZWFkT25seScsXG4gICAgICAgICdWZXJzaW9uJyxcbiAgICAgICAgJ05vdEZvdW5kJyxcbiAgICAgICAgJ0ludmFsaWRTdGF0ZScsXG4gICAgICAgICdJbnZhbGlkQWNjZXNzJyxcbiAgICAgICAgJ0Fib3J0JyxcbiAgICAgICAgJ1RpbWVvdXQnLFxuICAgICAgICAnUXVvdGFFeGNlZWRlZCcsXG4gICAgICAgICdTeW50YXgnLFxuICAgICAgICAnRGF0YUNsb25lJ1xuICAgIF07XG4gICAgdmFyIGVycm9yTGlzdCA9IGRleGllRXJyb3JOYW1lcy5jb25jYXQoaWRiRG9tRXJyb3JOYW1lcyk7XG4gICAgdmFyIGRlZmF1bHRUZXh0cyA9IHtcbiAgICAgICAgVmVyc2lvbkNoYW5nZWQ6IFwiRGF0YWJhc2UgdmVyc2lvbiBjaGFuZ2VkIGJ5IG90aGVyIGRhdGFiYXNlIGNvbm5lY3Rpb25cIixcbiAgICAgICAgRGF0YWJhc2VDbG9zZWQ6IFwiRGF0YWJhc2UgaGFzIGJlZW4gY2xvc2VkXCIsXG4gICAgICAgIEFib3J0OiBcIlRyYW5zYWN0aW9uIGFib3J0ZWRcIixcbiAgICAgICAgVHJhbnNhY3Rpb25JbmFjdGl2ZTogXCJUcmFuc2FjdGlvbiBoYXMgYWxyZWFkeSBjb21wbGV0ZWQgb3IgZmFpbGVkXCIsXG4gICAgICAgIE1pc3NpbmdBUEk6IFwiSW5kZXhlZERCIEFQSSBtaXNzaW5nLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly90aW55dXJsLmNvbS95MnV1dnNrYlwiXG4gICAgfTtcbiAgICBmdW5jdGlvbiBEZXhpZUVycm9yKG5hbWUsIG1zZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtc2c7XG4gICAgfVxuICAgIGRlcml2ZShEZXhpZUVycm9yKS5mcm9tKEVycm9yKS5leHRlbmQoe1xuICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5uYW1lICsgXCI6IFwiICsgdGhpcy5tZXNzYWdlOyB9XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZ2V0TXVsdGlFcnJvck1lc3NhZ2UobXNnLCBmYWlsdXJlcykge1xuICAgICAgICByZXR1cm4gbXNnICsgXCIuIEVycm9yczogXCIgKyBPYmplY3Qua2V5cyhmYWlsdXJlcylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmFpbHVyZXNba2V5XS50b1N0cmluZygpOyB9KVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAodiwgaSwgcykgeyByZXR1cm4gcy5pbmRleE9mKHYpID09PSBpOyB9KVxuICAgICAgICAgICAgLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBNb2RpZnlFcnJvcihtc2csIGZhaWx1cmVzLCBzdWNjZXNzQ291bnQsIGZhaWxlZEtleXMpIHtcbiAgICAgICAgdGhpcy5mYWlsdXJlcyA9IGZhaWx1cmVzO1xuICAgICAgICB0aGlzLmZhaWxlZEtleXMgPSBmYWlsZWRLZXlzO1xuICAgICAgICB0aGlzLnN1Y2Nlc3NDb3VudCA9IHN1Y2Nlc3NDb3VudDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZ2V0TXVsdGlFcnJvck1lc3NhZ2UobXNnLCBmYWlsdXJlcyk7XG4gICAgfVxuICAgIGRlcml2ZShNb2RpZnlFcnJvcikuZnJvbShEZXhpZUVycm9yKTtcbiAgICBmdW5jdGlvbiBCdWxrRXJyb3IobXNnLCBmYWlsdXJlcykge1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkJ1bGtFcnJvclwiO1xuICAgICAgICB0aGlzLmZhaWx1cmVzID0gT2JqZWN0LmtleXMoZmFpbHVyZXMpLm1hcChmdW5jdGlvbiAocG9zKSB7IHJldHVybiBmYWlsdXJlc1twb3NdOyB9KTtcbiAgICAgICAgdGhpcy5mYWlsdXJlc0J5UG9zID0gZmFpbHVyZXM7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGdldE11bHRpRXJyb3JNZXNzYWdlKG1zZywgdGhpcy5mYWlsdXJlcyk7XG4gICAgfVxuICAgIGRlcml2ZShCdWxrRXJyb3IpLmZyb20oRGV4aWVFcnJvcik7XG4gICAgdmFyIGVycm5hbWVzID0gZXJyb3JMaXN0LnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7IHJldHVybiAob2JqW25hbWVdID0gbmFtZSArIFwiRXJyb3JcIiwgb2JqKTsgfSwge30pO1xuICAgIHZhciBCYXNlRXhjZXB0aW9uID0gRGV4aWVFcnJvcjtcbiAgICB2YXIgZXhjZXB0aW9ucyA9IGVycm9yTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgICAgICB2YXIgZnVsbE5hbWUgPSBuYW1lICsgXCJFcnJvclwiO1xuICAgICAgICBmdW5jdGlvbiBEZXhpZUVycm9yKG1zZ09ySW5uZXIsIGlubmVyKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBmdWxsTmFtZTtcbiAgICAgICAgICAgIGlmICghbXNnT3JJbm5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGRlZmF1bHRUZXh0c1tuYW1lXSB8fCBmdWxsTmFtZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtc2dPcklubmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IFwiXCIuY29uY2F0KG1zZ09ySW5uZXIpLmNvbmNhdCghaW5uZXIgPyAnJyA6ICdcXG4gJyArIGlubmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyID0gaW5uZXIgfHwgbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtc2dPcklubmVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IFwiXCIuY29uY2F0KG1zZ09ySW5uZXIubmFtZSwgXCIgXCIpLmNvbmNhdChtc2dPcklubmVyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBtc2dPcklubmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlcml2ZShEZXhpZUVycm9yKS5mcm9tKEJhc2VFeGNlcHRpb24pO1xuICAgICAgICBvYmpbbmFtZV0gPSBEZXhpZUVycm9yO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbiAgICBleGNlcHRpb25zLlN5bnRheCA9IFN5bnRheEVycm9yO1xuICAgIGV4Y2VwdGlvbnMuVHlwZSA9IFR5cGVFcnJvcjtcbiAgICBleGNlcHRpb25zLlJhbmdlID0gUmFuZ2VFcnJvcjtcbiAgICB2YXIgZXhjZXB0aW9uTWFwID0gaWRiRG9tRXJyb3JOYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgICAgICBvYmpbbmFtZSArIFwiRXJyb3JcIl0gPSBleGNlcHRpb25zW25hbWVdO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbiAgICBmdW5jdGlvbiBtYXBFcnJvcihkb21FcnJvciwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIWRvbUVycm9yIHx8IGRvbUVycm9yIGluc3RhbmNlb2YgRGV4aWVFcnJvciB8fCBkb21FcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciB8fCBkb21FcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yIHx8ICFkb21FcnJvci5uYW1lIHx8ICFleGNlcHRpb25NYXBbZG9tRXJyb3IubmFtZV0pXG4gICAgICAgICAgICByZXR1cm4gZG9tRXJyb3I7XG4gICAgICAgIHZhciBydiA9IG5ldyBleGNlcHRpb25NYXBbZG9tRXJyb3IubmFtZV0obWVzc2FnZSB8fCBkb21FcnJvci5tZXNzYWdlLCBkb21FcnJvcik7XG4gICAgICAgIGlmIChcInN0YWNrXCIgaW4gZG9tRXJyb3IpIHtcbiAgICAgICAgICAgIHNldFByb3AocnYsIFwic3RhY2tcIiwgeyBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXIuc3RhY2s7XG4gICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIHZhciBmdWxsTmFtZUV4Y2VwdGlvbnMgPSBlcnJvckxpc3QucmVkdWNlKGZ1bmN0aW9uIChvYmosIG5hbWUpIHtcbiAgICAgICAgaWYgKFtcIlN5bnRheFwiLCBcIlR5cGVcIiwgXCJSYW5nZVwiXS5pbmRleE9mKG5hbWUpID09PSAtMSlcbiAgICAgICAgICAgIG9ialtuYW1lICsgXCJFcnJvclwiXSA9IGV4Y2VwdGlvbnNbbmFtZV07XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGZ1bGxOYW1lRXhjZXB0aW9ucy5Nb2RpZnlFcnJvciA9IE1vZGlmeUVycm9yO1xuICAgIGZ1bGxOYW1lRXhjZXB0aW9ucy5EZXhpZUVycm9yID0gRGV4aWVFcnJvcjtcbiAgICBmdWxsTmFtZUV4Y2VwdGlvbnMuQnVsa0Vycm9yID0gQnVsa0Vycm9yO1xuXG4gICAgZnVuY3Rpb24gbm9wKCkgeyB9XG4gICAgZnVuY3Rpb24gbWlycm9yKHZhbCkgeyByZXR1cm4gdmFsOyB9XG4gICAgZnVuY3Rpb24gcHVyZUZ1bmN0aW9uQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PSBudWxsIHx8IGYxID09PSBtaXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZjIoZjEodmFsKSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxCb3RoKG9uMSwgb24yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvbjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIG9uMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBob29rQ3JlYXRpbmdDaGFpbihmMSwgZjIpIHtcbiAgICAgICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgICAgICByZXR1cm4gZjI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0gPSByZXM7XG4gICAgICAgICAgICB2YXIgb25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MsXG4gICAgICAgICAgICBvbmVycm9yID0gdGhpcy5vbmVycm9yO1xuICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXMyID0gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChvbnN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyA/IGNhbGxCb3RoKG9uc3VjY2VzcywgdGhpcy5vbnN1Y2Nlc3MpIDogb25zdWNjZXNzO1xuICAgICAgICAgICAgaWYgKG9uZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gdGhpcy5vbmVycm9yID8gY2FsbEJvdGgob25lcnJvciwgdGhpcy5vbmVycm9yKSA6IG9uZXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gcmVzMiAhPT0gdW5kZWZpbmVkID8gcmVzMiA6IHJlcztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaG9va0RlbGV0aW5nQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBvbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyxcbiAgICAgICAgICAgIG9uZXJyb3IgPSB0aGlzLm9uZXJyb3I7XG4gICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzID8gY2FsbEJvdGgob25zdWNjZXNzLCB0aGlzLm9uc3VjY2VzcykgOiBvbnN1Y2Nlc3M7XG4gICAgICAgICAgICBpZiAob25lcnJvcilcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaG9va1VwZGF0aW5nQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1vZGlmaWNhdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgZXh0ZW5kKG1vZGlmaWNhdGlvbnMsIHJlcyk7XG4gICAgICAgICAgICB2YXIgb25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MsXG4gICAgICAgICAgICBvbmVycm9yID0gdGhpcy5vbmVycm9yO1xuICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXMyID0gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmIChvbnN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyA/IGNhbGxCb3RoKG9uc3VjY2VzcywgdGhpcy5vbnN1Y2Nlc3MpIDogb25zdWNjZXNzO1xuICAgICAgICAgICAgaWYgKG9uZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yID0gdGhpcy5vbmVycm9yID8gY2FsbEJvdGgob25lcnJvciwgdGhpcy5vbmVycm9yKSA6IG9uZXJyb3I7XG4gICAgICAgICAgICByZXR1cm4gcmVzID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgIChyZXMyID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiByZXMyKSA6XG4gICAgICAgICAgICAgICAgKGV4dGVuZChyZXMsIHJlczIpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV2ZXJzZVN0b3BwYWJsZUV2ZW50Q2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9taXNhYmxlQ2hhaW4oZjEsIGYyKSB7XG4gICAgICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICAgICAgcmV0dXJuIGYyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAocmVzICYmIHR5cGVvZiByZXMudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHZhciB0aGl6ID0gdGhpcywgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZjIuYXBwbHkodGhpeiwgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZGVidWcgPSB0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC9eKGh0dHB8aHR0cHMpOlxcL1xcLyhsb2NhbGhvc3R8MTI3XFwuMFxcLjBcXC4xKS8udGVzdChsb2NhdGlvbi5ocmVmKTtcbiAgICBmdW5jdGlvbiBzZXREZWJ1Zyh2YWx1ZSwgZmlsdGVyKSB7XG4gICAgICAgIGRlYnVnID0gdmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIElOVEVSTkFMID0ge307XG4gICAgdmFyIFpPTkVfRUNIT19MSU1JVCA9IDEwMCwgX2EkMSA9IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/XG4gICAgICAgIFtdIDpcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBnbG9iYWxQID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNyeXB0byA9PT0gJ3VuZGVmaW5lZCcgfHwgIWNyeXB0by5zdWJ0bGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtnbG9iYWxQLCBnZXRQcm90byhnbG9iYWxQKSwgZ2xvYmFsUF07XG4gICAgICAgICAgICB2YXIgbmF0aXZlUCA9IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTUxMlwiLCBuZXcgVWludDhBcnJheShbMF0pKTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgbmF0aXZlUCxcbiAgICAgICAgICAgICAgICBnZXRQcm90byhuYXRpdmVQKSxcbiAgICAgICAgICAgICAgICBnbG9iYWxQXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KSgpLCByZXNvbHZlZE5hdGl2ZVByb21pc2UgPSBfYSQxWzBdLCBuYXRpdmVQcm9taXNlUHJvdG8gPSBfYSQxWzFdLCByZXNvbHZlZEdsb2JhbFByb21pc2UgPSBfYSQxWzJdLCBuYXRpdmVQcm9taXNlVGhlbiA9IG5hdGl2ZVByb21pc2VQcm90byAmJiBuYXRpdmVQcm9taXNlUHJvdG8udGhlbjtcbiAgICB2YXIgTmF0aXZlUHJvbWlzZSA9IHJlc29sdmVkTmF0aXZlUHJvbWlzZSAmJiByZXNvbHZlZE5hdGl2ZVByb21pc2UuY29uc3RydWN0b3I7XG4gICAgdmFyIHBhdGNoR2xvYmFsUHJvbWlzZSA9ICEhcmVzb2x2ZWRHbG9iYWxQcm9taXNlO1xuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUGh5c2ljYWxUaWNrKCkge1xuICAgICAgICBxdWV1ZU1pY3JvdGFzayhwaHlzaWNhbFRpY2spO1xuICAgIH1cbiAgICB2YXIgYXNhcCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYXJncykge1xuICAgICAgICBtaWNyb3RpY2tRdWV1ZS5wdXNoKFtjYWxsYmFjaywgYXJnc10pO1xuICAgICAgICBpZiAobmVlZHNOZXdQaHlzaWNhbFRpY2spIHtcbiAgICAgICAgICAgIHNjaGVkdWxlUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgICAgICBuZWVkc05ld1BoeXNpY2FsVGljayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgaXNPdXRzaWRlTWljcm9UaWNrID0gdHJ1ZSxcbiAgICBuZWVkc05ld1BoeXNpY2FsVGljayA9IHRydWUsXG4gICAgdW5oYW5kbGVkRXJyb3JzID0gW10sXG4gICAgcmVqZWN0aW5nRXJyb3JzID0gW10sXG4gICAgcmVqZWN0aW9uTWFwcGVyID0gbWlycm9yO1xuICAgIHZhciBnbG9iYWxQU0QgPSB7XG4gICAgICAgIGlkOiAnZ2xvYmFsJyxcbiAgICAgICAgZ2xvYmFsOiB0cnVlLFxuICAgICAgICByZWY6IDAsXG4gICAgICAgIHVuaGFuZGxlZHM6IFtdLFxuICAgICAgICBvbnVuaGFuZGxlZDogbm9wLFxuICAgICAgICBwZ3A6IGZhbHNlLFxuICAgICAgICBlbnY6IHt9LFxuICAgICAgICBmaW5hbGl6ZTogbm9wXG4gICAgfTtcbiAgICB2YXIgUFNEID0gZ2xvYmFsUFNEO1xuICAgIHZhciBtaWNyb3RpY2tRdWV1ZSA9IFtdO1xuICAgIHZhciBudW1TY2hlZHVsZWRDYWxscyA9IDA7XG4gICAgdmFyIHRpY2tGaW5hbGl6ZXJzID0gW107XG4gICAgZnVuY3Rpb24gRGV4aWVQcm9taXNlKGZuKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcyAhPT0gJ29iamVjdCcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX2xpYiA9IGZhbHNlO1xuICAgICAgICB2YXIgcHNkID0gKHRoaXMuX1BTRCA9IFBTRCk7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChmbiAhPT0gSU5URVJOQUwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIGhhbmRsZVJlamVjdGlvbih0aGlzLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgICAgICsrcHNkLnJlZjtcbiAgICAgICAgZXhlY3V0ZVByb21pc2VUYXNrKHRoaXMsIGZuKTtcbiAgICB9XG4gICAgdmFyIHRoZW5Qcm9wID0ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwc2QgPSBQU0QsIG1pY3JvVGFza0lkID0gdG90YWxFY2hvZXM7XG4gICAgICAgICAgICBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVBd2FpdCA9ICFwc2QuZ2xvYmFsICYmIChwc2QgIT09IFBTRCB8fCBtaWNyb1Rhc2tJZCAhPT0gdG90YWxFY2hvZXMpO1xuICAgICAgICAgICAgICAgIHZhciBjbGVhbnVwID0gcG9zc2libGVBd2FpdCAmJiAhZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgICAgICB2YXIgcnYgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlVG9MaXN0ZW5lcihfdGhpcywgbmV3IExpc3RlbmVyKG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAob25GdWxmaWxsZWQsIHBzZCwgcG9zc2libGVBd2FpdCwgY2xlYW51cCksIG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAob25SZWplY3RlZCwgcHNkLCBwb3NzaWJsZUF3YWl0LCBjbGVhbnVwKSwgcmVzb2x2ZSwgcmVqZWN0LCBwc2QpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29uc29sZVRhc2spXG4gICAgICAgICAgICAgICAgICAgIHJ2Ll9jb25zb2xlVGFzayA9IHRoaXMuX2NvbnNvbGVUYXNrO1xuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoZW4ucHJvdG90eXBlID0gSU5URVJOQUw7XG4gICAgICAgICAgICByZXR1cm4gdGhlbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNldFByb3AodGhpcywgJ3RoZW4nLCB2YWx1ZSAmJiB2YWx1ZS5wcm90b3R5cGUgPT09IElOVEVSTkFMID9cbiAgICAgICAgICAgICAgICB0aGVuUHJvcCA6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0OiB0aGVuUHJvcC5zZXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvcHMoRGV4aWVQcm9taXNlLnByb3RvdHlwZSwge1xuICAgICAgICB0aGVuOiB0aGVuUHJvcCxcbiAgICAgICAgX3RoZW46IGZ1bmN0aW9uIChvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAgICAgcHJvcGFnYXRlVG9MaXN0ZW5lcih0aGlzLCBuZXcgTGlzdGVuZXIobnVsbCwgbnVsbCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIFBTRCkpO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaDogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50c1swXSwgaGFuZGxlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyciBpbnN0YW5jZW9mIHR5cGUgPyBoYW5kbGVyKGVycikgOiBQcm9taXNlUmVqZWN0KGVycik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogdGhpcy50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyciAmJiBlcnIubmFtZSA9PT0gdHlwZSA/IGhhbmRsZXIoZXJyKSA6IFByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZmluYWxseTogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUob25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlUmVqZWN0KGVycik7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRpbWVvdXQ6IGZ1bmN0aW9uIChtcywgbXNnKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIG1zIDwgSW5maW5pdHkgP1xuICAgICAgICAgICAgICAgIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiByZWplY3QobmV3IGV4Y2VwdGlvbnMuVGltZW91dChtc2cpKTsgfSwgbXMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50aGVuKHJlc29sdmUsIHJlamVjdCkuZmluYWxseShjbGVhclRpbWVvdXQuYmluZChudWxsLCBoYW5kbGUpKTtcbiAgICAgICAgICAgICAgICB9KSA6IHRoaXM7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKVxuICAgICAgICBzZXRQcm9wKERleGllUHJvbWlzZS5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywgJ0RleGllLlByb21pc2UnKTtcbiAgICBnbG9iYWxQU0QuZW52ID0gc25hcFNob3QoKTtcbiAgICBmdW5jdGlvbiBMaXN0ZW5lcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcmVzb2x2ZSwgcmVqZWN0LCB6b25lKSB7XG4gICAgICAgIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gICAgICAgIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nID8gb25SZWplY3RlZCA6IG51bGw7XG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB0aGlzLnBzZCA9IHpvbmU7XG4gICAgfVxuICAgIHByb3BzKERleGllUHJvbWlzZSwge1xuICAgICAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRBcnJheU9mLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAubWFwKG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShhKS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHg7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgfSwgcmVqZWN0KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEZXhpZVByb21pc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJ2ID0gbmV3IERleGllUHJvbWlzZShJTlRFUk5BTCwgdHJ1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9LFxuICAgICAgICByZWplY3Q6IFByb21pc2VSZWplY3QsXG4gICAgICAgIHJhY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBnZXRBcnJheU9mLmFwcGx5KG51bGwsIGFyZ3VtZW50cykubWFwKG9uUG9zc2libGVQYXJhbGxlbGxBc3luYyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKHJlc29sdmUsIHJlamVjdCk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFBTRDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBQU0Q7IH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gUFNEID0gdmFsdWU7IH1cbiAgICAgICAgfSxcbiAgICAgICAgdG90YWxFY2hvZXM6IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0b3RhbEVjaG9lczsgfSB9LFxuICAgICAgICBuZXdQU0Q6IG5ld1Njb3BlLFxuICAgICAgICB1c2VQU0Q6IHVzZVBTRCxcbiAgICAgICAgc2NoZWR1bGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFzYXA7IH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBhc2FwID0gdmFsdWU7IH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0aW9uTWFwcGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdGlvbk1hcHBlcjsgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHJlamVjdGlvbk1hcHBlciA9IHZhbHVlOyB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvbGxvdzogZnVuY3Rpb24gKGZuLCB6b25lUHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHNkID0gUFNEO1xuICAgICAgICAgICAgICAgICAgICBwc2QudW5oYW5kbGVkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBwc2Qub251bmhhbmRsZWQgPSByZWplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHBzZC5maW5hbGl6ZSA9IGNhbGxCb3RoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYXRfZW5kX29mX3RoaXNfb3JfbmV4dF9waHlzaWNhbF90aWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51bmhhbmRsZWRzLmxlbmd0aCA9PT0gMCA/IHJlc29sdmUoKSA6IHJlamVjdChfdGhpcy51bmhhbmRsZWRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBwc2QuZmluYWxpemUpO1xuICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgIH0sIHpvbmVQcm9wcywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKE5hdGl2ZVByb21pc2UpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVByb21pc2UuYWxsU2V0dGxlZClcbiAgICAgICAgICAgIHNldFByb3AoRGV4aWVQcm9taXNlLCBcImFsbFNldHRsZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZVByb21pc2VzID0gZ2V0QXJyYXlPZi5hcHBseShudWxsLCBhcmd1bWVudHMpLm1hcChvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZVByb21pc2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nID0gcG9zc2libGVQcm9taXNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KHJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlUHJvbWlzZXMuZm9yRWFjaChmdW5jdGlvbiAocCwgaSkgeyByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUocCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHJlc3VsdHNbaV0gPSB7IHN0YXR1czogXCJmdWxmaWxsZWRcIiwgdmFsdWU6IHZhbHVlIH07IH0sIGZ1bmN0aW9uIChyZWFzb24pIHsgcmV0dXJuIHJlc3VsdHNbaV0gPSB7IHN0YXR1czogXCJyZWplY3RlZFwiLCByZWFzb246IHJlYXNvbiB9OyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gLS1yZW1haW5pbmcgfHwgcmVzb2x2ZShyZXN1bHRzKTsgfSk7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChOYXRpdmVQcm9taXNlLmFueSAmJiB0eXBlb2YgQWdncmVnYXRlRXJyb3IgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgc2V0UHJvcChEZXhpZVByb21pc2UsIFwiYW55XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVQcm9taXNlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZVByb21pc2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoW10pKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IHBvc3NpYmxlUHJvbWlzZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBuZXcgQXJyYXkocmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVQcm9taXNlcy5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpKSB7IHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZShwKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0sIGZ1bmN0aW9uIChmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlc1tpXSA9IGZhaWx1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoZmFpbHVyZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChOYXRpdmVQcm9taXNlLndpdGhSZXNvbHZlcnMpXG4gICAgICAgICAgICBEZXhpZVByb21pc2Uud2l0aFJlc29sdmVycyA9IE5hdGl2ZVByb21pc2Uud2l0aFJlc29sdmVycztcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhlY3V0ZVByb21pc2VUYXNrKHByb21pc2UsIGZuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHByb21pc2UpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuJyk7XG4gICAgICAgICAgICAgICAgdmFyIHNob3VsZEV4ZWN1dGVUaWNrID0gcHJvbWlzZS5fbGliICYmIGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZVByb21pc2VUYXNrKHByb21pc2UsIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgRGV4aWVQcm9taXNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5fdGhlbihyZXNvbHZlLCByZWplY3QpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fc3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGVBbGxMaXN0ZW5lcnMocHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRFeGVjdXRlVGljaylcbiAgICAgICAgICAgICAgICAgICAgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgIH0sIGhhbmRsZVJlamVjdGlvbi5iaW5kKG51bGwsIHByb21pc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlamVjdGlvbihwcm9taXNlLCBleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVqZWN0aW9uKHByb21pc2UsIHJlYXNvbikge1xuICAgICAgICByZWplY3RpbmdFcnJvcnMucHVzaChyZWFzb24pO1xuICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzaG91bGRFeGVjdXRlVGljayA9IHByb21pc2UuX2xpYiAmJiBiZWdpbk1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgIHJlYXNvbiA9IHJlamVjdGlvbk1hcHBlcihyZWFzb24pO1xuICAgICAgICBwcm9taXNlLl9zdGF0ZSA9IGZhbHNlO1xuICAgICAgICBwcm9taXNlLl92YWx1ZSA9IHJlYXNvbjtcbiAgICAgICAgYWRkUG9zc2libHlVbmhhbmRsZWRFcnJvcihwcm9taXNlKTtcbiAgICAgICAgcHJvcGFnYXRlQWxsTGlzdGVuZXJzKHByb21pc2UpO1xuICAgICAgICBpZiAoc2hvdWxkRXhlY3V0ZVRpY2spXG4gICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVBbGxMaXN0ZW5lcnMocHJvbWlzZSkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gcHJvbWlzZS5fbGlzdGVuZXJzO1xuICAgICAgICBwcm9taXNlLl9saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgcHJvcGFnYXRlVG9MaXN0ZW5lcihwcm9taXNlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwc2QgPSBwcm9taXNlLl9QU0Q7XG4gICAgICAgIC0tcHNkLnJlZiB8fCBwc2QuZmluYWxpemUoKTtcbiAgICAgICAgaWYgKG51bVNjaGVkdWxlZENhbGxzID09PSAwKSB7XG4gICAgICAgICAgICArK251bVNjaGVkdWxlZENhbGxzO1xuICAgICAgICAgICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKC0tbnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsaXplUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlVG9MaXN0ZW5lcihwcm9taXNlLCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByb21pc2UuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2IgPSBwcm9taXNlLl9zdGF0ZSA/IGxpc3RlbmVyLm9uRnVsZmlsbGVkIDogbGlzdGVuZXIub25SZWplY3RlZDtcbiAgICAgICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gKHByb21pc2UuX3N0YXRlID8gbGlzdGVuZXIucmVzb2x2ZSA6IGxpc3RlbmVyLnJlamVjdCkocHJvbWlzZS5fdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgICsrbGlzdGVuZXIucHNkLnJlZjtcbiAgICAgICAgKytudW1TY2hlZHVsZWRDYWxscztcbiAgICAgICAgYXNhcChjYWxsTGlzdGVuZXIsIFtjYiwgcHJvbWlzZSwgbGlzdGVuZXJdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbExpc3RlbmVyKGNiLCBwcm9taXNlLCBsaXN0ZW5lcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHJldCwgdmFsdWUgPSBwcm9taXNlLl92YWx1ZTtcbiAgICAgICAgICAgIGlmICghcHJvbWlzZS5fc3RhdGUgJiYgcmVqZWN0aW5nRXJyb3JzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZWplY3RpbmdFcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIHJldCA9IGRlYnVnICYmIHByb21pc2UuX2NvbnNvbGVUYXNrID8gcHJvbWlzZS5fY29uc29sZVRhc2sucnVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNiKHZhbHVlKTsgfSkgOiBjYih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXByb21pc2UuX3N0YXRlICYmIHJlamVjdGluZ0Vycm9ycy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXJrRXJyb3JBc0hhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lci5yZXNvbHZlKHJldCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICgtLW51bVNjaGVkdWxlZENhbGxzID09PSAwKVxuICAgICAgICAgICAgICAgIGZpbmFsaXplUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgICAgICAtLWxpc3RlbmVyLnBzZC5yZWYgfHwgbGlzdGVuZXIucHNkLmZpbmFsaXplKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGh5c2ljYWxUaWNrKCkge1xuICAgICAgICB1c2VQU0QoZ2xvYmFsUFNELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBiZWdpbk1pY3JvVGlja1Njb3BlKCkgJiYgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJlZ2luTWljcm9UaWNrU2NvcGUoKSB7XG4gICAgICAgIHZhciB3YXNSb290RXhlYyA9IGlzT3V0c2lkZU1pY3JvVGljaztcbiAgICAgICAgaXNPdXRzaWRlTWljcm9UaWNrID0gZmFsc2U7XG4gICAgICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB3YXNSb290RXhlYztcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5kTWljcm9UaWNrU2NvcGUoKSB7XG4gICAgICAgIHZhciBjYWxsYmFja3MsIGksIGw7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHdoaWxlIChtaWNyb3RpY2tRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzID0gbWljcm90aWNrUXVldWU7XG4gICAgICAgICAgICAgICAgbWljcm90aWNrUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICBsID0gY2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gY2FsbGJhY2tzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpdGVtWzBdLmFwcGx5KG51bGwsIGl0ZW1bMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobWljcm90aWNrUXVldWUubGVuZ3RoID4gMCk7XG4gICAgICAgIGlzT3V0c2lkZU1pY3JvVGljayA9IHRydWU7XG4gICAgICAgIG5lZWRzTmV3UGh5c2ljYWxUaWNrID0gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluYWxpemVQaHlzaWNhbFRpY2soKSB7XG4gICAgICAgIHZhciB1bmhhbmRsZWRFcnJzID0gdW5oYW5kbGVkRXJyb3JzO1xuICAgICAgICB1bmhhbmRsZWRFcnJvcnMgPSBbXTtcbiAgICAgICAgdW5oYW5kbGVkRXJycy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICBwLl9QU0Qub251bmhhbmRsZWQuY2FsbChudWxsLCBwLl92YWx1ZSwgcCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmluYWxpemVycyA9IHRpY2tGaW5hbGl6ZXJzLnNsaWNlKDApO1xuICAgICAgICB2YXIgaSA9IGZpbmFsaXplcnMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaSlcbiAgICAgICAgICAgIGZpbmFsaXplcnNbLS1pXSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5fYXRfZW5kX29mX3RoaXNfb3JfbmV4dF9waHlzaWNhbF90aWNrKGZuKSB7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsaXplcigpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aWNrRmluYWxpemVycy5zcGxpY2UodGlja0ZpbmFsaXplcnMuaW5kZXhPZihmaW5hbGl6ZXIpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aWNrRmluYWxpemVycy5wdXNoKGZpbmFsaXplcik7XG4gICAgICAgICsrbnVtU2NoZWR1bGVkQ2FsbHM7XG4gICAgICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKC0tbnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApXG4gICAgICAgICAgICAgICAgZmluYWxpemVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgfSwgW10pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRQb3NzaWJseVVuaGFuZGxlZEVycm9yKHByb21pc2UpIHtcbiAgICAgICAgaWYgKCF1bmhhbmRsZWRFcnJvcnMuc29tZShmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5fdmFsdWUgPT09IHByb21pc2UuX3ZhbHVlOyB9KSlcbiAgICAgICAgICAgIHVuaGFuZGxlZEVycm9ycy5wdXNoKHByb21pc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrRXJyb3JBc0hhbmRsZWQocHJvbWlzZSkge1xuICAgICAgICB2YXIgaSA9IHVuaGFuZGxlZEVycm9ycy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpKVxuICAgICAgICAgICAgaWYgKHVuaGFuZGxlZEVycm9yc1stLWldLl92YWx1ZSA9PT0gcHJvbWlzZS5fdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB1bmhhbmRsZWRFcnJvcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlamVjdChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoSU5URVJOQUwsIGZhbHNlLCByZWFzb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cmFwKGZuLCBlcnJvckNhdGNoZXIpIHtcbiAgICAgICAgdmFyIHBzZCA9IFBTRDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3YXNSb290RXhlYyA9IGJlZ2luTWljcm9UaWNrU2NvcGUoKSwgb3V0ZXJTY29wZSA9IFBTRDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoVG9ab25lKHBzZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9yQ2F0Y2hlciAmJiBlcnJvckNhdGNoZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hUb1pvbmUob3V0ZXJTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICh3YXNSb290RXhlYylcbiAgICAgICAgICAgICAgICAgICAgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHRhc2sgPSB7IGF3YWl0czogMCwgZWNob2VzOiAwLCBpZDogMCB9O1xuICAgIHZhciB0YXNrQ291bnRlciA9IDA7XG4gICAgdmFyIHpvbmVTdGFjayA9IFtdO1xuICAgIHZhciB6b25lRWNob2VzID0gMDtcbiAgICB2YXIgdG90YWxFY2hvZXMgPSAwO1xuICAgIHZhciB6b25lX2lkX2NvdW50ZXIgPSAwO1xuICAgIGZ1bmN0aW9uIG5ld1Njb3BlKGZuLCBwcm9wcywgYTEsIGEyKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBQU0QsIHBzZCA9IE9iamVjdC5jcmVhdGUocGFyZW50KTtcbiAgICAgICAgcHNkLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcHNkLnJlZiA9IDA7XG4gICAgICAgIHBzZC5nbG9iYWwgPSBmYWxzZTtcbiAgICAgICAgcHNkLmlkID0gKyt6b25lX2lkX2NvdW50ZXI7XG4gICAgICAgIGdsb2JhbFBTRC5lbnY7XG4gICAgICAgIHBzZC5lbnYgPSBwYXRjaEdsb2JhbFByb21pc2UgPyB7XG4gICAgICAgICAgICBQcm9taXNlOiBEZXhpZVByb21pc2UsXG4gICAgICAgICAgICBQcm9taXNlUHJvcDogeyB2YWx1ZTogRGV4aWVQcm9taXNlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICBhbGw6IERleGllUHJvbWlzZS5hbGwsXG4gICAgICAgICAgICByYWNlOiBEZXhpZVByb21pc2UucmFjZSxcbiAgICAgICAgICAgIGFsbFNldHRsZWQ6IERleGllUHJvbWlzZS5hbGxTZXR0bGVkLFxuICAgICAgICAgICAgYW55OiBEZXhpZVByb21pc2UuYW55LFxuICAgICAgICAgICAgcmVzb2x2ZTogRGV4aWVQcm9taXNlLnJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IERleGllUHJvbWlzZS5yZWplY3QsXG4gICAgICAgIH0gOiB7fTtcbiAgICAgICAgaWYgKHByb3BzKVxuICAgICAgICAgICAgZXh0ZW5kKHBzZCwgcHJvcHMpO1xuICAgICAgICArK3BhcmVudC5yZWY7XG4gICAgICAgIHBzZC5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC0tdGhpcy5wYXJlbnQucmVmIHx8IHRoaXMucGFyZW50LmZpbmFsaXplKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBydiA9IHVzZVBTRChwc2QsIGZuLCBhMSwgYTIpO1xuICAgICAgICBpZiAocHNkLnJlZiA9PT0gMClcbiAgICAgICAgICAgIHBzZC5maW5hbGl6ZSgpO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCkge1xuICAgICAgICBpZiAoIXRhc2suaWQpXG4gICAgICAgICAgICB0YXNrLmlkID0gKyt0YXNrQ291bnRlcjtcbiAgICAgICAgKyt0YXNrLmF3YWl0cztcbiAgICAgICAgdGFzay5lY2hvZXMgKz0gWk9ORV9FQ0hPX0xJTUlUO1xuICAgICAgICByZXR1cm4gdGFzay5pZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMoKSB7XG4gICAgICAgIGlmICghdGFzay5hd2FpdHMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICgtLXRhc2suYXdhaXRzID09PSAwKVxuICAgICAgICAgICAgdGFzay5pZCA9IDA7XG4gICAgICAgIHRhc2suZWNob2VzID0gdGFzay5hd2FpdHMgKiBaT05FX0VDSE9fTElNSVQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKCcnICsgbmF0aXZlUHJvbWlzZVRoZW4pLmluZGV4T2YoJ1tuYXRpdmUgY29kZV0nKSA9PT0gLTEpIHtcbiAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMgPSBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cyA9IG5vcDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKHBvc3NpYmxlUHJvbWlzZSkge1xuICAgICAgICBpZiAodGFzay5lY2hvZXMgJiYgcG9zc2libGVQcm9taXNlICYmIHBvc3NpYmxlUHJvbWlzZS5jb25zdHJ1Y3RvciA9PT0gTmF0aXZlUHJvbWlzZSkge1xuICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgICAgIHJldHVybiBwb3NzaWJsZVByb21pc2UudGhlbihmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3NzaWJsZVByb21pc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHpvbmVFbnRlckVjaG8odGFyZ2V0Wm9uZSkge1xuICAgICAgICArK3RvdGFsRWNob2VzO1xuICAgICAgICBpZiAoIXRhc2suZWNob2VzIHx8IC0tdGFzay5lY2hvZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRhc2suZWNob2VzID0gdGFzay5hd2FpdHMgPSB0YXNrLmlkID0gMDtcbiAgICAgICAgfVxuICAgICAgICB6b25lU3RhY2sucHVzaChQU0QpO1xuICAgICAgICBzd2l0Y2hUb1pvbmUodGFyZ2V0Wm9uZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHpvbmVMZWF2ZUVjaG8oKSB7XG4gICAgICAgIHZhciB6b25lID0gem9uZVN0YWNrW3pvbmVTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgem9uZVN0YWNrLnBvcCgpO1xuICAgICAgICBzd2l0Y2hUb1pvbmUoem9uZSwgZmFsc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzd2l0Y2hUb1pvbmUodGFyZ2V0Wm9uZSwgYkVudGVyaW5nWm9uZSkge1xuICAgICAgICB2YXIgY3VycmVudFpvbmUgPSBQU0Q7XG4gICAgICAgIGlmIChiRW50ZXJpbmdab25lID8gdGFzay5lY2hvZXMgJiYgKCF6b25lRWNob2VzKysgfHwgdGFyZ2V0Wm9uZSAhPT0gUFNEKSA6IHpvbmVFY2hvZXMgJiYgKCEtLXpvbmVFY2hvZXMgfHwgdGFyZ2V0Wm9uZSAhPT0gUFNEKSkge1xuICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soYkVudGVyaW5nWm9uZSA/IHpvbmVFbnRlckVjaG8uYmluZChudWxsLCB0YXJnZXRab25lKSA6IHpvbmVMZWF2ZUVjaG8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXRab25lID09PSBQU0QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFBTRCA9IHRhcmdldFpvbmU7XG4gICAgICAgIGlmIChjdXJyZW50Wm9uZSA9PT0gZ2xvYmFsUFNEKVxuICAgICAgICAgICAgZ2xvYmFsUFNELmVudiA9IHNuYXBTaG90KCk7XG4gICAgICAgIGlmIChwYXRjaEdsb2JhbFByb21pc2UpIHtcbiAgICAgICAgICAgIHZhciBHbG9iYWxQcm9taXNlID0gZ2xvYmFsUFNELmVudi5Qcm9taXNlO1xuICAgICAgICAgICAgdmFyIHRhcmdldEVudiA9IHRhcmdldFpvbmUuZW52O1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRab25lLmdsb2JhbCB8fCB0YXJnZXRab25lLmdsb2JhbCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZ2xvYmFsLCAnUHJvbWlzZScsIHRhcmdldEVudi5Qcm9taXNlUHJvcCk7XG4gICAgICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5hbGwgPSB0YXJnZXRFbnYuYWxsO1xuICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UucmFjZSA9IHRhcmdldEVudi5yYWNlO1xuICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UucmVzb2x2ZSA9IHRhcmdldEVudi5yZXNvbHZlO1xuICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UucmVqZWN0ID0gdGFyZ2V0RW52LnJlamVjdDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RW52LmFsbFNldHRsZWQpXG4gICAgICAgICAgICAgICAgICAgIEdsb2JhbFByb21pc2UuYWxsU2V0dGxlZCA9IHRhcmdldEVudi5hbGxTZXR0bGVkO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRFbnYuYW55KVxuICAgICAgICAgICAgICAgICAgICBHbG9iYWxQcm9taXNlLmFueSA9IHRhcmdldEVudi5hbnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc25hcFNob3QoKSB7XG4gICAgICAgIHZhciBHbG9iYWxQcm9taXNlID0gX2dsb2JhbC5Qcm9taXNlO1xuICAgICAgICByZXR1cm4gcGF0Y2hHbG9iYWxQcm9taXNlID8ge1xuICAgICAgICAgICAgUHJvbWlzZTogR2xvYmFsUHJvbWlzZSxcbiAgICAgICAgICAgIFByb21pc2VQcm9wOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9nbG9iYWwsIFwiUHJvbWlzZVwiKSxcbiAgICAgICAgICAgIGFsbDogR2xvYmFsUHJvbWlzZS5hbGwsXG4gICAgICAgICAgICByYWNlOiBHbG9iYWxQcm9taXNlLnJhY2UsXG4gICAgICAgICAgICBhbGxTZXR0bGVkOiBHbG9iYWxQcm9taXNlLmFsbFNldHRsZWQsXG4gICAgICAgICAgICBhbnk6IEdsb2JhbFByb21pc2UuYW55LFxuICAgICAgICAgICAgcmVzb2x2ZTogR2xvYmFsUHJvbWlzZS5yZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiBHbG9iYWxQcm9taXNlLnJlamVjdCxcbiAgICAgICAgfSA6IHt9O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VQU0QocHNkLCBmbiwgYTEsIGEyLCBhMykge1xuICAgICAgICB2YXIgb3V0ZXJTY29wZSA9IFBTRDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaFRvWm9uZShwc2QsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZuKGExLCBhMiwgYTMpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3dpdGNoVG9ab25lKG91dGVyU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBuYXRpdmVBd2FpdENvbXBhdGlibGVXcmFwKGZuLCB6b25lLCBwb3NzaWJsZUF3YWl0LCBjbGVhbnVwKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicgPyBmbiA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdXRlclpvbmUgPSBQU0Q7XG4gICAgICAgICAgICBpZiAocG9zc2libGVBd2FpdClcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgc3dpdGNoVG9ab25lKHpvbmUsIHRydWUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHN3aXRjaFRvWm9uZShvdXRlclpvbmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cClcbiAgICAgICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBleGVjSW5HbG9iYWxDb250ZXh0KGNiKSB7XG4gICAgICAgIGlmIChQcm9taXNlID09PSBOYXRpdmVQcm9taXNlICYmIHRhc2suZWNob2VzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoem9uZUVjaG9lcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbnF1ZXVlTmF0aXZlTWljcm9UYXNrKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciByZWplY3Rpb24gPSBEZXhpZVByb21pc2UucmVqZWN0O1xuXG4gICAgZnVuY3Rpb24gdGVtcFRyYW5zYWN0aW9uKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBmbikge1xuICAgICAgICBpZiAoIWRiLmlkYmRiIHx8ICghZGIuX3N0YXRlLm9wZW5Db21wbGV0ZSAmJiAoIVBTRC5sZXRUaHJvdWdoICYmICFkYi5fdmlwKSkpIHtcbiAgICAgICAgICAgIGlmIChkYi5fc3RhdGUub3BlbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZChkYi5fc3RhdGUuZGJPcGVuRXJyb3IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGIuX3N0YXRlLmlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRiLl9zdGF0ZS5hdXRvT3BlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgpKTtcbiAgICAgICAgICAgICAgICBkYi5vcGVuKCkuY2F0Y2gobm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYi5fc3RhdGUuZGJSZWFkeVByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB0ZW1wVHJhbnNhY3Rpb24oZGIsIG1vZGUsIHN0b3JlTmFtZXMsIGZuKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSBkYi5fY3JlYXRlVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZGIuX2RiU2NoZW1hKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHJhbnMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgZGIuX3N0YXRlLlBSMTM5OF9tYXhMb29wID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgIGlmIChleC5uYW1lID09PSBlcnJuYW1lcy5JbnZhbGlkU3RhdGUgJiYgZGIuaXNPcGVuKCkgJiYgLS1kYi5fc3RhdGUuUFIxMzk4X21heExvb3AgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV4aWU6IE5lZWQgdG8gcmVvcGVuIGRiJyk7XG4gICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRiLm9wZW4oKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRlbXBUcmFuc2FjdGlvbihkYiwgbW9kZSwgc3RvcmVOYW1lcywgZm4pOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhbnMuX3Byb21pc2UobW9kZSwgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIFBTRC50cmFucyA9IHRyYW5zO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4ocmVzb2x2ZSwgcmVqZWN0LCB0cmFucyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3JlYWR3cml0ZScpXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucy5jb21taXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHsgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlID09PSAncmVhZG9ubHknID8gcmVzdWx0IDogdHJhbnMuX2NvbXBsZXRpb24udGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXN1bHQ7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgREVYSUVfVkVSU0lPTiA9ICc0LjIuMSc7XG4gICAgdmFyIG1heFN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzUpO1xuICAgIHZhciBtaW5LZXkgPSAtSW5maW5pdHk7XG4gICAgdmFyIElOVkFMSURfS0VZX0FSR1VNRU5UID0gXCJJbnZhbGlkIGtleSBwcm92aWRlZC4gS2V5cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLCBudW1iZXIsIERhdGUgb3IgQXJyYXk8c3RyaW5nIHwgbnVtYmVyIHwgRGF0ZT4uXCI7XG4gICAgdmFyIFNUUklOR19FWFBFQ1RFRCA9IFwiU3RyaW5nIGV4cGVjdGVkLlwiO1xuICAgIHZhciBjb25uZWN0aW9ucyA9IFtdO1xuICAgIHZhciBEQk5BTUVTX0RCID0gJ19fZGJuYW1lcyc7XG4gICAgdmFyIFJFQURPTkxZID0gJ3JlYWRvbmx5JztcbiAgICB2YXIgUkVBRFdSSVRFID0gJ3JlYWR3cml0ZSc7XG5cbiAgICBmdW5jdGlvbiBjb21iaW5lKGZpbHRlcjEsIGZpbHRlcjIpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlcjEgP1xuICAgICAgICAgICAgZmlsdGVyMiA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gZmlsdGVyMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpICYmIGZpbHRlcjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSA6XG4gICAgICAgICAgICAgICAgZmlsdGVyMSA6XG4gICAgICAgICAgICBmaWx0ZXIyO1xuICAgIH1cblxuICAgIHZhciBBbnlSYW5nZSA9IHtcbiAgICAgICAgdHlwZTogMyAsXG4gICAgICAgIGxvd2VyOiAtSW5maW5pdHksXG4gICAgICAgIGxvd2VyT3BlbjogZmFsc2UsXG4gICAgICAgIHVwcGVyOiBbW11dLFxuICAgICAgICB1cHBlck9wZW46IGZhbHNlXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBrZXlQYXRoID09PSBcInN0cmluZ1wiICYmICEvXFwuLy50ZXN0KGtleVBhdGgpXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2tleVBhdGhdID09PSB1bmRlZmluZWQgJiYgKGtleVBhdGggaW4gb2JqKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmogPSBkZWVwQ2xvbmUob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXlQYXRoXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqOyB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEVudGl0eSgpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9ucy5UeXBlKFwiRW50aXR5IGluc3RhbmNlcyBtdXN0IG5ldmVyIGJlIG5ldzplZC4gSW5zdGFuY2VzIGFyZSBnZW5lcmF0ZWQgYnkgdGhlIGZyYW1ld29yayBieXBhc3NpbmcgdGhlIGNvbnN0cnVjdG9yLlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbXAoYSwgYikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHRhID0gdHlwZShhKTtcbiAgICAgICAgICAgIHZhciB0YiA9IHR5cGUoYik7XG4gICAgICAgICAgICBpZiAodGEgIT09IHRiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhID09PSAnQXJyYXknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAodGIgPT09ICdBcnJheScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICBpZiAodGEgPT09ICdiaW5hcnknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAodGIgPT09ICdiaW5hcnknKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKHRhID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgaWYgKHRiID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIGlmICh0YSA9PT0gJ0RhdGUnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICBpZiAodGIgIT09ICdEYXRlJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHRhKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdEYXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDA7XG4gICAgICAgICAgICAgICAgY2FzZSAnYmluYXJ5Jzoge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZVVpbnQ4QXJyYXlzKGdldFVpbnQ4QXJyYXkoYSksIGdldFVpbnQ4QXJyYXkoYikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdBcnJheSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlQXJyYXlzKGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYSwgYikge1xuICAgICAgICB2YXIgYWwgPSBhLmxlbmd0aDtcbiAgICAgICAgdmFyIGJsID0gYi5sZW5ndGg7XG4gICAgICAgIHZhciBsID0gYWwgPCBibCA/IGFsIDogYmw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gY21wKGFbaV0sIGJbaV0pO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbCA9PT0gYmwgPyAwIDogYWwgPCBibCA/IC0xIDogMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZVVpbnQ4QXJyYXlzKGEsIGIpIHtcbiAgICAgICAgdmFyIGFsID0gYS5sZW5ndGg7XG4gICAgICAgIHZhciBibCA9IGIubGVuZ3RoO1xuICAgICAgICB2YXIgbCA9IGFsIDwgYmwgPyBhbCA6IGJsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFbaV0gPCBiW2ldID8gLTEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbCA9PT0gYmwgPyAwIDogYWwgPCBibCA/IC0xIDogMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHlwZSh4KSB7XG4gICAgICAgIHZhciB0ID0gdHlwZW9mIHg7XG4gICAgICAgIGlmICh0ICE9PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHgpKVxuICAgICAgICAgICAgcmV0dXJuICdiaW5hcnknO1xuICAgICAgICB2YXIgdHNUYWcgPSB0b1N0cmluZ1RhZyh4KTtcbiAgICAgICAgcmV0dXJuIHRzVGFnID09PSAnQXJyYXlCdWZmZXInID8gJ2JpbmFyeScgOiB0c1RhZztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VWludDhBcnJheShhKSB7XG4gICAgICAgIGlmIChhIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGEpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGEuYnVmZmVyLCBhLmJ5dGVPZmZzZXQsIGEuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsdEluRGVsZXRpb25UcmlnZ2VyKHRhYmxlLCBrZXlzLCByZXMpIHtcbiAgICAgICAgdmFyIHlQcm9wcyA9IHRhYmxlLnNjaGVtYS55UHJvcHM7XG4gICAgICAgIGlmICgheVByb3BzKVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgaWYgKGtleXMgJiYgcmVzLm51bUZhaWx1cmVzID4gMClcbiAgICAgICAgICAgIGtleXMgPSBrZXlzLmZpbHRlcihmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4gIXJlcy5mYWlsdXJlc1tpXTsgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh5UHJvcHMubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHVwZGF0ZXNUYWJsZSA9IF9hLnVwZGF0ZXNUYWJsZTtcbiAgICAgICAgICAgIHJldHVybiBrZXlzXG4gICAgICAgICAgICAgICAgPyB0YWJsZS5kYi50YWJsZSh1cGRhdGVzVGFibGUpLndoZXJlKCdrJykuYW55T2Yoa2V5cykuZGVsZXRlKClcbiAgICAgICAgICAgICAgICA6IHRhYmxlLmRiLnRhYmxlKHVwZGF0ZXNUYWJsZSkuY2xlYXIoKTtcbiAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzOyB9KTtcbiAgICB9XG5cbiAgICB2YXIgUHJvcE1vZGlmaWNhdGlvbiA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBQcm9wTW9kaWZpY2F0aW9uKHNwZWMpIHtcbiAgICAgICAgICAgIHRoaXNbXCJAQHByb3Btb2RcIl0gPSBzcGVjO1xuICAgICAgICB9XG4gICAgICAgIFByb3BNb2RpZmljYXRpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBzcGVjID0gdGhpc1tcIkBAcHJvcG1vZFwiXTtcbiAgICAgICAgICAgIGlmIChzcGVjLmFkZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBzcGVjLmFkZDtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheSh0ZXJtKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCAoaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFtdKSwgdHJ1ZSksIHRlcm0sIHRydWUpLnNvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXJtID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChOdW1iZXIodmFsdWUpIHx8IDApICsgdGVybTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRlcm0gPT09ICdiaWdpbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KHZhbHVlKSArIHRlcm07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KDApICsgdGVybTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB0ZXJtIFwiLmNvbmNhdCh0ZXJtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3BlYy5yZW1vdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJ0cmFoZW5kXzEgPSBzcGVjLnJlbW92ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShzdWJ0cmFoZW5kXzEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIXN1YnRyYWhlbmRfMS5pbmNsdWRlcyhpdGVtKTsgfSkuc29ydCgpIDogW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VidHJhaGVuZF8xID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSkgLSBzdWJ0cmFoZW5kXzE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWJ0cmFoZW5kXzEgPT09ICdiaWdpbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnSW50KHZhbHVlKSAtIHN1YnRyYWhlbmRfMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCaWdJbnQoMCkgLSBzdWJ0cmFoZW5kXzE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgc3VidHJhaGVuZCBcIi5jb25jYXQoc3VidHJhaGVuZF8xKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJlZml4VG9SZXBsYWNlID0gKF9hID0gc3BlYy5yZXBsYWNlUHJlZml4KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgICAgICBpZiAocHJlZml4VG9SZXBsYWNlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuc3RhcnRzV2l0aChwcmVmaXhUb1JlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwZWMucmVwbGFjZVByZWZpeFsxXSArIHZhbHVlLnN1YnN0cmluZyhwcmVmaXhUb1JlcGxhY2UubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFByb3BNb2RpZmljYXRpb247XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIGFwcGx5VXBkYXRlU3BlYyhvYmosIGNoYW5nZXMpIHtcbiAgICAgICAgdmFyIGtleVBhdGhzID0ga2V5cyhjaGFuZ2VzKTtcbiAgICAgICAgdmFyIG51bUtleXMgPSBrZXlQYXRocy5sZW5ndGg7XG4gICAgICAgIHZhciBhbnl0aGluZ01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtS2V5czsgKytpKSB7XG4gICAgICAgICAgICB2YXIga2V5UGF0aCA9IGtleVBhdGhzW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY2hhbmdlc1trZXlQYXRoXTtcbiAgICAgICAgICAgIHZhciBvcmlnVmFsdWUgPSBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb3BNb2RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCB2YWx1ZS5leGVjdXRlKG9yaWdWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIGFueXRoaW5nTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3JpZ1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBhbnl0aGluZ01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW55dGhpbmdNb2RpZmllZDtcbiAgICB9XG5cbiAgICB2YXIgVGFibGUgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVGFibGUoKSB7XG4gICAgICAgIH1cbiAgICAgICAgVGFibGUucHJvdG90eXBlLl90cmFucyA9IGZ1bmN0aW9uIChtb2RlLCBmbiwgd3JpdGVMb2NrZWQpIHtcbiAgICAgICAgICAgIHZhciB0cmFucyA9IHRoaXMuX3R4IHx8IFBTRC50cmFucztcbiAgICAgICAgICAgIHZhciB0YWJsZU5hbWUgPSB0aGlzLm5hbWU7XG4gICAgICAgICAgICB2YXIgdGFzayA9IGRlYnVnICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmNyZWF0ZVRhc2sgJiYgY29uc29sZS5jcmVhdGVUYXNrKFwiRGV4aWU6IFwiLmNvbmNhdChtb2RlID09PSAncmVhZG9ubHknID8gJ3JlYWQnIDogJ3dyaXRlJywgXCIgXCIpLmNvbmNhdCh0aGlzLm5hbWUpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrVGFibGVJblRyYW5zYWN0aW9uKHJlc29sdmUsIHJlamVjdCwgdHJhbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zLnNjaGVtYVt0YWJsZU5hbWVdKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5Ob3RGb3VuZChcIlRhYmxlIFwiICsgdGFibGVOYW1lICsgXCIgbm90IHBhcnQgb2YgdHJhbnNhY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKHRyYW5zLmlkYnRyYW5zLCB0cmFucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd2FzUm9vdEV4ZWMgPSBiZWdpbk1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBwID0gdHJhbnMgJiYgdHJhbnMuZGIuX25vdmlwID09PSB0aGlzLmRiLl9ub3ZpcCA/XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zID09PSBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMuX3Byb21pc2UobW9kZSwgY2hlY2tUYWJsZUluVHJhbnNhY3Rpb24sIHdyaXRlTG9ja2VkKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTY29wZShmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFucy5fcHJvbWlzZShtb2RlLCBjaGVja1RhYmxlSW5UcmFuc2FjdGlvbiwgd3JpdGVMb2NrZWQpOyB9LCB7IHRyYW5zOiB0cmFucywgdHJhbnNsZXNzOiBQU0QudHJhbnNsZXNzIHx8IFBTRCB9KSA6XG4gICAgICAgICAgICAgICAgICAgIHRlbXBUcmFuc2FjdGlvbih0aGlzLmRiLCBtb2RlLCBbdGhpcy5uYW1lXSwgY2hlY2tUYWJsZUluVHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHAuX2NvbnNvbGVUYXNrID0gdGFzaztcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS50cmFjZShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAod2FzUm9vdEV4ZWMpXG4gICAgICAgICAgICAgICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5T3JDcml0LCBjYikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChrZXlPckNyaXQgJiYga2V5T3JDcml0LmNvbnN0cnVjdG9yID09PSBPYmplY3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud2hlcmUoa2V5T3JDcml0KS5maXJzdChjYik7XG4gICAgICAgICAgICBpZiAoa2V5T3JDcml0ID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5UeXBlKFwiSW52YWxpZCBhcmd1bWVudCB0byBUYWJsZS5nZXQoKVwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWRvbmx5JywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUuZ2V0KHsgdHJhbnM6IHRyYW5zLCBrZXk6IGtleU9yQ3JpdCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBfdGhpcy5ob29rLnJlYWRpbmcuZmlyZShyZXMpOyB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUud2hlcmUgPSBmdW5jdGlvbiAoaW5kZXhPckNyaXQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXhPckNyaXQgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5kYi5XaGVyZUNsYXVzZSh0aGlzLCBpbmRleE9yQ3JpdCk7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShpbmRleE9yQ3JpdCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMsIFwiW1wiLmNvbmNhdChpbmRleE9yQ3JpdC5qb2luKCcrJyksIFwiXVwiKSk7XG4gICAgICAgICAgICB2YXIga2V5UGF0aHMgPSBrZXlzKGluZGV4T3JDcml0KTtcbiAgICAgICAgICAgIGlmIChrZXlQYXRocy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLndoZXJlKGtleVBhdGhzWzBdKVxuICAgICAgICAgICAgICAgICAgICAuZXF1YWxzKGluZGV4T3JDcml0W2tleVBhdGhzWzBdXSk7XG4gICAgICAgICAgICB2YXIgY29tcG91bmRJbmRleCA9IHRoaXMuc2NoZW1hLmluZGV4ZXMuY29uY2F0KHRoaXMuc2NoZW1hLnByaW1LZXkpLmZpbHRlcihmdW5jdGlvbiAoaXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXguY29tcG91bmQgJiZcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aHMuZXZlcnkoZnVuY3Rpb24gKGtleVBhdGgpIHsgcmV0dXJuIGl4LmtleVBhdGguaW5kZXhPZihrZXlQYXRoKSA+PSAwOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleVBhdGhzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aHMuaW5kZXhPZihpeC5rZXlQYXRoW2ldKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmtleVBhdGgubGVuZ3RoIC0gYi5rZXlQYXRoLmxlbmd0aDsgfSlbMF07XG4gICAgICAgICAgICBpZiAoY29tcG91bmRJbmRleCAmJiB0aGlzLmRiLl9tYXhLZXkgIT09IG1heFN0cmluZykge1xuICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoc0luVmFsaWRPcmRlciA9IGNvbXBvdW5kSW5kZXgua2V5UGF0aC5zbGljZSgwLCBrZXlQYXRocy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC53aGVyZShrZXlQYXRoc0luVmFsaWRPcmRlcilcbiAgICAgICAgICAgICAgICAgICAgLmVxdWFscyhrZXlQYXRoc0luVmFsaWRPcmRlci5tYXAoZnVuY3Rpb24gKGtwKSB7IHJldHVybiBpbmRleE9yQ3JpdFtrcF07IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29tcG91bmRJbmRleCAmJiBkZWJ1ZylcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGUgcXVlcnkgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KGluZGV4T3JDcml0KSwgXCIgb24gXCIpLmNvbmNhdCh0aGlzLm5hbWUsIFwiIHdvdWxkIGJlbmVmaXQgZnJvbSBhIFwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwiY29tcG91bmQgaW5kZXggW1wiLmNvbmNhdChrZXlQYXRocy5qb2luKCcrJyksIFwiXVwiKSk7XG4gICAgICAgICAgICB2YXIgaWR4QnlOYW1lID0gdGhpcy5zY2hlbWEuaWR4QnlOYW1lO1xuICAgICAgICAgICAgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY21wKGEsIGIpID09PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF9hID0ga2V5UGF0aHMucmVkdWNlKGZ1bmN0aW9uIChfYSwga2V5UGF0aCkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBfYVswXSwgcHJldkZpbHRlckZuID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaWR4QnlOYW1lW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGluZGV4T3JDcml0W2tleVBhdGhdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleCB8fCBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgcHJldkluZGV4IHx8ICFpbmRleCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iaW5lKHByZXZGaWx0ZXJGbiwgaW5kZXggJiYgaW5kZXgubXVsdGkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wID0gZ2V0QnlLZXlQYXRoKHgsIGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNBcnJheShwcm9wKSAmJiBwcm9wLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGVxdWFscyh2YWx1ZSwgaXRlbSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gZXF1YWxzKHZhbHVlLCBnZXRCeUtleVBhdGgoeCwga2V5UGF0aCkpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwcmV2RmlsdGVyRm5cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSwgW251bGwsIG51bGxdKSwgaWR4ID0gX2FbMF0sIGZpbHRlckZ1bmN0aW9uID0gX2FbMV07XG4gICAgICAgICAgICByZXR1cm4gaWR4ID9cbiAgICAgICAgICAgICAgICB0aGlzLndoZXJlKGlkeC5uYW1lKS5lcXVhbHMoaW5kZXhPckNyaXRbaWR4LmtleVBhdGhdKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZpbHRlckZ1bmN0aW9uKSA6XG4gICAgICAgICAgICAgICAgY29tcG91bmRJbmRleCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyKGZpbHRlckZ1bmN0aW9uKSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2hlcmUoa2V5UGF0aHMpLmVxdWFscygnJyk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmFuZChmaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICh0aGVuU2hvcnRjdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmNvdW50KHRoZW5TaG9ydGN1dCk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5vZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmxpbWl0ID0gZnVuY3Rpb24gKG51bVJvd3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmxpbWl0KG51bVJvd3MpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuZWFjaChjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKHRoZW5TaG9ydGN1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkudG9BcnJheSh0aGVuU2hvcnRjdXQpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUudG9Db2xsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLkNvbGxlY3Rpb24obmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcykpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUub3JkZXJCeSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLkNvbGxlY3Rpb24obmV3IHRoaXMuZGIuV2hlcmVDbGF1c2UodGhpcywgaXNBcnJheShpbmRleCkgP1xuICAgICAgICAgICAgICAgIFwiW1wiLmNvbmNhdChpbmRleC5qb2luKCcrJyksIFwiXVwiKSA6XG4gICAgICAgICAgICAgICAgaW5kZXgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5yZXZlcnNlKCk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5tYXBUb0NsYXNzID0gZnVuY3Rpb24gKGNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBkYiA9IF9hLmRiLCB0YWJsZU5hbWUgPSBfYS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWEubWFwcGVkQ2xhc3MgPSBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGlmIChjb25zdHJ1Y3Rvci5wcm90b3R5cGUgaW5zdGFuY2VvZiBFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciA9ICAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICAgICAgICAgICAgICBfX2V4dGVuZHMoY2xhc3NfMSwgX3N1cGVyKTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xhc3NfMS5wcm90b3R5cGUsIFwiZGJcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkYjsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjbGFzc18xLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRhYmxlTmFtZTsgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgICAgICAgICAgICAgfShjb25zdHJ1Y3RvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaGVyaXRlZFByb3BzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvdG8gPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7IHByb3RvOyBwcm90byA9IGdldFByb3RvKHByb3RvKSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkgeyByZXR1cm4gaW5oZXJpdGVkUHJvcHMuYWRkKHByb3BOYW1lKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVhZEhvb2sgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmopXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IE9iamVjdC5jcmVhdGUoY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtIGluIG9iailcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmhlcml0ZWRQcm9wcy5oYXMobSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc1ttXSA9IG9ialttXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjaGVtYS5yZWFkSG9vaykge1xuICAgICAgICAgICAgICAgIHRoaXMuaG9vay5yZWFkaW5nLnVuc3Vic2NyaWJlKHRoaXMuc2NoZW1hLnJlYWRIb29rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NoZW1hLnJlYWRIb29rID0gcmVhZEhvb2s7XG4gICAgICAgICAgICB0aGlzLmhvb2soXCJyZWFkaW5nXCIsIHJlYWRIb29rKTtcbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmRlZmluZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gQ2xhc3MoY29udGVudCkge1xuICAgICAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcFRvQ2xhc3MoQ2xhc3MpO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5zY2hlbWEucHJpbUtleSwgYXV0byA9IF9hLmF1dG8sIGtleVBhdGggPSBfYS5rZXlQYXRoO1xuICAgICAgICAgICAgdmFyIG9ialRvQWRkID0gb2JqO1xuICAgICAgICAgICAgaWYgKGtleVBhdGggJiYgYXV0bykge1xuICAgICAgICAgICAgICAgIG9ialRvQWRkID0gd29ya2Fyb3VuZEZvclVuZGVmaW5lZFByaW1LZXkoa2V5UGF0aCkob2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucygncmVhZHdyaXRlJywgZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnYWRkJywga2V5czoga2V5ICE9IG51bGwgPyBba2V5XSA6IG51bGwsIHZhbHVlczogW29ialRvQWRkXSB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLm51bUZhaWx1cmVzID8gRGV4aWVQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pIDogcmVzLmxhc3RSZXN1bHQ7IH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGxhc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgbGFzdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUudXBzZXJ0ID0gZnVuY3Rpb24gKGtleSwgbW9kaWZpY2F0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBrZXlQYXRoID0gdGhpcy5zY2hlbWEucHJpbUtleS5rZXlQYXRoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29yZS5nZXQoeyB0cmFuczogdHJhbnMsIGtleToga2V5IH0pLnRoZW4oZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBleGlzdGluZyAhPT0gbnVsbCAmJiBleGlzdGluZyAhPT0gdm9pZCAwID8gZXhpc3RpbmcgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgYXBwbHlVcGRhdGVTcGVjKG9iaiwgbW9kaWZpY2F0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBbb2JqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IFtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBzZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlczogeyBrZXlzOiBba2V5XSwgY2hhbmdlU3BlY3M6IFttb2RpZmljYXRpb25zXSB9XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzLm51bUZhaWx1cmVzID8gRGV4aWVQcm9taXNlLnJlamVjdChyZXMuZmFpbHVyZXNbMF0pIDogISFleGlzdGluZzsgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChrZXlPck9iamVjdCwgbW9kaWZpY2F0aW9ucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXlPck9iamVjdCA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXkoa2V5T3JPYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldEJ5S2V5UGF0aChrZXlPck9iamVjdCwgdGhpcy5zY2hlbWEucHJpbUtleS5rZXlQYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiR2l2ZW4gb2JqZWN0IGRvZXMgbm90IGNvbnRhaW4gaXRzIHByaW1hcnkga2V5XCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShcIjppZFwiKS5lcXVhbHMoa2V5KS5tb2RpZnkobW9kaWZpY2F0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShcIjppZFwiKS5lcXVhbHMoa2V5T3JPYmplY3QpLm1vZGlmeShtb2RpZmljYXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuc2NoZW1hLnByaW1LZXksIGF1dG8gPSBfYS5hdXRvLCBrZXlQYXRoID0gX2Eua2V5UGF0aDtcbiAgICAgICAgICAgIHZhciBvYmpUb0FkZCA9IG9iajtcbiAgICAgICAgICAgIGlmIChrZXlQYXRoICYmIGF1dG8pIHtcbiAgICAgICAgICAgICAgICBvYmpUb0FkZCA9IHdvcmthcm91bmRGb3JVbmRlZmluZWRQcmltS2V5KGtleVBhdGgpKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdwdXQnLCB2YWx1ZXM6IFtvYmpUb0FkZF0sIGtleXM6IGtleSAhPSBudWxsID8gW2tleV0gOiBudWxsIH0pOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHJlcy5sYXN0UmVzdWx0OyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIGxhc3RSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gX3RoaXMuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGUnLCBrZXlzOiBba2V5XSB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIGJ1aWx0SW5EZWxldGlvblRyaWdnZXIoX3RoaXMsIFtrZXldLCByZXMpOyB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5udW1GYWlsdXJlcyA/IERleGllUHJvbWlzZS5yZWplY3QocmVzLmZhaWx1cmVzWzBdKSA6IHVuZGVmaW5lZDsgfSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIF90aGlzLmNvcmUubXV0YXRlKHsgdHJhbnM6IHRyYW5zLCB0eXBlOiAnZGVsZXRlUmFuZ2UnLCByYW5nZTogQW55UmFuZ2UgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBidWlsdEluRGVsZXRpb25UcmlnZ2VyKF90aGlzLCBudWxsLCByZXMpOyB9KTsgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMubnVtRmFpbHVyZXMgPyBEZXhpZVByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSkgOiB1bmRlZmluZWQ7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBUYWJsZS5wcm90b3R5cGUuYnVsa0dldCA9IGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkb25seScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLmdldE1hbnkoe1xuICAgICAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnNcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIHJlc3VsdC5tYXAoZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gX3RoaXMuaG9vay5yZWFkaW5nLmZpcmUocmVzKTsgfSk7IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrQWRkID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleXNPck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEFycmF5LmlzQXJyYXkoa2V5c09yT3B0aW9ucykgPyBrZXlzT3JPcHRpb25zIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgKGtleXMgPyB1bmRlZmluZWQgOiBrZXlzT3JPcHRpb25zKTtcbiAgICAgICAgICAgIHZhciB3YW50UmVzdWx0cyA9IG9wdGlvbnMgPyBvcHRpb25zLmFsbEtleXMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnNjaGVtYS5wcmltS2V5LCBhdXRvID0gX2EuYXV0bywga2V5UGF0aCA9IF9hLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGggJiYga2V5cylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiYnVsa0FkZCgpOiBrZXlzIGFyZ3VtZW50IGludmFsaWQgb24gdGFibGVzIHdpdGggaW5ib3VuZCBrZXlzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlzICYmIGtleXMubGVuZ3RoICE9PSBvYmplY3RzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiQXJndW1lbnRzIG9iamVjdHMgYW5kIGtleXMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbnVtT2JqZWN0cyA9IG9iamVjdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3RzVG9BZGQgPSBrZXlQYXRoICYmIGF1dG8gP1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLm1hcCh3b3JrYXJvdW5kRm9yVW5kZWZpbmVkUHJpbUtleShrZXlQYXRoKSkgOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2FkZCcsIGtleXM6IGtleXMsIHZhbHVlczogb2JqZWN0c1RvQWRkLCB3YW50UmVzdWx0czogd2FudFJlc3VsdHMgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCByZXN1bHRzID0gX2EucmVzdWx0cywgbGFzdFJlc3VsdCA9IF9hLmxhc3RSZXN1bHQsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB3YW50UmVzdWx0cyA/IHJlc3VsdHMgOiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQnVsa0Vycm9yKFwiXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiLmJ1bGtBZGQoKTogXCIpLmNvbmNhdChudW1GYWlsdXJlcywgXCIgb2YgXCIpLmNvbmNhdChudW1PYmplY3RzLCBcIiBvcGVyYXRpb25zIGZhaWxlZFwiKSwgZmFpbHVyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrUHV0ID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleXNPck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEFycmF5LmlzQXJyYXkoa2V5c09yT3B0aW9ucykgPyBrZXlzT3JPcHRpb25zIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgKGtleXMgPyB1bmRlZmluZWQgOiBrZXlzT3JPcHRpb25zKTtcbiAgICAgICAgICAgIHZhciB3YW50UmVzdWx0cyA9IG9wdGlvbnMgPyBvcHRpb25zLmFsbEtleXMgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLnNjaGVtYS5wcmltS2V5LCBhdXRvID0gX2EuYXV0bywga2V5UGF0aCA9IF9hLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgaWYgKGtleVBhdGggJiYga2V5cylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiYnVsa1B1dCgpOiBrZXlzIGFyZ3VtZW50IGludmFsaWQgb24gdGFibGVzIHdpdGggaW5ib3VuZCBrZXlzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlzICYmIGtleXMubGVuZ3RoICE9PSBvYmplY3RzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiQXJndW1lbnRzIG9iamVjdHMgYW5kIGtleXMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbnVtT2JqZWN0cyA9IG9iamVjdHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3RzVG9QdXQgPSBrZXlQYXRoICYmIGF1dG8gP1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RzLm1hcCh3b3JrYXJvdW5kRm9yVW5kZWZpbmVkUHJpbUtleShrZXlQYXRoKSkgOlxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ3B1dCcsIGtleXM6IGtleXMsIHZhbHVlczogb2JqZWN0c1RvUHV0LCB3YW50UmVzdWx0czogd2FudFJlc3VsdHMgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCByZXN1bHRzID0gX2EucmVzdWx0cywgbGFzdFJlc3VsdCA9IF9hLmxhc3RSZXN1bHQsIGZhaWx1cmVzID0gX2EuZmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB3YW50UmVzdWx0cyA/IHJlc3VsdHMgOiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQnVsa0Vycm9yKFwiXCIuY29uY2F0KF90aGlzLm5hbWUsIFwiLmJ1bGtQdXQoKTogXCIpLmNvbmNhdChudW1GYWlsdXJlcywgXCIgb2YgXCIpLmNvbmNhdChudW1PYmplY3RzLCBcIiBvcGVyYXRpb25zIGZhaWxlZFwiKSwgZmFpbHVyZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFRhYmxlLnByb3RvdHlwZS5idWxrVXBkYXRlID0gZnVuY3Rpb24gKGtleXNBbmRDaGFuZ2VzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGNvcmVUYWJsZSA9IHRoaXMuY29yZTtcbiAgICAgICAgICAgIHZhciBrZXlzID0ga2V5c0FuZENoYW5nZXMubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkua2V5OyB9KTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VTcGVjcyA9IGtleXNBbmRDaGFuZ2VzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmNoYW5nZXM7IH0pO1xuICAgICAgICAgICAgdmFyIG9mZnNldE1hcCA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlLmdldE1hbnkoeyB0cmFuczogdHJhbnMsIGtleXM6IGtleXMsIGNhY2hlOiAnY2xvbmUnIH0pLnRoZW4oZnVuY3Rpb24gKG9ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdEtleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdE9ianMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAga2V5c0FuZENoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoX2EsIGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IF9hLmtleSwgY2hhbmdlcyA9IF9hLmNoYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gb2Jqc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2IgPSBPYmplY3Qua2V5cyhjaGFuZ2VzKTsgX2kgPCBfYi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBfYltfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNoYW5nZXNba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoID09PSBfdGhpcy5zY2hlbWEucHJpbUtleS5rZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY21wKHZhbHVlLCBrZXkpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuQ29uc3RyYWludChcIkNhbm5vdCB1cGRhdGUgcHJpbWFyeSBrZXkgaW4gYnVsa1VwZGF0ZSgpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldE1hcC5wdXNoKGlkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0S2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2Jqcy5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRW50cmllcyA9IHJlc3VsdEtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAubXV0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5czogcmVzdWx0S2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogcmVzdWx0T2JqcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVNwZWNzOiBjaGFuZ2VTcGVjc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcywgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW1GYWlsdXJlcyA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtRW50cmllcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2IgPSBPYmplY3Qua2V5cyhmYWlsdXJlcyk7IF9pIDwgX2IubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IF9iW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwcGVkT2Zmc2V0ID0gb2Zmc2V0TWFwW051bWJlcihvZmZzZXQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFwcGVkT2Zmc2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmUgPSBmYWlsdXJlc1tvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmFpbHVyZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZXNbbWFwcGVkT2Zmc2V0XSA9IGZhaWx1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJ1bGtFcnJvcihcIlwiLmNvbmNhdChfdGhpcy5uYW1lLCBcIi5idWxrVXBkYXRlKCk6IFwiKS5jb25jYXQobnVtRmFpbHVyZXMsIFwiIG9mIFwiKS5jb25jYXQobnVtRW50cmllcywgXCIgb3BlcmF0aW9ucyBmYWlsZWRcIiksIGZhaWx1cmVzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVGFibGUucHJvdG90eXBlLmJ1bGtEZWxldGUgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBudW1LZXlzID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnMoJ3JlYWR3cml0ZScsIGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jb3JlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2RlbGV0ZScsIGtleXM6IGtleXMgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gYnVpbHRJbkRlbGV0aW9uVHJpZ2dlcihfdGhpcywga2V5cywgcmVzKTsgfSk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IF9hLm51bUZhaWx1cmVzLCBsYXN0UmVzdWx0ID0gX2EubGFzdFJlc3VsdCwgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcztcbiAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBCdWxrRXJyb3IoXCJcIi5jb25jYXQoX3RoaXMubmFtZSwgXCIuYnVsa0RlbGV0ZSgpOiBcIikuY29uY2F0KG51bUZhaWx1cmVzLCBcIiBvZiBcIikuY29uY2F0KG51bUtleXMsIFwiIG9wZXJhdGlvbnMgZmFpbGVkXCIpLCBmYWlsdXJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFRhYmxlO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBFdmVudHMoY3R4KSB7XG4gICAgICAgIHZhciBldnMgPSB7fTtcbiAgICAgICAgdmFyIHJ2ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoaSAtIDEpO1xuICAgICAgICAgICAgICAgIHdoaWxlICgtLWkpXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGV2c1tldmVudE5hbWVdLnN1YnNjcmliZS5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIChldmVudE5hbWUpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBldnNbZXZlbnROYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcnYuYWRkRXZlbnRUeXBlID0gYWRkO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIGFkZChhcmd1bWVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICAgICAgZnVuY3Rpb24gYWRkKGV2ZW50TmFtZSwgY2hhaW5GdW5jdGlvbiwgZGVmYXVsdEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZENvbmZpZ3VyZWRFdmVudHMoZXZlbnROYW1lKTtcbiAgICAgICAgICAgIGlmICghY2hhaW5GdW5jdGlvbilcbiAgICAgICAgICAgICAgICBjaGFpbkZ1bmN0aW9uID0gcmV2ZXJzZVN0b3BwYWJsZUV2ZW50Q2hhaW47XG4gICAgICAgICAgICBpZiAoIWRlZmF1bHRGdW5jdGlvbilcbiAgICAgICAgICAgICAgICBkZWZhdWx0RnVuY3Rpb24gPSBub3A7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyczogW10sXG4gICAgICAgICAgICAgICAgZmlyZTogZGVmYXVsdEZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnN1YnNjcmliZXJzLmluZGV4T2YoY2IpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycy5wdXNoKGNiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlyZSA9IGNoYWluRnVuY3Rpb24oY29udGV4dC5maXJlLCBjYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycyA9IGNvbnRleHQuc3Vic2NyaWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4gIT09IGNiOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maXJlID0gY29udGV4dC5zdWJzY3JpYmVycy5yZWR1Y2UoY2hhaW5GdW5jdGlvbiwgZGVmYXVsdEZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZXZzW2V2ZW50TmFtZV0gPSBydltldmVudE5hbWVdID0gY29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZENvbmZpZ3VyZWRFdmVudHMoY2ZnKSB7XG4gICAgICAgICAgICBrZXlzKGNmZykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBjZmdbZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmdzKSkge1xuICAgICAgICAgICAgICAgICAgICBhZGQoZXZlbnROYW1lLCBjZmdbZXZlbnROYW1lXVswXSwgY2ZnW2V2ZW50TmFtZV1bMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzID09PSAnYXNhcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBhZGQoZXZlbnROYW1lLCBtaXJyb3IsIGZ1bmN0aW9uIGZpcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNhcCQxKGZ1bmN0aW9uIGZpcmVFdmVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiSW52YWxpZCBldmVudCBjb25maWdcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VDbGFzc0NvbnN0cnVjdG9yKHByb3RvdHlwZSwgY29uc3RydWN0b3IpIHtcbiAgICAgICAgZGVyaXZlKGNvbnN0cnVjdG9yKS5mcm9tKHsgcHJvdG90eXBlOiBwcm90b3R5cGUgfSk7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVUYWJsZUNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihUYWJsZS5wcm90b3R5cGUsIGZ1bmN0aW9uIFRhYmxlKG5hbWUsIHRhYmxlU2NoZW1hLCB0cmFucykge1xuICAgICAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgICAgICAgICAgdGhpcy5fdHggPSB0cmFucztcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYSA9IHRhYmxlU2NoZW1hO1xuICAgICAgICAgICAgdGhpcy5ob29rID0gZGIuX2FsbFRhYmxlc1tuYW1lXSA/IGRiLl9hbGxUYWJsZXNbbmFtZV0uaG9vayA6IEV2ZW50cyhudWxsLCB7XG4gICAgICAgICAgICAgICAgXCJjcmVhdGluZ1wiOiBbaG9va0NyZWF0aW5nQ2hhaW4sIG5vcF0sXG4gICAgICAgICAgICAgICAgXCJyZWFkaW5nXCI6IFtwdXJlRnVuY3Rpb25DaGFpbiwgbWlycm9yXSxcbiAgICAgICAgICAgICAgICBcInVwZGF0aW5nXCI6IFtob29rVXBkYXRpbmdDaGFpbiwgbm9wXSxcbiAgICAgICAgICAgICAgICBcImRlbGV0aW5nXCI6IFtob29rRGVsZXRpbmdDaGFpbiwgbm9wXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzUGxhaW5LZXlSYW5nZShjdHgsIGlnbm9yZUxpbWl0RmlsdGVyKSB7XG4gICAgICAgIHJldHVybiAhKGN0eC5maWx0ZXIgfHwgY3R4LmFsZ29yaXRobSB8fCBjdHgub3IpICYmXG4gICAgICAgICAgICAoaWdub3JlTGltaXRGaWx0ZXIgPyBjdHguanVzdExpbWl0IDogIWN0eC5yZXBsYXlGaWx0ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRGaWx0ZXIoY3R4LCBmbikge1xuICAgICAgICBjdHguZmlsdGVyID0gY29tYmluZShjdHguZmlsdGVyLCBmbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFJlcGxheUZpbHRlcihjdHgsIGZhY3RvcnksIGlzTGltaXRGaWx0ZXIpIHtcbiAgICAgICAgdmFyIGN1cnIgPSBjdHgucmVwbGF5RmlsdGVyO1xuICAgICAgICBjdHgucmVwbGF5RmlsdGVyID0gY3VyciA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbWJpbmUoY3VycigpLCBmYWN0b3J5KCkpOyB9IDogZmFjdG9yeTtcbiAgICAgICAgY3R4Lmp1c3RMaW1pdCA9IGlzTGltaXRGaWx0ZXIgJiYgIWN1cnI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZE1hdGNoRmlsdGVyKGN0eCwgZm4pIHtcbiAgICAgICAgY3R4LmlzTWF0Y2ggPSBjb21iaW5lKGN0eC5pc01hdGNoLCBmbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluZGV4T3JTdG9yZShjdHgsIGNvcmVTY2hlbWEpIHtcbiAgICAgICAgaWYgKGN0eC5pc1ByaW1LZXkpXG4gICAgICAgICAgICByZXR1cm4gY29yZVNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICB2YXIgaW5kZXggPSBjb3JlU2NoZW1hLmdldEluZGV4QnlLZXlQYXRoKGN0eC5pbmRleCk7XG4gICAgICAgIGlmICghaW5kZXgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoXCJLZXlQYXRoIFwiICsgY3R4LmluZGV4ICsgXCIgb24gb2JqZWN0IHN0b3JlIFwiICsgY29yZVNjaGVtYS5uYW1lICsgXCIgaXMgbm90IGluZGV4ZWRcIik7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkN1cnNvcihjdHgsIGNvcmVUYWJsZSwgdHJhbnMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgY29yZVRhYmxlLnNjaGVtYSk7XG4gICAgICAgIHJldHVybiBjb3JlVGFibGUub3BlbkN1cnNvcih7XG4gICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICB2YWx1ZXM6ICFjdHgua2V5c09ubHksXG4gICAgICAgICAgICByZXZlcnNlOiBjdHguZGlyID09PSAncHJldicsXG4gICAgICAgICAgICB1bmlxdWU6ICEhY3R4LnVuaXF1ZSxcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGl0ZXIoY3R4LCBmbiwgY29yZVRyYW5zLCBjb3JlVGFibGUpIHtcbiAgICAgICAgdmFyIGZpbHRlciA9IGN0eC5yZXBsYXlGaWx0ZXIgPyBjb21iaW5lKGN0eC5maWx0ZXIsIGN0eC5yZXBsYXlGaWx0ZXIoKSkgOiBjdHguZmlsdGVyO1xuICAgICAgICBpZiAoIWN0eC5vcikge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdGUob3BlbkN1cnNvcihjdHgsIGNvcmVUYWJsZSwgY29yZVRyYW5zKSwgY29tYmluZShjdHguYWxnb3JpdGhtLCBmaWx0ZXIpLCBmbiwgIWN0eC5rZXlzT25seSAmJiBjdHgudmFsdWVNYXBwZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNldF8xID0ge307XG4gICAgICAgICAgICB2YXIgdW5pb24gPSBmdW5jdGlvbiAoaXRlbSwgY3Vyc29yLCBhZHZhbmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIgfHwgZmlsdGVyKGN1cnNvciwgYWR2YW5jZSwgZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gY3Vyc29yLnN0b3AocmVzdWx0KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gY3Vyc29yLmZhaWwoZXJyKTsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9ICcnICsgcHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9ICcnICsgbmV3IFVpbnQ4QXJyYXkocHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzT3duKHNldF8xLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRfMVtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuKGl0ZW0sIGN1cnNvciwgYWR2YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBjdHgub3IuX2l0ZXJhdGUodW5pb24sIGNvcmVUcmFucyksXG4gICAgICAgICAgICAgICAgaXRlcmF0ZShvcGVuQ3Vyc29yKGN0eCwgY29yZVRhYmxlLCBjb3JlVHJhbnMpLCBjdHguYWxnb3JpdGhtLCB1bmlvbiwgIWN0eC5rZXlzT25seSAmJiBjdHgudmFsdWVNYXBwZXIpXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpdGVyYXRlKGN1cnNvclByb21pc2UsIGZpbHRlciwgZm4sIHZhbHVlTWFwcGVyKSB7XG4gICAgICAgIHZhciBtYXBwZWRGbiA9IHZhbHVlTWFwcGVyID8gZnVuY3Rpb24gKHgsIGMsIGEpIHsgcmV0dXJuIGZuKHZhbHVlTWFwcGVyKHgpLCBjLCBhKTsgfSA6IGZuO1xuICAgICAgICB2YXIgd3JhcHBlZEZuID0gd3JhcChtYXBwZWRGbik7XG4gICAgICAgIHJldHVybiBjdXJzb3JQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGN1cnNvcikge1xuICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3Iuc3RhcnQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGN1cnNvci5jb250aW51ZSgpOyB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoY3Vyc29yLCBmdW5jdGlvbiAoYWR2YW5jZXIpIHsgcmV0dXJuIGMgPSBhZHZhbmNlcjsgfSwgZnVuY3Rpb24gKHZhbCkgeyBjdXJzb3Iuc3RvcCh2YWwpOyBjID0gbm9wOyB9LCBmdW5jdGlvbiAoZSkgeyBjdXJzb3IuZmFpbChlKTsgYyA9IG5vcDsgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVkRm4oY3Vyc29yLnZhbHVlLCBjdXJzb3IsIGZ1bmN0aW9uIChhZHZhbmNlcikgeyByZXR1cm4gYyA9IGFkdmFuY2VyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgYygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgQ29sbGVjdGlvbiA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgICAgICB9XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKGZuLCBjYikge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIHJldHVybiBjdHguZXJyb3IgP1xuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMobnVsbCwgcmVqZWN0aW9uLmJpbmQobnVsbCwgY3R4LmVycm9yKSkgOlxuICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMoJ3JlYWRvbmx5JywgZm4pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gY3R4LmVycm9yID9cbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKG51bGwsIHJlamVjdGlvbi5iaW5kKG51bGwsIGN0eC5lcnJvcikpIDpcbiAgICAgICAgICAgICAgICBjdHgudGFibGUuX3RyYW5zKCdyZWFkd3JpdGUnLCBmbiwgXCJsb2NrZWRcIik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9hZGRBbGdvcml0aG0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICBjdHguYWxnb3JpdGhtID0gY29tYmluZShjdHguYWxnb3JpdGhtLCBmbik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLl9pdGVyYXRlID0gZnVuY3Rpb24gKGZuLCBjb3JlVHJhbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyKHRoaXMuX2N0eCwgZm4sIGNvcmVUcmFucywgdGhpcy5fY3R4LnRhYmxlLmNvcmUpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgdmFyIHJ2ID0gT2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSksIGN0eCA9IE9iamVjdC5jcmVhdGUodGhpcy5fY3R4KTtcbiAgICAgICAgICAgIGlmIChwcm9wcylcbiAgICAgICAgICAgICAgICBleHRlbmQoY3R4LCBwcm9wcyk7XG4gICAgICAgICAgICBydi5fY3R4ID0gY3R4O1xuICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9jdHgudmFsdWVNYXBwZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAodHJhbnMpIHsgcmV0dXJuIGl0ZXIoY3R4LCBmbiwgdHJhbnMsIGN0eC50YWJsZS5jb3JlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IF90aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgdmFyIGNvcmVUYWJsZSA9IGN0eC50YWJsZS5jb3JlO1xuICAgICAgICAgICAgICAgIGlmIChpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZVRhYmxlLmNvdW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGdldEluZGV4T3JTdG9yZShjdHgsIGNvcmVUYWJsZS5zY2hlbWEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoY291bnQpIHsgcmV0dXJuIE1hdGgubWluKGNvdW50LCBjdHgubGltaXQpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVyKGN0eCwgZnVuY3Rpb24gKCkgeyArK2NvdW50OyByZXR1cm4gZmFsc2U7IH0sIHRyYW5zLCBjb3JlVGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBjb3VudDsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIChrZXlQYXRoLCBjYikge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0ga2V5UGF0aC5zcGxpdCgnLicpLnJldmVyc2UoKSwgbGFzdFBhcnQgPSBwYXJ0c1swXSwgbGFzdEluZGV4ID0gcGFydHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldHZhbChvYmosIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHZhbChvYmpbcGFydHNbaV1dLCBpIC0gMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ialtsYXN0UGFydF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3JkZXIgPSB0aGlzLl9jdHguZGlyID09PSBcIm5leHRcIiA/IDEgOiAtMTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNvcnRlcihhLCBiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFWYWwgPSBnZXR2YWwoYSwgbGFzdEluZGV4KSwgYlZhbCA9IGdldHZhbChiLCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbXAoYVZhbCwgYlZhbCkgKiBvcmRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5zb3J0KHNvcnRlcik7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSBfdGhpcy5fY3R4O1xuICAgICAgICAgICAgICAgIGlmIChjdHguZGlyID09PSAnbmV4dCcgJiYgaXNQbGFpbktleVJhbmdlKGN0eCwgdHJ1ZSkgJiYgY3R4LmxpbWl0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVNYXBwZXJfMSA9IGN0eC52YWx1ZU1hcHBlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgY3R4LnRhYmxlLmNvcmUuc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC50YWJsZS5jb3JlLnF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiBjdHgubGltaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogY3R4LnJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlTWFwcGVyXzEgPyByZXN1bHQubWFwKHZhbHVlTWFwcGVyXzEpIDogcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhXzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXIoY3R4LCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gYV8xLnB1c2goaXRlbSk7IH0sIHRyYW5zLCBjdHgudGFibGUuY29yZSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBhXzE7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUub2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIGN0eC5vZmZzZXQgKz0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKGlzUGxhaW5LZXlSYW5nZShjdHgpKSB7XG4gICAgICAgICAgICAgICAgYWRkUmVwbGF5RmlsdGVyKGN0eCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXRMZWZ0ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldExlZnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLW9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmFkdmFuY2Uob2Zmc2V0TGVmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcihjdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldExlZnQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiAoLS1vZmZzZXRMZWZ0IDwgMCk7IH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubGltaXQgPSBmdW5jdGlvbiAobnVtUm93cykge1xuICAgICAgICAgICAgdGhpcy5fY3R4LmxpbWl0ID0gTWF0aC5taW4odGhpcy5fY3R4LmxpbWl0LCBudW1Sb3dzKTtcbiAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93c0xlZnQgPSBudW1Sb3dzO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgtLXJvd3NMZWZ0IDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93c0xlZnQgPj0gMDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudW50aWwgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24sIGJJbmNsdWRlU3RvcEVudHJ5KSB7XG4gICAgICAgICAgICBhZGRGaWx0ZXIodGhpcy5fY3R4LCBmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlckZ1bmN0aW9uKGN1cnNvci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJJbmNsdWRlU3RvcEVudHJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbWl0KDEpLnRvQXJyYXkoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGFbMF07IH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3QoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyRnVuY3Rpb24oY3Vyc29yLnZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWRkTWF0Y2hGaWx0ZXIodGhpcy5fY3R4LCBmaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuYW5kID0gZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gKGluZGV4TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmRiLldoZXJlQ2xhdXNlKHRoaXMuX2N0eC50YWJsZSwgaW5kZXhOYW1lLCB0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC5kaXIgPSAodGhpcy5fY3R4LmRpciA9PT0gXCJwcmV2XCIgPyBcIm5leHRcIiA6IFwicHJldlwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSlcbiAgICAgICAgICAgICAgICB0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSh0aGlzLl9jdHguZGlyKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kZXNjID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5lYWNoS2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodmFsLCBjdXJzb3IpIHsgY2IoY3Vyc29yLmtleSwgY3Vyc29yKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2hVbmlxdWVLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N0eC51bmlxdWUgPSBcInVuaXF1ZVwiO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaEtleShjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmVhY2hQcmltYXJ5S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodmFsLCBjdXJzb3IpIHsgY2IoY3Vyc29yLnByaW1hcnlLZXksIGN1cnNvcik7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKGl0ZW0sIGN1cnNvcikge1xuICAgICAgICAgICAgICAgIGEucHVzaChjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH07XG4gICAgICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLnByaW1hcnlLZXlzID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgaWYgKGN0eC5kaXIgPT09ICduZXh0JyAmJiBpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSAmJiBjdHgubGltaXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4T3JTdG9yZShjdHgsIGN0eC50YWJsZS5jb3JlLnNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5xdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGN0eC5saW1pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5rZXlzT25seSA9ICFjdHguaXNNYXRjaDtcbiAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpdGVtLCBjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9KS50aGVuKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUudW5pcXVlS2V5cyA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgdGhpcy5fY3R4LnVuaXF1ZSA9IFwidW5pcXVlXCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlzKGNiKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3RLZXkgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbWl0KDEpLmtleXMoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGFbMF07IH0pLnRoZW4oY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5sYXN0S2V5ID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3RLZXkoY2IpO1xuICAgICAgICB9O1xuICAgICAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5kaXN0aW5jdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHgsIGlkeCA9IGN0eC5pbmRleCAmJiBjdHgudGFibGUuc2NoZW1hLmlkeEJ5TmFtZVtjdHguaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFpZHggfHwgIWlkeC5tdWx0aSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIHZhciBzZXQgPSB7fTtcbiAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RyS2V5ID0gY3Vyc29yLnByaW1hcnlLZXkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBoYXNPd24oc2V0LCBzdHJLZXkpO1xuICAgICAgICAgICAgICAgIHNldFtzdHJLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWZvdW5kO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUubW9kaWZ5ID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlKGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZnllcjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYW5nZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBjaGFuZ2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gYXBwbHlVcGRhdGVTcGVjKGl0ZW0sIGNoYW5nZXMpOyB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29yZVRhYmxlID0gY3R4LnRhYmxlLmNvcmU7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gY29yZVRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5LCBvdXRib3VuZCA9IF9hLm91dGJvdW5kLCBleHRyYWN0S2V5ID0gX2EuZXh0cmFjdEtleTtcbiAgICAgICAgICAgICAgICB2YXIgbGltaXQgPSAyMDA7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGlmeUNodW5rU2l6ZSA9IF90aGlzLmRiLl9vcHRpb25zLm1vZGlmeUNodW5rU2l6ZTtcbiAgICAgICAgICAgICAgICBpZiAobW9kaWZ5Q2h1bmtTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kaWZ5Q2h1bmtTaXplID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IG1vZGlmeUNodW5rU2l6ZVtjb3JlVGFibGUubmFtZV0gfHwgbW9kaWZ5Q2h1bmtTaXplWycqJ10gfHwgMjAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQgPSBtb2RpZnlDaHVua1NpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsRmFpbHVyZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2Vzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgZmFpbGVkS2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBhcHBseU11dGF0ZVJlc3VsdCA9IGZ1bmN0aW9uIChleHBlY3RlZENvdW50LCByZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gcmVzLmZhaWx1cmVzLCBudW1GYWlsdXJlcyA9IHJlcy5udW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NvdW50ICs9IGV4cGVjdGVkQ291bnQgLSBudW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGtleXMoZmFpbHVyZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsRmFpbHVyZXMucHVzaChmYWlsdXJlc1twb3NdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGlzVW5jb25kaXRpb25hbERlbGV0ZSA9IGNoYW5nZXMgPT09IGRlbGV0ZUNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jbG9uZSgpLnByaW1hcnlLZXlzKCkudGhlbihmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3JpdGVyaWEgPSBpc1BsYWluS2V5UmFuZ2UoY3R4KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmxpbWl0ID09PSBJbmZpbml0eSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBjaGFuZ2VzICE9PSAnZnVuY3Rpb24nIHx8IGlzVW5jb25kaXRpb25hbERlbGV0ZSkgJiYge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGN0eC5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiBjdHgucmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaHVuayA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IE1hdGgubWluKGxpbWl0LCBrZXlzLmxlbmd0aCAtIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5c0luQ2h1bmsgPSBrZXlzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1VuY29uZGl0aW9uYWxEZWxldGUgPyBQcm9taXNlLnJlc29sdmUoW10pIDogY29yZVRhYmxlLmdldE1hbnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zOiB0cmFucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBrZXlzSW5DaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogXCJpbW11dGFibGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHV0VmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHB1dEtleXMgPSBvdXRib3VuZCA/IFtdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZXRlS2V5cyA9IGlzVW5jb25kaXRpb25hbERlbGV0ZSA/IGtleXNJbkNodW5rIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1VuY29uZGl0aW9uYWxEZWxldGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdWYWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHhfMSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVlcENsb25lKG9yaWdWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbUtleToga2V5c1tvZmZzZXQgKyBpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZnllci5jYWxsKGN0eF8xLCBjdHhfMS52YWx1ZSwgY3R4XzEpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHhfMS52YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUtleXMucHVzaChrZXlzW29mZnNldCArIGldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW91dGJvdW5kICYmIGNtcChleHRyYWN0S2V5KG9yaWdWYWx1ZSksIGV4dHJhY3RLZXkoY3R4XzEudmFsdWUpKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVLZXlzLnB1c2goa2V5c1tvZmZzZXQgKyBpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZhbHVlcy5wdXNoKGN0eF8xLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhbHVlcy5wdXNoKGN0eF8xLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGJvdW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV0S2V5cy5wdXNoKGtleXNbb2Zmc2V0ICsgaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYWRkVmFsdWVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZVRhYmxlLm11dGF0ZSh7IHRyYW5zOiB0cmFucywgdHlwZTogJ2FkZCcsIHZhbHVlczogYWRkVmFsdWVzIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwb3MgaW4gcmVzLmZhaWx1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlS2V5cy5zcGxpY2UocGFyc2VJbnQocG9zKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseU11dGF0ZVJlc3VsdChhZGRWYWx1ZXMubGVuZ3RoLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiAocHV0VmFsdWVzLmxlbmd0aCA+IDAgfHwgKGNyaXRlcmlhICYmIHR5cGVvZiBjaGFuZ2VzID09PSAnb2JqZWN0JykpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVUYWJsZS5tdXRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3B1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBwdXRLZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBwdXRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcml0ZXJpYTogY3JpdGVyaWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VTcGVjOiB0eXBlb2YgY2hhbmdlcyAhPT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0FkZGl0aW9uYWxDaHVuazogb2Zmc2V0ID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIGFwcGx5TXV0YXRlUmVzdWx0KHB1dFZhbHVlcy5sZW5ndGgsIHJlcyk7IH0pOyB9KS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIChkZWxldGVLZXlzLmxlbmd0aCA+IDAgfHwgKGNyaXRlcmlhICYmIGlzVW5jb25kaXRpb25hbERlbGV0ZSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmVUYWJsZS5tdXRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnM6IHRyYW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RlbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBkZWxldGVLZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JpdGVyaWE6IGNyaXRlcmlhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBZGRpdGlvbmFsQ2h1bms6IG9mZnNldCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBidWlsdEluRGVsZXRpb25UcmlnZ2VyKGN0eC50YWJsZSwgZGVsZXRlS2V5cywgcmVzKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIGFwcGx5TXV0YXRlUmVzdWx0KGRlbGV0ZUtleXMubGVuZ3RoLCByZXMpOyB9KTsgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzLmxlbmd0aCA+IG9mZnNldCArIGNvdW50ICYmIG5leHRDaHVuayhvZmZzZXQgKyBsaW1pdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRDaHVuaygwKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbEZhaWx1cmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGlmeUVycm9yKFwiRXJyb3IgbW9kaWZ5aW5nIG9uZSBvciBtb3JlIG9iamVjdHNcIiwgdG90YWxGYWlsdXJlcywgc3VjY2Vzc0NvdW50LCBmYWlsZWRLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eCwgcmFuZ2UgPSBjdHgucmFuZ2U7XG4gICAgICAgICAgICBpZiAoaXNQbGFpbktleVJhbmdlKGN0eCkgJiZcbiAgICAgICAgICAgICAgICAhY3R4LnRhYmxlLnNjaGVtYS55UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAoY3R4LmlzUHJpbUtleSB8fCByYW5nZS50eXBlID09PSAzICkpXG4gICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93cml0ZShmdW5jdGlvbiAodHJhbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBjdHgudGFibGUuY29yZS5zY2hlbWEucHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvcmVSYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnRhYmxlLmNvcmUuY291bnQoeyB0cmFuczogdHJhbnMsIHF1ZXJ5OiB7IGluZGV4OiBwcmltYXJ5S2V5LCByYW5nZTogY29yZVJhbmdlIH0gfSkudGhlbihmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHgudGFibGUuY29yZS5tdXRhdGUoeyB0cmFuczogdHJhbnMsIHR5cGU6ICdkZWxldGVSYW5nZScsIHJhbmdlOiBjb3JlUmFuZ2UgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcywgbnVtRmFpbHVyZXMgPSBfYS5udW1GYWlsdXJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtRmFpbHVyZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RpZnlFcnJvcihcIkNvdWxkIG5vdCBkZWxldGUgc29tZSB2YWx1ZXNcIiwgT2JqZWN0LmtleXMoZmFpbHVyZXMpLm1hcChmdW5jdGlvbiAocG9zKSB7IHJldHVybiBmYWlsdXJlc1twb3NdOyB9KSwgY291bnQgLSBudW1GYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50IC0gbnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RpZnkoZGVsZXRlQ2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQ29sbGVjdGlvbjtcbiAgICB9KCkpO1xuICAgIHZhciBkZWxldGVDYWxsYmFjayA9IGZ1bmN0aW9uICh2YWx1ZSwgY3R4KSB7IHJldHVybiBjdHgudmFsdWUgPSBudWxsOyB9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29sbGVjdGlvbkNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihDb2xsZWN0aW9uLnByb3RvdHlwZSwgZnVuY3Rpb24gQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwga2V5UmFuZ2VHZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHZhciBrZXlSYW5nZSA9IEFueVJhbmdlLCBlcnJvciA9IG51bGw7XG4gICAgICAgICAgICBpZiAoa2V5UmFuZ2VHZW5lcmF0b3IpXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAga2V5UmFuZ2UgPSBrZXlSYW5nZUdlbmVyYXRvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgd2hlcmVDdHggPSB3aGVyZUNsYXVzZS5fY3R4O1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gd2hlcmVDdHgudGFibGU7XG4gICAgICAgICAgICB2YXIgcmVhZGluZ0hvb2sgPSB0YWJsZS5ob29rLnJlYWRpbmcuZmlyZTtcbiAgICAgICAgICAgIHRoaXMuX2N0eCA9IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHdoZXJlQ3R4LmluZGV4LFxuICAgICAgICAgICAgICAgIGlzUHJpbUtleTogKCF3aGVyZUN0eC5pbmRleCB8fCAodGFibGUuc2NoZW1hLnByaW1LZXkua2V5UGF0aCAmJiB3aGVyZUN0eC5pbmRleCA9PT0gdGFibGUuc2NoZW1hLnByaW1LZXkubmFtZSkpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBrZXlSYW5nZSxcbiAgICAgICAgICAgICAgICBrZXlzT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGlyOiBcIm5leHRcIixcbiAgICAgICAgICAgICAgICB1bmlxdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgYWxnb3JpdGhtOiBudWxsLFxuICAgICAgICAgICAgICAgIGZpbHRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICByZXBsYXlGaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICAgICAganVzdExpbWl0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzTWF0Y2g6IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGxpbWl0OiBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgb3I6IHdoZXJlQ3R4Lm9yLFxuICAgICAgICAgICAgICAgIHZhbHVlTWFwcGVyOiByZWFkaW5nSG9vayAhPT0gbWlycm9yID8gcmVhZGluZ0hvb2sgOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpbXBsZUNvbXBhcmVSZXZlcnNlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPiBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmFpbChjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZSwgZXJyLCBUKSB7XG4gICAgICAgIHZhciBjb2xsZWN0aW9uID0gY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UgaW5zdGFuY2VvZiBXaGVyZUNsYXVzZSA/XG4gICAgICAgICAgICBuZXcgY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UuQ29sbGVjdGlvbihjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZSkgOlxuICAgICAgICAgICAgY29sbGVjdGlvbk9yV2hlcmVDbGF1c2U7XG4gICAgICAgIGNvbGxlY3Rpb24uX2N0eC5lcnJvciA9IFQgPyBuZXcgVChlcnIpIDogbmV3IFR5cGVFcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1wdHlDb2xsZWN0aW9uKHdoZXJlQ2xhdXNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgd2hlcmVDbGF1c2UuQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmFuZ2VFcXVhbChcIlwiKTsgfSkubGltaXQoMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwcGVyRmFjdG9yeShkaXIpIHtcbiAgICAgICAgcmV0dXJuIGRpciA9PT0gXCJuZXh0XCIgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfSA6XG4gICAgICAgICAgICBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50b0xvd2VyQ2FzZSgpOyB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb3dlckZhY3RvcnkoZGlyKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09IFwibmV4dFwiID9cbiAgICAgICAgICAgIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRvTG93ZXJDYXNlKCk7IH0gOlxuICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dENhc2luZyhrZXksIGxvd2VyS2V5LCB1cHBlck5lZWRsZSwgbG93ZXJOZWVkbGUsIGNtcCwgZGlyKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihrZXkubGVuZ3RoLCBsb3dlck5lZWRsZS5sZW5ndGgpO1xuICAgICAgICB2YXIgbGxwID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBsd3JLZXlDaGFyID0gbG93ZXJLZXlbaV07XG4gICAgICAgICAgICBpZiAobHdyS2V5Q2hhciAhPT0gbG93ZXJOZWVkbGVbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoY21wKGtleVtpXSwgdXBwZXJOZWVkbGVbaV0pIDwgMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgaSkgKyB1cHBlck5lZWRsZVtpXSArIHVwcGVyTmVlZGxlLnN1YnN0cihpICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChrZXlbaV0sIGxvd2VyTmVlZGxlW2ldKSA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGkpICsgbG93ZXJOZWVkbGVbaV0gKyB1cHBlck5lZWRsZS5zdWJzdHIoaSArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChsbHAgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgbGxwKSArIGxvd2VyS2V5W2xscF0gKyB1cHBlck5lZWRsZS5zdWJzdHIobGxwICsgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY21wKGtleVtpXSwgbHdyS2V5Q2hhcikgPCAwKVxuICAgICAgICAgICAgICAgIGxscCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA8IGxvd2VyTmVlZGxlLmxlbmd0aCAmJiBkaXIgPT09IFwibmV4dFwiKVxuICAgICAgICAgICAgcmV0dXJuIGtleSArIHVwcGVyTmVlZGxlLnN1YnN0cihrZXkubGVuZ3RoKTtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGtleS5sZW5ndGggJiYgZGlyID09PSBcInByZXZcIilcbiAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIHVwcGVyTmVlZGxlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiAobGxwIDwgMCA/IG51bGwgOiBrZXkuc3Vic3RyKDAsIGxscCkgKyBsb3dlck5lZWRsZVtsbHBdICsgdXBwZXJOZWVkbGUuc3Vic3RyKGxscCArIDEpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh3aGVyZUNsYXVzZSwgbWF0Y2gsIG5lZWRsZXMsIHN1ZmZpeCkge1xuICAgICAgICB2YXIgdXBwZXIsIGxvd2VyLCBjb21wYXJlLCB1cHBlck5lZWRsZXMsIGxvd2VyTmVlZGxlcywgZGlyZWN0aW9uLCBuZXh0S2V5U3VmZml4LCBuZWVkbGVzTGVuID0gbmVlZGxlcy5sZW5ndGg7XG4gICAgICAgIGlmICghbmVlZGxlcy5ldmVyeShmdW5jdGlvbiAocykgeyByZXR1cm4gdHlwZW9mIHMgPT09ICdzdHJpbmcnOyB9KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhaWwod2hlcmVDbGF1c2UsIFNUUklOR19FWFBFQ1RFRCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaW5pdERpcmVjdGlvbihkaXIpIHtcbiAgICAgICAgICAgIHVwcGVyID0gdXBwZXJGYWN0b3J5KGRpcik7XG4gICAgICAgICAgICBsb3dlciA9IGxvd2VyRmFjdG9yeShkaXIpO1xuICAgICAgICAgICAgY29tcGFyZSA9IChkaXIgPT09IFwibmV4dFwiID8gc2ltcGxlQ29tcGFyZSA6IHNpbXBsZUNvbXBhcmVSZXZlcnNlKTtcbiAgICAgICAgICAgIHZhciBuZWVkbGVCb3VuZHMgPSBuZWVkbGVzLm1hcChmdW5jdGlvbiAobmVlZGxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbG93ZXI6IGxvd2VyKG5lZWRsZSksIHVwcGVyOiB1cHBlcihuZWVkbGUpIH07XG4gICAgICAgICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUoYS5sb3dlciwgYi5sb3dlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVwcGVyTmVlZGxlcyA9IG5lZWRsZUJvdW5kcy5tYXAoZnVuY3Rpb24gKG5iKSB7IHJldHVybiBuYi51cHBlcjsgfSk7XG4gICAgICAgICAgICBsb3dlck5lZWRsZXMgPSBuZWVkbGVCb3VuZHMubWFwKGZ1bmN0aW9uIChuYikgeyByZXR1cm4gbmIubG93ZXI7IH0pO1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gZGlyO1xuICAgICAgICAgICAgbmV4dEtleVN1ZmZpeCA9IChkaXIgPT09IFwibmV4dFwiID8gXCJcIiA6IHN1ZmZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdERpcmVjdGlvbihcIm5leHRcIik7XG4gICAgICAgIHZhciBjID0gbmV3IHdoZXJlQ2xhdXNlLkNvbGxlY3Rpb24od2hlcmVDbGF1c2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVwcGVyTmVlZGxlc1swXSwgbG93ZXJOZWVkbGVzW25lZWRsZXNMZW4gLSAxXSArIHN1ZmZpeCk7IH0pO1xuICAgICAgICBjLl9vbmRpcmVjdGlvbmNoYW5nZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGluaXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZpcnN0UG9zc2libGVOZWVkbGUgPSAwO1xuICAgICAgICBjLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxvd2VyS2V5ID0gbG93ZXIoa2V5KTtcbiAgICAgICAgICAgIGlmIChtYXRjaChsb3dlcktleSwgbG93ZXJOZWVkbGVzLCBmaXJzdFBvc3NpYmxlTmVlZGxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RQb3NzaWJsZU5lZWRsZTsgaSA8IG5lZWRsZXNMZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FzaW5nID0gbmV4dENhc2luZyhrZXksIGxvd2VyS2V5LCB1cHBlck5lZWRsZXNbaV0sIGxvd2VyTmVlZGxlc1tpXSwgY29tcGFyZSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhc2luZyA9PT0gbnVsbCAmJiBsb3dlc3RQb3NzaWJsZUNhc2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVOZWVkbGUgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobG93ZXN0UG9zc2libGVDYXNpbmcgPT09IG51bGwgfHwgY29tcGFyZShsb3dlc3RQb3NzaWJsZUNhc2luZywgY2FzaW5nKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID0gY2FzaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsb3dlc3RQb3NzaWJsZUNhc2luZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHsgY3Vyc29yLmNvbnRpbnVlKGxvd2VzdFBvc3NpYmxlQ2FzaW5nICsgbmV4dEtleVN1ZmZpeCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGxvd2VyLCB1cHBlciwgbG93ZXJPcGVuLCB1cHBlck9wZW4pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IDIgLFxuICAgICAgICAgICAgbG93ZXI6IGxvd2VyLFxuICAgICAgICAgICAgdXBwZXI6IHVwcGVyLFxuICAgICAgICAgICAgbG93ZXJPcGVuOiBsb3dlck9wZW4sXG4gICAgICAgICAgICB1cHBlck9wZW46IHVwcGVyT3BlblxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByYW5nZUVxdWFsKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAxICxcbiAgICAgICAgICAgIGxvd2VyOiB2YWx1ZSxcbiAgICAgICAgICAgIHVwcGVyOiB2YWx1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBXaGVyZUNsYXVzZSA9ICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBXaGVyZUNsYXVzZSgpIHtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2hlcmVDbGF1c2UucHJvdG90eXBlLCBcIkNvbGxlY3Rpb25cIiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N0eC50YWJsZS5kYi5Db2xsZWN0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYmV0d2VlbiA9IGZ1bmN0aW9uIChsb3dlciwgdXBwZXIsIGluY2x1ZGVMb3dlciwgaW5jbHVkZVVwcGVyKSB7XG4gICAgICAgICAgICBpbmNsdWRlTG93ZXIgPSBpbmNsdWRlTG93ZXIgIT09IGZhbHNlO1xuICAgICAgICAgICAgaW5jbHVkZVVwcGVyID0gaW5jbHVkZVVwcGVyID09PSB0cnVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuX2NtcChsb3dlciwgdXBwZXIpID4gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuX2NtcChsb3dlciwgdXBwZXIpID09PSAwICYmIChpbmNsdWRlTG93ZXIgfHwgaW5jbHVkZVVwcGVyKSAmJiAhKGluY2x1ZGVMb3dlciAmJiBpbmNsdWRlVXBwZXIpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZShsb3dlciwgdXBwZXIsICFpbmNsdWRlTG93ZXIsICFpbmNsdWRlVXBwZXIpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiByYW5nZUVxdWFsKHZhbHVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hYm92ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2UodmFsdWUsIHVuZGVmaW5lZCwgdHJ1ZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYWJvdmVPckVxdWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZSh2YWx1ZSwgdW5kZWZpbmVkLCBmYWxzZSk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYmVsb3cgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVuZGVmaW5lZCwgdmFsdWUsIGZhbHNlLCB0cnVlKTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5iZWxvd09yRXF1YWwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIElOVkFMSURfS0VZX0FSR1VNRU5UKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcy5Db2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZVJhbmdlKHVuZGVmaW5lZCwgdmFsdWUpOyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLnN0YXJ0c1dpdGggPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgU1RSSU5HX0VYUEVDVEVEKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJldHdlZW4oc3RyLCBzdHIgKyBtYXhTdHJpbmcsIHRydWUsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aElnbm9yZUNhc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAoc3RyID09PSBcIlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0c1dpdGgoc3RyKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiB4LmluZGV4T2YoYVswXSkgPT09IDA7IH0sIFtzdHJdLCBtYXhTdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuZXF1YWxzSWdub3JlQ2FzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiB4ID09PSBhWzBdOyB9LCBbc3RyXSwgXCJcIik7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5hbnlPZklnbm9yZUNhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiBhLmluZGV4T2YoeCkgIT09IC0xOyB9LCBzZXQsIFwiXCIpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aEFueU9mSWdub3JlQ2FzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZElnbm9yZUNhc2VBbGdvcml0aG0odGhpcywgZnVuY3Rpb24gKHgsIGEpIHsgcmV0dXJuIGEuc29tZShmdW5jdGlvbiAobikgeyByZXR1cm4geC5pbmRleE9mKG4pID09PSAwOyB9KTsgfSwgc2V0LCBtYXhTdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuYW55T2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjb21wYXJlID0gdGhpcy5fY21wO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzZXQuc29ydChjb21wYXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHZhciBjID0gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVSYW5nZShzZXRbMF0sIHNldFtzZXQubGVuZ3RoIC0gMV0pOyB9KTtcbiAgICAgICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbXBhcmUgPSAoZGlyZWN0aW9uID09PSBcIm5leHRcIiA/XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9hc2NlbmRpbmcgOlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGVzY2VuZGluZyk7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQoY29tcGFyZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgYy5fYWRkQWxnb3JpdGhtKGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gY3Vyc29yLmtleTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZShrZXksIHNldFtpXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHNldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUoa2V5LCBzZXRbaV0pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShmdW5jdGlvbiAoKSB7IGN1cnNvci5jb250aW51ZShzZXRbaV0pOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5ub3RFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5BbnlSYW5nZShbW21pbktleSwgdmFsdWVdLCBbdmFsdWUsIHRoaXMuZGIuX21heEtleV1dLCB7IGluY2x1ZGVMb3dlcnM6IGZhbHNlLCBpbmNsdWRlVXBwZXJzOiBmYWxzZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgV2hlcmVDbGF1c2UucHJvdG90eXBlLm5vbmVPZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXQgPSBnZXRBcnJheU9mLmFwcGx5KE5PX0NIQVJfQVJSQVksIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQodGhpcy5fYXNjZW5kaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHNldC5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgdmFsKSB7IHJldHVybiByZXMgP1xuICAgICAgICAgICAgICAgIHJlcy5jb25jYXQoW1tyZXNbcmVzLmxlbmd0aCAtIDFdWzFdLCB2YWxdXSkgOlxuICAgICAgICAgICAgICAgIFtbbWluS2V5LCB2YWxdXTsgfSwgbnVsbCk7XG4gICAgICAgICAgICByYW5nZXMucHVzaChbc2V0W3NldC5sZW5ndGggLSAxXSwgdGhpcy5kYi5fbWF4S2V5XSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKHJhbmdlcywgeyBpbmNsdWRlTG93ZXJzOiBmYWxzZSwgaW5jbHVkZVVwcGVyczogZmFsc2UgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFdoZXJlQ2xhdXNlLnByb3RvdHlwZS5pbkFueVJhbmdlID0gZnVuY3Rpb24gKHJhbmdlcywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBjbXAgPSB0aGlzLl9jbXAsIGFzY2VuZGluZyA9IHRoaXMuX2FzY2VuZGluZywgZGVzY2VuZGluZyA9IHRoaXMuX2Rlc2NlbmRpbmcsIG1pbiA9IHRoaXMuX21pbiwgbWF4ID0gdGhpcy5fbWF4O1xuICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2VzLmV2ZXJ5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZVswXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlWzFdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgYXNjZW5kaW5nKHJhbmdlWzBdLCByYW5nZVsxXSkgPD0gMDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgXCJGaXJzdCBhcmd1bWVudCB0byBpbkFueVJhbmdlKCkgbXVzdCBiZSBhbiBBcnJheSBvZiB0d28tdmFsdWUgQXJyYXlzIFtsb3dlcix1cHBlcl0gd2hlcmUgdXBwZXIgbXVzdCBub3QgYmUgbG93ZXIgdGhhbiBsb3dlclwiLCBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5jbHVkZUxvd2VycyA9ICFvcHRpb25zIHx8IG9wdGlvbnMuaW5jbHVkZUxvd2VycyAhPT0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaW5jbHVkZVVwcGVycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbmNsdWRlVXBwZXJzID09PSB0cnVlO1xuICAgICAgICAgICAgZnVuY3Rpb24gYWRkUmFuZ2UocmFuZ2VzLCBuZXdSYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gMCwgbCA9IHJhbmdlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY21wKG5ld1JhbmdlWzBdLCByYW5nZVsxXSkgPCAwICYmIGNtcChuZXdSYW5nZVsxXSwgcmFuZ2VbMF0pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VbMF0gPSBtaW4ocmFuZ2VbMF0sIG5ld1JhbmdlWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlWzFdID0gbWF4KHJhbmdlWzFdLCBuZXdSYW5nZVsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbClcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3UmFuZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc29ydERpcmVjdGlvbiA9IGFzY2VuZGluZztcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJhbmdlU29ydGVyKGEsIGIpIHsgcmV0dXJuIHNvcnREaXJlY3Rpb24oYVswXSwgYlswXSk7IH1cbiAgICAgICAgICAgIHZhciBzZXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNldCA9IHJhbmdlcy5yZWR1Y2UoYWRkUmFuZ2UsIFtdKTtcbiAgICAgICAgICAgICAgICBzZXQuc29ydChyYW5nZVNvcnRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmFuZ2VQb3MgPSAwO1xuICAgICAgICAgICAgdmFyIGtleUlzQmV5b25kQ3VycmVudEVudHJ5ID0gaW5jbHVkZVVwcGVycyA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYXNjZW5kaW5nKGtleSwgc2V0W3JhbmdlUG9zXVsxXSkgPiAwOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhc2NlbmRpbmcoa2V5LCBzZXRbcmFuZ2VQb3NdWzFdKSA+PSAwOyB9O1xuICAgICAgICAgICAgdmFyIGtleUlzQmVmb3JlQ3VycmVudEVudHJ5ID0gaW5jbHVkZUxvd2VycyA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGVzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMF0pID4gMDsgfSA6XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGVzY2VuZGluZyhrZXksIHNldFtyYW5nZVBvc11bMF0pID49IDA7IH07XG4gICAgICAgICAgICBmdW5jdGlvbiBrZXlXaXRoaW5DdXJyZW50UmFuZ2Uoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFrZXlJc0JleW9uZEN1cnJlbnRFbnRyeShrZXkpICYmICFrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoZWNrS2V5ID0ga2V5SXNCZXlvbmRDdXJyZW50RW50cnk7XG4gICAgICAgICAgICB2YXIgYyA9IG5ldyB0aGlzLkNvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUmFuZ2Uoc2V0WzBdWzBdLCBzZXRbc2V0Lmxlbmd0aCAtIDFdWzFdLCAhaW5jbHVkZUxvd2VycywgIWluY2x1ZGVVcHBlcnMpOyB9KTtcbiAgICAgICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrS2V5ID0ga2V5SXNCZXlvbmRDdXJyZW50RW50cnk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnREaXJlY3Rpb24gPSBhc2NlbmRpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja0tleSA9IGtleUlzQmVmb3JlQ3VycmVudEVudHJ5O1xuICAgICAgICAgICAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gZGVzY2VuZGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0LnNvcnQocmFuZ2VTb3J0ZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGMuX2FkZEFsZ29yaXRobShmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNoZWNrS2V5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgKytyYW5nZVBvcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlUG9zID09PSBzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXlXaXRoaW5DdXJyZW50UmFuZ2Uoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuX2NtcChrZXksIHNldFtyYW5nZVBvc11bMV0pID09PSAwIHx8IF90aGlzLl9jbXAoa2V5LCBzZXRbcmFuZ2VQb3NdWzBdKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3J0RGlyZWN0aW9uID09PSBhc2NlbmRpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKHNldFtyYW5nZVBvc11bMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZShzZXRbcmFuZ2VQb3NdWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9O1xuICAgICAgICBXaGVyZUNsYXVzZS5wcm90b3R5cGUuc3RhcnRzV2l0aEFueU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICghc2V0LmV2ZXJ5KGZ1bmN0aW9uIChzKSB7IHJldHVybiB0eXBlb2YgcyA9PT0gJ3N0cmluZyc7IH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgXCJzdGFydHNXaXRoQW55T2YoKSBvbmx5IHdvcmtzIHdpdGggc3RyaW5nc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eUNvbGxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKHNldC5tYXAoZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gW3N0ciwgc3RyICsgbWF4U3RyaW5nXTsgfSkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gV2hlcmVDbGF1c2U7XG4gICAgfSgpKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVdoZXJlQ2xhdXNlQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFdoZXJlQ2xhdXNlLnByb3RvdHlwZSwgZnVuY3Rpb24gV2hlcmVDbGF1c2UodGFibGUsIGluZGV4LCBvckNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX2N0eCA9IHtcbiAgICAgICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4ID09PSBcIjppZFwiID8gbnVsbCA6IGluZGV4LFxuICAgICAgICAgICAgICAgIG9yOiBvckNvbGxlY3Rpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9jbXAgPSB0aGlzLl9hc2NlbmRpbmcgPSBjbXA7XG4gICAgICAgICAgICB0aGlzLl9kZXNjZW5kaW5nID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNtcChiLCBhKTsgfTtcbiAgICAgICAgICAgIHRoaXMuX21heCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjbXAoYSwgYikgPiAwID8gYSA6IGI7IH07XG4gICAgICAgICAgICB0aGlzLl9taW4gPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gY21wKGEsIGIpIDwgMCA/IGEgOiBiOyB9O1xuICAgICAgICAgICAgdGhpcy5fSURCS2V5UmFuZ2UgPSBkYi5fZGVwcy5JREJLZXlSYW5nZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fSURCS2V5UmFuZ2UpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KSB7XG4gICAgICAgIHJldHVybiB3cmFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICAgICAgcmVqZWN0KGV2ZW50LnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChldmVudC5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgdmFyIERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FID0gJ3N0b3JhZ2VtdXRhdGVkJztcbiAgICB2YXIgU1RPUkFHRV9NVVRBVEVEX0RPTV9FVkVOVF9OQU1FID0gJ3gtc3RvcmFnZW11dGF0ZWQtMSc7XG4gICAgdmFyIGdsb2JhbEV2ZW50cyA9IEV2ZW50cyhudWxsLCBERVhJRV9TVE9SQUdFX01VVEFURURfRVZFTlRfTkFNRSk7XG5cbiAgICB2YXIgVHJhbnNhY3Rpb24gPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNhY3Rpb24oKSB7XG4gICAgICAgIH1cbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXNzZXJ0KCFQU0QuZ2xvYmFsKTtcbiAgICAgICAgICAgICsrdGhpcy5fcmVjdWxvY2s7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVjdWxvY2sgPT09IDEgJiYgIVBTRC5nbG9iYWwpXG4gICAgICAgICAgICAgICAgUFNELmxvY2tPd25lckZvciA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLl91bmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhc3NlcnQoIVBTRC5nbG9iYWwpO1xuICAgICAgICAgICAgaWYgKC0tdGhpcy5fcmVjdWxvY2sgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoIVBTRC5nbG9iYWwpXG4gICAgICAgICAgICAgICAgICAgIFBTRC5sb2NrT3duZXJGb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLl9ibG9ja2VkRnVuY3MubGVuZ3RoID4gMCAmJiAhdGhpcy5fbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZuQW5kUFNEID0gdGhpcy5fYmxvY2tlZEZ1bmNzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VQU0QoZm5BbmRQU0RbMV0sIGZuQW5kUFNEWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fbG9ja2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY3Vsb2NrICYmIFBTRC5sb2NrT3duZXJGb3IgIT09IHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW9kZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIHZhciBpZGJkYiA9IHRoaXMuZGIuaWRiZGI7XG4gICAgICAgICAgICB2YXIgZGJPcGVuRXJyb3IgPSB0aGlzLmRiLl9zdGF0ZS5kYk9wZW5FcnJvcjtcbiAgICAgICAgICAgIGFzc2VydCghdGhpcy5pZGJ0cmFucyk7XG4gICAgICAgICAgICBpZiAoIWlkYnRyYW5zICYmICFpZGJkYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZGJPcGVuRXJyb3IgJiYgZGJPcGVuRXJyb3IubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGF0YWJhc2VDbG9zZWRFcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTWlzc2luZ0FQSUVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKGRiT3BlbkVycm9yLm1lc3NhZ2UsIGRiT3BlbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk9wZW5GYWlsZWQoZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVHJhbnNhY3Rpb25JbmFjdGl2ZSgpO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2NvbXBsZXRpb24uX3N0YXRlID09PSBudWxsKTtcbiAgICAgICAgICAgIGlkYnRyYW5zID0gdGhpcy5pZGJ0cmFucyA9IGlkYnRyYW5zIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuZGIuY29yZVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZGIuY29yZS50cmFuc2FjdGlvbih0aGlzLnN0b3JlTmFtZXMsIHRoaXMubW9kZSwgeyBkdXJhYmlsaXR5OiB0aGlzLmNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSB9KVxuICAgICAgICAgICAgICAgICAgICA6IGlkYmRiLnRyYW5zYWN0aW9uKHRoaXMuc3RvcmVOYW1lcywgdGhpcy5tb2RlLCB7IGR1cmFiaWxpdHk6IHRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5IH0pKTtcbiAgICAgICAgICAgIGlkYnRyYW5zLm9uZXJyb3IgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0KGlkYnRyYW5zLmVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWRidHJhbnMub25hYm9ydCA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXYpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSAmJiBfdGhpcy5fcmVqZWN0KG5ldyBleGNlcHRpb25zLkFib3J0KGlkYnRyYW5zLmVycm9yKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMub24oXCJhYm9ydFwiKS5maXJlKGV2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWRidHJhbnMub25jb21wbGV0ZSA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCdtdXRhdGVkUGFydHMnIGluIGlkYnRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEV2ZW50cy5zdG9yYWdlbXV0YXRlZC5maXJlKGlkYnRyYW5zW1wibXV0YXRlZFBhcnRzXCJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3Byb21pc2UgPSBmdW5jdGlvbiAobW9kZSwgZm4sIGJXcml0ZUxvY2spIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3JlYWR3cml0ZScgJiYgdGhpcy5tb2RlICE9PSAncmVhZHdyaXRlJylcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlJlYWRPbmx5KFwiVHJhbnNhY3Rpb24gaXMgcmVhZG9ubHlcIikpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLlRyYW5zYWN0aW9uSW5hY3RpdmUoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9ja2VkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ibG9ja2VkRnVuY3MucHVzaChbZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9wcm9taXNlKG1vZGUsIGZuLCBiV3JpdGVMb2NrKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBQU0RdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJXcml0ZUxvY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGZuKHJlc29sdmUsIHJlamVjdCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ2ICYmIHJ2LnRoZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnYudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcC5maW5hbGx5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl91bmxvY2soKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHAuX2xpYiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gZm4ocmVzb2x2ZSwgcmVqZWN0LCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydiAmJiBydi50aGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgcnYudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHAuX2xpYiA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5fcm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50Ll9yb290KCkgOiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUud2FpdEZvciA9IGZ1bmN0aW9uIChwcm9taXNlTGlrZSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSB0aGlzLl9yb290KCk7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IERleGllUHJvbWlzZS5yZXNvbHZlKHByb21pc2VMaWtlKTtcbiAgICAgICAgICAgIGlmIChyb290Ll93YWl0aW5nRm9yKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IHJvb3QuX3dhaXRpbmdGb3IudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9taXNlOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdGb3IgPSBwcm9taXNlO1xuICAgICAgICAgICAgICAgIHJvb3QuX3dhaXRpbmdRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHJvb3QuaWRidHJhbnMub2JqZWN0U3RvcmUocm9vdC5zdG9yZU5hbWVzWzBdKTtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gc3BpbigpIHtcbiAgICAgICAgICAgICAgICAgICAgKytyb290Ll9zcGluQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyb290Ll93YWl0aW5nUXVldWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKHJvb3QuX3dhaXRpbmdRdWV1ZS5zaGlmdCgpKSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdC5fd2FpdGluZ0ZvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmdldCgtSW5maW5pdHkpLm9uc3VjY2VzcyA9IHNwaW47XG4gICAgICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50V2FpdFByb21pc2UgPSByb290Ll93YWl0aW5nRm9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByb290Ll93YWl0aW5nUXVldWUucHVzaCh3cmFwKHJlc29sdmUuYmluZChudWxsLCByZXMpKSk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJvb3QuX3dhaXRpbmdRdWV1ZS5wdXNoKHdyYXAocmVqZWN0LmJpbmQobnVsbCwgZXJyKSkpOyB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3QuX3dhaXRpbmdGb3IgPT09IGN1cnJlbnRXYWl0UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkYnRyYW5zKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkYnRyYW5zLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG5ldyBleGNlcHRpb25zLkFib3J0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICB2YXIgbWVtb2l6ZWRUYWJsZXMgPSAodGhpcy5fbWVtb2l6ZWRUYWJsZXMgfHwgKHRoaXMuX21lbW9pemVkVGFibGVzID0ge30pKTtcbiAgICAgICAgICAgIGlmIChoYXNPd24obWVtb2l6ZWRUYWJsZXMsIHRhYmxlTmFtZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9pemVkVGFibGVzW3RhYmxlTmFtZV07XG4gICAgICAgICAgICB2YXIgdGFibGVTY2hlbWEgPSB0aGlzLnNjaGVtYVt0YWJsZU5hbWVdO1xuICAgICAgICAgICAgaWYgKCF0YWJsZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk5vdEZvdW5kKFwiVGFibGUgXCIgKyB0YWJsZU5hbWUgKyBcIiBub3QgcGFydCBvZiB0cmFuc2FjdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbkJvdW5kVGFibGUgPSBuZXcgdGhpcy5kYi5UYWJsZSh0YWJsZU5hbWUsIHRhYmxlU2NoZW1hLCB0aGlzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uQm91bmRUYWJsZS5jb3JlID0gdGhpcy5kYi5jb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICBtZW1vaXplZFRhYmxlc1t0YWJsZU5hbWVdID0gdHJhbnNhY3Rpb25Cb3VuZFRhYmxlO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uQm91bmRUYWJsZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFRyYW5zYWN0aW9uO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbkNvbnN0cnVjdG9yKGRiKSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2xhc3NDb25zdHJ1Y3RvcihUcmFuc2FjdGlvbi5wcm90b3R5cGUsIGZ1bmN0aW9uIFRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBjaHJvbWVUcmFuc2FjdGlvbkR1cmFiaWxpdHksIHBhcmVudCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChtb2RlICE9PSAncmVhZG9ubHknKVxuICAgICAgICAgICAgICAgIHN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHlQcm9wcyA9IChfYSA9IGRic2NoZW1hW3N0b3JlTmFtZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS55UHJvcHM7XG4gICAgICAgICAgICAgICAgICAgIGlmICh5UHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWVzID0gc3RvcmVOYW1lcy5jb25jYXQoeVByb3BzLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcC51cGRhdGVzVGFibGU7IH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgICAgICB0aGlzLnN0b3JlTmFtZXMgPSBzdG9yZU5hbWVzO1xuICAgICAgICAgICAgdGhpcy5zY2hlbWEgPSBkYnNjaGVtYTtcbiAgICAgICAgICAgIHRoaXMuY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5ID0gY2hyb21lVHJhbnNhY3Rpb25EdXJhYmlsaXR5O1xuICAgICAgICAgICAgdGhpcy5pZGJ0cmFucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uID0gRXZlbnRzKHRoaXMsIFwiY29tcGxldGVcIiwgXCJlcnJvclwiLCBcImFib3J0XCIpO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vsb2NrID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2NrZWRGdW5jcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3QgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fd2FpdGluZ0ZvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl93YWl0aW5nUXVldWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fc3BpbkNvdW50ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRpb24gPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbi5jb21wbGV0ZS5maXJlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciB3YXNBY3RpdmUgPSBfdGhpcy5hY3RpdmU7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMub24uZXJyb3IuZmlyZShlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQgP1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXJlbnQuX3JlamVjdChlKSA6XG4gICAgICAgICAgICAgICAgICAgIHdhc0FjdGl2ZSAmJiBfdGhpcy5pZGJ0cmFucyAmJiBfdGhpcy5pZGJ0cmFucy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhTcGVjKG5hbWUsIGtleVBhdGgsIHVuaXF1ZSwgbXVsdGksIGF1dG8sIGNvbXBvdW5kLCBpc1ByaW1LZXksIHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBrZXlQYXRoOiBrZXlQYXRoLFxuICAgICAgICAgICAgdW5pcXVlOiB1bmlxdWUsXG4gICAgICAgICAgICBtdWx0aTogbXVsdGksXG4gICAgICAgICAgICBhdXRvOiBhdXRvLFxuICAgICAgICAgICAgY29tcG91bmQ6IGNvbXBvdW5kLFxuICAgICAgICAgICAgc3JjOiAodW5pcXVlICYmICFpc1ByaW1LZXkgPyAnJicgOiAnJykgKyAobXVsdGkgPyAnKicgOiAnJykgKyAoYXV0byA/IFwiKytcIiA6IFwiXCIpICsgbmFtZUZyb21LZXlQYXRoKGtleVBhdGgpLFxuICAgICAgICAgICAgdHlwZTogdHlwZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBuYW1lRnJvbUtleVBhdGgoa2V5UGF0aCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgIGtleVBhdGggOlxuICAgICAgICAgICAga2V5UGF0aCA/ICgnWycgKyBbXS5qb2luLmNhbGwoa2V5UGF0aCwgJysnKSArICddJykgOiBcIlwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlU2NoZW1hKG5hbWUsIHByaW1LZXksIGluZGV4ZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBwcmltS2V5OiBwcmltS2V5LFxuICAgICAgICAgICAgaW5kZXhlczogaW5kZXhlcyxcbiAgICAgICAgICAgIG1hcHBlZENsYXNzOiBudWxsLFxuICAgICAgICAgICAgaWR4QnlOYW1lOiBhcnJheVRvT2JqZWN0KGluZGV4ZXMsIGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gW2luZGV4Lm5hbWUsIGluZGV4XTsgfSksXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2FmYXJpTXVsdGlTdG9yZUZpeChzdG9yZU5hbWVzKSB7XG4gICAgICAgIHJldHVybiBzdG9yZU5hbWVzLmxlbmd0aCA9PT0gMSA/IHN0b3JlTmFtZXNbMF0gOiBzdG9yZU5hbWVzO1xuICAgIH1cbiAgICB2YXIgZ2V0TWF4S2V5ID0gZnVuY3Rpb24gKElkYktleVJhbmdlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBJZGJLZXlSYW5nZS5vbmx5KFtbXV0pO1xuICAgICAgICAgICAgZ2V0TWF4S2V5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1tdXTsgfTtcbiAgICAgICAgICAgIHJldHVybiBbW11dO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnZXRNYXhLZXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXhTdHJpbmc7IH07XG4gICAgICAgICAgICByZXR1cm4gbWF4U3RyaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldEtleUV4dHJhY3RvcihrZXlQYXRoKSB7XG4gICAgICAgIGlmIChrZXlQYXRoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0U2luZ2xlUGF0aEtleUV4dHJhY3RvcihrZXlQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKTsgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTaW5nbGVQYXRoS2V5RXh0cmFjdG9yKGtleVBhdGgpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0ga2V5UGF0aC5zcGxpdCgnLicpO1xuICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqW2tleVBhdGhdOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIGdldEJ5S2V5UGF0aChvYmosIGtleVBhdGgpOyB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlpZnkoYXJyYXlMaWtlKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGFycmF5TGlrZSk7XG4gICAgfVxuICAgIHZhciBfaWRfY291bnRlciA9IDA7XG4gICAgZnVuY3Rpb24gZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGtleVBhdGggPT0gbnVsbCA/XG4gICAgICAgICAgICBcIjppZFwiIDpcbiAgICAgICAgICAgIHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAga2V5UGF0aCA6XG4gICAgICAgICAgICAgICAgXCJbXCIuY29uY2F0KGtleVBhdGguam9pbignKycpLCBcIl1cIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZURCQ29yZShkYiwgSWRiS2V5UmFuZ2UsIHRtcFRyYW5zKSB7XG4gICAgICAgIGZ1bmN0aW9uIGV4dHJhY3RTY2hlbWEoZGIsIHRyYW5zKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVzID0gYXJyYXlpZnkoZGIub2JqZWN0U3RvcmVOYW1lcyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjaGVtYToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZXM6IHRhYmxlcy5tYXAoZnVuY3Rpb24gKHRhYmxlKSB7IHJldHVybiB0cmFucy5vYmplY3RTdG9yZSh0YWJsZSk7IH0pLm1hcChmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoID0gc3RvcmUua2V5UGF0aCwgYXV0b0luY3JlbWVudCA9IHN0b3JlLmF1dG9JbmNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG91bmQgPSBpc0FycmF5KGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG91dGJvdW5kID0ga2V5UGF0aCA9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4QnlLZXlQYXRoID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0b3JlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGJvdW5kOiBvdXRib3VuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG91bmQ6IGNvbXBvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBrZXlQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiBhdXRvSW5jcmVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RLZXk6IGdldEtleUV4dHJhY3RvcihrZXlQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlczogYXJyYXlpZnkoc3RvcmUuaW5kZXhOYW1lcykubWFwKGZ1bmN0aW9uIChpbmRleE5hbWUpIHsgcmV0dXJuIHN0b3JlLmluZGV4KGluZGV4TmFtZSk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW5kZXgubmFtZSwgdW5pcXVlID0gaW5kZXgudW5pcXVlLCBtdWx0aUVudHJ5ID0gaW5kZXgubXVsdGlFbnRyeSwga2V5UGF0aCA9IGluZGV4LmtleVBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb3VuZCA9IGlzQXJyYXkoa2V5UGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG91bmQ6IGNvbXBvdW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aDoga2V5UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogdW5pcXVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlFbnRyeTogbXVsdGlFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RLZXk6IGdldEtleUV4dHJhY3RvcihrZXlQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEJ5S2V5UGF0aFtnZXRLZXlQYXRoQWxpYXMoa2V5UGF0aCldID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEluZGV4QnlLZXlQYXRoOiBmdW5jdGlvbiAoa2V5UGF0aCkgeyByZXR1cm4gaW5kZXhCeUtleVBhdGhbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4QnlLZXlQYXRoW1wiOmlkXCJdID0gcmVzdWx0LnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhCeUtleVBhdGhbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXSA9IHJlc3VsdC5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhc0dldEFsbDogdGFibGVzLmxlbmd0aCA+IDAgJiYgKCdnZXRBbGwnIGluIHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlc1swXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICEodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIS8oQ2hyb21lXFwvfEVkZ2VcXC8pLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBbXS5jb25jYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpXFwvKFxcZCopLykpWzFdIDwgNjA0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlSURCS2V5UmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS50eXBlID09PSAzIClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmIChyYW5nZS50eXBlID09PSA0IClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29udmVydCBuZXZlciB0eXBlIHRvIElEQktleVJhbmdlXCIpO1xuICAgICAgICAgICAgdmFyIGxvd2VyID0gcmFuZ2UubG93ZXIsIHVwcGVyID0gcmFuZ2UudXBwZXIsIGxvd2VyT3BlbiA9IHJhbmdlLmxvd2VyT3BlbiwgdXBwZXJPcGVuID0gcmFuZ2UudXBwZXJPcGVuO1xuICAgICAgICAgICAgdmFyIGlkYlJhbmdlID0gbG93ZXIgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgdXBwZXIgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIG51bGwgOlxuICAgICAgICAgICAgICAgICAgICBJZGJLZXlSYW5nZS51cHBlckJvdW5kKHVwcGVyLCAhIXVwcGVyT3BlbikgOlxuICAgICAgICAgICAgICAgIHVwcGVyID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBJZGJLZXlSYW5nZS5sb3dlckJvdW5kKGxvd2VyLCAhIWxvd2VyT3BlbikgOlxuICAgICAgICAgICAgICAgICAgICBJZGJLZXlSYW5nZS5ib3VuZChsb3dlciwgdXBwZXIsICEhbG93ZXJPcGVuLCAhIXVwcGVyT3Blbik7XG4gICAgICAgICAgICByZXR1cm4gaWRiUmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGJDb3JlVGFibGUodGFibGVTY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciB0YWJsZU5hbWUgPSB0YWJsZVNjaGVtYS5uYW1lO1xuICAgICAgICAgICAgZnVuY3Rpb24gbXV0YXRlKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gX2EudHJhbnMsIHR5cGUgPSBfYS50eXBlLCBrZXlzID0gX2Eua2V5cywgdmFsdWVzID0gX2EudmFsdWVzLCByYW5nZSA9IF9hLnJhbmdlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Ym91bmQgPSBzdG9yZS5rZXlQYXRoID09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0FkZE9yUHV0ID0gdHlwZSA9PT0gXCJwdXRcIiB8fCB0eXBlID09PSBcImFkZFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWRkT3JQdXQgJiYgdHlwZSAhPT0gJ2RlbGV0ZScgJiYgdHlwZSAhPT0gJ2RlbGV0ZVJhbmdlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3BlcmF0aW9uIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSAoa2V5cyB8fCB2YWx1ZXMgfHwgeyBsZW5ndGg6IDEgfSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cyAmJiB2YWx1ZXMgJiYga2V5cy5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdpdmVuIGtleXMgYXJyYXkgbXVzdCBoYXZlIHNhbWUgbGVuZ3RoIGFzIGdpdmVuIHZhbHVlcyBhcnJheS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgbnVtRmFpbHVyZXM6IDAsIGZhaWx1cmVzOiB7fSwgcmVzdWx0czogW10sIGxhc3RSZXN1bHQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1GYWlsdXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICsrbnVtRmFpbHVyZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZGVsZXRlUmFuZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UudHlwZSA9PT0gNCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoeyBudW1GYWlsdXJlczogbnVtRmFpbHVyZXMsIGZhaWx1cmVzOiBmYWlsdXJlcywgcmVzdWx0czogW10sIGxhc3RSZXN1bHQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS50eXBlID09PSAzIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFzLnB1c2gocmVxID0gc3RvcmUuY2xlYXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxcy5wdXNoKHJlcSA9IHN0b3JlLmRlbGV0ZShtYWtlSURCS2V5UmFuZ2UocmFuZ2UpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBpc0FkZE9yUHV0ID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRib3VuZCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt2YWx1ZXMsIGtleXNdIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlcywgbnVsbF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtrZXlzLCBudWxsXSwgYXJnczEgPSBfYVswXSwgYXJnczIgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FkZE9yUHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFzLnB1c2gocmVxID0gKGFyZ3MyICYmIGFyZ3MyW2ldICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVbdHlwZV0oYXJnczFbaV0sIGFyZ3MyW2ldKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVt0eXBlXShhcmdzMVtpXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFzLnB1c2gocmVxID0gc3RvcmVbdHlwZV0oYXJnczFbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFJlc3VsdCA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXFzLmZvckVhY2goZnVuY3Rpb24gKHJlcSwgaSkgeyByZXR1cm4gcmVxLmVycm9yICE9IG51bGwgJiYgKGZhaWx1cmVzW2ldID0gcmVxLmVycm9yKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1GYWlsdXJlczogbnVtRmFpbHVyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZXM6IGZhaWx1cmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHM6IHR5cGUgPT09IFwiZGVsZXRlXCIgPyBrZXlzIDogcmVxcy5tYXAoZnVuY3Rpb24gKHJlcSkgeyByZXR1cm4gcmVxLnJlc3VsdDsgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJlc3VsdDogbGFzdFJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBkb25lO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb3BlbkN1cnNvcihfYSkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IF9hLnRyYW5zLCB2YWx1ZXMgPSBfYS52YWx1ZXMsIHF1ZXJ5ID0gX2EucXVlcnksIHJldmVyc2UgPSBfYS5yZXZlcnNlLCB1bmlxdWUgPSBfYS51bmlxdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHdyYXAocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHF1ZXJ5LmluZGV4LCByYW5nZSA9IHF1ZXJ5LnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gaW5kZXguaXNQcmltYXJ5S2V5ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmluZGV4KGluZGV4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gcmV2ZXJzZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJldnVuaXF1ZVwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByZXZcIiA6XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmV4dHVuaXF1ZVwiIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5leHRcIjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHZhbHVlcyB8fCAhKCdvcGVuS2V5Q3Vyc29yJyBpbiBzb3VyY2UpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuQ3Vyc29yKG1ha2VJREJLZXlSYW5nZShyYW5nZSksIGRpcmVjdGlvbikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLm9wZW5LZXlDdXJzb3IobWFrZUlEQktleVJhbmdlKHJhbmdlKSwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuX19faWQgPSArK19pZF9jb3VudGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY3Vyc29yQ29udGludWUgPSBjdXJzb3IuY29udGludWUuYmluZChjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkgPSBjdXJzb3IuY29udGludWVQcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N1cnNvckNvbnRpbnVlUHJpbWFyeUtleSA9IF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXkuYmluZChjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jdXJzb3JBZHZhbmNlID0gY3Vyc29yLmFkdmFuY2UuYmluZChjdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvVGhyb3dDdXJzb3JJc05vdFN0YXJ0ZWQgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcihcIkN1cnNvciBub3Qgc3RhcnRlZFwiKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb1Rocm93Q3Vyc29ySXNTdG9wcGVkID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDdXJzb3Igbm90IHN0b3BwZWRcIik7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IudHJhbnMgPSB0cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdG9wID0gY3Vyc29yLmNvbnRpbnVlID0gY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleSA9IGN1cnNvci5hZHZhbmNlID0gZG9UaHJvd0N1cnNvcklzTm90U3RhcnRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5mYWlsID0gd3JhcChyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ290T25lID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydChmdW5jdGlvbiAoKSB7IHJldHVybiBnb3RPbmUtLSA/IF90aGlzLmNvbnRpbnVlKCkgOiBfdGhpcy5zdG9wKCk7IH0pLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXM7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdGFydCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVyYXRpb25Qcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmVJdGVyYXRpb24sIHJlamVjdEl0ZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlSXRlcmF0aW9uID0gd3JhcChyZXNvbHZlSXRlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0SXRlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmZhaWwgPSByZWplY3RJdGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdG9wID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RvcCA9IGN1cnNvci5jb250aW51ZSA9IGN1cnNvci5jb250aW51ZVByaW1hcnlLZXkgPSBjdXJzb3IuYWR2YW5jZSA9IGRvVGhyb3dDdXJzb3JJc1N0b3BwZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlSXRlcmF0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3VhcmRlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5mYWlsKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3Iuc3RhcnQgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcihcIkN1cnNvciBiZWhpbmQgbGFzdCBlbnRyeVwiKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZ3VhcmRlZENhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUgPSBfY3Vyc29yQ29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleSA9IF9jdXJzb3JDb250aW51ZVByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmFkdmFuY2UgPSBfY3Vyc29yQWR2YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyZGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0aW9uUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBxdWVyeShoYXNHZXRBbGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSB3cmFwKHJlc29sdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gcmVxdWVzdC50cmFucywgdmFsdWVzID0gcmVxdWVzdC52YWx1ZXMsIGxpbWl0ID0gcmVxdWVzdC5saW1pdCwgcXVlcnkgPSByZXF1ZXN0LnF1ZXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vbkluZmluaXRMaW1pdCA9IGxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IGxpbWl0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcXVlcnkuaW5kZXgsIHJhbmdlID0gcXVlcnkucmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGluZGV4LmlzUHJpbWFyeUtleSA/IHN0b3JlIDogc3RvcmUuaW5kZXgoaW5kZXgubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWRiS2V5UmFuZ2UgPSBtYWtlSURCS2V5UmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbWl0ID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgcmVzdWx0OiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNHZXRBbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gdmFsdWVzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLmdldEFsbChpZGJLZXlSYW5nZSwgbm9uSW5maW5pdExpbWl0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5nZXRBbGxLZXlzKGlkYktleVJhbmdlLCBub25JbmZpbml0TGltaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIHJlc29sdmUoeyByZXN1bHQ6IGV2ZW50LnRhcmdldC5yZXN1bHQgfSk7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudF8xID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxXzEgPSB2YWx1ZXMgfHwgISgnb3BlbktleUN1cnNvcicgaW4gc291cmNlKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuQ3Vyc29yKGlkYktleVJhbmdlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5vcGVuS2V5Q3Vyc29yKGlkYktleVJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0XzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFfMS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcV8xLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHJlc3VsdDogcmVzdWx0XzEgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdF8xLnB1c2godmFsdWVzID8gY3Vyc29yLnZhbHVlIDogY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytjb3VudF8xID09PSBsaW1pdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgcmVzdWx0OiByZXN1bHRfMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXFfMS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRhYmxlTmFtZSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHRhYmxlU2NoZW1hLFxuICAgICAgICAgICAgICAgIG11dGF0ZTogbXV0YXRlLFxuICAgICAgICAgICAgICAgIGdldE1hbnk6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSBfYS50cmFucywga2V5cyA9IF9hLmtleXM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChyZXN1bHRbcmVxLl9wb3NdID0gcmVxLnJlc3VsdCkgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgrK2NhbGxiYWNrQ291bnQgPT09IGtleUNvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9ySGFuZGxlciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSBzdG9yZS5nZXQoa2V5c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5fcG9zID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHN1Y2Nlc3NIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGVycm9ySGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytrZXlDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5Q291bnQgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IF9hLnRyYW5zLCBrZXkgPSBfYS5rZXk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gd3JhcChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkoaGFzR2V0QWxsKSxcbiAgICAgICAgICAgICAgICBvcGVuQ3Vyc29yOiBvcGVuQ3Vyc29yLFxuICAgICAgICAgICAgICAgIGNvdW50OiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gX2EucXVlcnksIHRyYW5zID0gX2EudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHF1ZXJ5LmluZGV4LCByYW5nZSA9IHF1ZXJ5LnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBpbmRleC5pc1ByaW1hcnlLZXkgPyBzdG9yZSA6IHN0b3JlLmluZGV4KGluZGV4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkYktleVJhbmdlID0gbWFrZUlEQktleVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBpZGJLZXlSYW5nZSA/IHNvdXJjZS5jb3VudChpZGJLZXlSYW5nZSkgOiBzb3VyY2UuY291bnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uIChldikgeyByZXR1cm4gcmVzb2x2ZShldi50YXJnZXQucmVzdWx0KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGV4dHJhY3RTY2hlbWEoZGIsIHRtcFRyYW5zKSwgc2NoZW1hID0gX2Euc2NoZW1hLCBoYXNHZXRBbGwgPSBfYS5oYXNHZXRBbGw7XG4gICAgICAgIHZhciB0YWJsZXMgPSBzY2hlbWEudGFibGVzLm1hcChmdW5jdGlvbiAodGFibGVTY2hlbWEpIHsgcmV0dXJuIGNyZWF0ZURiQ29yZVRhYmxlKHRhYmxlU2NoZW1hKTsgfSk7XG4gICAgICAgIHZhciB0YWJsZU1hcCA9IHt9O1xuICAgICAgICB0YWJsZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHsgcmV0dXJuIHRhYmxlTWFwW3RhYmxlLm5hbWVdID0gdGFibGU7IH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgICAgICB0cmFuc2FjdGlvbjogZGIudHJhbnNhY3Rpb24uYmluZChkYiksXG4gICAgICAgICAgICB0YWJsZTogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFibGVNYXBbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRhYmxlICdcIi5jb25jYXQobmFtZSwgXCInIG5vdCBmb3VuZFwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlTWFwW25hbWVdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE1JTl9LRVk6IC1JbmZpbml0eSxcbiAgICAgICAgICAgIE1BWF9LRVk6IGdldE1heEtleShJZGJLZXlSYW5nZSksXG4gICAgICAgICAgICBzY2hlbWE6IHNjaGVtYVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1pZGRsZXdhcmVTdGFjayhzdGFja0ltcGwsIG1pZGRsZXdhcmVzKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlcy5yZWR1Y2UoZnVuY3Rpb24gKGRvd24sIF9hKSB7XG4gICAgICAgICAgICB2YXIgY3JlYXRlID0gX2EuY3JlYXRlO1xuICAgICAgICAgICAgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93biksIGNyZWF0ZShkb3duKSkpO1xuICAgICAgICB9LCBzdGFja0ltcGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVNaWRkbGV3YXJlU3RhY2tzKG1pZGRsZXdhcmVzLCBpZGJkYiwgX2EsIHRtcFRyYW5zKSB7XG4gICAgICAgIHZhciBJREJLZXlSYW5nZSA9IF9hLklEQktleVJhbmdlOyBfYS5pbmRleGVkREI7XG4gICAgICAgIHZhciBkYmNvcmUgPSBjcmVhdGVNaWRkbGV3YXJlU3RhY2soY3JlYXRlREJDb3JlKGlkYmRiLCBJREJLZXlSYW5nZSwgdG1wVHJhbnMpLCBtaWRkbGV3YXJlcy5kYmNvcmUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGJjb3JlOiBkYmNvcmVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVNaWRkbGV3YXJlU3RhY2tzKGRiLCB0bXBUcmFucykge1xuICAgICAgICB2YXIgaWRiZGIgPSB0bXBUcmFucy5kYjtcbiAgICAgICAgdmFyIHN0YWNrcyA9IGNyZWF0ZU1pZGRsZXdhcmVTdGFja3MoZGIuX21pZGRsZXdhcmVzLCBpZGJkYiwgZGIuX2RlcHMsIHRtcFRyYW5zKTtcbiAgICAgICAgZGIuY29yZSA9IHN0YWNrcy5kYmNvcmU7XG4gICAgICAgIGRiLnRhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgdmFyIHRhYmxlTmFtZSA9IHRhYmxlLm5hbWU7XG4gICAgICAgICAgICBpZiAoZGIuY29yZS5zY2hlbWEudGFibGVzLnNvbWUoZnVuY3Rpb24gKHRibCkgeyByZXR1cm4gdGJsLm5hbWUgPT09IHRhYmxlTmFtZTsgfSkpIHtcbiAgICAgICAgICAgICAgICB0YWJsZS5jb3JlID0gZGIuY29yZS50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChkYlt0YWJsZU5hbWVdIGluc3RhbmNlb2YgZGIuVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGJbdGFibGVOYW1lXS5jb3JlID0gdGFibGUuY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEFwaU9uUGxhY2UoZGIsIG9ianMsIHRhYmxlTmFtZXMsIGRic2NoZW1hKSB7XG4gICAgICAgIHRhYmxlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1hID0gZGJzY2hlbWFbdGFibGVOYW1lXTtcbiAgICAgICAgICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BEZXNjID0gZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgdGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BEZXNjIHx8IChcInZhbHVlXCIgaW4gcHJvcERlc2MgJiYgcHJvcERlc2MudmFsdWUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iaiA9PT0gZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlIHx8IG9iaiBpbnN0YW5jZW9mIGRiLlRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKG9iaiwgdGFibGVOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnRhYmxlKHRhYmxlTmFtZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgdGFibGVOYW1lLCB7IHZhbHVlOiB2YWx1ZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialt0YWJsZU5hbWVdID0gbmV3IGRiLlRhYmxlKHRhYmxlTmFtZSwgc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlVGFibGVzQXBpKGRiLCBvYmpzKSB7XG4gICAgICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9ialtrZXldIGluc3RhbmNlb2YgZGIuVGFibGUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvd2VyVmVyc2lvbkZpcnN0KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuX2NmZy52ZXJzaW9uIC0gYi5fY2ZnLnZlcnNpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1blVwZ3JhZGVycyhkYiwgb2xkVmVyc2lvbiwgaWRiVXBncmFkZVRyYW5zLCByZWplY3QpIHtcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYTtcbiAgICAgICAgaWYgKGlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCckbWV0YScpICYmICFnbG9iYWxTY2hlbWEuJG1ldGEpIHtcbiAgICAgICAgICAgIGdsb2JhbFNjaGVtYS4kbWV0YSA9IGNyZWF0ZVRhYmxlU2NoZW1hKFwiJG1ldGFcIiwgcGFyc2VJbmRleFN5bnRheChcIlwiKVswXSwgW10pO1xuICAgICAgICAgICAgZGIuX3N0b3JlTmFtZXMucHVzaCgnJG1ldGEnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnMgPSBkYi5fY3JlYXRlVHJhbnNhY3Rpb24oJ3JlYWR3cml0ZScsIGRiLl9zdG9yZU5hbWVzLCBnbG9iYWxTY2hlbWEpO1xuICAgICAgICB0cmFucy5jcmVhdGUoaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgdHJhbnMuX2NvbXBsZXRpb24uY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgdmFyIHJlamVjdFRyYW5zYWN0aW9uID0gdHJhbnMuX3JlamVjdC5iaW5kKHRyYW5zKTtcbiAgICAgICAgdmFyIHRyYW5zbGVzcyA9IFBTRC50cmFuc2xlc3MgfHwgUFNEO1xuICAgICAgICBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBQU0QudHJhbnMgPSB0cmFucztcbiAgICAgICAgICAgIFBTRC50cmFuc2xlc3MgPSB0cmFuc2xlc3M7XG4gICAgICAgICAgICBpZiAob2xkVmVyc2lvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGtleXMoZ2xvYmFsU2NoZW1hKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGFibGUoaWRiVXBncmFkZVRyYW5zLCB0YWJsZU5hbWUsIGdsb2JhbFNjaGVtYVt0YWJsZU5hbWVdLnByaW1LZXksIGdsb2JhbFNjaGVtYVt0YWJsZU5hbWVdLmluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UuZm9sbG93KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRiLm9uLnBvcHVsYXRlLmZpcmUodHJhbnMpOyB9KS5jYXRjaChyZWplY3RUcmFuc2FjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZU1pZGRsZXdhcmVTdGFja3MoZGIsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEV4aXN0aW5nVmVyc2lvbihkYiwgdHJhbnMsIG9sZFZlcnNpb24pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChvbGRWZXJzaW9uKSB7IHJldHVybiB1cGRhdGVUYWJsZXNBbmRJbmRleGVzKGRiLCBvbGRWZXJzaW9uLCB0cmFucywgaWRiVXBncmFkZVRyYW5zKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlamVjdFRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhdGNoQ3VycmVudFZlcnNpb24oZGIsIGlkYlVwZ3JhZGVUcmFucykge1xuICAgICAgICBjcmVhdGVNaXNzaW5nVGFibGVzKGRiLl9kYlNjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgaWYgKGlkYlVwZ3JhZGVUcmFucy5kYi52ZXJzaW9uICUgMTAgPT09IDAgJiYgIWlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCckbWV0YScpKSB7XG4gICAgICAgICAgICBpZGJVcGdyYWRlVHJhbnMuZGIuY3JlYXRlT2JqZWN0U3RvcmUoJyRtZXRhJykuYWRkKE1hdGguY2VpbCgoaWRiVXBncmFkZVRyYW5zLmRiLnZlcnNpb24gLyAxMCkgLSAxKSwgJ3ZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2xvYmFsU2NoZW1hID0gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGRiLmlkYmRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgZGIuX2RiU2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICB2YXIgZGlmZiA9IGdldFNjaGVtYURpZmYoZ2xvYmFsU2NoZW1hLCBkYi5fZGJTY2hlbWEpO1xuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICh0YWJsZUNoYW5nZSkge1xuICAgICAgICAgICAgaWYgKHRhYmxlQ2hhbmdlLmNoYW5nZS5sZW5ndGggfHwgdGFibGVDaGFuZ2UucmVjcmVhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gcGF0Y2ggaW5kZXhlcyBvZiB0YWJsZSBcIi5jb25jYXQodGFibGVDaGFuZ2UubmFtZSwgXCIgYmVjYXVzZSBpdCBoYXMgY2hhbmdlcyBvbiB0aGUgdHlwZSBvZiBpbmRleCBvciBwcmltYXJ5IGtleS5cIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2b2lkIDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdG9yZSA9IGlkYlVwZ3JhZGVUcmFucy5vYmplY3RTdG9yZSh0YWJsZUNoYW5nZS5uYW1lKTtcbiAgICAgICAgICAgIHRhYmxlQ2hhbmdlLmFkZC5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJEZXhpZSB1cGdyYWRlIHBhdGNoOiBDcmVhdGluZyBtaXNzaW5nIGluZGV4IFwiLmNvbmNhdCh0YWJsZUNoYW5nZS5uYW1lLCBcIi5cIikuY29uY2F0KGlkeC5zcmMpKTtcbiAgICAgICAgICAgICAgICBhZGRJbmRleChzdG9yZSwgaWR4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gZGlmZi5jaGFuZ2U7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVDaGFuZ2UgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEodGFibGVDaGFuZ2UpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZV8xID09PSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZV8xLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV4aXN0aW5nVmVyc2lvbihkYiwgdHJhbnMsIG9sZFZlcnNpb24pIHtcbiAgICAgICAgaWYgKHRyYW5zLnN0b3JlTmFtZXMuaW5jbHVkZXMoJyRtZXRhJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFucy50YWJsZSgnJG1ldGEnKS5nZXQoJ3ZlcnNpb24nKS50aGVuKGZ1bmN0aW9uIChtZXRhVmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXRhVmVyc2lvbiAhPSBudWxsID8gbWV0YVZlcnNpb24gOiBvbGRWZXJzaW9uO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUob2xkVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVGFibGVzQW5kSW5kZXhlcyhkYiwgb2xkVmVyc2lvbiwgdHJhbnMsIGlkYlVwZ3JhZGVUcmFucykge1xuICAgICAgICB2YXIgcXVldWUgPSBbXTtcbiAgICAgICAgdmFyIHZlcnNpb25zID0gZGIuX3ZlcnNpb25zO1xuICAgICAgICB2YXIgZ2xvYmFsU2NoZW1hID0gZGIuX2RiU2NoZW1hID0gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGRiLmlkYmRiLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICB2YXIgdmVyc1RvUnVuID0gdmVyc2lvbnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Ll9jZmcudmVyc2lvbiA+PSBvbGRWZXJzaW9uOyB9KTtcbiAgICAgICAgaWYgKHZlcnNUb1J1bi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZlcnNUb1J1bi5mb3JFYWNoKGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkU2NoZW1hID0gZ2xvYmFsU2NoZW1hO1xuICAgICAgICAgICAgICAgIHZhciBuZXdTY2hlbWEgPSB2ZXJzaW9uLl9jZmcuZGJzY2hlbWE7XG4gICAgICAgICAgICAgICAgYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoZGIsIG9sZFNjaGVtYSwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgbmV3U2NoZW1hLCBpZGJVcGdyYWRlVHJhbnMpO1xuICAgICAgICAgICAgICAgIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYSA9IG5ld1NjaGVtYTtcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IGdldFNjaGVtYURpZmYob2xkU2NoZW1hLCBuZXdTY2hlbWEpO1xuICAgICAgICAgICAgICAgIGRpZmYuYWRkLmZvckVhY2goZnVuY3Rpb24gKHR1cGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRhYmxlKGlkYlVwZ3JhZGVUcmFucywgdHVwbGVbMF0sIHR1cGxlWzFdLnByaW1LZXksIHR1cGxlWzFdLmluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRpZmYuY2hhbmdlLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlLnJlY3JlYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5VcGdyYWRlKFwiTm90IHlldCBzdXBwb3J0IGZvciBjaGFuZ2luZyBwcmltYXJ5IGtleVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZV8xID0gaWRiVXBncmFkZVRyYW5zLm9iamVjdFN0b3JlKGNoYW5nZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5hZGQuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7IHJldHVybiBhZGRJbmRleChzdG9yZV8xLCBpZHgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVfMS5kZWxldGVJbmRleChpZHgubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkSW5kZXgoc3RvcmVfMSwgaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmRlbC5mb3JFYWNoKGZ1bmN0aW9uIChpZHhOYW1lKSB7IHJldHVybiBzdG9yZV8xLmRlbGV0ZUluZGV4KGlkeE5hbWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50VXBncmFkZSA9IHZlcnNpb24uX2NmZy5jb250ZW50VXBncmFkZTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudFVwZ3JhZGUgJiYgdmVyc2lvbi5fY2ZnLnZlcnNpb24gPiBvbGRWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgaWRiVXBncmFkZVRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuX21lbW9pemVkVGFibGVzID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGdyYWRlU2NoZW1hXzEgPSBzaGFsbG93Q2xvbmUobmV3U2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgZGlmZi5kZWwuZm9yRWFjaChmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVTY2hlbWFfMVt0YWJsZV0gPSBvbGRTY2hlbWFbdGFibGVdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGFibGVzQXBpKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSk7XG4gICAgICAgICAgICAgICAgICAgIHNldEFwaU9uUGxhY2UoZGIsIFtkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdLCBrZXlzKHVwZ3JhZGVTY2hlbWFfMSksIHVwZ3JhZGVTY2hlbWFfMSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLnNjaGVtYSA9IHVwZ3JhZGVTY2hlbWFfMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRVcGdyYWRlSXNBc3luY18xID0gaXNBc3luY0Z1bmN0aW9uKGNvbnRlbnRVcGdyYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRVcGdyYWRlSXNBc3luY18xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZV8xO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZUZvbGxvd2VkID0gRGV4aWVQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZV8xID0gY29udGVudFVwZ3JhZGUodHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFVwZ3JhZGVJc0FzeW5jXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY3JlbWVudG9yID0gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMuYmluZChudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWVfMS50aGVuKGRlY3JlbWVudG9yLCBkZWNyZW1lbnRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChyZXR1cm5WYWx1ZV8xICYmIHR5cGVvZiByZXR1cm5WYWx1ZV8xLnRoZW4gPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUocmV0dXJuVmFsdWVfMSkgOiBwcm9taXNlRm9sbG93ZWQudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXR1cm5WYWx1ZV8xOyB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uIChpZGJ0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBuZXdTY2hlbWEgPSB2ZXJzaW9uLl9jZmcuZGJzY2hlbWE7XG4gICAgICAgICAgICAgICAgZGVsZXRlUmVtb3ZlZFRhYmxlcyhuZXdTY2hlbWEsIGlkYnRyYW5zKTtcbiAgICAgICAgICAgICAgICByZW1vdmVUYWJsZXNBcGkoZGIsIFtkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdKTtcbiAgICAgICAgICAgICAgICBzZXRBcGlPblBsYWNlKGRiLCBbZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlXSwgZGIuX3N0b3JlTmFtZXMsIGRiLl9kYlNjaGVtYSk7XG4gICAgICAgICAgICAgICAgdHJhbnMuc2NoZW1hID0gZGIuX2RiU2NoZW1hO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGZ1bmN0aW9uIChpZGJ0cmFucykge1xuICAgICAgICAgICAgICAgIGlmIChkYi5pZGJkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCckbWV0YScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmNlaWwoZGIuaWRiZGIudmVyc2lvbiAvIDEwKSA9PT0gdmVyc2lvbi5fY2ZnLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmlkYmRiLmRlbGV0ZU9iamVjdFN0b3JlKCckbWV0YScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRiLl9kYlNjaGVtYS4kbWV0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLl9zdG9yZU5hbWVzID0gZGIuX3N0b3JlTmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBuYW1lICE9PSAnJG1ldGEnOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLm9iamVjdFN0b3JlKCckbWV0YScpLnB1dCh2ZXJzaW9uLl9jZmcudmVyc2lvbiwgJ3ZlcnNpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZnVuY3Rpb24gcnVuUXVldWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVldWUubGVuZ3RoID8gRGV4aWVQcm9taXNlLnJlc29sdmUocXVldWUuc2hpZnQoKSh0cmFucy5pZGJ0cmFucykpLnRoZW4ocnVuUXVldWUpIDpcbiAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5RdWV1ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3JlYXRlTWlzc2luZ1RhYmxlcyhnbG9iYWxTY2hlbWEsIGlkYlVwZ3JhZGVUcmFucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTY2hlbWFEaWZmKG9sZFNjaGVtYSwgbmV3U2NoZW1hKSB7XG4gICAgICAgIHZhciBkaWZmID0ge1xuICAgICAgICAgICAgZGVsOiBbXSxcbiAgICAgICAgICAgIGFkZDogW10sXG4gICAgICAgICAgICBjaGFuZ2U6IFtdXG4gICAgICAgIH07XG4gICAgICAgIHZhciB0YWJsZTtcbiAgICAgICAgZm9yICh0YWJsZSBpbiBvbGRTY2hlbWEpIHtcbiAgICAgICAgICAgIGlmICghbmV3U2NoZW1hW3RhYmxlXSlcbiAgICAgICAgICAgICAgICBkaWZmLmRlbC5wdXNoKHRhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHRhYmxlIGluIG5ld1NjaGVtYSkge1xuICAgICAgICAgICAgdmFyIG9sZERlZiA9IG9sZFNjaGVtYVt0YWJsZV0sIG5ld0RlZiA9IG5ld1NjaGVtYVt0YWJsZV07XG4gICAgICAgICAgICBpZiAoIW9sZERlZikge1xuICAgICAgICAgICAgICAgIGRpZmYuYWRkLnB1c2goW3RhYmxlLCBuZXdEZWZdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICBkZWY6IG5ld0RlZixcbiAgICAgICAgICAgICAgICAgICAgcmVjcmVhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkZWw6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhZGQ6IFtdLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IFtdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoKFxuICAgICAgICAgICAgICAgICcnICsgKG9sZERlZi5wcmltS2V5LmtleVBhdGggfHwgJycpKSAhPT0gKCcnICsgKG5ld0RlZi5wcmltS2V5LmtleVBhdGggfHwgJycpKSB8fFxuICAgICAgICAgICAgICAgICAgICAob2xkRGVmLnByaW1LZXkuYXV0byAhPT0gbmV3RGVmLnByaW1LZXkuYXV0bykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlLnJlY3JlYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGlmZi5jaGFuZ2UucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZEluZGV4ZXMgPSBvbGREZWYuaWR4QnlOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SW5kZXhlcyA9IG5ld0RlZi5pZHhCeU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZHhOYW1lID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGlkeE5hbWUgaW4gb2xkSW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdJbmRleGVzW2lkeE5hbWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5kZWwucHVzaChpZHhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGlkeE5hbWUgaW4gbmV3SW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZElkeCA9IG9sZEluZGV4ZXNbaWR4TmFtZV0sIG5ld0lkeCA9IG5ld0luZGV4ZXNbaWR4TmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9sZElkeClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuYWRkLnB1c2gobmV3SWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZElkeC5zcmMgIT09IG5ld0lkeC5zcmMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmNoYW5nZS5wdXNoKG5ld0lkeCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS5kZWwubGVuZ3RoID4gMCB8fCBjaGFuZ2UuYWRkLmxlbmd0aCA+IDAgfHwgY2hhbmdlLmNoYW5nZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmLmNoYW5nZS5wdXNoKGNoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlKGlkYnRyYW5zLCB0YWJsZU5hbWUsIHByaW1LZXksIGluZGV4ZXMpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gaWRidHJhbnMuZGIuY3JlYXRlT2JqZWN0U3RvcmUodGFibGVOYW1lLCBwcmltS2V5LmtleVBhdGggP1xuICAgICAgICAgICAgeyBrZXlQYXRoOiBwcmltS2V5LmtleVBhdGgsIGF1dG9JbmNyZW1lbnQ6IHByaW1LZXkuYXV0byB9IDpcbiAgICAgICAgICAgIHsgYXV0b0luY3JlbWVudDogcHJpbUtleS5hdXRvIH0pO1xuICAgICAgICBpbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gYWRkSW5kZXgoc3RvcmUsIGlkeCk7IH0pO1xuICAgICAgICByZXR1cm4gc3RvcmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1pc3NpbmdUYWJsZXMobmV3U2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICBrZXlzKG5ld1NjaGVtYSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnModGFibGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRGV4aWU6IENyZWF0aW5nIG1pc3NpbmcgdGFibGUnLCB0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGNyZWF0ZVRhYmxlKGlkYnRyYW5zLCB0YWJsZU5hbWUsIG5ld1NjaGVtYVt0YWJsZU5hbWVdLnByaW1LZXksIG5ld1NjaGVtYVt0YWJsZU5hbWVdLmluZGV4ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlUmVtb3ZlZFRhYmxlcyhuZXdTY2hlbWEsIGlkYnRyYW5zKSB7XG4gICAgICAgIFtdLnNsaWNlLmNhbGwoaWRidHJhbnMuZGIub2JqZWN0U3RvcmVOYW1lcykuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3U2NoZW1hW3N0b3JlTmFtZV0gPT0gbnVsbCAmJiBpZGJ0cmFucy5kYi5kZWxldGVPYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkSW5kZXgoc3RvcmUsIGlkeCkge1xuICAgICAgICBzdG9yZS5jcmVhdGVJbmRleChpZHgubmFtZSwgaWR4LmtleVBhdGgsIHsgdW5pcXVlOiBpZHgudW5pcXVlLCBtdWx0aUVudHJ5OiBpZHgubXVsdGkgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBpZGJkYiwgdG1wVHJhbnMpIHtcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IHt9O1xuICAgICAgICB2YXIgZGJTdG9yZU5hbWVzID0gc2xpY2UoaWRiZGIub2JqZWN0U3RvcmVOYW1lcywgMCk7XG4gICAgICAgIGRiU3RvcmVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IHRtcFRyYW5zLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgICB2YXIga2V5UGF0aCA9IHN0b3JlLmtleVBhdGg7XG4gICAgICAgICAgICB2YXIgcHJpbUtleSA9IGNyZWF0ZUluZGV4U3BlYyhuYW1lRnJvbUtleVBhdGgoa2V5UGF0aCksIGtleVBhdGggfHwgXCJcIiwgdHJ1ZSwgZmFsc2UsICEhc3RvcmUuYXV0b0luY3JlbWVudCwga2V5UGF0aCAmJiB0eXBlb2Yga2V5UGF0aCAhPT0gXCJzdHJpbmdcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdG9yZS5pbmRleE5hbWVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkYmluZGV4ID0gc3RvcmUuaW5kZXgoc3RvcmUuaW5kZXhOYW1lc1tqXSk7XG4gICAgICAgICAgICAgICAga2V5UGF0aCA9IGlkYmluZGV4LmtleVBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gY3JlYXRlSW5kZXhTcGVjKGlkYmluZGV4Lm5hbWUsIGtleVBhdGgsICEhaWRiaW5kZXgudW5pcXVlLCAhIWlkYmluZGV4Lm11bHRpRW50cnksIGZhbHNlLCBrZXlQYXRoICYmIHR5cGVvZiBrZXlQYXRoICE9PSBcInN0cmluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsb2JhbFNjaGVtYVtzdG9yZU5hbWVdID0gY3JlYXRlVGFibGVTY2hlbWEoc3RvcmVOYW1lLCBwcmltS2V5LCBpbmRleGVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBnbG9iYWxTY2hlbWE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRHbG9iYWxTY2hlbWEoZGIsIGlkYmRiLCB0bXBUcmFucykge1xuICAgICAgICBkYi52ZXJubyA9IGlkYmRiLnZlcnNpb24gLyAxMDtcbiAgICAgICAgdmFyIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYSA9IGJ1aWxkR2xvYmFsU2NoZW1hKGRiLCBpZGJkYiwgdG1wVHJhbnMpO1xuICAgICAgICBkYi5fc3RvcmVOYW1lcyA9IHNsaWNlKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMsIDApO1xuICAgICAgICBzZXRBcGlPblBsYWNlKGRiLCBbZGIuX2FsbFRhYmxlc10sIGtleXMoZ2xvYmFsU2NoZW1hKSwgZ2xvYmFsU2NoZW1hKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmVyaWZ5SW5zdGFsbGVkU2NoZW1hKGRiLCB0bXBUcmFucykge1xuICAgICAgICB2YXIgaW5zdGFsbGVkU2NoZW1hID0gYnVpbGRHbG9iYWxTY2hlbWEoZGIsIGRiLmlkYmRiLCB0bXBUcmFucyk7XG4gICAgICAgIHZhciBkaWZmID0gZ2V0U2NoZW1hRGlmZihpbnN0YWxsZWRTY2hlbWEsIGRiLl9kYlNjaGVtYSk7XG4gICAgICAgIHJldHVybiAhKGRpZmYuYWRkLmxlbmd0aCB8fCBkaWZmLmNoYW5nZS5zb21lKGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gY2guYWRkLmxlbmd0aCB8fCBjaC5jaGFuZ2UubGVuZ3RoOyB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkanVzdFRvRXhpc3RpbmdJbmRleE5hbWVzKGRiLCBzY2hlbWEsIGlkYnRyYW5zKSB7XG4gICAgICAgIHZhciBzdG9yZU5hbWVzID0gaWRidHJhbnMuZGIub2JqZWN0U3RvcmVOYW1lcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdG9yZU5hbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgc3RvcmVOYW1lID0gc3RvcmVOYW1lc1tpXTtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IGlkYnRyYW5zLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgICBkYi5faGFzR2V0QWxsID0gJ2dldEFsbCcgaW4gc3RvcmU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0b3JlLmluZGV4TmFtZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhOYW1lID0gc3RvcmUuaW5kZXhOYW1lc1tqXTtcbiAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IHN0b3JlLmluZGV4KGluZGV4TmFtZSkua2V5UGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgZGV4aWVOYW1lID0gdHlwZW9mIGtleVBhdGggPT09ICdzdHJpbmcnID8ga2V5UGF0aCA6IFwiW1wiICsgc2xpY2Uoa2V5UGF0aCkuam9pbignKycpICsgXCJdXCI7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVtYVtzdG9yZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleFNwZWMgPSBzY2hlbWFbc3RvcmVOYW1lXS5pZHhCeU5hbWVbZGV4aWVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4U3BlYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhTcGVjLm5hbWUgPSBpbmRleE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hW3N0b3JlTmFtZV0uaWR4QnlOYW1lW2RleGllTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFbc3RvcmVOYW1lXS5pZHhCeU5hbWVbaW5kZXhOYW1lXSA9IGluZGV4U3BlYztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgIS8oQ2hyb21lXFwvfEVkZ2VcXC8pLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICBfZ2xvYmFsLldvcmtlckdsb2JhbFNjb3BlICYmIF9nbG9iYWwgaW5zdGFuY2VvZiBfZ2xvYmFsLldvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgICAgICAgICBbXS5jb25jYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpXFwvKFxcZCopLykpWzFdIDwgNjA0KSB7XG4gICAgICAgICAgICBkYi5faGFzR2V0QWxsID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VJbmRleFN5bnRheChwcmltS2V5QW5kSW5kZXhlcykge1xuICAgICAgICByZXR1cm4gcHJpbUtleUFuZEluZGV4ZXMuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKGluZGV4LCBpbmRleE51bSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIHR5cGVTcGxpdCA9IGluZGV4LnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IChfYSA9IHR5cGVTcGxpdFsxXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRyaW0oKTtcbiAgICAgICAgICAgIGluZGV4ID0gdHlwZVNwbGl0WzBdLnRyaW0oKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gaW5kZXgucmVwbGFjZSgvKFsmKl18XFwrXFwrKS9nLCBcIlwiKTtcbiAgICAgICAgICAgIHZhciBrZXlQYXRoID0gL15cXFsvLnRlc3QobmFtZSkgPyBuYW1lLm1hdGNoKC9eXFxbKC4qKVxcXSQvKVsxXS5zcGxpdCgnKycpIDogbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbmRleFNwZWMobmFtZSwga2V5UGF0aCB8fCBudWxsLCAvXFwmLy50ZXN0KGluZGV4KSwgL1xcKi8udGVzdChpbmRleCksIC9cXCtcXCsvLnRlc3QoaW5kZXgpLCBpc0FycmF5KGtleVBhdGgpLCBpbmRleE51bSA9PT0gMCwgdHlwZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBWZXJzaW9uID0gIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFZlcnNpb24oKSB7XG4gICAgICAgIH1cbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUuX2NyZWF0ZVRhYmxlU2NoZW1hID0gZnVuY3Rpb24gKG5hbWUsIHByaW1LZXksIGluZGV4ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUYWJsZVNjaGVtYShuYW1lLCBwcmltS2V5LCBpbmRleGVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUuX3BhcnNlSW5kZXhTeW50YXggPSBmdW5jdGlvbiAocHJpbUtleUFuZEluZGV4ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUluZGV4U3ludGF4KHByaW1LZXlBbmRJbmRleGVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUuX3BhcnNlU3RvcmVzU3BlYyA9IGZ1bmN0aW9uIChzdG9yZXMsIG91dFNjaGVtYSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGtleXMoc3RvcmVzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcmVzW3RhYmxlTmFtZV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSBfdGhpcy5fcGFyc2VJbmRleFN5bnRheChzdG9yZXNbdGFibGVOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltS2V5ID0gaW5kZXhlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByaW1LZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYSgnSW52YWxpZCBzY2hlbWEgZm9yIHRhYmxlICcgKyB0YWJsZU5hbWUgKyAnOiAnICsgc3RvcmVzW3RhYmxlTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByaW1LZXkudW5pcXVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1LZXkubXVsdGkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoJ1ByaW1hcnkga2V5IGNhbm5vdCBiZSBtdWx0aUVudHJ5KicpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeC5hdXRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYSgnT25seSBwcmltYXJ5IGtleSBjYW4gYmUgbWFya2VkIGFzIGF1dG9JbmNyZW1lbnQgKCsrKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpZHgua2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5TY2hlbWEoJ0luZGV4IG11c3QgaGF2ZSBhIG5hbWUgYW5kIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YmxTY2hlbWEgPSBfdGhpcy5fY3JlYXRlVGFibGVTY2hlbWEodGFibGVOYW1lLCBwcmltS2V5LCBpbmRleGVzKTtcbiAgICAgICAgICAgICAgICAgICAgb3V0U2NoZW1hW3RhYmxlTmFtZV0gPSB0YmxTY2hlbWE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFZlcnNpb24ucHJvdG90eXBlLnN0b3JlcyA9IGZ1bmN0aW9uIChzdG9yZXMpIHtcbiAgICAgICAgICAgIHZhciBkYiA9IHRoaXMuZGI7XG4gICAgICAgICAgICB0aGlzLl9jZmcuc3RvcmVzU291cmNlID0gdGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZVxuICAgICAgICAgICAgICAgID8gZXh0ZW5kKHRoaXMuX2NmZy5zdG9yZXNTb3VyY2UsIHN0b3JlcylcbiAgICAgICAgICAgICAgICA6IHN0b3JlcztcbiAgICAgICAgICAgIHZhciB2ZXJzaW9ucyA9IGRiLl92ZXJzaW9ucztcbiAgICAgICAgICAgIHZhciBzdG9yZXNTcGVjID0ge307XG4gICAgICAgICAgICB2YXIgZGJzY2hlbWEgPSB7fTtcbiAgICAgICAgICAgIHZlcnNpb25zLmZvckVhY2goZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBleHRlbmQoc3RvcmVzU3BlYywgdmVyc2lvbi5fY2ZnLnN0b3Jlc1NvdXJjZSk7XG4gICAgICAgICAgICAgICAgZGJzY2hlbWEgPSB2ZXJzaW9uLl9jZmcuZGJzY2hlbWEgPSB7fTtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uLl9wYXJzZVN0b3Jlc1NwZWMoc3RvcmVzU3BlYywgZGJzY2hlbWEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkYi5fZGJTY2hlbWEgPSBkYnNjaGVtYTtcbiAgICAgICAgICAgIHJlbW92ZVRhYmxlc0FwaShkYiwgW2RiLl9hbGxUYWJsZXMsIGRiLCBkYi5UcmFuc2FjdGlvbi5wcm90b3R5cGVdKTtcbiAgICAgICAgICAgIHNldEFwaU9uUGxhY2UoZGIsIFtkYi5fYWxsVGFibGVzLCBkYiwgZGIuVHJhbnNhY3Rpb24ucHJvdG90eXBlLCB0aGlzLl9jZmcudGFibGVzXSwga2V5cyhkYnNjaGVtYSksIGRic2NoZW1hKTtcbiAgICAgICAgICAgIGRiLl9zdG9yZU5hbWVzID0ga2V5cyhkYnNjaGVtYSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgVmVyc2lvbi5wcm90b3R5cGUudXBncmFkZSA9IGZ1bmN0aW9uICh1cGdyYWRlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2NmZy5jb250ZW50VXBncmFkZSA9IHByb21pc2FibGVDaGFpbih0aGlzLl9jZmcuY29udGVudFVwZ3JhZGUgfHwgbm9wLCB1cGdyYWRlRnVuY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBWZXJzaW9uO1xuICAgIH0oKSk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVWZXJzaW9uQ29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VDbGFzc0NvbnN0cnVjdG9yKFZlcnNpb24ucHJvdG90eXBlLCBmdW5jdGlvbiBWZXJzaW9uKHZlcnNpb25OdW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgICAgIHRoaXMuX2NmZyA9IHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uTnVtYmVyLFxuICAgICAgICAgICAgICAgIHN0b3Jlc1NvdXJjZTogbnVsbCxcbiAgICAgICAgICAgICAgICBkYnNjaGVtYToge30sXG4gICAgICAgICAgICAgICAgdGFibGVzOiB7fSxcbiAgICAgICAgICAgICAgICBjb250ZW50VXBncmFkZTogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpIHtcbiAgICAgICAgdmFyIGRiTmFtZXNEQiA9IGluZGV4ZWREQltcIl9kYk5hbWVzREJcIl07XG4gICAgICAgIGlmICghZGJOYW1lc0RCKSB7XG4gICAgICAgICAgICBkYk5hbWVzREIgPSBpbmRleGVkREJbXCJfZGJOYW1lc0RCXCJdID0gbmV3IERleGllJDEoREJOQU1FU19EQiwge1xuICAgICAgICAgICAgICAgIGFkZG9uczogW10sXG4gICAgICAgICAgICAgICAgaW5kZXhlZERCOiBpbmRleGVkREIsXG4gICAgICAgICAgICAgICAgSURCS2V5UmFuZ2U6IElEQktleVJhbmdlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkYk5hbWVzREIudmVyc2lvbigxKS5zdG9yZXMoeyBkYm5hbWVzOiBcIm5hbWVcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGJOYW1lc0RCLnRhYmxlKFwiZGJuYW1lc1wiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzRGF0YWJhc2VzTmF0aXZlKGluZGV4ZWREQikge1xuICAgICAgICByZXR1cm4gaW5kZXhlZERCICYmIHR5cGVvZiBpbmRleGVkREIuZGF0YWJhc2VzID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGFiYXNlTmFtZXMoX2EpIHtcbiAgICAgICAgdmFyIGluZGV4ZWREQiA9IF9hLmluZGV4ZWREQiwgSURCS2V5UmFuZ2UgPSBfYS5JREJLZXlSYW5nZTtcbiAgICAgICAgcmV0dXJuIGhhc0RhdGFiYXNlc05hdGl2ZShpbmRleGVkREIpXG4gICAgICAgICAgICA/IFByb21pc2UucmVzb2x2ZShpbmRleGVkREIuZGF0YWJhc2VzKCkpLnRoZW4oZnVuY3Rpb24gKGluZm9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZm9zXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGluZm8ubmFtZTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmFtZSAhPT0gREJOQU1FU19EQjsgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBnZXREYk5hbWVzVGFibGUoaW5kZXhlZERCLCBJREJLZXlSYW5nZSkudG9Db2xsZWN0aW9uKCkucHJpbWFyeUtleXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX29uRGF0YWJhc2VDcmVhdGVkKF9hLCBuYW1lKSB7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBfYS5pbmRleGVkREIsIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7XG4gICAgICAgICFoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gREJOQU1FU19EQiAmJlxuICAgICAgICAgICAgZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpLnB1dCh7IG5hbWU6IG5hbWUgfSkuY2F0Y2gobm9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX29uRGF0YWJhc2VEZWxldGVkKF9hLCBuYW1lKSB7XG4gICAgICAgIHZhciBpbmRleGVkREIgPSBfYS5pbmRleGVkREIsIElEQktleVJhbmdlID0gX2EuSURCS2V5UmFuZ2U7XG4gICAgICAgICFoYXNEYXRhYmFzZXNOYXRpdmUoaW5kZXhlZERCKSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gREJOQU1FU19EQiAmJlxuICAgICAgICAgICAgZ2V0RGJOYW1lc1RhYmxlKGluZGV4ZWREQiwgSURCS2V5UmFuZ2UpLmRlbGV0ZShuYW1lKS5jYXRjaChub3ApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpcChmbikge1xuICAgICAgICByZXR1cm4gbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUFNELmxldFRocm91Z2ggPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlkYlJlYWR5KCkge1xuICAgICAgICB2YXIgaXNTYWZhcmkgPSAhbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEgJiZcbiAgICAgICAgICAgIC9TYWZhcmlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAgICAgICAgICEvQ2hyb20oZXxpdW0pXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICBpZiAoIWlzU2FmYXJpIHx8ICFpbmRleGVkREIuZGF0YWJhc2VzKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB2YXIgaW50ZXJ2YWxJZDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIgdHJ5SWRiID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5kZXhlZERCLmRhdGFiYXNlcygpLmZpbmFsbHkocmVzb2x2ZSk7IH07XG4gICAgICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodHJ5SWRiLCAxMDApO1xuICAgICAgICAgICAgdHJ5SWRiKCk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsgfSk7XG4gICAgfVxuXG4gICAgdmFyIF9hO1xuICAgIGZ1bmN0aW9uIGlzRW1wdHlSYW5nZShub2RlKSB7XG4gICAgICAgIHJldHVybiAhKFwiZnJvbVwiIGluIG5vZGUpO1xuICAgIH1cbiAgICB2YXIgUmFuZ2VTZXQgPSBmdW5jdGlvbiAoZnJvbU9yVHJlZSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMpIHtcbiAgICAgICAgICAgIGV4dGVuZCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID8geyBkOiAxLCBmcm9tOiBmcm9tT3JUcmVlLCB0bzogYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB0byA6IGZyb21PclRyZWUgfSA6IHsgZDogMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBydiA9IG5ldyBSYW5nZVNldCgpO1xuICAgICAgICAgICAgaWYgKGZyb21PclRyZWUgJiYgKFwiZFwiIGluIGZyb21PclRyZWUpKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJ2LCBmcm9tT3JUcmVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvcHMoUmFuZ2VTZXQucHJvdG90eXBlLCAoX2EgPSB7XG4gICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChyYW5nZVNldCkge1xuICAgICAgICAgICAgICAgIG1lcmdlUmFuZ2VzKHRoaXMsIHJhbmdlU2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRLZXk6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBhZGRSYW5nZSh0aGlzLCBrZXksIGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkS2V5czogZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhZGRSYW5nZShfdGhpcywga2V5LCBrZXkpOyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXNLZXk6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGdldFJhbmdlU2V0SXRlcmF0b3IodGhpcykubmV4dChrZXkpLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlICYmIGNtcChub2RlLmZyb20sIGtleSkgPD0gMCAmJiBjbXAobm9kZS50bywga2V5KSA+PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfYVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UmFuZ2VTZXRJdGVyYXRvcih0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2EpKTtcbiAgICBmdW5jdGlvbiBhZGRSYW5nZSh0YXJnZXQsIGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBkaWZmID0gY21wKGZyb20sIHRvKTtcbiAgICAgICAgaWYgKGlzTmFOKGRpZmYpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoZGlmZiA+IDApXG4gICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCk7XG4gICAgICAgIGlmIChpc0VtcHR5UmFuZ2UodGFyZ2V0KSlcbiAgICAgICAgICAgIHJldHVybiBleHRlbmQodGFyZ2V0LCB7IGZyb206IGZyb20sIHRvOiB0bywgZDogMSB9KTtcbiAgICAgICAgdmFyIGxlZnQgPSB0YXJnZXQubDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gdGFyZ2V0LnI7XG4gICAgICAgIGlmIChjbXAodG8sIHRhcmdldC5mcm9tKSA8IDApIHtcbiAgICAgICAgICAgIGxlZnRcbiAgICAgICAgICAgICAgICA/IGFkZFJhbmdlKGxlZnQsIGZyb20sIHRvKVxuICAgICAgICAgICAgICAgIDogKHRhcmdldC5sID0geyBmcm9tOiBmcm9tLCB0bzogdG8sIGQ6IDEsIGw6IG51bGwsIHI6IG51bGwgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmViYWxhbmNlKHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNtcChmcm9tLCB0YXJnZXQudG8pID4gMCkge1xuICAgICAgICAgICAgcmlnaHRcbiAgICAgICAgICAgICAgICA/IGFkZFJhbmdlKHJpZ2h0LCBmcm9tLCB0bylcbiAgICAgICAgICAgICAgICA6ICh0YXJnZXQuciA9IHsgZnJvbTogZnJvbSwgdG86IHRvLCBkOiAxLCBsOiBudWxsLCByOiBudWxsIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlYmFsYW5jZSh0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbXAoZnJvbSwgdGFyZ2V0LmZyb20pIDwgMCkge1xuICAgICAgICAgICAgdGFyZ2V0LmZyb20gPSBmcm9tO1xuICAgICAgICAgICAgdGFyZ2V0LmwgPSBudWxsO1xuICAgICAgICAgICAgdGFyZ2V0LmQgPSByaWdodCA/IHJpZ2h0LmQgKyAxIDogMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY21wKHRvLCB0YXJnZXQudG8pID4gMCkge1xuICAgICAgICAgICAgdGFyZ2V0LnRvID0gdG87XG4gICAgICAgICAgICB0YXJnZXQuciA9IG51bGw7XG4gICAgICAgICAgICB0YXJnZXQuZCA9IHRhcmdldC5sID8gdGFyZ2V0LmwuZCArIDEgOiAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciByaWdodFdhc0N1dE9mZiA9ICF0YXJnZXQucjtcbiAgICAgICAgaWYgKGxlZnQgJiYgIXRhcmdldC5sKSB7XG4gICAgICAgICAgICBtZXJnZVJhbmdlcyh0YXJnZXQsIGxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyaWdodCAmJiByaWdodFdhc0N1dE9mZikge1xuICAgICAgICAgICAgbWVyZ2VSYW5nZXModGFyZ2V0LCByaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VSYW5nZXModGFyZ2V0LCBuZXdTZXQpIHtcbiAgICAgICAgZnVuY3Rpb24gX2FkZFJhbmdlU2V0KHRhcmdldCwgX2EpIHtcbiAgICAgICAgICAgIHZhciBmcm9tID0gX2EuZnJvbSwgdG8gPSBfYS50bywgbCA9IF9hLmwsIHIgPSBfYS5yO1xuICAgICAgICAgICAgYWRkUmFuZ2UodGFyZ2V0LCBmcm9tLCB0byk7XG4gICAgICAgICAgICBpZiAobClcbiAgICAgICAgICAgICAgICBfYWRkUmFuZ2VTZXQodGFyZ2V0LCBsKTtcbiAgICAgICAgICAgIGlmIChyKVxuICAgICAgICAgICAgICAgIF9hZGRSYW5nZVNldCh0YXJnZXQsIHIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbXB0eVJhbmdlKG5ld1NldCkpXG4gICAgICAgICAgICBfYWRkUmFuZ2VTZXQodGFyZ2V0LCBuZXdTZXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByYW5nZXNPdmVybGFwKHJhbmdlU2V0MSwgcmFuZ2VTZXQyKSB7XG4gICAgICAgIHZhciBpMSA9IGdldFJhbmdlU2V0SXRlcmF0b3IocmFuZ2VTZXQyKTtcbiAgICAgICAgdmFyIG5leHRSZXN1bHQxID0gaTEubmV4dCgpO1xuICAgICAgICBpZiAobmV4dFJlc3VsdDEuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIGEgPSBuZXh0UmVzdWx0MS52YWx1ZTtcbiAgICAgICAgdmFyIGkyID0gZ2V0UmFuZ2VTZXRJdGVyYXRvcihyYW5nZVNldDEpO1xuICAgICAgICB2YXIgbmV4dFJlc3VsdDIgPSBpMi5uZXh0KGEuZnJvbSk7XG4gICAgICAgIHZhciBiID0gbmV4dFJlc3VsdDIudmFsdWU7XG4gICAgICAgIHdoaWxlICghbmV4dFJlc3VsdDEuZG9uZSAmJiAhbmV4dFJlc3VsdDIuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGNtcChiLmZyb20sIGEudG8pIDw9IDAgJiYgY21wKGIudG8sIGEuZnJvbSkgPj0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNtcChhLmZyb20sIGIuZnJvbSkgPCAwXG4gICAgICAgICAgICAgICAgPyAoYSA9IChuZXh0UmVzdWx0MSA9IGkxLm5leHQoYi5mcm9tKSkudmFsdWUpXG4gICAgICAgICAgICAgICAgOiAoYiA9IChuZXh0UmVzdWx0MiA9IGkyLm5leHQoYS5mcm9tKSkudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmFuZ2VTZXRJdGVyYXRvcihub2RlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGlzRW1wdHlSYW5nZShub2RlKSA/IG51bGwgOiB7IHM6IDAsIG46IG5vZGUgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5UHJvdmlkZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0ZS5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucyA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVByb3ZpZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5uLmwgJiYgY21wKGtleSwgc3RhdGUubi5mcm9tKSA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLmwsIHM6IDEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGF0ZS5uLmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLmwsIHM6IDEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUucyA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXlQcm92aWRlZCB8fCBjbXAoa2V5LCBzdGF0ZS5uLnRvKSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogc3RhdGUubiwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUubi5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLnMgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHsgdXA6IHN0YXRlLCBuOiBzdGF0ZS5uLnIsIHM6IDAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGUudXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmViYWxhbmNlKHRhcmdldCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgZGlmZiA9ICgoKF9hID0gdGFyZ2V0LnIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kKSB8fCAwKSAtICgoKF9iID0gdGFyZ2V0LmwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kKSB8fCAwKTtcbiAgICAgICAgdmFyIHIgPSBkaWZmID4gMSA/IFwiclwiIDogZGlmZiA8IC0xID8gXCJsXCIgOiBcIlwiO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgdmFyIGwgPSByID09PSBcInJcIiA/IFwibFwiIDogXCJyXCI7XG4gICAgICAgICAgICB2YXIgcm9vdENsb25lID0gX19hc3NpZ24oe30sIHRhcmdldCk7XG4gICAgICAgICAgICB2YXIgb2xkUm9vdFJpZ2h0ID0gdGFyZ2V0W3JdO1xuICAgICAgICAgICAgdGFyZ2V0LmZyb20gPSBvbGRSb290UmlnaHQuZnJvbTtcbiAgICAgICAgICAgIHRhcmdldC50byA9IG9sZFJvb3RSaWdodC50bztcbiAgICAgICAgICAgIHRhcmdldFtyXSA9IG9sZFJvb3RSaWdodFtyXTtcbiAgICAgICAgICAgIHJvb3RDbG9uZVtyXSA9IG9sZFJvb3RSaWdodFtsXTtcbiAgICAgICAgICAgIHRhcmdldFtsXSA9IHJvb3RDbG9uZTtcbiAgICAgICAgICAgIHJvb3RDbG9uZS5kID0gY29tcHV0ZURlcHRoKHJvb3RDbG9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmQgPSBjb21wdXRlRGVwdGgodGFyZ2V0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcHV0ZURlcHRoKF9hKSB7XG4gICAgICAgIHZhciByID0gX2EuciwgbCA9IF9hLmw7XG4gICAgICAgIHJldHVybiAociA/IChsID8gTWF0aC5tYXgoci5kLCBsLmQpIDogci5kKSA6IGwgPyBsLmQgOiAwKSArIDE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCh0YXJnZXQsIG5ld1NldCkge1xuICAgICAgICBrZXlzKG5ld1NldCkuZm9yRWFjaChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldFtwYXJ0XSlcbiAgICAgICAgICAgICAgICBtZXJnZVJhbmdlcyh0YXJnZXRbcGFydF0sIG5ld1NldFtwYXJ0XSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFyZ2V0W3BhcnRdID0gY2xvbmVTaW1wbGVPYmplY3RUcmVlKG5ld1NldFtwYXJ0XSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9ic1NldHNPdmVybGFwKG9zMSwgb3MyKSB7XG4gICAgICAgIHJldHVybiBvczEuYWxsIHx8IG9zMi5hbGwgfHwgT2JqZWN0LmtleXMob3MxKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG9zMltrZXldICYmIHJhbmdlc092ZXJsYXAob3MyW2tleV0sIG9zMVtrZXldKTsgfSk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlID0ge307XG5cbiAgICB2YXIgdW5zaWduYWxlZFBhcnRzID0ge307XG4gICAgdmFyIGlzVGFza0VucXVldWVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocGFydCwgb3B0aW1pc3RpYykge1xuICAgICAgICBleHRlbmRPYnNlcnZhYmlsaXR5U2V0KHVuc2lnbmFsZWRQYXJ0cywgcGFydCk7XG4gICAgICAgIGlmICghaXNUYXNrRW5xdWV1ZWQpIHtcbiAgICAgICAgICAgIGlzVGFza0VucXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlzVGFza0VucXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gdW5zaWduYWxlZFBhcnRzO1xuICAgICAgICAgICAgICAgIHVuc2lnbmFsZWRQYXJ0cyA9IHt9O1xuICAgICAgICAgICAgICAgIHNpZ25hbFN1YnNjcmliZXJzTm93KHBhcnRzLCBmYWxzZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzaWduYWxTdWJzY3JpYmVyc05vdyh1cGRhdGVkUGFydHMsIGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgIGlmIChkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyA9PT0gdm9pZCAwKSB7IGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHF1ZXJpZXNUb1NpZ25hbCA9IG5ldyBTZXQoKTtcbiAgICAgICAgaWYgKHVwZGF0ZWRQYXJ0cy5hbGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QudmFsdWVzKGNhY2hlKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgY29sbGVjdFRhYmxlU3Vic2NyaWJlcnModGJsQ2FjaGUsIHVwZGF0ZWRQYXJ0cywgcXVlcmllc1RvU2lnbmFsLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdXBkYXRlZFBhcnRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gL15pZGJcXDpcXC9cXC8oLiopXFwvKC4qKVxcLy8uZXhlYyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGJOYW1lID0gcGFydHNbMV0sIHRhYmxlTmFtZSA9IHBhcnRzWzJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YmxDYWNoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RUYWJsZVN1YnNjcmliZXJzKHRibENhY2hlLCB1cGRhdGVkUGFydHMsIHF1ZXJpZXNUb1NpZ25hbCwgZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWVyaWVzVG9TaWduYWwuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gcmVxdWVyeSgpOyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29sbGVjdFRhYmxlU3Vic2NyaWJlcnModGJsQ2FjaGUsIHVwZGF0ZWRQYXJ0cywgb3V0UXVlcmllc1RvU2lnbmFsLCBkZWxldGVBZmZlY3RlZENhY2hlRW50cmllcykge1xuICAgICAgICB2YXIgdXBkYXRlZEVudHJ5TGlzdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKHRibENhY2hlLnF1ZXJpZXMucXVlcnkpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIF9iID0gX2FbX2ldLCBpbmRleE5hbWUgPSBfYlswXSwgZW50cmllcyA9IF9iWzFdO1xuICAgICAgICAgICAgdmFyIGZpbHRlcmVkRW50cmllcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSAwLCBlbnRyaWVzXzEgPSBlbnRyaWVzOyBfYyA8IGVudHJpZXNfMS5sZW5ndGg7IF9jKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzXzFbX2NdO1xuICAgICAgICAgICAgICAgIGlmIChvYnNTZXRzT3ZlcmxhcCh1cGRhdGVkUGFydHMsIGVudHJ5Lm9ic1NldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gb3V0UXVlcmllc1RvU2lnbmFsLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlbGV0ZUFmZmVjdGVkQ2FjaGVFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpXG4gICAgICAgICAgICAgICAgdXBkYXRlZEVudHJ5TGlzdHMucHVzaChbaW5kZXhOYW1lLCBmaWx0ZXJlZEVudHJpZXNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsZXRlQWZmZWN0ZWRDYWNoZUVudHJpZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9kID0gMCwgdXBkYXRlZEVudHJ5TGlzdHNfMSA9IHVwZGF0ZWRFbnRyeUxpc3RzOyBfZCA8IHVwZGF0ZWRFbnRyeUxpc3RzXzEubGVuZ3RoOyBfZCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9lID0gdXBkYXRlZEVudHJ5TGlzdHNfMVtfZF0sIGluZGV4TmFtZSA9IF9lWzBdLCBmaWx0ZXJlZEVudHJpZXMgPSBfZVsxXTtcbiAgICAgICAgICAgICAgICB0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5W2luZGV4TmFtZV0gPSBmaWx0ZXJlZEVudHJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXhpZU9wZW4oZGIpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZGIuX3N0YXRlO1xuICAgICAgICB2YXIgaW5kZXhlZERCID0gZGIuX2RlcHMuaW5kZXhlZERCO1xuICAgICAgICBpZiAoc3RhdGUuaXNCZWluZ09wZW5lZCB8fCBkYi5pZGJkYilcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRlLmRiT3BlbkVycm9yID9cbiAgICAgICAgICAgICAgICByZWplY3Rpb24oc3RhdGUuZGJPcGVuRXJyb3IpIDpcbiAgICAgICAgICAgICAgICBkYjsgfSk7XG4gICAgICAgIHN0YXRlLmlzQmVpbmdPcGVuZWQgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IG51bGw7XG4gICAgICAgIHN0YXRlLm9wZW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgb3BlbkNhbmNlbGxlciA9IHN0YXRlLm9wZW5DYW5jZWxsZXI7XG4gICAgICAgIHZhciBuYXRpdmVWZXJUb09wZW4gPSBNYXRoLnJvdW5kKGRiLnZlcm5vICogMTApO1xuICAgICAgICB2YXIgc2NoZW1hUGF0Y2hNb2RlID0gZmFsc2U7XG4gICAgICAgIGZ1bmN0aW9uIHRocm93SWZDYW5jZWxsZWQoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUub3BlbkNhbmNlbGxlciAhPT0gb3BlbkNhbmNlbGxlcilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5EYXRhYmFzZUNsb3NlZCgnZGIub3BlbigpIHdhcyBjYW5jZWxsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzb2x2ZURiUmVhZHkgPSBzdGF0ZS5kYlJlYWR5UmVzb2x2ZSxcbiAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uID0gbnVsbCwgd2FzQ3JlYXRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJ5T3BlbkRCID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB0aHJvd0lmQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBpZiAoIWluZGV4ZWREQilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5NaXNzaW5nQVBJKCk7XG4gICAgICAgICAgICB2YXIgZGJOYW1lID0gZGIubmFtZTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdGF0ZS5hdXRvU2NoZW1hIHx8ICFuYXRpdmVWZXJUb09wZW4gP1xuICAgICAgICAgICAgICAgIGluZGV4ZWREQi5vcGVuKGRiTmFtZSkgOlxuICAgICAgICAgICAgICAgIGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgbmF0aXZlVmVyVG9PcGVuKTtcbiAgICAgICAgICAgIGlmICghcmVxKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoKTtcbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICByZXEub25ibG9ja2VkID0gd3JhcChkYi5fZmlyZU9uQmxvY2tlZCk7XG4gICAgICAgICAgICByZXEub251cGdyYWRlbmVlZGVkID0gd3JhcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbiA9IHJlcS50cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYXV0b1NjaGVtYSAmJiAhZGIuX29wdGlvbnMuYWxsb3dFbXB0eURCKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gcHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbi5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICByZXEucmVzdWx0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxyZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgZGVscmVxLm9uc3VjY2VzcyA9IGRlbHJlcS5vbmVycm9yID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGV4Y2VwdGlvbnMuTm9TdWNoRGF0YWJhc2UoXCJEYXRhYmFzZSBcIi5jb25jYXQoZGJOYW1lLCBcIiBkb2VzbnQgZXhpc3RcIikpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24ub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2xkVmVyID0gZS5vbGRWZXJzaW9uID4gTWF0aC5wb3coMiwgNjIpID8gMCA6IGUub2xkVmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgd2FzQ3JlYXRlZCA9IG9sZFZlciA8IDE7XG4gICAgICAgICAgICAgICAgICAgIGRiLmlkYmRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjaGVtYVBhdGNoTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hDdXJyZW50VmVyc2lvbihkYiwgdXBncmFkZVRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBydW5VcGdyYWRlcnMoZGIsIG9sZFZlciAvIDEwLCB1cGdyYWRlVHJhbnNhY3Rpb24sIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBpZGJkYiA9IGRiLmlkYmRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmVOYW1lcyA9IHNsaWNlKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMpO1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3RTdG9yZU5hbWVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wVHJhbnMgPSBpZGJkYi50cmFuc2FjdGlvbihzYWZhcmlNdWx0aVN0b3JlRml4KG9iamVjdFN0b3JlTmFtZXMpLCAncmVhZG9ubHknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5hdXRvU2NoZW1hKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRHbG9iYWxTY2hlbWEoZGIsIGlkYmRiLCB0bXBUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhkYiwgZGIuX2RiU2NoZW1hLCB0bXBUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2ZXJpZnlJbnN0YWxsZWRTY2hlbWEoZGIsIHRtcFRyYW5zKSAmJiAhc2NoZW1hUGF0Y2hNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkRleGllIFNjaGVtYURpZmY6IFNjaGVtYSB3YXMgZXh0ZW5kZWQgd2l0aG91dCBpbmNyZWFzaW5nIHRoZSBudW1iZXIgcGFzc2VkIHRvIGRiLnZlcnNpb24oKS4gRGV4aWUgd2lsbCBhZGQgbWlzc2luZyBwYXJ0cyBhbmQgaW5jcmVtZW50IG5hdGl2ZSB2ZXJzaW9uIG51bWJlciB0byB3b3JrYXJvdW5kIHRoaXMuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGJkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVWZXJUb09wZW4gPSBpZGJkYi52ZXJzaW9uICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hUGF0Y2hNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ5T3BlbkRCKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlTWlkZGxld2FyZVN0YWNrcyhkYiwgdG1wVHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25uZWN0aW9ucy5wdXNoKGRiKTtcbiAgICAgICAgICAgICAgICBpZGJkYi5vbnZlcnNpb25jaGFuZ2UgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS52Y0ZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGIub24oXCJ2ZXJzaW9uY2hhbmdlXCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlkYmRiLm9uY2xvc2UgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoeyBkaXNhYmxlQXV0b09wZW46IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh3YXNDcmVhdGVkKVxuICAgICAgICAgICAgICAgICAgICBfb25EYXRhYmFzZUNyZWF0ZWQoZGIuX2RlcHMsIGRiTmFtZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgc3dpdGNoIChlcnIgPT09IG51bGwgfHwgZXJyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnIubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJVbmtub3duRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLlBSMTM5OF9tYXhMb29wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuUFIxMzk4X21heExvb3AtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRGV4aWU6IFdvcmthcm91bmQgZm9yIENocm9tZSBVbmtub3duRXJyb3Igb24gb3BlbigpJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ5T3BlbkRCKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlZlcnNpb25FcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAobmF0aXZlVmVyVG9PcGVuID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmVyVG9PcGVuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnlPcGVuREIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH0pOyB9O1xuICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgb3BlbkNhbmNlbGxlcixcbiAgICAgICAgICAgICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyA/IERleGllUHJvbWlzZS5yZXNvbHZlKCkgOiBpZGJSZWFkeSgpKS50aGVuKHRyeU9wZW5EQilcbiAgICAgICAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvd0lmQ2FuY2VsbGVkKCk7XG4gICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKHZpcChmdW5jdGlvbiAoKSB7IHJldHVybiBkYi5vbi5yZWFkeS5maXJlKGRiLnZpcCk7IH0pKS50aGVuKGZ1bmN0aW9uIGZpcmVSZW1haW5kZXJzKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5kZXJzXzEgPSBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZC5yZWR1Y2UocHJvbWlzYWJsZUNoYWluLCBub3ApO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUodmlwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlbWFpbmRlcnNfMShkYi52aXApOyB9KSkudGhlbihmaXJlUmVtYWluZGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLm9wZW5DYW5jZWxsZXIgPT09IG9wZW5DYW5jZWxsZXIpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5vblJlYWR5QmVpbmdGaXJlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RhdGUuaXNCZWluZ09wZW5lZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IGVycjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uICYmIHVwZ3JhZGVUcmFuc2FjdGlvbi5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7IH1cbiAgICAgICAgICAgIGlmIChvcGVuQ2FuY2VsbGVyID09PSBzdGF0ZS5vcGVuQ2FuY2VsbGVyKSB7XG4gICAgICAgICAgICAgICAgZGIuX2Nsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGVycik7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhdGUub3BlbkNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc29sdmVEYlJlYWR5KCk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHdhc0NyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlcnl0aGluZ18xID0ge307XG4gICAgICAgICAgICAgICAgZGIudGFibGVzLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLnNjaGVtYS5pbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZXJ5dGhpbmdfMVtcImlkYjovL1wiLmNvbmNhdChkYi5uYW1lLCBcIi9cIikuY29uY2F0KHRhYmxlLm5hbWUsIFwiL1wiKS5jb25jYXQoaWR4Lm5hbWUpXSA9IG5ldyBSYW5nZVNldCgtSW5maW5pdHksIFtbW11dXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBldmVyeXRoaW5nXzFbXCJpZGI6Ly9cIi5jb25jYXQoZGIubmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZS5uYW1lLCBcIi9cIildID0gZXZlcnl0aGluZ18xW1wiaWRiOi8vXCIuY29uY2F0KGRiLm5hbWUsIFwiL1wiKS5jb25jYXQodGFibGUubmFtZSwgXCIvOmRlbHNcIildID0gbmV3IFJhbmdlU2V0KC1JbmZpbml0eSwgW1tbXV1dKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUpLmZpcmUoZXZlcnl0aGluZ18xKTtcbiAgICAgICAgICAgICAgICBzaWduYWxTdWJzY3JpYmVyc05vdyhldmVyeXRoaW5nXzEsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRiO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhd2FpdEl0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBjYWxsTmV4dCA9IGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIGl0ZXJhdG9yLm5leHQocmVzdWx0KTsgfSwgZG9UaHJvdyA9IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gaXRlcmF0b3IudGhyb3coZXJyb3IpOyB9LCBvblN1Y2Nlc3MgPSBzdGVwKGNhbGxOZXh0KSwgb25FcnJvciA9IHN0ZXAoZG9UaHJvdyk7XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAoZ2V0TmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGdldE5leHQodmFsKSwgdmFsdWUgPSBuZXh0LnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0LmRvbmUgPyB2YWx1ZSA6XG4gICAgICAgICAgICAgICAgICAgICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlLnRoZW4gIT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheSh2YWx1ZSkgPyBQcm9taXNlLmFsbCh2YWx1ZSkudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpIDogb25TdWNjZXNzKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcikpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RlcChjYWxsTmV4dCkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRyYWN0VHJhbnNhY3Rpb25BcmdzKG1vZGUsIF90YWJsZUFyZ3NfLCBzY29wZUZ1bmMpIHtcbiAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAoaSA8IDIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJUb28gZmV3IGFyZ3VtZW50c1wiKTtcbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoaSAtIDEpO1xuICAgICAgICB3aGlsZSAoLS1pKVxuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHNjb3BlRnVuYyA9IGFyZ3MucG9wKCk7XG4gICAgICAgIHZhciB0YWJsZXMgPSBmbGF0dGVuKGFyZ3MpO1xuICAgICAgICByZXR1cm4gW21vZGUsIHRhYmxlcywgc2NvcGVGdW5jXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW50ZXJUcmFuc2FjdGlvblNjb3BlKGRiLCBtb2RlLCBzdG9yZU5hbWVzLCBwYXJlbnRUcmFuc2FjdGlvbiwgc2NvcGVGdW5jKSB7XG4gICAgICAgIHJldHVybiBEZXhpZVByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zbGVzcyA9IFBTRC50cmFuc2xlc3MgfHwgUFNEO1xuICAgICAgICAgICAgdmFyIHRyYW5zID0gZGIuX2NyZWF0ZVRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRiLl9kYlNjaGVtYSwgcGFyZW50VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgdHJhbnMuZXhwbGljaXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHpvbmVQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgdHJhbnNsZXNzOiB0cmFuc2xlc3NcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucyA9IHBhcmVudFRyYW5zYWN0aW9uLmlkYnRyYW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zLl9leHBsaWNpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRiLl9zdGF0ZS5QUjEzOThfbWF4TG9vcCA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXgubmFtZSA9PT0gZXJybmFtZXMuSW52YWxpZFN0YXRlICYmIGRiLmlzT3BlbigpICYmIC0tZGIuX3N0YXRlLlBSMTM5OF9tYXhMb29wID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXhpZTogTmVlZCB0byByZW9wZW4gZGInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKHsgZGlzYWJsZUF1dG9PcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYi5vcGVuKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBlbnRlclRyYW5zYWN0aW9uU2NvcGUoZGIsIG1vZGUsIHN0b3JlTmFtZXMsIG51bGwsIHNjb3BlRnVuYyk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzY29wZUZ1bmNJc0FzeW5jID0gaXNBc3luY0Z1bmN0aW9uKHNjb3BlRnVuYyk7XG4gICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZUZvbGxvd2VkID0gRGV4aWVQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBzY29wZUZ1bmMuY2FsbCh0cmFucywgdHJhbnMpO1xuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jSXNBc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY3JlbWVudG9yID0gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMuYmluZChudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4oZGVjcmVtZW50b3IsIGRlY3JlbWVudG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUubmV4dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gYXdhaXRJdGVyYXRvcihyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB6b25lUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXR1cm5WYWx1ZSAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgRGV4aWVQcm9taXNlLnJlc29sdmUocmV0dXJuVmFsdWUpLnRoZW4oZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHRyYW5zLmFjdGl2ZSA/XG4gICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgICAgICAgICAgICAgOiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuUHJlbWF0dXJlQ29tbWl0KFwiVHJhbnNhY3Rpb24gY29tbWl0dGVkIHRvbyBlYXJseS4gU2VlIGh0dHA6Ly9iaXQubHkvMmtkY2tNblwiKSk7IH0pXG4gICAgICAgICAgICAgICAgOiBwcm9taXNlRm9sbG93ZWQudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiByZXR1cm5WYWx1ZTsgfSkpLnRoZW4oZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLl9yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zLl9jb21wbGV0aW9uLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zLl9yZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYWQoYSwgdmFsdWUsIGNvdW50KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBpc0FycmF5KGEpID8gYS5zbGljZSgpIDogW2FdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyArK2kpXG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVZpcnR1YWxJbmRleE1pZGRsZXdhcmUoZG93bikge1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGRvd24pLCB7IHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gZG93bi50YWJsZSh0YWJsZU5hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBzY2hlbWEgPSB0YWJsZS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4TG9va3VwID0ge307XG4gICAgICAgICAgICAgICAgdmFyIGFsbFZpcnR1YWxJbmRleGVzID0gW107XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkVmlydHVhbEluZGV4ZXMoa2V5UGF0aCwga2V5VGFpbCwgbG93TGV2ZWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aEFsaWFzID0gZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhMaXN0ID0gKGluZGV4TG9va3VwW2tleVBhdGhBbGlhc10gPSBpbmRleExvb2t1cFtrZXlQYXRoQWxpYXNdIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleUxlbmd0aCA9IGtleVBhdGggPT0gbnVsbCA/IDAgOiB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgPyAxIDoga2V5UGF0aC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1ZpcnR1YWwgPSBrZXlUYWlsID4gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpcnR1YWxJbmRleCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBsb3dMZXZlbEluZGV4KSwgeyBuYW1lOiBpc1ZpcnR1YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiXCIuY29uY2F0KGtleVBhdGhBbGlhcywgXCIodmlydHVhbC1mcm9tOlwiKS5jb25jYXQobG93TGV2ZWxJbmRleC5uYW1lLCBcIilcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGxvd0xldmVsSW5kZXgubmFtZSwgbG93TGV2ZWxJbmRleDogbG93TGV2ZWxJbmRleCwgaXNWaXJ0dWFsOiBpc1ZpcnR1YWwsIGtleVRhaWw6IGtleVRhaWwsIGtleUxlbmd0aDoga2V5TGVuZ3RoLCBleHRyYWN0S2V5OiBnZXRLZXlFeHRyYWN0b3Ioa2V5UGF0aCksIHVuaXF1ZTogIWlzVmlydHVhbCAmJiBsb3dMZXZlbEluZGV4LnVuaXF1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhMaXN0LnB1c2godmlydHVhbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXJ0dWFsSW5kZXguaXNQcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWaXJ0dWFsSW5kZXhlcy5wdXNoKHZpcnR1YWxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleUxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXJ0dWFsS2V5UGF0aCA9IGtleUxlbmd0aCA9PT0gMiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aFswXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5UGF0aC5zbGljZSgwLCBrZXlMZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpcnR1YWxJbmRleGVzKHZpcnR1YWxLZXlQYXRoLCBrZXlUYWlsICsgMSwgbG93TGV2ZWxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5kZXhMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEua2V5VGFpbCAtIGIua2V5VGFpbDsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXJ0dWFsSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gYWRkVmlydHVhbEluZGV4ZXMoc2NoZW1hLnByaW1hcnlLZXkua2V5UGF0aCwgMCwgc2NoZW1hLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgIGluZGV4TG9va3VwW1wiOmlkXCJdID0gW3ByaW1hcnlLZXldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzY2hlbWEuaW5kZXhlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICBhZGRWaXJ0dWFsSW5kZXhlcyhpbmRleC5rZXlQYXRoLCAwLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRCZXN0SW5kZXgoa2V5UGF0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW5kZXhMb29rdXBbZ2V0S2V5UGF0aEFsaWFzKGtleVBhdGgpXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAmJiByZXN1bHRbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVJhbmdlKHJhbmdlLCBrZXlUYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByYW5nZS50eXBlID09PSAxICA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlcjogcGFkKHJhbmdlLmxvd2VyLCByYW5nZS5sb3dlck9wZW4gPyBkb3duLk1BWF9LRVkgOiBkb3duLk1JTl9LRVksIGtleVRhaWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJPcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXI6IHBhZChyYW5nZS51cHBlciwgcmFuZ2UudXBwZXJPcGVuID8gZG93bi5NSU5fS0VZIDogZG93bi5NQVhfS0VZLCBrZXlUYWlsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyT3BlbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmFuc2xhdGVSZXF1ZXN0KHJlcSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSByZXEucXVlcnkuaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleC5pc1ZpcnR1YWwgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmVxKSwgeyBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleC5sb3dMZXZlbEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiB0cmFuc2xhdGVSYW5nZShyZXEucXVlcnkucmFuZ2UsIGluZGV4LmtleVRhaWwpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pIDogcmVxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRhYmxlKSwgeyBzY2hlbWE6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBzY2hlbWEpLCB7IHByaW1hcnlLZXk6IHByaW1hcnlLZXksIGluZGV4ZXM6IGFsbFZpcnR1YWxJbmRleGVzLCBnZXRJbmRleEJ5S2V5UGF0aDogZmluZEJlc3RJbmRleCB9KSwgY291bnQ6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5jb3VudCh0cmFuc2xhdGVSZXF1ZXN0KHJlcSkpO1xuICAgICAgICAgICAgICAgICAgICB9LCBxdWVyeTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLnF1ZXJ5KHRyYW5zbGF0ZVJlcXVlc3QocmVxKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG9wZW5DdXJzb3I6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IHJlcS5xdWVyeS5pbmRleCwga2V5VGFpbCA9IF9hLmtleVRhaWwsIGlzVmlydHVhbCA9IF9hLmlzVmlydHVhbCwga2V5TGVuZ3RoID0gX2Eua2V5TGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZpcnR1YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlLm9wZW5DdXJzb3IocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVZpcnR1YWxDdXJzb3IoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gX2NvbnRpbnVlKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgIT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUocGFkKGtleSwgcmVxLnJldmVyc2UgPyBkb3duLk1BWF9LRVkgOiBkb3duLk1JTl9LRVksIGtleVRhaWwpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudW5pcXVlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoY3Vyc29yLmtleS5zbGljZSgwLCBrZXlMZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQocmVxLnJldmVyc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkb3duLk1JTl9LRVlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb3duLk1BWF9LRVksIGtleVRhaWwpKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXJ0dWFsQ3Vyc29yID0gT2JqZWN0LmNyZWF0ZShjdXJzb3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6IHsgdmFsdWU6IF9jb250aW51ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVByaW1hcnlLZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoa2V5LCBwcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlUHJpbWFyeUtleShwYWQoa2V5LCBkb3duLk1BWF9LRVksIGtleVRhaWwpLCBwcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlMZW5ndGggPT09IDEgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlbMF0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkuc2xpY2UoMCwga2V5TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlydHVhbEN1cnNvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5vcGVuQ3Vyc29yKHRyYW5zbGF0ZVJlcXVlc3QocmVxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoY3Vyc29yKSB7IHJldHVybiBjdXJzb3IgJiYgY3JlYXRlVmlydHVhbEN1cnNvcihjdXJzb3IpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgdmFyIHZpcnR1YWxJbmRleE1pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBuYW1lOiBcIlZpcnR1YWxJbmRleE1pZGRsZXdhcmVcIixcbiAgICAgICAgbGV2ZWw6IDEsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlVmlydHVhbEluZGV4TWlkZGxld2FyZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRPYmplY3REaWZmKGEsIGIsIHJ2LCBwcmZ4KSB7XG4gICAgICAgIHJ2ID0gcnYgfHwge307XG4gICAgICAgIHByZnggPSBwcmZ4IHx8ICcnO1xuICAgICAgICBrZXlzKGEpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duKGIsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGFwID0gYVtwcm9wXSwgYnAgPSBiW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXAgPT09ICdvYmplY3QnICYmIHR5cGVvZiBicCA9PT0gJ29iamVjdCcgJiYgYXAgJiYgYnApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwVHlwZU5hbWUgPSB0b1N0cmluZ1RhZyhhcCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBicFR5cGVOYW1lID0gdG9TdHJpbmdUYWcoYnApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBUeXBlTmFtZSAhPT0gYnBUeXBlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcFR5cGVOYW1lID09PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T2JqZWN0RGlmZihhcCwgYnAsIHJ2LCBwcmZ4ICsgcHJvcCArICcuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYXAgIT09IGJwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFwICE9PSBicClcbiAgICAgICAgICAgICAgICAgICAgcnZbcHJmeCArIHByb3BdID0gYltwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGtleXMoYikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd24oYSwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKSB7XG4gICAgICAgIGlmIChyZXEudHlwZSA9PT0gJ2RlbGV0ZScpXG4gICAgICAgICAgICByZXR1cm4gcmVxLmtleXM7XG4gICAgICAgIHJldHVybiByZXEua2V5cyB8fCByZXEudmFsdWVzLm1hcChwcmltYXJ5S2V5LmV4dHJhY3RLZXkpO1xuICAgIH1cblxuICAgIHZhciBob29rc01pZGRsZXdhcmUgPSB7XG4gICAgICAgIHN0YWNrOiBcImRiY29yZVwiLFxuICAgICAgICBuYW1lOiBcIkhvb2tzTWlkZGxld2FyZVwiLFxuICAgICAgICBsZXZlbDogMixcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoZG93bkNvcmUpIHsgcmV0dXJuIChfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZG93bkNvcmUpLCB7IHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvd25UYWJsZSA9IGRvd25Db3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBkb3duVGFibGUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlTWlkZGxld2FyZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duVGFibGUpLCB7IG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR4VHJhbnMgPSBQU0QudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBkeFRyYW5zLnRhYmxlKHRhYmxlTmFtZSkuaG9vaywgZGVsZXRpbmcgPSBfYS5kZWxldGluZywgY3JlYXRpbmcgPSBfYS5jcmVhdGluZywgdXBkYXRpbmcgPSBfYS51cGRhdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVxLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhZGRQdXRPckRlbGV0ZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwdXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRpbmcuZmlyZSA9PT0gbm9wICYmIHVwZGF0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkUHV0T3JEZWxldGUocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0aW5nLmZpcmUgPT09IG5vcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHhUcmFucy5fcHJvbWlzZSgncmVhZHdyaXRlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRkUHV0T3JEZWxldGUocmVxKTsgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlUmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRpbmcuZmlyZSA9PT0gbm9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkeFRyYW5zLl9wcm9taXNlKCdyZWFkd3JpdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWxldGVSYW5nZShyZXEpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUubXV0YXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRQdXRPckRlbGV0ZShyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHhUcmFucyA9IFBTRC50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IHJlcS5rZXlzIHx8IGdldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWtleXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIktleXMgbWlzc2luZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEgPSByZXEudHlwZSA9PT0gJ2FkZCcgfHwgcmVxLnR5cGUgPT09ICdwdXQnID8gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsga2V5czoga2V5cyB9KSA6IF9fYXNzaWduKHt9LCByZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXEudHlwZSAhPT0gJ2RlbGV0ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXMgPSBfX3NwcmVhZEFycmF5KFtdLCByZXEudmFsdWVzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxLmtleXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5rZXlzID0gX19zcHJlYWRBcnJheShbXSwgcmVxLmtleXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRFeGlzdGluZ1ZhbHVlcyhkb3duVGFibGUsIHJlcSwga2V5cykudGhlbihmdW5jdGlvbiAoZXhpc3RpbmdWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHRzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nVmFsdWUgPSBleGlzdGluZ1ZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHggPSB7IG9uZXJyb3I6IG51bGwsIG9uc3VjY2VzczogbnVsbCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlID09PSAnZGVsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0aW5nLmZpcmUuY2FsbChjdHgsIGtleSwgZXhpc3RpbmdWYWx1ZSwgZHhUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXEudHlwZSA9PT0gJ2FkZCcgfHwgZXhpc3RpbmdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlZFByaW1hcnlLZXkgPSBjcmVhdGluZy5maXJlLmNhbGwoY3R4LCBrZXksIHJlcS52YWx1ZXNbaV0sIGR4VHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gbnVsbCAmJiBnZW5lcmF0ZWRQcmltYXJ5S2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ2VuZXJhdGVkUHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLmtleXNbaV0gPSBrZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJpbWFyeUtleS5vdXRib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKHJlcS52YWx1ZXNbaV0sIHByaW1hcnlLZXkua2V5UGF0aCwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3REaWZmID0gZ2V0T2JqZWN0RGlmZihleGlzdGluZ1ZhbHVlLCByZXEudmFsdWVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkaXRpb25hbENoYW5nZXNfMSA9IHVwZGF0aW5nLmZpcmUuY2FsbChjdHgsIG9iamVjdERpZmYsIGtleSwgZXhpc3RpbmdWYWx1ZSwgZHhUcmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxDaGFuZ2VzXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RlZFZhbHVlXzEgPSByZXEudmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhZGRpdGlvbmFsQ2hhbmdlc18xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHJlcXVlc3RlZFZhbHVlXzEsIGtleVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkVmFsdWVfMVtrZXlQYXRoXSA9IGFkZGl0aW9uYWxDaGFuZ2VzXzFba2V5UGF0aF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgocmVxdWVzdGVkVmFsdWVfMSwga2V5UGF0aCwgYWRkaXRpb25hbENoYW5nZXNfMVtrZXlQYXRoXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbHVyZXMgPSBfYS5mYWlsdXJlcywgcmVzdWx0cyA9IF9hLnJlc3VsdHMsIG51bUZhaWx1cmVzID0gX2EubnVtRmFpbHVyZXMsIGxhc3RSZXN1bHQgPSBfYS5sYXN0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1LZXkgPSByZXN1bHRzID8gcmVzdWx0c1tpXSA6IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNvbnRleHRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmltS2V5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm9uZXJyb3IgJiYgY3R4Lm9uZXJyb3IoZmFpbHVyZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm9uc3VjY2VzcyAmJiBjdHgub25zdWNjZXNzKHJlcS50eXBlID09PSAncHV0JyAmJiBleGlzdGluZ1ZhbHVlc1tpXSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudmFsdWVzW2ldIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1LZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmYWlsdXJlczogZmFpbHVyZXMsIHJlc3VsdHM6IHJlc3VsdHMsIG51bUZhaWx1cmVzOiBudW1GYWlsdXJlcywgbGFzdFJlc3VsdDogbGFzdFJlc3VsdCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRzLmZvckVhY2goZnVuY3Rpb24gKGN0eCkgeyByZXR1cm4gY3R4Lm9uZXJyb3IgJiYgY3R4Lm9uZXJyb3IoZXJyb3IpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlUmFuZ2UocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZU5leHRDaHVuayhyZXEudHJhbnMsIHJlcS5yYW5nZSwgMTAwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlTmV4dENodW5rKHRyYW5zLCByYW5nZSwgbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLnF1ZXJ5KHsgdHJhbnM6IHRyYW5zLCB2YWx1ZXM6IGZhbHNlLCBxdWVyeTogeyBpbmRleDogcHJpbWFyeUtleSwgcmFuZ2U6IHJhbmdlIH0sIGxpbWl0OiBsaW1pdCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF9hLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZFB1dE9yRGVsZXRlKHsgdHlwZTogJ2RlbGV0ZScsIGtleXM6IHJlc3VsdCwgdHJhbnM6IHRyYW5zIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5udW1GYWlsdXJlcyA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5mYWlsdXJlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZmFpbHVyZXM6IFtdLCBudW1GYWlsdXJlczogMCwgbGFzdFJlc3VsdDogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlTmV4dENodW5rKHRyYW5zLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcmFuZ2UpLCB7IGxvd2VyOiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLCBsb3dlck9wZW46IHRydWUgfSksIGxpbWl0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlTWlkZGxld2FyZTtcbiAgICAgICAgICAgIH0gfSkpOyB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRFeGlzdGluZ1ZhbHVlcyh0YWJsZSwgcmVxLCBlZmZlY3RpdmVLZXlzKSB7XG4gICAgICAgIHJldHVybiByZXEudHlwZSA9PT0gXCJhZGRcIlxuICAgICAgICAgICAgPyBQcm9taXNlLnJlc29sdmUoW10pXG4gICAgICAgICAgICA6IHRhYmxlLmdldE1hbnkoeyB0cmFuczogcmVxLnRyYW5zLCBrZXlzOiBlZmZlY3RpdmVLZXlzLCBjYWNoZTogXCJpbW11dGFibGVcIiB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRGcm9tVHJhbnNhY3Rpb25DYWNoZShrZXlzLCBjYWNoZSwgY2xvbmUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghY2FjaGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAoY2FjaGUua2V5cy5sZW5ndGggPCBrZXlzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IGNhY2hlLmtleXMubGVuZ3RoICYmIGogPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNtcChjYWNoZS5rZXlzW2ldLCBrZXlzW2pdKSAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2xvbmUgPyBkZWVwQ2xvbmUoY2FjaGUudmFsdWVzW2ldKSA6IGNhY2hlLnZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgKytqO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IGtleXMubGVuZ3RoID8gcmVzdWx0IDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBjYWNoZUV4aXN0aW5nVmFsdWVzTWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6IFwiZGJjb3JlXCIsXG4gICAgICAgIGxldmVsOiAtMSxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YWJsZTogZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBjb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGFibGUpLCB7IGdldE1hbnk6IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcS5jYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUuZ2V0TWFueShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGVkUmVzdWx0ID0gZ2V0RnJvbVRyYW5zYWN0aW9uQ2FjaGUocmVxLmtleXMsIHJlcS50cmFuc1tcIl9jYWNoZVwiXSwgcmVxLmNhY2hlID09PSBcImNsb25lXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERleGllUHJvbWlzZS5yZXNvbHZlKGNhY2hlZFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5nZXRNYW55KHJlcSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS50cmFuc1tcIl9jYWNoZVwiXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHJlcS5rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiByZXEuY2FjaGUgPT09IFwiY2xvbmVcIiA/IGRlZXBDbG9uZShyZXMpIDogcmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS50eXBlICE9PSBcImFkZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEudHJhbnNbXCJfY2FjaGVcIl0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzQ2FjaGFibGVDb250ZXh0KGN0eCwgdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIChjdHgudHJhbnMubW9kZSA9PT0gJ3JlYWRvbmx5JyAmJlxuICAgICAgICAgICAgISFjdHguc3Vic2NyICYmXG4gICAgICAgICAgICAhY3R4LnRyYW5zLmV4cGxpY2l0ICYmXG4gICAgICAgICAgICBjdHgudHJhbnMuZGIuX29wdGlvbnMuY2FjaGUgIT09ICdkaXNhYmxlZCcgJiZcbiAgICAgICAgICAgICF0YWJsZS5zY2hlbWEucHJpbWFyeUtleS5vdXRib3VuZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDYWNoYWJsZVJlcXVlc3QodHlwZSwgcmVxKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncXVlcnknOlxuICAgICAgICAgICAgICAgIHJldHVybiByZXEudmFsdWVzICYmICFyZXEudW5pcXVlO1xuICAgICAgICAgICAgY2FzZSAnZ2V0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdnZXRNYW55JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdjb3VudCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAnb3BlbkN1cnNvcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG9ic2VydmFiaWxpdHlNaWRkbGV3YXJlID0ge1xuICAgICAgICBzdGFjazogXCJkYmNvcmVcIixcbiAgICAgICAgbGV2ZWw6IDAsXG4gICAgICAgIG5hbWU6IFwiT2JzZXJ2YWJpbGl0eVwiLFxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChjb3JlKSB7XG4gICAgICAgICAgICB2YXIgZGJOYW1lID0gY29yZS5zY2hlbWEubmFtZTtcbiAgICAgICAgICAgIHZhciBGVUxMX1JBTkdFID0gbmV3IFJhbmdlU2V0KGNvcmUuTUlOX0tFWSwgY29yZS5NQVhfS0VZKTtcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29yZSksIHsgdHJhbnNhY3Rpb246IGZ1bmN0aW9uIChzdG9yZXMsIG1vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBTRC5zdWJzY3IgJiYgbW9kZSAhPT0gJ3JlYWRvbmx5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuUmVhZE9ubHkoXCJSZWFkd3JpdGUgdHJhbnNhY3Rpb24gaW4gbGl2ZVF1ZXJ5IGNvbnRleHQuIFF1ZXJpZXIgc291cmNlOiBcIi5jb25jYXQoUFNELnF1ZXJpZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZS50cmFuc2FjdGlvbihzdG9yZXMsIG1vZGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sIHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGNvcmUudGFibGUodGFibGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjaGVtYSA9IHRhYmxlLnNjaGVtYTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1hcnlLZXkgPSBzY2hlbWEucHJpbWFyeUtleSwgaW5kZXhlcyA9IHNjaGVtYS5pbmRleGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFjdEtleSA9IHByaW1hcnlLZXkuZXh0cmFjdEtleSwgb3V0Ym91bmQgPSBwcmltYXJ5S2V5Lm91dGJvdW5kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhlc1dpdGhBdXRvSW5jUEsgPSBwcmltYXJ5S2V5LmF1dG9JbmNyZW1lbnQgJiYgaW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiBpbmRleC5jb21wb3VuZCAmJiBpbmRleC5rZXlQYXRoLmluY2x1ZGVzKHByaW1hcnlLZXkua2V5UGF0aCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVDbG9uZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0YWJsZSksIHsgbXV0YXRlOiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnMgPSByZXEudHJhbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG11dGF0ZWRQYXJ0cyA9IHJlcS5tdXRhdGVkUGFydHMgfHwgKHJlcS5tdXRhdGVkUGFydHMgPSB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldFJhbmdlU2V0ID0gZnVuY3Rpb24gKGluZGV4TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IFwiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUsIFwiL1wiKS5jb25jYXQoaW5kZXhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtdXRhdGVkUGFydHNbcGFydF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtdXRhdGVkUGFydHNbcGFydF0gPSBuZXcgUmFuZ2VTZXQoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrUmFuZ2VTZXQgPSBnZXRSYW5nZVNldChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsc1JhbmdlU2V0ID0gZ2V0UmFuZ2VTZXQoXCI6ZGVsc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHJlcS50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYyA9IHJlcS50eXBlID09PSBcImRlbGV0ZVJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbcmVxLnJhbmdlXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlcS50eXBlID09PSBcImRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtyZXEua2V5c11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVxLnZhbHVlcy5sZW5ndGggPCA1MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW2dldEVmZmVjdGl2ZUtleXMocHJpbWFyeUtleSwgcmVxKS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBpZDsgfSksIHJlcS52YWx1ZXNdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSwga2V5cyA9IF9jWzBdLCBuZXdPYmpzID0gX2NbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZENhY2hlID0gcmVxLnRyYW5zW1wiX2NhY2hlXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGtleXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrUmFuZ2VTZXQuYWRkS2V5cyhrZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZE9ianMgPSB0eXBlID09PSAnZGVsZXRlJyB8fCBrZXlzLmxlbmd0aCA9PT0gbmV3T2Jqcy5sZW5ndGggPyBnZXRGcm9tVHJhbnNhY3Rpb25DYWNoZShrZXlzLCBvbGRDYWNoZSkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9sZE9ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldC5hZGRLZXlzKGtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRPYmpzIHx8IG5ld09ianMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrQWZmZWN0ZWRJbmRleGVzKGdldFJhbmdlU2V0LCBzY2hlbWEsIG9sZE9ianMsIG5ld09ianMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogKF9hID0ga2V5cy5sb3dlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29yZS5NSU5fS0VZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86IChfYiA9IGtleXMudXBwZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGNvcmUuTUFYX0tFWVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXQuYWRkKHJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGQocmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGtSYW5nZVNldC5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbHNSYW5nZVNldC5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYS5pbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkgeyByZXR1cm4gZ2V0UmFuZ2VTZXQoaWR4Lm5hbWUpLmFkZChGVUxMX1JBTkdFKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5tdXRhdGUocmVxKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMgJiYgKHJlcS50eXBlID09PSAnYWRkJyB8fCByZXEudHlwZSA9PT0gJ3B1dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0LmFkZEtleXMocmVzLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ZXNXaXRoQXV0b0luY1BLKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1dpdGhBdXRvSW5jUEsuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHhWYWxzID0gcmVxLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGlkeC5leHRyYWN0S2V5KHYpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBrUG9zID0gaWR4LmtleVBhdGguZmluZEluZGV4KGZ1bmN0aW9uIChwcm9wKSB7IHJldHVybiBwcm9wID09PSBwcmltYXJ5S2V5LmtleVBhdGg7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzLnJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeFZhbHNbaV1bcGtQb3NdID0gcmVzLnJlc3VsdHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UmFuZ2VTZXQoaWR4Lm5hbWUpLmFkZEtleXMoaWR4VmFscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMubXV0YXRlZFBhcnRzID0gZXh0ZW5kT2JzZXJ2YWJpbGl0eVNldCh0cmFucy5tdXRhdGVkUGFydHMgfHwge30sIG11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0UmFuZ2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2QgPSBfYS5xdWVyeSwgaW5kZXggPSBfZC5pbmRleCwgcmFuZ2UgPSBfZC5yYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlU2V0KChfYiA9IHJhbmdlLmxvd2VyKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBjb3JlLk1JTl9LRVksIChfYyA9IHJhbmdlLnVwcGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBjb3JlLk1BWF9LRVkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRTdWJzY3JpYmVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHJlcSkgeyByZXR1cm4gW3ByaW1hcnlLZXksIG5ldyBSYW5nZVNldChyZXEua2V5KV07IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYW55OiBmdW5jdGlvbiAocmVxKSB7IHJldHVybiBbcHJpbWFyeUtleSwgbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhyZXEua2V5cyldOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGdldFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGdldFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkN1cnNvcjogZ2V0UmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGtleXMocmVhZFN1YnNjcmliZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlQ2xvbmVbbWV0aG9kXSA9IGZ1bmN0aW9uIChyZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Vic2NyID0gUFNELnN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNMaXZlUXVlcnkgPSAhIXN1YnNjcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FjaGFibGUgPSBpc0NhY2hhYmxlQ29udGV4dChQU0QsIHRhYmxlKSAmJiBpc0NhY2hhYmxlUmVxdWVzdChtZXRob2QsIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9ic1NldCA9IGNhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVxLm9ic1NldCA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc3Vic2NyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xpdmVRdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0UmFuZ2VTZXQgPSBmdW5jdGlvbiAoaW5kZXhOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IFwiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUsIFwiL1wiKS5jb25jYXQoaW5kZXhOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAob2JzU2V0W3BhcnRdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9ic1NldFtwYXJ0XSA9IG5ldyBSYW5nZVNldCgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwa1JhbmdlU2V0XzEgPSBnZXRSYW5nZVNldChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHNSYW5nZVNldF8xID0gZ2V0UmFuZ2VTZXQoXCI6ZGVsc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcmVhZFN1YnNjcmliZXJzW21ldGhvZF0ocmVxKSwgcXVlcmllZEluZGV4ID0gX2FbMF0sIHF1ZXJpZWRSYW5nZXMgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ3F1ZXJ5JyAmJiBxdWVyaWVkSW5kZXguaXNQcmltYXJ5S2V5ICYmICFyZXEudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGQocXVlcmllZFJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRSYW5nZVNldChxdWVyaWVkSW5kZXgubmFtZSB8fCBcIlwiKS5hZGQocXVlcmllZFJhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFxdWVyaWVkSW5kZXguaXNQcmltYXJ5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSBcImNvdW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGQoRlVMTF9SQU5HRSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5c1Byb21pc2VfMSA9IG1ldGhvZCA9PT0gXCJxdWVyeVwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGJvdW5kICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUucXVlcnkoX19hc3NpZ24oX19hc3NpZ24oe30sIHJlcSksIHsgdmFsdWVzOiBmYWxzZSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJxdWVyeVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0Ym91bmQgJiYgcmVxLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlzUHJvbWlzZV8xLnRoZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRpbmdLZXlzID0gX2EucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0XzEuYWRkS2V5cyhyZXN1bHRpbmdLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwS2V5cyA9IHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlcy5yZXN1bHQubWFwKGV4dHJhY3RLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXMucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwa1JhbmdlU2V0XzEuYWRkS2V5cyhwS2V5cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxzUmFuZ2VTZXRfMS5hZGRLZXlzKHBLZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtZXRob2QgPT09IFwib3BlbkN1cnNvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yXzEgPSByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2FudFZhbHVlc18xID0gcmVxLnZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoY3Vyc29yXzEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuY3JlYXRlKGN1cnNvcl8xLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkS2V5KGN1cnNvcl8xLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JfMS5rZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5S2V5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGtleSA9IGN1cnNvcl8xLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsc1JhbmdlU2V0XzEuYWRkS2V5KHBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwa2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbnRWYWx1ZXNfMSAmJiBwa1JhbmdlU2V0XzEuYWRkS2V5KGN1cnNvcl8xLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3JfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVDbG9uZTtcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICB9LFxuICAgIH07XG4gICAgZnVuY3Rpb24gdHJhY2tBZmZlY3RlZEluZGV4ZXMoZ2V0UmFuZ2VTZXQsIHNjaGVtYSwgb2xkT2JqcywgbmV3T2Jqcykge1xuICAgICAgICBmdW5jdGlvbiBhZGRBZmZlY3RlZEluZGV4KGl4KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2VTZXQgPSBnZXRSYW5nZVNldChpeC5uYW1lIHx8IFwiXCIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZXh0cmFjdEtleShvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICE9IG51bGwgPyBpeC5leHRyYWN0S2V5KG9iaikgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGFkZEtleU9yS2V5cyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGl4Lm11bHRpRW50cnkgJiYgaXNBcnJheShrZXkpXG4gICAgICAgICAgICAgICAgPyBrZXkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiByYW5nZVNldC5hZGRLZXkoa2V5KTsgfSlcbiAgICAgICAgICAgICAgICA6IHJhbmdlU2V0LmFkZEtleShrZXkpOyB9O1xuICAgICAgICAgICAgKG9sZE9ianMgfHwgbmV3T2JqcykuZm9yRWFjaChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRLZXkgPSBvbGRPYmpzICYmIGV4dHJhY3RLZXkob2xkT2Jqc1tpXSk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0tleSA9IG5ld09ianMgJiYgZXh0cmFjdEtleShuZXdPYmpzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAoY21wKG9sZEtleSwgbmV3S2V5KSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2xkS2V5ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRLZXlPcktleXMob2xkS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0tleSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkS2V5T3JLZXlzKG5ld0tleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmluZGV4ZXMuZm9yRWFjaChhZGRBZmZlY3RlZEluZGV4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGp1c3RPcHRpbWlzdGljRnJvbUZhaWx1cmVzKHRibENhY2hlLCByZXEsIHJlcykge1xuICAgICAgICBpZiAocmVzLm51bUZhaWx1cmVzID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHJlcTtcbiAgICAgICAgaWYgKHJlcS50eXBlID09PSAnZGVsZXRlUmFuZ2UnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtQnVsa09wcyA9IHJlcS5rZXlzXG4gICAgICAgICAgICA/IHJlcS5rZXlzLmxlbmd0aFxuICAgICAgICAgICAgOiAndmFsdWVzJyBpbiByZXEgJiYgcmVxLnZhbHVlc1xuICAgICAgICAgICAgICAgID8gcmVxLnZhbHVlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICA6IDE7XG4gICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPT09IG51bUJ1bGtPcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbG9uZSA9IF9fYXNzaWduKHt9LCByZXEpO1xuICAgICAgICBpZiAoaXNBcnJheShjbG9uZS5rZXlzKSkge1xuICAgICAgICAgICAgY2xvbmUua2V5cyA9IGNsb25lLmtleXMuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7IHJldHVybiAhKGkgaW4gcmVzLmZhaWx1cmVzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd2YWx1ZXMnIGluIGNsb25lICYmIGlzQXJyYXkoY2xvbmUudmFsdWVzKSkge1xuICAgICAgICAgICAgY2xvbmUudmFsdWVzID0gY2xvbmUudmFsdWVzLmZpbHRlcihmdW5jdGlvbiAoXywgaSkgeyByZXR1cm4gIShpIGluIHJlcy5mYWlsdXJlcyk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Fib3ZlTG93ZXIoa2V5LCByYW5nZSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UubG93ZXIgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICA6IHJhbmdlLmxvd2VyT3BlblxuICAgICAgICAgICAgICAgID8gY21wKGtleSwgcmFuZ2UubG93ZXIpID4gMFxuICAgICAgICAgICAgICAgIDogY21wKGtleSwgcmFuZ2UubG93ZXIpID49IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQmVsb3dVcHBlcihrZXksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiByYW5nZS51cHBlciA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRydWVcbiAgICAgICAgICAgIDogcmFuZ2UudXBwZXJPcGVuXG4gICAgICAgICAgICAgICAgPyBjbXAoa2V5LCByYW5nZS51cHBlcikgPCAwXG4gICAgICAgICAgICAgICAgOiBjbXAoa2V5LCByYW5nZS51cHBlcikgPD0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNXaXRoaW5SYW5nZShrZXksIHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBpc0Fib3ZlTG93ZXIoa2V5LCByYW5nZSkgJiYgaXNCZWxvd1VwcGVyKGtleSwgcmFuZ2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFwcGx5T3B0aW1pc3RpY09wcyhyZXN1bHQsIHJlcSwgb3BzLCB0YWJsZSwgY2FjaGVFbnRyeSwgaW1tdXRhYmxlKSB7XG4gICAgICAgIGlmICghb3BzIHx8IG9wcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSByZXEucXVlcnkuaW5kZXg7XG4gICAgICAgIHZhciBtdWx0aUVudHJ5ID0gaW5kZXgubXVsdGlFbnRyeTtcbiAgICAgICAgdmFyIHF1ZXJ5UmFuZ2UgPSByZXEucXVlcnkucmFuZ2U7XG4gICAgICAgIHZhciBwcmltYXJ5S2V5ID0gdGFibGUuc2NoZW1hLnByaW1hcnlLZXk7XG4gICAgICAgIHZhciBleHRyYWN0UHJpbUtleSA9IHByaW1hcnlLZXkuZXh0cmFjdEtleTtcbiAgICAgICAgdmFyIGV4dHJhY3RJbmRleCA9IGluZGV4LmV4dHJhY3RLZXk7XG4gICAgICAgIHZhciBleHRyYWN0TG93TGV2ZWxJbmRleCA9IChpbmRleC5sb3dMZXZlbEluZGV4IHx8IGluZGV4KS5leHRyYWN0S2V5O1xuICAgICAgICB2YXIgZmluYWxSZXN1bHQgPSBvcHMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIG9wKSB7XG4gICAgICAgICAgICB2YXIgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICAgIHZhciBpbmNsdWRlZFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKG9wLnR5cGUgPT09ICdhZGQnIHx8IG9wLnR5cGUgPT09ICdwdXQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVkUEtzID0gbmV3IFJhbmdlU2V0KCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IG9wLnZhbHVlcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvcC52YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBwayA9IGV4dHJhY3RQcmltS2V5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVkUEtzLmhhc0tleShwaykpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGV4dHJhY3RJbmRleCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtdWx0aUVudHJ5ICYmIGlzQXJyYXkoa2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBrZXkuc29tZShmdW5jdGlvbiAoaykgeyByZXR1cm4gaXNXaXRoaW5SYW5nZShrLCBxdWVyeVJhbmdlKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXNXaXRoaW5SYW5nZShrZXksIHF1ZXJ5UmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlZFBLcy5hZGRLZXkocGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZWRWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdhZGQnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ0tleXNfMSA9IG5ldyBSYW5nZVNldCgpLmFkZEtleXMocmVxLnZhbHVlcyA/IHJlc3VsdC5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGV4dHJhY3RQcmltS2V5KHYpOyB9KSA6IHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmZWRSZXN1bHQgPSByZXN1bHQuY29uY2F0KHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5jbHVkZWRWYWx1ZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGV4dHJhY3RQcmltS2V5KHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0tleXNfMS5oYXNLZXkoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nS2V5c18xLmFkZEtleShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jbHVkZWRWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5c18xLmhhc0tleShrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nS2V5c18xLmFkZEtleShrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3B1dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVNldF8xID0gbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhvcC52YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIWtleVNldF8xLmhhc0tleShyZXEudmFsdWVzID8gZXh0cmFjdFByaW1LZXkoaXRlbSkgOiBpdGVtKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIHJlcS52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaW5jbHVkZWRWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaW5jbHVkZWRWYWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBleHRyYWN0UHJpbUtleSh2KTsgfSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXNUb0RlbGV0ZV8xID0gbmV3IFJhbmdlU2V0KCkuYWRkS2V5cyhvcC5rZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZlZFJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAha2V5c1RvRGVsZXRlXzEuaGFzS2V5KHJlcS52YWx1ZXMgPyBleHRyYWN0UHJpbUtleShpdGVtKSA6IGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlUmFuZ2UnOlxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2VfMSA9IG9wLnJhbmdlO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmVkUmVzdWx0ID0gcmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gIWlzV2l0aGluUmFuZ2UoZXh0cmFjdFByaW1LZXkoaXRlbSksIHJhbmdlXzEpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kaWZlZFJlc3VsdDtcbiAgICAgICAgfSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKGZpbmFsUmVzdWx0ID09PSByZXN1bHQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBmaW5hbFJlc3VsdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gY21wKGV4dHJhY3RMb3dMZXZlbEluZGV4KGEpLCBleHRyYWN0TG93TGV2ZWxJbmRleChiKSkgfHxcbiAgICAgICAgICAgICAgICBjbXAoZXh0cmFjdFByaW1LZXkoYSksIGV4dHJhY3RQcmltS2V5KGIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXEubGltaXQgJiYgcmVxLmxpbWl0IDwgSW5maW5pdHkpIHtcbiAgICAgICAgICAgIGlmIChmaW5hbFJlc3VsdC5sZW5ndGggPiByZXEubGltaXQpIHtcbiAgICAgICAgICAgICAgICBmaW5hbFJlc3VsdC5sZW5ndGggPSByZXEubGltaXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQubGVuZ3RoID09PSByZXEubGltaXQgJiYgZmluYWxSZXN1bHQubGVuZ3RoIDwgcmVxLmxpbWl0KSB7XG4gICAgICAgICAgICAgICAgY2FjaGVFbnRyeS5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltbXV0YWJsZSA/IE9iamVjdC5mcmVlemUoZmluYWxSZXN1bHQpIDogZmluYWxSZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJlUmFuZ2VzRXF1YWwocjEsIHIyKSB7XG4gICAgICAgIHJldHVybiAoY21wKHIxLmxvd2VyLCByMi5sb3dlcikgPT09IDAgJiZcbiAgICAgICAgICAgIGNtcChyMS51cHBlciwgcjIudXBwZXIpID09PSAwICYmXG4gICAgICAgICAgICAhIXIxLmxvd2VyT3BlbiA9PT0gISFyMi5sb3dlck9wZW4gJiZcbiAgICAgICAgICAgICEhcjEudXBwZXJPcGVuID09PSAhIXIyLnVwcGVyT3Blbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcGFyZUxvd2Vycyhsb3dlcjEsIGxvd2VyMiwgbG93ZXJPcGVuMSwgbG93ZXJPcGVuMikge1xuICAgICAgICBpZiAobG93ZXIxID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gbG93ZXIyICE9PSB1bmRlZmluZWQgPyAtMSA6IDA7XG4gICAgICAgIGlmIChsb3dlcjIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB2YXIgYyA9IGNtcChsb3dlcjEsIGxvd2VyMik7XG4gICAgICAgIGlmIChjID09PSAwKSB7XG4gICAgICAgICAgICBpZiAobG93ZXJPcGVuMSAmJiBsb3dlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKGxvd2VyT3BlbjEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAobG93ZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVVcHBlcnModXBwZXIxLCB1cHBlcjIsIHVwcGVyT3BlbjEsIHVwcGVyT3BlbjIpIHtcbiAgICAgICAgaWYgKHVwcGVyMSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHVwcGVyMiAhPT0gdW5kZWZpbmVkID8gMSA6IDA7XG4gICAgICAgIGlmICh1cHBlcjIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgdmFyIGMgPSBjbXAodXBwZXIxLCB1cHBlcjIpO1xuICAgICAgICBpZiAoYyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHVwcGVyT3BlbjEgJiYgdXBwZXJPcGVuMilcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmICh1cHBlck9wZW4xKVxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmICh1cHBlck9wZW4yKVxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1N1cGVyUmFuZ2UocjEsIHIyKSB7XG4gICAgICAgIHJldHVybiAoY29tcGFyZUxvd2VycyhyMS5sb3dlciwgcjIubG93ZXIsIHIxLmxvd2VyT3BlbiwgcjIubG93ZXJPcGVuKSA8PSAwICYmXG4gICAgICAgICAgICBjb21wYXJlVXBwZXJzKHIxLnVwcGVyLCByMi51cHBlciwgcjEudXBwZXJPcGVuLCByMi51cHBlck9wZW4pID49IDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRDb21wYXRpYmxlUXVlcnkoZGJOYW1lLCB0YWJsZU5hbWUsIHR5cGUsIHJlcSkge1xuICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgIGlmICghdGJsQ2FjaGUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHZhciBxdWVyaWVzID0gdGJsQ2FjaGUucXVlcmllc1t0eXBlXTtcbiAgICAgICAgaWYgKCFxdWVyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBmYWxzZSwgdGJsQ2FjaGUsIG51bGxdO1xuICAgICAgICB2YXIgaW5kZXhOYW1lID0gcmVxLnF1ZXJ5ID8gcmVxLnF1ZXJ5LmluZGV4Lm5hbWUgOiBudWxsO1xuICAgICAgICB2YXIgZW50cmllcyA9IHF1ZXJpZXNbaW5kZXhOYW1lIHx8ICcnXTtcbiAgICAgICAgaWYgKCFlbnRyaWVzKVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBmYWxzZSwgdGJsQ2FjaGUsIG51bGxdO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3F1ZXJ5JzpcbiAgICAgICAgICAgICAgICB2YXIgZXF1YWxFbnRyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnJlcS5saW1pdCA9PT0gcmVxLmxpbWl0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5yZXEudmFsdWVzID09PSByZXEudmFsdWVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVSYW5nZXNFcXVhbChlbnRyeS5yZXEucXVlcnkucmFuZ2UsIHJlcS5xdWVyeS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVxdWFsRW50cnkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBlcXVhbEVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllcyxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJFbnRyeSA9IGVudHJpZXMuZmluZChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBlbnRyeS5yZXEgPyBlbnRyeS5yZXEubGltaXQgOiBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChsaW1pdCA+PSByZXEubGltaXQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChyZXEudmFsdWVzID8gZW50cnkucmVxLnZhbHVlcyA6IHRydWUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1N1cGVyUmFuZ2UoZW50cnkucmVxLnF1ZXJ5LnJhbmdlLCByZXEucXVlcnkucmFuZ2UpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3N1cGVyRW50cnksIGZhbHNlLCB0YmxDYWNoZSwgZW50cmllc107XG4gICAgICAgICAgICBjYXNlICdjb3VudCc6XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50UXVlcnkgPSBlbnRyaWVzLmZpbmQoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmVSYW5nZXNFcXVhbChlbnRyeS5yZXEucXVlcnkucmFuZ2UsIHJlcS5xdWVyeS5yYW5nZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtjb3VudFF1ZXJ5LCAhIWNvdW50UXVlcnksIHRibENhY2hlLCBlbnRyaWVzXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvQ2FjaGVFbnRyeShjYWNoZUVudHJ5LCBjb250YWluZXIsIHJlcXVlcnksIHNpZ25hbCkge1xuICAgICAgICBjYWNoZUVudHJ5LnN1YnNjcmliZXJzLmFkZChyZXF1ZXJ5KTtcbiAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWNoZUVudHJ5LnN1YnNjcmliZXJzLmRlbGV0ZShyZXF1ZXJ5KTtcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LnN1YnNjcmliZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbnF1ZUZvckRlbGV0aW9uKGNhY2hlRW50cnksIGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZUZvckRlbGV0aW9uKGNhY2hlRW50cnksIGNvbnRhaW5lcikge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LnN1YnNjcmliZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0oY29udGFpbmVyLCBjYWNoZUVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfVxuXG4gICAgdmFyIGNhY2hlTWlkZGxld2FyZSA9IHtcbiAgICAgICAgc3RhY2s6ICdkYmNvcmUnLFxuICAgICAgICBsZXZlbDogMCxcbiAgICAgICAgbmFtZTogJ0NhY2hlJyxcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoY29yZSkge1xuICAgICAgICAgICAgdmFyIGRiTmFtZSA9IGNvcmUuc2NoZW1hLm5hbWU7XG4gICAgICAgICAgICB2YXIgY29yZU1XID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvcmUpLCB7IHRyYW5zYWN0aW9uOiBmdW5jdGlvbiAoc3RvcmVzLCBtb2RlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZGJ0cmFucyA9IGNvcmUudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWNfMSA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaWduYWwgPSBhY18xLnNpZ25hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uICh3YXNDb21taXR0ZWQpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY18xLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdyZWFkd3JpdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZmZlY3RlZFN1YnNjcmliZXJzXzEgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgc3RvcmVzXzEgPSBzdG9yZXM7IF9pIDwgc3RvcmVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVOYW1lID0gc3RvcmVzXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRibENhY2hlID0gY2FjaGVbXCJpZGI6Ly9cIi5jb25jYXQoZGJOYW1lLCBcIi9cIikuY29uY2F0KHN0b3JlTmFtZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRibENhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gY29yZS50YWJsZShzdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHMgPSB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLnRyYW5zID09PSBpZGJ0cmFuczsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkYnRyYW5zLl9leHBsaWNpdCAmJiB3YXNDb21taXR0ZWQgJiYgaWRidHJhbnMubXV0YXRlZFBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBPYmplY3QudmFsdWVzKHRibENhY2hlLnF1ZXJpZXMucXVlcnkpOyBfYSA8IF9iLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJpZXMgPSBfYltfYV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IDAsIF9kID0gZW50cmllcy5zbGljZSgpOyBfYyA8IF9kLmxlbmd0aDsgX2MrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IF9kW19jXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JzU2V0c092ZXJsYXAoZW50cnkub2JzU2V0LCBpZGJ0cmFucy5tdXRhdGVkUGFydHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlcnkpIHsgcmV0dXJuIGFmZmVjdGVkU3Vic2NyaWJlcnNfMS5hZGQocmVxdWVyeSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzID0gdGJsQ2FjaGUub3B0aW1pc3RpY09wcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC50cmFucyAhPT0gaWRidHJhbnM7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZSA9IDAsIF9mID0gT2JqZWN0LnZhbHVlcyh0YmxDYWNoZS5xdWVyaWVzLnF1ZXJ5KTsgX2UgPCBfZi5sZW5ndGg7IF9lKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRyaWVzID0gX2ZbX2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2cgPSAwLCBfaCA9IGVudHJpZXMuc2xpY2UoKTsgX2cgPCBfaC5sZW5ndGg7IF9nKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBfaFtfZ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnJlcyAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkYnRyYW5zLm11dGF0ZWRQYXJ0c1xuICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2FzQ29tbWl0dGVkICYmICFlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyZWV6ZVJlc3VsdHMgPSBPYmplY3QuaXNGcm96ZW4oZW50cnkucmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RSZXMgPSBhcHBseU9wdGltaXN0aWNPcHMoZW50cnkucmVzLCBlbnRyeS5yZXEsIG9wcywgdGFibGUsIGVudHJ5LCBmcmVlemVSZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gYWZmZWN0ZWRTdWJzY3JpYmVyc18xLmFkZChyZXF1ZXJ5KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RSZXMgIT09IGVudHJ5LnJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnJlcyA9IG1vZFJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5wcm9taXNlID0gRGV4aWVQcm9taXNlLnJlc29sdmUoeyByZXN1bHQ6IG1vZFJlcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEFycmF5SXRlbShlbnRyaWVzLCBlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXJ5KSB7IHJldHVybiBhZmZlY3RlZFN1YnNjcmliZXJzXzEuYWRkKHJlcXVlcnkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFN1YnNjcmliZXJzXzEuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVyeSkgeyByZXR1cm4gcmVxdWVyeSgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9OyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlbmRUcmFuc2FjdGlvbihmYWxzZSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlbmRUcmFuc2FjdGlvbihmYWxzZSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRidHJhbnMuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBlbmRUcmFuc2FjdGlvbih0cnVlKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkYnRyYW5zO1xuICAgICAgICAgICAgICAgIH0sIHRhYmxlOiBmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkb3duVGFibGUgPSBjb3JlLnRhYmxlKHRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmltS2V5ID0gZG93blRhYmxlLnNjaGVtYS5wcmltYXJ5S2V5O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVNVyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkb3duVGFibGUpLCB7IG11dGF0ZTogZnVuY3Rpb24gKHJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFucyA9IFBTRC50cmFucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpbUtleS5vdXRib3VuZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5kYi5fb3B0aW9ucy5jYWNoZSA9PT0gJ2Rpc2FibGVkJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5leHBsaWNpdCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFucy5pZGJ0cmFucy5tb2RlICE9PSAncmVhZHdyaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG93blRhYmxlLm11dGF0ZShyZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGJsQ2FjaGUgPSBjYWNoZVtcImlkYjovL1wiLmNvbmNhdChkYk5hbWUsIFwiL1wiKS5jb25jYXQodGFibGVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0YmxDYWNoZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGRvd25UYWJsZS5tdXRhdGUocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHJlcS50eXBlID09PSAnYWRkJyB8fCByZXEudHlwZSA9PT0gJ3B1dCcpICYmIChyZXEudmFsdWVzLmxlbmd0aCA+PSA1MCB8fCBnZXRFZmZlY3RpdmVLZXlzKHByaW1LZXksIHJlcSkuc29tZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBrZXkgPT0gbnVsbDsgfSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVxV2l0aFJlc29sdmVkS2V5cyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXEpLCB7IHZhbHVlczogcmVxLnZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5mYWlsdXJlc1tpXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlV2l0aEtleSA9ICgoX2EgPSBwcmltS2V5LmtleVBhdGgpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcygnLicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkZWVwQ2xvbmUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF9fYXNzaWduKHt9LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aCh2YWx1ZVdpdGhLZXksIHByaW1LZXkua2V5UGF0aCwgcmVzLnJlc3VsdHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVXaXRoS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdGVkUmVxID0gYWRqdXN0T3B0aW1pc3RpY0Zyb21GYWlsdXJlcyh0YmxDYWNoZSwgcmVxV2l0aFJlc29sdmVkS2V5cywgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLm9wdGltaXN0aWNPcHMucHVzaChhZGp1c3RlZFJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7IHJldHVybiByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLnB1c2gocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm11dGF0ZWRQYXJ0cyAmJiBzaWduYWxTdWJzY3JpYmVyc0xhemlseShyZXEubXV0YXRlZFBhcnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubnVtRmFpbHVyZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKHRibENhY2hlLm9wdGltaXN0aWNPcHMsIHJlcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdGVkUmVxID0gYWRqdXN0T3B0aW1pc3RpY0Zyb21GYWlsdXJlcyh0YmxDYWNoZSwgcmVxLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGp1c3RlZFJlcSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZS5vcHRpbWlzdGljT3BzLnB1c2goYWRqdXN0ZWRSZXEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEubXV0YXRlZFBhcnRzICYmIHNpZ25hbFN1YnNjcmliZXJzTGF6aWx5KHJlcS5tdXRhdGVkUGFydHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxBcnJheUl0ZW0odGJsQ2FjaGUub3B0aW1pc3RpY09wcywgcmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5tdXRhdGVkUGFydHMgJiYgc2lnbmFsU3Vic2NyaWJlcnNMYXppbHkocmVxLm11dGF0ZWRQYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHF1ZXJ5OiBmdW5jdGlvbiAocmVxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDYWNoYWJsZUNvbnRleHQoUFNELCBkb3duVGFibGUpIHx8ICFpc0NhY2hhYmxlUmVxdWVzdChcInF1ZXJ5XCIsIHJlcSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkb3duVGFibGUucXVlcnkocmVxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJlZXplUmVzdWx0cyA9ICgoX2EgPSBQU0QudHJhbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kYi5fb3B0aW9ucy5jYWNoZSkgPT09ICdpbW11dGFibGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiA9IFBTRCwgcmVxdWVyeSA9IF9iLnJlcXVlcnksIHNpZ25hbCA9IF9iLnNpZ25hbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2MgPSBmaW5kQ29tcGF0aWJsZVF1ZXJ5KGRiTmFtZSwgdGFibGVOYW1lLCAncXVlcnknLCByZXEpLCBjYWNoZUVudHJ5ID0gX2NbMF0sIGV4YWN0TWF0Y2ggPSBfY1sxXSwgdGJsQ2FjaGUgPSBfY1syXSwgY29udGFpbmVyID0gX2NbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkgJiYgZXhhY3RNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5Lm9ic1NldCA9IHJlcS5vYnNTZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IGRvd25UYWJsZS5xdWVyeShyZXEpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlcy5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVFbnRyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUVudHJ5LnJlcyA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVlemVSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUocmVzdWx0W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlc3VsdCA9IGRlZXBDbG9uZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyICYmIGNhY2hlRW50cnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsQXJyYXlJdGVtKGNvbnRhaW5lciwgY2FjaGVFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic1NldDogcmVxLm9ic1NldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyczogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcTogcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlydHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucHVzaChjYWNoZUVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IFtjYWNoZUVudHJ5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGJsQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YmxDYWNoZSA9IGNhY2hlW1wiaWRiOi8vXCIuY29uY2F0KGRiTmFtZSwgXCIvXCIpLmNvbmNhdCh0YWJsZU5hbWUpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpzOiBuZXcgTWFwKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGltaXN0aWNPcHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25hbGVkUGFydHM6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibENhY2hlLnF1ZXJpZXMucXVlcnlbcmVxLnF1ZXJ5LmluZGV4Lm5hbWUgfHwgJyddID0gY29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZVRvQ2FjaGVFbnRyeShjYWNoZUVudHJ5LCBjb250YWluZXIsIHJlcXVlcnksIHNpZ25hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlRW50cnkucHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXBwbHlPcHRpbWlzdGljT3BzKHJlcy5yZXN1bHQsIHJlcSwgdGJsQ2FjaGUgPT09IG51bGwgfHwgdGJsQ2FjaGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRibENhY2hlLm9wdGltaXN0aWNPcHMsIGRvd25UYWJsZSwgY2FjaGVFbnRyeSwgZnJlZXplUmVzdWx0cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVNVztcbiAgICAgICAgICAgICAgICB9IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNvcmVNVztcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdmlwaWZ5KHRhcmdldCwgdmlwRGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh0YXJnZXQsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RiJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcERiO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIERleGllJDEgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gRGV4aWUobmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX21pZGRsZXdhcmVzID0ge307XG4gICAgICAgICAgICB0aGlzLnZlcm5vID0gMDtcbiAgICAgICAgICAgIHZhciBkZXBzID0gRGV4aWUuZGVwZW5kZW5jaWVzO1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgPSBfX2Fzc2lnbih7XG4gICAgICAgICAgICAgICAgYWRkb25zOiBEZXhpZS5hZGRvbnMsIGF1dG9PcGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluZGV4ZWREQjogZGVwcy5pbmRleGVkREIsIElEQktleVJhbmdlOiBkZXBzLklEQktleVJhbmdlLCBjYWNoZTogJ2Nsb25lZCcgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9kZXBzID0ge1xuICAgICAgICAgICAgICAgIGluZGV4ZWREQjogb3B0aW9ucy5pbmRleGVkREIsXG4gICAgICAgICAgICAgICAgSURCS2V5UmFuZ2U6IG9wdGlvbnMuSURCS2V5UmFuZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgYWRkb25zID0gb3B0aW9ucy5hZGRvbnM7XG4gICAgICAgICAgICB0aGlzLl9kYlNjaGVtYSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fdmVyc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlTmFtZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2FsbFRhYmxlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5pZGJkYiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9ub3ZpcCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgZGJPcGVuRXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgaXNCZWluZ09wZW5lZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25SZWFkeUJlaW5nRmlyZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgb3BlbkNvbXBsZXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYlJlYWR5UmVzb2x2ZTogbm9wLFxuICAgICAgICAgICAgICAgIGRiUmVhZHlQcm9taXNlOiBudWxsLFxuICAgICAgICAgICAgICAgIGNhbmNlbE9wZW46IG5vcCxcbiAgICAgICAgICAgICAgICBvcGVuQ2FuY2VsbGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGF1dG9TY2hlbWE6IHRydWUsXG4gICAgICAgICAgICAgICAgUFIxMzk4X21heExvb3A6IDMsXG4gICAgICAgICAgICAgICAgYXV0b09wZW46IG9wdGlvbnMuYXV0b09wZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVByb21pc2UgPSBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZGJSZWFkeVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0ZS5vcGVuQ2FuY2VsbGVyID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY2FuY2VsT3BlbiA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLm9uID0gRXZlbnRzKHRoaXMsIFwicG9wdWxhdGVcIiwgXCJibG9ja2VkXCIsIFwidmVyc2lvbmNoYW5nZVwiLCBcImNsb3NlXCIsIHsgcmVhZHk6IFtwcm9taXNhYmxlQ2hhaW4sIG5vcF0gfSk7XG4gICAgICAgICAgICB0aGlzLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uKGV2ZW50KS51bnN1YnNjcmliZShmbik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KF90aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbihldmVudCwgZm4pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub24ucmVhZHkuc3Vic2NyaWJlID0gb3ZlcnJpZGUodGhpcy5vbi5yZWFkeS5zdWJzY3JpYmUsIGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIsIGJTdGlja3kpIHtcbiAgICAgICAgICAgICAgICAgICAgRGV4aWUudmlwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IF90aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5vcGVuQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmRiT3BlbkVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXhpZVByb21pc2UucmVzb2x2ZSgpLnRoZW4oc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJTdGlja3kpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLm9uUmVhZHlCZWluZ0ZpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub25SZWFkeUJlaW5nRmlyZWQucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYlN0aWNreSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYl8xID0gX3RoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFiU3RpY2t5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYl8xLm9uLnJlYWR5LnVuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJfMS5vbi5yZWFkeS51bnN1YnNjcmliZSh1bnN1YnNjcmliZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLkNvbGxlY3Rpb24gPSBjcmVhdGVDb2xsZWN0aW9uQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLlRhYmxlID0gY3JlYXRlVGFibGVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuVHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbkNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5WZXJzaW9uID0gY3JlYXRlVmVyc2lvbkNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5XaGVyZUNsYXVzZSA9IGNyZWF0ZVdoZXJlQ2xhdXNlQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9uKFwidmVyc2lvbmNoYW5nZVwiLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXYubmV3VmVyc2lvbiA+IDApXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFub3RoZXIgY29ubmVjdGlvbiB3YW50cyB0byB1cGdyYWRlIGRhdGFiYXNlICdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInLiBDbG9zaW5nIGRiIG5vdyB0byByZXN1bWUgdGhlIHVwZ3JhZGUuXCIpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFub3RoZXIgY29ubmVjdGlvbiB3YW50cyB0byBkZWxldGUgZGF0YWJhc2UgJ1wiLmNvbmNhdChfdGhpcy5uYW1lLCBcIicuIENsb3NpbmcgZGIgbm93IHRvIHJlc3VtZSB0aGUgZGVsZXRlIHJlcXVlc3QuXCIpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSh7IGRpc2FibGVBdXRvT3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMub24oXCJibG9ja2VkXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIGlmICghZXYubmV3VmVyc2lvbiB8fCBldi5uZXdWZXJzaW9uIDwgZXYub2xkVmVyc2lvbilcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRGV4aWUuZGVsZXRlKCdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInKSB3YXMgYmxvY2tlZFwiKSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVcGdyYWRlICdcIi5jb25jYXQoX3RoaXMubmFtZSwgXCInIGJsb2NrZWQgYnkgb3RoZXIgY29ubmVjdGlvbiBob2xkaW5nIHZlcnNpb24gXCIpLmNvbmNhdChldi5vbGRWZXJzaW9uIC8gMTApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbWF4S2V5ID0gZ2V0TWF4S2V5KG9wdGlvbnMuSURCS2V5UmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlVHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAobW9kZSwgc3RvcmVOYW1lcywgZGJzY2hlbWEsIHBhcmVudFRyYW5zYWN0aW9uKSB7IHJldHVybiBuZXcgX3RoaXMuVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZGJzY2hlbWEsIF90aGlzLl9vcHRpb25zLmNocm9tZVRyYW5zYWN0aW9uRHVyYWJpbGl0eSwgcGFyZW50VHJhbnNhY3Rpb24pOyB9O1xuICAgICAgICAgICAgdGhpcy5fZmlyZU9uQmxvY2tlZCA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uKFwiYmxvY2tlZFwiKS5maXJlKGV2KTtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm5hbWUgPT09IF90aGlzLm5hbWUgJiYgYyAhPT0gX3RoaXMgJiYgIWMuX3N0YXRlLnZjRmlyZWQ7IH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMub24oXCJ2ZXJzaW9uY2hhbmdlXCIpLmZpcmUoZXYpOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnVzZShjYWNoZUV4aXN0aW5nVmFsdWVzTWlkZGxld2FyZSk7XG4gICAgICAgICAgICB0aGlzLnVzZShjYWNoZU1pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2Uob2JzZXJ2YWJpbGl0eU1pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdGhpcy51c2UodmlydHVhbEluZGV4TWlkZGxld2FyZSk7XG4gICAgICAgICAgICB0aGlzLnVzZShob29rc01pZGRsZXdhcmUpO1xuICAgICAgICAgICAgdmFyIHZpcERCID0gbmV3IFByb3h5KHRoaXMsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChfLCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ192aXAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAndGFibGUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YWJsZU5hbWUpIHsgcmV0dXJuIHZpcGlmeShfdGhpcy50YWJsZSh0YWJsZU5hbWUpLCB2aXBEQik7IH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBydiA9IFJlZmxlY3QuZ2V0KF8sIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ2IGluc3RhbmNlb2YgVGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlwaWZ5KHJ2LCB2aXBEQik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAndGFibGVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBydi5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHZpcGlmeSh0LCB2aXBEQik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ19jcmVhdGVUcmFuc2FjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eCA9IHJ2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpcGlmeSh0eCwgdmlwREIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy52aXAgPSB2aXBEQjtcbiAgICAgICAgICAgIGFkZG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhZGRvbikgeyByZXR1cm4gYWRkb24oX3RoaXMpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBEZXhpZS5wcm90b3R5cGUudmVyc2lvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odmVyc2lvbk51bWJlcikgfHwgdmVyc2lvbk51bWJlciA8IDAuMSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5UeXBlKFwiR2l2ZW4gdmVyc2lvbiBpcyBub3QgYSBwb3NpdGl2ZSBudW1iZXJcIik7XG4gICAgICAgICAgICB2ZXJzaW9uTnVtYmVyID0gTWF0aC5yb3VuZCh2ZXJzaW9uTnVtYmVyICogMTApIC8gMTA7XG4gICAgICAgICAgICBpZiAodGhpcy5pZGJkYiB8fCB0aGlzLl9zdGF0ZS5pc0JlaW5nT3BlbmVkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIkNhbm5vdCBhZGQgdmVyc2lvbiB3aGVuIGRhdGFiYXNlIGlzIG9wZW5cIik7XG4gICAgICAgICAgICB0aGlzLnZlcm5vID0gTWF0aC5tYXgodGhpcy52ZXJubywgdmVyc2lvbk51bWJlcik7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbnMgPSB0aGlzLl92ZXJzaW9ucztcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uSW5zdGFuY2UgPSB2ZXJzaW9ucy5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYuX2NmZy52ZXJzaW9uID09PSB2ZXJzaW9uTnVtYmVyOyB9KVswXTtcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uSW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25JbnN0YW5jZTtcbiAgICAgICAgICAgIHZlcnNpb25JbnN0YW5jZSA9IG5ldyB0aGlzLlZlcnNpb24odmVyc2lvbk51bWJlcik7XG4gICAgICAgICAgICB2ZXJzaW9ucy5wdXNoKHZlcnNpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICB2ZXJzaW9ucy5zb3J0KGxvd2VyVmVyc2lvbkZpcnN0KTtcbiAgICAgICAgICAgIHZlcnNpb25JbnN0YW5jZS5zdG9yZXMoe30pO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUuYXV0b1NjaGVtYSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25JbnN0YW5jZTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLl93aGVuUmVhZHkgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuaWRiZGIgJiYgKHRoaXMuX3N0YXRlLm9wZW5Db21wbGV0ZSB8fCBQU0QubGV0VGhyb3VnaCB8fCB0aGlzLl92aXApKSA/IGZuKCkgOiBuZXcgRGV4aWVQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3N0YXRlLm9wZW5Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKF90aGlzLl9zdGF0ZS5kYk9wZW5FcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9zdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3N0YXRlLmF1dG9PcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3BlbigpLmNhdGNoKG5vcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLl9zdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KS50aGVuKGZuKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gX2Euc3RhY2ssIGNyZWF0ZSA9IF9hLmNyZWF0ZSwgbGV2ZWwgPSBfYS5sZXZlbCwgbmFtZSA9IF9hLm5hbWU7XG4gICAgICAgICAgICBpZiAobmFtZSlcbiAgICAgICAgICAgICAgICB0aGlzLnVudXNlKHsgc3RhY2s6IHN0YWNrLCBuYW1lOiBuYW1lIH0pO1xuICAgICAgICAgICAgdmFyIG1pZGRsZXdhcmVzID0gdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdIHx8ICh0aGlzLl9taWRkbGV3YXJlc1tzdGFja10gPSBbXSk7XG4gICAgICAgICAgICBtaWRkbGV3YXJlcy5wdXNoKHsgc3RhY2s6IHN0YWNrLCBjcmVhdGU6IGNyZWF0ZSwgbGV2ZWw6IGxldmVsID09IG51bGwgPyAxMCA6IGxldmVsLCBuYW1lOiBuYW1lIH0pO1xuICAgICAgICAgICAgbWlkZGxld2FyZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5sZXZlbCAtIGIubGV2ZWw7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS51bnVzZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gX2Euc3RhY2ssIG5hbWUgPSBfYS5uYW1lLCBjcmVhdGUgPSBfYS5jcmVhdGU7XG4gICAgICAgICAgICBpZiAoc3RhY2sgJiYgdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdID0gdGhpcy5fbWlkZGxld2FyZXNbc3RhY2tdLmZpbHRlcihmdW5jdGlvbiAobXcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZSA/IG13LmNyZWF0ZSAhPT0gY3JlYXRlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPyBtdy5uYW1lICE9PSBuYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdXNlUFNEKGdsb2JhbFBTRCxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRleGllT3BlbihfdGhpcyk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuX2Nsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5vbi5jbG9zZS5maXJlKG5ldyBDdXN0b21FdmVudCgnY2xvc2UnKSk7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgICAgIHZhciBpZHggPSBjb25uZWN0aW9ucy5pbmRleE9mKHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlkeCA+PSAwKVxuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaWRiZGIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkYmRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICB0aGlzLmlkYmRiID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmRiUmVhZHlQcm9taXNlID0gbmV3IERleGllUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kYlJlYWR5UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdGUub3BlbkNhbmNlbGxlciA9IG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jYW5jZWxPcGVuID0gcmVqZWN0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7IGRpc2FibGVBdXRvT3BlbjogdHJ1ZSB9IDogX2EsIGRpc2FibGVBdXRvT3BlbiA9IF9iLmRpc2FibGVBdXRvT3BlbjtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVBdXRvT3Blbikge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5pc0JlaW5nT3BlbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmNhbmNlbE9wZW4obmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXV0b09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kYk9wZW5FcnJvciA9IG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmF1dG9PcGVuID0gdGhpcy5fb3B0aW9ucy5hdXRvT3BlbiB8fFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pc0JlaW5nT3BlbmVkO1xuICAgICAgICAgICAgICAgIHN0YXRlLm9wZW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRiT3BlbkVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChjbG9zZU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoY2xvc2VPcHRpb25zID09PSB2b2lkIDApIHsgY2xvc2VPcHRpb25zID0geyBkaXNhYmxlQXV0b09wZW46IHRydWUgfTsgfVxuICAgICAgICAgICAgdmFyIGhhc0ludmFsaWRBcmd1bWVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnb2JqZWN0JztcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZVByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBkb0RlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2UoY2xvc2VPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IF90aGlzLl9kZXBzLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShfdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX29uRGF0YWJhc2VEZWxldGVkKF90aGlzLl9kZXBzLCBfdGhpcy5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmJsb2NrZWQgPSBfdGhpcy5fZmlyZU9uQmxvY2tlZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChoYXNJbnZhbGlkQXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJJbnZhbGlkIGNsb3NlT3B0aW9ucyBhcmd1bWVudCB0byBkYi5kZWxldGUoKVwiKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kYlJlYWR5UHJvbWlzZS50aGVuKGRvRGVsZXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRvRGVsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIERleGllLnByb3RvdHlwZS5iYWNrZW5kREIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZGJkYjtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkYmRiICE9PSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUuaGFzQmVlbkNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYk9wZW5FcnJvciA9IHRoaXMuX3N0YXRlLmRiT3BlbkVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIGRiT3BlbkVycm9yICYmIChkYk9wZW5FcnJvci5uYW1lID09PSAnRGF0YWJhc2VDbG9zZWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmhhc0ZhaWxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5kYk9wZW5FcnJvciAhPT0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLmR5bmFtaWNhbGx5T3BlbmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlLmF1dG9TY2hlbWE7XG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZXhpZS5wcm90b3R5cGUsIFwidGFibGVzXCIsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXModGhpcy5fYWxsVGFibGVzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIF90aGlzLl9hbGxUYWJsZXNbbmFtZV07IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBEZXhpZS5wcm90b3R5cGUudHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGV4dHJhY3RUcmFuc2FjdGlvbkFyZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFuc2FjdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLl90cmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChtb2RlLCB0YWJsZXMsIHNjb3BlRnVuYykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBwYXJlbnRUcmFuc2FjdGlvbiA9IFBTRC50cmFucztcbiAgICAgICAgICAgIGlmICghcGFyZW50VHJhbnNhY3Rpb24gfHwgcGFyZW50VHJhbnNhY3Rpb24uZGIgIT09IHRoaXMgfHwgbW9kZS5pbmRleE9mKCchJykgIT09IC0xKVxuICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBvbmx5SWZDb21wYXRpYmxlID0gbW9kZS5pbmRleE9mKCc/JykgIT09IC0xO1xuICAgICAgICAgICAgbW9kZSA9IG1vZGUucmVwbGFjZSgnIScsICcnKS5yZXBsYWNlKCc/JywgJycpO1xuICAgICAgICAgICAgdmFyIGlkYk1vZGUsIHN0b3JlTmFtZXM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0b3JlTmFtZXMgPSB0YWJsZXMubWFwKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmVOYW1lID0gdGFibGUgaW5zdGFuY2VvZiBfdGhpcy5UYWJsZSA/IHRhYmxlLm5hbWUgOiB0YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdG9yZU5hbWUgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFibGUgYXJndW1lbnQgdG8gRGV4aWUudHJhbnNhY3Rpb24oKS4gT25seSBUYWJsZSBvciBTdHJpbmcgYXJlIGFsbG93ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZU5hbWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT0gXCJyXCIgfHwgbW9kZSA9PT0gUkVBRE9OTFkpXG4gICAgICAgICAgICAgICAgICAgIGlkYk1vZGUgPSBSRUFET05MWTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtb2RlID09IFwicndcIiB8fCBtb2RlID09IFJFQURXUklURSlcbiAgICAgICAgICAgICAgICAgICAgaWRiTW9kZSA9IFJFQURXUklURTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkludmFsaWQgdHJhbnNhY3Rpb24gbW9kZTogXCIgKyBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uLm1vZGUgPT09IFJFQURPTkxZICYmIGlkYk1vZGUgPT09IFJFQURXUklURSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9ubHlJZkNvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU3ViVHJhbnNhY3Rpb24oXCJDYW5ub3QgZW50ZXIgYSBzdWItdHJhbnNhY3Rpb24gd2l0aCBSRUFEV1JJVEUgbW9kZSB3aGVuIHBhcmVudCB0cmFuc2FjdGlvbiBpcyBSRUFET05MWVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uICYmIHBhcmVudFRyYW5zYWN0aW9uLnN0b3JlTmFtZXMuaW5kZXhPZihzdG9yZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25seUlmQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlN1YlRyYW5zYWN0aW9uKFwiVGFibGUgXCIgKyBzdG9yZU5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIG5vdCBpbmNsdWRlZCBpbiBwYXJlbnQgdHJhbnNhY3Rpb24uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbmx5SWZDb21wYXRpYmxlICYmIHBhcmVudFRyYW5zYWN0aW9uICYmICFwYXJlbnRUcmFuc2FjdGlvbi5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudFRyYW5zYWN0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24uX3Byb21pc2UobnVsbCwgZnVuY3Rpb24gKF8sIHJlamVjdCkgeyByZWplY3QoZSk7IH0pIDpcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0aW9uKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVudGVyVHJhbnNhY3Rpb24gPSBlbnRlclRyYW5zYWN0aW9uU2NvcGUuYmluZChudWxsLCB0aGlzLCBpZGJNb2RlLCBzdG9yZU5hbWVzLCBwYXJlbnRUcmFuc2FjdGlvbiwgc2NvcGVGdW5jKTtcbiAgICAgICAgICAgIHJldHVybiAocGFyZW50VHJhbnNhY3Rpb24gP1xuICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uLl9wcm9taXNlKGlkYk1vZGUsIGVudGVyVHJhbnNhY3Rpb24sIFwibG9ja1wiKSA6XG4gICAgICAgICAgICAgICAgUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICAgICAgdXNlUFNEKFBTRC50cmFuc2xlc3MsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl93aGVuUmVhZHkoZW50ZXJUcmFuc2FjdGlvbik7IH0pIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2hlblJlYWR5KGVudGVyVHJhbnNhY3Rpb24pKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGV4aWUucHJvdG90eXBlLnRhYmxlID0gZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd24odGhpcy5fYWxsVGFibGVzLCB0YWJsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZFRhYmxlKFwiVGFibGUgXCIuY29uY2F0KHRhYmxlTmFtZSwgXCIgZG9lcyBub3QgZXhpc3RcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsbFRhYmxlc1t0YWJsZU5hbWVdO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gRGV4aWU7XG4gICAgfSgpKTtcblxuICAgIHZhciBzeW1ib2xPYnNlcnZhYmxlID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcIm9ic2VydmFibGVcIiBpbiBTeW1ib2xcbiAgICAgICAgPyBTeW1ib2wub2JzZXJ2YWJsZVxuICAgICAgICA6IFwiQEBvYnNlcnZhYmxlXCI7XG4gICAgdmFyIE9ic2VydmFibGUgPSAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgICAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoeCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKCF4IHx8IHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCIgPyB7IG5leHQ6IHgsIGVycm9yOiBlcnJvciwgY29tcGxldGU6IGNvbXBsZXRlIH0gOiB4KTtcbiAgICAgICAgfTtcbiAgICAgICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbc3ltYm9sT2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE9ic2VydmFibGU7XG4gICAgfSgpKTtcblxuICAgIHZhciBkb21EZXBzO1xuICAgIHRyeSB7XG4gICAgICAgIGRvbURlcHMgPSB7XG4gICAgICAgICAgICBpbmRleGVkREI6IF9nbG9iYWwuaW5kZXhlZERCIHx8IF9nbG9iYWwubW96SW5kZXhlZERCIHx8IF9nbG9iYWwud2Via2l0SW5kZXhlZERCIHx8IF9nbG9iYWwubXNJbmRleGVkREIsXG4gICAgICAgICAgICBJREJLZXlSYW5nZTogX2dsb2JhbC5JREJLZXlSYW5nZSB8fCBfZ2xvYmFsLndlYmtpdElEQktleVJhbmdlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGRvbURlcHMgPSB7IGluZGV4ZWREQjogbnVsbCwgSURCS2V5UmFuZ2U6IG51bGwgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXZlUXVlcnkocXVlcmllcikge1xuICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHZhciBzY29wZUZ1bmNJc0FzeW5jID0gaXNBc3luY0Z1bmN0aW9uKHF1ZXJpZXIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZXhlY3V0ZShjdHgpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2FzUm9vdEV4ZWMgPSBiZWdpbk1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlRnVuY0lzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ2ID0gbmV3U2NvcGUocXVlcmllciwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlRnVuY0lzQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ2ID0gcnYuZmluYWxseShkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgd2FzUm9vdEV4ZWMgJiYgZW5kTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2xvc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgYWJvcnRDb250cm9sbGVyO1xuICAgICAgICAgICAgdmFyIGFjY3VtTXV0cyA9IHt9O1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYnMgPSB7fTtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb3NlZDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ZWRMaXN0ZW5pbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxFdmVudHMuc3RvcmFnZW11dGF0ZWQudW5zdWJzY3JpYmUobXV0YXRpb25MaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBvYnNlcnZlci5zdGFydCAmJiBvYnNlcnZlci5zdGFydChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ZWRMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBkb1F1ZXJ5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhlY0luR2xvYmFsQ29udGV4dChfZG9RdWVyeSk7IH07XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG91bGROb3RpZnkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic1NldHNPdmVybGFwKGN1cnJlbnRPYnMsIGFjY3VtTXV0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbXV0YXRpb25MaXN0ZW5lciA9IGZ1bmN0aW9uIChwYXJ0cykge1xuICAgICAgICAgICAgICAgIGV4dGVuZE9ic2VydmFiaWxpdHlTZXQoYWNjdW1NdXRzLCBwYXJ0cyk7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZE5vdGlmeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvUXVlcnkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIF9kb1F1ZXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgIWRvbURlcHMuaW5kZXhlZERCKVxuICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWNjdW1NdXRzID0ge307XG4gICAgICAgICAgICAgICAgdmFyIHN1YnNjciA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3I6IHN1YnNjcixcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXJ5OiBkb1F1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBxdWVyaWVyOiBxdWVyaWVyLFxuICAgICAgICAgICAgICAgICAgICB0cmFuczogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IGV4ZWN1dGUoY3R4KTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUocmV0KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZWQgfHwgY3R4LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYWNjdW1NdXRzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYnMgPSBzdWJzY3I7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqZWN0SXNFbXB0eShjdXJyZW50T2JzKSAmJiAhc3RhcnRlZExpc3RlbmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsRXZlbnRzKERFWElFX1NUT1JBR0VfTVVUQVRFRF9FVkVOVF9OQU1FLCBtdXRhdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ZWRMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4ZWNJbkdsb2JhbENvbnRleHQoZnVuY3Rpb24gKCkgeyByZXR1cm4gIWNsb3NlZCAmJiBvYnNlcnZlci5uZXh0ICYmIG9ic2VydmVyLm5leHQocmVzdWx0KTsgfSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVsnRGF0YWJhc2VDbG9zZWRFcnJvcicsICdBYm9ydEVycm9yJ10uaW5jbHVkZXMoZXJyID09PSBudWxsIHx8IGVyciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsb3NlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjSW5HbG9iYWxDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IgJiYgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZG9RdWVyeSwgMCk7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9KTtcbiAgICAgICAgb2JzZXJ2YWJsZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhc1ZhbHVlOyB9O1xuICAgICAgICBvYnNlcnZhYmxlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY3VycmVudFZhbHVlOyB9O1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9XG5cbiAgICB2YXIgRGV4aWUgPSBEZXhpZSQxO1xuICAgIHByb3BzKERleGllLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZnVsbE5hbWVFeGNlcHRpb25zKSwge1xuICAgICAgICBkZWxldGU6IGZ1bmN0aW9uIChkYXRhYmFzZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBkYiA9IG5ldyBEZXhpZShkYXRhYmFzZU5hbWUsIHsgYWRkb25zOiBbXSB9KTtcbiAgICAgICAgICAgIHJldHVybiBkYi5kZWxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhpc3RzOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZXhpZShuYW1lLCB7IGFkZG9uczogW10gfSkub3BlbigpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pLmNhdGNoKCdOb1N1Y2hEYXRhYmFzZUVycm9yJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXREYXRhYmFzZU5hbWVzOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldERhdGFiYXNlTmFtZXMoRGV4aWUuZGVwZW5kZW5jaWVzKS50aGVuKGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVmaW5lQ2xhc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIENsYXNzKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBleHRlbmQodGhpcywgY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ2xhc3M7XG4gICAgICAgIH0sIGlnbm9yZVRyYW5zYWN0aW9uOiBmdW5jdGlvbiAoc2NvcGVGdW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUFNELnRyYW5zID9cbiAgICAgICAgICAgICAgICB1c2VQU0QoUFNELnRyYW5zbGVzcywgc2NvcGVGdW5jKSA6XG4gICAgICAgICAgICAgICAgc2NvcGVGdW5jKCk7XG4gICAgICAgIH0sIHZpcDogdmlwLCBhc3luYzogZnVuY3Rpb24gKGdlbmVyYXRvckZuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGF3YWl0SXRlcmF0b3IoZ2VuZXJhdG9yRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcnYgfHwgdHlwZW9mIHJ2LnRoZW4gIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUocnYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSwgc3Bhd246IGZ1bmN0aW9uIChnZW5lcmF0b3JGbiwgYXJncywgdGhpeikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcnYgPSBhd2FpdEl0ZXJhdG9yKGdlbmVyYXRvckZuLmFwcGx5KHRoaXosIGFyZ3MgfHwgW10pKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJ2IHx8IHR5cGVvZiBydi50aGVuICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV4aWVQcm9taXNlLnJlc29sdmUocnYpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudFRyYW5zYWN0aW9uOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFBTRC50cmFucyB8fCBudWxsOyB9XG4gICAgICAgIH0sIHdhaXRGb3I6IGZ1bmN0aW9uIChwcm9taXNlT3JGdW5jdGlvbiwgb3B0aW9uYWxUaW1lb3V0KSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IERleGllUHJvbWlzZS5yZXNvbHZlKHR5cGVvZiBwcm9taXNlT3JGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgRGV4aWUuaWdub3JlVHJhbnNhY3Rpb24ocHJvbWlzZU9yRnVuY3Rpb24pIDpcbiAgICAgICAgICAgICAgICBwcm9taXNlT3JGdW5jdGlvbilcbiAgICAgICAgICAgICAgICAudGltZW91dChvcHRpb25hbFRpbWVvdXQgfHwgNjAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIFBTRC50cmFucyA/XG4gICAgICAgICAgICAgICAgUFNELnRyYW5zLndhaXRGb3IocHJvbWlzZSkgOlxuICAgICAgICAgICAgICAgIHByb21pc2U7XG4gICAgICAgIH0sXG4gICAgICAgIFByb21pc2U6IERleGllUHJvbWlzZSxcbiAgICAgICAgZGVidWc6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVidWc7IH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldERlYnVnKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVyaXZlOiBkZXJpdmUsIGV4dGVuZDogZXh0ZW5kLCBwcm9wczogcHJvcHMsIG92ZXJyaWRlOiBvdmVycmlkZSxcbiAgICAgICAgRXZlbnRzOiBFdmVudHMsIG9uOiBnbG9iYWxFdmVudHMsIGxpdmVRdWVyeTogbGl2ZVF1ZXJ5LCBleHRlbmRPYnNlcnZhYmlsaXR5U2V0OiBleHRlbmRPYnNlcnZhYmlsaXR5U2V0LFxuICAgICAgICBnZXRCeUtleVBhdGg6IGdldEJ5S2V5UGF0aCwgc2V0QnlLZXlQYXRoOiBzZXRCeUtleVBhdGgsIGRlbEJ5S2V5UGF0aDogZGVsQnlLZXlQYXRoLCBzaGFsbG93Q2xvbmU6IHNoYWxsb3dDbG9uZSwgZGVlcENsb25lOiBkZWVwQ2xvbmUsIGdldE9iamVjdERpZmY6IGdldE9iamVjdERpZmYsIGNtcDogY21wLCBhc2FwOiBhc2FwJDEsXG4gICAgICAgIG1pbktleTogbWluS2V5LFxuICAgICAgICBhZGRvbnM6IFtdLFxuICAgICAgICBjb25uZWN0aW9uczogY29ubmVjdGlvbnMsXG4gICAgICAgIGVycm5hbWVzOiBlcnJuYW1lcyxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBkb21EZXBzLCBjYWNoZTogY2FjaGUsXG4gICAgICAgIHNlbVZlcjogREVYSUVfVkVSU0lPTiwgdmVyc2lvbjogREVYSUVfVkVSU0lPTi5zcGxpdCgnLicpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChuKSB7IHJldHVybiBwYXJzZUludChuKTsgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKHAsIGMsIGkpIHsgcmV0dXJuIHAgKyAoYyAvIE1hdGgucG93KDEwLCBpICogMikpOyB9KSB9KSk7XG4gICAgRGV4aWUubWF4S2V5ID0gZ2V0TWF4S2V5KERleGllLmRlcGVuZGVuY2llcy5JREJLZXlSYW5nZSk7XG5cbiAgICBpZiAodHlwZW9mIGRpc3BhdGNoRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBhZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUsIGZ1bmN0aW9uICh1cGRhdGVkUGFydHMpIHtcbiAgICAgICAgICAgIGlmICghcHJvcGFnYXRpbmdMb2NhbGx5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50XzE7XG4gICAgICAgICAgICAgICAgZXZlbnRfMSA9IG5ldyBDdXN0b21FdmVudChTVE9SQUdFX01VVEFURURfRE9NX0VWRU5UX05BTUUsIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB1cGRhdGVkUGFydHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGluZ0xvY2FsbHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRpbmdMb2NhbGx5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKFNUT1JBR0VfTVVUQVRFRF9ET01fRVZFTlRfTkFNRSwgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZGV0YWlsID0gX2EuZGV0YWlsO1xuICAgICAgICAgICAgaWYgKCFwcm9wYWdhdGluZ0xvY2FsbHkpIHtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGVMb2NhbGx5KGRldGFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVMb2NhbGx5KHVwZGF0ZVBhcnRzKSB7XG4gICAgICAgIHZhciB3YXNNZSA9IHByb3BhZ2F0aW5nTG9jYWxseTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHByb3BhZ2F0aW5nTG9jYWxseSA9IHRydWU7XG4gICAgICAgICAgICBnbG9iYWxFdmVudHMuc3RvcmFnZW11dGF0ZWQuZmlyZSh1cGRhdGVQYXJ0cyk7XG4gICAgICAgICAgICBzaWduYWxTdWJzY3JpYmVyc05vdyh1cGRhdGVQYXJ0cywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBwcm9wYWdhdGluZ0xvY2FsbHkgPSB3YXNNZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcHJvcGFnYXRpbmdMb2NhbGx5ID0gZmFsc2U7XG5cbiAgICB2YXIgYmM7XG4gICAgdmFyIGNyZWF0ZUJDID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIGlmICh0eXBlb2YgQnJvYWRjYXN0Q2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY3JlYXRlQkMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBiYyA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKFNUT1JBR0VfTVVUQVRFRF9ET01fRVZFTlRfTkFNRSk7XG4gICAgICAgICAgICBiYy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIGV2LmRhdGEgJiYgcHJvcGFnYXRlTG9jYWxseShldi5kYXRhKTsgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY3JlYXRlQkMoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBiYy51bnJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYmMudW5yZWYoKTtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxFdmVudHMoREVYSUVfU1RPUkFHRV9NVVRBVEVEX0VWRU5UX05BTUUsIGZ1bmN0aW9uIChjaGFuZ2VkUGFydHMpIHtcbiAgICAgICAgICAgIGlmICghcHJvcGFnYXRpbmdMb2NhbGx5KSB7XG4gICAgICAgICAgICAgICAgYmMucG9zdE1lc3NhZ2UoY2hhbmdlZFBhcnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlaGlkZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKCFEZXhpZSQxLmRpc2FibGVCZkNhY2hlICYmIGV2ZW50LnBlcnNpc3RlZCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnRGV4aWU6IGhhbmRsaW5nIHBlcnNpc3RlZCBwYWdlaGlkZScpO1xuICAgICAgICAgICAgICAgIGJjID09PSBudWxsIHx8IGJjID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiYy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY29ubmVjdGlvbnNfMSA9IGNvbm5lY3Rpb25zOyBfaSA8IGNvbm5lY3Rpb25zXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYiA9IGNvbm5lY3Rpb25zXzFbX2ldO1xuICAgICAgICAgICAgICAgICAgICBkYi5jbG9zZSh7IGRpc2FibGVBdXRvT3BlbjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghRGV4aWUkMS5kaXNhYmxlQmZDYWNoZSAmJiBldmVudC5wZXJzaXN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVidWcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0RleGllOiBoYW5kbGluZyBwZXJzaXN0ZWQgcGFnZXNob3cnKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVCQygpO1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUxvY2FsbHkoeyBhbGw6IG5ldyBSYW5nZVNldCgtSW5maW5pdHksIFtbXV0pIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wTW9kaWZpY2F0aW9uKHsgYWRkOiB2YWx1ZSB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wTW9kaWZpY2F0aW9uKHsgcmVtb3ZlOiB2YWx1ZSB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlUHJlZml4KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wTW9kaWZpY2F0aW9uKHsgcmVwbGFjZVByZWZpeDogW2EsIGJdIH0pO1xuICAgIH1cblxuICAgIERleGllUHJvbWlzZS5yZWplY3Rpb25NYXBwZXIgPSBtYXBFcnJvcjtcbiAgICBzZXREZWJ1ZyhkZWJ1Zyk7XG5cbiAgICB2YXIgbmFtZWRFeHBvcnRzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgICAgICBfX3Byb3RvX186IG51bGwsXG4gICAgICAgIERleGllOiBEZXhpZSQxLFxuICAgICAgICBsaXZlUXVlcnk6IGxpdmVRdWVyeSxcbiAgICAgICAgRW50aXR5OiBFbnRpdHksXG4gICAgICAgIGNtcDogY21wLFxuICAgICAgICBQcm9wTW9kaWZpY2F0aW9uOiBQcm9wTW9kaWZpY2F0aW9uLFxuICAgICAgICByZXBsYWNlUHJlZml4OiByZXBsYWNlUHJlZml4LFxuICAgICAgICBhZGQ6IGFkZCxcbiAgICAgICAgcmVtb3ZlOiByZW1vdmUsXG4gICAgICAgICdkZWZhdWx0JzogRGV4aWUkMSxcbiAgICAgICAgUmFuZ2VTZXQ6IFJhbmdlU2V0LFxuICAgICAgICBtZXJnZVJhbmdlczogbWVyZ2VSYW5nZXMsXG4gICAgICAgIHJhbmdlc092ZXJsYXA6IHJhbmdlc092ZXJsYXBcbiAgICB9KTtcblxuICAgIF9fYXNzaWduKERleGllJDEsIG5hbWVkRXhwb3J0cywgeyBkZWZhdWx0OiBEZXhpZSQxIH0pO1xuXG4gICAgcmV0dXJuIERleGllJDE7XG5cbn0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRleGllLmpzLm1hcFxuIiwiLy8gTWFraW5nIHRoZSBtb2R1bGUgdmVyc2lvbiBjb25zdW1hYmxlIHZpYSByZXF1aXJlIC0gdG8gcHJvaGliaXRcbi8vIG11bHRpcGxlIG9jY3VycmFuY2llcyBvZiB0aGUgc2FtZSBtb2R1bGUgaW4gdGhlIHNhbWUgYXBwXG4vLyAoZHVhbCBwYWNrYWdlIGhhemFyZCwgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wYWNrYWdlcy5odG1sI2R1YWwtcGFja2FnZS1oYXphcmQpXG5pbXBvcnQgX0RleGllIGZyb20gXCIuL2Rpc3QvZGV4aWUuanNcIjtcbmNvbnN0IERleGllU3ltYm9sID0gU3ltYm9sLmZvcihcIkRleGllXCIpO1xuY29uc3QgRGV4aWUgPSBnbG9iYWxUaGlzW0RleGllU3ltYm9sXSB8fCAoZ2xvYmFsVGhpc1tEZXhpZVN5bWJvbF0gPSBfRGV4aWUpO1xuaWYgKF9EZXhpZS5zZW1WZXIgIT09IERleGllLnNlbVZlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVHdvIGRpZmZlcmVudCB2ZXJzaW9ucyBvZiBEZXhpZSBsb2FkZWQgaW4gdGhlIHNhbWUgYXBwOiAke19EZXhpZS5zZW1WZXJ9IGFuZCAke0RleGllLnNlbVZlcn1gKTtcbn1cbmNvbnN0IHsgbGl2ZVF1ZXJ5LCBtZXJnZVJhbmdlcywgcmFuZ2VzT3ZlcmxhcCwgUmFuZ2VTZXQsIGNtcCwgRW50aXR5LFxuICAgIFByb3BNb2RpZmljYXRpb24sIHJlcGxhY2VQcmVmaXgsIGFkZCwgcmVtb3ZlLFxuICAgIERleGllWVByb3ZpZGVyIH0gPSBEZXhpZTtcbmV4cG9ydCB7IGxpdmVRdWVyeSwgbWVyZ2VSYW5nZXMsIHJhbmdlc092ZXJsYXAsIFJhbmdlU2V0LCBjbXAsIERleGllLCBFbnRpdHksXG4gICAgUHJvcE1vZGlmaWNhdGlvbiwgcmVwbGFjZVByZWZpeCwgYWRkLCByZW1vdmUsXG4gICAgRGV4aWVZUHJvdmlkZXJ9O1xuICAgIFxuZXhwb3J0IGRlZmF1bHQgRGV4aWU7XG4iLCJpbXBvcnQgZSBmcm9tXCJ2b2lkLWVsZW1lbnRzXCI7dmFyIHQ9L1xccyhbXidcIi9cXHM+PF0rPylbXFxzLz5dfChbXlxccz1dKyk9XFxzPyhcIi4qP1wifCcuKj8nKS9nO2Z1bmN0aW9uIG4obil7dmFyIHI9e3R5cGU6XCJ0YWdcIixuYW1lOlwiXCIsdm9pZEVsZW1lbnQ6ITEsYXR0cnM6e30sY2hpbGRyZW46W119LGk9bi5tYXRjaCgvPFxcLz8oW15cXHNdKz8pWy9cXHM+XS8pO2lmKGkmJihyLm5hbWU9aVsxXSwoZVtpWzFdXXx8XCIvXCI9PT1uLmNoYXJBdChuLmxlbmd0aC0yKSkmJihyLnZvaWRFbGVtZW50PSEwKSxyLm5hbWUuc3RhcnRzV2l0aChcIiEtLVwiKSkpe3ZhciBzPW4uaW5kZXhPZihcIi0tXFx4M2VcIik7cmV0dXJue3R5cGU6XCJjb21tZW50XCIsY29tbWVudDotMSE9PXM/bi5zbGljZSg0LHMpOlwiXCJ9fWZvcih2YXIgYT1uZXcgUmVnRXhwKHQpLGM9bnVsbDtudWxsIT09KGM9YS5leGVjKG4pKTspaWYoY1swXS50cmltKCkpaWYoY1sxXSl7dmFyIG89Y1sxXS50cmltKCksbD1bbyxcIlwiXTtvLmluZGV4T2YoXCI9XCIpPi0xJiYobD1vLnNwbGl0KFwiPVwiKSksci5hdHRyc1tsWzBdXT1sWzFdLGEubGFzdEluZGV4LS19ZWxzZSBjWzJdJiYoci5hdHRyc1tjWzJdXT1jWzNdLnRyaW0oKS5zdWJzdHJpbmcoMSxjWzNdLmxlbmd0aC0xKSk7cmV0dXJuIHJ9dmFyIHI9LzxbYS16QS1aMC05XFwtXFwhXFwvXSg/OlwiW15cIl0qXCJ8J1teJ10qJ3xbXidcIj5dKSo+L2csaT0vXlxccyokLyxzPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gYShlLHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInRleHRcIjpyZXR1cm4gZSt0LmNvbnRlbnQ7Y2FzZVwidGFnXCI6cmV0dXJuIGUrPVwiPFwiK3QubmFtZSsodC5hdHRycz9mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2gobisnPVwiJytlW25dKydcIicpO3JldHVybiB0Lmxlbmd0aD9cIiBcIit0LmpvaW4oXCIgXCIpOlwiXCJ9KHQuYXR0cnMpOlwiXCIpKyh0LnZvaWRFbGVtZW50P1wiLz5cIjpcIj5cIiksdC52b2lkRWxlbWVudD9lOmUrdC5jaGlsZHJlbi5yZWR1Y2UoYSxcIlwiKStcIjwvXCIrdC5uYW1lK1wiPlwiO2Nhc2VcImNvbW1lbnRcIjpyZXR1cm4gZStcIlxceDNjIS0tXCIrdC5jb21tZW50K1wiLS1cXHgzZVwifX12YXIgYz17cGFyc2U6ZnVuY3Rpb24oZSx0KXt0fHwodD17fSksdC5jb21wb25lbnRzfHwodC5jb21wb25lbnRzPXMpO3ZhciBhLGM9W10sbz1bXSxsPS0xLG09ITE7aWYoMCE9PWUuaW5kZXhPZihcIjxcIikpe3ZhciB1PWUuaW5kZXhPZihcIjxcIik7Yy5wdXNoKHt0eXBlOlwidGV4dFwiLGNvbnRlbnQ6LTE9PT11P2U6ZS5zdWJzdHJpbmcoMCx1KX0pfXJldHVybiBlLnJlcGxhY2UocixmdW5jdGlvbihyLHMpe2lmKG0pe2lmKHIhPT1cIjwvXCIrYS5uYW1lK1wiPlwiKXJldHVybjttPSExfXZhciB1LGY9XCIvXCIhPT1yLmNoYXJBdCgxKSxoPXIuc3RhcnRzV2l0aChcIlxceDNjIS0tXCIpLHA9cytyLmxlbmd0aCxkPWUuY2hhckF0KHApO2lmKGgpe3ZhciB2PW4ocik7cmV0dXJuIGw8MD8oYy5wdXNoKHYpLGMpOigodT1vW2xdKS5jaGlsZHJlbi5wdXNoKHYpLGMpfWlmKGYmJihsKyssXCJ0YWdcIj09PShhPW4ocikpLnR5cGUmJnQuY29tcG9uZW50c1thLm5hbWVdJiYoYS50eXBlPVwiY29tcG9uZW50XCIsbT0hMCksYS52b2lkRWxlbWVudHx8bXx8IWR8fFwiPFwiPT09ZHx8YS5jaGlsZHJlbi5wdXNoKHt0eXBlOlwidGV4dFwiLGNvbnRlbnQ6ZS5zbGljZShwLGUuaW5kZXhPZihcIjxcIixwKSl9KSwwPT09bCYmYy5wdXNoKGEpLCh1PW9bbC0xXSkmJnUuY2hpbGRyZW4ucHVzaChhKSxvW2xdPWEpLCghZnx8YS52b2lkRWxlbWVudCkmJihsPi0xJiYoYS52b2lkRWxlbWVudHx8YS5uYW1lPT09ci5zbGljZSgyLC0xKSkmJihsLS0sYT0tMT09PWw/YzpvW2xdKSwhbSYmXCI8XCIhPT1kJiZkKSl7dT0tMT09PWw/YzpvW2xdLmNoaWxkcmVuO3ZhciB4PWUuaW5kZXhPZihcIjxcIixwKSxnPWUuc2xpY2UocCwtMT09PXg/dm9pZCAwOngpO2kudGVzdChnKSYmKGc9XCIgXCIpLCh4Pi0xJiZsK3UubGVuZ3RoPj0wfHxcIiBcIiE9PWcpJiZ1LnB1c2goe3R5cGU6XCJ0ZXh0XCIsY29udGVudDpnfSl9fSksY30sc3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK2EoXCJcIix0KX0sXCJcIil9fTtleHBvcnQgZGVmYXVsdCBjO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRtbC1wYXJzZS1zdHJpbmdpZnkubW9kdWxlLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBpc1N0cmluZyA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbmNvbnN0IGRlZmVyID0gKCkgPT4ge1xuICBsZXQgcmVzO1xuICBsZXQgcmVqO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlcyA9IHJlc29sdmU7XG4gICAgcmVqID0gcmVqZWN0O1xuICB9KTtcbiAgcHJvbWlzZS5yZXNvbHZlID0gcmVzO1xuICBwcm9taXNlLnJlamVjdCA9IHJlajtcbiAgcmV0dXJuIHByb21pc2U7XG59O1xuY29uc3QgbWFrZVN0cmluZyA9IG9iamVjdCA9PiB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICcnO1xuICByZXR1cm4gJycgKyBvYmplY3Q7XG59O1xuY29uc3QgY29weSA9IChhLCBzLCB0KSA9PiB7XG4gIGEuZm9yRWFjaChtID0+IHtcbiAgICBpZiAoc1ttXSkgdFttXSA9IHNbbV07XG4gIH0pO1xufTtcbmNvbnN0IGxhc3RPZlBhdGhTZXBhcmF0b3JSZWdFeHAgPSAvIyMjL2c7XG5jb25zdCBjbGVhbktleSA9IGtleSA9PiBrZXkgJiYga2V5LmluZGV4T2YoJyMjIycpID4gLTEgPyBrZXkucmVwbGFjZShsYXN0T2ZQYXRoU2VwYXJhdG9yUmVnRXhwLCAnLicpIDoga2V5O1xuY29uc3QgY2FuTm90VHJhdmVyc2VEZWVwZXIgPSBvYmplY3QgPT4gIW9iamVjdCB8fCBpc1N0cmluZyhvYmplY3QpO1xuY29uc3QgZ2V0TGFzdE9mUGF0aCA9IChvYmplY3QsIHBhdGgsIEVtcHR5KSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gIWlzU3RyaW5nKHBhdGgpID8gcGF0aCA6IHBhdGguc3BsaXQoJy4nKTtcbiAgbGV0IHN0YWNrSW5kZXggPSAwO1xuICB3aGlsZSAoc3RhY2tJbmRleCA8IHN0YWNrLmxlbmd0aCAtIDEpIHtcbiAgICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIob2JqZWN0KSkgcmV0dXJuIHt9O1xuICAgIGNvbnN0IGtleSA9IGNsZWFuS2V5KHN0YWNrW3N0YWNrSW5kZXhdKTtcbiAgICBpZiAoIW9iamVjdFtrZXldICYmIEVtcHR5KSBvYmplY3Rba2V5XSA9IG5ldyBFbXB0eSgpO1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0ID0ge307XG4gICAgfVxuICAgICsrc3RhY2tJbmRleDtcbiAgfVxuICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIob2JqZWN0KSkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIG9iajogb2JqZWN0LFxuICAgIGs6IGNsZWFuS2V5KHN0YWNrW3N0YWNrSW5kZXhdKVxuICB9O1xufTtcbmNvbnN0IHNldFBhdGggPSAob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpO1xuICBpZiAob2JqICE9PSB1bmRlZmluZWQgfHwgcGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICBvYmpba10gPSBuZXdWYWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGUgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gIGxldCBwID0gcGF0aC5zbGljZSgwLCBwYXRoLmxlbmd0aCAtIDEpO1xuICBsZXQgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICB3aGlsZSAobGFzdC5vYmogPT09IHVuZGVmaW5lZCAmJiBwLmxlbmd0aCkge1xuICAgIGUgPSBgJHtwW3AubGVuZ3RoIC0gMV19LiR7ZX1gO1xuICAgIHAgPSBwLnNsaWNlKDAsIHAubGVuZ3RoIC0gMSk7XG4gICAgbGFzdCA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwLCBPYmplY3QpO1xuICAgIGlmIChsYXN0ICYmIGxhc3Qub2JqICYmIHR5cGVvZiBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxhc3Qub2JqID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBsYXN0Lm9ialtgJHtsYXN0Lmt9LiR7ZX1gXSA9IG5ld1ZhbHVlO1xufTtcbmNvbnN0IHB1c2hQYXRoID0gKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUsIGNvbmNhdCkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpO1xuICBvYmpba10gPSBvYmpba10gfHwgW107XG4gIG9ialtrXS5wdXNoKG5ld1ZhbHVlKTtcbn07XG5jb25zdCBnZXRQYXRoID0gKG9iamVjdCwgcGF0aCkgPT4ge1xuICBjb25zdCB7XG4gICAgb2JqLFxuICAgIGtcbiAgfSA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoKTtcbiAgaWYgKCFvYmopIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBvYmpba107XG59O1xuY29uc3QgZ2V0UGF0aFdpdGhEZWZhdWx0cyA9IChkYXRhLCBkZWZhdWx0RGF0YSwga2V5KSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZ2V0UGF0aChkYXRhLCBrZXkpO1xuICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gZ2V0UGF0aChkZWZhdWx0RGF0YSwga2V5KTtcbn07XG5jb25zdCBkZWVwRXh0ZW5kID0gKHRhcmdldCwgc291cmNlLCBvdmVyd3JpdGUpID0+IHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIGlmIChwcm9wICE9PSAnX19wcm90b19fJyAmJiBwcm9wICE9PSAnY29uc3RydWN0b3InKSB7XG4gICAgICBpZiAocHJvcCBpbiB0YXJnZXQpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHRhcmdldFtwcm9wXSkgfHwgdGFyZ2V0W3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nIHx8IGlzU3RyaW5nKHNvdXJjZVtwcm9wXSkgfHwgc291cmNlW3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgICAgaWYgKG92ZXJ3cml0ZSkgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0sIG92ZXJ3cml0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCByZWdleEVzY2FwZSA9IHN0ciA9PiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcbnZhciBfZW50aXR5TWFwID0ge1xuICAnJic6ICcmYW1wOycsXG4gICc8JzogJyZsdDsnLFxuICAnPic6ICcmZ3Q7JyxcbiAgJ1wiJzogJyZxdW90OycsXG4gIFwiJ1wiOiAnJiMzOTsnLFxuICAnLyc6ICcmI3gyRjsnXG59O1xuY29uc3QgZXNjYXBlID0gZGF0YSA9PiB7XG4gIGlmIChpc1N0cmluZyhkYXRhKSkge1xuICAgIHJldHVybiBkYXRhLnJlcGxhY2UoL1smPD5cIidcXC9dL2csIHMgPT4gX2VudGl0eU1hcFtzXSk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59O1xuY2xhc3MgUmVnRXhwQ2FjaGUge1xuICBjb25zdHJ1Y3RvcihjYXBhY2l0eSkge1xuICAgIHRoaXMuY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgICB0aGlzLnJlZ0V4cE1hcCA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlZ0V4cFF1ZXVlID0gW107XG4gIH1cbiAgZ2V0UmVnRXhwKHBhdHRlcm4pIHtcbiAgICBjb25zdCByZWdFeHBGcm9tQ2FjaGUgPSB0aGlzLnJlZ0V4cE1hcC5nZXQocGF0dGVybik7XG4gICAgaWYgKHJlZ0V4cEZyb21DYWNoZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcmVnRXhwRnJvbUNhY2hlO1xuICAgIH1cbiAgICBjb25zdCByZWdFeHBOZXcgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgIGlmICh0aGlzLnJlZ0V4cFF1ZXVlLmxlbmd0aCA9PT0gdGhpcy5jYXBhY2l0eSkge1xuICAgICAgdGhpcy5yZWdFeHBNYXAuZGVsZXRlKHRoaXMucmVnRXhwUXVldWUuc2hpZnQoKSk7XG4gICAgfVxuICAgIHRoaXMucmVnRXhwTWFwLnNldChwYXR0ZXJuLCByZWdFeHBOZXcpO1xuICAgIHRoaXMucmVnRXhwUXVldWUucHVzaChwYXR0ZXJuKTtcbiAgICByZXR1cm4gcmVnRXhwTmV3O1xuICB9XG59XG5jb25zdCBjaGFycyA9IFsnICcsICcsJywgJz8nLCAnIScsICc7J107XG5jb25zdCBsb29rc0xpa2VPYmplY3RQYXRoUmVnRXhwQ2FjaGUgPSBuZXcgUmVnRXhwQ2FjaGUoMjApO1xuY29uc3QgbG9va3NMaWtlT2JqZWN0UGF0aCA9IChrZXksIG5zU2VwYXJhdG9yLCBrZXlTZXBhcmF0b3IpID0+IHtcbiAgbnNTZXBhcmF0b3IgPSBuc1NlcGFyYXRvciB8fCAnJztcbiAga2V5U2VwYXJhdG9yID0ga2V5U2VwYXJhdG9yIHx8ICcnO1xuICBjb25zdCBwb3NzaWJsZUNoYXJzID0gY2hhcnMuZmlsdGVyKGMgPT4gbnNTZXBhcmF0b3IuaW5kZXhPZihjKSA8IDAgJiYga2V5U2VwYXJhdG9yLmluZGV4T2YoYykgPCAwKTtcbiAgaWYgKHBvc3NpYmxlQ2hhcnMubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgY29uc3QgciA9IGxvb2tzTGlrZU9iamVjdFBhdGhSZWdFeHBDYWNoZS5nZXRSZWdFeHAoYCgke3Bvc3NpYmxlQ2hhcnMubWFwKGMgPT4gYyA9PT0gJz8nID8gJ1xcXFw/JyA6IGMpLmpvaW4oJ3wnKX0pYCk7XG4gIGxldCBtYXRjaGVkID0gIXIudGVzdChrZXkpO1xuICBpZiAoIW1hdGNoZWQpIHtcbiAgICBjb25zdCBraSA9IGtleS5pbmRleE9mKGtleVNlcGFyYXRvcik7XG4gICAgaWYgKGtpID4gMCAmJiAhci50ZXN0KGtleS5zdWJzdHJpbmcoMCwga2kpKSkge1xuICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRjaGVkO1xufTtcbmNvbnN0IGRlZXBGaW5kID0gZnVuY3Rpb24gKG9iaiwgcGF0aCkge1xuICBsZXQga2V5U2VwYXJhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnLic7XG4gIGlmICghb2JqKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAob2JqW3BhdGhdKSByZXR1cm4gb2JqW3BhdGhdO1xuICBjb25zdCB0b2tlbnMgPSBwYXRoLnNwbGl0KGtleVNlcGFyYXRvcik7XG4gIGxldCBjdXJyZW50ID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7KSB7XG4gICAgaWYgKCFjdXJyZW50IHx8IHR5cGVvZiBjdXJyZW50ICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGV0IG5leHQ7XG4gICAgbGV0IG5leHRQYXRoID0gJyc7XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCB0b2tlbnMubGVuZ3RoOyArK2opIHtcbiAgICAgIGlmIChqICE9PSBpKSB7XG4gICAgICAgIG5leHRQYXRoICs9IGtleVNlcGFyYXRvcjtcbiAgICAgIH1cbiAgICAgIG5leHRQYXRoICs9IHRva2Vuc1tqXTtcbiAgICAgIG5leHQgPSBjdXJyZW50W25leHRQYXRoXTtcbiAgICAgIGlmIChuZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ10uaW5kZXhPZih0eXBlb2YgbmV4dCkgPiAtMSAmJiBqIDwgdG9rZW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpICs9IGogLSBpICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGN1cnJlbnQgPSBuZXh0O1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufTtcbmNvbnN0IGdldENsZWFuZWRDb2RlID0gY29kZSA9PiBjb2RlICYmIGNvZGUucmVwbGFjZSgnXycsICctJyk7XG5cbmNvbnN0IGNvbnNvbGVMb2dnZXIgPSB7XG4gIHR5cGU6ICdsb2dnZXInLFxuICBsb2coYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdsb2cnLCBhcmdzKTtcbiAgfSxcbiAgd2FybihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ3dhcm4nLCBhcmdzKTtcbiAgfSxcbiAgZXJyb3IoYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdlcnJvcicsIGFyZ3MpO1xuICB9LFxuICBvdXRwdXQodHlwZSwgYXJncykge1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGVbdHlwZV0pIGNvbnNvbGVbdHlwZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn07XG5jbGFzcyBMb2dnZXIge1xuICBjb25zdHJ1Y3Rvcihjb25jcmV0ZUxvZ2dlcikge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLmluaXQoY29uY3JldGVMb2dnZXIsIG9wdGlvbnMpO1xuICB9XG4gIGluaXQoY29uY3JldGVMb2dnZXIpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdGhpcy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCAnaTE4bmV4dDonO1xuICAgIHRoaXMubG9nZ2VyID0gY29uY3JldGVMb2dnZXIgfHwgY29uc29sZUxvZ2dlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuICB9XG4gIGxvZygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ2xvZycsICcnLCB0cnVlKTtcbiAgfVxuICB3YXJuKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJycsIHRydWUpO1xuICB9XG4gIGVycm9yKCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICdlcnJvcicsICcnKTtcbiAgfVxuICBkZXByZWNhdGUoKSB7XG4gICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICBhcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ3dhcm4nLCAnV0FSTklORyBERVBSRUNBVEVEOiAnLCB0cnVlKTtcbiAgfVxuICBmb3J3YXJkKGFyZ3MsIGx2bCwgcHJlZml4LCBkZWJ1Z09ubHkpIHtcbiAgICBpZiAoZGVidWdPbmx5ICYmICF0aGlzLmRlYnVnKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFyZ3NbMF0gPSBgJHtwcmVmaXh9JHt0aGlzLnByZWZpeH0gJHthcmdzWzBdfWA7XG4gICAgcmV0dXJuIHRoaXMubG9nZ2VyW2x2bF0oYXJncyk7XG4gIH1cbiAgY3JlYXRlKG1vZHVsZU5hbWUpIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLmxvZ2dlciwge1xuICAgICAgLi4ue1xuICAgICAgICBwcmVmaXg6IGAke3RoaXMucHJlZml4fToke21vZHVsZU5hbWV9OmBcbiAgICAgIH0sXG4gICAgICAuLi50aGlzLm9wdGlvbnNcbiAgICB9KTtcbiAgfVxuICBjbG9uZShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgdGhpcy5vcHRpb25zO1xuICAgIG9wdGlvbnMucHJlZml4ID0gb3B0aW9ucy5wcmVmaXggfHwgdGhpcy5wcmVmaXg7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIodGhpcy5sb2dnZXIsIG9wdGlvbnMpO1xuICB9XG59XG52YXIgYmFzZUxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxuY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5vYnNlcnZlcnMgPSB7fTtcbiAgfVxuICBvbihldmVudHMsIGxpc3RlbmVyKSB7XG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChldmVudCA9PiB7XG4gICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkgdGhpcy5vYnNlcnZlcnNbZXZlbnRdID0gbmV3IE1hcCgpO1xuICAgICAgY29uc3QgbnVtTGlzdGVuZXJzID0gdGhpcy5vYnNlcnZlcnNbZXZlbnRdLmdldChsaXN0ZW5lcikgfHwgMDtcbiAgICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5zZXQobGlzdGVuZXIsIG51bUxpc3RlbmVycyArIDEpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkgcmV0dXJuO1xuICAgIGlmICghbGlzdGVuZXIpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tldmVudF07XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5kZWxldGUobGlzdGVuZXIpO1xuICB9XG4gIGVtaXQoZXZlbnQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkge1xuICAgICAgY29uc3QgY2xvbmVkID0gQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1tldmVudF0uZW50cmllcygpKTtcbiAgICAgIGNsb25lZC5mb3JFYWNoKF9yZWYgPT4ge1xuICAgICAgICBsZXQgW29ic2VydmVyLCBudW1UaW1lc0FkZGVkXSA9IF9yZWY7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVGltZXNBZGRlZDsgaSsrKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIoLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZlcnNbJyonXSkge1xuICAgICAgY29uc3QgY2xvbmVkID0gQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1snKiddLmVudHJpZXMoKSk7XG4gICAgICBjbG9uZWQuZm9yRWFjaChfcmVmMiA9PiB7XG4gICAgICAgIGxldCBbb2JzZXJ2ZXIsIG51bVRpbWVzQWRkZWRdID0gX3JlZjI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVGltZXNBZGRlZDsgaSsrKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudCwgLi4uYXJnc10pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgUmVzb3VyY2VTdG9yZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgICAgIGRlZmF1bHROUzogJ3RyYW5zbGF0aW9uJ1xuICAgIH07XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciA9ICcuJztcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgYWRkTmFtZXNwYWNlcyhucykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihucykgPCAwKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubnMucHVzaChucyk7XG4gICAgfVxuICB9XG4gIHJlbW92ZU5hbWVzcGFjZXMobnMpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG5zKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5vcHRpb25zLm5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG4gIGdldFJlc291cmNlKGxuZywgbnMsIGtleSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IGlnbm9yZUpTT05TdHJ1Y3R1cmUgPSBvcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZSA6IHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlO1xuICAgIGxldCBwYXRoO1xuICAgIGlmIChsbmcuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgIHBhdGgucHVzaCguLi5rZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKGtleSkgJiYga2V5U2VwYXJhdG9yKSB7XG4gICAgICAgICAgcGF0aC5wdXNoKC4uLmtleS5zcGxpdChrZXlTZXBhcmF0b3IpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRoLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCk7XG4gICAgaWYgKCFyZXN1bHQgJiYgIW5zICYmICFrZXkgJiYgbG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBsbmcgPSBwYXRoWzBdO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgICAga2V5ID0gcGF0aC5zbGljZSgyKS5qb2luKCcuJyk7XG4gICAgfVxuICAgIGlmIChyZXN1bHQgfHwgIWlnbm9yZUpTT05TdHJ1Y3R1cmUgfHwgIWlzU3RyaW5nKGtleSkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIGRlZXBGaW5kKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGFbbG5nXSAmJiB0aGlzLmRhdGFbbG5nXVtuc10sIGtleSwga2V5U2VwYXJhdG9yKTtcbiAgfVxuICBhZGRSZXNvdXJjZShsbmcsIG5zLCBrZXksIHZhbHVlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHtcbiAgICAgIHNpbGVudDogZmFsc2VcbiAgICB9O1xuICAgIGNvbnN0IGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgbGV0IHBhdGggPSBbbG5nLCBuc107XG4gICAgaWYgKGtleSkgcGF0aCA9IHBhdGguY29uY2F0KGtleVNlcGFyYXRvciA/IGtleS5zcGxpdChrZXlTZXBhcmF0b3IpIDoga2V5KTtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICB2YWx1ZSA9IG5zO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgIH1cbiAgICB0aGlzLmFkZE5hbWVzcGFjZXMobnMpO1xuICAgIHNldFBhdGgodGhpcy5kYXRhLCBwYXRoLCB2YWx1ZSk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIGtleSwgdmFsdWUpO1xuICB9XG4gIGFkZFJlc291cmNlcyhsbmcsIG5zLCByZXNvdXJjZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge1xuICAgICAgc2lsZW50OiBmYWxzZVxuICAgIH07XG4gICAgZm9yIChjb25zdCBtIGluIHJlc291cmNlcykge1xuICAgICAgaWYgKGlzU3RyaW5nKHJlc291cmNlc1ttXSkgfHwgQXJyYXkuaXNBcnJheShyZXNvdXJjZXNbbV0pKSB0aGlzLmFkZFJlc291cmNlKGxuZywgbnMsIG0sIHJlc291cmNlc1ttXSwge1xuICAgICAgICBzaWxlbnQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLmVtaXQoJ2FkZGVkJywgbG5nLCBucywgcmVzb3VyY2VzKTtcbiAgfVxuICBhZGRSZXNvdXJjZUJ1bmRsZShsbmcsIG5zLCByZXNvdXJjZXMsIGRlZXAsIG92ZXJ3cml0ZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB7XG4gICAgICBzaWxlbnQ6IGZhbHNlLFxuICAgICAgc2tpcENvcHk6IGZhbHNlXG4gICAgfTtcbiAgICBsZXQgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICBkZWVwID0gcmVzb3VyY2VzO1xuICAgICAgcmVzb3VyY2VzID0gbnM7XG4gICAgICBucyA9IHBhdGhbMV07XG4gICAgfVxuICAgIHRoaXMuYWRkTmFtZXNwYWNlcyhucyk7XG4gICAgbGV0IHBhY2sgPSBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCkgfHwge307XG4gICAgaWYgKCFvcHRpb25zLnNraXBDb3B5KSByZXNvdXJjZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc291cmNlcykpO1xuICAgIGlmIChkZWVwKSB7XG4gICAgICBkZWVwRXh0ZW5kKHBhY2ssIHJlc291cmNlcywgb3ZlcndyaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFjayA9IHtcbiAgICAgICAgLi4ucGFjayxcbiAgICAgICAgLi4ucmVzb3VyY2VzXG4gICAgICB9O1xuICAgIH1cbiAgICBzZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCwgcGFjayk7XG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIHJlc291cmNlcyk7XG4gIH1cbiAgcmVtb3ZlUmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSB7XG4gICAgICBkZWxldGUgdGhpcy5kYXRhW2xuZ11bbnNdO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZU5hbWVzcGFjZXMobnMpO1xuICAgIHRoaXMuZW1pdCgncmVtb3ZlZCcsIGxuZywgbnMpO1xuICB9XG4gIGhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKSAhPT0gdW5kZWZpbmVkO1xuICB9XG4gIGdldFJlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICBpZiAoIW5zKSBucyA9IHRoaXMub3B0aW9ucy5kZWZhdWx0TlM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJID09PSAndjEnKSByZXR1cm4ge1xuICAgICAgLi4ue30sXG4gICAgICAuLi50aGlzLmdldFJlc291cmNlKGxuZywgbnMpXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKTtcbiAgfVxuICBnZXREYXRhQnlMYW5ndWFnZShsbmcpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhW2xuZ107XG4gIH1cbiAgaGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKGxuZykge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGFCeUxhbmd1YWdlKGxuZyk7XG4gICAgY29uc3QgbiA9IGRhdGEgJiYgT2JqZWN0LmtleXMoZGF0YSkgfHwgW107XG4gICAgcmV0dXJuICEhbi5maW5kKHYgPT4gZGF0YVt2XSAmJiBPYmplY3Qua2V5cyhkYXRhW3ZdKS5sZW5ndGggPiAwKTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgfVxufVxuXG52YXIgcG9zdFByb2Nlc3NvciA9IHtcbiAgcHJvY2Vzc29yczoge30sXG4gIGFkZFBvc3RQcm9jZXNzb3IobW9kdWxlKSB7XG4gICAgdGhpcy5wcm9jZXNzb3JzW21vZHVsZS5uYW1lXSA9IG1vZHVsZTtcbiAgfSxcbiAgaGFuZGxlKHByb2Nlc3NvcnMsIHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpIHtcbiAgICBwcm9jZXNzb3JzLmZvckVhY2gocHJvY2Vzc29yID0+IHtcbiAgICAgIGlmICh0aGlzLnByb2Nlc3NvcnNbcHJvY2Vzc29yXSkgdmFsdWUgPSB0aGlzLnByb2Nlc3NvcnNbcHJvY2Vzc29yXS5wcm9jZXNzKHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuY29uc3QgY2hlY2tlZExvYWRlZEZvciA9IHt9O1xuY2xhc3MgVHJhbnNsYXRvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHN1cGVyKCk7XG4gICAgY29weShbJ3Jlc291cmNlU3RvcmUnLCAnbGFuZ3VhZ2VVdGlscycsICdwbHVyYWxSZXNvbHZlcicsICdpbnRlcnBvbGF0b3InLCAnYmFja2VuZENvbm5lY3RvcicsICdpMThuRm9ybWF0JywgJ3V0aWxzJ10sIHNlcnZpY2VzLCB0aGlzKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmICh0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ3RyYW5zbGF0b3InKTtcbiAgfVxuICBjaGFuZ2VMYW5ndWFnZShsbmcpIHtcbiAgICBpZiAobG5nKSB0aGlzLmxhbmd1YWdlID0gbG5nO1xuICB9XG4gIGV4aXN0cyhrZXkpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgaW50ZXJwb2xhdGlvbjoge31cbiAgICB9O1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5LCBvcHRpb25zKTtcbiAgICByZXR1cm4gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQucmVzICE9PSB1bmRlZmluZWQ7XG4gIH1cbiAgZXh0cmFjdEZyb21LZXkoa2V5LCBvcHRpb25zKSB7XG4gICAgbGV0IG5zU2VwYXJhdG9yID0gb3B0aW9ucy5uc1NlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc1NlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICBpZiAobnNTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkgbnNTZXBhcmF0b3IgPSAnOic7XG4gICAgY29uc3Qga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMua2V5U2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBsZXQgbmFtZXNwYWNlcyA9IG9wdGlvbnMubnMgfHwgdGhpcy5vcHRpb25zLmRlZmF1bHROUyB8fCBbXTtcbiAgICBjb25zdCB3b3VsZENoZWNrRm9yTnNJbktleSA9IG5zU2VwYXJhdG9yICYmIGtleS5pbmRleE9mKG5zU2VwYXJhdG9yKSA+IC0xO1xuICAgIGNvbnN0IHNlZW1zTmF0dXJhbExhbmd1YWdlID0gIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZEtleVNlcGFyYXRvciAmJiAhb3B0aW9ucy5rZXlTZXBhcmF0b3IgJiYgIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yICYmICFvcHRpb25zLm5zU2VwYXJhdG9yICYmICFsb29rc0xpa2VPYmplY3RQYXRoKGtleSwgbnNTZXBhcmF0b3IsIGtleVNlcGFyYXRvcik7XG4gICAgaWYgKHdvdWxkQ2hlY2tGb3JOc0luS2V5ICYmICFzZWVtc05hdHVyYWxMYW5ndWFnZSkge1xuICAgICAgY29uc3QgbSA9IGtleS5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtcbiAgICAgIGlmIChtICYmIG0ubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBuYW1lc3BhY2VzOiBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KG5zU2VwYXJhdG9yKTtcbiAgICAgIGlmIChuc1NlcGFyYXRvciAhPT0ga2V5U2VwYXJhdG9yIHx8IG5zU2VwYXJhdG9yID09PSBrZXlTZXBhcmF0b3IgJiYgdGhpcy5vcHRpb25zLm5zLmluZGV4T2YocGFydHNbMF0pID4gLTEpIG5hbWVzcGFjZXMgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAga2V5ID0gcGFydHMuam9pbihrZXlTZXBhcmF0b3IpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAga2V5LFxuICAgICAgbmFtZXNwYWNlczogaXNTdHJpbmcobmFtZXNwYWNlcykgPyBbbmFtZXNwYWNlc10gOiBuYW1lc3BhY2VzXG4gICAgfTtcbiAgfVxuICB0cmFuc2xhdGUoa2V5cywgb3B0aW9ucywgbGFzdEtleSkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgJiYgdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKSB7XG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICBpZiAoa2V5cyA9PT0gdW5kZWZpbmVkIHx8IGtleXMgPT09IG51bGwpIHJldHVybiAnJztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5cykpIGtleXMgPSBbU3RyaW5nKGtleXMpXTtcbiAgICBjb25zdCByZXR1cm5EZXRhaWxzID0gb3B0aW9ucy5yZXR1cm5EZXRhaWxzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJldHVybkRldGFpbHMgOiB0aGlzLm9wdGlvbnMucmV0dXJuRGV0YWlscztcbiAgICBjb25zdCBrZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleVNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5rZXlTZXBhcmF0b3IgOiB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIGNvbnN0IHtcbiAgICAgIGtleSxcbiAgICAgIG5hbWVzcGFjZXNcbiAgICB9ID0gdGhpcy5leHRyYWN0RnJvbUtleShrZXlzW2tleXMubGVuZ3RoIC0gMV0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IG5hbWVzcGFjZSA9IG5hbWVzcGFjZXNbbmFtZXNwYWNlcy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlO1xuICAgIGNvbnN0IGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlID0gb3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZSB8fCB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU7XG4gICAgaWYgKGxuZyAmJiBsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHtcbiAgICAgIGlmIChhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSkge1xuICAgICAgICBjb25zdCBuc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXM6IGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWAsXG4gICAgICAgICAgICB1c2VkS2V5OiBrZXksXG4gICAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICAgIHVzZWRMbmc6IGxuZyxcbiAgICAgICAgICAgIHVzZWROUzogbmFtZXNwYWNlLFxuICAgICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke25hbWVzcGFjZX0ke25zU2VwYXJhdG9yfSR7a2V5fWA7XG4gICAgICB9XG4gICAgICBpZiAocmV0dXJuRGV0YWlscykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlczoga2V5LFxuICAgICAgICAgIHVzZWRLZXk6IGtleSxcbiAgICAgICAgICBleGFjdFVzZWRLZXk6IGtleSxcbiAgICAgICAgICB1c2VkTG5nOiBsbmcsXG4gICAgICAgICAgdXNlZE5TOiBuYW1lc3BhY2UsXG4gICAgICAgICAgdXNlZFBhcmFtczogdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgY29uc3QgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5cywgb3B0aW9ucyk7XG4gICAgbGV0IHJlcyA9IHJlc29sdmVkICYmIHJlc29sdmVkLnJlcztcbiAgICBjb25zdCByZXNVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQudXNlZEtleSB8fCBrZXk7XG4gICAgY29uc3QgcmVzRXhhY3RVc2VkS2V5ID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQuZXhhY3RVc2VkS2V5IHx8IGtleTtcbiAgICBjb25zdCByZXNUeXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShyZXMpO1xuICAgIGNvbnN0IG5vT2JqZWN0ID0gWydbb2JqZWN0IE51bWJlcl0nLCAnW29iamVjdCBGdW5jdGlvbl0nLCAnW29iamVjdCBSZWdFeHBdJ107XG4gICAgY29uc3Qgam9pbkFycmF5cyA9IG9wdGlvbnMuam9pbkFycmF5cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5qb2luQXJyYXlzIDogdGhpcy5vcHRpb25zLmpvaW5BcnJheXM7XG4gICAgY29uc3QgaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgPSAhdGhpcy5pMThuRm9ybWF0IHx8IHRoaXMuaTE4bkZvcm1hdC5oYW5kbGVBc09iamVjdDtcbiAgICBjb25zdCBoYW5kbGVBc09iamVjdCA9ICFpc1N0cmluZyhyZXMpICYmIHR5cGVvZiByZXMgIT09ICdib29sZWFuJyAmJiB0eXBlb2YgcmVzICE9PSAnbnVtYmVyJztcbiAgICBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgcmVzICYmIGhhbmRsZUFzT2JqZWN0ICYmIG5vT2JqZWN0LmluZGV4T2YocmVzVHlwZSkgPCAwICYmICEoaXNTdHJpbmcoam9pbkFycmF5cykgJiYgQXJyYXkuaXNBcnJheShyZXMpKSkge1xuICAgICAgaWYgKCFvcHRpb25zLnJldHVybk9iamVjdHMgJiYgIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2FjY2Vzc2luZyBhbiBvYmplY3QgLSBidXQgcmV0dXJuT2JqZWN0cyBvcHRpb25zIGlzIG5vdCBlbmFibGVkIScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyID8gdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcihyZXNVc2VkS2V5LCByZXMsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIG5zOiBuYW1lc3BhY2VzXG4gICAgICAgIH0pIDogYGtleSAnJHtrZXl9ICgke3RoaXMubGFuZ3VhZ2V9KScgcmV0dXJuZWQgYW4gb2JqZWN0IGluc3RlYWQgb2Ygc3RyaW5nLmA7XG4gICAgICAgIGlmIChyZXR1cm5EZXRhaWxzKSB7XG4gICAgICAgICAgcmVzb2x2ZWQucmVzID0gcjtcbiAgICAgICAgICByZXNvbHZlZC51c2VkUGFyYW1zID0gdGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhvcHRpb25zKTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgICBpZiAoa2V5U2VwYXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IHJlc1R5cGVJc0FycmF5ID0gQXJyYXkuaXNBcnJheShyZXMpO1xuICAgICAgICBjb25zdCBjb3B5ID0gcmVzVHlwZUlzQXJyYXkgPyBbXSA6IHt9O1xuICAgICAgICBjb25zdCBuZXdLZXlUb1VzZSA9IHJlc1R5cGVJc0FycmF5ID8gcmVzRXhhY3RVc2VkS2V5IDogcmVzVXNlZEtleTtcbiAgICAgICAgZm9yIChjb25zdCBtIGluIHJlcykge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzLCBtKSkge1xuICAgICAgICAgICAgY29uc3QgZGVlcEtleSA9IGAke25ld0tleVRvVXNlfSR7a2V5U2VwYXJhdG9yfSR7bX1gO1xuICAgICAgICAgICAgY29weVttXSA9IHRoaXMudHJhbnNsYXRlKGRlZXBLZXksIHtcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgLi4ue1xuICAgICAgICAgICAgICAgIGpvaW5BcnJheXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5zOiBuYW1lc3BhY2VzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNvcHlbbV0gPT09IGRlZXBLZXkpIGNvcHlbbV0gPSByZXNbbV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlcyA9IGNvcHk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCAmJiBpc1N0cmluZyhqb2luQXJyYXlzKSAmJiBBcnJheS5pc0FycmF5KHJlcykpIHtcbiAgICAgIHJlcyA9IHJlcy5qb2luKGpvaW5BcnJheXMpO1xuICAgICAgaWYgKHJlcykgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleXMsIG9wdGlvbnMsIGxhc3RLZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdXNlZERlZmF1bHQgPSBmYWxzZTtcbiAgICAgIGxldCB1c2VkS2V5ID0gZmFsc2U7XG4gICAgICBjb25zdCBuZWVkc1BsdXJhbEhhbmRsaW5nID0gb3B0aW9ucy5jb3VudCAhPT0gdW5kZWZpbmVkICYmICFpc1N0cmluZyhvcHRpb25zLmNvdW50KTtcbiAgICAgIGNvbnN0IGhhc0RlZmF1bHRWYWx1ZSA9IFRyYW5zbGF0b3IuaGFzRGVmYXVsdFZhbHVlKG9wdGlvbnMpO1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlU3VmZml4ID0gbmVlZHNQbHVyYWxIYW5kbGluZyA/IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGxuZywgb3B0aW9ucy5jb3VudCwgb3B0aW9ucykgOiAnJztcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZVN1ZmZpeE9yZGluYWxGYWxsYmFjayA9IG9wdGlvbnMub3JkaW5hbCAmJiBuZWVkc1BsdXJhbEhhbmRsaW5nID8gdGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgobG5nLCBvcHRpb25zLmNvdW50LCB7XG4gICAgICAgIG9yZGluYWw6IGZhbHNlXG4gICAgICB9KSA6ICcnO1xuICAgICAgY29uc3QgbmVlZHNaZXJvU3VmZml4TG9va3VwID0gbmVlZHNQbHVyYWxIYW5kbGluZyAmJiAhb3B0aW9ucy5vcmRpbmFsICYmIG9wdGlvbnMuY291bnQgPT09IDAgJiYgdGhpcy5wbHVyYWxSZXNvbHZlci5zaG91bGRVc2VJbnRsQXBpKCk7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBuZWVkc1plcm9TdWZmaXhMb29rdXAgJiYgb3B0aW9uc1tgZGVmYXVsdFZhbHVlJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gXSB8fCBvcHRpb25zW2BkZWZhdWx0VmFsdWUke2RlZmF1bHRWYWx1ZVN1ZmZpeH1gXSB8fCBvcHRpb25zW2BkZWZhdWx0VmFsdWUke2RlZmF1bHRWYWx1ZVN1ZmZpeE9yZGluYWxGYWxsYmFja31gXSB8fCBvcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkTG9va3VwKHJlcykgJiYgaGFzRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHVzZWREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgcmVzID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSkge1xuICAgICAgICB1c2VkS2V5ID0gdHJ1ZTtcbiAgICAgICAgcmVzID0ga2V5O1xuICAgICAgfVxuICAgICAgY29uc3QgbWlzc2luZ0tleU5vVmFsdWVGYWxsYmFja1RvS2V5ID0gb3B0aW9ucy5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgfHwgdGhpcy5vcHRpb25zLm1pc3NpbmdLZXlOb1ZhbHVlRmFsbGJhY2tUb0tleTtcbiAgICAgIGNvbnN0IHJlc0Zvck1pc3NpbmcgPSBtaXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkgJiYgdXNlZEtleSA/IHVuZGVmaW5lZCA6IHJlcztcbiAgICAgIGNvbnN0IHVwZGF0ZU1pc3NpbmcgPSBoYXNEZWZhdWx0VmFsdWUgJiYgZGVmYXVsdFZhbHVlICE9PSByZXMgJiYgdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7XG4gICAgICBpZiAodXNlZEtleSB8fCB1c2VkRGVmYXVsdCB8fCB1cGRhdGVNaXNzaW5nKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyh1cGRhdGVNaXNzaW5nID8gJ3VwZGF0ZUtleScgOiAnbWlzc2luZ0tleScsIGxuZywgbmFtZXNwYWNlLCBrZXksIHVwZGF0ZU1pc3NpbmcgPyBkZWZhdWx0VmFsdWUgOiByZXMpO1xuICAgICAgICBpZiAoa2V5U2VwYXJhdG9yKSB7XG4gICAgICAgICAgY29uc3QgZmsgPSB0aGlzLnJlc29sdmUoa2V5LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAga2V5U2VwYXJhdG9yOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChmayAmJiBmay5yZXMpIHRoaXMubG9nZ2VyLndhcm4oJ1NlZW1zIHRoZSBsb2FkZWQgdHJhbnNsYXRpb25zIHdlcmUgaW4gZmxhdCBKU09OIGZvcm1hdCBpbnN0ZWFkIG9mIG5lc3RlZC4gRWl0aGVyIHNldCBrZXlTZXBhcmF0b3I6IGZhbHNlIG9uIGluaXQgb3IgbWFrZSBzdXJlIHlvdXIgdHJhbnNsYXRpb25zIGFyZSBwdWJsaXNoZWQgaW4gbmVzdGVkIGZvcm1hdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbG5ncyA9IFtdO1xuICAgICAgICBjb25zdCBmYWxsYmFja0xuZ3MgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsIG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdmYWxsYmFjaycgJiYgZmFsbGJhY2tMbmdzICYmIGZhbGxiYWNrTG5nc1swXSkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFsbGJhY2tMbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsbmdzLnB1c2goZmFsbGJhY2tMbmdzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdhbGwnKSB7XG4gICAgICAgICAgbG5ncyA9IHRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkob3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG5ncy5wdXNoKG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbmQgPSAobCwgaywgc3BlY2lmaWNEZWZhdWx0VmFsdWUpID0+IHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0Rm9yTWlzc2luZyA9IGhhc0RlZmF1bHRWYWx1ZSAmJiBzcGVjaWZpY0RlZmF1bHRWYWx1ZSAhPT0gcmVzID8gc3BlY2lmaWNEZWZhdWx0VmFsdWUgOiByZXNGb3JNaXNzaW5nO1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcihsLCBuYW1lc3BhY2UsIGssIGRlZmF1bHRGb3JNaXNzaW5nLCB1cGRhdGVNaXNzaW5nLCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFja2VuZENvbm5lY3RvciAmJiB0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZyhsLCBuYW1lc3BhY2UsIGssIGRlZmF1bHRGb3JNaXNzaW5nLCB1cGRhdGVNaXNzaW5nLCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5lbWl0KCdtaXNzaW5nS2V5JywgbCwgbmFtZXNwYWNlLCBrLCByZXMpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nKSB7XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1BsdXJhbHMgJiYgbmVlZHNQbHVyYWxIYW5kbGluZykge1xuICAgICAgICAgICAgbG5ncy5mb3JFYWNoKGxhbmd1YWdlID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3VmZml4ZXMgPSB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeGVzKGxhbmd1YWdlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCAmJiBvcHRpb25zW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdICYmIHN1ZmZpeGVzLmluZGV4T2YoYCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn16ZXJvYCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgc3VmZml4ZXMucHVzaChgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdWZmaXhlcy5mb3JFYWNoKHN1ZmZpeCA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZChbbGFuZ3VhZ2VdLCBrZXkgKyBzdWZmaXgsIG9wdGlvbnNbYGRlZmF1bHRWYWx1ZSR7c3VmZml4fWBdIHx8IGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmQobG5ncywga2V5LCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleXMsIG9wdGlvbnMsIHJlc29sdmVkLCBsYXN0S2V5KTtcbiAgICAgIGlmICh1c2VkS2V5ICYmIHJlcyA9PT0ga2V5ICYmIHRoaXMub3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXkpIHJlcyA9IGAke25hbWVzcGFjZX06JHtrZXl9YDtcbiAgICAgIGlmICgodXNlZEtleSB8fCB1c2VkRGVmYXVsdCkgJiYgdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnKSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIodGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSA/IGAke25hbWVzcGFjZX06JHtrZXl9YCA6IGtleSwgdXNlZERlZmF1bHQgPyByZXMgOiB1bmRlZmluZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcyA9IHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJldHVybkRldGFpbHMpIHtcbiAgICAgIHJlc29sdmVkLnJlcyA9IHJlcztcbiAgICAgIHJlc29sdmVkLnVzZWRQYXJhbXMgPSB0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHJlc29sdmVkO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5LCBvcHRpb25zLCByZXNvbHZlZCwgbGFzdEtleSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQucGFyc2UpIHtcbiAgICAgIHJlcyA9IHRoaXMuaTE4bkZvcm1hdC5wYXJzZShyZXMsIHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nLCByZXNvbHZlZC51c2VkTlMsIHJlc29sdmVkLnVzZWRLZXksIHtcbiAgICAgICAgcmVzb2x2ZWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMuc2tpcEludGVycG9sYXRpb24pIHtcbiAgICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHRoaXMuaW50ZXJwb2xhdG9yLmluaXQoe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi57XG4gICAgICAgICAgaW50ZXJwb2xhdGlvbjoge1xuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24sXG4gICAgICAgICAgICAuLi5vcHRpb25zLmludGVycG9sYXRpb25cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc2tpcE9uVmFyaWFibGVzID0gaXNTdHJpbmcocmVzKSAmJiAob3B0aW9ucyAmJiBvcHRpb25zLmludGVycG9sYXRpb24gJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyA6IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyk7XG4gICAgICBsZXQgbmVzdEJlZjtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmIgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIG5lc3RCZWYgPSBuYiAmJiBuYi5sZW5ndGg7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiAhaXNTdHJpbmcob3B0aW9ucy5yZXBsYWNlKSA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcykgZGF0YSA9IHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfTtcbiAgICAgIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHJlcywgZGF0YSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSB8fCByZXNvbHZlZC51c2VkTG5nLCBvcHRpb25zKTtcbiAgICAgIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgY29uc3QgbmEgPSByZXMubWF0Y2godGhpcy5pbnRlcnBvbGF0b3IubmVzdGluZ1JlZ2V4cCk7XG4gICAgICAgIGNvbnN0IG5lc3RBZnQgPSBuYSAmJiBuYS5sZW5ndGg7XG4gICAgICAgIGlmIChuZXN0QmVmIDwgbmVzdEFmdCkgb3B0aW9ucy5uZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMubG5nICYmIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnICYmIHJlc29sdmVkICYmIHJlc29sdmVkLnJlcykgb3B0aW9ucy5sbmcgPSB0aGlzLmxhbmd1YWdlIHx8IHJlc29sdmVkLnVzZWRMbmc7XG4gICAgICBpZiAob3B0aW9ucy5uZXN0ICE9PSBmYWxzZSkgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IubmVzdChyZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdEtleSAmJiBsYXN0S2V5WzBdID09PSBhcmdzWzBdICYmICFvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICBfdGhpcy5sb2dnZXIud2FybihgSXQgc2VlbXMgeW91IGFyZSBuZXN0aW5nIHJlY3Vyc2l2ZWx5IGtleTogJHthcmdzWzBdfSBpbiBrZXk6ICR7a2V5WzBdfWApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcy50cmFuc2xhdGUoLi4uYXJncywga2V5KTtcbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKTtcbiAgICB9XG4gICAgY29uc3QgcG9zdFByb2Nlc3MgPSBvcHRpb25zLnBvc3RQcm9jZXNzIHx8IHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcztcbiAgICBjb25zdCBwb3N0UHJvY2Vzc29yTmFtZXMgPSBpc1N0cmluZyhwb3N0UHJvY2VzcykgPyBbcG9zdFByb2Nlc3NdIDogcG9zdFByb2Nlc3M7XG4gICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkICYmIHJlcyAhPT0gbnVsbCAmJiBwb3N0UHJvY2Vzc29yTmFtZXMgJiYgcG9zdFByb2Nlc3Nvck5hbWVzLmxlbmd0aCAmJiBvcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciAhPT0gZmFsc2UpIHtcbiAgICAgIHJlcyA9IHBvc3RQcm9jZXNzb3IuaGFuZGxlKHBvc3RQcm9jZXNzb3JOYW1lcywgcmVzLCBrZXksIHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQgPyB7XG4gICAgICAgIGkxOG5SZXNvbHZlZDoge1xuICAgICAgICAgIC4uLnJlc29sdmVkLFxuICAgICAgICAgIHVzZWRQYXJhbXM6IHRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMob3B0aW9ucylcbiAgICAgICAgfSxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSA6IG9wdGlvbnMsIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIHJlc29sdmUoa2V5cykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgZm91bmQ7XG4gICAgbGV0IHVzZWRLZXk7XG4gICAgbGV0IGV4YWN0VXNlZEtleTtcbiAgICBsZXQgdXNlZExuZztcbiAgICBsZXQgdXNlZE5TO1xuICAgIGlmIChpc1N0cmluZyhrZXlzKSkga2V5cyA9IFtrZXlzXTtcbiAgICBrZXlzLmZvckVhY2goayA9PiB7XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZXh0cmFjdGVkID0gdGhpcy5leHRyYWN0RnJvbUtleShrLCBvcHRpb25zKTtcbiAgICAgIGNvbnN0IGtleSA9IGV4dHJhY3RlZC5rZXk7XG4gICAgICB1c2VkS2V5ID0ga2V5O1xuICAgICAgbGV0IG5hbWVzcGFjZXMgPSBleHRyYWN0ZWQubmFtZXNwYWNlcztcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmFsbGJhY2tOUykgbmFtZXNwYWNlcyA9IG5hbWVzcGFjZXMuY29uY2F0KHRoaXMub3B0aW9ucy5mYWxsYmFja05TKTtcbiAgICAgIGNvbnN0IG5lZWRzUGx1cmFsSGFuZGxpbmcgPSBvcHRpb25zLmNvdW50ICE9PSB1bmRlZmluZWQgJiYgIWlzU3RyaW5nKG9wdGlvbnMuY291bnQpO1xuICAgICAgY29uc3QgbmVlZHNaZXJvU3VmZml4TG9va3VwID0gbmVlZHNQbHVyYWxIYW5kbGluZyAmJiAhb3B0aW9ucy5vcmRpbmFsICYmIG9wdGlvbnMuY291bnQgPT09IDAgJiYgdGhpcy5wbHVyYWxSZXNvbHZlci5zaG91bGRVc2VJbnRsQXBpKCk7XG4gICAgICBjb25zdCBuZWVkc0NvbnRleHRIYW5kbGluZyA9IG9wdGlvbnMuY29udGV4dCAhPT0gdW5kZWZpbmVkICYmIChpc1N0cmluZyhvcHRpb25zLmNvbnRleHQpIHx8IHR5cGVvZiBvcHRpb25zLmNvbnRleHQgPT09ICdudW1iZXInKSAmJiBvcHRpb25zLmNvbnRleHQgIT09ICcnO1xuICAgICAgY29uc3QgY29kZXMgPSBvcHRpb25zLmxuZ3MgPyBvcHRpb25zLmxuZ3MgOiB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UsIG9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcbiAgICAgICAgdXNlZE5TID0gbnM7XG4gICAgICAgIGlmICghY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSAmJiB0aGlzLnV0aWxzICYmIHRoaXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlICYmICF0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZSh1c2VkTlMpKSB7XG4gICAgICAgICAgY2hlY2tlZExvYWRlZEZvcltgJHtjb2Rlc1swXX0tJHtuc31gXSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2Fybihga2V5IFwiJHt1c2VkS2V5fVwiIGZvciBsYW5ndWFnZXMgXCIke2NvZGVzLmpvaW4oJywgJyl9XCIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSBcIiR7dXNlZE5TfVwiIHdhcyBub3QgeWV0IGxvYWRlZGAsICdUaGlzIG1lYW5zIHNvbWV0aGluZyBJUyBXUk9ORyBpbiB5b3VyIHNldHVwLiBZb3UgYWNjZXNzIHRoZSB0IGZ1bmN0aW9uIGJlZm9yZSBpMThuZXh0LmluaXQgLyBpMThuZXh0LmxvYWROYW1lc3BhY2UgLyBpMThuZXh0LmNoYW5nZUxhbmd1YWdlIHdhcyBkb25lLiBXYWl0IGZvciB0aGUgY2FsbGJhY2sgb3IgUHJvbWlzZSB0byByZXNvbHZlIGJlZm9yZSBhY2Nlc3NpbmcgaXQhISEnKTtcbiAgICAgICAgfVxuICAgICAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG4gICAgICAgICAgdXNlZExuZyA9IGNvZGU7XG4gICAgICAgICAgY29uc3QgZmluYWxLZXlzID0gW2tleV07XG4gICAgICAgICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cykge1xuICAgICAgICAgICAgdGhpcy5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMoZmluYWxLZXlzLCBrZXksIGNvZGUsIG5zLCBvcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBsdXJhbFN1ZmZpeDtcbiAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSBwbHVyYWxTdWZmaXggPSB0aGlzLnBsdXJhbFJlc29sdmVyLmdldFN1ZmZpeChjb2RlLCBvcHRpb25zLmNvdW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHplcm9TdWZmaXggPSBgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gO1xuICAgICAgICAgICAgY29uc3Qgb3JkaW5hbFByZWZpeCA9IGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9b3JkaW5hbCR7dGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcn1gO1xuICAgICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgcGx1cmFsU3VmZml4KTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZpbmFsS2V5cy5wdXNoKGtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobmVlZHNaZXJvU3VmZml4TG9va3VwKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goa2V5ICsgemVyb1N1ZmZpeCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZWVkc0NvbnRleHRIYW5kbGluZykge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZXh0S2V5ID0gYCR7a2V5fSR7dGhpcy5vcHRpb25zLmNvbnRleHRTZXBhcmF0b3J9JHtvcHRpb25zLmNvbnRleHR9YDtcbiAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSk7XG4gICAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeCk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub3JkaW5hbCAmJiBwbHVyYWxTdWZmaXguaW5kZXhPZihvcmRpbmFsUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHBsdXJhbFN1ZmZpeC5yZXBsYWNlKG9yZGluYWxQcmVmaXgsIHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzWmVyb1N1ZmZpeExvb2t1cCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxLZXlzLnB1c2goY29udGV4dEtleSArIHplcm9TdWZmaXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgcG9zc2libGVLZXk7XG4gICAgICAgICAgd2hpbGUgKHBvc3NpYmxlS2V5ID0gZmluYWxLZXlzLnBvcCgpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHtcbiAgICAgICAgICAgICAgZXhhY3RVc2VkS2V5ID0gcG9zc2libGVLZXk7XG4gICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5nZXRSZXNvdXJjZShjb2RlLCBucywgcG9zc2libGVLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzOiBmb3VuZCxcbiAgICAgIHVzZWRLZXksXG4gICAgICBleGFjdFVzZWRLZXksXG4gICAgICB1c2VkTG5nLFxuICAgICAgdXNlZE5TXG4gICAgfTtcbiAgfVxuICBpc1ZhbGlkTG9va3VwKHJlcykge1xuICAgIHJldHVybiByZXMgIT09IHVuZGVmaW5lZCAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuTnVsbCAmJiByZXMgPT09IG51bGwpICYmICEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyAmJiByZXMgPT09ICcnKTtcbiAgfVxuICBnZXRSZXNvdXJjZShjb2RlLCBucywga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKSByZXR1cm4gdGhpcy5pMThuRm9ybWF0LmdldFJlc291cmNlKGNvZGUsIG5zLCBrZXksIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlU3RvcmUuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSwgb3B0aW9ucyk7XG4gIH1cbiAgZ2V0VXNlZFBhcmFtc0RldGFpbHMoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IG9wdGlvbnNLZXlzID0gWydkZWZhdWx0VmFsdWUnLCAnb3JkaW5hbCcsICdjb250ZXh0JywgJ3JlcGxhY2UnLCAnbG5nJywgJ2xuZ3MnLCAnZmFsbGJhY2tMbmcnLCAnbnMnLCAna2V5U2VwYXJhdG9yJywgJ25zU2VwYXJhdG9yJywgJ3JldHVybk9iamVjdHMnLCAncmV0dXJuRGV0YWlscycsICdqb2luQXJyYXlzJywgJ3Bvc3RQcm9jZXNzJywgJ2ludGVycG9sYXRpb24nXTtcbiAgICBjb25zdCB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPSBvcHRpb25zLnJlcGxhY2UgJiYgIWlzU3RyaW5nKG9wdGlvbnMucmVwbGFjZSk7XG4gICAgbGV0IGRhdGEgPSB1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgPyBvcHRpb25zLnJlcGxhY2UgOiBvcHRpb25zO1xuICAgIGlmICh1c2VPcHRpb25zUmVwbGFjZUZvckRhdGEgJiYgdHlwZW9mIG9wdGlvbnMuY291bnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkYXRhLmNvdW50ID0gb3B0aW9ucy5jb3VudDtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICghdXNlT3B0aW9uc1JlcGxhY2VGb3JEYXRhKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5kYXRhXG4gICAgICB9O1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Ygb3B0aW9uc0tleXMpIHtcbiAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgc3RhdGljIGhhc0RlZmF1bHRWYWx1ZShvcHRpb25zKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJ2RlZmF1bHRWYWx1ZSc7XG4gICAgZm9yIChjb25zdCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBvcHRpb24pICYmIHByZWZpeCA9PT0gb3B0aW9uLnN1YnN0cmluZygwLCBwcmVmaXgubGVuZ3RoKSAmJiB1bmRlZmluZWQgIT09IG9wdGlvbnNbb3B0aW9uXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IGNhcGl0YWxpemUgPSBzdHJpbmcgPT4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuY2xhc3MgTGFuZ3VhZ2VVdGlsIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5zdXBwb3J0ZWRMbmdzID0gdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MgfHwgZmFsc2U7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnbGFuZ3VhZ2VVdGlscycpO1xuICB9XG4gIGdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKSB7XG4gICAgY29kZSA9IGdldENsZWFuZWRDb2RlKGNvZGUpO1xuICAgIGlmICghY29kZSB8fCBjb2RlLmluZGV4T2YoJy0nKSA8IDApIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgaWYgKHAubGVuZ3RoID09PSAyKSByZXR1cm4gbnVsbDtcbiAgICBwLnBvcCgpO1xuICAgIGlmIChwW3AubGVuZ3RoIC0gMV0udG9Mb3dlckNhc2UoKSA9PT0gJ3gnKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocC5qb2luKCctJykpO1xuICB9XG4gIGdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpIHtcbiAgICBjb2RlID0gZ2V0Q2xlYW5lZENvZGUoY29kZSk7XG4gICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIGNvZGU7XG4gICAgY29uc3QgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUocFswXSk7XG4gIH1cbiAgZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpIHtcbiAgICBpZiAoaXNTdHJpbmcoY29kZSkgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgaWYgKHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgSW50bC5nZXRDYW5vbmljYWxMb2NhbGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCBmb3JtYXR0ZWRDb2RlID0gSW50bC5nZXRDYW5vbmljYWxMb2NhbGVzKGNvZGUpWzBdO1xuICAgICAgICAgIGlmIChmb3JtYXR0ZWRDb2RlICYmIHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmcpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZENvZGUgPSBmb3JtYXR0ZWRDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmb3JtYXR0ZWRDb2RlKSByZXR1cm4gZm9ybWF0dGVkQ29kZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIGNvbnN0IHNwZWNpYWxDYXNlcyA9IFsnaGFucycsICdoYW50JywgJ2xhdG4nLCAnY3lybCcsICdjYW5zJywgJ21vbmcnLCAnYXJhYiddO1xuICAgICAgbGV0IHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZykge1xuICAgICAgICBwID0gcC5tYXAocGFydCA9PiBwYXJ0LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsxXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzFdID0gY2FwaXRhbGl6ZShwWzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAocFsxXS5sZW5ndGggPT09IDIpIHBbMV0gPSBwWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChwWzBdICE9PSAnc2duJyAmJiBwWzJdLmxlbmd0aCA9PT0gMikgcFsyXSA9IHBbMl0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMV0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsxXSA9IGNhcGl0YWxpemUocFsxXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMl0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsyXSA9IGNhcGl0YWxpemUocFsyXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwLmpvaW4oJy0nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGVhbkNvZGUgfHwgdGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZyA/IGNvZGUudG9Mb3dlckNhc2UoKSA6IGNvZGU7XG4gIH1cbiAgaXNTdXBwb3J0ZWRDb2RlKGNvZGUpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgPT09ICdsYW5ndWFnZU9ubHknIHx8IHRoaXMub3B0aW9ucy5ub25FeHBsaWNpdFN1cHBvcnRlZExuZ3MpIHtcbiAgICAgIGNvZGUgPSB0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpO1xuICAgIH1cbiAgICByZXR1cm4gIXRoaXMuc3VwcG9ydGVkTG5ncyB8fCAhdGhpcy5zdXBwb3J0ZWRMbmdzLmxlbmd0aCB8fCB0aGlzLnN1cHBvcnRlZExuZ3MuaW5kZXhPZihjb2RlKSA+IC0xO1xuICB9XG4gIGdldEJlc3RNYXRjaEZyb21Db2Rlcyhjb2Rlcykge1xuICAgIGlmICghY29kZXMpIHJldHVybiBudWxsO1xuICAgIGxldCBmb3VuZDtcbiAgICBjb2Rlcy5mb3JFYWNoKGNvZGUgPT4ge1xuICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG4gICAgICBjb25zdCBjbGVhbmVkTG5nID0gdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSk7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzIHx8IHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGNsZWFuZWRMbmcpKSBmb3VuZCA9IGNsZWFuZWRMbmc7XG4gICAgfSk7XG4gICAgaWYgKCFmb3VuZCAmJiB0aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncykge1xuICAgICAgY29kZXMuZm9yRWFjaChjb2RlID0+IHtcbiAgICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxuZ09ubHkgPSB0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpO1xuICAgICAgICBpZiAodGhpcy5pc1N1cHBvcnRlZENvZGUobG5nT25seSkpIHJldHVybiBmb3VuZCA9IGxuZ09ubHk7XG4gICAgICAgIGZvdW5kID0gdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MuZmluZChzdXBwb3J0ZWRMbmcgPT4ge1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcgPT09IGxuZ09ubHkpIHJldHVybiBzdXBwb3J0ZWRMbmc7XG4gICAgICAgICAgaWYgKHN1cHBvcnRlZExuZy5pbmRleE9mKCctJykgPCAwICYmIGxuZ09ubHkuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuO1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWRMbmcuaW5kZXhPZignLScpID4gMCAmJiBsbmdPbmx5LmluZGV4T2YoJy0nKSA8IDAgJiYgc3VwcG9ydGVkTG5nLnN1YnN0cmluZygwLCBzdXBwb3J0ZWRMbmcuaW5kZXhPZignLScpKSA9PT0gbG5nT25seSkgcmV0dXJuIHN1cHBvcnRlZExuZztcbiAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nLmluZGV4T2YobG5nT25seSkgPT09IDAgJiYgbG5nT25seS5sZW5ndGggPiAxKSByZXR1cm4gc3VwcG9ydGVkTG5nO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IHRoaXMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpWzBdO1xuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuICBnZXRGYWxsYmFja0NvZGVzKGZhbGxiYWNrcywgY29kZSkge1xuICAgIGlmICghZmFsbGJhY2tzKSByZXR1cm4gW107XG4gICAgaWYgKHR5cGVvZiBmYWxsYmFja3MgPT09ICdmdW5jdGlvbicpIGZhbGxiYWNrcyA9IGZhbGxiYWNrcyhjb2RlKTtcbiAgICBpZiAoaXNTdHJpbmcoZmFsbGJhY2tzKSkgZmFsbGJhY2tzID0gW2ZhbGxiYWNrc107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmFsbGJhY2tzKSkgcmV0dXJuIGZhbGxiYWNrcztcbiAgICBpZiAoIWNvZGUpIHJldHVybiBmYWxsYmFja3MuZGVmYXVsdCB8fCBbXTtcbiAgICBsZXQgZm91bmQgPSBmYWxsYmFja3NbY29kZV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbdGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSldO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrc1t0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrcy5kZWZhdWx0O1xuICAgIHJldHVybiBmb3VuZCB8fCBbXTtcbiAgfVxuICB0b1Jlc29sdmVIaWVyYXJjaHkoY29kZSwgZmFsbGJhY2tDb2RlKSB7XG4gICAgY29uc3QgZmFsbGJhY2tDb2RlcyA9IHRoaXMuZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja0NvZGUgfHwgdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIHx8IFtdLCBjb2RlKTtcbiAgICBjb25zdCBjb2RlcyA9IFtdO1xuICAgIGNvbnN0IGFkZENvZGUgPSBjID0+IHtcbiAgICAgIGlmICghYykgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGMpKSB7XG4gICAgICAgIGNvZGVzLnB1c2goYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGByZWplY3RpbmcgbGFuZ3VhZ2UgY29kZSBub3QgZm91bmQgaW4gc3VwcG9ydGVkTG5nczogJHtjfWApO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlzU3RyaW5nKGNvZGUpICYmIChjb2RlLmluZGV4T2YoJy0nKSA+IC0xIHx8IGNvZGUuaW5kZXhPZignXycpID4gLTEpKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknKSBhZGRDb2RlKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2xhbmd1YWdlT25seScgJiYgdGhpcy5vcHRpb25zLmxvYWQgIT09ICdjdXJyZW50T25seScpIGFkZENvZGUodGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkpO1xuICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcoY29kZSkpIHtcbiAgICAgIGFkZENvZGUodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkpO1xuICAgIH1cbiAgICBmYWxsYmFja0NvZGVzLmZvckVhY2goZmMgPT4ge1xuICAgICAgaWYgKGNvZGVzLmluZGV4T2YoZmMpIDwgMCkgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShmYykpO1xuICAgIH0pO1xuICAgIHJldHVybiBjb2RlcztcbiAgfVxufVxuXG5sZXQgc2V0cyA9IFt7XG4gIGxuZ3M6IFsnYWNoJywgJ2FrJywgJ2FtJywgJ2FybicsICdicicsICdmaWwnLCAnZ3VuJywgJ2xuJywgJ21mZScsICdtZycsICdtaScsICdvYycsICdwdCcsICdwdC1CUicsICd0ZycsICd0bCcsICd0aScsICd0cicsICd1eicsICd3YSddLFxuICBucjogWzEsIDJdLFxuICBmYzogMVxufSwge1xuICBsbmdzOiBbJ2FmJywgJ2FuJywgJ2FzdCcsICdheicsICdiZycsICdibicsICdjYScsICdkYScsICdkZScsICdkZXYnLCAnZWwnLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLCAnZmknLCAnZm8nLCAnZnVyJywgJ2Z5JywgJ2dsJywgJ2d1JywgJ2hhJywgJ2hpJywgJ2h1JywgJ2h5JywgJ2lhJywgJ2l0JywgJ2trJywgJ2tuJywgJ2t1JywgJ2xiJywgJ21haScsICdtbCcsICdtbicsICdtcicsICduYWgnLCAnbmFwJywgJ25iJywgJ25lJywgJ25sJywgJ25uJywgJ25vJywgJ25zbycsICdwYScsICdwYXAnLCAncG1zJywgJ3BzJywgJ3B0LVBUJywgJ3JtJywgJ3NjbycsICdzZScsICdzaScsICdzbycsICdzb24nLCAnc3EnLCAnc3YnLCAnc3cnLCAndGEnLCAndGUnLCAndGsnLCAndXInLCAneW8nXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydheScsICdibycsICdjZ2cnLCAnZmEnLCAnaHQnLCAnaWQnLCAnamEnLCAnamJvJywgJ2thJywgJ2ttJywgJ2tvJywgJ2t5JywgJ2xvJywgJ21zJywgJ3NhaCcsICdzdScsICd0aCcsICd0dCcsICd1ZycsICd2aScsICd3bycsICd6aCddLFxuICBucjogWzFdLFxuICBmYzogM1xufSwge1xuICBsbmdzOiBbJ2JlJywgJ2JzJywgJ2NucicsICdkeicsICdocicsICdydScsICdzcicsICd1ayddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogNFxufSwge1xuICBsbmdzOiBbJ2FyJ10sXG4gIG5yOiBbMCwgMSwgMiwgMywgMTEsIDEwMF0sXG4gIGZjOiA1XG59LCB7XG4gIGxuZ3M6IFsnY3MnLCAnc2snXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDZcbn0sIHtcbiAgbG5nczogWydjc2InLCAncGwnXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDdcbn0sIHtcbiAgbG5nczogWydjeSddLFxuICBucjogWzEsIDIsIDMsIDhdLFxuICBmYzogOFxufSwge1xuICBsbmdzOiBbJ2ZyJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiA5XG59LCB7XG4gIGxuZ3M6IFsnZ2EnXSxcbiAgbnI6IFsxLCAyLCAzLCA3LCAxMV0sXG4gIGZjOiAxMFxufSwge1xuICBsbmdzOiBbJ2dkJ10sXG4gIG5yOiBbMSwgMiwgMywgMjBdLFxuICBmYzogMTFcbn0sIHtcbiAgbG5nczogWydpcyddLFxuICBucjogWzEsIDJdLFxuICBmYzogMTJcbn0sIHtcbiAgbG5nczogWydqdiddLFxuICBucjogWzAsIDFdLFxuICBmYzogMTNcbn0sIHtcbiAgbG5nczogWydrdyddLFxuICBucjogWzEsIDIsIDMsIDRdLFxuICBmYzogMTRcbn0sIHtcbiAgbG5nczogWydsdCddLFxuICBucjogWzEsIDIsIDEwXSxcbiAgZmM6IDE1XG59LCB7XG4gIGxuZ3M6IFsnbHYnXSxcbiAgbnI6IFsxLCAyLCAwXSxcbiAgZmM6IDE2XG59LCB7XG4gIGxuZ3M6IFsnbWsnXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDE3XG59LCB7XG4gIGxuZ3M6IFsnbW5rJ10sXG4gIG5yOiBbMCwgMSwgMl0sXG4gIGZjOiAxOFxufSwge1xuICBsbmdzOiBbJ210J10sXG4gIG5yOiBbMSwgMiwgMTEsIDIwXSxcbiAgZmM6IDE5XG59LCB7XG4gIGxuZ3M6IFsnb3InXSxcbiAgbnI6IFsyLCAxXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydybyddLFxuICBucjogWzEsIDIsIDIwXSxcbiAgZmM6IDIwXG59LCB7XG4gIGxuZ3M6IFsnc2wnXSxcbiAgbnI6IFs1LCAxLCAyLCAzXSxcbiAgZmM6IDIxXG59LCB7XG4gIGxuZ3M6IFsnaGUnLCAnaXcnXSxcbiAgbnI6IFsxLCAyLCAyMCwgMjFdLFxuICBmYzogMjJcbn1dO1xubGV0IF9ydWxlc1BsdXJhbHNUeXBlcyA9IHtcbiAgMTogbiA9PiBOdW1iZXIobiA+IDEpLFxuICAyOiBuID0+IE51bWJlcihuICE9IDEpLFxuICAzOiBuID0+IDAsXG4gIDQ6IG4gPT4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDQgJiYgKG4gJSAxMDAgPCAxMCB8fCBuICUgMTAwID49IDIwKSA/IDEgOiAyKSxcbiAgNTogbiA9PiBOdW1iZXIobiA9PSAwID8gMCA6IG4gPT0gMSA/IDEgOiBuID09IDIgPyAyIDogbiAlIDEwMCA+PSAzICYmIG4gJSAxMDAgPD0gMTAgPyAzIDogbiAlIDEwMCA+PSAxMSA/IDQgOiA1KSxcbiAgNjogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPj0gMiAmJiBuIDw9IDQgPyAxIDogMiksXG4gIDc6IG4gPT4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpLFxuICA4OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gIT0gOCAmJiBuICE9IDExID8gMiA6IDMpLFxuICA5OiBuID0+IE51bWJlcihuID49IDIpLFxuICAxMDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuIDwgNyA/IDIgOiBuIDwgMTEgPyAzIDogNCksXG4gIDExOiBuID0+IE51bWJlcihuID09IDEgfHwgbiA9PSAxMSA/IDAgOiBuID09IDIgfHwgbiA9PSAxMiA/IDEgOiBuID4gMiAmJiBuIDwgMjAgPyAyIDogMyksXG4gIDEyOiBuID0+IE51bWJlcihuICUgMTAgIT0gMSB8fCBuICUgMTAwID09IDExKSxcbiAgMTM6IG4gPT4gTnVtYmVyKG4gIT09IDApLFxuICAxNDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuID09IDMgPyAyIDogMyksXG4gIDE1OiBuID0+IE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gJSAxMCA+PSAyICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMiksXG4gIDE2OiBuID0+IE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gIT09IDAgPyAxIDogMiksXG4gIDE3OiBuID0+IE51bWJlcihuID09IDEgfHwgbiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiAxKSxcbiAgMTg6IG4gPT4gTnVtYmVyKG4gPT0gMCA/IDAgOiBuID09IDEgPyAxIDogMiksXG4gIDE5OiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAwIHx8IG4gJSAxMDAgPiAxICYmIG4gJSAxMDAgPCAxMSA/IDEgOiBuICUgMTAwID4gMTAgJiYgbiAlIDEwMCA8IDIwID8gMiA6IDMpLFxuICAyMDogbiA9PiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMCB8fCBuICUgMTAwID4gMCAmJiBuICUgMTAwIDwgMjAgPyAxIDogMiksXG4gIDIxOiBuID0+IE51bWJlcihuICUgMTAwID09IDEgPyAxIDogbiAlIDEwMCA9PSAyID8gMiA6IG4gJSAxMDAgPT0gMyB8fCBuICUgMTAwID09IDQgPyAzIDogMCksXG4gIDIyOiBuID0+IE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IChuIDwgMCB8fCBuID4gMTApICYmIG4gJSAxMCA9PSAwID8gMiA6IDMpXG59O1xuY29uc3Qgbm9uSW50bFZlcnNpb25zID0gWyd2MScsICd2MicsICd2MyddO1xuY29uc3QgaW50bFZlcnNpb25zID0gWyd2NCddO1xuY29uc3Qgc3VmZml4ZXNPcmRlciA9IHtcbiAgemVybzogMCxcbiAgb25lOiAxLFxuICB0d286IDIsXG4gIGZldzogMyxcbiAgbWFueTogNCxcbiAgb3RoZXI6IDVcbn07XG5jb25zdCBjcmVhdGVSdWxlcyA9ICgpID0+IHtcbiAgY29uc3QgcnVsZXMgPSB7fTtcbiAgc2V0cy5mb3JFYWNoKHNldCA9PiB7XG4gICAgc2V0LmxuZ3MuZm9yRWFjaChsID0+IHtcbiAgICAgIHJ1bGVzW2xdID0ge1xuICAgICAgICBudW1iZXJzOiBzZXQubnIsXG4gICAgICAgIHBsdXJhbHM6IF9ydWxlc1BsdXJhbHNUeXBlc1tzZXQuZmNdXG4gICAgICB9O1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHJ1bGVzO1xufTtcbmNsYXNzIFBsdXJhbFJlc29sdmVyIHtcbiAgY29uc3RydWN0b3IobGFuZ3VhZ2VVdGlscykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLmxhbmd1YWdlVXRpbHMgPSBsYW5ndWFnZVV0aWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgncGx1cmFsUmVzb2x2ZXInKTtcbiAgICBpZiAoKCF0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gfHwgaW50bFZlcnNpb25zLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTikpICYmICh0eXBlb2YgSW50bCA9PT0gJ3VuZGVmaW5lZCcgfHwgIUludGwuUGx1cmFsUnVsZXMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04gPSAndjMnO1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ1lvdXIgZW52aXJvbm1lbnQgc2VlbXMgbm90IHRvIGJlIEludGwgQVBJIGNvbXBhdGlibGUsIHVzZSBhbiBJbnRsLlBsdXJhbFJ1bGVzIHBvbHlmaWxsLiBXaWxsIGZhbGxiYWNrIHRvIHRoZSBjb21wYXRpYmlsaXR5SlNPTiB2MyBmb3JtYXQgaGFuZGxpbmcuJyk7XG4gICAgfVxuICAgIHRoaXMucnVsZXMgPSBjcmVhdGVSdWxlcygpO1xuICAgIHRoaXMucGx1cmFsUnVsZXNDYWNoZSA9IHt9O1xuICB9XG4gIGFkZFJ1bGUobG5nLCBvYmopIHtcbiAgICB0aGlzLnJ1bGVzW2xuZ10gPSBvYmo7XG4gIH1cbiAgY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGUgPSB7fTtcbiAgfVxuICBnZXRSdWxlKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICBjb25zdCBjbGVhbmVkQ29kZSA9IGdldENsZWFuZWRDb2RlKGNvZGUgPT09ICdkZXYnID8gJ2VuJyA6IGNvZGUpO1xuICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMub3JkaW5hbCA/ICdvcmRpbmFsJyA6ICdjYXJkaW5hbCc7XG4gICAgICBjb25zdCBjYWNoZUtleSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgY2xlYW5lZENvZGUsXG4gICAgICAgIHR5cGVcbiAgICAgIH0pO1xuICAgICAgaWYgKGNhY2hlS2V5IGluIHRoaXMucGx1cmFsUnVsZXNDYWNoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlW2NhY2hlS2V5XTtcbiAgICAgIH1cbiAgICAgIGxldCBydWxlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVsZSA9IG5ldyBJbnRsLlBsdXJhbFJ1bGVzKGNsZWFuZWRDb2RlLCB7XG4gICAgICAgICAgdHlwZVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIWNvZGUubWF0Y2goLy18Xy8pKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxuZ1BhcnQgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSk7XG4gICAgICAgIHJ1bGUgPSB0aGlzLmdldFJ1bGUobG5nUGFydCwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICB0aGlzLnBsdXJhbFJ1bGVzQ2FjaGVbY2FjaGVLZXldID0gcnVsZTtcbiAgICAgIHJldHVybiBydWxlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ydWxlc1tjb2RlXSB8fCB0aGlzLnJ1bGVzW3RoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKV07XG4gIH1cbiAgbmVlZHNQbHVyYWwoY29kZSkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjb25zdCBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUsIG9wdGlvbnMpO1xuICAgIGlmICh0aGlzLnNob3VsZFVzZUludGxBcGkoKSkge1xuICAgICAgcmV0dXJuIHJ1bGUgJiYgcnVsZS5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLmxlbmd0aCA+IDE7XG4gICAgfVxuICAgIHJldHVybiBydWxlICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPiAxO1xuICB9XG4gIGdldFBsdXJhbEZvcm1zT2ZLZXkoY29kZSwga2V5KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHJldHVybiB0aGlzLmdldFN1ZmZpeGVzKGNvZGUsIG9wdGlvbnMpLm1hcChzdWZmaXggPT4gYCR7a2V5fSR7c3VmZml4fWApO1xuICB9XG4gIGdldFN1ZmZpeGVzKGNvZGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY29uc3QgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlLCBvcHRpb25zKTtcbiAgICBpZiAoIXJ1bGUpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpKSB7XG4gICAgICByZXR1cm4gcnVsZS5yZXNvbHZlZE9wdGlvbnMoKS5wbHVyYWxDYXRlZ29yaWVzLnNvcnQoKHBsdXJhbENhdGVnb3J5MSwgcGx1cmFsQ2F0ZWdvcnkyKSA9PiBzdWZmaXhlc09yZGVyW3BsdXJhbENhdGVnb3J5MV0gLSBzdWZmaXhlc09yZGVyW3BsdXJhbENhdGVnb3J5Ml0pLm1hcChwbHVyYWxDYXRlZ29yeSA9PiBgJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke29wdGlvbnMub3JkaW5hbCA/IGBvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gIDogJyd9JHtwbHVyYWxDYXRlZ29yeX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bGUubnVtYmVycy5tYXAobnVtYmVyID0+IHRoaXMuZ2V0U3VmZml4KGNvZGUsIG51bWJlciwgb3B0aW9ucykpO1xuICB9XG4gIGdldFN1ZmZpeChjb2RlLCBjb3VudCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBjb25zdCBydWxlID0gdGhpcy5nZXRSdWxlKGNvZGUsIG9wdGlvbnMpO1xuICAgIGlmIChydWxlKSB7XG4gICAgICBpZiAodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMub3B0aW9ucy5wcmVwZW5kfSR7b3B0aW9ucy5vcmRpbmFsID8gYG9yZGluYWwke3RoaXMub3B0aW9ucy5wcmVwZW5kfWAgOiAnJ30ke3J1bGUuc2VsZWN0KGNvdW50KX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZ2V0U3VmZml4UmV0cm9Db21wYXRpYmxlKHJ1bGUsIGNvdW50KTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIud2Fybihgbm8gcGx1cmFsIHJ1bGUgZm91bmQgZm9yOiAke2NvZGV9YCk7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShydWxlLCBjb3VudCkge1xuICAgIGNvbnN0IGlkeCA9IHJ1bGUubm9BYnMgPyBydWxlLnBsdXJhbHMoY291bnQpIDogcnVsZS5wbHVyYWxzKE1hdGguYWJzKGNvdW50KSk7XG4gICAgbGV0IHN1ZmZpeCA9IHJ1bGUubnVtYmVyc1tpZHhdO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXggJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMiAmJiBydWxlLm51bWJlcnNbMF0gPT09IDEpIHtcbiAgICAgIGlmIChzdWZmaXggPT09IDIpIHtcbiAgICAgICAgc3VmZml4ID0gJ3BsdXJhbCc7XG4gICAgICB9IGVsc2UgaWYgKHN1ZmZpeCA9PT0gMSkge1xuICAgICAgICBzdWZmaXggPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmV0dXJuU3VmZml4ID0gKCkgPT4gdGhpcy5vcHRpb25zLnByZXBlbmQgJiYgc3VmZml4LnRvU3RyaW5nKCkgPyB0aGlzLm9wdGlvbnMucHJlcGVuZCArIHN1ZmZpeC50b1N0cmluZygpIDogc3VmZml4LnRvU3RyaW5nKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9PT0gJ3YxJykge1xuICAgICAgaWYgKHN1ZmZpeCA9PT0gMSkgcmV0dXJuICcnO1xuICAgICAgaWYgKHR5cGVvZiBzdWZmaXggPT09ICdudW1iZXInKSByZXR1cm4gYF9wbHVyYWxfJHtzdWZmaXgudG9TdHJpbmcoKX1gO1xuICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjInKSB7XG4gICAgICByZXR1cm4gcmV0dXJuU3VmZml4KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXggJiYgcnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMiAmJiBydWxlLm51bWJlcnNbMF0gPT09IDEpIHtcbiAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wcmVwZW5kICYmIGlkeC50b1N0cmluZygpID8gdGhpcy5vcHRpb25zLnByZXBlbmQgKyBpZHgudG9TdHJpbmcoKSA6IGlkeC50b1N0cmluZygpO1xuICB9XG4gIHNob3VsZFVzZUludGxBcGkoKSB7XG4gICAgcmV0dXJuICFub25JbnRsVmVyc2lvbnMuaW5jbHVkZXModGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OKTtcbiAgfVxufVxuXG5jb25zdCBkZWVwRmluZFdpdGhEZWZhdWx0cyA9IGZ1bmN0aW9uIChkYXRhLCBkZWZhdWx0RGF0YSwga2V5KSB7XG4gIGxldCBrZXlTZXBhcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICcuJztcbiAgbGV0IGlnbm9yZUpTT05TdHJ1Y3R1cmUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XG4gIGxldCBwYXRoID0gZ2V0UGF0aFdpdGhEZWZhdWx0cyhkYXRhLCBkZWZhdWx0RGF0YSwga2V5KTtcbiAgaWYgKCFwYXRoICYmIGlnbm9yZUpTT05TdHJ1Y3R1cmUgJiYgaXNTdHJpbmcoa2V5KSkge1xuICAgIHBhdGggPSBkZWVwRmluZChkYXRhLCBrZXksIGtleVNlcGFyYXRvcik7XG4gICAgaWYgKHBhdGggPT09IHVuZGVmaW5lZCkgcGF0aCA9IGRlZXBGaW5kKGRlZmF1bHREYXRhLCBrZXksIGtleVNlcGFyYXRvcik7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuY29uc3QgcmVnZXhTYWZlID0gdmFsID0+IHZhbC5yZXBsYWNlKC9cXCQvZywgJyQkJCQnKTtcbmNsYXNzIEludGVycG9sYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdpbnRlcnBvbGF0b3InKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgfHwgKHZhbHVlID0+IHZhbHVlKTtcbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgaW5pdCgpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgaWYgKCFvcHRpb25zLmludGVycG9sYXRpb24pIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHtcbiAgICAgIGVzY2FwZVZhbHVlOiB0cnVlXG4gICAgfTtcbiAgICBjb25zdCB7XG4gICAgICBlc2NhcGU6IGVzY2FwZSQxLFxuICAgICAgZXNjYXBlVmFsdWUsXG4gICAgICB1c2VSYXdWYWx1ZVRvRXNjYXBlLFxuICAgICAgcHJlZml4LFxuICAgICAgcHJlZml4RXNjYXBlZCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHN1ZmZpeEVzY2FwZWQsXG4gICAgICBmb3JtYXRTZXBhcmF0b3IsXG4gICAgICB1bmVzY2FwZVN1ZmZpeCxcbiAgICAgIHVuZXNjYXBlUHJlZml4LFxuICAgICAgbmVzdGluZ1ByZWZpeCxcbiAgICAgIG5lc3RpbmdQcmVmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ1N1ZmZpeCxcbiAgICAgIG5lc3RpbmdTdWZmaXhFc2NhcGVkLFxuICAgICAgbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IsXG4gICAgICBtYXhSZXBsYWNlcyxcbiAgICAgIGFsd2F5c0Zvcm1hdFxuICAgIH0gPSBvcHRpb25zLmludGVycG9sYXRpb247XG4gICAgdGhpcy5lc2NhcGUgPSBlc2NhcGUkMSAhPT0gdW5kZWZpbmVkID8gZXNjYXBlJDEgOiBlc2NhcGU7XG4gICAgdGhpcy5lc2NhcGVWYWx1ZSA9IGVzY2FwZVZhbHVlICE9PSB1bmRlZmluZWQgPyBlc2NhcGVWYWx1ZSA6IHRydWU7XG4gICAgdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlID0gdXNlUmF3VmFsdWVUb0VzY2FwZSAhPT0gdW5kZWZpbmVkID8gdXNlUmF3VmFsdWVUb0VzY2FwZSA6IGZhbHNlO1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4ID8gcmVnZXhFc2NhcGUocHJlZml4KSA6IHByZWZpeEVzY2FwZWQgfHwgJ3t7JztcbiAgICB0aGlzLnN1ZmZpeCA9IHN1ZmZpeCA/IHJlZ2V4RXNjYXBlKHN1ZmZpeCkgOiBzdWZmaXhFc2NhcGVkIHx8ICd9fSc7XG4gICAgdGhpcy5mb3JtYXRTZXBhcmF0b3IgPSBmb3JtYXRTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMudW5lc2NhcGVQcmVmaXggPSB1bmVzY2FwZVN1ZmZpeCA/ICcnIDogdW5lc2NhcGVQcmVmaXggfHwgJy0nO1xuICAgIHRoaXMudW5lc2NhcGVTdWZmaXggPSB0aGlzLnVuZXNjYXBlUHJlZml4ID8gJycgOiB1bmVzY2FwZVN1ZmZpeCB8fCAnJztcbiAgICB0aGlzLm5lc3RpbmdQcmVmaXggPSBuZXN0aW5nUHJlZml4ID8gcmVnZXhFc2NhcGUobmVzdGluZ1ByZWZpeCkgOiBuZXN0aW5nUHJlZml4RXNjYXBlZCB8fCByZWdleEVzY2FwZSgnJHQoJyk7XG4gICAgdGhpcy5uZXN0aW5nU3VmZml4ID0gbmVzdGluZ1N1ZmZpeCA/IHJlZ2V4RXNjYXBlKG5lc3RpbmdTdWZmaXgpIDogbmVzdGluZ1N1ZmZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyknKTtcbiAgICB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yID0gbmVzdGluZ09wdGlvbnNTZXBhcmF0b3IgfHwgJywnO1xuICAgIHRoaXMubWF4UmVwbGFjZXMgPSBtYXhSZXBsYWNlcyB8fCAxMDAwO1xuICAgIHRoaXMuYWx3YXlzRm9ybWF0ID0gYWx3YXlzRm9ybWF0ICE9PSB1bmRlZmluZWQgPyBhbHdheXNGb3JtYXQgOiBmYWxzZTtcbiAgICB0aGlzLnJlc2V0UmVnRXhwKCk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5pbml0KHRoaXMub3B0aW9ucyk7XG4gIH1cbiAgcmVzZXRSZWdFeHAoKSB7XG4gICAgY29uc3QgZ2V0T3JSZXNldFJlZ0V4cCA9IChleGlzdGluZ1JlZ0V4cCwgcGF0dGVybikgPT4ge1xuICAgICAgaWYgKGV4aXN0aW5nUmVnRXhwICYmIGV4aXN0aW5nUmVnRXhwLnNvdXJjZSA9PT0gcGF0dGVybikge1xuICAgICAgICBleGlzdGluZ1JlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdSZWdFeHA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnZycpO1xuICAgIH07XG4gICAgdGhpcy5yZWdleHAgPSBnZXRPclJlc2V0UmVnRXhwKHRoaXMucmVnZXhwLCBgJHt0aGlzLnByZWZpeH0oLis/KSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5yZWdleHBVbmVzY2FwZSA9IGdldE9yUmVzZXRSZWdFeHAodGhpcy5yZWdleHBVbmVzY2FwZSwgYCR7dGhpcy5wcmVmaXh9JHt0aGlzLnVuZXNjYXBlUHJlZml4fSguKz8pJHt0aGlzLnVuZXNjYXBlU3VmZml4fSR7dGhpcy5zdWZmaXh9YCk7XG4gICAgdGhpcy5uZXN0aW5nUmVnZXhwID0gZ2V0T3JSZXNldFJlZ0V4cCh0aGlzLm5lc3RpbmdSZWdleHAsIGAke3RoaXMubmVzdGluZ1ByZWZpeH0oLis/KSR7dGhpcy5uZXN0aW5nU3VmZml4fWApO1xuICB9XG4gIGludGVycG9sYXRlKHN0ciwgZGF0YSwgbG5nLCBvcHRpb25zKSB7XG4gICAgbGV0IG1hdGNoO1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgcmVwbGFjZXM7XG4gICAgY29uc3QgZGVmYXVsdERhdGEgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24gJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyB8fCB7fTtcbiAgICBjb25zdCBoYW5kbGVGb3JtYXQgPSBrZXkgPT4ge1xuICAgICAgaWYgKGtleS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSA8IDApIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRlZXBGaW5kV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrZXksIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWx3YXlzRm9ybWF0ID8gdGhpcy5mb3JtYXQocGF0aCwgdW5kZWZpbmVkLCBsbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgaW50ZXJwb2xhdGlvbmtleToga2V5XG4gICAgICAgIH0pIDogcGF0aDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHAgPSBrZXkuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpO1xuICAgICAgY29uc3QgayA9IHAuc2hpZnQoKS50cmltKCk7XG4gICAgICBjb25zdCBmID0gcC5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKS50cmltKCk7XG4gICAgICByZXR1cm4gdGhpcy5mb3JtYXQoZGVlcEZpbmRXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGssIHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsIHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKSwgZiwgbG5nLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGludGVycG9sYXRpb25rZXk6IGtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZXNldFJlZ0V4cCgpO1xuICAgIGNvbnN0IG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgfHwgdGhpcy5vcHRpb25zLm1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjtcbiAgICBjb25zdCBza2lwT25WYXJpYWJsZXMgPSBvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzIDogdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzO1xuICAgIGNvbnN0IHRvZG9zID0gW3tcbiAgICAgIHJlZ2V4OiB0aGlzLnJlZ2V4cFVuZXNjYXBlLFxuICAgICAgc2FmZVZhbHVlOiB2YWwgPT4gcmVnZXhTYWZlKHZhbClcbiAgICB9LCB7XG4gICAgICByZWdleDogdGhpcy5yZWdleHAsXG4gICAgICBzYWZlVmFsdWU6IHZhbCA9PiB0aGlzLmVzY2FwZVZhbHVlID8gcmVnZXhTYWZlKHRoaXMuZXNjYXBlKHZhbCkpIDogcmVnZXhTYWZlKHZhbClcbiAgICB9XTtcbiAgICB0b2Rvcy5mb3JFYWNoKHRvZG8gPT4ge1xuICAgICAgcmVwbGFjZXMgPSAwO1xuICAgICAgd2hpbGUgKG1hdGNoID0gdG9kby5yZWdleC5leGVjKHN0cikpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlZFZhciA9IG1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgdmFsdWUgPSBoYW5kbGVGb3JtYXQobWF0Y2hlZFZhcik7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIoc3RyLCBtYXRjaCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YWx1ZSA9IGlzU3RyaW5nKHRlbXApID8gdGVtcCA6ICcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgbWF0Y2hlZFZhcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChza2lwT25WYXJpYWJsZXMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbWF0Y2hbMF07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgJHttYXRjaGVkVmFyfSBmb3IgaW50ZXJwb2xhdGluZyAke3N0cn1gKTtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyh2YWx1ZSkgJiYgIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSkge1xuICAgICAgICAgIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FmZVZhbHVlID0gdG9kby5zYWZlVmFsdWUodmFsdWUpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgc2FmZVZhbHVlKTtcbiAgICAgICAgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICAgIHRvZG8ucmVnZXgubGFzdEluZGV4ICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB0b2RvLnJlZ2V4Lmxhc3RJbmRleCAtPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9kby5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJlcGxhY2VzKys7XG4gICAgICAgIGlmIChyZXBsYWNlcyA+PSB0aGlzLm1heFJlcGxhY2VzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIG5lc3Qoc3RyLCBmYykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBsZXQgbWF0Y2g7XG4gICAgbGV0IHZhbHVlO1xuICAgIGxldCBjbG9uZWRPcHRpb25zO1xuICAgIGNvbnN0IGhhbmRsZUhhc09wdGlvbnMgPSAoa2V5LCBpbmhlcml0ZWRPcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBzZXAgPSB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yO1xuICAgICAgaWYgKGtleS5pbmRleE9mKHNlcCkgPCAwKSByZXR1cm4ga2V5O1xuICAgICAgY29uc3QgYyA9IGtleS5zcGxpdChuZXcgUmVnRXhwKGAke3NlcH1bIF0qe2ApKTtcbiAgICAgIGxldCBvcHRpb25zU3RyaW5nID0gYHske2NbMV19YDtcbiAgICAgIGtleSA9IGNbMF07XG4gICAgICBvcHRpb25zU3RyaW5nID0gdGhpcy5pbnRlcnBvbGF0ZShvcHRpb25zU3RyaW5nLCBjbG9uZWRPcHRpb25zKTtcbiAgICAgIGNvbnN0IG1hdGNoZWRTaW5nbGVRdW90ZXMgPSBvcHRpb25zU3RyaW5nLm1hdGNoKC8nL2cpO1xuICAgICAgY29uc3QgbWF0Y2hlZERvdWJsZVF1b3RlcyA9IG9wdGlvbnNTdHJpbmcubWF0Y2goL1wiL2cpO1xuICAgICAgaWYgKG1hdGNoZWRTaW5nbGVRdW90ZXMgJiYgbWF0Y2hlZFNpbmdsZVF1b3Rlcy5sZW5ndGggJSAyID09PSAwICYmICFtYXRjaGVkRG91YmxlUXVvdGVzIHx8IG1hdGNoZWREb3VibGVRdW90ZXMubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICBvcHRpb25zU3RyaW5nID0gb3B0aW9uc1N0cmluZy5yZXBsYWNlKC8nL2csICdcIicpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY2xvbmVkT3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9uc1N0cmluZyk7XG4gICAgICAgIGlmIChpbmhlcml0ZWRPcHRpb25zKSBjbG9uZWRPcHRpb25zID0ge1xuICAgICAgICAgIC4uLmluaGVyaXRlZE9wdGlvbnMsXG4gICAgICAgICAgLi4uY2xvbmVkT3B0aW9uc1xuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBmYWlsZWQgcGFyc2luZyBvcHRpb25zIHN0cmluZyBpbiBuZXN0aW5nIGZvciBrZXkgJHtrZXl9YCwgZSk7XG4gICAgICAgIHJldHVybiBgJHtrZXl9JHtzZXB9JHtvcHRpb25zU3RyaW5nfWA7XG4gICAgICB9XG4gICAgICBpZiAoY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWUgJiYgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWUuaW5kZXhPZih0aGlzLnByZWZpeCkgPiAtMSkgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9O1xuICAgIHdoaWxlIChtYXRjaCA9IHRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKHN0cikpIHtcbiAgICAgIGxldCBmb3JtYXR0ZXJzID0gW107XG4gICAgICBjbG9uZWRPcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9O1xuICAgICAgY2xvbmVkT3B0aW9ucyA9IGNsb25lZE9wdGlvbnMucmVwbGFjZSAmJiAhaXNTdHJpbmcoY2xvbmVkT3B0aW9ucy5yZXBsYWNlKSA/IGNsb25lZE9wdGlvbnMucmVwbGFjZSA6IGNsb25lZE9wdGlvbnM7XG4gICAgICBjbG9uZWRPcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciA9IGZhbHNlO1xuICAgICAgZGVsZXRlIGNsb25lZE9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgbGV0IGRvUmVkdWNlID0gZmFsc2U7XG4gICAgICBpZiAobWF0Y2hbMF0uaW5kZXhPZih0aGlzLmZvcm1hdFNlcGFyYXRvcikgIT09IC0xICYmICEvey4qfS8udGVzdChtYXRjaFsxXSkpIHtcbiAgICAgICAgY29uc3QgciA9IG1hdGNoWzFdLnNwbGl0KHRoaXMuZm9ybWF0U2VwYXJhdG9yKS5tYXAoZWxlbSA9PiBlbGVtLnRyaW0oKSk7XG4gICAgICAgIG1hdGNoWzFdID0gci5zaGlmdCgpO1xuICAgICAgICBmb3JtYXR0ZXJzID0gcjtcbiAgICAgICAgZG9SZWR1Y2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBmYyhoYW5kbGVIYXNPcHRpb25zLmNhbGwodGhpcywgbWF0Y2hbMV0udHJpbSgpLCBjbG9uZWRPcHRpb25zKSwgY2xvbmVkT3B0aW9ucyk7XG4gICAgICBpZiAodmFsdWUgJiYgbWF0Y2hbMF0gPT09IHN0ciAmJiAhaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICBpZiAoIWlzU3RyaW5nKHZhbHVlKSkgdmFsdWUgPSBtYWtlU3RyaW5nKHZhbHVlKTtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHJlc29sdmUgJHttYXRjaFsxXX0gZm9yIG5lc3RpbmcgJHtzdHJ9YCk7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZWR1Y2UpIHtcbiAgICAgICAgdmFsdWUgPSBmb3JtYXR0ZXJzLnJlZHVjZSgodiwgZikgPT4gdGhpcy5mb3JtYXQodiwgZiwgb3B0aW9ucy5sbmcsIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIGludGVycG9sYXRpb25rZXk6IG1hdGNoWzFdLnRyaW0oKVxuICAgICAgICB9KSwgdmFsdWUudHJpbSgpKTtcbiAgICAgIH1cbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCB2YWx1ZSk7XG4gICAgICB0aGlzLnJlZ2V4cC5sYXN0SW5kZXggPSAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmNvbnN0IHBhcnNlRm9ybWF0U3RyID0gZm9ybWF0U3RyID0+IHtcbiAgbGV0IGZvcm1hdE5hbWUgPSBmb3JtYXRTdHIudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gIGNvbnN0IGZvcm1hdE9wdGlvbnMgPSB7fTtcbiAgaWYgKGZvcm1hdFN0ci5pbmRleE9mKCcoJykgPiAtMSkge1xuICAgIGNvbnN0IHAgPSBmb3JtYXRTdHIuc3BsaXQoJygnKTtcbiAgICBmb3JtYXROYW1lID0gcFswXS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBjb25zdCBvcHRTdHIgPSBwWzFdLnN1YnN0cmluZygwLCBwWzFdLmxlbmd0aCAtIDEpO1xuICAgIGlmIChmb3JtYXROYW1lID09PSAnY3VycmVuY3knICYmIG9wdFN0ci5pbmRleE9mKCc6JykgPCAwKSB7XG4gICAgICBpZiAoIWZvcm1hdE9wdGlvbnMuY3VycmVuY3kpIGZvcm1hdE9wdGlvbnMuY3VycmVuY3kgPSBvcHRTdHIudHJpbSgpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0TmFtZSA9PT0gJ3JlbGF0aXZldGltZScgJiYgb3B0U3RyLmluZGV4T2YoJzonKSA8IDApIHtcbiAgICAgIGlmICghZm9ybWF0T3B0aW9ucy5yYW5nZSkgZm9ybWF0T3B0aW9ucy5yYW5nZSA9IG9wdFN0ci50cmltKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9wdHMgPSBvcHRTdHIuc3BsaXQoJzsnKTtcbiAgICAgIG9wdHMuZm9yRWFjaChvcHQgPT4ge1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgY29uc3QgW2tleSwgLi4ucmVzdF0gPSBvcHQuc3BsaXQoJzonKTtcbiAgICAgICAgICBjb25zdCB2YWwgPSByZXN0LmpvaW4oJzonKS50cmltKCkucmVwbGFjZSgvXicrfCcrJC9nLCAnJyk7XG4gICAgICAgICAgY29uc3QgdHJpbW1lZEtleSA9IGtleS50cmltKCk7XG4gICAgICAgICAgaWYgKCFmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldKSBmb3JtYXRPcHRpb25zW3RyaW1tZWRLZXldID0gdmFsO1xuICAgICAgICAgIGlmICh2YWwgPT09ICdmYWxzZScpIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSBmYWxzZTtcbiAgICAgICAgICBpZiAodmFsID09PSAndHJ1ZScpIGZvcm1hdE9wdGlvbnNbdHJpbW1lZEtleV0gPSB0cnVlO1xuICAgICAgICAgIGlmICghaXNOYU4odmFsKSkgZm9ybWF0T3B0aW9uc1t0cmltbWVkS2V5XSA9IHBhcnNlSW50KHZhbCwgMTApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmb3JtYXROYW1lLFxuICAgIGZvcm1hdE9wdGlvbnNcbiAgfTtcbn07XG5jb25zdCBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIgPSBmbiA9PiB7XG4gIGNvbnN0IGNhY2hlID0ge307XG4gIHJldHVybiAodmFsLCBsbmcsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgb3B0Rm9yQ2FjaGUgPSBvcHRpb25zO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbmtleSAmJiBvcHRpb25zLmZvcm1hdFBhcmFtcyAmJiBvcHRpb25zLmZvcm1hdFBhcmFtc1tvcHRpb25zLmludGVycG9sYXRpb25rZXldICYmIG9wdGlvbnNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSkge1xuICAgICAgb3B0Rm9yQ2FjaGUgPSB7XG4gICAgICAgIC4uLm9wdEZvckNhY2hlLFxuICAgICAgICBbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XTogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBsbmcgKyBKU09OLnN0cmluZ2lmeShvcHRGb3JDYWNoZSk7XG4gICAgbGV0IGZvcm1hdHRlciA9IGNhY2hlW2tleV07XG4gICAgaWYgKCFmb3JtYXR0ZXIpIHtcbiAgICAgIGZvcm1hdHRlciA9IGZuKGdldENsZWFuZWRDb2RlKGxuZyksIG9wdGlvbnMpO1xuICAgICAgY2FjaGVba2V5XSA9IGZvcm1hdHRlcjtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdHRlcih2YWwpO1xuICB9O1xufTtcbmNsYXNzIEZvcm1hdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdmb3JtYXR0ZXInKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZm9ybWF0cyA9IHtcbiAgICAgIG51bWJlcjogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pLFxuICAgICAgY3VycmVuY3k6IGNyZWF0ZUNhY2hlZEZvcm1hdHRlcigobG5nLCBvcHQpID0+IHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdCxcbiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5J1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIGRhdGV0aW1lOiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxuZywge1xuICAgICAgICAgIC4uLm9wdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbCA9PiBmb3JtYXR0ZXIuZm9ybWF0KHZhbCk7XG4gICAgICB9KSxcbiAgICAgIHJlbGF0aXZldGltZTogY3JlYXRlQ2FjaGVkRm9ybWF0dGVyKChsbmcsIG9wdCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsLCBvcHQucmFuZ2UgfHwgJ2RheScpO1xuICAgICAgfSksXG4gICAgICBsaXN0OiBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoKGxuZywgb3B0KSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlciA9IG5ldyBJbnRsLkxpc3RGb3JtYXQobG5nLCB7XG4gICAgICAgICAgLi4ub3B0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsID0+IGZvcm1hdHRlci5mb3JtYXQodmFsKTtcbiAgICAgIH0pXG4gICAgfTtcbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cbiAgaW5pdChzZXJ2aWNlcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7XG4gICAgICBpbnRlcnBvbGF0aW9uOiB7fVxuICAgIH07XG4gICAgdGhpcy5mb3JtYXRTZXBhcmF0b3IgPSBvcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcbiAgfVxuICBhZGQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBmYztcbiAgfVxuICBhZGRDYWNoZWQobmFtZSwgZmMpIHtcbiAgICB0aGlzLmZvcm1hdHNbbmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0gPSBjcmVhdGVDYWNoZWRGb3JtYXR0ZXIoZmMpO1xuICB9XG4gIGZvcm1hdCh2YWx1ZSwgZm9ybWF0LCBsbmcpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgY29uc3QgZm9ybWF0cyA9IGZvcm1hdC5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcik7XG4gICAgaWYgKGZvcm1hdHMubGVuZ3RoID4gMSAmJiBmb3JtYXRzWzBdLmluZGV4T2YoJygnKSA+IDEgJiYgZm9ybWF0c1swXS5pbmRleE9mKCcpJykgPCAwICYmIGZvcm1hdHMuZmluZChmID0+IGYuaW5kZXhPZignKScpID4gLTEpKSB7XG4gICAgICBjb25zdCBsYXN0SW5kZXggPSBmb3JtYXRzLmZpbmRJbmRleChmID0+IGYuaW5kZXhPZignKScpID4gLTEpO1xuICAgICAgZm9ybWF0c1swXSA9IFtmb3JtYXRzWzBdLCAuLi5mb3JtYXRzLnNwbGljZSgxLCBsYXN0SW5kZXgpXS5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0cy5yZWR1Y2UoKG1lbSwgZikgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXROYW1lLFxuICAgICAgICBmb3JtYXRPcHRpb25zXG4gICAgICB9ID0gcGFyc2VGb3JtYXRTdHIoZik7XG4gICAgICBpZiAodGhpcy5mb3JtYXRzW2Zvcm1hdE5hbWVdKSB7XG4gICAgICAgIGxldCBmb3JtYXR0ZWQgPSBtZW07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdmFsT3B0aW9ucyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXMgJiYgb3B0aW9ucy5mb3JtYXRQYXJhbXNbb3B0aW9ucy5pbnRlcnBvbGF0aW9ua2V5XSB8fCB7fTtcbiAgICAgICAgICBjb25zdCBsID0gdmFsT3B0aW9ucy5sb2NhbGUgfHwgdmFsT3B0aW9ucy5sbmcgfHwgb3B0aW9ucy5sb2NhbGUgfHwgb3B0aW9ucy5sbmcgfHwgbG5nO1xuICAgICAgICAgIGZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0c1tmb3JtYXROYW1lXShtZW0sIGwsIHtcbiAgICAgICAgICAgIC4uLmZvcm1hdE9wdGlvbnMsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgLi4udmFsT3B0aW9uc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGB0aGVyZSB3YXMgbm8gZm9ybWF0IGZ1bmN0aW9uIGZvciAke2Zvcm1hdE5hbWV9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmNvbnN0IHJlbW92ZVBlbmRpbmcgPSAocSwgbmFtZSkgPT4ge1xuICBpZiAocS5wZW5kaW5nW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWxldGUgcS5wZW5kaW5nW25hbWVdO1xuICAgIHEucGVuZGluZ0NvdW50LS07XG4gIH1cbn07XG5jbGFzcyBDb25uZWN0b3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihiYWNrZW5kLCBzdG9yZSwgc2VydmljZXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJhY2tlbmQgPSBiYWNrZW5kO1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLnNlcnZpY2VzID0gc2VydmljZXM7XG4gICAgdGhpcy5sYW5ndWFnZVV0aWxzID0gc2VydmljZXMubGFuZ3VhZ2VVdGlscztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2JhY2tlbmRDb25uZWN0b3InKTtcbiAgICB0aGlzLndhaXRpbmdSZWFkcyA9IFtdO1xuICAgIHRoaXMubWF4UGFyYWxsZWxSZWFkcyA9IG9wdGlvbnMubWF4UGFyYWxsZWxSZWFkcyB8fCAxMDtcbiAgICB0aGlzLnJlYWRpbmdDYWxscyA9IDA7XG4gICAgdGhpcy5tYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID49IDAgPyBvcHRpb25zLm1heFJldHJpZXMgOiA1O1xuICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gb3B0aW9ucy5yZXRyeVRpbWVvdXQgPj0gMSA/IG9wdGlvbnMucmV0cnlUaW1lb3V0IDogMzUwO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgaWYgKHRoaXMuYmFja2VuZCAmJiB0aGlzLmJhY2tlbmQuaW5pdCkge1xuICAgICAgdGhpcy5iYWNrZW5kLmluaXQoc2VydmljZXMsIG9wdGlvbnMuYmFja2VuZCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIHF1ZXVlTG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgdG9Mb2FkID0ge307XG4gICAgY29uc3QgcGVuZGluZyA9IHt9O1xuICAgIGNvbnN0IHRvTG9hZExhbmd1YWdlcyA9IHt9O1xuICAgIGNvbnN0IHRvTG9hZE5hbWVzcGFjZXMgPSB7fTtcbiAgICBsYW5ndWFnZXMuZm9yRWFjaChsbmcgPT4ge1xuICAgICAgbGV0IGhhc0FsbE5hbWVzcGFjZXMgPSB0cnVlO1xuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke2xuZ318JHtuc31gO1xuICAgICAgICBpZiAoIW9wdGlvbnMucmVsb2FkICYmIHRoaXMuc3RvcmUuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlW25hbWVdID0gMjtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlW25hbWVdIDwgMCkgOyBlbHNlIGlmICh0aGlzLnN0YXRlW25hbWVdID09PSAxKSB7XG4gICAgICAgICAgaWYgKHBlbmRpbmdbbmFtZV0gPT09IHVuZGVmaW5lZCkgcGVuZGluZ1tuYW1lXSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZVtuYW1lXSA9IDE7XG4gICAgICAgICAgaGFzQWxsTmFtZXNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChwZW5kaW5nW25hbWVdID09PSB1bmRlZmluZWQpIHBlbmRpbmdbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGlmICh0b0xvYWRbbmFtZV0gPT09IHVuZGVmaW5lZCkgdG9Mb2FkW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodG9Mb2FkTmFtZXNwYWNlc1tuc10gPT09IHVuZGVmaW5lZCkgdG9Mb2FkTmFtZXNwYWNlc1tuc10gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghaGFzQWxsTmFtZXNwYWNlcykgdG9Mb2FkTGFuZ3VhZ2VzW2xuZ10gPSB0cnVlO1xuICAgIH0pO1xuICAgIGlmIChPYmplY3Qua2V5cyh0b0xvYWQpLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhwZW5kaW5nKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaCh7XG4gICAgICAgIHBlbmRpbmcsXG4gICAgICAgIHBlbmRpbmdDb3VudDogT2JqZWN0LmtleXMocGVuZGluZykubGVuZ3RoLFxuICAgICAgICBsb2FkZWQ6IHt9LFxuICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0b0xvYWQ6IE9iamVjdC5rZXlzKHRvTG9hZCksXG4gICAgICBwZW5kaW5nOiBPYmplY3Qua2V5cyhwZW5kaW5nKSxcbiAgICAgIHRvTG9hZExhbmd1YWdlczogT2JqZWN0LmtleXModG9Mb2FkTGFuZ3VhZ2VzKSxcbiAgICAgIHRvTG9hZE5hbWVzcGFjZXM6IE9iamVjdC5rZXlzKHRvTG9hZE5hbWVzcGFjZXMpXG4gICAgfTtcbiAgfVxuICBsb2FkZWQobmFtZSwgZXJyLCBkYXRhKSB7XG4gICAgY29uc3QgcyA9IG5hbWUuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBsbmcgPSBzWzBdO1xuICAgIGNvbnN0IG5zID0gc1sxXTtcbiAgICBpZiAoZXJyKSB0aGlzLmVtaXQoJ2ZhaWxlZExvYWRpbmcnLCBsbmcsIG5zLCBlcnIpO1xuICAgIGlmICghZXJyICYmIGRhdGEpIHtcbiAgICAgIHRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgZGF0YSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHtcbiAgICAgICAgc2tpcENvcHk6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlW25hbWVdID0gZXJyID8gLTEgOiAyO1xuICAgIGlmIChlcnIgJiYgZGF0YSkgdGhpcy5zdGF0ZVtuYW1lXSA9IDA7XG4gICAgY29uc3QgbG9hZGVkID0ge307XG4gICAgdGhpcy5xdWV1ZS5mb3JFYWNoKHEgPT4ge1xuICAgICAgcHVzaFBhdGgocS5sb2FkZWQsIFtsbmddLCBucyk7XG4gICAgICByZW1vdmVQZW5kaW5nKHEsIG5hbWUpO1xuICAgICAgaWYgKGVycikgcS5lcnJvcnMucHVzaChlcnIpO1xuICAgICAgaWYgKHEucGVuZGluZ0NvdW50ID09PSAwICYmICFxLmRvbmUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocS5sb2FkZWQpLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgaWYgKCFsb2FkZWRbbF0pIGxvYWRlZFtsXSA9IHt9O1xuICAgICAgICAgIGNvbnN0IGxvYWRlZEtleXMgPSBxLmxvYWRlZFtsXTtcbiAgICAgICAgICBpZiAobG9hZGVkS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvYWRlZEtleXMuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxvYWRlZFtsXVtuXSA9PT0gdW5kZWZpbmVkKSBsb2FkZWRbbF1bbl0gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcS5kb25lID0gdHJ1ZTtcbiAgICAgICAgaWYgKHEuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgIHEuY2FsbGJhY2socS5lcnJvcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHEuY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgbG9hZGVkKTtcbiAgICB0aGlzLnF1ZXVlID0gdGhpcy5xdWV1ZS5maWx0ZXIocSA9PiAhcS5kb25lKTtcbiAgfVxuICByZWFkKGxuZywgbnMsIGZjTmFtZSkge1xuICAgIGxldCB0cmllZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICBsZXQgd2FpdCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdGhpcy5yZXRyeVRpbWVvdXQ7XG4gICAgbGV0IGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFsbmcubGVuZ3RoKSByZXR1cm4gY2FsbGJhY2sobnVsbCwge30pO1xuICAgIGlmICh0aGlzLnJlYWRpbmdDYWxscyA+PSB0aGlzLm1heFBhcmFsbGVsUmVhZHMpIHtcbiAgICAgIHRoaXMud2FpdGluZ1JlYWRzLnB1c2goe1xuICAgICAgICBsbmcsXG4gICAgICAgIG5zLFxuICAgICAgICBmY05hbWUsXG4gICAgICAgIHRyaWVkLFxuICAgICAgICB3YWl0LFxuICAgICAgICBjYWxsYmFja1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVhZGluZ0NhbGxzKys7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSAoZXJyLCBkYXRhKSA9PiB7XG4gICAgICB0aGlzLnJlYWRpbmdDYWxscy0tO1xuICAgICAgaWYgKHRoaXMud2FpdGluZ1JlYWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IHRoaXMud2FpdGluZ1JlYWRzLnNoaWZ0KCk7XG4gICAgICAgIHRoaXMucmVhZChuZXh0LmxuZywgbmV4dC5ucywgbmV4dC5mY05hbWUsIG5leHQudHJpZWQsIG5leHQud2FpdCwgbmV4dC5jYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBpZiAoZXJyICYmIGRhdGEgJiYgdHJpZWQgPCB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZWFkLmNhbGwodGhpcywgbG5nLCBucywgZmNOYW1lLCB0cmllZCArIDEsIHdhaXQgKiAyLCBjYWxsYmFjayk7XG4gICAgICAgIH0sIHdhaXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICAgIH07XG4gICAgY29uc3QgZmMgPSB0aGlzLmJhY2tlbmRbZmNOYW1lXS5iaW5kKHRoaXMuYmFja2VuZCk7XG4gICAgaWYgKGZjLmxlbmd0aCA9PT0gMikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgciA9IGZjKGxuZywgbnMpO1xuICAgICAgICBpZiAociAmJiB0eXBlb2Ygci50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgci50aGVuKGRhdGEgPT4gcmVzb2x2ZXIobnVsbCwgZGF0YSkpLmNhdGNoKHJlc29sdmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlcihudWxsLCByKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlc29sdmVyKGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmYyhsbmcsIG5zLCByZXNvbHZlcik7XG4gIH1cbiAgcHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICAgIGlmICghdGhpcy5iYWNrZW5kKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdObyBiYWNrZW5kIHdhcyBhZGRlZCB2aWEgaTE4bmV4dC51c2UuIFdpbGwgbm90IGxvYWQgcmVzb3VyY2VzLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhsYW5ndWFnZXMpKSBsYW5ndWFnZXMgPSB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGxhbmd1YWdlcyk7XG4gICAgaWYgKGlzU3RyaW5nKG5hbWVzcGFjZXMpKSBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdO1xuICAgIGNvbnN0IHRvTG9hZCA9IHRoaXMucXVldWVMb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgIGlmICghdG9Mb2FkLnRvTG9hZC5sZW5ndGgpIHtcbiAgICAgIGlmICghdG9Mb2FkLnBlbmRpbmcubGVuZ3RoKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRvTG9hZC50b0xvYWQuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIHRoaXMubG9hZE9uZShuYW1lKTtcbiAgICB9KTtcbiAgfVxuICBsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgY2FsbGJhY2spIHtcbiAgICB0aGlzLnByZXBhcmVMb2FkaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlcywge30sIGNhbGxiYWNrKTtcbiAgfVxuICByZWxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBjYWxsYmFjaykge1xuICAgIHRoaXMucHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCB7XG4gICAgICByZWxvYWQ6IHRydWVcbiAgICB9LCBjYWxsYmFjayk7XG4gIH1cbiAgbG9hZE9uZShuYW1lKSB7XG4gICAgbGV0IHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gICAgY29uc3QgcyA9IG5hbWUuc3BsaXQoJ3wnKTtcbiAgICBjb25zdCBsbmcgPSBzWzBdO1xuICAgIGNvbnN0IG5zID0gc1sxXTtcbiAgICB0aGlzLnJlYWQobG5nLCBucywgJ3JlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgKGVyciwgZGF0YSkgPT4ge1xuICAgICAgaWYgKGVycikgdGhpcy5sb2dnZXIud2FybihgJHtwcmVmaXh9bG9hZGluZyBuYW1lc3BhY2UgJHtuc30gZm9yIGxhbmd1YWdlICR7bG5nfSBmYWlsZWRgLCBlcnIpO1xuICAgICAgaWYgKCFlcnIgJiYgZGF0YSkgdGhpcy5sb2dnZXIubG9nKGAke3ByZWZpeH1sb2FkZWQgbmFtZXNwYWNlICR7bnN9IGZvciBsYW5ndWFnZSAke2xuZ31gLCBkYXRhKTtcbiAgICAgIHRoaXMubG9hZGVkKG5hbWUsIGVyciwgZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgc2F2ZU1pc3NpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgaXNVcGRhdGUpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDoge307XG4gICAgbGV0IGNsYiA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogKCkgPT4ge307XG4gICAgaWYgKHRoaXMuc2VydmljZXMudXRpbHMgJiYgdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIXRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYGRpZCBub3Qgc2F2ZSBrZXkgXCIke2tleX1cIiBhcyB0aGUgbmFtZXNwYWNlIFwiJHtuYW1lc3BhY2V9XCIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwgJ1RoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgfHwga2V5ID09PSBudWxsIHx8IGtleSA9PT0gJycpIHJldHVybjtcbiAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5jcmVhdGUpIHtcbiAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGlzVXBkYXRlXG4gICAgICB9O1xuICAgICAgY29uc3QgZmMgPSB0aGlzLmJhY2tlbmQuY3JlYXRlLmJpbmQodGhpcy5iYWNrZW5kKTtcbiAgICAgIGlmIChmYy5sZW5ndGggPCA2KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHI7XG4gICAgICAgICAgaWYgKGZjLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgciA9IGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIG9wdHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByID0gZmMobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyICYmIHR5cGVvZiByLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHIudGhlbihkYXRhID0+IGNsYihudWxsLCBkYXRhKSkuY2F0Y2goY2xiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xiKG51bGwsIHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY2xiKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZjKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUsIGNsYiwgb3B0cyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbGFuZ3VhZ2VzIHx8ICFsYW5ndWFnZXNbMF0pIHJldHVybjtcbiAgICB0aGlzLnN0b3JlLmFkZFJlc291cmNlKGxhbmd1YWdlc1swXSwgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUpO1xuICB9XG59XG5cbmNvbnN0IGdldCA9ICgpID0+ICh7XG4gIGRlYnVnOiBmYWxzZSxcbiAgaW5pdEltbWVkaWF0ZTogdHJ1ZSxcbiAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgZGVmYXVsdE5TOiBbJ3RyYW5zbGF0aW9uJ10sXG4gIGZhbGxiYWNrTG5nOiBbJ2RldiddLFxuICBmYWxsYmFja05TOiBmYWxzZSxcbiAgc3VwcG9ydGVkTG5nczogZmFsc2UsXG4gIG5vbkV4cGxpY2l0U3VwcG9ydGVkTG5nczogZmFsc2UsXG4gIGxvYWQ6ICdhbGwnLFxuICBwcmVsb2FkOiBmYWxzZSxcbiAgc2ltcGxpZnlQbHVyYWxTdWZmaXg6IHRydWUsXG4gIGtleVNlcGFyYXRvcjogJy4nLFxuICBuc1NlcGFyYXRvcjogJzonLFxuICBwbHVyYWxTZXBhcmF0b3I6ICdfJyxcbiAgY29udGV4dFNlcGFyYXRvcjogJ18nLFxuICBwYXJ0aWFsQnVuZGxlZExhbmd1YWdlczogZmFsc2UsXG4gIHNhdmVNaXNzaW5nOiBmYWxzZSxcbiAgdXBkYXRlTWlzc2luZzogZmFsc2UsXG4gIHNhdmVNaXNzaW5nVG86ICdmYWxsYmFjaycsXG4gIHNhdmVNaXNzaW5nUGx1cmFsczogdHJ1ZSxcbiAgbWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLFxuICBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI6IGZhbHNlLFxuICBwb3N0UHJvY2VzczogZmFsc2UsXG4gIHBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkOiBmYWxzZSxcbiAgcmV0dXJuTnVsbDogZmFsc2UsXG4gIHJldHVybkVtcHR5U3RyaW5nOiB0cnVlLFxuICByZXR1cm5PYmplY3RzOiBmYWxzZSxcbiAgam9pbkFycmF5czogZmFsc2UsXG4gIHJldHVybmVkT2JqZWN0SGFuZGxlcjogZmFsc2UsXG4gIHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLFxuICBhcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk6IGZhbHNlLFxuICBhcHBlbmROYW1lc3BhY2VUb0NJTW9kZTogZmFsc2UsXG4gIG92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyOiBhcmdzID0+IHtcbiAgICBsZXQgcmV0ID0ge307XG4gICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnb2JqZWN0JykgcmV0ID0gYXJnc1sxXTtcbiAgICBpZiAoaXNTdHJpbmcoYXJnc1sxXSkpIHJldC5kZWZhdWx0VmFsdWUgPSBhcmdzWzFdO1xuICAgIGlmIChpc1N0cmluZyhhcmdzWzJdKSkgcmV0LnREZXNjcmlwdGlvbiA9IGFyZ3NbMl07XG4gICAgaWYgKHR5cGVvZiBhcmdzWzJdID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgYXJnc1szXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWzNdIHx8IGFyZ3NbMl07XG4gICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIHJldFtrZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG4gIGludGVycG9sYXRpb246IHtcbiAgICBlc2NhcGVWYWx1ZTogdHJ1ZSxcbiAgICBmb3JtYXQ6IHZhbHVlID0+IHZhbHVlLFxuICAgIHByZWZpeDogJ3t7JyxcbiAgICBzdWZmaXg6ICd9fScsXG4gICAgZm9ybWF0U2VwYXJhdG9yOiAnLCcsXG4gICAgdW5lc2NhcGVQcmVmaXg6ICctJyxcbiAgICBuZXN0aW5nUHJlZml4OiAnJHQoJyxcbiAgICBuZXN0aW5nU3VmZml4OiAnKScsXG4gICAgbmVzdGluZ09wdGlvbnNTZXBhcmF0b3I6ICcsJyxcbiAgICBtYXhSZXBsYWNlczogMTAwMCxcbiAgICBza2lwT25WYXJpYWJsZXM6IHRydWVcbiAgfVxufSk7XG5jb25zdCB0cmFuc2Zvcm1PcHRpb25zID0gb3B0aW9ucyA9PiB7XG4gIGlmIChpc1N0cmluZyhvcHRpb25zLm5zKSkgb3B0aW9ucy5ucyA9IFtvcHRpb25zLm5zXTtcbiAgaWYgKGlzU3RyaW5nKG9wdGlvbnMuZmFsbGJhY2tMbmcpKSBvcHRpb25zLmZhbGxiYWNrTG5nID0gW29wdGlvbnMuZmFsbGJhY2tMbmddO1xuICBpZiAoaXNTdHJpbmcob3B0aW9ucy5mYWxsYmFja05TKSkgb3B0aW9ucy5mYWxsYmFja05TID0gW29wdGlvbnMuZmFsbGJhY2tOU107XG4gIGlmIChvcHRpb25zLnN1cHBvcnRlZExuZ3MgJiYgb3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoJ2NpbW9kZScpIDwgMCkge1xuICAgIG9wdGlvbnMuc3VwcG9ydGVkTG5ncyA9IG9wdGlvbnMuc3VwcG9ydGVkTG5ncy5jb25jYXQoWydjaW1vZGUnXSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5jb25zdCBiaW5kTWVtYmVyRnVuY3Rpb25zID0gaW5zdCA9PiB7XG4gIGNvbnN0IG1lbXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoaW5zdCkpO1xuICBtZW1zLmZvckVhY2gobWVtID0+IHtcbiAgICBpZiAodHlwZW9mIGluc3RbbWVtXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5zdFttZW1dID0gaW5zdFttZW1dLmJpbmQoaW5zdCk7XG4gICAgfVxuICB9KTtcbn07XG5jbGFzcyBJMThuIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gdHJhbnNmb3JtT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0aGlzLnNlcnZpY2VzID0ge307XG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyO1xuICAgIHRoaXMubW9kdWxlcyA9IHtcbiAgICAgIGV4dGVybmFsOiBbXVxuICAgIH07XG4gICAgYmluZE1lbWJlckZ1bmN0aW9ucyh0aGlzKTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgIXRoaXMuaXNJbml0aWFsaXplZCAmJiAhb3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKSB7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH1cbiAgaW5pdCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gdHJ1ZTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmRlZmF1bHROUyAmJiBvcHRpb25zLmRlZmF1bHROUyAhPT0gZmFsc2UgJiYgb3B0aW9ucy5ucykge1xuICAgICAgaWYgKGlzU3RyaW5nKG9wdGlvbnMubnMpKSB7XG4gICAgICAgIG9wdGlvbnMuZGVmYXVsdE5TID0gb3B0aW9ucy5ucztcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5ucy5pbmRleE9mKCd0cmFuc2xhdGlvbicpIDwgMCkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHROUyA9IG9wdGlvbnMubnNbMF07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlZk9wdHMgPSBnZXQoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi5kZWZPcHRzLFxuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4udHJhbnNmb3JtT3B0aW9ucyhvcHRpb25zKVxuICAgIH07XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJICE9PSAndjEnKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHtcbiAgICAgICAgLi4uZGVmT3B0cy5pbnRlcnBvbGF0aW9uLFxuICAgICAgICAuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy51c2VyRGVmaW5lZEtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5uc1NlcGFyYXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3I7XG4gICAgfVxuICAgIGNvbnN0IGNyZWF0ZUNsYXNzT25EZW1hbmQgPSBDbGFzc09yT2JqZWN0ID0+IHtcbiAgICAgIGlmICghQ2xhc3NPck9iamVjdCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAodHlwZW9mIENsYXNzT3JPYmplY3QgPT09ICdmdW5jdGlvbicpIHJldHVybiBuZXcgQ2xhc3NPck9iamVjdCgpO1xuICAgICAgcmV0dXJuIENsYXNzT3JPYmplY3Q7XG4gICAgfTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmxvZ2dlcikge1xuICAgICAgICBiYXNlTG9nZ2VyLmluaXQoY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMubG9nZ2VyKSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VMb2dnZXIuaW5pdChudWxsLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgbGV0IGZvcm1hdHRlcjtcbiAgICAgIGlmICh0aGlzLm1vZHVsZXMuZm9ybWF0dGVyKSB7XG4gICAgICAgIGZvcm1hdHRlciA9IHRoaXMubW9kdWxlcy5mb3JtYXR0ZXI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBJbnRsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmb3JtYXR0ZXIgPSBGb3JtYXR0ZXI7XG4gICAgICB9XG4gICAgICBjb25zdCBsdSA9IG5ldyBMYW5ndWFnZVV0aWwodGhpcy5vcHRpb25zKTtcbiAgICAgIHRoaXMuc3RvcmUgPSBuZXcgUmVzb3VyY2VTdG9yZSh0aGlzLm9wdGlvbnMucmVzb3VyY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgY29uc3QgcyA9IHRoaXMuc2VydmljZXM7XG4gICAgICBzLmxvZ2dlciA9IGJhc2VMb2dnZXI7XG4gICAgICBzLnJlc291cmNlU3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgcy5sYW5ndWFnZVV0aWxzID0gbHU7XG4gICAgICBzLnBsdXJhbFJlc29sdmVyID0gbmV3IFBsdXJhbFJlc29sdmVyKGx1LCB7XG4gICAgICAgIHByZXBlbmQ6IHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IsXG4gICAgICAgIGNvbXBhdGliaWxpdHlKU09OOiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04sXG4gICAgICAgIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiB0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXhcbiAgICAgIH0pO1xuICAgICAgaWYgKGZvcm1hdHRlciAmJiAoIXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCB8fCB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgPT09IGRlZk9wdHMuaW50ZXJwb2xhdGlvbi5mb3JtYXQpKSB7XG4gICAgICAgIHMuZm9ybWF0dGVyID0gY3JlYXRlQ2xhc3NPbkRlbWFuZChmb3JtYXR0ZXIpO1xuICAgICAgICBzLmZvcm1hdHRlci5pbml0KHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdCA9IHMuZm9ybWF0dGVyLmZvcm1hdC5iaW5kKHMuZm9ybWF0dGVyKTtcbiAgICAgIH1cbiAgICAgIHMuaW50ZXJwb2xhdG9yID0gbmV3IEludGVycG9sYXRvcih0aGlzLm9wdGlvbnMpO1xuICAgICAgcy51dGlscyA9IHtcbiAgICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiB0aGlzLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKHRoaXMpXG4gICAgICB9O1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yID0gbmV3IENvbm5lY3RvcihjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5iYWNrZW5kKSwgcy5yZXNvdXJjZVN0b3JlLCBzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSB7XG4gICAgICAgIHMubGFuZ3VhZ2VEZXRlY3RvciA9IGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IpO1xuICAgICAgICBpZiAocy5sYW5ndWFnZURldGVjdG9yLmluaXQpIHMubGFuZ3VhZ2VEZXRlY3Rvci5pbml0KHMsIHRoaXMub3B0aW9ucy5kZXRlY3Rpb24sIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpIHtcbiAgICAgICAgcy5pMThuRm9ybWF0ID0gY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCk7XG4gICAgICAgIGlmIChzLmkxOG5Gb3JtYXQuaW5pdCkgcy5pMThuRm9ybWF0LmluaXQodGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zbGF0b3IgPSBuZXcgVHJhbnNsYXRvcih0aGlzLnNlcnZpY2VzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tb2R1bGVzLmV4dGVybmFsLmZvckVhY2gobSA9PiB7XG4gICAgICAgIGlmIChtLmluaXQpIG0uaW5pdCh0aGlzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmZvcm1hdCA9IHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdDtcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyAmJiAhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLm9wdGlvbnMubG5nKSB7XG4gICAgICBjb25zdCBjb2RlcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICBpZiAoY29kZXMubGVuZ3RoID4gMCAmJiBjb2Rlc1swXSAhPT0gJ2RldicpIHRoaXMub3B0aW9ucy5sbmcgPSBjb2Rlc1swXTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMub3B0aW9ucy5sbmcpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2luaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWQnKTtcbiAgICB9XG4gICAgY29uc3Qgc3RvcmVBcGkgPSBbJ2dldFJlc291cmNlJywgJ2hhc1Jlc291cmNlQnVuZGxlJywgJ2dldFJlc291cmNlQnVuZGxlJywgJ2dldERhdGFCeUxhbmd1YWdlJ107XG4gICAgc3RvcmVBcGkuZm9yRWFjaChmY05hbWUgPT4ge1xuICAgICAgdGhpc1tmY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc3RvcmVbZmNOYW1lXSguLi5hcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBzdG9yZUFwaUNoYWluZWQgPSBbJ2FkZFJlc291cmNlJywgJ2FkZFJlc291cmNlcycsICdhZGRSZXNvdXJjZUJ1bmRsZScsICdyZW1vdmVSZXNvdXJjZUJ1bmRsZSddO1xuICAgIHN0b3JlQXBpQ2hhaW5lZC5mb3JFYWNoKGZjTmFtZSA9PiB7XG4gICAgICB0aGlzW2ZjTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnN0b3JlW2ZjTmFtZV0oLi4uYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbmlzaCA9IChlcnIsIHQpID0+IHtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkICYmICF0aGlzLmluaXRpYWxpemVkU3RvcmVPbmNlKSB0aGlzLmxvZ2dlci53YXJuKCdpbml0OiBpMThuZXh0IGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFlvdSBzaG91bGQgY2FsbCBpbml0IGp1c3Qgb25jZSEnKTtcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSkgdGhpcy5sb2dnZXIubG9nKCdpbml0aWFsaXplZCcsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZW1pdCgnaW5pdGlhbGl6ZWQnLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHQpO1xuICAgICAgICBjYWxsYmFjayhlcnIsIHQpO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSAhPT0gJ3YxJyAmJiAhdGhpcy5pc0luaXRpYWxpemVkKSByZXR1cm4gZmluaXNoKG51bGwsIHRoaXMudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2UodGhpcy5vcHRpb25zLmxuZywgZmluaXNoKTtcbiAgICB9O1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVzb3VyY2VzIHx8ICF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSkge1xuICAgICAgbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KGxvYWQsIDApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cbiAgbG9hZFJlc291cmNlcyhsYW5ndWFnZSkge1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBsZXQgdXNlZENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgY29uc3QgdXNlZExuZyA9IGlzU3RyaW5nKGxhbmd1YWdlKSA/IGxhbmd1YWdlIDogdGhpcy5sYW5ndWFnZTtcbiAgICBpZiAodHlwZW9mIGxhbmd1YWdlID09PSAnZnVuY3Rpb24nKSB1c2VkQ2FsbGJhY2sgPSBsYW5ndWFnZTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZXNvdXJjZXMgfHwgdGhpcy5vcHRpb25zLnBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzKSB7XG4gICAgICBpZiAodXNlZExuZyAmJiB1c2VkTG5nLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnICYmICghdGhpcy5vcHRpb25zLnByZWxvYWQgfHwgdGhpcy5vcHRpb25zLnByZWxvYWQubGVuZ3RoID09PSAwKSkgcmV0dXJuIHVzZWRDYWxsYmFjaygpO1xuICAgICAgY29uc3QgdG9Mb2FkID0gW107XG4gICAgICBjb25zdCBhcHBlbmQgPSBsbmcgPT4ge1xuICAgICAgICBpZiAoIWxuZykgcmV0dXJuO1xuICAgICAgICBpZiAobG5nID09PSAnY2ltb2RlJykgcmV0dXJuO1xuICAgICAgICBjb25zdCBsbmdzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsbmcpO1xuICAgICAgICBsbmdzLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgaWYgKGwgPT09ICdjaW1vZGUnKSByZXR1cm47XG4gICAgICAgICAgaWYgKHRvTG9hZC5pbmRleE9mKGwpIDwgMCkgdG9Mb2FkLnB1c2gobCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGlmICghdXNlZExuZykge1xuICAgICAgICBjb25zdCBmYWxsYmFja3MgPSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgICBmYWxsYmFja3MuZm9yRWFjaChsID0+IGFwcGVuZChsKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHBlbmQodXNlZExuZyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnByZWxvYWQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChsID0+IGFwcGVuZChsKSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IubG9hZCh0b0xvYWQsIHRoaXMub3B0aW9ucy5ucywgZSA9PiB7XG4gICAgICAgIGlmICghZSAmJiAhdGhpcy5yZXNvbHZlZExhbmd1YWdlICYmIHRoaXMubGFuZ3VhZ2UpIHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgdXNlZENhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZWRDYWxsYmFjayhudWxsKTtcbiAgICB9XG4gIH1cbiAgcmVsb2FkUmVzb3VyY2VzKGxuZ3MsIG5zLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBpZiAodHlwZW9mIGxuZ3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gbG5ncztcbiAgICAgIGxuZ3MgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gbnM7XG4gICAgICBucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFsbmdzKSBsbmdzID0gdGhpcy5sYW5ndWFnZXM7XG4gICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMubnM7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBub29wO1xuICAgIHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5yZWxvYWQobG5ncywgbnMsIGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICB1c2UobW9kdWxlKSB7XG4gICAgaWYgKCFtb2R1bGUpIHRocm93IG5ldyBFcnJvcignWW91IGFyZSBwYXNzaW5nIGFuIHVuZGVmaW5lZCBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKCFtb2R1bGUudHlwZSkgdGhyb3cgbmV3IEVycm9yKCdZb3UgYXJlIHBhc3NpbmcgYSB3cm9uZyBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnYmFja2VuZCcpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5iYWNrZW5kID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsb2dnZXInIHx8IG1vZHVsZS5sb2cgJiYgbW9kdWxlLndhcm4gJiYgbW9kdWxlLmVycm9yKSB7XG4gICAgICB0aGlzLm1vZHVsZXMubG9nZ2VyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsYW5ndWFnZURldGVjdG9yJykge1xuICAgICAgdGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IgPSBtb2R1bGU7XG4gICAgfVxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2kxOG5Gb3JtYXQnKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCA9IG1vZHVsZTtcbiAgICB9XG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAncG9zdFByb2Nlc3NvcicpIHtcbiAgICAgIHBvc3RQcm9jZXNzb3IuYWRkUG9zdFByb2Nlc3Nvcihtb2R1bGUpO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdmb3JtYXR0ZXInKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuZm9ybWF0dGVyID0gbW9kdWxlO1xuICAgIH1cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICczcmRQYXJ0eScpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5wdXNoKG1vZHVsZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHNldFJlc29sdmVkTGFuZ3VhZ2UobCkge1xuICAgIGlmICghbCB8fCAhdGhpcy5sYW5ndWFnZXMpIHJldHVybjtcbiAgICBpZiAoWydjaW1vZGUnLCAnZGV2J10uaW5kZXhPZihsKSA+IC0xKSByZXR1cm47XG4gICAgZm9yIChsZXQgbGkgPSAwOyBsaSA8IHRoaXMubGFuZ3VhZ2VzLmxlbmd0aDsgbGkrKykge1xuICAgICAgY29uc3QgbG5nSW5MbmdzID0gdGhpcy5sYW5ndWFnZXNbbGldO1xuICAgICAgaWYgKFsnY2ltb2RlJywgJ2RldiddLmluZGV4T2YobG5nSW5MbmdzKSA+IC0xKSBjb250aW51ZTtcbiAgICAgIGlmICh0aGlzLnN0b3JlLmhhc0xhbmd1YWdlU29tZVRyYW5zbGF0aW9ucyhsbmdJbkxuZ3MpKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IGxuZ0luTG5ncztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNoYW5nZUxhbmd1YWdlKGxuZywgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gbG5nO1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdpbmcnLCBsbmcpO1xuICAgIGNvbnN0IHNldExuZ1Byb3BzID0gbCA9PiB7XG4gICAgICB0aGlzLmxhbmd1YWdlID0gbDtcbiAgICAgIHRoaXMubGFuZ3VhZ2VzID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShsKTtcbiAgICAgIHRoaXMucmVzb2x2ZWRMYW5ndWFnZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZShsKTtcbiAgICB9O1xuICAgIGNvbnN0IGRvbmUgPSAoZXJyLCBsKSA9PiB7XG4gICAgICBpZiAobCkge1xuICAgICAgICBzZXRMbmdQcm9wcyhsKTtcbiAgICAgICAgdGhpcy50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuICAgICAgICB0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnQoLi4uYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi50KC4uLmFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNldExuZyA9IGxuZ3MgPT4ge1xuICAgICAgaWYgKCFsbmcgJiYgIWxuZ3MgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yKSBsbmdzID0gW107XG4gICAgICBjb25zdCBsID0gaXNTdHJpbmcobG5ncykgPyBsbmdzIDogdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEJlc3RNYXRjaEZyb21Db2RlcyhsbmdzKTtcbiAgICAgIGlmIChsKSB7XG4gICAgICAgIGlmICghdGhpcy5sYW5ndWFnZSkge1xuICAgICAgICAgIHNldExuZ1Byb3BzKGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy50cmFuc2xhdG9yLmxhbmd1YWdlKSB0aGlzLnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UobCk7XG4gICAgICAgIGlmICh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmNhY2hlVXNlckxhbmd1YWdlKSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UobCk7XG4gICAgICB9XG4gICAgICB0aGlzLmxvYWRSZXNvdXJjZXMobCwgZXJyID0+IHtcbiAgICAgICAgZG9uZShlcnIsIGwpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAoIWxuZyAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IgJiYgIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYykge1xuICAgICAgc2V0TG5nKHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoKSk7XG4gICAgfSBlbHNlIGlmICghbG5nICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmMpIHtcbiAgICAgIGlmICh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KCkudGhlbihzZXRMbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdChzZXRMbmcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRMbmcobG5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGdldEZpeGVkVChsbmcsIG5zLCBrZXlQcmVmaXgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICBjb25zdCBmaXhlZFQgPSBmdW5jdGlvbiAoa2V5LCBvcHRzKSB7XG4gICAgICBsZXQgb3B0aW9ucztcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICByZXN0W19rZXkzIC0gMl0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBfdGhpczMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihba2V5LCBvcHRzXS5jb25jYXQocmVzdCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5vcHRzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBvcHRpb25zLmxuZyA9IG9wdGlvbnMubG5nIHx8IGZpeGVkVC5sbmc7XG4gICAgICBvcHRpb25zLmxuZ3MgPSBvcHRpb25zLmxuZ3MgfHwgZml4ZWRULmxuZ3M7XG4gICAgICBvcHRpb25zLm5zID0gb3B0aW9ucy5ucyB8fCBmaXhlZFQubnM7XG4gICAgICBpZiAob3B0aW9ucy5rZXlQcmVmaXggIT09ICcnKSBvcHRpb25zLmtleVByZWZpeCA9IG9wdGlvbnMua2V5UHJlZml4IHx8IGtleVByZWZpeCB8fCBmaXhlZFQua2V5UHJlZml4O1xuICAgICAgY29uc3Qga2V5U2VwYXJhdG9yID0gX3RoaXMzLm9wdGlvbnMua2V5U2VwYXJhdG9yIHx8ICcuJztcbiAgICAgIGxldCByZXN1bHRLZXk7XG4gICAgICBpZiAob3B0aW9ucy5rZXlQcmVmaXggJiYgQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgIHJlc3VsdEtleSA9IGtleS5tYXAoayA9PiBgJHtvcHRpb25zLmtleVByZWZpeH0ke2tleVNlcGFyYXRvcn0ke2t9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRLZXkgPSBvcHRpb25zLmtleVByZWZpeCA/IGAke29wdGlvbnMua2V5UHJlZml4fSR7a2V5U2VwYXJhdG9yfSR7a2V5fWAgOiBrZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3RoaXMzLnQocmVzdWx0S2V5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGlmIChpc1N0cmluZyhsbmcpKSB7XG4gICAgICBmaXhlZFQubG5nID0gbG5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXhlZFQubG5ncyA9IGxuZztcbiAgICB9XG4gICAgZml4ZWRULm5zID0gbnM7XG4gICAgZml4ZWRULmtleVByZWZpeCA9IGtleVByZWZpeDtcbiAgICByZXR1cm4gZml4ZWRUO1xuICB9XG4gIHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiB0aGlzLnRyYW5zbGF0b3IudHJhbnNsYXRlKC4uLmFyZ3VtZW50cyk7XG4gIH1cbiAgZXhpc3RzKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IgJiYgdGhpcy50cmFuc2xhdG9yLmV4aXN0cyguLi5hcmd1bWVudHMpO1xuICB9XG4gIHNldERlZmF1bHROYW1lc3BhY2UobnMpIHtcbiAgICB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TID0gbnM7XG4gIH1cbiAgaGFzTG9hZGVkTmFtZXNwYWNlKG5zKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG5leHQgd2FzIG5vdCBpbml0aWFsaXplZCcsIHRoaXMubGFuZ3VhZ2VzKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmxhbmd1YWdlcyB8fCAhdGhpcy5sYW5ndWFnZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG4ubGFuZ3VhZ2VzIHdlcmUgdW5kZWZpbmVkIG9yIGVtcHR5JywgdGhpcy5sYW5ndWFnZXMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBsbmcgPSBvcHRpb25zLmxuZyB8fCB0aGlzLnJlc29sdmVkTGFuZ3VhZ2UgfHwgdGhpcy5sYW5ndWFnZXNbMF07XG4gICAgY29uc3QgZmFsbGJhY2tMbmcgPSB0aGlzLm9wdGlvbnMgPyB0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcgOiBmYWxzZTtcbiAgICBjb25zdCBsYXN0TG5nID0gdGhpcy5sYW5ndWFnZXNbdGhpcy5sYW5ndWFnZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgbG9hZE5vdFBlbmRpbmcgPSAobCwgbikgPT4ge1xuICAgICAgY29uc3QgbG9hZFN0YXRlID0gdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnN0YXRlW2Ake2x9fCR7bn1gXTtcbiAgICAgIHJldHVybiBsb2FkU3RhdGUgPT09IC0xIHx8IGxvYWRTdGF0ZSA9PT0gMCB8fCBsb2FkU3RhdGUgPT09IDI7XG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5wcmVjaGVjaykge1xuICAgICAgY29uc3QgcHJlUmVzdWx0ID0gb3B0aW9ucy5wcmVjaGVjayh0aGlzLCBsb2FkTm90UGVuZGluZyk7XG4gICAgICBpZiAocHJlUmVzdWx0ICE9PSB1bmRlZmluZWQpIHJldHVybiBwcmVSZXN1bHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kIHx8IHRoaXMub3B0aW9ucy5yZXNvdXJjZXMgJiYgIXRoaXMub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykgcmV0dXJuIHRydWU7XG4gICAgaWYgKGxvYWROb3RQZW5kaW5nKGxuZywgbnMpICYmICghZmFsbGJhY2tMbmcgfHwgbG9hZE5vdFBlbmRpbmcobGFzdExuZywgbnMpKSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxvYWROYW1lc3BhY2VzKG5zLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5ucykge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcobnMpKSBucyA9IFtuc107XG4gICAgbnMuZm9yRWFjaChuID0+IHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihuKSA8IDApIHRoaXMub3B0aW9ucy5ucy5wdXNoKG4pO1xuICAgIH0pO1xuICAgIHRoaXMubG9hZFJlc291cmNlcyhlcnIgPT4ge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfVxuICBsb2FkTGFuZ3VhZ2VzKGxuZ3MsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIGlmIChpc1N0cmluZyhsbmdzKSkgbG5ncyA9IFtsbmdzXTtcbiAgICBjb25zdCBwcmVsb2FkZWQgPSB0aGlzLm9wdGlvbnMucHJlbG9hZCB8fCBbXTtcbiAgICBjb25zdCBuZXdMbmdzID0gbG5ncy5maWx0ZXIobG5nID0+IHByZWxvYWRlZC5pbmRleE9mKGxuZykgPCAwICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5pc1N1cHBvcnRlZENvZGUobG5nKSk7XG4gICAgaWYgKCFuZXdMbmdzLmxlbmd0aCkge1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB0aGlzLm9wdGlvbnMucHJlbG9hZCA9IHByZWxvYWRlZC5jb25jYXQobmV3TG5ncyk7XG4gICAgdGhpcy5sb2FkUmVzb3VyY2VzKGVyciA9PiB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9XG4gIGRpcihsbmcpIHtcbiAgICBpZiAoIWxuZykgbG5nID0gdGhpcy5yZXNvbHZlZExhbmd1YWdlIHx8ICh0aGlzLmxhbmd1YWdlcyAmJiB0aGlzLmxhbmd1YWdlcy5sZW5ndGggPiAwID8gdGhpcy5sYW5ndWFnZXNbMF0gOiB0aGlzLmxhbmd1YWdlKTtcbiAgICBpZiAoIWxuZykgcmV0dXJuICdydGwnO1xuICAgIGNvbnN0IHJ0bExuZ3MgPSBbJ2FyJywgJ3NodScsICdzcXInLCAnc3NoJywgJ3hhYScsICd5aGQnLCAneXVkJywgJ2FhbycsICdhYmgnLCAnYWJ2JywgJ2FjbScsICdhY3EnLCAnYWN3JywgJ2FjeCcsICdhY3knLCAnYWRmJywgJ2FkcycsICdhZWInLCAnYWVjJywgJ2FmYicsICdhanAnLCAnYXBjJywgJ2FwZCcsICdhcmInLCAnYXJxJywgJ2FycycsICdhcnknLCAnYXJ6JywgJ2F1eicsICdhdmwnLCAnYXloJywgJ2F5bCcsICdheW4nLCAnYXlwJywgJ2JieicsICdwZ2EnLCAnaGUnLCAnaXcnLCAncHMnLCAncGJ0JywgJ3BidScsICdwc3QnLCAncHJwJywgJ3ByZCcsICd1ZycsICd1cicsICd5ZGQnLCAneWRzJywgJ3lpaCcsICdqaScsICd5aScsICdoYm8nLCAnbWVuJywgJ3htbicsICdmYScsICdqcHInLCAncGVvJywgJ3BlcycsICdwcnMnLCAnZHYnLCAnc2FtJywgJ2NrYiddO1xuICAgIGNvbnN0IGxhbmd1YWdlVXRpbHMgPSB0aGlzLnNlcnZpY2VzICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscyB8fCBuZXcgTGFuZ3VhZ2VVdGlsKGdldCgpKTtcbiAgICByZXR1cm4gcnRsTG5ncy5pbmRleE9mKGxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUobG5nKSkgPiAtMSB8fCBsbmcudG9Mb3dlckNhc2UoKS5pbmRleE9mKCctYXJhYicpID4gMSA/ICdydGwnIDogJ2x0cic7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZUluc3RhbmNlKCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBsZXQgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IEkxOG4ob3B0aW9ucywgY2FsbGJhY2spO1xuICB9XG4gIGNsb25lSW5zdGFuY2UoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGxldCBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgICBjb25zdCBmb3JrUmVzb3VyY2VTdG9yZSA9IG9wdGlvbnMuZm9ya1Jlc291cmNlU3RvcmU7XG4gICAgaWYgKGZvcmtSZXNvdXJjZVN0b3JlKSBkZWxldGUgb3B0aW9ucy5mb3JrUmVzb3VyY2VTdG9yZTtcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIC4uLntcbiAgICAgICAgaXNDbG9uZTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgY2xvbmUgPSBuZXcgSTE4bihtZXJnZWRPcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5kZWJ1ZyAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucHJlZml4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsb25lLmxvZ2dlciA9IGNsb25lLmxvZ2dlci5jbG9uZShvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgbWVtYmVyc1RvQ29weSA9IFsnc3RvcmUnLCAnc2VydmljZXMnLCAnbGFuZ3VhZ2UnXTtcbiAgICBtZW1iZXJzVG9Db3B5LmZvckVhY2gobSA9PiB7XG4gICAgICBjbG9uZVttXSA9IHRoaXNbbV07XG4gICAgfSk7XG4gICAgY2xvbmUuc2VydmljZXMgPSB7XG4gICAgICAuLi50aGlzLnNlcnZpY2VzXG4gICAgfTtcbiAgICBjbG9uZS5zZXJ2aWNlcy51dGlscyA9IHtcbiAgICAgIGhhc0xvYWRlZE5hbWVzcGFjZTogY2xvbmUuaGFzTG9hZGVkTmFtZXNwYWNlLmJpbmQoY2xvbmUpXG4gICAgfTtcbiAgICBpZiAoZm9ya1Jlc291cmNlU3RvcmUpIHtcbiAgICAgIGNsb25lLnN0b3JlID0gbmV3IFJlc291cmNlU3RvcmUodGhpcy5zdG9yZS5kYXRhLCBtZXJnZWRPcHRpb25zKTtcbiAgICAgIGNsb25lLnNlcnZpY2VzLnJlc291cmNlU3RvcmUgPSBjbG9uZS5zdG9yZTtcbiAgICB9XG4gICAgY2xvbmUudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKGNsb25lLnNlcnZpY2VzLCBtZXJnZWRPcHRpb25zKTtcbiAgICBjbG9uZS50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuICAgICAgY2xvbmUuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgfSk7XG4gICAgY2xvbmUuaW5pdChtZXJnZWRPcHRpb25zLCBjYWxsYmFjayk7XG4gICAgY2xvbmUudHJhbnNsYXRvci5vcHRpb25zID0gbWVyZ2VkT3B0aW9ucztcbiAgICBjbG9uZS50cmFuc2xhdG9yLmJhY2tlbmRDb25uZWN0b3Iuc2VydmljZXMudXRpbHMgPSB7XG4gICAgICBoYXNMb2FkZWROYW1lc3BhY2U6IGNsb25lLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKGNsb25lKVxuICAgIH07XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgc3RvcmU6IHRoaXMuc3RvcmUsXG4gICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGxhbmd1YWdlczogdGhpcy5sYW5ndWFnZXMsXG4gICAgICByZXNvbHZlZExhbmd1YWdlOiB0aGlzLnJlc29sdmVkTGFuZ3VhZ2VcbiAgICB9O1xuICB9XG59XG5jb25zdCBpbnN0YW5jZSA9IEkxOG4uY3JlYXRlSW5zdGFuY2UoKTtcbmluc3RhbmNlLmNyZWF0ZUluc3RhbmNlID0gSTE4bi5jcmVhdGVJbnN0YW5jZTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnN0YW5jZTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJMThuQ29udGV4dCB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gSTE4bmV4dFByb3ZpZGVyKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBpMThuLFxuICAgIGRlZmF1bHROUyxcbiAgICBjaGlsZHJlblxuICB9ID0gX3JlZjtcbiAgY29uc3QgdmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgaTE4bixcbiAgICBkZWZhdWx0TlNcbiAgfSksIFtpMThuLCBkZWZhdWx0TlNdKTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoSTE4bkNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZVxuICB9LCBjaGlsZHJlbik7XG59IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG5vZGVzVG9TdHJpbmcsIFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuZXhwb3J0IHsgbm9kZXNUb1N0cmluZyB9O1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBjaGlsZHJlbixcbiAgICBjb3VudCxcbiAgICBwYXJlbnQsXG4gICAgaTE4bktleSxcbiAgICBjb250ZXh0LFxuICAgIHRPcHRpb25zID0ge30sXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnMsXG4gICAgaTE4bjogaTE4bkZyb21Qcm9wcyxcbiAgICB0OiB0RnJvbVByb3BzLFxuICAgIHNob3VsZFVuZXNjYXBlLFxuICAgIC4uLmFkZGl0aW9uYWxQcm9wc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgY29uc3QgdCA9IHRGcm9tUHJvcHMgfHwgaTE4biAmJiBpMThuLnQuYmluZChpMThuKTtcbiAgcmV0dXJuIFRyYW5zV2l0aG91dENvbnRleHQoe1xuICAgIGNoaWxkcmVuLFxuICAgIGNvdW50LFxuICAgIHBhcmVudCxcbiAgICBpMThuS2V5LFxuICAgIGNvbnRleHQsXG4gICAgdE9wdGlvbnMsXG4gICAgdmFsdWVzLFxuICAgIGRlZmF1bHRzLFxuICAgIGNvbXBvbmVudHMsXG4gICAgbnM6IG5zIHx8IHQgJiYgdC5ucyB8fCBkZWZhdWx0TlNGcm9tQ29udGV4dCB8fCBpMThuICYmIGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuZGVmYXVsdE5TLFxuICAgIGkxOG4sXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSk7XG59IiwiaW1wb3J0IHsgRnJhZ21lbnQsIGlzVmFsaWRFbGVtZW50LCBjbG9uZUVsZW1lbnQsIGNyZWF0ZUVsZW1lbnQsIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhUTUwgZnJvbSAnaHRtbC1wYXJzZS1zdHJpbmdpZnknO1xuaW1wb3J0IHsgaXNPYmplY3QsIGlzU3RyaW5nLCB3YXJuLCB3YXJuT25jZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5jb25zdCBoYXNDaGlsZHJlbiA9IChub2RlLCBjaGVja0xlbmd0aCkgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgYmFzZSA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgaWYgKGNoZWNrTGVuZ3RoKSByZXR1cm4gYmFzZS5sZW5ndGggPiAwO1xuICByZXR1cm4gISFiYXNlO1xufTtcbmNvbnN0IGdldENoaWxkcmVuID0gbm9kZSA9PiB7XG4gIGlmICghbm9kZSkgcmV0dXJuIFtdO1xuICBjb25zdCBjaGlsZHJlbiA9IG5vZGUucHJvcHMgPyBub2RlLnByb3BzLmNoaWxkcmVuIDogbm9kZS5jaGlsZHJlbjtcbiAgcmV0dXJuIG5vZGUucHJvcHMgJiYgbm9kZS5wcm9wcy5pMThuSXNEeW5hbWljTGlzdCA/IGdldEFzQXJyYXkoY2hpbGRyZW4pIDogY2hpbGRyZW47XG59O1xuY29uc3QgaGFzVmFsaWRSZWFjdENoaWxkcmVuID0gY2hpbGRyZW4gPT4gQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZXZlcnkoaXNWYWxpZEVsZW1lbnQpO1xuY29uc3QgZ2V0QXNBcnJheSA9IGRhdGEgPT4gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG5jb25zdCBtZXJnZVByb3BzID0gKHNvdXJjZSwgdGFyZ2V0KSA9PiB7XG4gIGNvbnN0IG5ld1RhcmdldCA9IHtcbiAgICAuLi50YXJnZXRcbiAgfTtcbiAgbmV3VGFyZ2V0LnByb3BzID0gT2JqZWN0LmFzc2lnbihzb3VyY2UucHJvcHMsIHRhcmdldC5wcm9wcyk7XG4gIHJldHVybiBuZXdUYXJnZXQ7XG59O1xuZXhwb3J0IGNvbnN0IG5vZGVzVG9TdHJpbmcgPSAoY2hpbGRyZW4sIGkxOG5PcHRpb25zKSA9PiB7XG4gIGlmICghY2hpbGRyZW4pIHJldHVybiAnJztcbiAgbGV0IHN0cmluZ05vZGUgPSAnJztcbiAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRyZW4pO1xuICBjb25zdCBrZWVwQXJyYXkgPSBpMThuT3B0aW9ucy50cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlcyAmJiBpMThuT3B0aW9ucy50cmFuc0tlZXBCYXNpY0h0bWxOb2Rlc0ZvciA/IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIDogW107XG4gIGNoaWxkcmVuQXJyYXkuZm9yRWFjaCgoY2hpbGQsIGNoaWxkSW5kZXgpID0+IHtcbiAgICBpZiAoaXNTdHJpbmcoY2hpbGQpKSB7XG4gICAgICBzdHJpbmdOb2RlICs9IGAke2NoaWxkfWA7XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSBjaGlsZDtcbiAgICAgIGNvbnN0IGNoaWxkUHJvcHNDb3VudCA9IE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGg7XG4gICAgICBjb25zdCBzaG91bGRLZWVwQ2hpbGQgPSBrZWVwQXJyYXkuaW5kZXhPZih0eXBlKSA+IC0xO1xuICAgICAgY29uc3QgY2hpbGRDaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKCFjaGlsZENoaWxkcmVuICYmIHNob3VsZEtlZXBDaGlsZCAmJiAhY2hpbGRQcm9wc0NvdW50KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9Lz5gO1xuICAgICAgfSBlbHNlIGlmICghY2hpbGRDaGlsZHJlbiAmJiAoIXNob3VsZEtlZXBDaGlsZCB8fCBjaGlsZFByb3BzQ291bnQpIHx8IHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0KSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke2NoaWxkSW5kZXh9PjwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRLZWVwQ2hpbGQgJiYgY2hpbGRQcm9wc0NvdW50ID09PSAxICYmIGlzU3RyaW5nKGNoaWxkQ2hpbGRyZW4pKSB7XG4gICAgICAgIHN0cmluZ05vZGUgKz0gYDwke3R5cGV9PiR7Y2hpbGRDaGlsZHJlbn08LyR7dHlwZX0+YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBub2Rlc1RvU3RyaW5nKGNoaWxkQ2hpbGRyZW4sIGkxOG5PcHRpb25zKTtcbiAgICAgICAgc3RyaW5nTm9kZSArPSBgPCR7Y2hpbGRJbmRleH0+JHtjb250ZW50fTwvJHtjaGlsZEluZGV4fT5gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hpbGQgPT09IG51bGwpIHtcbiAgICAgIHdhcm4oYFRyYW5zOiB0aGUgcGFzc2VkIGluIHZhbHVlIGlzIGludmFsaWQgLSBzZWVtcyB5b3UgcGFzc2VkIGluIGEgbnVsbCBjaGlsZC5gKTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBmb3JtYXQsXG4gICAgICAgIC4uLmNsb25lXG4gICAgICB9ID0gY2hpbGQ7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY2xvbmUpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZm9ybWF0ID8gYCR7a2V5c1swXX0sICR7Zm9ybWF0fWAgOiBrZXlzWzBdO1xuICAgICAgICBzdHJpbmdOb2RlICs9IGB7eyR7dmFsdWV9fX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybihgcmVhY3QtaTE4bmV4dDogdGhlIHBhc3NlZCBpbiBvYmplY3QgY29udGFpbmVkIG1vcmUgdGhhbiBvbmUgdmFyaWFibGUgLSB0aGUgb2JqZWN0IHNob3VsZCBsb29rIGxpa2Uge3sgdmFsdWUsIGZvcm1hdCB9fSB3aGVyZSBmb3JtYXQgaXMgb3B0aW9uYWwuYCwgY2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBUcmFuczogdGhlIHBhc3NlZCBpbiB2YWx1ZSBpcyBpbnZhbGlkIC0gc2VlbXMgeW91IHBhc3NlZCBpbiBhIHZhcmlhYmxlIGxpa2Uge251bWJlcn0gLSBwbGVhc2UgcGFzcyBpbiB2YXJpYWJsZXMgZm9yIGludGVycG9sYXRpb24gYXMgZnVsbCBvYmplY3RzIGxpa2Uge3tudW1iZXJ9fS5gLCBjaGlsZCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cmluZ05vZGU7XG59O1xuY29uc3QgcmVuZGVyTm9kZXMgPSAoY2hpbGRyZW4sIHRhcmdldFN0cmluZywgaTE4biwgaTE4bk9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKSA9PiB7XG4gIGlmICh0YXJnZXRTdHJpbmcgPT09ICcnKSByZXR1cm4gW107XG4gIGNvbnN0IGtlZXBBcnJheSA9IGkxOG5PcHRpb25zLnRyYW5zS2VlcEJhc2ljSHRtbE5vZGVzRm9yIHx8IFtdO1xuICBjb25zdCBlbXB0eUNoaWxkcmVuQnV0TmVlZHNIYW5kbGluZyA9IHRhcmdldFN0cmluZyAmJiBuZXcgUmVnRXhwKGtlZXBBcnJheS5tYXAoa2VlcCA9PiBgPCR7a2VlcH1gKS5qb2luKCd8JykpLnRlc3QodGFyZ2V0U3RyaW5nKTtcbiAgaWYgKCFjaGlsZHJlbiAmJiAhZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgIXNob3VsZFVuZXNjYXBlKSByZXR1cm4gW3RhcmdldFN0cmluZ107XG4gIGNvbnN0IGRhdGEgPSB7fTtcbiAgY29uc3QgZ2V0RGF0YSA9IGNoaWxkcyA9PiB7XG4gICAgY29uc3QgY2hpbGRyZW5BcnJheSA9IGdldEFzQXJyYXkoY2hpbGRzKTtcbiAgICBjaGlsZHJlbkFycmF5LmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgaWYgKGlzU3RyaW5nKGNoaWxkKSkgcmV0dXJuO1xuICAgICAgaWYgKGhhc0NoaWxkcmVuKGNoaWxkKSkgZ2V0RGF0YShnZXRDaGlsZHJlbihjaGlsZCkpO2Vsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSBPYmplY3QuYXNzaWduKGRhdGEsIGNoaWxkKTtcbiAgICB9KTtcbiAgfTtcbiAgZ2V0RGF0YShjaGlsZHJlbik7XG4gIGNvbnN0IGFzdCA9IEhUTUwucGFyc2UoYDwwPiR7dGFyZ2V0U3RyaW5nfTwvMD5gKTtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICAuLi5kYXRhLFxuICAgIC4uLmNvbWJpbmVkVE9wdHNcbiAgfTtcbiAgY29uc3QgcmVuZGVySW5uZXIgPSAoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpID0+IHtcbiAgICBjb25zdCBjaGlsZHMgPSBnZXRDaGlsZHJlbihjaGlsZCk7XG4gICAgY29uc3QgbWFwcGVkQ2hpbGRyZW4gPSBtYXBBU1QoY2hpbGRzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICByZXR1cm4gaGFzVmFsaWRSZWFjdENoaWxkcmVuKGNoaWxkcykgJiYgbWFwcGVkQ2hpbGRyZW4ubGVuZ3RoID09PSAwIHx8IGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0ID8gY2hpbGRzIDogbWFwcGVkQ2hpbGRyZW47XG4gIH07XG4gIGNvbnN0IHB1c2hUcmFuc2xhdGVkSlNYID0gKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBpc1ZvaWQpID0+IHtcbiAgICBpZiAoY2hpbGQuZHVtbXkpIHtcbiAgICAgIGNoaWxkLmNoaWxkcmVuID0gaW5uZXI7XG4gICAgICBtZW0ucHVzaChjbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAga2V5OiBpXG4gICAgICB9LCBpc1ZvaWQgPyB1bmRlZmluZWQgOiBpbm5lcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW0ucHVzaCguLi5DaGlsZHJlbi5tYXAoW2NoaWxkXSwgYyA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgICAgIC4uLmMucHJvcHNcbiAgICAgICAgfTtcbiAgICAgICAgZGVsZXRlIHByb3BzLmkxOG5Jc0R5bmFtaWNMaXN0O1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChjLnR5cGUsIHtcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgcmVmOiBjLnJlZlxuICAgICAgICB9LCBpc1ZvaWQgPyBudWxsIDogaW5uZXIpO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbWFwQVNUID0gKHJlYWN0Tm9kZSwgYXN0Tm9kZSwgcm9vdFJlYWN0Tm9kZSkgPT4ge1xuICAgIGNvbnN0IHJlYWN0Tm9kZXMgPSBnZXRBc0FycmF5KHJlYWN0Tm9kZSk7XG4gICAgY29uc3QgYXN0Tm9kZXMgPSBnZXRBc0FycmF5KGFzdE5vZGUpO1xuICAgIHJldHVybiBhc3ROb2Rlcy5yZWR1Y2UoKG1lbSwgbm9kZSwgaSkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNsYXRpb25Db250ZW50ID0gbm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuWzBdICYmIG5vZGUuY2hpbGRyZW5bMF0uY29udGVudCAmJiBpMThuLnNlcnZpY2VzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShub2RlLmNoaWxkcmVuWzBdLmNvbnRlbnQsIG9wdHMsIGkxOG4ubGFuZ3VhZ2UpO1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ3RhZycpIHtcbiAgICAgICAgbGV0IHRtcCA9IHJlYWN0Tm9kZXNbcGFyc2VJbnQobm9kZS5uYW1lLCAxMCldO1xuICAgICAgICBpZiAocm9vdFJlYWN0Tm9kZS5sZW5ndGggPT09IDEgJiYgIXRtcCkgdG1wID0gcm9vdFJlYWN0Tm9kZVswXVtub2RlLm5hbWVdO1xuICAgICAgICBpZiAoIXRtcCkgdG1wID0ge307XG4gICAgICAgIGNvbnN0IGNoaWxkID0gT2JqZWN0LmtleXMobm9kZS5hdHRycykubGVuZ3RoICE9PSAwID8gbWVyZ2VQcm9wcyh7XG4gICAgICAgICAgcHJvcHM6IG5vZGUuYXR0cnNcbiAgICAgICAgfSwgdG1wKSA6IHRtcDtcbiAgICAgICAgY29uc3QgaXNFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQoY2hpbGQpO1xuICAgICAgICBjb25zdCBpc1ZhbGlkVHJhbnNsYXRpb25XaXRoQ2hpbGRyZW4gPSBpc0VsZW1lbnQgJiYgaGFzQ2hpbGRyZW4obm9kZSwgdHJ1ZSkgJiYgIW5vZGUudm9pZEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzRW1wdHlUcmFuc1dpdGhIVE1MID0gZW1wdHlDaGlsZHJlbkJ1dE5lZWRzSGFuZGxpbmcgJiYgaXNPYmplY3QoY2hpbGQpICYmIGNoaWxkLmR1bW15ICYmICFpc0VsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlzS25vd25Db21wb25lbnQgPSBpc09iamVjdChjaGlsZHJlbikgJiYgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoY2hpbGRyZW4sIG5vZGUubmFtZSk7XG4gICAgICAgIGlmIChpc1N0cmluZyhjaGlsZCkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKGNoaWxkLCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgICBtZW0ucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hpbGRyZW4oY2hpbGQpIHx8IGlzVmFsaWRUcmFuc2xhdGlvbldpdGhDaGlsZHJlbikge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gcmVuZGVySW5uZXIoY2hpbGQsIG5vZGUsIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VtcHR5VHJhbnNXaXRoSFRNTCkge1xuICAgICAgICAgIGNvbnN0IGlubmVyID0gbWFwQVNUKHJlYWN0Tm9kZXMsIG5vZGUuY2hpbGRyZW4sIHJvb3RSZWFjdE5vZGUpO1xuICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VGbG9hdChub2RlLm5hbWUpKSkge1xuICAgICAgICAgIGlmIChpc0tub3duQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IHJlbmRlcklubmVyKGNoaWxkLCBub2RlLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIHB1c2hUcmFuc2xhdGVkSlNYKGNoaWxkLCBpbm5lciwgbWVtLCBpLCBub2RlLnZvaWRFbGVtZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkxOG5PcHRpb25zLnRyYW5zU3VwcG9ydEJhc2ljSHRtbE5vZGVzICYmIGtlZXBBcnJheS5pbmRleE9mKG5vZGUubmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKG5vZGUudm9pZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgbWVtLnB1c2goY3JlYXRlRWxlbWVudChub2RlLm5hbWUsIHtcbiAgICAgICAgICAgICAgICBrZXk6IGAke25vZGUubmFtZX0tJHtpfWBcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSBtYXBBU1QocmVhY3ROb2Rlcywgbm9kZS5jaGlsZHJlbiwgcm9vdFJlYWN0Tm9kZSk7XG4gICAgICAgICAgICAgIG1lbS5wdXNoKGNyZWF0ZUVsZW1lbnQobm9kZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAga2V5OiBgJHtub2RlLm5hbWV9LSR7aX1gXG4gICAgICAgICAgICAgIH0sIGlubmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLnZvaWRFbGVtZW50KSB7XG4gICAgICAgICAgICBtZW0ucHVzaChgPCR7bm9kZS5uYW1lfSAvPmApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbm5lciA9IG1hcEFTVChyZWFjdE5vZGVzLCBub2RlLmNoaWxkcmVuLCByb290UmVhY3ROb2RlKTtcbiAgICAgICAgICAgIG1lbS5wdXNoKGA8JHtub2RlLm5hbWV9PiR7aW5uZXJ9PC8ke25vZGUubmFtZX0+YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNoaWxkKSAmJiAhaXNFbGVtZW50KSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IG5vZGUuY2hpbGRyZW5bMF0gPyB0cmFuc2xhdGlvbkNvbnRlbnQgOiBudWxsO1xuICAgICAgICAgIGlmIChjb250ZW50KSBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwdXNoVHJhbnNsYXRlZEpTWChjaGlsZCwgdHJhbnNsYXRpb25Db250ZW50LCBtZW0sIGksIG5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9PSAxIHx8ICF0cmFuc2xhdGlvbkNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnN0IHdyYXBUZXh0Tm9kZXMgPSBpMThuT3B0aW9ucy50cmFuc1dyYXBUZXh0Tm9kZXM7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBzaG91bGRVbmVzY2FwZSA/IGkxOG5PcHRpb25zLnVuZXNjYXBlKGkxOG4uc2VydmljZXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKG5vZGUuY29udGVudCwgb3B0cywgaTE4bi5sYW5ndWFnZSkpIDogaTE4bi5zZXJ2aWNlcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobm9kZS5jb250ZW50LCBvcHRzLCBpMThuLmxhbmd1YWdlKTtcbiAgICAgICAgaWYgKHdyYXBUZXh0Tm9kZXMpIHtcbiAgICAgICAgICBtZW0ucHVzaChjcmVhdGVFbGVtZW50KHdyYXBUZXh0Tm9kZXMsIHtcbiAgICAgICAgICAgIGtleTogYCR7bm9kZS5uYW1lfS0ke2l9YFxuICAgICAgICAgIH0sIGNvbnRlbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZW0ucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbTtcbiAgICB9LCBbXSk7XG4gIH07XG4gIGNvbnN0IHJlc3VsdCA9IG1hcEFTVChbe1xuICAgIGR1bW15OiB0cnVlLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlbiB8fCBbXVxuICB9XSwgYXN0LCBnZXRBc0FycmF5KGNoaWxkcmVuIHx8IFtdKSk7XG4gIHJldHVybiBnZXRDaGlsZHJlbihyZXN1bHRbMF0pO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBUcmFucyhfcmVmKSB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW4sXG4gICAgY291bnQsXG4gICAgcGFyZW50LFxuICAgIGkxOG5LZXksXG4gICAgY29udGV4dCxcbiAgICB0T3B0aW9ucyA9IHt9LFxuICAgIHZhbHVlcyxcbiAgICBkZWZhdWx0cyxcbiAgICBjb21wb25lbnRzLFxuICAgIG5zLFxuICAgIGkxOG46IGkxOG5Gcm9tUHJvcHMsXG4gICAgdDogdEZyb21Qcm9wcyxcbiAgICBzaG91bGRVbmVzY2FwZSxcbiAgICAuLi5hZGRpdGlvbmFsUHJvcHNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGdldEkxOG4oKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGkxOG5leHRSZWFjdE1vZHVsZScpO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICBjb25zdCB0ID0gdEZyb21Qcm9wcyB8fCBpMThuLnQuYmluZChpMThuKSB8fCAoayA9PiBrKTtcbiAgY29uc3QgcmVhY3RJMThuZXh0T3B0aW9ucyA9IHtcbiAgICAuLi5nZXREZWZhdWx0cygpLFxuICAgIC4uLihpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLnJlYWN0KVxuICB9O1xuICBsZXQgbmFtZXNwYWNlcyA9IG5zIHx8IHQubnMgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBjb25zdCBub2RlQXNTdHJpbmcgPSBub2Rlc1RvU3RyaW5nKGNoaWxkcmVuLCByZWFjdEkxOG5leHRPcHRpb25zKTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlID0gZGVmYXVsdHMgfHwgbm9kZUFzU3RyaW5nIHx8IHJlYWN0STE4bmV4dE9wdGlvbnMudHJhbnNFbXB0eU5vZGVWYWx1ZSB8fCBpMThuS2V5O1xuICBjb25zdCB7XG4gICAgaGFzaFRyYW5zS2V5XG4gIH0gPSByZWFjdEkxOG5leHRPcHRpb25zO1xuICBjb25zdCBrZXkgPSBpMThuS2V5IHx8IChoYXNoVHJhbnNLZXkgPyBoYXNoVHJhbnNLZXkobm9kZUFzU3RyaW5nIHx8IGRlZmF1bHRWYWx1ZSkgOiBub2RlQXNTdHJpbmcgfHwgZGVmYXVsdFZhbHVlKTtcbiAgaWYgKGkxOG4ub3B0aW9ucyAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBpMThuLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzICYmIE9iamVjdC5rZXlzKHZhbHVlcykubGVuZ3RoID4gMCA/IHtcbiAgICAgIC4uLnZhbHVlcyxcbiAgICAgIC4uLmkxOG4ub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXNcbiAgICB9IDoge1xuICAgICAgLi4uaTE4bi5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc1xuICAgIH07XG4gIH1cbiAgY29uc3QgaW50ZXJwb2xhdGlvbk92ZXJyaWRlID0gdmFsdWVzIHx8IGNvdW50ICE9PSB1bmRlZmluZWQgfHwgIWNoaWxkcmVuID8gdE9wdGlvbnMuaW50ZXJwb2xhdGlvbiA6IHtcbiAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICAuLi50T3B0aW9ucy5pbnRlcnBvbGF0aW9uLFxuICAgICAgcHJlZml4OiAnIyQ/JyxcbiAgICAgIHN1ZmZpeDogJz8kIydcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvbWJpbmVkVE9wdHMgPSB7XG4gICAgLi4udE9wdGlvbnMsXG4gICAgY29udGV4dDogY29udGV4dCB8fCB0T3B0aW9ucy5jb250ZXh0LFxuICAgIGNvdW50LFxuICAgIC4uLnZhbHVlcyxcbiAgICAuLi5pbnRlcnBvbGF0aW9uT3ZlcnJpZGUsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIG5zOiBuYW1lc3BhY2VzXG4gIH07XG4gIGNvbnN0IHRyYW5zbGF0aW9uID0ga2V5ID8gdChrZXksIGNvbWJpbmVkVE9wdHMpIDogZGVmYXVsdFZhbHVlO1xuICBpZiAoY29tcG9uZW50cykge1xuICAgIE9iamVjdC5rZXlzKGNvbXBvbmVudHMpLmZvckVhY2goYyA9PiB7XG4gICAgICBjb25zdCBjb21wID0gY29tcG9uZW50c1tjXTtcbiAgICAgIGlmICh0eXBlb2YgY29tcC50eXBlID09PSAnZnVuY3Rpb24nIHx8ICFjb21wLnByb3BzIHx8ICFjb21wLnByb3BzLmNoaWxkcmVuIHx8IHRyYW5zbGF0aW9uLmluZGV4T2YoYCR7Y30vPmApIDwgMCAmJiB0cmFuc2xhdGlvbi5pbmRleE9mKGAke2N9IC8+YCkgPCAwKSByZXR1cm47XG4gICAgICBmdW5jdGlvbiBDb21wb25lbnRpemVkKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgY29tcCk7XG4gICAgICB9XG4gICAgICBjb21wb25lbnRzW2NdID0gY3JlYXRlRWxlbWVudChDb21wb25lbnRpemVkKTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBjb250ZW50ID0gcmVuZGVyTm9kZXMoY29tcG9uZW50cyB8fCBjaGlsZHJlbiwgdHJhbnNsYXRpb24sIGkxOG4sIHJlYWN0STE4bmV4dE9wdGlvbnMsIGNvbWJpbmVkVE9wdHMsIHNob3VsZFVuZXNjYXBlKTtcbiAgY29uc3QgdXNlQXNQYXJlbnQgPSBwYXJlbnQgIT09IHVuZGVmaW5lZCA/IHBhcmVudCA6IHJlYWN0STE4bmV4dE9wdGlvbnMuZGVmYXVsdFRyYW5zUGFyZW50O1xuICByZXR1cm4gdXNlQXNQYXJlbnQgPyBjcmVhdGVFbGVtZW50KHVzZUFzUGFyZW50LCBhZGRpdGlvbmFsUHJvcHMsIGNvbnRlbnQpIDogY29udGVudDtcbn0iLCJpbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJy4vdXNlVHJhbnNsYXRpb24uanMnO1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zbGF0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBucyxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5vcHRpb25zXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW3QsIGkxOG4sIHJlYWR5XSA9IHVzZVRyYW5zbGF0aW9uKG5zLCBvcHRpb25zKTtcbiAgcmV0dXJuIGNoaWxkcmVuKHQsIHtcbiAgICBpMThuLFxuICAgIGxuZzogaTE4bi5sYW5ndWFnZVxuICB9LCByZWFkeSk7XG59IiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldERlZmF1bHRzLCBzZXREZWZhdWx0cyB9IGZyb20gJy4vZGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgZ2V0STE4biwgc2V0STE4biB9IGZyb20gJy4vaTE4bkluc3RhbmNlLmpzJztcbmltcG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgZ2V0RGVmYXVsdHMsIHNldERlZmF1bHRzLCBnZXRJMThuLCBzZXRJMThuLCBpbml0UmVhY3RJMThuZXh0IH07XG5leHBvcnQgY29uc3QgSTE4bkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5leHBvcnQgY2xhc3MgUmVwb3J0TmFtZXNwYWNlcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXNlZE5hbWVzcGFjZXMgPSB7fTtcbiAgfVxuICBhZGRVc2VkTmFtZXNwYWNlcyhuYW1lc3BhY2VzKSB7XG4gICAgbmFtZXNwYWNlcy5mb3JFYWNoKG5zID0+IHtcbiAgICAgIGlmICghdGhpcy51c2VkTmFtZXNwYWNlc1tuc10pIHRoaXMudXNlZE5hbWVzcGFjZXNbbnNdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICBnZXRVc2VkTmFtZXNwYWNlcyA9ICgpID0+IE9iamVjdC5rZXlzKHRoaXMudXNlZE5hbWVzcGFjZXMpO1xufVxuZXhwb3J0IGNvbnN0IGNvbXBvc2VJbml0aWFsUHJvcHMgPSBGb3JDb21wb25lbnQgPT4gYXN5bmMgY3R4ID0+IHtcbiAgY29uc3QgY29tcG9uZW50c0luaXRpYWxQcm9wcyA9IEZvckNvbXBvbmVudC5nZXRJbml0aWFsUHJvcHMgPyBhd2FpdCBGb3JDb21wb25lbnQuZ2V0SW5pdGlhbFByb3BzKGN0eCkgOiB7fTtcbiAgY29uc3QgaTE4bkluaXRpYWxQcm9wcyA9IGdldEluaXRpYWxQcm9wcygpO1xuICByZXR1cm4ge1xuICAgIC4uLmNvbXBvbmVudHNJbml0aWFsUHJvcHMsXG4gICAgLi4uaTE4bkluaXRpYWxQcm9wc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXRJbml0aWFsUHJvcHMgPSAoKSA9PiB7XG4gIGNvbnN0IGkxOG4gPSBnZXRJMThuKCk7XG4gIGNvbnN0IG5hbWVzcGFjZXMgPSBpMThuLnJlcG9ydE5hbWVzcGFjZXMgPyBpMThuLnJlcG9ydE5hbWVzcGFjZXMuZ2V0VXNlZE5hbWVzcGFjZXMoKSA6IFtdO1xuICBjb25zdCByZXQgPSB7fTtcbiAgY29uc3QgaW5pdGlhbEkxOG5TdG9yZSA9IHt9O1xuICBpMThuLmxhbmd1YWdlcy5mb3JFYWNoKGwgPT4ge1xuICAgIGluaXRpYWxJMThuU3RvcmVbbF0gPSB7fTtcbiAgICBuYW1lc3BhY2VzLmZvckVhY2gobnMgPT4ge1xuICAgICAgaW5pdGlhbEkxOG5TdG9yZVtsXVtuc10gPSBpMThuLmdldFJlc291cmNlQnVuZGxlKGwsIG5zKSB8fCB7fTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldC5pbml0aWFsSTE4blN0b3JlID0gaW5pdGlhbEkxOG5TdG9yZTtcbiAgcmV0LmluaXRpYWxMYW5ndWFnZSA9IGkxOG4ubGFuZ3VhZ2U7XG4gIHJldHVybiByZXQ7XG59OyIsImltcG9ydCB7IHVuZXNjYXBlIH0gZnJvbSAnLi91bmVzY2FwZS5qcyc7XG5sZXQgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGJpbmRJMThuOiAnbGFuZ3VhZ2VDaGFuZ2VkJyxcbiAgYmluZEkxOG5TdG9yZTogJycsXG4gIHRyYW5zRW1wdHlOb2RlVmFsdWU6ICcnLFxuICB0cmFuc1N1cHBvcnRCYXNpY0h0bWxOb2RlczogdHJ1ZSxcbiAgdHJhbnNXcmFwVGV4dE5vZGVzOiAnJyxcbiAgdHJhbnNLZWVwQmFzaWNIdG1sTm9kZXNGb3I6IFsnYnInLCAnc3Ryb25nJywgJ2knLCAncCddLFxuICB1c2VTdXNwZW5zZTogdHJ1ZSxcbiAgdW5lc2NhcGVcbn07XG5leHBvcnQgY29uc3Qgc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0cyA9ICgpID0+IGRlZmF1bHRPcHRpb25zOyIsImxldCBpMThuSW5zdGFuY2U7XG5leHBvcnQgY29uc3Qgc2V0STE4biA9IGluc3RhbmNlID0+IHtcbiAgaTE4bkluc3RhbmNlID0gaW5zdGFuY2U7XG59O1xuZXhwb3J0IGNvbnN0IGdldEkxOG4gPSAoKSA9PiBpMThuSW5zdGFuY2U7IiwiZXhwb3J0IHsgVHJhbnMgfSBmcm9tICcuL1RyYW5zLmpzJztcbmV4cG9ydCB7IFRyYW5zIGFzIFRyYW5zV2l0aG91dENvbnRleHQgfSBmcm9tICcuL1RyYW5zV2l0aG91dENvbnRleHQuanMnO1xuZXhwb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICcuL3VzZVRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IHdpdGhUcmFuc2xhdGlvbiB9IGZyb20gJy4vd2l0aFRyYW5zbGF0aW9uLmpzJztcbmV4cG9ydCB7IFRyYW5zbGF0aW9uIH0gZnJvbSAnLi9UcmFuc2xhdGlvbi5qcyc7XG5leHBvcnQgeyBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICcuL0kxOG5leHRQcm92aWRlci5qcyc7XG5leHBvcnQgeyB3aXRoU1NSIH0gZnJvbSAnLi93aXRoU1NSLmpzJztcbmV4cG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmV4cG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICcuL2luaXRSZWFjdEkxOG5leHQuanMnO1xuZXhwb3J0IHsgc2V0RGVmYXVsdHMsIGdldERlZmF1bHRzIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5leHBvcnQgeyBzZXRJMThuLCBnZXRJMThuIH0gZnJvbSAnLi9pMThuSW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgSTE4bkNvbnRleHQsIGNvbXBvc2VJbml0aWFsUHJvcHMsIGdldEluaXRpYWxQcm9wcyB9IGZyb20gJy4vY29udGV4dC5qcyc7XG5leHBvcnQgY29uc3QgZGF0ZSA9ICgpID0+ICcnO1xuZXhwb3J0IGNvbnN0IHRpbWUgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBudW1iZXIgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3QgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBwbHVyYWwgPSAoKSA9PiAnJztcbmV4cG9ydCBjb25zdCBzZWxlY3RPcmRpbmFsID0gKCkgPT4gJyc7IiwiaW1wb3J0IHsgc2V0RGVmYXVsdHMgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IHNldEkxOG4gfSBmcm9tICcuL2kxOG5JbnN0YW5jZS5qcyc7XG5leHBvcnQgY29uc3QgaW5pdFJlYWN0STE4bmV4dCA9IHtcbiAgdHlwZTogJzNyZFBhcnR5JyxcbiAgaW5pdChpbnN0YW5jZSkge1xuICAgIHNldERlZmF1bHRzKGluc3RhbmNlLm9wdGlvbnMucmVhY3QpO1xuICAgIHNldEkxOG4oaW5zdGFuY2UpO1xuICB9XG59OyIsImNvbnN0IG1hdGNoSHRtbEVudGl0eSA9IC8mKD86YW1wfCMzOHxsdHwjNjB8Z3R8IzYyfGFwb3N8IzM5fHF1b3R8IzM0fG5ic3B8IzE2MHxjb3B5fCMxNjl8cmVnfCMxNzR8aGVsbGlwfCM4MjMwfCN4MkZ8IzQ3KTsvZztcbmNvbnN0IGh0bWxFbnRpdGllcyA9IHtcbiAgJyZhbXA7JzogJyYnLFxuICAnJiMzODsnOiAnJicsXG4gICcmbHQ7JzogJzwnLFxuICAnJiM2MDsnOiAnPCcsXG4gICcmZ3Q7JzogJz4nLFxuICAnJiM2MjsnOiAnPicsXG4gICcmYXBvczsnOiBcIidcIixcbiAgJyYjMzk7JzogXCInXCIsXG4gICcmcXVvdDsnOiAnXCInLFxuICAnJiMzNDsnOiAnXCInLFxuICAnJm5ic3A7JzogJyAnLFxuICAnJiMxNjA7JzogJyAnLFxuICAnJmNvcHk7JzogJ8KpJyxcbiAgJyYjMTY5Oyc6ICfCqScsXG4gICcmcmVnOyc6ICfCricsXG4gICcmIzE3NDsnOiAnwq4nLFxuICAnJmhlbGxpcDsnOiAn4oCmJyxcbiAgJyYjODIzMDsnOiAn4oCmJyxcbiAgJyYjeDJGOyc6ICcvJyxcbiAgJyYjNDc7JzogJy8nXG59O1xuY29uc3QgdW5lc2NhcGVIdG1sRW50aXR5ID0gbSA9PiBodG1sRW50aXRpZXNbbV07XG5leHBvcnQgY29uc3QgdW5lc2NhcGUgPSB0ZXh0ID0+IHRleHQucmVwbGFjZShtYXRjaEh0bWxFbnRpdHksIHVuZXNjYXBlSHRtbEVudGl0eSk7IiwiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGdldEkxOG4sIEkxOG5Db250ZXh0IH0gZnJvbSAnLi9jb250ZXh0LmpzJztcbmV4cG9ydCBjb25zdCB1c2VTU1IgPSBmdW5jdGlvbiAoaW5pdGlhbEkxOG5TdG9yZSwgaW5pdGlhbExhbmd1YWdlKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dFxuICB9ID0gdXNlQ29udGV4dChJMThuQ29udGV4dCkgfHwge307XG4gIGNvbnN0IGkxOG4gPSBpMThuRnJvbVByb3BzIHx8IGkxOG5Gcm9tQ29udGV4dCB8fCBnZXRJMThuKCk7XG4gIGlmIChpMThuLm9wdGlvbnMgJiYgaTE4bi5vcHRpb25zLmlzQ2xvbmUpIHJldHVybjtcbiAgaWYgKGluaXRpYWxJMThuU3RvcmUgJiYgIWkxOG4uaW5pdGlhbGl6ZWRTdG9yZU9uY2UpIHtcbiAgICBpMThuLnNlcnZpY2VzLnJlc291cmNlU3RvcmUuZGF0YSA9IGluaXRpYWxJMThuU3RvcmU7XG4gICAgaTE4bi5vcHRpb25zLm5zID0gT2JqZWN0LnZhbHVlcyhpbml0aWFsSTE4blN0b3JlKS5yZWR1Y2UoKG1lbSwgbG5nUmVzb3VyY2VzKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhsbmdSZXNvdXJjZXMpLmZvckVhY2gobnMgPT4ge1xuICAgICAgICBpZiAobWVtLmluZGV4T2YobnMpIDwgMCkgbWVtLnB1c2gobnMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtO1xuICAgIH0sIGkxOG4ub3B0aW9ucy5ucyk7XG4gICAgaTE4bi5pbml0aWFsaXplZFN0b3JlT25jZSA9IHRydWU7XG4gICAgaTE4bi5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuICBpZiAoaW5pdGlhbExhbmd1YWdlICYmICFpMThuLmluaXRpYWxpemVkTGFuZ3VhZ2VPbmNlKSB7XG4gICAgaTE4bi5jaGFuZ2VMYW5ndWFnZShpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIGkxOG4uaW5pdGlhbGl6ZWRMYW5ndWFnZU9uY2UgPSB0cnVlO1xuICB9XG59OyIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRJMThuLCBnZXREZWZhdWx0cywgUmVwb3J0TmFtZXNwYWNlcywgSTE4bkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgd2Fybk9uY2UsIGxvYWROYW1lc3BhY2VzLCBsb2FkTGFuZ3VhZ2VzLCBoYXNMb2FkZWROYW1lc3BhY2UsIGlzU3RyaW5nLCBpc09iamVjdCB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgdXNlUHJldmlvdXMgPSAodmFsdWUsIGlnbm9yZSkgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZWYuY3VycmVudCA9IGlnbm9yZSA/IHJlZi5jdXJyZW50IDogdmFsdWU7XG4gIH0sIFt2YWx1ZSwgaWdub3JlXSk7XG4gIHJldHVybiByZWYuY3VycmVudDtcbn07XG5jb25zdCBhbHdheXNOZXdUID0gKGkxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeCkgPT4gaTE4bi5nZXRGaXhlZFQobGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KTtcbmNvbnN0IHVzZU1lbW9pemVkVCA9IChpMThuLCBsYW5ndWFnZSwgbmFtZXNwYWNlLCBrZXlQcmVmaXgpID0+IHVzZUNhbGxiYWNrKGFsd2F5c05ld1QoaTE4biwgbGFuZ3VhZ2UsIG5hbWVzcGFjZSwga2V5UHJlZml4KSwgW2kxOG4sIGxhbmd1YWdlLCBuYW1lc3BhY2UsIGtleVByZWZpeF0pO1xuZXhwb3J0IGNvbnN0IHVzZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKG5zKSB7XG4gIGxldCBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGNvbnN0IHtcbiAgICBpMThuOiBpMThuRnJvbVByb3BzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qge1xuICAgIGkxOG46IGkxOG5Gcm9tQ29udGV4dCxcbiAgICBkZWZhdWx0TlM6IGRlZmF1bHROU0Zyb21Db250ZXh0XG4gIH0gPSB1c2VDb250ZXh0KEkxOG5Db250ZXh0KSB8fCB7fTtcbiAgY29uc3QgaTE4biA9IGkxOG5Gcm9tUHJvcHMgfHwgaTE4bkZyb21Db250ZXh0IHx8IGdldEkxOG4oKTtcbiAgaWYgKGkxOG4gJiYgIWkxOG4ucmVwb3J0TmFtZXNwYWNlcykgaTE4bi5yZXBvcnROYW1lc3BhY2VzID0gbmV3IFJlcG9ydE5hbWVzcGFjZXMoKTtcbiAgaWYgKCFpMThuKSB7XG4gICAgd2Fybk9uY2UoJ1lvdSB3aWxsIG5lZWQgdG8gcGFzcyBpbiBhbiBpMThuZXh0IGluc3RhbmNlIGJ5IHVzaW5nIGluaXRSZWFjdEkxOG5leHQnKTtcbiAgICBjb25zdCBub3RSZWFkeVQgPSAoaywgb3B0c09yRGVmYXVsdFZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNTdHJpbmcob3B0c09yRGVmYXVsdFZhbHVlKSkgcmV0dXJuIG9wdHNPckRlZmF1bHRWYWx1ZTtcbiAgICAgIGlmIChpc09iamVjdChvcHRzT3JEZWZhdWx0VmFsdWUpICYmIGlzU3RyaW5nKG9wdHNPckRlZmF1bHRWYWx1ZS5kZWZhdWx0VmFsdWUpKSByZXR1cm4gb3B0c09yRGVmYXVsdFZhbHVlLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGspID8ga1trLmxlbmd0aCAtIDFdIDogaztcbiAgICB9O1xuICAgIGNvbnN0IHJldE5vdFJlYWR5ID0gW25vdFJlYWR5VCwge30sIGZhbHNlXTtcbiAgICByZXROb3RSZWFkeS50ID0gbm90UmVhZHlUO1xuICAgIHJldE5vdFJlYWR5LmkxOG4gPSB7fTtcbiAgICByZXROb3RSZWFkeS5yZWFkeSA9IGZhbHNlO1xuICAgIHJldHVybiByZXROb3RSZWFkeTtcbiAgfVxuICBpZiAoaTE4bi5vcHRpb25zLnJlYWN0ICYmIGkxOG4ub3B0aW9ucy5yZWFjdC53YWl0ICE9PSB1bmRlZmluZWQpIHdhcm5PbmNlKCdJdCBzZWVtcyB5b3UgYXJlIHN0aWxsIHVzaW5nIHRoZSBvbGQgd2FpdCBvcHRpb24sIHlvdSBtYXkgbWlncmF0ZSB0byB0aGUgbmV3IHVzZVN1c3BlbnNlIGJlaGF2aW91ci4nKTtcbiAgY29uc3QgaTE4bk9wdGlvbnMgPSB7XG4gICAgLi4uZ2V0RGVmYXVsdHMoKSxcbiAgICAuLi5pMThuLm9wdGlvbnMucmVhY3QsXG4gICAgLi4ucHJvcHNcbiAgfTtcbiAgY29uc3Qge1xuICAgIHVzZVN1c3BlbnNlLFxuICAgIGtleVByZWZpeFxuICB9ID0gaTE4bk9wdGlvbnM7XG4gIGxldCBuYW1lc3BhY2VzID0gbnMgfHwgZGVmYXVsdE5TRnJvbUNvbnRleHQgfHwgaTE4bi5vcHRpb25zICYmIGkxOG4ub3B0aW9ucy5kZWZhdWx0TlM7XG4gIG5hbWVzcGFjZXMgPSBpc1N0cmluZyhuYW1lc3BhY2VzKSA/IFtuYW1lc3BhY2VzXSA6IG5hbWVzcGFjZXMgfHwgWyd0cmFuc2xhdGlvbiddO1xuICBpZiAoaTE4bi5yZXBvcnROYW1lc3BhY2VzLmFkZFVzZWROYW1lc3BhY2VzKSBpMThuLnJlcG9ydE5hbWVzcGFjZXMuYWRkVXNlZE5hbWVzcGFjZXMobmFtZXNwYWNlcyk7XG4gIGNvbnN0IHJlYWR5ID0gKGkxOG4uaXNJbml0aWFsaXplZCB8fCBpMThuLmluaXRpYWxpemVkU3RvcmVPbmNlKSAmJiBuYW1lc3BhY2VzLmV2ZXJ5KG4gPT4gaGFzTG9hZGVkTmFtZXNwYWNlKG4sIGkxOG4sIGkxOG5PcHRpb25zKSk7XG4gIGNvbnN0IG1lbW9HZXRUID0gdXNlTWVtb2l6ZWRUKGkxOG4sIHByb3BzLmxuZyB8fCBudWxsLCBpMThuT3B0aW9ucy5uc01vZGUgPT09ICdmYWxsYmFjaycgPyBuYW1lc3BhY2VzIDogbmFtZXNwYWNlc1swXSwga2V5UHJlZml4KTtcbiAgY29uc3QgZ2V0VCA9ICgpID0+IG1lbW9HZXRUO1xuICBjb25zdCBnZXROZXdUID0gKCkgPT4gYWx3YXlzTmV3VChpMThuLCBwcm9wcy5sbmcgfHwgbnVsbCwgaTE4bk9wdGlvbnMubnNNb2RlID09PSAnZmFsbGJhY2snID8gbmFtZXNwYWNlcyA6IG5hbWVzcGFjZXNbMF0sIGtleVByZWZpeCk7XG4gIGNvbnN0IFt0LCBzZXRUXSA9IHVzZVN0YXRlKGdldFQpO1xuICBsZXQgam9pbmVkTlMgPSBuYW1lc3BhY2VzLmpvaW4oKTtcbiAgaWYgKHByb3BzLmxuZykgam9pbmVkTlMgPSBgJHtwcm9wcy5sbmd9JHtqb2luZWROU31gO1xuICBjb25zdCBwcmV2aW91c0pvaW5lZE5TID0gdXNlUHJldmlvdXMoam9pbmVkTlMpO1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYodHJ1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYmluZEkxOG4sXG4gICAgICBiaW5kSTE4blN0b3JlXG4gICAgfSA9IGkxOG5PcHRpb25zO1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICBpZiAoIXJlYWR5ICYmICF1c2VTdXNwZW5zZSkge1xuICAgICAgaWYgKHByb3BzLmxuZykge1xuICAgICAgICBsb2FkTGFuZ3VhZ2VzKGkxOG4sIHByb3BzLmxuZywgbmFtZXNwYWNlcywgKCkgPT4ge1xuICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkgc2V0VChnZXROZXdUKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSBzZXRUKGdldE5ld1QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlYWR5ICYmIHByZXZpb3VzSm9pbmVkTlMgJiYgcHJldmlvdXNKb2luZWROUyAhPT0gam9pbmVkTlMgJiYgaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgIHNldFQoZ2V0TmV3VCk7XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kUmVzZXQgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHNldFQoZ2V0TmV3VCk7XG4gICAgfTtcbiAgICBpZiAoYmluZEkxOG4gJiYgaTE4bikgaTE4bi5vbihiaW5kSTE4biwgYm91bmRSZXNldCk7XG4gICAgaWYgKGJpbmRJMThuU3RvcmUgJiYgaTE4bikgaTE4bi5zdG9yZS5vbihiaW5kSTE4blN0b3JlLCBib3VuZFJlc2V0KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlmIChiaW5kSTE4biAmJiBpMThuKSBiaW5kSTE4bi5zcGxpdCgnICcpLmZvckVhY2goZSA9PiBpMThuLm9mZihlLCBib3VuZFJlc2V0KSk7XG4gICAgICBpZiAoYmluZEkxOG5TdG9yZSAmJiBpMThuKSBiaW5kSTE4blN0b3JlLnNwbGl0KCcgJykuZm9yRWFjaChlID0+IGkxOG4uc3RvcmUub2ZmKGUsIGJvdW5kUmVzZXQpKTtcbiAgICB9O1xuICB9LCBbaTE4biwgam9pbmVkTlNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQgJiYgcmVhZHkpIHtcbiAgICAgIHNldFQoZ2V0VCk7XG4gICAgfVxuICB9LCBbaTE4biwga2V5UHJlZml4LCByZWFkeV0pO1xuICBjb25zdCByZXQgPSBbdCwgaTE4biwgcmVhZHldO1xuICByZXQudCA9IHQ7XG4gIHJldC5pMThuID0gaTE4bjtcbiAgcmV0LnJlYWR5ID0gcmVhZHk7XG4gIGlmIChyZWFkeSkgcmV0dXJuIHJldDtcbiAgaWYgKCFyZWFkeSAmJiAhdXNlU3VzcGVuc2UpIHJldHVybiByZXQ7XG4gIHRocm93IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGlmIChwcm9wcy5sbmcpIHtcbiAgICAgIGxvYWRMYW5ndWFnZXMoaTE4biwgcHJvcHMubG5nLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkTmFtZXNwYWNlcyhpMThuLCBuYW1lc3BhY2VzLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cbiAgfSk7XG59OyIsImV4cG9ydCBmdW5jdGlvbiB3YXJuKCkge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhhcmdzWzBdKSkgYXJnc1swXSA9IGByZWFjdC1pMThuZXh0OjogJHthcmdzWzBdfWA7XG4gICAgY29uc29sZS53YXJuKC4uLmFyZ3MpO1xuICB9XG59XG5jb25zdCBhbHJlYWR5V2FybmVkID0ge307XG5leHBvcnQgZnVuY3Rpb24gd2Fybk9uY2UoKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkgJiYgYWxyZWFkeVdhcm5lZFthcmdzWzBdXSkgcmV0dXJuO1xuICBpZiAoaXNTdHJpbmcoYXJnc1swXSkpIGFscmVhZHlXYXJuZWRbYXJnc1swXV0gPSBuZXcgRGF0ZSgpO1xuICB3YXJuKC4uLmFyZ3MpO1xufVxuY29uc3QgbG9hZGVkQ2xiID0gKGkxOG4sIGNiKSA9PiAoKSA9PiB7XG4gIGlmIChpMThuLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICBjYigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGluaXRpYWxpemVkID0gKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGkxOG4ub2ZmKCdpbml0aWFsaXplZCcsIGluaXRpYWxpemVkKTtcbiAgICAgIH0sIDApO1xuICAgICAgY2IoKTtcbiAgICB9O1xuICAgIGkxOG4ub24oJ2luaXRpYWxpemVkJywgaW5pdGlhbGl6ZWQpO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IGxvYWROYW1lc3BhY2VzID0gKGkxOG4sIG5zLCBjYikgPT4ge1xuICBpMThuLmxvYWROYW1lc3BhY2VzKG5zLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5leHBvcnQgY29uc3QgbG9hZExhbmd1YWdlcyA9IChpMThuLCBsbmcsIG5zLCBjYikgPT4ge1xuICBpZiAoaXNTdHJpbmcobnMpKSBucyA9IFtuc107XG4gIG5zLmZvckVhY2gobiA9PiB7XG4gICAgaWYgKGkxOG4ub3B0aW9ucy5ucy5pbmRleE9mKG4pIDwgMCkgaTE4bi5vcHRpb25zLm5zLnB1c2gobik7XG4gIH0pO1xuICBpMThuLmxvYWRMYW5ndWFnZXMobG5nLCBsb2FkZWRDbGIoaTE4biwgY2IpKTtcbn07XG5jb25zdCBvbGRJMThuZXh0SGFzTG9hZGVkTmFtZXNwYWNlID0gZnVuY3Rpb24gKG5zLCBpMThuKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgY29uc3QgbG5nID0gaTE4bi5sYW5ndWFnZXNbMF07XG4gIGNvbnN0IGZhbGxiYWNrTG5nID0gaTE4bi5vcHRpb25zID8gaTE4bi5vcHRpb25zLmZhbGxiYWNrTG5nIDogZmFsc2U7XG4gIGNvbnN0IGxhc3RMbmcgPSBpMThuLmxhbmd1YWdlc1tpMThuLmxhbmd1YWdlcy5sZW5ndGggLSAxXTtcbiAgaWYgKGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHRydWU7XG4gIGNvbnN0IGxvYWROb3RQZW5kaW5nID0gKGwsIG4pID0+IHtcbiAgICBjb25zdCBsb2FkU3RhdGUgPSBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3Iuc3RhdGVbYCR7bH18JHtufWBdO1xuICAgIHJldHVybiBsb2FkU3RhdGUgPT09IC0xIHx8IGxvYWRTdGF0ZSA9PT0gMjtcbiAgfTtcbiAgaWYgKG9wdGlvbnMuYmluZEkxOG4gJiYgb3B0aW9ucy5iaW5kSTE4bi5pbmRleE9mKCdsYW5ndWFnZUNoYW5naW5nJykgPiAtMSAmJiBpMThuLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvICYmICFsb2FkTm90UGVuZGluZyhpMThuLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvLCBucykpIHJldHVybiBmYWxzZTtcbiAgaWYgKGkxOG4uaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHJldHVybiB0cnVlO1xuICBpZiAoIWkxOG4uc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kIHx8IGkxOG4ub3B0aW9ucy5yZXNvdXJjZXMgJiYgIWkxOG4ub3B0aW9ucy5wYXJ0aWFsQnVuZGxlZExhbmd1YWdlcykgcmV0dXJuIHRydWU7XG4gIGlmIChsb2FkTm90UGVuZGluZyhsbmcsIG5zKSAmJiAoIWZhbGxiYWNrTG5nIHx8IGxvYWROb3RQZW5kaW5nKGxhc3RMbmcsIG5zKSkpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IGNvbnN0IGhhc0xvYWRlZE5hbWVzcGFjZSA9IGZ1bmN0aW9uIChucywgaTE4bikge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGlmICghaTE4bi5sYW5ndWFnZXMgfHwgIWkxOG4ubGFuZ3VhZ2VzLmxlbmd0aCkge1xuICAgIHdhcm5PbmNlKCdpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eScsIGkxOG4ubGFuZ3VhZ2VzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBpc05ld2VySTE4bmV4dCA9IGkxOG4ub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlICE9PSB1bmRlZmluZWQ7XG4gIGlmICghaXNOZXdlckkxOG5leHQpIHtcbiAgICByZXR1cm4gb2xkSTE4bmV4dEhhc0xvYWRlZE5hbWVzcGFjZShucywgaTE4biwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIGkxOG4uaGFzTG9hZGVkTmFtZXNwYWNlKG5zLCB7XG4gICAgbG5nOiBvcHRpb25zLmxuZyxcbiAgICBwcmVjaGVjazogKGkxOG5JbnN0YW5jZSwgbG9hZE5vdFBlbmRpbmcpID0+IHtcbiAgICAgIGlmIChvcHRpb25zLmJpbmRJMThuICYmIG9wdGlvbnMuYmluZEkxOG4uaW5kZXhPZignbGFuZ3VhZ2VDaGFuZ2luZycpID4gLTEgJiYgaTE4bkluc3RhbmNlLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCAmJiBpMThuSW5zdGFuY2UuaXNMYW5ndWFnZUNoYW5naW5nVG8gJiYgIWxvYWROb3RQZW5kaW5nKGkxOG5JbnN0YW5jZS5pc0xhbmd1YWdlQ2hhbmdpbmdUbywgbnMpKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RGlzcGxheU5hbWUgPSBDb21wb25lbnQgPT4gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8IChpc1N0cmluZyhDb21wb25lbnQpICYmIENvbXBvbmVudC5sZW5ndGggPiAwID8gQ29tcG9uZW50IDogJ1Vua25vd24nKTtcbmV4cG9ydCBjb25zdCBpc1N0cmluZyA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcbmV4cG9ydCBjb25zdCBpc09iamVjdCA9IG9iaiA9PiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNTUiB9IGZyb20gJy4vdXNlU1NSLmpzJztcbmltcG9ydCB7IGNvbXBvc2VJbml0aWFsUHJvcHMgfSBmcm9tICcuL2NvbnRleHQuanMnO1xuaW1wb3J0IHsgZ2V0RGlzcGxheU5hbWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmV4cG9ydCBjb25zdCB3aXRoU1NSID0gKCkgPT4gZnVuY3Rpb24gRXh0ZW5kKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgZnVuY3Rpb24gSTE4bmV4dFdpdGhTU1IoX3JlZikge1xuICAgIGxldCB7XG4gICAgICBpbml0aWFsSTE4blN0b3JlLFxuICAgICAgaW5pdGlhbExhbmd1YWdlLFxuICAgICAgLi4ucmVzdFxuICAgIH0gPSBfcmVmO1xuICAgIHVzZVNTUihpbml0aWFsSTE4blN0b3JlLCBpbml0aWFsTGFuZ3VhZ2UpO1xuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIHtcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxuICBJMThuZXh0V2l0aFNTUi5nZXRJbml0aWFsUHJvcHMgPSBjb21wb3NlSW5pdGlhbFByb3BzKFdyYXBwZWRDb21wb25lbnQpO1xuICBJMThuZXh0V2l0aFNTUi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFNTUigke2dldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpfSlgO1xuICBJMThuZXh0V2l0aFNTUi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgcmV0dXJuIEkxOG5leHRXaXRoU1NSO1xufTsiLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmIGFzIGZvcndhcmRSZWZSZWFjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAnLi91c2VUcmFuc2xhdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXREaXNwbGF5TmFtZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChucykge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHJldHVybiBmdW5jdGlvbiBFeHRlbmQoV3JhcHBlZENvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIEkxOG5leHRXaXRoVHJhbnNsYXRpb24oX3JlZikge1xuICAgICAgbGV0IHtcbiAgICAgICAgZm9yd2FyZGVkUmVmLFxuICAgICAgICAuLi5yZXN0XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIGNvbnN0IFt0LCBpMThuLCByZWFkeV0gPSB1c2VUcmFuc2xhdGlvbihucywge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBrZXlQcmVmaXg6IG9wdGlvbnMua2V5UHJlZml4XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHBhc3NEb3duUHJvcHMgPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIHQsXG4gICAgICAgIGkxOG4sXG4gICAgICAgIHRSZWFkeTogcmVhZHlcbiAgICAgIH07XG4gICAgICBpZiAob3B0aW9ucy53aXRoUmVmICYmIGZvcndhcmRlZFJlZikge1xuICAgICAgICBwYXNzRG93blByb3BzLnJlZiA9IGZvcndhcmRlZFJlZjtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMud2l0aFJlZiAmJiBmb3J3YXJkZWRSZWYpIHtcbiAgICAgICAgcGFzc0Rvd25Qcm9wcy5mb3J3YXJkZWRSZWYgPSBmb3J3YXJkZWRSZWY7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBwYXNzRG93blByb3BzKTtcbiAgICB9XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5kaXNwbGF5TmFtZSA9IGB3aXRoSTE4bmV4dFRyYW5zbGF0aW9uKCR7Z2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCl9KWA7XG4gICAgSTE4bmV4dFdpdGhUcmFuc2xhdGlvbi5XcmFwcGVkQ29tcG9uZW50ID0gV3JhcHBlZENvbXBvbmVudDtcbiAgICBjb25zdCBmb3J3YXJkUmVmID0gKHByb3BzLCByZWYpID0+IGNyZWF0ZUVsZW1lbnQoSTE4bmV4dFdpdGhUcmFuc2xhdGlvbiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIGZvcndhcmRlZFJlZjogcmVmXG4gICAgfSkpO1xuICAgIHJldHVybiBvcHRpb25zLndpdGhSZWYgPyBmb3J3YXJkUmVmUmVhY3QoZm9yd2FyZFJlZikgOiBJMThuZXh0V2l0aFRyYW5zbGF0aW9uO1xuICB9O1xufTsiLCIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcobWV0aG9kTmFtZSwgaW5mbykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCIlcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlc1wiLFxuICAgICAgICAgICAgaW5mb1swXSxcbiAgICAgICAgICAgIGluZm9bMV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gbWF5YmVJdGVyYWJsZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBtYXliZUl0ZXJhYmxlID1cbiAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgIG1heWJlSXRlcmFibGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlSXRlcmFibGUgPyBtYXliZUl0ZXJhYmxlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIHB1YmxpY0luc3RhbmNlID1cbiAgICAgICAgKChwdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yKSAmJlxuICAgICAgICAgIChwdWJsaWNJbnN0YW5jZS5kaXNwbGF5TmFtZSB8fCBwdWJsaWNJbnN0YW5jZS5uYW1lKSkgfHxcbiAgICAgICAgXCJSZWFjdENsYXNzXCI7XG4gICAgICB2YXIgd2FybmluZ0tleSA9IHB1YmxpY0luc3RhbmNlICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgIGNsYXNzIHByb3BlcnR5IHdpdGggdGhlIGRlc2lyZWQgc3RhdGUgaW4gdGhlICVzIGNvbXBvbmVudC5cIixcbiAgICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICAgIHB1YmxpY0luc3RhbmNlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbiAgICBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfQUNUSVZJVFlfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJBY3Rpdml0eVwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhc2tOYW1lKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSByZXR1cm4gXCI8PlwiO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRVxuICAgICAgKVxuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHJldHVybiBuYW1lID8gXCI8XCIgKyBuYW1lICsgXCI+XCIgOiBcIjwuLi4+XCI7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmtub3duT3duZXIoKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcHJvcHMsIG93bmVyLCBkZWJ1Z1N0YWNrLCBkZWJ1Z1Rhc2spIHtcbiAgICAgIHZhciByZWZQcm9wID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHJlZlByb3AgPyByZWZQcm9wIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdTdGFja1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1N0YWNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1Rhc2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdUYXNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb25lQW5kUmVwbGFjZUtleShvbGRFbGVtZW50LCBuZXdLZXkpIHtcbiAgICAgIG5ld0tleSA9IFJlYWN0RWxlbWVudChcbiAgICAgICAgb2xkRWxlbWVudC50eXBlLFxuICAgICAgICBuZXdLZXksXG4gICAgICAgIG9sZEVsZW1lbnQucHJvcHMsXG4gICAgICAgIG9sZEVsZW1lbnQuX293bmVyLFxuICAgICAgICBvbGRFbGVtZW50Ll9kZWJ1Z1N0YWNrLFxuICAgICAgICBvbGRFbGVtZW50Ll9kZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgICBvbGRFbGVtZW50Ll9zdG9yZSAmJlxuICAgICAgICAobmV3S2V5Ll9zdG9yZS52YWxpZGF0ZWQgPSBvbGRFbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQpO1xuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSkge1xuICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZSlcbiAgICAgICAgPyBub2RlLl9zdG9yZSAmJiAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSlcbiAgICAgICAgOiBcIm9iamVjdFwiID09PSB0eXBlb2Ygbm9kZSAmJlxuICAgICAgICAgIG51bGwgIT09IG5vZGUgJiZcbiAgICAgICAgICBub2RlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAoXCJmdWxmaWxsZWRcIiA9PT0gbm9kZS5fcGF5bG9hZC5zdGF0dXNcbiAgICAgICAgICAgID8gaXNWYWxpZEVsZW1lbnQobm9kZS5fcGF5bG9hZC52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgbm9kZS5fcGF5bG9hZC52YWx1ZS5fc3RvcmUgJiZcbiAgICAgICAgICAgICAgKG5vZGUuX3BheWxvYWQudmFsdWUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpXG4gICAgICAgICAgICA6IG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9iamVjdCAmJlxuICAgICAgICBudWxsICE9PSBvYmplY3QgJiZcbiAgICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVzY2FwZShrZXkpIHtcbiAgICAgIHZhciBlc2NhcGVyTG9va3VwID0geyBcIj1cIjogXCI9MFwiLCBcIjpcIjogXCI9MlwiIH07XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIiRcIiArXG4gICAgICAgIGtleS5yZXBsYWNlKC9bPTpdL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRLZXkoZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBcIm9iamVjdFwiID09PSB0eXBlb2YgZWxlbWVudCAmJlxuICAgICAgICBudWxsICE9PSBlbGVtZW50ICYmXG4gICAgICAgIG51bGwgIT0gZWxlbWVudC5rZXlcbiAgICAgICAgPyAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihlbGVtZW50LmtleSksIGVzY2FwZShcIlwiICsgZWxlbWVudC5rZXkpKVxuICAgICAgICA6IGluZGV4LnRvU3RyaW5nKDM2KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzXG4gICAgICAgICAgICAgID8gdGhlbmFibGUudGhlbihub29wLCBub29wKVxuICAgICAgICAgICAgICA6ICgodGhlbmFibGUuc3RhdHVzID0gXCJwZW5kaW5nXCIpLFxuICAgICAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZnVsZmlsbGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXCJwZW5kaW5nXCIgPT09IHRoZW5hYmxlLnN0YXR1cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICgodGhlbmFibGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgKHRoZW5hYmxlLnZhbHVlID0gZnVsZmlsbGVkVmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgXCJwZW5kaW5nXCIgPT09IHRoZW5hYmxlLnN0YXR1cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICgodGhlbmFibGUuc3RhdHVzID0gXCJyZWplY3RlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAodGhlbmFibGUucmVhc29uID0gZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHRoZW5hYmxlLnN0YXR1cylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgICAgIHRocm93IHRoZW5hYmxlLnJlYXNvbjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwSW50b0FycmF5KGNoaWxkcmVuLCBhcnJheSwgZXNjYXBlZFByZWZpeCwgbmFtZVNvRmFyLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG4gICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZSB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZSkgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgdmFyIGludm9rZUNhbGxiYWNrID0gITE7XG4gICAgICBpZiAobnVsbCA9PT0gY2hpbGRyZW4pIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICBlbHNlXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIHN3aXRjaCAoY2hpbGRyZW4uJCR0eXBlb2YpIHtcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayA9IGNoaWxkcmVuLl9pbml0KSxcbiAgICAgICAgICAgICAgICAgIG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2soY2hpbGRyZW4uX3BheWxvYWQpLFxuICAgICAgICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGlmIChpbnZva2VDYWxsYmFjaykge1xuICAgICAgICBpbnZva2VDYWxsYmFjayA9IGNoaWxkcmVuO1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrKGludm9rZUNhbGxiYWNrKTtcbiAgICAgICAgdmFyIGNoaWxkS2V5ID1cbiAgICAgICAgICBcIlwiID09PSBuYW1lU29GYXIgPyBcIi5cIiArIGdldEVsZW1lbnRLZXkoaW52b2tlQ2FsbGJhY2ssIDApIDogbmFtZVNvRmFyO1xuICAgICAgICBpc0FycmF5SW1wbChjYWxsYmFjaylcbiAgICAgICAgICA/ICgoZXNjYXBlZFByZWZpeCA9IFwiXCIpLFxuICAgICAgICAgICAgbnVsbCAhPSBjaGlsZEtleSAmJlxuICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeCA9XG4gICAgICAgICAgICAgICAgY2hpbGRLZXkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgXCIkJi9cIikgKyBcIi9cIiksXG4gICAgICAgICAgICBtYXBJbnRvQXJyYXkoY2FsbGJhY2ssIGFycmF5LCBlc2NhcGVkUHJlZml4LCBcIlwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIDogbnVsbCAhPSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKGlzVmFsaWRFbGVtZW50KGNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAobnVsbCAhPSBjYWxsYmFjay5rZXkgJiZcbiAgICAgICAgICAgICAgICAoKGludm9rZUNhbGxiYWNrICYmIGludm9rZUNhbGxiYWNrLmtleSA9PT0gY2FsbGJhY2sua2V5KSB8fFxuICAgICAgICAgICAgICAgICAgY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjYWxsYmFjay5rZXkpKSxcbiAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXggPSBjbG9uZUFuZFJlcGxhY2VLZXkoXG4gICAgICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCArXG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBjYWxsYmFjay5rZXkgfHxcbiAgICAgICAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayAmJiBpbnZva2VDYWxsYmFjay5rZXkgPT09IGNhbGxiYWNrLmtleSlcbiAgICAgICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgICAgIDogKFwiXCIgKyBjYWxsYmFjay5rZXkpLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJCYvXCJcbiAgICAgICAgICAgICAgICAgICAgICApICsgXCIvXCIpICtcbiAgICAgICAgICAgICAgICAgIGNoaWxkS2V5XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBcIlwiICE9PSBuYW1lU29GYXIgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IGludm9rZUNhbGxiYWNrICYmXG4gICAgICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoaW52b2tlQ2FsbGJhY2spICYmXG4gICAgICAgICAgICAgICAgbnVsbCA9PSBpbnZva2VDYWxsYmFjay5rZXkgJiZcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjay5fc3RvcmUgJiZcbiAgICAgICAgICAgICAgICAhaW52b2tlQ2FsbGJhY2suX3N0b3JlLnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4Ll9zdG9yZS52YWxpZGF0ZWQgPSAyKSxcbiAgICAgICAgICAgICAgKGNhbGxiYWNrID0gZXNjYXBlZFByZWZpeCkpLFxuICAgICAgICAgICAgYXJyYXkucHVzaChjYWxsYmFjaykpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGludm9rZUNhbGxiYWNrID0gMDtcbiAgICAgIGNoaWxkS2V5ID0gXCJcIiA9PT0gbmFtZVNvRmFyID8gXCIuXCIgOiBuYW1lU29GYXIgKyBcIjpcIjtcbiAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgICAgKG5hbWVTb0ZhciA9IGNoaWxkcmVuW2ldKSxcbiAgICAgICAgICAgICh0eXBlID0gY2hpbGRLZXkgKyBnZXRFbGVtZW50S2V5KG5hbWVTb0ZhciwgaSkpLFxuICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICs9IG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICkpO1xuICAgICAgZWxzZSBpZiAoKChpID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbikpLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpKSlcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBpID09PSBjaGlsZHJlbi5lbnRyaWVzICYmXG4gICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyB8fFxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgXCJVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhbiBhcnJheSBvZiBrZXllZCBSZWFjdEVsZW1lbnRzIGluc3RlYWQuXCJcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzID0gITApKSxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gaS5jYWxsKGNoaWxkcmVuKSxcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICEobmFtZVNvRmFyID0gY2hpbGRyZW4ubmV4dCgpKS5kb25lO1xuXG4gICAgICAgIClcbiAgICAgICAgICAobmFtZVNvRmFyID0gbmFtZVNvRmFyLnZhbHVlKSxcbiAgICAgICAgICAgICh0eXBlID0gY2hpbGRLZXkgKyBnZXRFbGVtZW50S2V5KG5hbWVTb0ZhciwgaSsrKSksXG4gICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgKz0gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgKSk7XG4gICAgICBlbHNlIGlmIChcIm9iamVjdFwiID09PSB0eXBlKSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjaGlsZHJlbi50aGVuKVxuICAgICAgICAgIHJldHVybiBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICByZXNvbHZlVGhlbmFibGUoY2hpbGRyZW4pLFxuICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICApO1xuICAgICAgICBhcnJheSA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiBcIiArXG4gICAgICAgICAgICAoXCJbb2JqZWN0IE9iamVjdF1cIiA9PT0gYXJyYXlcbiAgICAgICAgICAgICAgPyBcIm9iamVjdCB3aXRoIGtleXMge1wiICsgT2JqZWN0LmtleXMoY2hpbGRyZW4pLmpvaW4oXCIsIFwiKSArIFwifVwiXG4gICAgICAgICAgICAgIDogYXJyYXkpICtcbiAgICAgICAgICAgIFwiKS4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSBpbnN0ZWFkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jLCBjb250ZXh0KSB7XG4gICAgICBpZiAobnVsbCA9PSBjaGlsZHJlbikgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICBjb3VudCA9IDA7XG4gICAgICBtYXBJbnRvQXJyYXkoY2hpbGRyZW4sIHJlc3VsdCwgXCJcIiwgXCJcIiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGNvdW50KyspO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBsYXp5SW5pdGlhbGl6ZXIocGF5bG9hZCkge1xuICAgICAgaWYgKC0xID09PSBwYXlsb2FkLl9zdGF0dXMpIHtcbiAgICAgICAgdmFyIGlvSW5mbyA9IHBheWxvYWQuX2lvSW5mbztcbiAgICAgICAgbnVsbCAhPSBpb0luZm8gJiYgKGlvSW5mby5zdGFydCA9IGlvSW5mby5lbmQgPSBwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIGlvSW5mbyA9IHBheWxvYWQuX3Jlc3VsdDtcbiAgICAgICAgdmFyIHRoZW5hYmxlID0gaW9JbmZvKCk7XG4gICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKG1vZHVsZU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHBheWxvYWQuX3N0YXR1cyA9IDE7XG4gICAgICAgICAgICAgIHBheWxvYWQuX3Jlc3VsdCA9IG1vZHVsZU9iamVjdDtcbiAgICAgICAgICAgICAgdmFyIF9pb0luZm8gPSBwYXlsb2FkLl9pb0luZm87XG4gICAgICAgICAgICAgIG51bGwgIT0gX2lvSW5mbyAmJiAoX2lvSW5mby5lbmQgPSBwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgICAgICAgIHZvaWQgMCA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKSxcbiAgICAgICAgICAgICAgICAodGhlbmFibGUudmFsdWUgPSBtb2R1bGVPYmplY3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHBheWxvYWQuX3N0YXR1cyA9IDI7XG4gICAgICAgICAgICAgIHBheWxvYWQuX3Jlc3VsdCA9IGVycm9yO1xuICAgICAgICAgICAgICB2YXIgX2lvSW5mbzIgPSBwYXlsb2FkLl9pb0luZm87XG4gICAgICAgICAgICAgIG51bGwgIT0gX2lvSW5mbzIgJiYgKF9pb0luZm8yLmVuZCA9IHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICAgICAgdm9pZCAwID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksICh0aGVuYWJsZS5yZWFzb24gPSBlcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaW9JbmZvID0gcGF5bG9hZC5faW9JbmZvO1xuICAgICAgICBpZiAobnVsbCAhPSBpb0luZm8pIHtcbiAgICAgICAgICBpb0luZm8udmFsdWUgPSB0aGVuYWJsZTtcbiAgICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSB0aGVuYWJsZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZGlzcGxheU5hbWUgJiYgKGlvSW5mby5uYW1lID0gZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIC0xID09PSBwYXlsb2FkLl9zdGF0dXMgJiZcbiAgICAgICAgICAoKHBheWxvYWQuX3N0YXR1cyA9IDApLCAocGF5bG9hZC5fcmVzdWx0ID0gdGhlbmFibGUpKTtcbiAgICAgIH1cbiAgICAgIGlmICgxID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGlvSW5mbyA9IHBheWxvYWQuX3Jlc3VsdCksXG4gICAgICAgICAgdm9pZCAwID09PSBpb0luZm8gJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwibGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wb3J0KCkgY2FsbC4gSW5zdGVhZCByZWNlaXZlZDogJXNcXG5cXG5Zb3VyIGNvZGUgc2hvdWxkIGxvb2sgbGlrZTogXFxuICBjb25zdCBNeUNvbXBvbmVudCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL015Q29tcG9uZW50JykpXFxuXFxuRGlkIHlvdSBhY2NpZGVudGFsbHkgcHV0IGN1cmx5IGJyYWNlcyBhcm91bmQgdGhlIGltcG9ydD9cIixcbiAgICAgICAgICAgICAgaW9JbmZvXG4gICAgICAgICAgICApLFxuICAgICAgICAgIFwiZGVmYXVsdFwiIGluIGlvSW5mbyB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcIixcbiAgICAgICAgICAgICAgaW9JbmZvXG4gICAgICAgICAgICApLFxuICAgICAgICAgIGlvSW5mby5kZWZhdWx0XG4gICAgICAgICk7XG4gICAgICB0aHJvdyBwYXlsb2FkLl9yZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgbnVsbCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVsZWFzZUFzeW5jVHJhbnNpdGlvbigpIHtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFzeW5jVHJhbnNpdGlvbnMtLTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVRhc2sodGFzaykge1xuICAgICAgaWYgKG51bGwgPT09IGVucXVldWVUYXNrSW1wbClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmVxdWlyZVN0cmluZyA9IChcInJlcXVpcmVcIiArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDAsIDcpO1xuICAgICAgICAgIGVucXVldWVUYXNrSW1wbCA9IChtb2R1bGUgJiYgbW9kdWxlW3JlcXVpcmVTdHJpbmddKS5jYWxsKFxuICAgICAgICAgICAgbW9kdWxlLFxuICAgICAgICAgICAgXCJ0aW1lcnNcIlxuICAgICAgICAgICkuc2V0SW1tZWRpYXRlO1xuICAgICAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAhMSA9PT0gZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICEwKSxcbiAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVGhpcyBicm93c2VyIGRvZXMgbm90IGhhdmUgYSBNZXNzYWdlQ2hhbm5lbCBpbXBsZW1lbnRhdGlvbiwgc28gZW5xdWV1aW5nIHRhc2tzIHZpYSBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aWxsIGZhaWwuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMgaWYgeW91IGVuY291bnRlciB0aGlzIHdhcm5pbmcuXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSh2b2lkIDApO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBlbnF1ZXVlVGFza0ltcGwodGFzayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFnZ3JlZ2F0ZUVycm9ycyhlcnJvcnMpIHtcbiAgICAgIHJldHVybiAxIDwgZXJyb3JzLmxlbmd0aCAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBBZ2dyZWdhdGVFcnJvclxuICAgICAgICA/IG5ldyBBZ2dyZWdhdGVFcnJvcihlcnJvcnMpXG4gICAgICAgIDogZXJyb3JzWzBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKSB7XG4gICAgICBwcmV2QWN0U2NvcGVEZXB0aCAhPT0gYWN0U2NvcGVEZXB0aCAtIDEgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIllvdSBzZWVtIHRvIGhhdmUgb3ZlcmxhcHBpbmcgYWN0KCkgY2FsbHMsIHRoaXMgaXMgbm90IHN1cHBvcnRlZC4gQmUgc3VyZSB0byBhd2FpdCBwcmV2aW91cyBhY3QoKSBjYWxscyBiZWZvcmUgbWFraW5nIGEgbmV3IG9uZS4gXCJcbiAgICAgICAgKTtcbiAgICAgIGFjdFNjb3BlRGVwdGggPSBwcmV2QWN0U2NvcGVEZXB0aDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhyZXR1cm5WYWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZTtcbiAgICAgIGlmIChudWxsICE9PSBxdWV1ZSlcbiAgICAgICAgaWYgKDAgIT09IHF1ZXVlLmxlbmd0aClcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSk7XG4gICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBudWxsO1xuICAgICAgMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGhcbiAgICAgICAgPyAoKHF1ZXVlID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgcmVqZWN0KHF1ZXVlKSlcbiAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hBY3RRdWV1ZShxdWV1ZSkge1xuICAgICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICAgIGlzRmx1c2hpbmcgPSAhMDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlID0gITE7XG4gICAgICAgICAgICAgIHZhciBjb250aW51YXRpb24gPSBjYWxsYmFjayghMSk7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9PSBjb250aW51YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuZGlkVXNlUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgcXVldWVbaV0gPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjb250aW51YXRpb247XG4gICAgICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpICsgMSksIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpc0ZsdXNoaW5nID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLFxuICAgICAgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9BQ1RJVklUWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmFjdGl2aXR5XCIpLFxuICAgICAgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gU3ltYm9sLml0ZXJhdG9yLFxuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge30sXG4gICAgICBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJyZXBsYWNlU3RhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwic2V0U3RhdGVcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuICAgICAgZW1wdHlPYmplY3QgPSB7fTtcbiAgICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBwYXJ0aWFsU3RhdGUgJiZcbiAgICAgICAgbnVsbCAhPSBwYXJ0aWFsU3RhdGVcbiAgICAgIClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJ0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy5cIlxuICAgICAgICApO1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrLCBcInNldFN0YXRlXCIpO1xuICAgIH07XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLCBjYWxsYmFjaywgXCJmb3JjZVVwZGF0ZVwiKTtcbiAgICB9O1xuICAgIHZhciBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICAgIGlzTW91bnRlZDogW1xuICAgICAgICBcImlzTW91bnRlZFwiLFxuICAgICAgICBcIkluc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluIGNvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLlwiXG4gICAgICBdLFxuICAgICAgcmVwbGFjZVN0YXRlOiBbXG4gICAgICAgIFwicmVwbGFjZVN0YXRlXCIsXG4gICAgICAgIFwiUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS5cIlxuICAgICAgXVxuICAgIH07XG4gICAgZm9yIChmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpXG4gICAgICBkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpICYmXG4gICAgICAgIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhmbk5hbWUsIGRlcHJlY2F0ZWRBUElzW2ZuTmFtZV0pO1xuICAgIENvbXBvbmVudER1bW15LnByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG4gICAgZGVwcmVjYXRlZEFQSXMgPSBQdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnREdW1teSgpO1xuICAgIGRlcHJlY2F0ZWRBUElzLmNvbnN0cnVjdG9yID0gUHVyZUNvbXBvbmVudDtcbiAgICBhc3NpZ24oZGVwcmVjYXRlZEFQSXMsIENvbXBvbmVudC5wcm90b3R5cGUpO1xuICAgIGRlcHJlY2F0ZWRBUElzLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gITA7XG4gICAgdmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0ge1xuICAgICAgICBIOiBudWxsLFxuICAgICAgICBBOiBudWxsLFxuICAgICAgICBUOiBudWxsLFxuICAgICAgICBTOiBudWxsLFxuICAgICAgICBhY3RRdWV1ZTogbnVsbCxcbiAgICAgICAgYXN5bmNUcmFuc2l0aW9uczogMCxcbiAgICAgICAgaXNCYXRjaGluZ0xlZ2FjeTogITEsXG4gICAgICAgIGRpZFNjaGVkdWxlTGVnYWN5VXBkYXRlOiAhMSxcbiAgICAgICAgZGlkVXNlUHJvbWlzZTogITEsXG4gICAgICAgIHRocm93bkVycm9yczogW10sXG4gICAgICAgIGdldEN1cnJlbnRTdGFjazogbnVsbCxcbiAgICAgICAgcmVjZW50bHlDcmVhdGVkT3duZXJTdGFja3M6IDBcbiAgICAgIH0sXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBjcmVhdGVUYXNrID0gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgID8gY29uc29sZS5jcmVhdGVUYXNrXG4gICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICAgIHJlYWN0X3N0YWNrX2JvdHRvbV9mcmFtZTogZnVuY3Rpb24gKGNhbGxTdGFja0ZvckVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsU3RhY2tGb3JFcnJvcigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLCBkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIHVua25vd25Pd25lckRlYnVnU3RhY2sgPSBkZXByZWNhdGVkQVBJcy5yZWFjdF9zdGFja19ib3R0b21fZnJhbWUuYmluZChcbiAgICAgIGRlcHJlY2F0ZWRBUElzLFxuICAgICAgVW5rbm93bk93bmVyXG4gICAgKSgpO1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1Rhc2sgPSBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKFVua25vd25Pd25lcikpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRNYXBzID0gITEsXG4gICAgICB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2csXG4gICAgICByZXBvcnRHbG9iYWxFcnJvciA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlcG9ydEVycm9yXG4gICAgICAgICAgPyByZXBvcnRFcnJvclxuICAgICAgICAgIDogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygd2luZG93ICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygd2luZG93LkVycm9yRXZlbnRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IHdpbmRvdy5FcnJvckV2ZW50KFwiZXJyb3JcIiwge1xuICAgICAgICAgICAgICAgICAgYnViYmxlczogITAsXG4gICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgID8gU3RyaW5nKGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCkpIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvY2VzcyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByb2Nlc3MuZW1pdFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgIGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITEsXG4gICAgICBlbnF1ZXVlVGFza0ltcGwgPSBudWxsLFxuICAgICAgYWN0U2NvcGVEZXB0aCA9IDAsXG4gICAgICBkaWRXYXJuTm9Bd2FpdEFjdCA9ICExLFxuICAgICAgaXNGbHVzaGluZyA9ICExLFxuICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHF1ZXVlTWljcm90YXNrXG4gICAgICAgICAgPyBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZU1pY3JvdGFzayhjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDogZW5xdWV1ZVRhc2s7XG4gICAgZGVwcmVjYXRlZEFQSXMgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICAgIGM6IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZU1lbW9DYWNoZShzaXplKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgZm5OYW1lID0ge1xuICAgICAgbWFwOiBtYXBDaGlsZHJlbixcbiAgICAgIGZvckVhY2g6IGZ1bmN0aW9uIChjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gICAgICAgIG1hcENoaWxkcmVuKFxuICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvckVhY2hGdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3JFYWNoQ29udGV4dFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGNvdW50OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfSxcbiAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICB9KSB8fCBbXVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIG9ubHk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QuQ2hpbGRyZW4ub25seSBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFJlYWN0IGVsZW1lbnQgY2hpbGQuXCJcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLkFjdGl2aXR5ID0gUkVBQ1RfQUNUSVZJVFlfVFlQRTtcbiAgICBleHBvcnRzLkNoaWxkcmVuID0gZm5OYW1lO1xuICAgIGV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIGV4cG9ydHMuUHVyZUNvbXBvbmVudCA9IFB1cmVDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5TdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICBleHBvcnRzLlN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgICBleHBvcnRzLl9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSA9XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscztcbiAgICBleHBvcnRzLl9fQ09NUElMRVJfUlVOVElNRSA9IGRlcHJlY2F0ZWRBUElzO1xuICAgIGV4cG9ydHMuYWN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcHJldkFjdFF1ZXVlID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUsXG4gICAgICAgIHByZXZBY3RTY29wZURlcHRoID0gYWN0U2NvcGVEZXB0aDtcbiAgICAgIGFjdFNjb3BlRGVwdGgrKztcbiAgICAgIHZhciBxdWV1ZSA9IChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9XG4gICAgICAgICAgbnVsbCAhPT0gcHJldkFjdFF1ZXVlID8gcHJldkFjdFF1ZXVlIDogW10pLFxuICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpLFxuICAgICAgICAgIChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSByZXN1bHQgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJlc3VsdCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXN1bHQudGhlblxuICAgICAgKSB7XG4gICAgICAgIHZhciB0aGVuYWJsZSA9IHJlc3VsdDtcbiAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZGlkQXdhaXRBY3RDYWxsIHx8XG4gICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGNhbGxlZCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aXRob3V0IGF3YWl0LiBUaGlzIGNvdWxkIGxlYWQgdG8gdW5leHBlY3RlZCB0ZXN0aW5nIGJlaGF2aW91ciwgaW50ZXJsZWF2aW5nIG11bHRpcGxlIGFjdCBjYWxscyBhbmQgbWl4aW5nIHRoZWlyIHNjb3Blcy4gWW91IHNob3VsZCAtIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pO1wiXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITA7XG4gICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICBmdW5jdGlvbiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAgICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IkMCkge1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvciQwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3Rocm93bkVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KF90aHJvd25FcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgPyAoKGVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKSlcbiAgICAgICAgICAgICAgICAgIDogcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgcmV0dXJuVmFsdWUkanNjb21wJDAgPSByZXN1bHQ7XG4gICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoICYmXG4gICAgICAgIChmbHVzaEFjdFF1ZXVlKHF1ZXVlKSxcbiAgICAgICAgMCAhPT0gcXVldWUubGVuZ3RoICYmXG4gICAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgfHxcbiAgICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IHN1c3BlbmRlZCBpbnNpZGUgYW4gYGFjdGAgc2NvcGUsIGJ1dCB0aGUgYGFjdGAgY2FsbCB3YXMgbm90IGF3YWl0ZWQuIFdoZW4gdGVzdGluZyBSZWFjdCBjb21wb25lbnRzIHRoYXQgZGVwZW5kIG9uIGFzeW5jaHJvbm91cyBkYXRhLCB5b3UgbXVzdCBhd2FpdCB0aGUgcmVzdWx0OlxcblxcbmF3YWl0IGFjdCgoKSA9PiAuLi4pXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfSksXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGwpKTtcbiAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICgoY2FsbGJhY2sgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICBjYWxsYmFjaylcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAwID09PSBwcmV2QWN0U2NvcGVEZXB0aFxuICAgICAgICAgICAgPyAoKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gcXVldWUpLFxuICAgICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIDogcmVzb2x2ZShyZXR1cm5WYWx1ZSRqc2NvbXAkMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNhY2hlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNhY2hlU2lnbmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBleHBvcnRzLmNhcHR1cmVPd25lclN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjaztcbiAgICAgIHJldHVybiBudWxsID09PSBnZXRDdXJyZW50U3RhY2sgPyBudWxsIDogZ2V0Q3VycmVudFN0YWNrKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLmNsb25lRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZWxlbWVudCB8fCB2b2lkIDAgPT09IGVsZW1lbnQpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiVGhlIGFyZ3VtZW50IG11c3QgYmUgYSBSZWFjdCBlbGVtZW50LCBidXQgeW91IHBhc3NlZCBcIiArXG4gICAgICAgICAgICBlbGVtZW50ICtcbiAgICAgICAgICAgIFwiLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgcHJvcHMgPSBhc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpLFxuICAgICAgICBrZXkgPSBlbGVtZW50LmtleSxcbiAgICAgICAgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZykge1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgICBhOiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwicmVmXCIpICYmXG4gICAgICAgICAgICAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgICBcInJlZlwiXG4gICAgICAgICAgICApLmdldCkgJiZcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5pc1JlYWN0V2FybmluZ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSB2b2lkIDAgIT09IGNvbmZpZy5yZWY7XG4gICAgICAgIH1cbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ICYmIChvd25lciA9IGdldE93bmVyKCkpO1xuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChrZXkgPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICAhaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSB8fFxuICAgICAgICAgICAgXCJrZXlcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zZWxmXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICBcIl9fc291cmNlXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICAoXCJyZWZcIiA9PT0gcHJvcE5hbWUgJiYgdm9pZCAwID09PSBjb25maWcucmVmKSB8fFxuICAgICAgICAgICAgKHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BOYW1lID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gcHJvcE5hbWUpIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBlbHNlIGlmICgxIDwgcHJvcE5hbWUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gQXJyYXkocHJvcE5hbWUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lOyBpKyspXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICB9XG4gICAgICBwcm9wcyA9IFJlYWN0RWxlbWVudChcbiAgICAgICAgZWxlbWVudC50eXBlLFxuICAgICAgICBrZXksXG4gICAgICAgIHByb3BzLFxuICAgICAgICBvd25lcixcbiAgICAgICAgZWxlbWVudC5fZGVidWdTdGFjayxcbiAgICAgICAgZWxlbWVudC5fZGVidWdUYXNrXG4gICAgICApO1xuICAgICAgZm9yIChrZXkgPSAyOyBrZXkgPCBhcmd1bWVudHMubGVuZ3RoOyBrZXkrKylcbiAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2tleV0pO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24gKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgZGVmYXVsdFZhbHVlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgICAgICBfY3VycmVudFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgIF9jdXJyZW50VmFsdWUyOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgIF90aHJlYWRDb3VudDogMCxcbiAgICAgICAgUHJvdmlkZXI6IG51bGwsXG4gICAgICAgIENvbnN1bWVyOiBudWxsXG4gICAgICB9O1xuICAgICAgZGVmYXVsdFZhbHVlLlByb3ZpZGVyID0gZGVmYXVsdFZhbHVlO1xuICAgICAgZGVmYXVsdFZhbHVlLkNvbnN1bWVyID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OU1VNRVJfVFlQRSxcbiAgICAgICAgX2NvbnRleHQ6IGRlZmF1bHRWYWx1ZVxuICAgICAgfTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5fY3VycmVudFJlbmRlcmVyID0gbnVsbDtcbiAgICAgIGRlZmF1bHRWYWx1ZS5fY3VycmVudFJlbmRlcmVyMiA9IG51bGw7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0pO1xuICAgICAgaSA9IHt9O1xuICAgICAgdmFyIGtleSA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgfHxcbiAgICAgICAgICAhKFwiX19zZWxmXCIgaW4gY29uZmlnKSB8fFxuICAgICAgICAgIFwia2V5XCIgaW4gY29uZmlnIHx8XG4gICAgICAgICAgKChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lID0gITApLFxuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiWW91ciBhcHAgKG9yIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzKSBpcyB1c2luZyBhbiBvdXRkYXRlZCBKU1ggdHJhbnNmb3JtLiBVcGRhdGUgdG8gdGhlIG1vZGVybiBKU1ggdHJhbnNmb3JtIGZvciBmYXN0ZXIgcGVyZm9ybWFuY2U6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbmV3LWpzeC10cmFuc2Zvcm1cIlxuICAgICAgICAgICkpLFxuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChrZXkgPSBcIlwiICsgY29uZmlnLmtleSkpLFxuICAgICAgICBjb25maWcpKVxuICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiZcbiAgICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICBcIl9fc2VsZlwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NvdXJjZVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgKGlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBjaGlsZHJlbkxlbmd0aCkgaS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgZWxzZSBpZiAoMSA8IGNoaWxkcmVuTGVuZ3RoKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCksIF9pID0gMDtcbiAgICAgICAgICBfaSA8IGNoaWxkcmVuTGVuZ3RoO1xuICAgICAgICAgIF9pKytcbiAgICAgICAgKVxuICAgICAgICAgIGNoaWxkQXJyYXlbX2ldID0gYXJndW1lbnRzW19pICsgMl07XG4gICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZEFycmF5KTtcbiAgICAgICAgaS5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoKGNoaWxkcmVuTGVuZ3RoID0gdHlwZS5kZWZhdWx0UHJvcHMpLCBjaGlsZHJlbkxlbmd0aCkpXG4gICAgICAgICAgdm9pZCAwID09PSBpW3Byb3BOYW1lXSAmJiAoaVtwcm9wTmFtZV0gPSBjaGlsZHJlbkxlbmd0aFtwcm9wTmFtZV0pO1xuICAgICAga2V5ICYmXG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKFxuICAgICAgICAgIGksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICB2YXIgcHJvcE5hbWUgPSAxZTQgPiBSZWFjdFNoYXJlZEludGVybmFscy5yZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrcysrO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudChcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5LFxuICAgICAgICBpLFxuICAgICAgICBnZXRPd25lcigpLFxuICAgICAgICBwcm9wTmFtZSA/IEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpIDogdW5rbm93bk93bmVyRGVidWdTdGFjayxcbiAgICAgICAgcHJvcE5hbWUgPyBjcmVhdGVUYXNrKGdldFRhc2tOYW1lKHR5cGUpKSA6IHVua25vd25Pd25lckRlYnVnVGFza1xuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlZk9iamVjdCA9IHsgY3VycmVudDogbnVsbCB9O1xuICAgICAgT2JqZWN0LnNlYWwocmVmT2JqZWN0KTtcbiAgICAgIHJldHVybiByZWZPYmplY3Q7XG4gICAgfTtcbiAgICBleHBvcnRzLmZvcndhcmRSZWYgPSBmdW5jdGlvbiAocmVuZGVyKSB7XG4gICAgICBudWxsICE9IHJlbmRlciAmJiByZW5kZXIuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRVxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHJlY2VpdmVkIGEgYG1lbW9gIGNvbXBvbmVudC4gSW5zdGVhZCBvZiBmb3J3YXJkUmVmKG1lbW8oLi4uKSksIHVzZSBtZW1vKGZvcndhcmRSZWYoLi4uKSkuXCJcbiAgICAgICAgICApXG4gICAgICAgIDogXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcmVuZGVyXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHdhcyBnaXZlbiAlcy5cIixcbiAgICAgICAgICAgICAgbnVsbCA9PT0gcmVuZGVyID8gXCJudWxsXCIgOiB0eXBlb2YgcmVuZGVyXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiAwICE9PSByZW5kZXIubGVuZ3RoICYmXG4gICAgICAgICAgICAyICE9PSByZW5kZXIubGVuZ3RoICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBhY2NlcHQgZXhhY3RseSB0d28gcGFyYW1ldGVyczogcHJvcHMgYW5kIHJlZi4gJXNcIixcbiAgICAgICAgICAgICAgMSA9PT0gcmVuZGVyLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gXCJEaWQgeW91IGZvcmdldCB0byB1c2UgdGhlIHJlZiBwYXJhbWV0ZXI/XCJcbiAgICAgICAgICAgICAgICA6IFwiQW55IGFkZGl0aW9uYWwgcGFyYW1ldGVyIHdpbGwgYmUgdW5kZWZpbmVkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgbnVsbCAhPSByZW5kZXIgJiZcbiAgICAgICAgbnVsbCAhPSByZW5kZXIuZGVmYXVsdFByb3BzICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgZG8gbm90IHN1cHBvcnQgZGVmYXVsdFByb3BzLiBEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIGEgUmVhY3QgY29tcG9uZW50P1wiXG4gICAgICAgICk7XG4gICAgICB2YXIgZWxlbWVudFR5cGUgPSB7ICQkdHlwZW9mOiBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFLCByZW5kZXI6IHJlbmRlciB9LFxuICAgICAgICBvd25OYW1lO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnRUeXBlLCBcImRpc3BsYXlOYW1lXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBvd25OYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgb3duTmFtZSA9IG5hbWU7XG4gICAgICAgICAgcmVuZGVyLm5hbWUgfHxcbiAgICAgICAgICAgIHJlbmRlci5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZW5kZXIsIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pLFxuICAgICAgICAgICAgKHJlbmRlci5kaXNwbGF5TmFtZSA9IG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZWxlbWVudFR5cGU7XG4gICAgfTtcbiAgICBleHBvcnRzLmlzVmFsaWRFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQ7XG4gICAgZXhwb3J0cy5sYXp5ID0gZnVuY3Rpb24gKGN0b3IpIHtcbiAgICAgIGN0b3IgPSB7IF9zdGF0dXM6IC0xLCBfcmVzdWx0OiBjdG9yIH07XG4gICAgICB2YXIgbGF6eVR5cGUgPSB7XG4gICAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0xBWllfVFlQRSxcbiAgICAgICAgICBfcGF5bG9hZDogY3RvcixcbiAgICAgICAgICBfaW5pdDogbGF6eUluaXRpYWxpemVyXG4gICAgICAgIH0sXG4gICAgICAgIGlvSW5mbyA9IHtcbiAgICAgICAgICBuYW1lOiBcImxhenlcIixcbiAgICAgICAgICBzdGFydDogLTEsXG4gICAgICAgICAgZW5kOiAtMSxcbiAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICBvd25lcjogbnVsbCxcbiAgICAgICAgICBkZWJ1Z1N0YWNrOiBFcnJvcihcInJlYWN0LXN0YWNrLXRvcC1mcmFtZVwiKSxcbiAgICAgICAgICBkZWJ1Z1Rhc2s6IGNvbnNvbGUuY3JlYXRlVGFzayA/IGNvbnNvbGUuY3JlYXRlVGFzayhcImxhenkoKVwiKSA6IG51bGxcbiAgICAgICAgfTtcbiAgICAgIGN0b3IuX2lvSW5mbyA9IGlvSW5mbztcbiAgICAgIGxhenlUeXBlLl9kZWJ1Z0luZm8gPSBbeyBhd2FpdGVkOiBpb0luZm8gfV07XG4gICAgICByZXR1cm4gbGF6eVR5cGU7XG4gICAgfTtcbiAgICBleHBvcnRzLm1lbW8gPSBmdW5jdGlvbiAodHlwZSwgY29tcGFyZSkge1xuICAgICAgbnVsbCA9PSB0eXBlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJtZW1vOiBUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIGNvbXBvbmVudC4gSW5zdGVhZCByZWNlaXZlZDogJXNcIixcbiAgICAgICAgICBudWxsID09PSB0eXBlID8gXCJudWxsXCIgOiB0eXBlb2YgdHlwZVxuICAgICAgICApO1xuICAgICAgY29tcGFyZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX01FTU9fVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgY29tcGFyZTogdm9pZCAwID09PSBjb21wYXJlID8gbnVsbCA6IGNvbXBhcmVcbiAgICAgIH07XG4gICAgICB2YXIgb3duTmFtZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb21wYXJlLCBcImRpc3BsYXlOYW1lXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBvd25OYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgb3duTmFtZSA9IG5hbWU7XG4gICAgICAgICAgdHlwZS5uYW1lIHx8XG4gICAgICAgICAgICB0eXBlLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pLFxuICAgICAgICAgICAgKHR5cGUuZGlzcGxheU5hbWUgPSBuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbXBhcmU7XG4gICAgfTtcbiAgICBleHBvcnRzLnN0YXJ0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChzY29wZSkge1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgY3VycmVudFRyYW5zaXRpb24gPSB7fTtcbiAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IGN1cnJlbnRUcmFuc2l0aW9uO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gc2NvcGUoKSxcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgICAgIG51bGwgIT09IG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoICYmXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2goY3VycmVudFRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlICYmXG4gICAgICAgICAgbnVsbCAhPT0gcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZS50aGVuICYmXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFzeW5jVHJhbnNpdGlvbnMrKyxcbiAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKHJlbGVhc2VBc3luY1RyYW5zaXRpb24sIHJlbGVhc2VBc3luY1RyYW5zaXRpb24pLFxuICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4obm9vcCwgcmVwb3J0R2xvYmFsRXJyb3IpKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgJiZcbiAgICAgICAgICAoKHNjb3BlID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZSksXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAxMCA8IHNjb3BlICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIG51bGwgIT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50VHJhbnNpdGlvbi50eXBlcyAmJlxuICAgICAgICAgICAgKG51bGwgIT09IHByZXZUcmFuc2l0aW9uLnR5cGVzICYmXG4gICAgICAgICAgICAgIHByZXZUcmFuc2l0aW9uLnR5cGVzICE9PSBjdXJyZW50VHJhbnNpdGlvbi50eXBlcyAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiV2UgZXhwZWN0ZWQgaW5uZXIgVHJhbnNpdGlvbnMgdG8gaGF2ZSB0cmFuc2ZlcnJlZCB0aGUgb3V0ZXIgdHlwZXMgc2V0IGFuZCB0aGF0IHlvdSBjYW5ub3QgYWRkIHRvIHRoZSBvdXRlciBUcmFuc2l0aW9uIHdoaWxlIGluc2lkZSB0aGUgaW5uZXIuVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKHByZXZUcmFuc2l0aW9uLnR5cGVzID0gY3VycmVudFRyYW5zaXRpb24udHlwZXMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfdXNlQ2FjaGVSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQ2FjaGVSZWZyZXNoKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZSA9IGZ1bmN0aW9uICh1c2FibGUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZSh1c2FibGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24sIGluaXRpYWxTdGF0ZSwgcGVybWFsaW5rKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VBY3Rpb25TdGF0ZShcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICBpbml0aWFsU3RhdGUsXG4gICAgICAgIHBlcm1hbGlua1xuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQ29udGV4dCA9IGZ1bmN0aW9uIChDb250ZXh0KSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gICAgICBDb250ZXh0LiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJDYWxsaW5nIHVzZUNvbnRleHQoQ29udGV4dC5Db25zdW1lcikgaXMgbm90IHN1cHBvcnRlZCBhbmQgd2lsbCBjYXVzZSBidWdzLiBEaWQgeW91IG1lYW4gdG8gY2FsbCB1c2VDb250ZXh0KENvbnRleHQpIGluc3RlYWQ/XCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyLnVzZUNvbnRleHQoQ29udGV4dCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZURlYnVnVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdHRlckZuKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbik7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZURlZmVycmVkVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgbnVsbCA9PSBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiUmVhY3QgSG9vayB1c2VFZmZlY3QgcmVxdWlyZXMgYW4gZWZmZWN0IGNhbGxiYWNrLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIGEgY2FsbGJhY2sgdG8gdGhlIGhvb2s/XCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VFZmZlY3RFdmVudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRWZmZWN0RXZlbnQoY2FsbGJhY2spO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUlkKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUltcGVyYXRpdmVIYW5kbGUgPSBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJbnNlcnRpb25FZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICBudWxsID09IGNyZWF0ZSAmJlxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJSZWFjdCBIb29rIHVzZUluc2VydGlvbkVmZmVjdCByZXF1aXJlcyBhbiBlZmZlY3QgY2FsbGJhY2suIERpZCB5b3UgZm9yZ2V0IHRvIHBhc3MgYSBjYWxsYmFjayB0byB0aGUgaG9vaz9cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW5zZXJ0aW9uRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUxheW91dEVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIG51bGwgPT0gY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlJlYWN0IEhvb2sgdXNlTGF5b3V0RWZmZWN0IHJlcXVpcmVzIGFuIGVmZmVjdCBjYWxsYmFjay4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyBhIGNhbGxiYWNrIHRvIHRoZSBob29rP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTWVtbyA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChwYXNzdGhyb3VnaCwgcmVkdWNlcikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVJlZHVjZXIgPSBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVmID0gZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlUmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVN0YXRlID0gZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlU3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmUgPSBmdW5jdGlvbiAoXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBnZXRTbmFwc2hvdCxcbiAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VUcmFuc2l0aW9uKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnZlcnNpb24gPSBcIjE5LjIuM1wiO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsInZhciBTTUFMTF9XT1JEUyA9IC9cXGIoPzphbj9kP3xhW3N0XXxiZWNhdXNlfGJ1dHxieXxlbnxmb3J8aVtmbl18bmVpdGhlcnxub3J8b1tmbnJdfG9ubHl8b3ZlcnxwZXJ8c298c29tZXx0aGFbdG5dfHRoZXx0b3x1cHx1cG9ufHZzP1xcLj98dmVyc3VzfHZpYXx3aGVufHdpdGh8d2l0aG91dHx5ZXQpXFxiL2k7XG52YXIgVE9LRU5TID0gL1teXFxzOuKAk+KAlC1dK3wuL2c7XG52YXIgV0hJVEVTUEFDRSA9IC9cXHMvO1xudmFyIElTX01BTlVBTF9DQVNFID0gLy4oPz1bQS1aXXxcXC4uKS87XG52YXIgQUxQSEFOVU1FUklDX1BBVFRFUk4gPSAvW0EtWmEtejAtOVxcdTAwQzAtXFx1MDBGRl0vO1xuZXhwb3J0IGZ1bmN0aW9uIHRpdGxlQ2FzZShpbnB1dCkge1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIHZhciBtO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIHdoaWxlICgobSA9IFRPS0VOUy5leGVjKGlucHV0KSkgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHRva2VuID0gbVswXSwgaW5kZXggPSBtLmluZGV4O1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIElnbm9yZSBhbHJlYWR5IGNhcGl0YWxpemVkIHdvcmRzLlxuICAgICAgICAhSVNfTUFOVUFMX0NBU0UudGVzdCh0b2tlbikgJiZcbiAgICAgICAgICAgIC8vIElnbm9yZSBzbWFsbCB3b3JkcyBleGNlcHQgYXQgYmVnaW5uaW5nIG9yIGVuZC5cbiAgICAgICAgICAgICghU01BTExfV09SRFMudGVzdCh0b2tlbikgfHxcbiAgICAgICAgICAgICAgICBpbmRleCA9PT0gMCB8fFxuICAgICAgICAgICAgICAgIGluZGV4ICsgdG9rZW4ubGVuZ3RoID09PSBpbnB1dC5sZW5ndGgpICYmXG4gICAgICAgICAgICAvLyBJZ25vcmUgVVJMcy5cbiAgICAgICAgICAgIChpbnB1dC5jaGFyQXQoaW5kZXggKyB0b2tlbi5sZW5ndGgpICE9PSBcIjpcIiB8fFxuICAgICAgICAgICAgICAgIFdISVRFU1BBQ0UudGVzdChpbnB1dC5jaGFyQXQoaW5kZXggKyB0b2tlbi5sZW5ndGggKyAxKSkpKSB7XG4gICAgICAgICAgICAvLyBGaW5kIGFuZCB1cHBlcmNhc2UgZmlyc3Qgd29yZCBjaGFyYWN0ZXIsIHNraXBzIG92ZXIgKm1vZGlmaWVycyouXG4gICAgICAgICAgICByZXN1bHQgKz0gdG9rZW4ucmVwbGFjZShBTFBIQU5VTUVSSUNfUEFUVEVSTiwgZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0udG9VcHBlckNhc2UoKTsgfSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gdG9rZW47XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKipcbiAqIFRoaXMgZmlsZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBmcm9tIGBwcmUtcHVibGlzaC5qc2AuXG4gKiBEbyBub3QgbWFudWFsbHkgZWRpdC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJhcmVhXCI6IHRydWUsXG4gIFwiYmFzZVwiOiB0cnVlLFxuICBcImJyXCI6IHRydWUsXG4gIFwiY29sXCI6IHRydWUsXG4gIFwiZW1iZWRcIjogdHJ1ZSxcbiAgXCJoclwiOiB0cnVlLFxuICBcImltZ1wiOiB0cnVlLFxuICBcImlucHV0XCI6IHRydWUsXG4gIFwibGlua1wiOiB0cnVlLFxuICBcIm1ldGFcIjogdHJ1ZSxcbiAgXCJwYXJhbVwiOiB0cnVlLFxuICBcInNvdXJjZVwiOiB0cnVlLFxuICBcInRyYWNrXCI6IHRydWUsXG4gIFwid2JyXCI6IHRydWVcbn07XG4iLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzW1wiaGVyZS1ub3RpZmljYXRpb25zLWNsaWVudFwiXT10KCk6ZVtcImhlcmUtbm90aWZpY2F0aW9ucy1jbGllbnRcIl09dCgpfSh0aGlzLCgoKT0+KCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKTt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbik7byYmIShcImdldFwiaW4gbz8hdC5fX2VzTW9kdWxlOm8ud3JpdGFibGV8fG8uY29uZmlndXJhYmxlKXx8KG89e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxvKX06ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9biksZVtpXT10W25dfSksbz10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlcImRlZmF1bHRcIj09PW58fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pfHxpKHQsZSxuKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbyhuKDYzNyksdCksbyhuKDE1NSksdCl9LDc6ZT0+e3ZhciB0LG49XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLGk9biYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5hcHBseT9uLmFwcGx5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSx0LG4pfTt0PW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub3duS2V5cz9uLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSl9O3ZhciBvPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWV9O2Z1bmN0aW9uIHIoKXtyLmluaXQuY2FsbCh0aGlzKX1lLmV4cG9ydHM9cixlLmV4cG9ydHMub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXtmdW5jdGlvbiBvKG4pe2UucmVtb3ZlTGlzdGVuZXIodCxyKSxpKG4pfWZ1bmN0aW9uIHIoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlbW92ZUxpc3RlbmVyJiZlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvKSxuKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9ZyhlLHQscix7b25jZTohMH0pLFwiZXJyb3JcIiE9PXQmJmZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbiYmZyhlLFwiZXJyb3JcIix0LHtvbmNlOiEwfSl9KGUsbyl9KSl9LHIuRXZlbnRFbWl0dGVyPXIsci5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsci5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsci5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDA7dmFyIGE9MTA7ZnVuY3Rpb24gcyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIHZvaWQgMD09PWUuX21heExpc3RlbmVycz9yLmRlZmF1bHRNYXhMaXN0ZW5lcnM6ZS5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIGwoZSx0LG4saSl7dmFyIG8scixhLGw7aWYocyhuKSx2b2lkIDA9PT0ocj1lLl9ldmVudHMpPyhyPWUuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLGUuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1yLm5ld0xpc3RlbmVyJiYoZS5lbWl0KFwibmV3TGlzdGVuZXJcIix0LG4ubGlzdGVuZXI/bi5saXN0ZW5lcjpuKSxyPWUuX2V2ZW50cyksYT1yW3RdKSx2b2lkIDA9PT1hKWE9clt0XT1uLCsrZS5fZXZlbnRzQ291bnQ7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E9clt0XT1pP1tuLGFdOlthLG5dOmk/YS51bnNoaWZ0KG4pOmEucHVzaChuKSwobz1jKGUpKT4wJiZhLmxlbmd0aD5vJiYhYS53YXJuZWQpe2Eud2FybmVkPSEwO3ZhciB1PW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrYS5sZW5ndGgrXCIgXCIrU3RyaW5nKHQpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7dS5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsdS5lbWl0dGVyPWUsdS50eXBlPXQsdS5jb3VudD1hLmxlbmd0aCxsPXUsY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4obCl9cmV0dXJuIGV9ZnVuY3Rpb24gdSgpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gZChlLHQsbil7dmFyIGk9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OmUsdHlwZTp0LGxpc3RlbmVyOm59LG89dS5iaW5kKGkpO3JldHVybiBvLmxpc3RlbmVyPW4saS53cmFwRm49byxvfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciBpPWUuX2V2ZW50cztpZih2b2lkIDA9PT1pKXJldHVybltdO3ZhciBvPWlbdF07cmV0dXJuIHZvaWQgMD09PW8/W106XCJmdW5jdGlvblwiPT10eXBlb2Ygbz9uP1tvLmxpc3RlbmVyfHxvXTpbb106bj9mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IEFycmF5KGUubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXT1lW25dLmxpc3RlbmVyfHxlW25dO3JldHVybiB0fShvKTp2KG8sby5sZW5ndGgpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PXQpe3ZhciBuPXRbZV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gMTtpZih2b2lkIDAhPT1uKXJldHVybiBuLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiB2KGUsdCl7Zm9yKHZhciBuPW5ldyBBcnJheSh0KSxpPTA7aTx0OysraSluW2ldPWVbaV07cmV0dXJuIG59ZnVuY3Rpb24gZyhlLHQsbixpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uKWkub25jZT9lLm9uY2UodCxuKTplLm9uKHQsbik7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmFkZEV2ZW50TGlzdGVuZXIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSk7ZS5hZGRFdmVudExpc3RlbmVyKHQsKGZ1bmN0aW9uIG8ocil7aS5vbmNlJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxvKSxuKHIpfSkpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX0sc2V0OmZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fG8oZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrXCIuXCIpO2E9ZX19KSxyLmluaXQ9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50cyE9PU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfSxyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8byhlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LHIucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBjKHRoaXMpfSxyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYXJndW1lbnRzW25dKTt2YXIgbz1cImVycm9yXCI9PT1lLHI9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PXIpbz1vJiZ2b2lkIDA9PT1yLmVycm9yO2Vsc2UgaWYoIW8pcmV0dXJuITE7aWYobyl7dmFyIGE7aWYodC5sZW5ndGg+MCYmKGE9dFswXSksYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dmFyIHM9bmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yLlwiKyhhP1wiIChcIithLm1lc3NhZ2UrXCIpXCI6XCJcIikpO3Rocm93IHMuY29udGV4dD1hLHN9dmFyIGM9cltlXTtpZih2b2lkIDA9PT1jKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGMpaShjLHRoaXMsdCk7ZWxzZXt2YXIgbD1jLmxlbmd0aCx1PXYoYyxsKTtmb3Iobj0wO248bDsrK24paSh1W25dLHRoaXMsdCl9cmV0dXJuITB9LHIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwodGhpcyxlLHQsITEpfSxyLnByb3RvdHlwZS5vbj1yLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbCh0aGlzLGUsdCwhMCl9LHIucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh0KSx0aGlzLm9uKGUsZCh0aGlzLGUsdCkpLHRoaXN9LHIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh0KSx0aGlzLnByZXBlbmRMaXN0ZW5lcihlLGQodGhpcyxlLHQpKSx0aGlzfSxyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLGksbyxyLGE7aWYocyh0KSx2b2lkIDA9PT0oaT10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PShuPWlbZV0pKXJldHVybiB0aGlzO2lmKG49PT10fHxuLmxpc3RlbmVyPT09dCkwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOihkZWxldGUgaVtlXSxpLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsbi5saXN0ZW5lcnx8dCkpO2Vsc2UgaWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil7Zm9yKG89LTEscj1uLmxlbmd0aC0xO3I+PTA7ci0tKWlmKG5bcl09PT10fHxuW3JdLmxpc3RlbmVyPT09dCl7YT1uW3JdLmxpc3RlbmVyLG89cjticmVha31pZihvPDApcmV0dXJuIHRoaXM7MD09PW8/bi5zaGlmdCgpOmZ1bmN0aW9uKGUsdCl7Zm9yKDt0KzE8ZS5sZW5ndGg7dCsrKWVbdF09ZVt0KzFdO2UucG9wKCl9KG4sbyksMT09PW4ubGVuZ3RoJiYoaVtlXT1uWzBdKSx2b2lkIDAhPT1pLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsYXx8dCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLm9mZj1yLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2lmKHZvaWQgMD09PShuPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09bi5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOnZvaWQgMCE9PW5bZV0mJigwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSBuW2VdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbyxyPU9iamVjdC5rZXlzKG4pO2ZvcihpPTA7aTxyLmxlbmd0aDsrK2kpXCJyZW1vdmVMaXN0ZW5lclwiIT09KG89cltpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKG8pO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZihcImZ1bmN0aW9uXCI9PXR5cGVvZih0PW5bZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0KTtlbHNlIGlmKHZvaWQgMCE9PXQpZm9yKGk9dC5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdFtpXSk7cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gZih0aGlzLGUsITApfSxyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGYodGhpcyxlLCExKX0sci5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5saXN0ZW5lckNvdW50P2UubGlzdGVuZXJDb3VudCh0KTpwLmNhbGwoZSx0KX0sci5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1wLHIucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD90KHRoaXMuX2V2ZW50cyk6W119fSwzNjooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Mb2c9dm9pZCAwO2NvbnN0IGk9bigzMjkpO2NsYXNzIG97c3RhdGljIGFzeW5jIGVycm9yKGUpe3RyeXtjb25zdCB0PW8uZ2V0UHJlZml4ZWRNZXNzYWdlKGUpO2NvbnNvbGUuZXJyb3IodCksYXdhaXQgaS5maW5Db250ZXh0LlN5c3RlbS5sb2coXCJlcnJvclwiLHQpfWNhdGNoKGUpe28uaGFuZGxlRXJyb3IoZSxcIkZhaWxlZCB0byBsb2cgZXJyb3JcIil9fXN0YXRpYyBhc3luYyB3YXJuKGUpe3RyeXtjb25zdCB0PW8uZ2V0UHJlZml4ZWRNZXNzYWdlKGUpO2NvbnNvbGUud2Fybih0KSxhd2FpdCBpLmZpbkNvbnRleHQuU3lzdGVtLmxvZyhcIndhcm5pbmdcIix0KX1jYXRjaChlKXtvLmhhbmRsZUVycm9yKGUsXCJGYWlsZWQgdG8gbG9nIHdhcm5pbmdcIil9fXN0YXRpYyBhc3luYyBpbmZvKGUpe3RyeXtjb25zdCB0PW8uZ2V0UHJlZml4ZWRNZXNzYWdlKGUpO2NvbnNvbGUuaW5mbyh0KSxhd2FpdCBpLmZpbkNvbnRleHQuU3lzdGVtLmxvZyhcImluZm9cIix0KX1jYXRjaChlKXtvLmhhbmRsZUVycm9yKGUsXCJGYWlsZWQgdG8gbG9nIGluZm9cIil9fXN0YXRpYyBnZXRQcmVmaXhlZE1lc3NhZ2UoZSl7cmV0dXJuYCR7by5MT0dfUFJFRklYfSAke2V9YH1zdGF0aWMgaGFuZGxlRXJyb3IoZSx0KXtlIGluc3RhbmNlb2YgRXJyb3I/Y29uc29sZS5lcnJvcihgJHt0fSAtICR7ZS5uYW1lfTogJHtlLm1lc3NhZ2V9YCk6Y29uc29sZS5lcnJvcihgJHt0fSAtICR7SlNPTi5zdHJpbmdpZnkoZSl9YCl9fXQuTG9nPW8sby5MT0dfUFJFRklYPVwiW0BvcGVuZmluL25vdGlmaWNhdGlvbnNdXCJ9LDg5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5EZWZlcnJlZFByb21pc2U9Y2xhc3N7Y29uc3RydWN0b3IoKXtjb25zdCBlPW5ldyBQcm9taXNlKCgoZSx0KT0+e3RoaXMuX3Jlc29sdmU9ZSx0aGlzLl9yZWplY3Q9dH0pKTt0aGlzLl9wcm9taXNlPWV9Z2V0IHByb21pc2UoKXtyZXR1cm4gdGhpcy5fcHJvbWlzZX1nZXQgcmVzb2x2ZSgpe3JldHVybiB0aGlzLl9yZXNvbHZlfWdldCByZWplY3QoKXtyZXR1cm4gdGhpcy5fcmVqZWN0fX19LDkzOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDk2OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDEzNDooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSwxNTU6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LldpZGdldFR5cGU9dC5UaW1lV2lkZ2V0VHlwZT10LkRhdGVXaWRnZXRUeXBlPXQuUmFkaW9Hcm91cFdpZGdldFR5cGU9dC5DaGVja2JveEdyb3VwV2lkZ2V0VHlwZT10LkJvb2xlYW5XaWRnZXRUeXBlPXQuTnVtYmVyV2lkZ2V0VHlwZT10LlN0cmluZ1dpZGdldFR5cGU9dm9pZCAwLHQuU3RyaW5nV2lkZ2V0VHlwZT17VGV4dDpcIlRleHRcIixEcm9wZG93bjpcIkRyb3Bkb3duXCJ9LHQuTnVtYmVyV2lkZ2V0VHlwZT17TnVtYmVyOlwiTnVtYmVyXCJ9LHQuQm9vbGVhbldpZGdldFR5cGU9e1RvZ2dsZTpcIlRvZ2dsZVwiLENoZWNrYm94OlwiQ2hlY2tib3hcIn0sdC5DaGVja2JveEdyb3VwV2lkZ2V0VHlwZT17Q2hlY2tib3hHcm91cDpcIkNoZWNrYm94R3JvdXBcIn0sdC5SYWRpb0dyb3VwV2lkZ2V0VHlwZT17UmFkaW9Hcm91cDpcIlJhZGlvR3JvdXBcIn0sdC5EYXRlV2lkZ2V0VHlwZT17RGF0ZTpcIkRhdGVcIn0sdC5UaW1lV2lkZ2V0VHlwZT17VGltZTpcIlRpbWVcIn0sdC5XaWRnZXRUeXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdC5TdHJpbmdXaWRnZXRUeXBlKSx0Lk51bWJlcldpZGdldFR5cGUpLHQuQm9vbGVhbldpZGdldFR5cGUpLHQuQ2hlY2tib3hHcm91cFdpZGdldFR5cGUpLHQuUmFkaW9Hcm91cFdpZGdldFR5cGUpLHQuRGF0ZVdpZGdldFR5cGUpLHQuVGltZVdpZGdldFR5cGUpfSwxNTg6KGUsdCk9Pnt2YXIgbjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkFjdGlvbkJvZHlDbGlja1R5cGU9dC5BY3Rpb25Ob29wVHlwZT10LkFjdGlvblRyaWdnZXI9dm9pZCAwLChuPXQuQWN0aW9uVHJpZ2dlcnx8KHQuQWN0aW9uVHJpZ2dlcj17fSkpLkNPTlRST0w9XCJjb250cm9sXCIsbi5TRUxFQ1Q9XCJzZWxlY3RcIixuLkNMT1NFPVwiY2xvc2VcIixuLkVYUElSRT1cImV4cGlyZVwiLG4uUFJPR1JBTU1BVElDPVwicHJvZ3JhbW1hdGljXCIsKHQuQWN0aW9uTm9vcFR5cGV8fCh0LkFjdGlvbk5vb3BUeXBlPXt9KSkuRVZFTlRfRElTTUlTUz1cImV2ZW50X2Rpc21pc3NcIiwodC5BY3Rpb25Cb2R5Q2xpY2tUeXBlfHwodC5BY3Rpb25Cb2R5Q2xpY2tUeXBlPXt9KSkuRElTTUlTU19FVkVOVD1cImRpc21pc3NfZXZlbnRcIn0sMTY2OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbm5lY3RBc0V4dGVybmFsQ2xpZW50PXQuZXh0ZXJuYWxEaXNwYXRjaE1ldGhvZD12b2lkIDA7Y29uc3QgaT1uKDQ3MSk7bGV0IG87dC5leHRlcm5hbERpc3BhdGNoTWV0aG9kPWFzeW5jKGUsdCk9PntpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgY29ubmVjdGVkIHRvIHRoZSBub3RpZmljYXRpb24gY2VudGVyLiBEaWQgeW91IGNhbGwgY29ubmVjdFRvTm90aWZpY2F0aW9ucygpPy5cIik7cmV0dXJuIG8uZGlzcGF0Y2goZSx0KX0sdC5jb25uZWN0QXNFeHRlcm5hbENsaWVudD1hc3luYyBmdW5jdGlvbihlKXtjb25zdHtleHRlcm5hbFByb3ZpZGVyQ29uZmlnOnR9PWUsbj17aWQ6dC5pZCx0aXRsZTp0LnRpdGxlLGljb246dC5pY29ufTtjb25zb2xlLmxvZyhcIkNvbm5lY3RpbmcgdG8gdGhlIE5vdGlmaWNhdGlvbiBDZW50ZXIuLi5cIiksbz1hd2FpdCB0LmZpbkNvbnRleHQuSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QodC5zZXJ2aWNlSWQse3dhaXQ6ITAscGF5bG9hZDp7dmVyc2lvbjpcIjIuMTQuMC1hbHBoYS00NDYzXCIscHJvdmlkZXJJbmZvOm59fSksY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gdGhlIE5vdGlmaWNhdGlvbiBDZW50ZXIuXCIpO2NvbnN0IHI9KDAsaS5nZXRFdmVudFJvdXRlcikoKTtvLnNldERlZmF1bHRBY3Rpb24oKCgpPT4hMSkpLG8ucmVnaXN0ZXIoXCJXQVJOXCIsKGU9PmNvbnNvbGUud2FybihlKSkpLG8ucmVnaXN0ZXIoXCJldmVudFwiLChlPT57ci5kaXNwYXRjaEV2ZW50KGUpfSkpLG8ub25EaXNjb25uZWN0aW9uKCgoKT0+e2NvbnNvbGUud2FybihcIkRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBOb3RpZmljYXRpb24gQ2VudGVyXCIpLG89bnVsbCxzZXRUaW1lb3V0KCgoKT0+e2NvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0byByZWNvbm5lY3QgdG8gdGhlIE5vdGlmaWNhdGlvbiBDZW50ZXJcIiksZS5yZXRyeShlKX0pLDMwMCl9KSl9fSwyMTc6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXNDb25uZWN0ZWRUb0F0TGVhc3Q9dC5nZXRTdGF0dXM9dm9pZCAwO2NvbnN0IG89aShuKDY2NykpLHI9big3ODUpLGE9big5MDIpLHM9bigzNDkpO2Z1bmN0aW9uIGMoKXtyZXR1cm4oMCxyLndpdGhTdHJpY3RUaW1lb3V0KSg1MDAsKDAsYS50cnlTZXJ2aWNlRGlzcGF0Y2gpKHMuQVBJVG9waWMuR0VUX1BST1ZJREVSX1NUQVRVUyx2b2lkIDApLFwiXCIpLmNhdGNoKCgoKT0+KHtjb25uZWN0ZWQ6ITEsdmVyc2lvbjpudWxsLHRlbXBsYXRlQVBJVmVyc2lvbjpudWxsfSkpKX10LmdldFN0YXR1cz1jLHQuaXNDb25uZWN0ZWRUb0F0TGVhc3Q9YXN5bmMgZnVuY3Rpb24oZSl7Y29uc3QgdD1hd2FpdCBjKCk7aWYodC5jb25uZWN0ZWQmJm51bGwhPT10LnZlcnNpb24pe2NvbnN0IG49KDAsby5kZWZhdWx0KSh0LnZlcnNpb24sZSk7aWYoMD09PW58fDE9PT1uKXJldHVybiEwfXJldHVybiExfX0sMzEyOihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmV4dHJhY3RDb25maWdGcm9tTWFuaWZlc3Q9dm9pZCAwO2NvbnN0IGk9bigzNik7dC5leHRyYWN0Q29uZmlnRnJvbU1hbmlmZXN0PWFzeW5jIGZ1bmN0aW9uKCl7dHJ5e2NvbnN0IGU9YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0TWFuaWZlc3QoKTtpZighKG51bGw9PWU/dm9pZCAwOmUubm90aWZpY2F0aW9ucykpcmV0dXJuO2NvbnN0e2N1c3RvbU1hbmlmZXN0OnQscm91dGluZ09wdGlvbnM6bn09ZS5ub3RpZmljYXRpb25zO3JldHVybihudWxsPT1uP3ZvaWQgMDpuLnJvdXRlckNoYW5uZWxOYW1lKT8oaS5Mb2cuaW5mbyhcIlJvdXRpbmcgb3B0aW9uIGRldGVjdGVkIGluIG1hbmlmZXN0LiBVc2luZyByb3V0ZXIgY29uZmlndXJhdGlvbi5cIikse3JvdXRpbmdPcHRpb25zOm59KTooaS5Mb2cuaW5mbyhcIkN1c3RvbSBtYW5pZmVzdCBvcHRpb24gZGV0ZWN0ZWQgaW4gbWFuaWZlc3QuIFVzaW5nIGN1c3RvbSBtYW5pZmVzdCBjb25maWd1cmF0aW9uLlwiKSx7Y3VzdG9tTWFuaWZlc3Q6dH0pfWNhdGNoKGUpe3JldHVybn19fSwzMjk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnNldEZpbkNvbnRleHQ9dC5maW5Db250ZXh0PXZvaWQgMCx0LnNldEZpbkNvbnRleHQ9ZT0+e3QuZmluQ29udGV4dD1lfX0sMzQ5OihlLHQpPT57dmFyIG47T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5ldmVudFR5cGVzPXQuQVBJVG9waWM9dC5nZXRDaGFubmVsTmFtZT10LlNFUlZJQ0VfQ0hBTk5FTD10LlNFUlZJQ0VfSURFTlRJVFk9dm9pZCAwLHQuU0VSVklDRV9JREVOVElUWT17dXVpZDpcIm5vdGlmaWNhdGlvbnMtc2VydmljZVwiLG5hbWU6XCJub3RpZmljYXRpb25zLXNlcnZpY2VcIn0sdC5TRVJWSUNFX0NIQU5ORUw9XCJvZi1ub3RpZmljYXRpb25zLXNlcnZpY2UtdjFcIix0LmdldENoYW5uZWxOYW1lPWU9PmU9PT10LlNFUlZJQ0VfSURFTlRJVFkudXVpZD90LlNFUlZJQ0VfQ0hBTk5FTDpgJHtlfS0ke3QuU0VSVklDRV9DSEFOTkVMfWAsKG49dC5BUElUb3BpY3x8KHQuQVBJVG9waWM9e30pKS5DUkVBVEVfTk9USUZJQ0FUSU9OPVwiY3JlYXRlLW5vdGlmaWNhdGlvblwiLG4uVVBEQVRFX05PVElGSUNBVElPTj1cInVwZGF0ZS1ub3RpZmljYXRpb25cIixuLkNMRUFSX05PVElGSUNBVElPTj1cImNsZWFyLW5vdGlmaWNhdGlvblwiLG4uU0VUX1JFTUlOREVSPVwic2V0LXJlbWluZGVyXCIsbi5DQU5DRUxfUkVNSU5ERVI9XCJjYW5jZWwtcmVtaW5kZXJcIixuLkdFVF9BUFBfTk9USUZJQ0FUSU9OUz1cImZldGNoLWFwcC1ub3RpZmljYXRpb25zXCIsbi5DTEVBUl9BUFBfTk9USUZJQ0FUSU9OUz1cImNsZWFyLWFwcC1ub3RpZmljYXRpb25zXCIsbi5UT0dHTEVfTk9USUZJQ0FUSU9OX0NFTlRFUj1cInRvZ2dsZS1ub3RpZmljYXRpb24tY2VudGVyXCIsbi5BRERfRVZFTlRfTElTVEVORVI9XCJhZGQtZXZlbnQtbGlzdGVuZXJcIixuLlJFTU9WRV9FVkVOVF9MSVNURU5FUj1cInJlbW92ZS1ldmVudC1saXN0ZW5lclwiLG4uR0VUX1BST1ZJREVSX1NUQVRVUz1cImdldC1wcm92aWRlci1zdGF0dXNcIixuLkdFVF9OT1RJRklDQVRJT05TX0NPVU5UPVwiZ2V0LW5vdGlmaWNhdGlvbnMtY291bnRcIixuLlNIT1dfTk9USUZJQ0FUSU9OX0NFTlRFUj1cInNob3ctbm90aWZpY2F0aW9uLWNlbnRlclwiLG4uSElERV9OT1RJRklDQVRJT05fQ0VOVEVSPVwiaGlkZS1ub3RpZmljYXRpb24tY2VudGVyXCIsbi5SRUdJU1RFUl9QTEFURk9STT1cInJlZ2lzdGVyLW5vdGlmaWNhdGlvbnMtcGxhdGZvcm1cIixuLkRFUkVHSVNURVJfUExBVEZPUk09XCJkZXJlZ2lzdGVyLW5vdGlmaWNhdGlvbnMtcGxhdGZvcm1cIixuLlNFVF9GT1JNX1NUQVRVU19PUFRJT05TPVwic2V0LWZvcm0tc3RhdHVzLW9wdGlvbnNcIixuLlNFVF9GT1JNX1ZBTElEQVRJT05fRVJST1JTPVwic2V0LWZvcm0tdmFsaWRhdGlvbi1lcnJvcnNcIixuLkdFVF9VU0VSX1NFVFRJTkdTX1NUQVRVUz1cImdldC11c2VyLXNldHRpbmdzLXN0YXR1c1wiLG4uU0VUX0RFRkFVTFRfUExBVEZPUk1fU0hPUlRDVVQ9XCJzZXQtZGVmYXVsdC1wbGF0Zm9ybS1zaG9ydGN1dFwiLG4uU0VUX05PVElGSUNBVElPTl9TRUNVUklUWV9SVUxFPVwic2V0LW5vdGlmaWNhdGlvbi1zZWN1cml0eS1ydWxlXCIsdC5ldmVudFR5cGVzPVtcIm5vdGlmaWNhdGlvbi1jcmVhdGVkXCIsXCJub3RpZmljYXRpb24tY2xvc2VkXCIsXCJub3RpZmljYXRpb24tYWN0aW9uXCIsXCJub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWRcIixcIm5vdGlmaWNhdGlvbi1mb3JtLXZhbHVlcy1jaGFuZ2VkXCIsXCJub3RpZmljYXRpb25zLWNvdW50LWNoYW5nZWRcIixcIm5vdGlmaWNhdGlvbi1zb3VuZC10b2dnbGVkXCIsXCJub3RpZmljYXRpb24tcmVtaW5kZXItY3JlYXRlZFwiLFwibm90aWZpY2F0aW9uLXJlbWluZGVyLXJlbW92ZWRcIixcIm5vdGlmaWNhdGlvbi10b2FzdC1kaXNtaXNzZWRcIl19LDQwMzooZSx0KT0+e3ZhciBuLGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5JbmRpY2F0b3JDb2xvcj10LkluZGljYXRvclR5cGU9dm9pZCAwLChpPXQuSW5kaWNhdG9yVHlwZXx8KHQuSW5kaWNhdG9yVHlwZT17fSkpLkZBSUxVUkU9XCJmYWlsdXJlXCIsaS5XQVJOSU5HPVwid2FybmluZ1wiLGkuU1VDQ0VTUz1cInN1Y2Nlc3NcIiwobj10LkluZGljYXRvckNvbG9yfHwodC5JbmRpY2F0b3JDb2xvcj17fSkpLlJFRD1cInJlZFwiLG4uR1JFRU49XCJncmVlblwiLG4uWUVMTE9XPVwieWVsbG93XCIsbi5CTFVFPVwiYmx1ZVwiLG4uUFVSUExFPVwicHVycGxlXCIsbi5HUkFZPVwiZ3JheVwiLG4uT1JBTkdFPVwib3JhbmdlXCIsbi5NQUdFTlRBPVwibWFnZW50YVwiLG4uVEVBTD1cInRlYWxcIn0sNDA1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9bik7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pO28mJiEoXCJnZXRcImluIG8/IXQuX19lc01vZHVsZTpvLndyaXRhYmxlfHxvLmNvbmZpZ3VyYWJsZSl8fChvPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGksbyl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLG89dGhpcyYmdGhpcy5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pfTpmdW5jdGlvbihlLHQpe2UuZGVmYXVsdD10fSkscj10aGlzJiZ0aGlzLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCIhPT1uJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmaSh0LGUsbik7cmV0dXJuIG8odCxlKSx0fSxhPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbil8fGkodCxlLG4pfSxzPXRoaXMmJnRoaXMuX19yZXN0fHxmdW5jdGlvbihlLHQpe3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiZ0LmluZGV4T2YoaSk8MCYmKG5baV09ZVtpXSk7aWYobnVsbCE9ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG89MDtmb3IoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO288aS5sZW5ndGg7bysrKXQuaW5kZXhPZihpW29dKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxpW29dKSYmKG5baVtvXV09ZVtpW29dXSl9cmV0dXJuIG59O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuc2V0QWxsb3dlZE9yaWdpbnM9dC5nZXRVc2VyU2V0dGluZ1N0YXR1cz10LlVzZXJTZXR0aW5ncz10LmdldE5vdGlmaWNhdGlvbnNDb3VudD10LmhpZGU9dC5zaG93PXQuc2V0RGVmYXVsdFBsYXRmb3JtU2hvcnRjdXQ9dC50b2dnbGVOb3RpZmljYXRpb25DZW50ZXI9dC5jbGVhckFsbD10LmdldEFsbD10LmNhbmNlbFJlbWluZGVyPXQuc2V0UmVtaW5kZXI9dC5jbGVhcj10LnVwZGF0ZT10LmNyZWF0ZT10LnJlbW92ZUV2ZW50TGlzdGVuZXI9dC5hZGRFdmVudExpc3RlbmVyPXQuVkVSU0lPTj10Lk5vdGlmaWNhdGlvbkluZGljYXRvclR5cGU9dC5JbmRpY2F0b3JDb2xvcj10Lk5vdGlmaWNhdGlvbkluZGljYXRvcldpdGhDdXN0b21Db2xvcj10Lk5vdGlmaWNhdGlvbkluZGljYXRvcj10Lk5vdGlmaWNhdGlvbk9wdGlvbnM9dC5wcm92aWRlcj10LmFjdGlvbnM9dm9pZCAwO2NvbnN0IGM9bigxNTgpLGw9big5MDIpLHU9bigzNDkpLGQ9big0NzEpLGY9cihuKDIxNykpO3QucHJvdmlkZXI9Zjtjb25zdCBwPW4oODU1KSx2PW4oNDAzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIk5vdGlmaWNhdGlvbkluZGljYXRvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2Lk5vdGlmaWNhdGlvbkluZGljYXRvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIk5vdGlmaWNhdGlvbkluZGljYXRvcldpdGhDdXN0b21Db2xvclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB2Lk5vdGlmaWNhdGlvbkluZGljYXRvcldpdGhDdXN0b21Db2xvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIk5vdGlmaWNhdGlvbkluZGljYXRvclR5cGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdi5JbmRpY2F0b3JUeXBlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiSW5kaWNhdG9yQ29sb3JcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdi5JbmRpY2F0b3JDb2xvcn19KTtjb25zdCBnPW4oOTY1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIk5vdGlmaWNhdGlvbk9wdGlvbnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5Ob3RpZmljYXRpb25PcHRpb25zfX0pO2NvbnN0IGg9cihuKDE1OCkpO3QuYWN0aW9ucz1oLGEobigxNTgpLHQpLGEobig1NzgpLHQpLGEobig5MyksdCksYShuKDIpLHQpLGEobig1MjApLHQpLGEobig5NiksdCksYShuKDQ3MCksdCksdC5WRVJTSU9OPVwiMi4xNC4wLWFscGhhLTQ0NjNcIjtjb25zdCBtPSgwLGQuZ2V0RXZlbnRSb3V0ZXIpKCk7ZnVuY3Rpb24geShlKXtjb25zdHtub3RpZmljYXRpb246dH09ZTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtub3RpZmljYXRpb246T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQpLHtkYXRlOm5ldyBEYXRlKHQuZGF0ZSksZXhwaXJlczpudWxsIT09dC5leHBpcmVzP25ldyBEYXRlKHQuZXhwaXJlcyk6bnVsbH0pfSl9bS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1jcmVhdGVkXCIsKGU9PnkoZSkpKSxtLnJlZ2lzdGVyRGVzZXJpYWxpemVyKFwibm90aWZpY2F0aW9uLXRvYXN0LWRpc21pc3NlZFwiLChlPT55KGUpKSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1jbG9zZWRcIiwoZT0+eShlKSkpLG0ucmVnaXN0ZXJEZXNlcmlhbGl6ZXIoXCJub3RpZmljYXRpb24tYWN0aW9uXCIsKGU9Pnt2YXIgdDtjb25zdCBuPXkoZSkse2NvbnRyb2xTb3VyY2U6aSxjb250cm9sSW5kZXg6b309bixyPXMobixbXCJjb250cm9sU291cmNlXCIsXCJjb250cm9sSW5kZXhcIl0pO3JldHVybiBlLnRyaWdnZXI9PT1jLkFjdGlvblRyaWdnZXIuQ09OVFJPTD9PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse2NvbnRyb2w6bnVsbD09PSh0PWUubm90aWZpY2F0aW9uW2ldKXx8dm9pZCAwPT09dD92b2lkIDA6dFtvXX0pOnJ9KSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbnMtY291bnQtY2hhbmdlZFwiLChlPT5lKSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1yZW1pbmRlci1jcmVhdGVkXCIsKGU9Pntjb25zdCB0PXkoZSkse3JlbWluZGVyRGF0ZTpufT10LGk9cyh0LFtcInJlbWluZGVyRGF0ZVwiXSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpKSx7cmVtaW5kZXJEYXRlOm5ldyBEYXRlKG4pfSl9KSksbS5yZWdpc3RlckRlc2VyaWFsaXplcihcIm5vdGlmaWNhdGlvbi1yZW1pbmRlci1yZW1vdmVkXCIsKGU9PnkoZSkpKSxtLnJlZ2lzdGVyRGVzZXJpYWxpemVyKFwibm90aWZpY2F0aW9uLXNvdW5kLXRvZ2dsZWRcIiwoZT0+ZSkpLHQuYWRkRXZlbnRMaXN0ZW5lcj1hc3luYyBmdW5jdGlvbihlLHQpeygwLHAudmFsaWRhdGVFbnZpcm9ubWVudCkoKSxlPSgwLHAuc2FuaXRpemVFdmVudFR5cGUpKGUpLHQ9KDAscC5zYW5pdGl6ZUZ1bmN0aW9uKSh0KTtjb25zdCBuPWQuZXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQoZSk7XCJub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWRcIj09PWUmJih0PWZ1bmN0aW9uKGUpe3JldHVybiB0PT57Y29uc3Qgbj10Lm5vdGlmaWNhdGlvbi5pZDt0LnNldEZvcm1TdGF0dXM9ZT0+KDAsbC50cnlTZXJ2aWNlRGlzcGF0Y2gpKHUuQVBJVG9waWMuU0VUX0ZPUk1fU1RBVFVTX09QVElPTlMsT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtfbm90aWZpY2F0aW9uSWQ6bn0pKSxlKHQpfX0odCkpLFwibm90aWZpY2F0aW9uLWZvcm0tdmFsdWVzLWNoYW5nZWRcIj09PWUmJih0PWZ1bmN0aW9uKGUpe3JldHVybiB0PT57dC5zZXRFcnJvcnM9ZT0+KDAsbC50cnlTZXJ2aWNlRGlzcGF0Y2gpKHUuQVBJVG9waWMuU0VUX0ZPUk1fVkFMSURBVElPTl9FUlJPUlMse2Vycm9yczplLG5vdGlmaWNhdGlvbklkOnQubm90aWZpY2F0aW9uLmlkfSksZSh0KX19KHQpKSxkLmV2ZW50RW1pdHRlci5hZGRMaXN0ZW5lcihlLHQpLDA9PT1uJiYxPT09ZC5ldmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudChlKSYmYXdhaXQoMCxsLnRyeVNlcnZpY2VEaXNwYXRjaCkodS5BUElUb3BpYy5BRERfRVZFTlRfTElTVEVORVIsZSl9LHQucmVtb3ZlRXZlbnRMaXN0ZW5lcj1hc3luYyBmdW5jdGlvbihlLHQpeygwLHAudmFsaWRhdGVFbnZpcm9ubWVudCkoKSxlPSgwLHAuc2FuaXRpemVFdmVudFR5cGUpKGUpLHQ9KDAscC5zYW5pdGl6ZUZ1bmN0aW9uKSh0KSwxPT09ZC5ldmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudChlKSYmZC5ldmVudEVtaXR0ZXIubGlzdGVuZXJzKGUpWzBdPT09dCYmYXdhaXQoMCxsLnRyeVNlcnZpY2VEaXNwYXRjaCkodS5BUElUb3BpYy5SRU1PVkVfRVZFTlRfTElTVEVORVIsZSksZC5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZSx0KX0sdC5jcmVhdGU9YXN5bmMgZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlOiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCBhbmQgbXVzdCBub3QgYmUgbnVsbFwiKTtpZih2b2lkIDAhPT1lLmRhdGUmJiEoZS5kYXRlIGluc3RhbmNlb2YgRGF0ZSkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGU6IFwiZGF0ZVwiIG11c3QgYmUgYSB2YWxpZCBEYXRlIG9iamVjdCcpO2lmKHZvaWQgMCE9PWUuZXhwaXJlcyYmbnVsbCE9PWUuZXhwaXJlcyYmIShlLmV4cGlyZXMgaW5zdGFuY2VvZiBEYXRlKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZTogXCJleHBpcmVzXCIgbXVzdCBiZSBudWxsIG9yIGEgdmFsaWQgRGF0ZSBvYmplY3QnKTtpZih0JiZ0LnJlbWluZGVyRGF0ZSl7aWYoITE9PT1lLmFsbG93UmVtaW5kZXIpdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBub3Qgc3BlY2lmeSBhIHJlbWluZGVyIGRhdGUgZm9yIGEgbm90aWZpY2F0aW9uIHdpdGggXCJhbGxvd1JlbWluZGVyXCIgb3B0aW9uIHNldCB0byBmYWxzZS4nKTtpZighKHQucmVtaW5kZXJEYXRlIGluc3RhbmNlb2YgRGF0ZSkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byByZW1pbmRlciBPcHRpb25zOiBcImRhdGVcIiBtdXN0IGEgdmFsaWQgRGF0ZSBvYmplY3QnKTtpZihlLmV4cGlyZXMmJmUuZXhwaXJlcy5nZXRUaW1lKCk8dC5yZW1pbmRlckRhdGUuZ2V0VGltZSgpKXRocm93IG5ldyBFcnJvcihcIkV4cGlyYXRpb24gZGF0ZSBtdXN0IG5vdCBiZSBlYXJsaWVyIHRoYW4gcmVtaW5kZXIgZGF0ZS5cIil9dm9pZCAwIT09ZS5jYXRlZ29yeSYmbnVsbCE9PWUuY2F0ZWdvcnl8fChlLmNhdGVnb3J5PVwiZGVmYXVsdFwiKTtjb25zdCBuPWF3YWl0KDAsbC50cnlTZXJ2aWNlRGlzcGF0Y2gpKHUuQVBJVG9waWMuQ1JFQVRFX05PVElGSUNBVElPTixPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZSkse2RhdGU6ZS5kYXRlJiZlLmRhdGUuZ2V0VGltZSgpLGV4cGlyZXM6ZS5leHBpcmVzJiZlLmV4cGlyZXMuZ2V0VGltZSgpLHJlbWluZGVyOihudWxsPT10P3ZvaWQgMDp0LnJlbWluZGVyRGF0ZSkmJnQucmVtaW5kZXJEYXRlLmdldFRpbWUoKX0pKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LG4pLHtkYXRlOm5ldyBEYXRlKG4uZGF0ZSksZXhwaXJlczpudWxsIT09bi5leHBpcmVzP25ldyBEYXRlKG4uZXhwaXJlcyk6bnVsbH0pfSx0LnVwZGF0ZT1hc3luYyBmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlOiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCBhbmQgbXVzdCBub3QgYmUgbnVsbFwiKTtpZighZS5pZCl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZTogXCJpZFwiIG11c3QgYmUgSWQgb2YgcHJldmlvdXNseSBjcmVhdGVkIE5vdGlmaWNhdGlvbicpO2NvbnN0IHQ9YXdhaXQoMCxsLnRyeVNlcnZpY2VEaXNwYXRjaCkodS5BUElUb3BpYy5VUERBVEVfTk9USUZJQ0FUSU9OLE9iamVjdC5hc3NpZ24oe30sZSkpO3JldHVybiBPYmplY3QuYXNzaWduKHt9LHQpfSx0LmNsZWFyPWFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybigwLGwudHJ5U2VydmljZURpc3BhdGNoKSh1LkFQSVRvcGljLkNMRUFSX05PVElGSUNBVElPTix7aWQ6ZX0pfSx0LnNldFJlbWluZGVyPWFzeW5jIGZ1bmN0aW9uKGUsdCl7aWYoISh0IGluc3RhbmNlb2YgRGF0ZSkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBzZXRSZW1pbmRlcjogXCJyZW1pbmRlckRhdGVcIiBtdXN0IGEgdmFsaWQgRGF0ZSBvYmplY3QnKTtpZih0LmdldFRpbWUoKTxEYXRlLm5vdygpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8gc2V0UmVtaW5kZXI6IFwicmVtaW5kZXJEYXRlXCIgd2FzIHNldCB0byBhIERhdGUgaW4gdGhlIHBhc3QsIG11c3QgYmUgYSBEYXRlIGluIHRoZSBmdXR1cmUuJyk7Y29uc3Qgbj1hd2FpdCgwLGwudHJ5U2VydmljZURpc3BhdGNoKSh1LkFQSVRvcGljLlNFVF9SRU1JTkRFUix7aWQ6ZSxyZW1pbmRlcjp0LmdldFRpbWUoKX0pO3JldHVybiBuP2NvbnNvbGUubG9nKGBbQ2xpZW50OjpzZXRSZW1pbmRlcl0gUmVtaW5kZXIgc2V0IGZvciBub3RpZmljYXRpb246ICR7ZX1gKTpjb25zb2xlLmxvZyhgW0NsaWVudDo6c2V0UmVtaW5kZXJdIE5vdGlmaWNhdGlvbiBub3QgZm91bmQgZm9yIGlkOiAke2V9YCksbn0sdC5jYW5jZWxSZW1pbmRlcj1hc3luYyBmdW5jdGlvbihlKXtjb25zdCB0PWF3YWl0KDAsbC50cnlTZXJ2aWNlRGlzcGF0Y2gpKHUuQVBJVG9waWMuQ0FOQ0VMX1JFTUlOREVSLHtpZDplfSk7cmV0dXJuIHQ/Y29uc29sZS5sb2coYFtDbGllbnQ6OmNhbmNlbFJlbWluZGVyXSBSZW1pbmRlciBjYW5jZWxlZCBmb3Igbm90aWZpY2F0aW9uOiAke2V9YCk6Y29uc29sZS5sb2coYFtDbGllbnQ6OmNhbmNlbFJlbWluZGVyXSBOb3RpZmljYXRpb24gbm90IGZvdW5kIGZvciBpZDogJHtlfWApLHR9LHQuZ2V0QWxsPWFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKGF3YWl0KDAsbC50cnlTZXJ2aWNlRGlzcGF0Y2gpKHUuQVBJVG9waWMuR0VUX0FQUF9OT1RJRklDQVRJT05TLHZvaWQgMCkpLm1hcCgoZT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGUpLHtpbmRpY2F0b3I6ZS5pbmRpY2F0b3J8fG51bGwsZGF0ZTpuZXcgRGF0ZShlLmRhdGUpLGV4cGlyZXM6bnVsbCE9PWUuZXhwaXJlcz9uZXcgRGF0ZShlLmV4cGlyZXMpOm51bGx9KSkpfSx0LmNsZWFyQWxsPWFzeW5jIGZ1bmN0aW9uKCl7cmV0dXJuKDAsbC50cnlTZXJ2aWNlRGlzcGF0Y2gpKHUuQVBJVG9waWMuQ0xFQVJfQVBQX05PVElGSUNBVElPTlMsdm9pZCAwKX0sdC50b2dnbGVOb3RpZmljYXRpb25DZW50ZXI9YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oMCxsLnRyeVNlcnZpY2VEaXNwYXRjaCkodS5BUElUb3BpYy5UT0dHTEVfTk9USUZJQ0FUSU9OX0NFTlRFUix2b2lkIDApfSx0LnNldERlZmF1bHRQbGF0Zm9ybVNob3J0Y3V0PWZ1bmN0aW9uKGUpe3JldHVybigwLGwudHJ5U2VydmljZURpc3BhdGNoKSh1LkFQSVRvcGljLlNFVF9ERUZBVUxUX1BMQVRGT1JNX1NIT1JUQ1VULGUpfSx0LnNob3c9YXN5bmMgZnVuY3Rpb24oZSl7cmV0dXJuKDAsbC50cnlTZXJ2aWNlRGlzcGF0Y2gpKHUuQVBJVG9waWMuU0hPV19OT1RJRklDQVRJT05fQ0VOVEVSLGUpfSx0LmhpZGU9YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oMCxsLnRyeVNlcnZpY2VEaXNwYXRjaCkodS5BUElUb3BpYy5ISURFX05PVElGSUNBVElPTl9DRU5URVIsdm9pZCAwKX0sdC5nZXROb3RpZmljYXRpb25zQ291bnQ9YXN5bmMgZnVuY3Rpb24oKXtyZXR1cm4oMCxsLnRyeVNlcnZpY2VEaXNwYXRjaCkodS5BUElUb3BpYy5HRVRfTk9USUZJQ0FUSU9OU19DT1VOVCx2b2lkIDApfSwodC5Vc2VyU2V0dGluZ3N8fCh0LlVzZXJTZXR0aW5ncz17fSkpLlNPVU5EX0VOQUJMRUQ9XCJzb3VuZEVuYWJsZWRcIix0LmdldFVzZXJTZXR0aW5nU3RhdHVzPWFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybigwLGwudHJ5U2VydmljZURpc3BhdGNoKSh1LkFQSVRvcGljLkdFVF9VU0VSX1NFVFRJTkdTX1NUQVRVUyxlKX0sdC5zZXRBbGxvd2VkT3JpZ2lucz1hc3luYyBlPT4oMCxsLnRyeVNlcnZpY2VEaXNwYXRjaCkodS5BUElUb3BpYy5TRVRfTk9USUZJQ0FUSU9OX1NFQ1VSSVRZX1JVTEUse2FsbG93ZWRPcmlnaW5zOmV9KX0sNDY4OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDQ3MDpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pO3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTtvJiYhKFwiZ2V0XCJpbiBvPyF0Ll9fZXNNb2R1bGU6by53cml0YWJsZXx8by5jb25maWd1cmFibGUpfHwobz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdFtuXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLG8pfTpmdW5jdGlvbihlLHQsbixpKXt2b2lkIDA9PT1pJiYoaT1uKSxlW2ldPXRbbl19KSxvPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKVwiZGVmYXVsdFwiPT09bnx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbil8fGkodCxlLG4pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxvKG4oMTM0KSx0KSxvKG4oNDY4KSx0KSxvKG4oOTY1KSx0KSxvKG4oOTI5KSx0KX0sNDcxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fcmVzdHx8ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmdC5pbmRleE9mKGkpPDAmJihuW2ldPWVbaV0pO2lmKG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPTA7Zm9yKGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtvPGkubGVuZ3RoO28rKyl0LmluZGV4T2YoaVtvXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaVtvXSkmJihuW2lbb11dPWVbaVtvXV0pfXJldHVybiBufTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldEV2ZW50Um91dGVyPXQuZXZlbnRFbWl0dGVyPXQuRXZlbnRSb3V0ZXI9dm9pZCAwO2NvbnN0IG89big3KSxyPW4oOTAyKSxhPW4oMzQ5KTtjbGFzcyBze2NvbnN0cnVjdG9yKGUpe3RoaXMuX2VtaXR0ZXJQcm92aWRlcnM9e30sdGhpcy5fZGVzZXJpYWxpemVycz17fSx0aGlzLl9kZWZhdWx0RW1pdHRlcj1lfXJlZ2lzdGVyRW1pdHRlclByb3ZpZGVyKGUsdCl7dGhpcy5fZW1pdHRlclByb3ZpZGVyc1tlXT10fXJlZ2lzdGVyRGVzZXJpYWxpemVyKGUsdCl7dGhpcy5fZGVzZXJpYWxpemVyc1tlXT10fWRpc3BhdGNoRXZlbnQoZSl7Y29uc3R7dHlwZTp0LHRhcmdldDpufT1lLG89aShlLFtcInR5cGVcIixcInRhcmdldFwiXSk7bGV0IHM7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBldmVudCwgbm8gdGFyZ2V0IHNwZWNpZmllZFwiKTtpZihcImRlZmF1bHRcIj09PW4pcz10aGlzLl9kZWZhdWx0RW1pdHRlcjtlbHNle2lmKCF0aGlzLl9lbWl0dGVyUHJvdmlkZXJzW24udHlwZV0pdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhcmdldCwgbm8gcHJvdmlkZXIgcmVnaXN0ZXJlZCBmb3IgJyR7bi50eXBlfSdgKTtzPXRoaXMuX2VtaXR0ZXJQcm92aWRlcnNbbi50eXBlXShuLmlkKX1jb25zdCBjPU9iamVjdC5hc3NpZ24oe3R5cGU6dH0sbyksbD10aGlzLl9kZXNlcmlhbGl6ZXJzW3RdO2w/cy5lbWl0KHQsbChjKSk6XCJub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWRcIj09PXQ/ZnVuY3Rpb24oZSx0KXtsZXQgbj0hMTtlLnByZXZlbnREZWZhdWx0PSgpPT5uPSEwLHQuZW1pdChcIm5vdGlmaWNhdGlvbi1mb3JtLXN1Ym1pdHRlZFwiLGUpLG58fCgwLHIudHJ5U2VydmljZURpc3BhdGNoKShhLkFQSVRvcGljLlNFVF9GT1JNX1NUQVRVU19PUFRJT05TLHtmb3JtU3RhdHVzOlwic3VibWl0dGVkXCIsX25vdGlmaWNhdGlvbklkOmUubm90aWZpY2F0aW9uLmlkfSl9KGMscyk6cy5lbWl0KHQsYyl9fWxldCBjO3QuRXZlbnRSb3V0ZXI9cyx0LmV2ZW50RW1pdHRlcj1uZXcgby5FdmVudEVtaXR0ZXIsdC5nZXRFdmVudFJvdXRlcj1mdW5jdGlvbigpe3JldHVybiBjfHwoYz1uZXcgcyh0LmV2ZW50RW1pdHRlcikpLGN9fSw1MjA6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sNTM2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oZSx0LG4saSl7dm9pZCAwPT09aSYmKGk9bik7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pO28mJiEoXCJnZXRcImluIG8/IXQuX19lc01vZHVsZTpvLndyaXRhYmxlfHxvLmNvbmZpZ3VyYWJsZSl8fChvPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W25dfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGksbyl9OmZ1bmN0aW9uKGUsdCxuLGkpe3ZvaWQgMD09PWkmJihpPW4pLGVbaV09dFtuXX0pLG89dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIGUpXCJkZWZhdWx0XCI9PT1ufHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKXx8aSh0LGUsbil9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQucmVnaXN0ZXI9dC5Ob3RpZmljYXRpb25zUmVnaXN0cmF0aW9uPXZvaWQgMDtjb25zdCByPW4oMzI5KSxhPW4oOTAyKSxzPW4oODU1KSxjPW4oNjEwKSxsPW4oMzEyKSx1PW4oNzk3KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIk5vdGlmaWNhdGlvbnNSZWdpc3RyYXRpb25cIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdS5Ob3RpZmljYXRpb25zUmVnaXN0cmF0aW9ufX0pO2NvbnN0IGQ9bigxNjYpLGY9bigyMTcpLHA9big5MTkpO28obig0MDUpLHQpO2NsYXNzIHYgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm5hbWU9XCJOb3RpZmljYXRpb25zUmVnaXN0cmF0aW9uRXJyb3JcIn19dC5yZWdpc3Rlcj1hc3luYyBmdW5jdGlvbiBlKHQpe2lmKChudWxsPT10P3ZvaWQgMDp0LmN1c3RvbU1hbmlmZXN0KSYmY29uc29sZS53YXJuKFwiVGhlIGN1c3RvbU1hbmlmZXN0IG9wdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGFueW1vcmUgYW5kIHdpbGwgYmUgaWdub3JlZC4gVXNlIG1hbmlmZXN0IGNvbmZpZ3VyYXRpb24gaW5zdGVhZC5cIiksbnVsbD09dD92b2lkIDA6dC5leHRlcm5hbFByb3ZpZGVyQ29uZmlnKXtjb25zdHtleHRlcm5hbFByb3ZpZGVyQ29uZmlnOm59PXQse2ZpbkNvbnRleHQ6aX09bnx8e307aWYoIWkpdGhyb3cgbmV3IHYoXCJmaW4gY29udGV4dCBtdXN0IGJlIHByb3ZpZGVkIGZvciBleHRlcm5hbCBub3RpZmljYXRpb24gcHJvdmlkZXJzLlwiKTtyZXR1cm4oMCxwLnZhbGlkYXRlRXh0ZXJuYWxQcm92aWRlckluZm8pKG4pLCgwLHMuc2V0VmFsaWRhdGlvbk1ldGhvZCkoKCgpPT57fSkpLCgwLGEuc2V0RGlzcGF0Y2hNZXRob2QpKGQuZXh0ZXJuYWxEaXNwYXRjaE1ldGhvZCksYXdhaXQoMCxkLmNvbm5lY3RBc0V4dGVybmFsQ2xpZW50KSh7ZXh0ZXJuYWxQcm92aWRlckNvbmZpZzpuLHJldHJ5OmV9KSx7Y2xpZW50QVBJVmVyc2lvbjpcIjIuMTQuMC1hbHBoYS00NDYzXCIsbm90aWZpY2F0aW9uc1ZlcnNpb246KGF3YWl0KDAsZi5nZXRTdGF0dXMpKCkpLnZlcnNpb258fFwidW5rbm93blwifX1pZihcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXsoMCxyLnNldEZpbkNvbnRleHQpKGZpbiksKDAscy5zZXRWYWxpZGF0aW9uTWV0aG9kKShjLmRlZmF1bHRWYWxpZGF0ZUVudmlyb25tZW50KSwoMCxhLnNldERpc3BhdGNoTWV0aG9kKShjLmRlZmF1bHREaXNwYXRjaCk7Y29uc3QgZT1hd2FpdCgwLGwuZXh0cmFjdENvbmZpZ0Zyb21NYW5pZmVzdCkoKTtyZXR1cm4oMCx1LnJlZ2lzdGVyKShlKX10aHJvdyBuZXcgRXJyb3IoXCJZb3UgYXJlIG5laXRoZXIgaW4gT3BlbkZpbiBlbnZpcm9ubWVudCBub3IgcHJvdmlkZWQgYW4gZXh0ZXJuYWwgT3BlbkZpbiBjb25uZWN0aW9uLlwiKX19LDU3ODooZSx0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSw2MTA6KGUsdCxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdFZhbGlkYXRlRW52aXJvbm1lbnQ9dC5kZWZhdWx0RGlzcGF0Y2g9dm9pZCAwO2NvbnN0IGk9big3OTMpLG89bigzMjkpO3QuZGVmYXVsdERpc3BhdGNoPWFzeW5jIGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGF3YWl0KDAsaS5nZXRDaGFubmVsQ2xpZW50KSgpKS5kaXNwYXRjaChlLHQpfSx0LmRlZmF1bHRWYWxpZGF0ZUVudmlyb25tZW50PWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09by5maW5Db250ZXh0KXRocm93IG5ldyBFcnJvcihcImZpbiBpcyBub3QgZGVmaW5lZC4gVGhlIG9wZW5maW4tbm90aWZpY2F0aW9ucyBtb2R1bGUgaXMgb25seSBpbnRlbmRlZCBmb3IgdXNlIGluIGFuIE9wZW5GaW4gYXBwbGljYXRpb24uXCIpfX0sNjM3OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5GaWVsZFR5cGU9dm9pZCAwLHQuRmllbGRUeXBlPXtzdHJpbmc6XCJzdHJpbmdcIixudW1iZXI6XCJudW1iZXJcIixib29sZWFuOlwiYm9vbGVhblwiLGRhdGU6XCJkYXRlXCIsY2hlY2tib3hHcm91cDpcImNoZWNrYm94R3JvdXBcIixyYWRpb0dyb3VwOlwicmFkaW9Hcm91cFwiLHRpbWU6XCJ0aW1lXCJ9fSw2Njc6ZT0+e2UuZXhwb3J0cz12b2lkIDB9LDc3NzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7Y29uc3QgaT1uKDg5KTthc3luYyBmdW5jdGlvbiBvKGUsdCl7bGV0IG49MDtmb3IoY29uc3QgaSBvZiBlKWF3YWl0IHQoaSxuLGUpLG4rK31hc3luYyBmdW5jdGlvbiByKGUsdCl7YXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAodCkpfWZ1bmN0aW9uIGEoZSx0LG4pe2NvbnN0IG89bmV3IGkuRGVmZXJyZWRQcm9taXNlLHI9ZS5hZGQoKCguLi5lKT0+e3QoLi4uZSkmJihyLnJlbW92ZSgpLG8ucmVzb2x2ZSgpKX0pKTtyZXR1cm4gbiYmbi5jYXRjaCgoZT0+e3IucmVtb3ZlKCksby5yZWplY3QoZSl9KSkscyhvLnByb21pc2UpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGUuY2F0Y2goKCgpPT57fSkpLGV9dC5zZXJpYWxGb3JFYWNoPW8sdC5zZXJpYWxNYXA9YXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdO3JldHVybiBhd2FpdCBvKGUsKGFzeW5jKGUsaSxvKT0+e24ucHVzaChhd2FpdCB0KGUsaSxvKSl9KSksbn0sdC5zZXJpYWxGaWx0ZXI9YXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdO3JldHVybiBhd2FpdCBvKGUsKGFzeW5jKGUsaSxvKT0+e2F3YWl0IHQoZSxpLG8pJiZuLnB1c2goZSl9KSksbn0sdC5wYXJhbGxlbEZvckVhY2g9cix0LnBhcmFsbGVsTWFwPWFzeW5jIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXTtyZXR1cm4gYXdhaXQgcihlLChhc3luYyhlLGksbyk9PntuW2ldPWF3YWl0IHQoZSxpLG8pfSkpLG59LHQucGFyYWxsZWxGaWx0ZXI9YXN5bmMgZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdO3JldHVybiBhd2FpdCByKGUsKGFzeW5jKGUsaSxvKT0+e25baV09YXdhaXQgdChlLGksbyl9KSksZS5maWx0ZXIoKChlLHQpPT5uW3RdKSl9LHQud2l0aFN0cmljdFRpbWVvdXQ9ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9bmV3IFByb21pc2UoKCh0LGkpPT5zZXRUaW1lb3V0KCgoKT0+aShuZXcgRXJyb3IobikpKSxlKSkpO3JldHVybiBzKFByb21pc2UucmFjZShbaSx0XSkpfSx0LndpdGhUaW1lb3V0PWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1uZXcgUHJvbWlzZSgodD0+c2V0VGltZW91dCgoKCk9PnQoWyEwLHZvaWQgMF0pKSxlKSkpLGk9dC50aGVuKChlPT5bITEsZV0pKTtyZXR1cm4gUHJvbWlzZS5yYWNlKFtuLGldKX0sdC51bnRpbFRydWU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0KCk/UHJvbWlzZS5yZXNvbHZlKCk6YShlLHQsbil9LHQudW50aWxTaWduYWw9YSx0LmFsbG93UmVqZWN0PXN9LDc4NTooZSx0LG4pPT57ZnVuY3Rpb24gaShlKXtmb3IodmFyIG4gaW4gZSl0Lmhhc093blByb3BlcnR5KG4pfHwodFtuXT1lW25dKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxpKG4oNzc3KSksaShuKDg5KSl9LDc5MzooZSx0LG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRDaGFubmVsQ2xpZW50PXQuY2xlYXJBd2FpdGVkQ2hhbm5lbENsaWVudD10LmluaXRBd2FpdGVkQ2hhbm5lbENsaWVudD10LlNlcnZpY2VDb25maWc9dm9pZCAwO2NvbnN0IGk9bigzNDkpLG89bigzNikscj1uKDMyOSk7dC5TZXJ2aWNlQ29uZmlnPXtzZXJ2aWNlQ2hhbm5lbDppLlNFUlZJQ0VfQ0hBTk5FTCxzZXJ2aWNlVXVpZDppLlNFUlZJQ0VfSURFTlRJVFkudXVpZCxyb3V0aW5nRW5hYmxlZDohMX07Y29uc3QgYT1hc3luYyh7d2FpdDplfSk9Pnthd2FpdCBvLkxvZy5pbmZvKGBDb25uZWN0aW5nIHRvIE5vdGlmaWNhdGlvbnMgKCR7dC5TZXJ2aWNlQ29uZmlnLnNlcnZpY2VDaGFubmVsfSkuLi5gKTtjb25zdCBuPWF3YWl0IHIuZmluQ29udGV4dC5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdCh0LlNlcnZpY2VDb25maWcuc2VydmljZUNoYW5uZWwse3dhaXQ6ZSxwYXlsb2FkOnt2ZXJzaW9uOlwiMi4xNC4wLWFscGhhLTQ0NjNcIn19KTtyZXR1cm4gYXdhaXQgby5Mb2cuaW5mbyhgU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byBOb3RpZmljYXRpb25zICgke3QuU2VydmljZUNvbmZpZy5zZXJ2aWNlQ2hhbm5lbH0pLmApLG59O2xldCBzLGM7dC5pbml0QXdhaXRlZENoYW5uZWxDbGllbnQ9KCk9PnM/e2NoYW5uZWxDbGllbnRQcm9taXNlOnMsaXNJbml0OiExfToocz1hKHt3YWl0OiEwfSkscy5jYXRjaCgoZT0+KDAsdC5jbGVhckF3YWl0ZWRDaGFubmVsQ2xpZW50KSgpKSkse2NoYW5uZWxDbGllbnRQcm9taXNlOnMsaXNJbml0OiEwfSksdC5jbGVhckF3YWl0ZWRDaGFubmVsQ2xpZW50PSgpPT57cz1udWxsfSx0LmdldENoYW5uZWxDbGllbnQ9YXN5bmMoKT0+c3x8KGFzeW5jKCk9PntpZighYyl7dHJ5e2M9YXdhaXQgYSh7d2FpdDohMX0pLGMuc2V0RGVmYXVsdEFjdGlvbigoKCk9PiExKSl9Y2F0Y2goZSl7dGhyb3cgYXdhaXQgby5Mb2cuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGNoYW5uZWwgcHJvdmlkZXIuIERpZCB5b3UgY2FsbCBcIm5vdGlmaWNhdGlvbnMucmVnaXN0ZXIoKVwiPycpLGV9Yy5vbkRpc2Nvbm5lY3Rpb24oKCgpPT57Yz1udWxsfSkpfXJldHVybiBjfSkoKX0sNzk3OihlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnJlZ2lzdGVyPXQuQ2hhbm5lbENsaWVudEhhbmRsZXJzPXZvaWQgMDtjb25zdCBpPW4oMzQ5KSxvPW4oNDcxKSxyPW4oMzYpLGE9big3OTMpLHM9bigyMTcpLGM9bigzMjkpO2NsYXNzIGx7fXQuQ2hhbm5lbENsaWVudEhhbmRsZXJzPWwsbC5oYW5kbGVEZWZhdWx0QWN0aW9uPSgpPT4hMSxsLmhhbmRsZUV2ZW50QWN0aW9uPWU9PnsoMCxvLmdldEV2ZW50Um91dGVyKSgpLmRpc3BhdGNoRXZlbnQoZSl9LGwuaGFuZGxlV2FybkFjdGlvbj1hc3luYyBlPT57YXdhaXQgci5Mb2cud2FybihlKX0sbC5oYW5kbGVEaXNjb25uZWN0aW9uPWFzeW5jKCk9PnsoMCxhLmdldENoYW5uZWxDbGllbnQpKCkmJihhd2FpdCByLkxvZy53YXJuKFwiRGlzY29ubmVjdGVkIGZyb20gTm90aWZpY2F0aW9ucy4gUmVjb25uZWN0aW5nLi4uXCIpLCgwLGEuY2xlYXJBd2FpdGVkQ2hhbm5lbENsaWVudCkoKSxhd2FpdCBmKCksYXdhaXQgcCgpKX07bGV0IHU9bnVsbDt0LnJlZ2lzdGVyPWFzeW5jIGU9PntpZihudWxsPT1lP3ZvaWQgMDplLmV4dGVybmFsUHJvdmlkZXJDb25maWcpdGhyb3cgbmV3IEVycm9yKFwiSXQgYXBwZWFycyB5b3UgYXJlIGF0dGVtcHRpbmcgdG8gdXNlIGFuIGV4dGVybmFsIHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24gd2l0aCB0aGUgZGVza3RvcCBjbGllbnQuIFRoaXMgdXN1YWxseSBzdWdnZXN0cyB0aGF0IHRoZSBDbGllbnQgQVBJIHBhY2thZ2UgdmVyc2lvbiBpbiB1c2UgaXMgZGVwcmVjYXRlZC5cIik7aWYodSlyZXR1cm4gdTt0cnl7cmV0dXJuIHU9ZChlKSxhd2FpdCB1fWZpbmFsbHl7dT1udWxsfX07Y29uc3QgZD1hc3luYyBlPT57Y29uc3QgdD1lO2lmKG51bGw9PXQ/dm9pZCAwOnQucm91dGluZ09wdGlvbnMpe2NvbnN0IGU9dC5yb3V0aW5nT3B0aW9ucy5yb3V0ZXJDaGFubmVsTmFtZTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIGEgcm91dGVyIGNvbmZpZyBpcyBwcm92aWRlZCwgdGhlIHJvdXRlciBjaGFubmVsIG5hbWUgbXVzdCBhbHNvIGJlIHByb3ZpZGVkIGFuZCBjYW5ub3QgYmUgYW4gZW1wdHkgc3RyaW5nLlwiKTtyLkxvZy5pbmZvKGBDb25uZWN0aW5nIHRvIHJvdXRlciBjaGFubmVsOiAke2V9YCksYS5TZXJ2aWNlQ29uZmlnLnNlcnZpY2VDaGFubmVsPWUsYS5TZXJ2aWNlQ29uZmlnLnJvdXRpbmdFbmFibGVkPSEwfWVsc2UgaWYobnVsbD09dD92b2lkIDA6dC5jdXN0b21NYW5pZmVzdCl7Y29uc3QgZT10LmN1c3RvbU1hbmlmZXN0O2lmKHIuTG9nLmluZm8oYENvbm5lY3RpbmcgdG8gcHJpdmF0ZSBpbnN0YW5jZTogJHtlLm1hbmlmZXN0VXVpZH0gYXQgJHtlLm1hbmlmZXN0VXJsfWApLCFlLm1hbmlmZXN0VXJsKXRocm93IG5ldyBFcnJvcihcIldoZW4gYSBjdXN0b20gbWFuaWZlc3QgY29uZmlnIGlzIHByb3ZpZGVkLCB0aGUgbWFuaWZlc3QgdXJsIG11c3QgYmUgcHJvdmlkZWQgYW5kIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXCIpO2lmKCFlLm1hbmlmZXN0VXVpZCl0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIGEgY3VzdG9tIG1hbmlmZXN0IGNvbmZpZyBpcyBwcm92aWRlZCwgdGhlIG1hbmlmZXN0IFVVSUQgbXVzdCBiZSBwcm92aWRlZCBhbmQgY2Fubm90IGJlIGFuIGVtcHR5IHN0cmluZy5cIik7YS5TZXJ2aWNlQ29uZmlnLnNlcnZpY2VDaGFubmVsPWAke2UubWFuaWZlc3RVdWlkfS0ke2kuU0VSVklDRV9DSEFOTkVMfWAsYS5TZXJ2aWNlQ29uZmlnLnNlcnZpY2VVdWlkPWUubWFuaWZlc3RVdWlkLGEuU2VydmljZUNvbmZpZy5zZXJ2aWNlTWFuaWZlc3RVcmw9ZS5tYW5pZmVzdFVybCxhd2FpdCBmKCl9ZWxzZSBhLlNlcnZpY2VDb25maWcuc2VydmljZUNoYW5uZWw9aS5TRVJWSUNFX0NIQU5ORUwsYXdhaXQgZigpO3JldHVybiBhd2FpdCBwKCkse2NsaWVudEFQSVZlcnNpb246XCIyLjE0LjAtYWxwaGEtNDQ2M1wiLG5vdGlmaWNhdGlvbnNWZXJzaW9uOihhd2FpdCgwLHMuZ2V0U3RhdHVzKSgpKS52ZXJzaW9ufHxcInVua25vd25cIn19LGY9YXN5bmMoKT0+e2lmKCFhLlNlcnZpY2VDb25maWcucm91dGluZ0VuYWJsZWQpdHJ5e2NvbnN0IGU9YS5TZXJ2aWNlQ29uZmlnLnNlcnZpY2VNYW5pZmVzdFVybCx0PXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ3aW5kb3dzXCIpLG49ZXx8XCJmaW5zOi8vc3lzdGVtLWFwcHMvbm90aWZpY2F0aW9uLWNlbnRlclwiO3Q/KGF3YWl0IHIuTG9nLmluZm8oXCJMYXVuY2hpbmcgTm90aWZpY2F0aW9ucyB2aWEgZmluLlN5c3RlbS5sYXVuY2hNYW5pZmVzdC4uLlwiKSxhd2FpdCBjLmZpbkNvbnRleHQuU3lzdGVtLmxhdW5jaE1hbmlmZXN0KG4se25vVWk6ITB9KSk6KGF3YWl0IHIuTG9nLmluZm8oXCJMYXVuY2hpbmcgTm90aWZpY2F0aW9ucyB2aWEgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIuLi5cIiksYXdhaXQgYy5maW5Db250ZXh0LlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIobikpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBFcnJvcj9hd2FpdCByLkxvZy5lcnJvcihgRmFpbGVkIHRvIGxhdW5jaCBOb3RpZmljYXRpb25zIC0gJHtlLm5hbWV9OiAke2UubWVzc2FnZX1gKTphd2FpdCByLkxvZy5lcnJvcihgRmFpbGVkIHRvIGxhdW5jaCBOb3RpZmljYXRpb25zIC0gJHtKU09OLnN0cmluZ2lmeShlKX1gKSxlfX0scD1hc3luYygpPT57dHJ5e2NvbnN0e2NoYW5uZWxDbGllbnRQcm9taXNlOmUsaXNJbml0OnR9PSgwLGEuaW5pdEF3YWl0ZWRDaGFubmVsQ2xpZW50KSgpLG49YXdhaXQgZTt0JiYobi5zZXREZWZhdWx0QWN0aW9uKGwuaGFuZGxlRGVmYXVsdEFjdGlvbiksbi5yZWdpc3RlcihcImV2ZW50XCIsbC5oYW5kbGVFdmVudEFjdGlvbiksbi5yZWdpc3RlcihcIldBUk5cIixsLmhhbmRsZVdhcm5BY3Rpb24pLG4ub25EaXNjb25uZWN0aW9uKGwuaGFuZGxlRGlzY29ubmVjdGlvbiksIWEuU2VydmljZUNvbmZpZy5yb3V0aW5nRW5hYmxlZCkmJmMuZmluQ29udGV4dC5BcHBsaWNhdGlvbi53cmFwU3luYyh7dXVpZDphLlNlcnZpY2VDb25maWcuc2VydmljZVV1aWR9KS5vbmNlKFwiY2xvc2VkXCIsbC5oYW5kbGVEaXNjb25uZWN0aW9uKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgRXJyb3I/YXdhaXQgci5Mb2cuZXJyb3IoYEZhaWxlZCB0byBjb25uZWN0IHRvIE5vdGlmaWNhdGlvbnMgLSAke2UubmFtZX06ICR7ZS5tZXNzYWdlfWApOmF3YWl0IHIuTG9nLmVycm9yKGBGYWlsZWQgdG8gY29ubmVjdCB0byBOb3RpZmljYXRpb25zIC0gJHtKU09OLnN0cmluZ2lmeShlKX1gKSxlfX19LDg1NTooZSx0KT0+e2Z1bmN0aW9uIG4oZSx0KXtsZXQgbjt0cnl7bj1KU09OLnN0cmluZ2lmeShlKX1jYXRjaChlKXtuPXR9cmV0dXJuIG59T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zZXRWYWxpZGF0aW9uTWV0aG9kPXQudmFsaWRhdGVFbnZpcm9ubWVudD10LnNhZmVTdHJpbmdpZnk9dC5zYW5pdGl6ZUV2ZW50VHlwZT10LnNhbml0aXplRnVuY3Rpb249dm9pZCAwLHQuc2FuaXRpemVGdW5jdGlvbj1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhcmd1bWVudCBwYXNzZWQ6ICR7bihlLFwiVGhlIHByb3ZpZGVkIHZhbHVlXCIpfSBpcyBub3QgYSB2YWxpZCBmdW5jdGlvbmApO3JldHVybiBlfSx0LnNhbml0aXplRXZlbnRUeXBlPWZ1bmN0aW9uKGUpe2lmKFwibm90aWZpY2F0aW9uLWFjdGlvblwiPT09ZXx8XCJub3RpZmljYXRpb24tY3JlYXRlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tdG9hc3QtZGlzbWlzc2VkXCI9PT1lfHxcIm5vdGlmaWNhdGlvbi1jbG9zZWRcIj09PWV8fFwibm90aWZpY2F0aW9ucy1jb3VudC1jaGFuZ2VkXCI9PT1lfHxcIm5vdGlmaWNhdGlvbi1mb3JtLXN1Ym1pdHRlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tcmVtaW5kZXItY3JlYXRlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tcmVtaW5kZXItcmVtb3ZlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tZm9ybS12YWx1ZXMtY2hhbmdlZFwiPT09ZXx8XCJub3RpZmljYXRpb24tc291bmQtdG9nZ2xlZFwiPT09ZSlyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXJndW1lbnQgcGFzc2VkOiAke24oZSxcIlRoZSBwcm92aWRlZCBldmVudCB0eXBlXCIpfSBpcyBub3QgYSB2YWxpZCBOb3RpZmljYXRpb25zIGV2ZW50IHR5cGVgKX0sdC5zYWZlU3RyaW5naWZ5PW4sdC52YWxpZGF0ZUVudmlyb25tZW50PSgpPT57dGhyb3cgbmV3IEVycm9yKFwiZmluIGlzIG5vdCBkZWZpbmVkLiBUaGUgbm90aWZpY2F0aW9ucyBtb2R1bGUgaXMgb25seSBpbnRlbmRlZCBmb3IgdXNlIGluIGFuIE9wZW5GaW4gYXBwbGljYXRpb24uXCIpfSx0LnNldFZhbGlkYXRpb25NZXRob2Q9ZT0+e3QudmFsaWRhdGVFbnZpcm9ubWVudD1lfX0sOTAyOihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zZXREaXNwYXRjaE1ldGhvZD10LnRyeVNlcnZpY2VEaXNwYXRjaD12b2lkIDAsdC50cnlTZXJ2aWNlRGlzcGF0Y2g9YXN5bmMoZSx0KT0+e3Rocm93IG5ldyBFcnJvcihcIkVudmlyb25tZW50IGlzIG5vdCBpbml0aWFsaXplZC4uXCIpfSx0LnNldERpc3BhdGNoTWV0aG9kPWU9Pnt0LnRyeVNlcnZpY2VEaXNwYXRjaD1lfX0sOTE5OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC52YWxpZGF0ZUV4dGVybmFsUHJvdmlkZXJJbmZvPXZvaWQgMCx0LnZhbGlkYXRlRXh0ZXJuYWxQcm92aWRlckluZm89ZnVuY3Rpb24oZSl7aWYoIWUuaWQpdGhyb3cgbmV3IEVycm9yKFwiaWQgbXVzdCBiZSBhIG5vbi16ZXJvIGxlbmd0aCBhbmQgbXVzdCBiZSBhIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBwcm92aWRlci5cIik7aWYoIWUudGl0bGUpdGhyb3cgbmV3IEVycm9yKFwidGl0bGUgbXVzdCBiZSBhIG5vbi16ZXJvIGxlbmd0aC5cIik7aWYoIWUuc2VydmljZUlkKXRocm93IG5ldyBFcnJvcihcInNlcnZpY2VJZCBtdXN0IGJlIGEgbm9uLXplcm8gbGVuZ3RoIGFuZCBtdXN0IG1hdGNoIHRoZSBzZXJ2aWNlIGlkIG9mIHRoZSBXZWIgTm90aWZpY2F0aW9uIENlbnRlciBpbnN0YW5jZS5cIil9fSw5Mjk6KGUsdCk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sOTY1OihlLHQpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5UZW1wbGF0ZUZyYWdtZW50TmFtZXM9dC5QcmVzZW50YXRpb25UZW1wbGF0ZUZyYWdtZW50TmFtZXM9dC5Db250YWluZXJUZW1wbGF0ZUZyYWdtZW50TmFtZXM9dC5UZW1wbGF0ZU5hbWVzPXZvaWQgMCx0LlRlbXBsYXRlTmFtZXM9e21hcmtkb3duOlwibWFya2Rvd25cIixsaXN0OlwibGlzdFwiLGN1c3RvbTpcImN1c3RvbVwifSx0LkNvbnRhaW5lclRlbXBsYXRlRnJhZ21lbnROYW1lcz17Y29udGFpbmVyOlwiY29udGFpbmVyXCJ9LHQuUHJlc2VudGF0aW9uVGVtcGxhdGVGcmFnbWVudE5hbWVzPXt0ZXh0OlwidGV4dFwiLGltYWdlOlwiaW1hZ2VcIixsaXN0OlwibGlzdFwiLGFjdGlvbmFibGVUZXh0OlwiYWN0aW9uYWJsZVRleHRcIn0sdC5UZW1wbGF0ZUZyYWdtZW50TmFtZXM9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHQuQ29udGFpbmVyVGVtcGxhdGVGcmFnbWVudE5hbWVzKSx0LlByZXNlbnRhdGlvblRlbXBsYXRlRnJhZ21lbnROYW1lcyl9fSx0PXt9O3JldHVybiBmdW5jdGlvbiBuKGkpe3ZhciBvPXRbaV07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciByPXRbaV09e2V4cG9ydHM6e319O3JldHVybiBlW2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIuZXhwb3J0c30oNTM2KX0pKCkpKTsiLCIvKiEgRm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBub3RpZmljYXRpb25zLmpzLkxJQ0VOU0UudHh0ICovXG4oKCk9Pnt2YXIgZT17OTI3OihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0KDgyMik7dmFyIG89dCgxODkpLG49dCgyNzUpLGE9dCgxNDEpO2NvbnN0IGk9ZT0+e2lmKCFlLmluY2x1ZGVzKFwiI1wiKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCB2YWx1ZSwgY2Fubm90IGNvbnZlcnQgdG8gUkdCLiBIZXggdmFsdWUgYmVnaW5zIHdpdGggYSBoYXNodGFnLlwiKTtsZXQgcj0wLHQ9MCxvPTA7aWYoND09PWUubGVuZ3RoKXI9YDB4JHtlWzFdfSR7ZVsxXX1gLHQ9YDB4JHtlWzJdfSR7ZVsyXX1gLG89YDB4JHtlWzNdfSR7ZVszXX1gO2Vsc2V7aWYoNyE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZyBsZW5ndGgsIGNhbm5vdCBjb252ZXJ0IHRvIFJHQi5cIik7cj1gMHgke2VbMV19JHtlWzJdfWAsdD1gMHgke2VbM119JHtlWzRdfWAsbz1gMHgke2VbNV19JHtlWzZdfWB9cmV0dXJuWytyLCt0LCtvXX0sbD1lPT57Y29uc3Qgcj1lO2lmKHIuc3RhcnRzV2l0aChcIiNcIikpe3JldHVybntyZ2I6aShyKS5qb2luKFwiLCBcIiksYWxwaGE6MX19Y29uc3QgdD1yLm1hdGNoKC9cXGR7MSwzfShcXC5cXGQrKT8vZyk7aWYodCl7Y29uc3RbZSxyLG8sbl09dDtyZXR1cm57cmdiOmAke2V9LCAke3J9LCAke299YCxhbHBoYTp2b2lkIDAhPT1uP3BhcnNlRmxvYXQobik6MX19cmV0dXJue3JnYjppKGUpLmpvaW4oXCIsIFwiKSxhbHBoYToxfX07dmFyIGM9dCg2NzUpO2NvbnN0IHM9Yy5xVC5EYXJrLHU9ZT0+T2JqZWN0LmVudHJpZXMoZSkucmVkdWNlKChlLFtyLHRdKT0+YCR7ZX0tLXdvcmtzcGFjZS1wYWxldHRlLSR7cn06ICR7dH07YCxcIlwiKSxkPShlLHIpPT57Y29uc3QgdD0hIWUuY29udGVudEJhY2tncm91bmQ1JiZcIiMwMDAwMDBcIiE9PWUuY29udGVudEJhY2tncm91bmQ1LG89ISFlLmNvbnRlbnRCYWNrZ3JvdW5kNCYmXCIjMDAwMDAwXCIhPT1lLmNvbnRlbnRCYWNrZ3JvdW5kNCxuPWwoZS50ZXh0RGVmYXVsdCksYT1sKGUudGV4dEluYWN0aXZlKSxpPW4ucmdiLGM9YS5yZ2Iscz1uLmFscGhhP3BhcnNlRmxvYXQobi5hbHBoYS50b1N0cmluZygpKToxLHU9YS5hbHBoYT9wYXJzZUZsb2F0KGEuYWxwaGEudG9TdHJpbmcoKSk6MTtyZXR1cm57ZG9ja0V4cGFuZGVkQ29udGFpbmVyQm9yZGVyUmFkaXVzOnQmJnI/XCIwXCI6XCIxMHB4XCIsZmlsbGVyQmFja2dyb3VuZENvbG9yOm8/ZS5jb250ZW50QmFja2dyb3VuZDQ6XCJpbmhlcml0XCIsXCJjb21wdXRlZC1zY3JvbGxiYXItdGh1bWItYWxwaGFcIjpzLFwiY29tcHV0ZWQtc2Nyb2xsYmFyLXRyYWNrLWFscGhhXCI6dSxcInNjcm9sbGJhci10aHVtYi1yZ2JcIjppLFwic2Nyb2xsYmFyLXRyYWNrLXJnYlwiOmN9fSxmPShlLHIsdCk9Pih7c2VsZWN0ZWRUYWI6XCJkYXJrXCI9PT1yP2UuYmFja2dyb3VuZDM6ZS5iYWNrZ3JvdW5kMSwuLi5kKGUsdCl9KTt2YXIgcD17Nzk6KGUscix0KT0+e3ZhciBvPXQoMzcwMiksbj10KDgwKSxhPXQoNDczOSksaT10KDg2NTUpLGw9dCgxMTc1KTtmdW5jdGlvbiBjKGUpe3ZhciByPS0xLHQ9bnVsbD09ZT8wOmUubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytyPHQ7KXt2YXIgbz1lW3JdO3RoaXMuc2V0KG9bMF0sb1sxXSl9fWMucHJvdG90eXBlLmNsZWFyPW8sYy5wcm90b3R5cGUuZGVsZXRlPW4sYy5wcm90b3R5cGUuZ2V0PWEsYy5wcm90b3R5cGUuaGFzPWksYy5wcm90b3R5cGUuc2V0PWwsZS5leHBvcnRzPWN9LDgwOihlLHIsdCk9Pnt2YXIgbz10KDYwMjUpLG49QXJyYXkucHJvdG90eXBlLnNwbGljZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5fX2RhdGFfXyx0PW8ocixlKTtyZXR1cm4hKHQ8MHx8KHQ9PXIubGVuZ3RoLTE/ci5wb3AoKTpuLmNhbGwocix0LDEpLC0tdGhpcy5zaXplLDApKX19LDE4MTplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPVtdO2lmKG51bGwhPWUpZm9yKHZhciB0IGluIE9iamVjdChlKSlyLnB1c2godCk7cmV0dXJuIHJ9fSwyODk6KGUscix0KT0+e3ZhciBvPXQoMjY1MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMsZSkuZ2V0KGUpfX0sMjk0OmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+LTEmJmUlMT09MCYmZTw9OTAwNzE5OTI1NDc0MDk5MX19LDM0NjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX19LDM2MTplPT57dmFyIHI9L14oPzowfFsxLTldXFxkKikkLztlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbz10eXBlb2YgZTtyZXR1cm4hISh0PW51bGw9PXQ/OTAwNzE5OTI1NDc0MDk5MTp0KSYmKFwibnVtYmVyXCI9PW98fFwic3ltYm9sXCIhPW8mJnIudGVzdChlKSkmJmU+LTEmJmUlMT09MCYmZTx0fX0sMzkyOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVtyXX19LDY1OTooZSxyLHQpPT57dmFyIG89dCgxODczKSxuPU9iamVjdC5wcm90b3R5cGUsYT1uLmhhc093blByb3BlcnR5LGk9bi50b1N0cmluZyxsPW8/by50b1N0cmluZ1RhZzp2b2lkIDA7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPWEuY2FsbChlLGwpLHQ9ZVtsXTt0cnl7ZVtsXT12b2lkIDA7dmFyIG89ITB9Y2F0Y2goZSl7fXZhciBuPWkuY2FsbChlKTtyZXR1cm4gbyYmKHI/ZVtsXT10OmRlbGV0ZSBlW2xdKSxufX0sNjk1OihlLHIsdCk9Pnt2YXIgbz10KDgwOTYpLG49dCgyNDI4KSxhPXQoNjQ0OSksaT10KDM2NTYpLGw9dCgzNjEpLGM9dCg3MTY3KSxzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7dmFyIHQ9YShlKSx1PSF0JiZuKGUpLGQ9IXQmJiF1JiZpKGUpLGY9IXQmJiF1JiYhZCYmYyhlKSxwPXR8fHV8fGR8fGYsZz1wP28oZS5sZW5ndGgsU3RyaW5nKTpbXSxoPWcubGVuZ3RoO2Zvcih2YXIgYiBpbiBlKSFyJiYhcy5jYWxsKGUsYil8fHAmJihcImxlbmd0aFwiPT1ifHxkJiYoXCJvZmZzZXRcIj09Ynx8XCJwYXJlbnRcIj09Yil8fGYmJihcImJ1ZmZlclwiPT1ifHxcImJ5dGVMZW5ndGhcIj09Ynx8XCJieXRlT2Zmc2V0XCI9PWIpfHxsKGIsaCkpfHxnLnB1c2goYik7cmV0dXJuIGd9fSw5Mzg6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj10aGlzLl9fZGF0YV9fLHQ9ci5kZWxldGUoZSk7cmV0dXJuIHRoaXMuc2l6ZT1yLnNpemUsdH19LDk0NTooZSxyLHQpPT57dmFyIG89dCg3OSksbj10KDgyMjMpLGE9dCgzNjYxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLl9fZGF0YV9fO2lmKHQgaW5zdGFuY2VvZiBvKXt2YXIgaT10Ll9fZGF0YV9fO2lmKCFufHxpLmxlbmd0aDwxOTkpcmV0dXJuIGkucHVzaChbZSxyXSksdGhpcy5zaXplPSsrdC5zaXplLHRoaXM7dD10aGlzLl9fZGF0YV9fPW5ldyBhKGkpfXJldHVybiB0LnNldChlLHIpLHRoaXMuc2l6ZT10LnNpemUsdGhpc319LDk5OTooZSxyLHQpPT57dmFyIG89dCg5MzAyKSxuPXQoNjgwMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvKGZ1bmN0aW9uKHIsdCl7dmFyIG89LTEsYT10Lmxlbmd0aCxpPWE+MT90W2EtMV06dm9pZCAwLGw9YT4yP3RbMl06dm9pZCAwO2ZvcihpPWUubGVuZ3RoPjMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGk/KGEtLSxpKTp2b2lkIDAsbCYmbih0WzBdLHRbMV0sbCkmJihpPWE8Mz92b2lkIDA6aSxhPTEpLHI9T2JqZWN0KHIpOysrbzxhOyl7dmFyIGM9dFtvXTtjJiZlKHIsYyxvLGkpfXJldHVybiByfSl9fSwxMDMzOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyLHQpe3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBlLmNhbGwocik7Y2FzZSAxOnJldHVybiBlLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIGUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBlLmNhbGwocix0WzBdLHRbMV0sdFsyXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LDEwNDI6KGUscix0KT0+e3ZhciBvPXQoNjExMCkoT2JqZWN0LFwiY3JlYXRlXCIpO2UuZXhwb3J0cz1vfSwxMTc1OihlLHIsdCk9Pnt2YXIgbz10KDYwMjUpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe3ZhciB0PXRoaXMuX19kYXRhX18sbj1vKHQsZSk7cmV0dXJuIG48MD8oKyt0aGlzLnNpemUsdC5wdXNoKFtlLHJdKSk6dFtuXVsxXT1yLHRoaXN9fSwxMzMxOihlLHIsdCk9Pnt2YXIgbz10KDI1NTIpLG49dCg4ODc5KSxhPXQoMzQ2KSxpPUZ1bmN0aW9uLnByb3RvdHlwZSxsPU9iamVjdC5wcm90b3R5cGUsYz1pLnRvU3RyaW5nLHM9bC5oYXNPd25Qcm9wZXJ0eSx1PWMuY2FsbChPYmplY3QpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighYShlKXx8XCJbb2JqZWN0IE9iamVjdF1cIiE9byhlKSlyZXR1cm4hMTt2YXIgcj1uKGUpO2lmKG51bGw9PT1yKXJldHVybiEwO3ZhciB0PXMuY2FsbChyLFwiY29uc3RydWN0b3JcIikmJnIuY29uc3RydWN0b3I7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdCBpbnN0YW5jZW9mIHQmJmMuY2FsbCh0KT09dX19LDE0MjA6KGUscix0KT0+e3ZhciBvPXQoNzkpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IG8sdGhpcy5zaXplPTB9fSwxNTQ5OihlLHIsdCk9Pnt2YXIgbz10KDIwMzIpLG49dCgzODYyKSxhPXQoNjcyMSksaT10KDI3NDkpLGw9dCg1NzQ5KTtmdW5jdGlvbiBjKGUpe3ZhciByPS0xLHQ9bnVsbD09ZT8wOmUubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytyPHQ7KXt2YXIgbz1lW3JdO3RoaXMuc2V0KG9bMF0sb1sxXSl9fWMucHJvdG90eXBlLmNsZWFyPW8sYy5wcm90b3R5cGUuZGVsZXRlPW4sYy5wcm90b3R5cGUuZ2V0PWEsYy5wcm90b3R5cGUuaGFzPWksYy5wcm90b3R5cGUuc2V0PWwsZS5leHBvcnRzPWN9LDE3OTE6KGUscix0KT0+e3ZhciBvPXQoNjU0Nyksbj10KDMzNjApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHIsdCxhKXt2YXIgaT0hdDt0fHwodD17fSk7Zm9yKHZhciBsPS0xLGM9ci5sZW5ndGg7KytsPGM7KXt2YXIgcz1yW2xdLHU9YT9hKHRbc10sZVtzXSxzLHQsZSk6dm9pZCAwO3ZvaWQgMD09PXUmJih1PWVbc10pLGk/bih0LHMsdSk6byh0LHMsdSl9cmV0dXJuIHR9fSwxODExOmU9Pnt2YXIgcj1EYXRlLm5vdztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9MCxvPTA7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49cigpLGE9MTYtKG4tbyk7aWYobz1uLGE+MCl7aWYoKyt0Pj04MDApcmV0dXJuIGFyZ3VtZW50c1swXX1lbHNlIHQ9MDtyZXR1cm4gZS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX19fSwxODczOihlLHIsdCk9Pnt2YXIgbz10KDkzMjUpLlN5bWJvbDtlLmV4cG9ydHM9b30sMTg4MjooZSxyLHQpPT57dmFyIG89dCgyNTUyKSxuPXQoMzgwNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXJldHVybiExO3ZhciByPW8oZSk7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1yfHxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCI9PXJ8fFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiPT1yfHxcIltvYmplY3QgUHJveHldXCI9PXJ9fSwxOTYxOihlLHIsdCk9Pnt2YXIgbz10KDk2NTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe3ZhciB0PXI/byhlLmJ1ZmZlcik6ZS5idWZmZXI7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKHQsZS5ieXRlT2Zmc2V0LGUubGVuZ3RoKX19LDIwMzI6KGUscix0KT0+e3ZhciBvPXQoMTA0Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1vP28obnVsbCk6e30sdGhpcy5zaXplPTB9fSwyNDI4OihlLHIsdCk9Pnt2YXIgbz10KDc1MzQpLG49dCgzNDYpLGE9T2JqZWN0LnByb3RvdHlwZSxpPWEuaGFzT3duUHJvcGVydHksbD1hLnByb3BlcnR5SXNFbnVtZXJhYmxlLGM9byhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP286ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSkmJmkuY2FsbChlLFwiY2FsbGVlXCIpJiYhbC5jYWxsKGUsXCJjYWxsZWVcIil9O2UuZXhwb3J0cz1jfSwyNTQzOmZ1bmN0aW9uKGUscix0KXt2YXIgbztlPXQubm1kKGUpLGZ1bmN0aW9uKCl7dmFyIG4sYT1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixpPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiLGw9XCJfX2xvZGFzaF9wbGFjZWhvbGRlcl9fXCIsYz0zMixzPTEyOCx1PTEvMCxkPTkwMDcxOTkyNTQ3NDA5OTEsZj1OYU4scD00Mjk0OTY3Mjk1LGc9W1tcImFyeVwiLHNdLFtcImJpbmRcIiwxXSxbXCJiaW5kS2V5XCIsMl0sW1wiY3VycnlcIiw4XSxbXCJjdXJyeVJpZ2h0XCIsMTZdLFtcImZsaXBcIiw1MTJdLFtcInBhcnRpYWxcIixjXSxbXCJwYXJ0aWFsUmlnaHRcIiw2NF0sW1wicmVhcmdcIiwyNTZdXSxoPVwiW29iamVjdCBBcmd1bWVudHNdXCIsYj1cIltvYmplY3QgQXJyYXldXCIsdj1cIltvYmplY3QgQm9vbGVhbl1cIixtPVwiW29iamVjdCBEYXRlXVwiLHk9XCJbb2JqZWN0IEVycm9yXVwiLHc9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLF89XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLGs9XCJbb2JqZWN0IE1hcF1cIix4PVwiW29iamVjdCBOdW1iZXJdXCIsUD1cIltvYmplY3QgT2JqZWN0XVwiLFM9XCJbb2JqZWN0IFByb21pc2VdXCIsTT1cIltvYmplY3QgUmVnRXhwXVwiLEk9XCJbb2JqZWN0IFNldF1cIixDPVwiW29iamVjdCBTdHJpbmddXCIsQT1cIltvYmplY3QgU3ltYm9sXVwiLE89XCJbb2JqZWN0IFdlYWtNYXBdXCIsRj1cIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsVz1cIltvYmplY3QgRGF0YVZpZXddXCIsej1cIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLFQ9XCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIixEPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsQj1cIltvYmplY3QgSW50MTZBcnJheV1cIixSPVwiW29iamVjdCBJbnQzMkFycmF5XVwiLEU9XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsaj1cIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsJD1cIltvYmplY3QgVWludDE2QXJyYXldXCIsTj1cIltvYmplY3QgVWludDMyQXJyYXldXCIsRz0vXFxiX19wIFxcKz0gJyc7L2csTD0vXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxVPS8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2csVj0vJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2cscT0vWyY8PlwiJ10vZyxIPVJlZ0V4cChWLnNvdXJjZSksSz1SZWdFeHAocS5zb3VyY2UpLFo9LzwlLShbXFxzXFxTXSs/KSU+L2csWT0vPCUoW1xcc1xcU10rPyklPi9nLFE9LzwlPShbXFxzXFxTXSs/KSU+L2csSj0vXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFg9L15cXHcqJC8sZWU9L1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nLHJlPS9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyx0ZT1SZWdFeHAocmUuc291cmNlKSxvZT0vXlxccysvLG5lPS9cXHMvLGFlPS9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8saWU9L1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLGxlPS8sPyAmIC8sY2U9L1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nLHNlPS9bKCk9LHt9XFxbXFxdXFwvXFxzXS8sdWU9L1xcXFwoXFxcXCk/L2csZGU9L1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nLGZlPS9cXHcqJC8scGU9L15bLStdMHhbMC05YS1mXSskL2ksZ2U9L14wYlswMV0rJC9pLGhlPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sYmU9L14wb1swLTddKyQvaSx2ZT0vXig/OjB8WzEtOV1cXGQqKSQvLG1lPS9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nLHllPS8oJF4pLyx3ZT0vWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2csX2U9XCJcXFxcdWQ4MDAtXFxcXHVkZmZmXCIsa2U9XCJcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyZlxcXFx1MjBkMC1cXFxcdTIwZmZcIix4ZT1cIlxcXFx1MjcwMC1cXFxcdTI3YmZcIixQZT1cImEtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZlwiLFNlPVwiQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXCIsTWU9XCJcXFxcdWZlMGVcXFxcdWZlMGZcIixJZT1cIlxcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmZcXFxcdTIwMDAtXFxcXHUyMDZmIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDBcIixDZT1cIltcIitfZStcIl1cIixBZT1cIltcIitJZStcIl1cIixPZT1cIltcIitrZStcIl1cIixGZT1cIlxcXFxkK1wiLFdlPVwiW1wiK3hlK1wiXVwiLHplPVwiW1wiK1BlK1wiXVwiLFRlPVwiW15cIitfZStJZStGZSt4ZStQZStTZStcIl1cIixEZT1cIlxcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXVwiLEJlPVwiW15cIitfZStcIl1cIixSZT1cIig/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn1cIixFZT1cIltcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXVwiLGplPVwiW1wiK1NlK1wiXVwiLCRlPVwiXFxcXHUyMDBkXCIsTmU9XCIoPzpcIit6ZStcInxcIitUZStcIilcIixHZT1cIig/OlwiK2plK1wifFwiK1RlK1wiKVwiLExlPVwiKD86WyfigJldKD86ZHxsbHxtfHJlfHN8dHx2ZSkpP1wiLFVlPVwiKD86WyfigJldKD86RHxMTHxNfFJFfFN8VHxWRSkpP1wiLFZlPVwiKD86XCIrT2UrXCJ8XCIrRGUrXCIpP1wiLHFlPVwiW1wiK01lK1wiXT9cIixIZT1xZStWZStcIig/OlwiKyRlK1wiKD86XCIrW0JlLFJlLEVlXS5qb2luKFwifFwiKStcIilcIitxZStWZStcIikqXCIsS2U9XCIoPzpcIitbV2UsUmUsRWVdLmpvaW4oXCJ8XCIpK1wiKVwiK0hlLFplPVwiKD86XCIrW0JlK09lK1wiP1wiLE9lLFJlLEVlLENlXS5qb2luKFwifFwiKStcIilcIixZZT1SZWdFeHAoXCJbJ+KAmV1cIixcImdcIiksUWU9UmVnRXhwKE9lLFwiZ1wiKSxKZT1SZWdFeHAoRGUrXCIoPz1cIitEZStcIil8XCIrWmUrSGUsXCJnXCIpLFhlPVJlZ0V4cChbamUrXCI/XCIremUrXCIrXCIrTGUrXCIoPz1cIitbQWUsamUsXCIkXCJdLmpvaW4oXCJ8XCIpK1wiKVwiLEdlK1wiK1wiK1VlK1wiKD89XCIrW0FlLGplK05lLFwiJFwiXS5qb2luKFwifFwiKStcIilcIixqZStcIj9cIitOZStcIitcIitMZSxqZStcIitcIitVZSxcIlxcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKVwiLFwiXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pXCIsRmUsS2VdLmpvaW4oXCJ8XCIpLFwiZ1wiKSxlcj1SZWdFeHAoXCJbXCIrJGUrX2Ura2UrTWUrXCJdXCIpLHJyPS9bYS16XVtBLVpdfFtBLVpdezJ9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vLHRyPVtcIkFycmF5XCIsXCJCdWZmZXJcIixcIkRhdGFWaWV3XCIsXCJEYXRlXCIsXCJFcnJvclwiLFwiRmxvYXQzMkFycmF5XCIsXCJGbG9hdDY0QXJyYXlcIixcIkZ1bmN0aW9uXCIsXCJJbnQ4QXJyYXlcIixcIkludDE2QXJyYXlcIixcIkludDMyQXJyYXlcIixcIk1hcFwiLFwiTWF0aFwiLFwiT2JqZWN0XCIsXCJQcm9taXNlXCIsXCJSZWdFeHBcIixcIlNldFwiLFwiU3RyaW5nXCIsXCJTeW1ib2xcIixcIlR5cGVFcnJvclwiLFwiVWludDhBcnJheVwiLFwiVWludDhDbGFtcGVkQXJyYXlcIixcIlVpbnQxNkFycmF5XCIsXCJVaW50MzJBcnJheVwiLFwiV2Vha01hcFwiLFwiX1wiLFwiY2xlYXJUaW1lb3V0XCIsXCJpc0Zpbml0ZVwiLFwicGFyc2VJbnRcIixcInNldFRpbWVvdXRcIl0sb3I9LTEsbnI9e307bnJbel09bnJbVF09bnJbRF09bnJbQl09bnJbUl09bnJbRV09bnJbal09bnJbJF09bnJbTl09ITAsbnJbaF09bnJbYl09bnJbRl09bnJbdl09bnJbV109bnJbbV09bnJbeV09bnJbd109bnJba109bnJbeF09bnJbUF09bnJbTV09bnJbSV09bnJbQ109bnJbT109ITE7dmFyIGFyPXt9O2FyW2hdPWFyW2JdPWFyW0ZdPWFyW1ddPWFyW3ZdPWFyW21dPWFyW3pdPWFyW1RdPWFyW0RdPWFyW0JdPWFyW1JdPWFyW2tdPWFyW3hdPWFyW1BdPWFyW01dPWFyW0ldPWFyW0NdPWFyW0FdPWFyW0VdPWFyW2pdPWFyWyRdPWFyW05dPSEwLGFyW3ldPWFyW3ddPWFyW09dPSExO3ZhciBpcj17XCJcXFxcXCI6XCJcXFxcXCIsXCInXCI6XCInXCIsXCJcXG5cIjpcIm5cIixcIlxcclwiOlwiclwiLFwiXFx1MjAyOFwiOlwidTIwMjhcIixcIlxcdTIwMjlcIjpcInUyMDI5XCJ9LGxyPXBhcnNlRmxvYXQsY3I9cGFyc2VJbnQsc3I9XCJvYmplY3RcIj09dHlwZW9mIHQuZyYmdC5nJiZ0LmcuT2JqZWN0PT09T2JqZWN0JiZ0LmcsdXI9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGRyPXNyfHx1cnx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGZyPXImJiFyLm5vZGVUeXBlJiZyLHByPWZyJiZlJiYhZS5ub2RlVHlwZSYmZSxncj1wciYmcHIuZXhwb3J0cz09PWZyLGhyPWdyJiZzci5wcm9jZXNzLGJyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBwciYmcHIucmVxdWlyZSYmcHIucmVxdWlyZShcInV0aWxcIikudHlwZXN8fGhyJiZoci5iaW5kaW5nJiZoci5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaChlKXt9fSgpLHZyPWJyJiZici5pc0FycmF5QnVmZmVyLG1yPWJyJiZici5pc0RhdGUseXI9YnImJmJyLmlzTWFwLHdyPWJyJiZici5pc1JlZ0V4cCxfcj1iciYmYnIuaXNTZXQsa3I9YnImJmJyLmlzVHlwZWRBcnJheTtmdW5jdGlvbiB4cihlLHIsdCl7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIGUuY2FsbChyLHRbMF0pO2Nhc2UgMjpyZXR1cm4gZS5jYWxsKHIsdFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIGUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKX1yZXR1cm4gZS5hcHBseShyLHQpfWZ1bmN0aW9uIFByKGUscix0LG8pe2Zvcih2YXIgbj0tMSxhPW51bGw9PWU/MDplLmxlbmd0aDsrK248YTspe3ZhciBpPWVbbl07cihvLGksdChpKSxlKX1yZXR1cm4gb31mdW5jdGlvbiBTcihlLHIpe2Zvcih2YXIgdD0tMSxvPW51bGw9PWU/MDplLmxlbmd0aDsrK3Q8byYmITEhPT1yKGVbdF0sdCxlKTspO3JldHVybiBlfWZ1bmN0aW9uIE1yKGUscil7Zm9yKHZhciB0PW51bGw9PWU/MDplLmxlbmd0aDt0LS0mJiExIT09cihlW3RdLHQsZSk7KTtyZXR1cm4gZX1mdW5jdGlvbiBJcihlLHIpe2Zvcih2YXIgdD0tMSxvPW51bGw9PWU/MDplLmxlbmd0aDsrK3Q8bzspaWYoIXIoZVt0XSx0LGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIENyKGUscil7Zm9yKHZhciB0PS0xLG89bnVsbD09ZT8wOmUubGVuZ3RoLG49MCxhPVtdOysrdDxvOyl7dmFyIGk9ZVt0XTtyKGksdCxlKSYmKGFbbisrXT1pKX1yZXR1cm4gYX1mdW5jdGlvbiBBcihlLHIpe3JldHVybiEobnVsbD09ZXx8IWUubGVuZ3RoKSYmanIoZSxyLDApPi0xfWZ1bmN0aW9uIE9yKGUscix0KXtmb3IodmFyIG89LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7KytvPG47KWlmKHQocixlW29dKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBGcihlLHIpe2Zvcih2YXIgdD0tMSxvPW51bGw9PWU/MDplLmxlbmd0aCxuPUFycmF5KG8pOysrdDxvOyluW3RdPXIoZVt0XSx0LGUpO3JldHVybiBufWZ1bmN0aW9uIFdyKGUscil7Zm9yKHZhciB0PS0xLG89ci5sZW5ndGgsbj1lLmxlbmd0aDsrK3Q8bzspZVtuK3RdPXJbdF07cmV0dXJuIGV9ZnVuY3Rpb24genIoZSxyLHQsbyl7dmFyIG49LTEsYT1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKG8mJmEmJih0PWVbKytuXSk7KytuPGE7KXQ9cih0LGVbbl0sbixlKTtyZXR1cm4gdH1mdW5jdGlvbiBUcihlLHIsdCxvKXt2YXIgbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKG8mJm4mJih0PWVbLS1uXSk7bi0tOyl0PXIodCxlW25dLG4sZSk7cmV0dXJuIHR9ZnVuY3Rpb24gRHIoZSxyKXtmb3IodmFyIHQ9LTEsbz1udWxsPT1lPzA6ZS5sZW5ndGg7Kyt0PG87KWlmKHIoZVt0XSx0LGUpKXJldHVybiEwO3JldHVybiExfXZhciBCcj1McihcImxlbmd0aFwiKTtmdW5jdGlvbiBScihlLHIsdCl7dmFyIG87cmV0dXJuIHQoZSxmdW5jdGlvbihlLHQsbil7aWYocihlLHQsbikpcmV0dXJuIG89dCwhMX0pLG99ZnVuY3Rpb24gRXIoZSxyLHQsbyl7Zm9yKHZhciBuPWUubGVuZ3RoLGE9dCsobz8xOi0xKTtvP2EtLTorK2E8bjspaWYocihlW2FdLGEsZSkpcmV0dXJuIGE7cmV0dXJuLTF9ZnVuY3Rpb24ganIoZSxyLHQpe3JldHVybiByPT1yP2Z1bmN0aW9uKGUscix0KXtmb3IodmFyIG89dC0xLG49ZS5sZW5ndGg7KytvPG47KWlmKGVbb109PT1yKXJldHVybiBvO3JldHVybi0xfShlLHIsdCk6RXIoZSxOcix0KX1mdW5jdGlvbiAkcihlLHIsdCxvKXtmb3IodmFyIG49dC0xLGE9ZS5sZW5ndGg7KytuPGE7KWlmKG8oZVtuXSxyKSlyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBOcihlKXtyZXR1cm4gZSE9ZX1mdW5jdGlvbiBHcihlLHIpe3ZhciB0PW51bGw9PWU/MDplLmxlbmd0aDtyZXR1cm4gdD9xcihlLHIpL3Q6Zn1mdW5jdGlvbiBMcihlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG51bGw9PXI/bjpyW2VdfX1mdW5jdGlvbiBVcihlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG51bGw9PWU/bjplW3JdfX1mdW5jdGlvbiBWcihlLHIsdCxvLG4pe3JldHVybiBuKGUsZnVuY3Rpb24oZSxuLGEpe3Q9bz8obz0hMSxlKTpyKHQsZSxuLGEpfSksdH1mdW5jdGlvbiBxcihlLHIpe2Zvcih2YXIgdCxvPS0xLGE9ZS5sZW5ndGg7KytvPGE7KXt2YXIgaT1yKGVbb10pO2khPT1uJiYodD10PT09bj9pOnQraSl9cmV0dXJuIHR9ZnVuY3Rpb24gSHIoZSxyKXtmb3IodmFyIHQ9LTEsbz1BcnJheShlKTsrK3Q8ZTspb1t0XT1yKHQpO3JldHVybiBvfWZ1bmN0aW9uIEtyKGUpe3JldHVybiBlP2Uuc2xpY2UoMCx1dChlKSsxKS5yZXBsYWNlKG9lLFwiXCIpOmV9ZnVuY3Rpb24gWnIoZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlKHIpfX1mdW5jdGlvbiBZcihlLHIpe3JldHVybiBGcihyLGZ1bmN0aW9uKHIpe3JldHVybiBlW3JdfSl9ZnVuY3Rpb24gUXIoZSxyKXtyZXR1cm4gZS5oYXMocil9ZnVuY3Rpb24gSnIoZSxyKXtmb3IodmFyIHQ9LTEsbz1lLmxlbmd0aDsrK3Q8byYmanIocixlW3RdLDApPi0xOyk7cmV0dXJuIHR9ZnVuY3Rpb24gWHIoZSxyKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tJiZqcihyLGVbdF0sMCk+LTE7KTtyZXR1cm4gdH12YXIgZXQ9VXIoe8OAOlwiQVwiLMOBOlwiQVwiLMOCOlwiQVwiLMODOlwiQVwiLMOEOlwiQVwiLMOFOlwiQVwiLMOgOlwiYVwiLMOhOlwiYVwiLMOiOlwiYVwiLMOjOlwiYVwiLMOkOlwiYVwiLMOlOlwiYVwiLMOHOlwiQ1wiLMOnOlwiY1wiLMOQOlwiRFwiLMOwOlwiZFwiLMOIOlwiRVwiLMOJOlwiRVwiLMOKOlwiRVwiLMOLOlwiRVwiLMOoOlwiZVwiLMOpOlwiZVwiLMOqOlwiZVwiLMOrOlwiZVwiLMOMOlwiSVwiLMONOlwiSVwiLMOOOlwiSVwiLMOPOlwiSVwiLMOsOlwiaVwiLMOtOlwiaVwiLMOuOlwiaVwiLMOvOlwiaVwiLMOROlwiTlwiLMOxOlwiblwiLMOSOlwiT1wiLMOTOlwiT1wiLMOUOlwiT1wiLMOVOlwiT1wiLMOWOlwiT1wiLMOYOlwiT1wiLMOyOlwib1wiLMOzOlwib1wiLMO0Olwib1wiLMO1Olwib1wiLMO2Olwib1wiLMO4Olwib1wiLMOZOlwiVVwiLMOaOlwiVVwiLMObOlwiVVwiLMOcOlwiVVwiLMO5OlwidVwiLMO6OlwidVwiLMO7OlwidVwiLMO8OlwidVwiLMOdOlwiWVwiLMO9OlwieVwiLMO/OlwieVwiLMOGOlwiQWVcIizDpjpcImFlXCIsw546XCJUaFwiLMO+OlwidGhcIizDnzpcInNzXCIsxIA6XCJBXCIsxII6XCJBXCIsxIQ6XCJBXCIsxIE6XCJhXCIsxIM6XCJhXCIsxIU6XCJhXCIsxIY6XCJDXCIsxIg6XCJDXCIsxIo6XCJDXCIsxIw6XCJDXCIsxIc6XCJjXCIsxIk6XCJjXCIsxIs6XCJjXCIsxI06XCJjXCIsxI46XCJEXCIsxJA6XCJEXCIsxI86XCJkXCIsxJE6XCJkXCIsxJI6XCJFXCIsxJQ6XCJFXCIsxJY6XCJFXCIsxJg6XCJFXCIsxJo6XCJFXCIsxJM6XCJlXCIsxJU6XCJlXCIsxJc6XCJlXCIsxJk6XCJlXCIsxJs6XCJlXCIsxJw6XCJHXCIsxJ46XCJHXCIsxKA6XCJHXCIsxKI6XCJHXCIsxJ06XCJnXCIsxJ86XCJnXCIsxKE6XCJnXCIsxKM6XCJnXCIsxKQ6XCJIXCIsxKY6XCJIXCIsxKU6XCJoXCIsxKc6XCJoXCIsxKg6XCJJXCIsxKo6XCJJXCIsxKw6XCJJXCIsxK46XCJJXCIsxLA6XCJJXCIsxKk6XCJpXCIsxKs6XCJpXCIsxK06XCJpXCIsxK86XCJpXCIsxLE6XCJpXCIsxLQ6XCJKXCIsxLU6XCJqXCIsxLY6XCJLXCIsxLc6XCJrXCIsxLg6XCJrXCIsxLk6XCJMXCIsxLs6XCJMXCIsxL06XCJMXCIsxL86XCJMXCIsxYE6XCJMXCIsxLo6XCJsXCIsxLw6XCJsXCIsxL46XCJsXCIsxYA6XCJsXCIsxYI6XCJsXCIsxYM6XCJOXCIsxYU6XCJOXCIsxYc6XCJOXCIsxYo6XCJOXCIsxYQ6XCJuXCIsxYY6XCJuXCIsxYg6XCJuXCIsxYs6XCJuXCIsxYw6XCJPXCIsxY46XCJPXCIsxZA6XCJPXCIsxY06XCJvXCIsxY86XCJvXCIsxZE6XCJvXCIsxZQ6XCJSXCIsxZY6XCJSXCIsxZg6XCJSXCIsxZU6XCJyXCIsxZc6XCJyXCIsxZk6XCJyXCIsxZo6XCJTXCIsxZw6XCJTXCIsxZ46XCJTXCIsxaA6XCJTXCIsxZs6XCJzXCIsxZ06XCJzXCIsxZ86XCJzXCIsxaE6XCJzXCIsxaI6XCJUXCIsxaQ6XCJUXCIsxaY6XCJUXCIsxaM6XCJ0XCIsxaU6XCJ0XCIsxac6XCJ0XCIsxag6XCJVXCIsxao6XCJVXCIsxaw6XCJVXCIsxa46XCJVXCIsxbA6XCJVXCIsxbI6XCJVXCIsxak6XCJ1XCIsxas6XCJ1XCIsxa06XCJ1XCIsxa86XCJ1XCIsxbE6XCJ1XCIsxbM6XCJ1XCIsxbQ6XCJXXCIsxbU6XCJ3XCIsxbY6XCJZXCIsxbc6XCJ5XCIsxbg6XCJZXCIsxbk6XCJaXCIsxbs6XCJaXCIsxb06XCJaXCIsxbo6XCJ6XCIsxbw6XCJ6XCIsxb46XCJ6XCIsxLI6XCJJSlwiLMSzOlwiaWpcIizFkjpcIk9lXCIsxZM6XCJvZVwiLMWJOlwiJ25cIizFvzpcInNcIn0pLHJ0PVVyKHtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiMzOTtcIn0pO2Z1bmN0aW9uIHR0KGUpe3JldHVyblwiXFxcXFwiK2lyW2VdfWZ1bmN0aW9uIG90KGUpe3JldHVybiBlci50ZXN0KGUpfWZ1bmN0aW9uIG50KGUpe3ZhciByPS0xLHQ9QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUsbyl7dFsrK3JdPVtvLGVdfSksdH1mdW5jdGlvbiBhdChlLHIpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShyKHQpKX19ZnVuY3Rpb24gaXQoZSxyKXtmb3IodmFyIHQ9LTEsbz1lLmxlbmd0aCxuPTAsYT1bXTsrK3Q8bzspe3ZhciBpPWVbdF07aSE9PXImJmkhPT1sfHwoZVt0XT1sLGFbbisrXT10KX1yZXR1cm4gYX1mdW5jdGlvbiBsdChlKXt2YXIgcj0tMSx0PUFycmF5KGUuc2l6ZSk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0Wysrcl09ZX0pLHR9ZnVuY3Rpb24gY3QoZSl7cmV0dXJuIG90KGUpP2Z1bmN0aW9uKGUpe2Zvcih2YXIgcj1KZS5sYXN0SW5kZXg9MDtKZS50ZXN0KGUpOykrK3I7cmV0dXJuIHJ9KGUpOkJyKGUpfWZ1bmN0aW9uIHN0KGUpe3JldHVybiBvdChlKT9mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaChKZSl8fFtdfShlKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIlwiKX0oZSl9ZnVuY3Rpb24gdXQoZSl7Zm9yKHZhciByPWUubGVuZ3RoO3ItLSYmbmUudGVzdChlLmNoYXJBdChyKSk7KTtyZXR1cm4gcn12YXIgZHQ9VXIoe1wiJmFtcDtcIjpcIiZcIixcIiZsdDtcIjpcIjxcIixcIiZndDtcIjpcIj5cIixcIiZxdW90O1wiOidcIicsXCImIzM5O1wiOlwiJ1wifSksZnQ9ZnVuY3Rpb24gZShyKXt2YXIgdCxvPShyPW51bGw9PXI/ZHI6ZnQuZGVmYXVsdHMoZHIuT2JqZWN0KCkscixmdC5waWNrKGRyLHRyKSkpLkFycmF5LG5lPXIuRGF0ZSxfZT1yLkVycm9yLGtlPXIuRnVuY3Rpb24seGU9ci5NYXRoLFBlPXIuT2JqZWN0LFNlPXIuUmVnRXhwLE1lPXIuU3RyaW5nLEllPXIuVHlwZUVycm9yLENlPW8ucHJvdG90eXBlLEFlPWtlLnByb3RvdHlwZSxPZT1QZS5wcm90b3R5cGUsRmU9cltcIl9fY29yZS1qc19zaGFyZWRfX1wiXSxXZT1BZS50b1N0cmluZyx6ZT1PZS5oYXNPd25Qcm9wZXJ0eSxUZT0wLERlPSh0PS9bXi5dKyQvLmV4ZWMoRmUmJkZlLmtleXMmJkZlLmtleXMuSUVfUFJPVE98fFwiXCIpKT9cIlN5bWJvbChzcmMpXzEuXCIrdDpcIlwiLEJlPU9lLnRvU3RyaW5nLFJlPVdlLmNhbGwoUGUpLEVlPWRyLl8samU9U2UoXCJeXCIrV2UuY2FsbCh6ZSkucmVwbGFjZShyZSxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpLCRlPWdyP3IuQnVmZmVyOm4sTmU9ci5TeW1ib2wsR2U9ci5VaW50OEFycmF5LExlPSRlPyRlLmFsbG9jVW5zYWZlOm4sVWU9YXQoUGUuZ2V0UHJvdG90eXBlT2YsUGUpLFZlPVBlLmNyZWF0ZSxxZT1PZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxIZT1DZS5zcGxpY2UsS2U9TmU/TmUuaXNDb25jYXRTcHJlYWRhYmxlOm4sWmU9TmU/TmUuaXRlcmF0b3I6bixKZT1OZT9OZS50b1N0cmluZ1RhZzpuLGVyPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPWNhKFBlLFwiZGVmaW5lUHJvcGVydHlcIik7cmV0dXJuIGUoe30sXCJcIix7fSksZX1jYXRjaChlKXt9fSgpLGlyPXIuY2xlYXJUaW1lb3V0IT09ZHIuY2xlYXJUaW1lb3V0JiZyLmNsZWFyVGltZW91dCxzcj1uZSYmbmUubm93IT09ZHIuRGF0ZS5ub3cmJm5lLm5vdyx1cj1yLnNldFRpbWVvdXQhPT1kci5zZXRUaW1lb3V0JiZyLnNldFRpbWVvdXQsZnI9eGUuY2VpbCxwcj14ZS5mbG9vcixocj1QZS5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsYnI9JGU/JGUuaXNCdWZmZXI6bixCcj1yLmlzRmluaXRlLFVyPUNlLmpvaW4scHQ9YXQoUGUua2V5cyxQZSksZ3Q9eGUubWF4LGh0PXhlLm1pbixidD1uZS5ub3csdnQ9ci5wYXJzZUludCxtdD14ZS5yYW5kb20seXQ9Q2UucmV2ZXJzZSx3dD1jYShyLFwiRGF0YVZpZXdcIiksX3Q9Y2EocixcIk1hcFwiKSxrdD1jYShyLFwiUHJvbWlzZVwiKSx4dD1jYShyLFwiU2V0XCIpLFB0PWNhKHIsXCJXZWFrTWFwXCIpLFN0PWNhKFBlLFwiY3JlYXRlXCIpLE10PVB0JiZuZXcgUHQsSXQ9e30sQ3Q9QmEod3QpLEF0PUJhKF90KSxPdD1CYShrdCksRnQ9QmEoeHQpLFd0PUJhKFB0KSx6dD1OZT9OZS5wcm90b3R5cGU6bixUdD16dD96dC52YWx1ZU9mOm4sRHQ9enQ/enQudG9TdHJpbmc6bjtmdW5jdGlvbiBCdChlKXtpZihYaShlKSYmIUdpKGUpJiYhKGUgaW5zdGFuY2VvZiAkdCkpe2lmKGUgaW5zdGFuY2VvZiBqdClyZXR1cm4gZTtpZih6ZS5jYWxsKGUsXCJfX3dyYXBwZWRfX1wiKSlyZXR1cm4gUmEoZSl9cmV0dXJuIG5ldyBqdChlKX12YXIgUnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBmdW5jdGlvbihyKXtpZighSmkocikpcmV0dXJue307aWYoVmUpcmV0dXJuIFZlKHIpO2UucHJvdG90eXBlPXI7dmFyIHQ9bmV3IGU7cmV0dXJuIGUucHJvdG90eXBlPW4sdH19KCk7ZnVuY3Rpb24gRXQoKXt9ZnVuY3Rpb24ganQoZSxyKXt0aGlzLl9fd3JhcHBlZF9fPWUsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fY2hhaW5fXz0hIXIsdGhpcy5fX2luZGV4X189MCx0aGlzLl9fdmFsdWVzX189bn1mdW5jdGlvbiAkdChlKXt0aGlzLl9fd3JhcHBlZF9fPWUsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fZGlyX189MSx0aGlzLl9fZmlsdGVyZWRfXz0hMSx0aGlzLl9faXRlcmF0ZWVzX189W10sdGhpcy5fX3Rha2VDb3VudF9fPXAsdGhpcy5fX3ZpZXdzX189W119ZnVuY3Rpb24gTnQoZSl7dmFyIHI9LTEsdD1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3I8dDspe3ZhciBvPWVbcl07dGhpcy5zZXQob1swXSxvWzFdKX19ZnVuY3Rpb24gR3QoZSl7dmFyIHI9LTEsdD1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3I8dDspe3ZhciBvPWVbcl07dGhpcy5zZXQob1swXSxvWzFdKX19ZnVuY3Rpb24gTHQoZSl7dmFyIHI9LTEsdD1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3I8dDspe3ZhciBvPWVbcl07dGhpcy5zZXQob1swXSxvWzFdKX19ZnVuY3Rpb24gVXQoZSl7dmFyIHI9LTEsdD1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IEx0Oysrcjx0Oyl0aGlzLmFkZChlW3JdKX1mdW5jdGlvbiBWdChlKXt2YXIgcj10aGlzLl9fZGF0YV9fPW5ldyBHdChlKTt0aGlzLnNpemU9ci5zaXplfWZ1bmN0aW9uIHF0KGUscil7dmFyIHQ9R2koZSksbz0hdCYmTmkoZSksbj0hdCYmIW8mJnFpKGUpLGE9IXQmJiFvJiYhbiYmbGwoZSksaT10fHxvfHxufHxhLGw9aT9IcihlLmxlbmd0aCxNZSk6W10sYz1sLmxlbmd0aDtmb3IodmFyIHMgaW4gZSkhciYmIXplLmNhbGwoZSxzKXx8aSYmKFwibGVuZ3RoXCI9PXN8fG4mJihcIm9mZnNldFwiPT1zfHxcInBhcmVudFwiPT1zKXx8YSYmKFwiYnVmZmVyXCI9PXN8fFwiYnl0ZUxlbmd0aFwiPT1zfHxcImJ5dGVPZmZzZXRcIj09cyl8fGhhKHMsYykpfHxsLnB1c2gocyk7cmV0dXJuIGx9ZnVuY3Rpb24gSHQoZSl7dmFyIHI9ZS5sZW5ndGg7cmV0dXJuIHI/ZVtVbygwLHItMSldOm59ZnVuY3Rpb24gS3QoZSxyKXtyZXR1cm4gRmEoTW4oZSksb28ociwwLGUubGVuZ3RoKSl9ZnVuY3Rpb24gWnQoZSl7cmV0dXJuIEZhKE1uKGUpKX1mdW5jdGlvbiBZdChlLHIsdCl7KHQhPT1uJiYhRWkoZVtyXSx0KXx8dD09PW4mJiEociBpbiBlKSkmJnJvKGUscix0KX1mdW5jdGlvbiBRdChlLHIsdCl7dmFyIG89ZVtyXTt6ZS5jYWxsKGUscikmJkVpKG8sdCkmJih0IT09bnx8ciBpbiBlKXx8cm8oZSxyLHQpfWZ1bmN0aW9uIEp0KGUscil7Zm9yKHZhciB0PWUubGVuZ3RoO3QtLTspaWYoRWkoZVt0XVswXSxyKSlyZXR1cm4gdDtyZXR1cm4tMX1mdW5jdGlvbiBYdChlLHIsdCxvKXtyZXR1cm4gY28oZSxmdW5jdGlvbihlLG4sYSl7cihvLGUsdChlKSxhKX0pLG99ZnVuY3Rpb24gZW8oZSxyKXtyZXR1cm4gZSYmSW4ocixBbChyKSxlKX1mdW5jdGlvbiBybyhlLHIsdCl7XCJfX3Byb3RvX19cIj09ciYmZXI/ZXIoZSxyLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTp0LHdyaXRhYmxlOiEwfSk6ZVtyXT10fWZ1bmN0aW9uIHRvKGUscil7Zm9yKHZhciB0PS0xLGE9ci5sZW5ndGgsaT1vKGEpLGw9bnVsbD09ZTsrK3Q8YTspaVt0XT1sP246UGwoZSxyW3RdKTtyZXR1cm4gaX1mdW5jdGlvbiBvbyhlLHIsdCl7cmV0dXJuIGU9PWUmJih0IT09biYmKGU9ZTw9dD9lOnQpLHIhPT1uJiYoZT1lPj1yP2U6cikpLGV9ZnVuY3Rpb24gbm8oZSxyLHQsbyxhLGkpe3ZhciBsLGM9MSZyLHM9MiZyLHU9NCZyO2lmKHQmJihsPWE/dChlLG8sYSxpKTp0KGUpKSxsIT09bilyZXR1cm4gbDtpZighSmkoZSkpcmV0dXJuIGU7dmFyIGQ9R2koZSk7aWYoZCl7aWYobD1mdW5jdGlvbihlKXt2YXIgcj1lLmxlbmd0aCx0PW5ldyBlLmNvbnN0cnVjdG9yKHIpO3JldHVybiByJiZcInN0cmluZ1wiPT10eXBlb2YgZVswXSYmemUuY2FsbChlLFwiaW5kZXhcIikmJih0LmluZGV4PWUuaW5kZXgsdC5pbnB1dD1lLmlucHV0KSx0fShlKSwhYylyZXR1cm4gTW4oZSxsKX1lbHNle3ZhciBmPWRhKGUpLHA9Zj09d3x8Zj09XztpZihxaShlKSlyZXR1cm4gd24oZSxjKTtpZihmPT1QfHxmPT1ofHxwJiYhYSl7aWYobD1zfHxwP3t9OnBhKGUpLCFjKXJldHVybiBzP2Z1bmN0aW9uKGUscil7cmV0dXJuIEluKGUsdWEoZSkscil9KGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSYmSW4ocixPbChyKSxlKX0obCxlKSk6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gSW4oZSxzYShlKSxyKX0oZSxlbyhsLGUpKX1lbHNle2lmKCFhcltmXSlyZXR1cm4gYT9lOnt9O2w9ZnVuY3Rpb24oZSxyLHQpe3ZhciBvLG49ZS5jb25zdHJ1Y3Rvcjtzd2l0Y2gocil7Y2FzZSBGOnJldHVybiBfbihlKTtjYXNlIHY6Y2FzZSBtOnJldHVybiBuZXcgbigrZSk7Y2FzZSBXOnJldHVybiBmdW5jdGlvbihlLHIpe3ZhciB0PXI/X24oZS5idWZmZXIpOmUuYnVmZmVyO3JldHVybiBuZXcgZS5jb25zdHJ1Y3Rvcih0LGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpfShlLHQpO2Nhc2UgejpjYXNlIFQ6Y2FzZSBEOmNhc2UgQjpjYXNlIFI6Y2FzZSBFOmNhc2UgajpjYXNlICQ6Y2FzZSBOOnJldHVybiBrbihlLHQpO2Nhc2UgazpyZXR1cm4gbmV3IG47Y2FzZSB4OmNhc2UgQzpyZXR1cm4gbmV3IG4oZSk7Y2FzZSBNOnJldHVybiBmdW5jdGlvbihlKXt2YXIgcj1uZXcgZS5jb25zdHJ1Y3RvcihlLnNvdXJjZSxmZS5leGVjKGUpKTtyZXR1cm4gci5sYXN0SW5kZXg9ZS5sYXN0SW5kZXgscn0oZSk7Y2FzZSBJOnJldHVybiBuZXcgbjtjYXNlIEE6cmV0dXJuIG89ZSxUdD9QZShUdC5jYWxsKG8pKTp7fX19KGUsZixjKX19aXx8KGk9bmV3IFZ0KTt2YXIgZz1pLmdldChlKTtpZihnKXJldHVybiBnO2kuc2V0KGUsbCksbmwoZSk/ZS5mb3JFYWNoKGZ1bmN0aW9uKG8pe2wuYWRkKG5vKG8scix0LG8sZSxpKSl9KTplbChlKSYmZS5mb3JFYWNoKGZ1bmN0aW9uKG8sbil7bC5zZXQobixubyhvLHIsdCxuLGUsaSkpfSk7dmFyIGI9ZD9uOih1P3M/cmE6ZWE6cz9PbDpBbCkoZSk7cmV0dXJuIFNyKGJ8fGUsZnVuY3Rpb24obyxuKXtiJiYobz1lW249b10pLFF0KGwsbixubyhvLHIsdCxuLGUsaSkpfSksbH1mdW5jdGlvbiBhbyhlLHIsdCl7dmFyIG89dC5sZW5ndGg7aWYobnVsbD09ZSlyZXR1cm4hbztmb3IoZT1QZShlKTtvLS07KXt2YXIgYT10W29dLGk9clthXSxsPWVbYV07aWYobD09PW4mJiEoYSBpbiBlKXx8IWkobCkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gaW8oZSxyLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEllKGEpO3JldHVybiBJYShmdW5jdGlvbigpe2UuYXBwbHkobix0KX0scil9ZnVuY3Rpb24gbG8oZSxyLHQsbyl7dmFyIG49LTEsYT1BcixpPSEwLGw9ZS5sZW5ndGgsYz1bXSxzPXIubGVuZ3RoO2lmKCFsKXJldHVybiBjO3QmJihyPUZyKHIsWnIodCkpKSxvPyhhPU9yLGk9ITEpOnIubGVuZ3RoPj0yMDAmJihhPVFyLGk9ITEscj1uZXcgVXQocikpO2U6Zm9yKDsrK248bDspe3ZhciB1PWVbbl0sZD1udWxsPT10P3U6dCh1KTtpZih1PW98fDAhPT11P3U6MCxpJiZkPT1kKXtmb3IodmFyIGY9cztmLS07KWlmKHJbZl09PT1kKWNvbnRpbnVlIGU7Yy5wdXNoKHUpfWVsc2UgYShyLGQsbyl8fGMucHVzaCh1KX1yZXR1cm4gY31CdC50ZW1wbGF0ZVNldHRpbmdzPXtlc2NhcGU6WixldmFsdWF0ZTpZLGludGVycG9sYXRlOlEsdmFyaWFibGU6XCJcIixpbXBvcnRzOntfOkJ0fX0sQnQucHJvdG90eXBlPUV0LnByb3RvdHlwZSxCdC5wcm90b3R5cGUuY29uc3RydWN0b3I9QnQsanQucHJvdG90eXBlPVJ0KEV0LnByb3RvdHlwZSksanQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWp0LCR0LnByb3RvdHlwZT1SdChFdC5wcm90b3R5cGUpLCR0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj0kdCxOdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPVN0P1N0KG51bGwpOnt9LHRoaXMuc2l6ZT0wfSxOdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMuaGFzKGUpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1tlXTtyZXR1cm4gdGhpcy5zaXplLT1yPzE6MCxyfSxOdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMuX19kYXRhX187aWYoU3Qpe3ZhciB0PXJbZV07cmV0dXJuIHQ9PT1pP246dH1yZXR1cm4gemUuY2FsbChyLGUpP3JbZV06bn0sTnQucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgcj10aGlzLl9fZGF0YV9fO3JldHVybiBTdD9yW2VdIT09bjp6ZS5jYWxsKHIsZSl9LE50LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLl9fZGF0YV9fO3JldHVybiB0aGlzLnNpemUrPXRoaXMuaGFzKGUpPzA6MSx0W2VdPVN0JiZyPT09bj9pOnIsdGhpc30sR3QucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH0sR3QucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgcj10aGlzLl9fZGF0YV9fLHQ9SnQocixlKTtyZXR1cm4hKHQ8MHx8KHQ9PXIubGVuZ3RoLTE/ci5wb3AoKTpIZS5jYWxsKHIsdCwxKSwtLXRoaXMuc2l6ZSwwKSl9LEd0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5fX2RhdGFfXyx0PUp0KHIsZSk7cmV0dXJuIHQ8MD9uOnJbdF1bMV19LEd0LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIEp0KHRoaXMuX19kYXRhX18sZSk+LTF9LEd0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLl9fZGF0YV9fLG89SnQodCxlKTtyZXR1cm4gbzwwPygrK3RoaXMuc2l6ZSx0LnB1c2goW2Uscl0pKTp0W29dWzFdPXIsdGhpc30sTHQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgTnQsbWFwOm5ldyhfdHx8R3QpLHN0cmluZzpuZXcgTnR9fSxMdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciByPWlhKHRoaXMsZSkuZGVsZXRlKGUpO3JldHVybiB0aGlzLnNpemUtPXI/MTowLHJ9LEx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGlhKHRoaXMsZSkuZ2V0KGUpfSxMdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBpYSh0aGlzLGUpLmhhcyhlKX0sTHQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHIpe3ZhciB0PWlhKHRoaXMsZSksbz10LnNpemU7cmV0dXJuIHQuc2V0KGUsciksdGhpcy5zaXplKz10LnNpemU9PW8/MDoxLHRoaXN9LFV0LnByb3RvdHlwZS5hZGQ9VXQucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uc2V0KGUsaSksdGhpc30sVXQucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoZSl9LFZ0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IEd0LHRoaXMuc2l6ZT0wfSxWdC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMuX19kYXRhX18sdD1yLmRlbGV0ZShlKTtyZXR1cm4gdGhpcy5zaXplPXIuc2l6ZSx0fSxWdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldChlKX0sVnQucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoZSl9LFZ0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD10aGlzLl9fZGF0YV9fO2lmKHQgaW5zdGFuY2VvZiBHdCl7dmFyIG89dC5fX2RhdGFfXztpZighX3R8fG8ubGVuZ3RoPDE5OSlyZXR1cm4gby5wdXNoKFtlLHJdKSx0aGlzLnNpemU9Kyt0LnNpemUsdGhpczt0PXRoaXMuX19kYXRhX189bmV3IEx0KG8pfXJldHVybiB0LnNldChlLHIpLHRoaXMuc2l6ZT10LnNpemUsdGhpc307dmFyIGNvPU9uKHZvKSxzbz1PbihtbywhMCk7ZnVuY3Rpb24gdW8oZSxyKXt2YXIgdD0hMDtyZXR1cm4gY28oZSxmdW5jdGlvbihlLG8sbil7cmV0dXJuIHQ9ISFyKGUsbyxuKX0pLHR9ZnVuY3Rpb24gZm8oZSxyLHQpe2Zvcih2YXIgbz0tMSxhPWUubGVuZ3RoOysrbzxhOyl7dmFyIGk9ZVtvXSxsPXIoaSk7aWYobnVsbCE9bCYmKGM9PT1uP2w9PWwmJiFpbChsKTp0KGwsYykpKXZhciBjPWwscz1pfXJldHVybiBzfWZ1bmN0aW9uIHBvKGUscil7dmFyIHQ9W107cmV0dXJuIGNvKGUsZnVuY3Rpb24oZSxvLG4pe3IoZSxvLG4pJiZ0LnB1c2goZSl9KSx0fWZ1bmN0aW9uIGdvKGUscix0LG8sbil7dmFyIGE9LTEsaT1lLmxlbmd0aDtmb3IodHx8KHQ9Z2EpLG58fChuPVtdKTsrK2E8aTspe3ZhciBsPWVbYV07cj4wJiZ0KGwpP3I+MT9nbyhsLHItMSx0LG8sbik6V3IobixsKTpvfHwobltuLmxlbmd0aF09bCl9cmV0dXJuIG59dmFyIGhvPUZuKCksYm89Rm4oITApO2Z1bmN0aW9uIHZvKGUscil7cmV0dXJuIGUmJmhvKGUscixBbCl9ZnVuY3Rpb24gbW8oZSxyKXtyZXR1cm4gZSYmYm8oZSxyLEFsKX1mdW5jdGlvbiB5byhlLHIpe3JldHVybiBDcihyLGZ1bmN0aW9uKHIpe3JldHVybiBaaShlW3JdKX0pfWZ1bmN0aW9uIHdvKGUscil7Zm9yKHZhciB0PTAsbz0ocj1ibihyLGUpKS5sZW5ndGg7bnVsbCE9ZSYmdDxvOyllPWVbRGEoclt0KytdKV07cmV0dXJuIHQmJnQ9PW8/ZTpufWZ1bmN0aW9uIF9vKGUscix0KXt2YXIgbz1yKGUpO3JldHVybiBHaShlKT9vOldyKG8sdChlKSl9ZnVuY3Rpb24ga28oZSl7cmV0dXJuIG51bGw9PWU/ZT09PW4/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpKZSYmSmUgaW4gUGUoZSk/ZnVuY3Rpb24oZSl7dmFyIHI9emUuY2FsbChlLEplKSx0PWVbSmVdO3RyeXtlW0plXT1uO3ZhciBvPSEwfWNhdGNoKGUpe312YXIgYT1CZS5jYWxsKGUpO3JldHVybiBvJiYocj9lW0plXT10OmRlbGV0ZSBlW0plXSksYX0oZSk6ZnVuY3Rpb24oZSl7cmV0dXJuIEJlLmNhbGwoZSl9KGUpfWZ1bmN0aW9uIHhvKGUscil7cmV0dXJuIGU+cn1mdW5jdGlvbiBQbyhlLHIpe3JldHVybiBudWxsIT1lJiZ6ZS5jYWxsKGUscil9ZnVuY3Rpb24gU28oZSxyKXtyZXR1cm4gbnVsbCE9ZSYmciBpbiBQZShlKX1mdW5jdGlvbiBNbyhlLHIsdCl7Zm9yKHZhciBhPXQ/T3I6QXIsaT1lWzBdLmxlbmd0aCxsPWUubGVuZ3RoLGM9bCxzPW8obCksdT0xLzAsZD1bXTtjLS07KXt2YXIgZj1lW2NdO2MmJnImJihmPUZyKGYsWnIocikpKSx1PWh0KGYubGVuZ3RoLHUpLHNbY109IXQmJihyfHxpPj0xMjAmJmYubGVuZ3RoPj0xMjApP25ldyBVdChjJiZmKTpufWY9ZVswXTt2YXIgcD0tMSxnPXNbMF07ZTpmb3IoOysrcDxpJiZkLmxlbmd0aDx1Oyl7dmFyIGg9ZltwXSxiPXI/cihoKTpoO2lmKGg9dHx8MCE9PWg/aDowLCEoZz9RcihnLGIpOmEoZCxiLHQpKSl7Zm9yKGM9bDstLWM7KXt2YXIgdj1zW2NdO2lmKCEodj9Rcih2LGIpOmEoZVtjXSxiLHQpKSljb250aW51ZSBlfWcmJmcucHVzaChiKSxkLnB1c2goaCl9fXJldHVybiBkfWZ1bmN0aW9uIElvKGUscix0KXt2YXIgbz1udWxsPT0oZT1QYShlLHI9Ym4ocixlKSkpP2U6ZVtEYShLYShyKSldO3JldHVybiBudWxsPT1vP246eHIobyxlLHQpfWZ1bmN0aW9uIENvKGUpe3JldHVybiBYaShlKSYma28oZSk9PWh9ZnVuY3Rpb24gQW8oZSxyLHQsbyxhKXtyZXR1cm4gZT09PXJ8fChudWxsPT1lfHxudWxsPT1yfHwhWGkoZSkmJiFYaShyKT9lIT1lJiZyIT1yOmZ1bmN0aW9uKGUscix0LG8sYSxpKXt2YXIgbD1HaShlKSxjPUdpKHIpLHM9bD9iOmRhKGUpLHU9Yz9iOmRhKHIpLGQ9KHM9cz09aD9QOnMpPT1QLGY9KHU9dT09aD9QOnUpPT1QLHA9cz09dTtpZihwJiZxaShlKSl7aWYoIXFpKHIpKXJldHVybiExO2w9ITAsZD0hMX1pZihwJiYhZClyZXR1cm4gaXx8KGk9bmV3IFZ0KSxsfHxsbChlKT9KbihlLHIsdCxvLGEsaSk6ZnVuY3Rpb24oZSxyLHQsbyxuLGEsaSl7c3dpdGNoKHQpe2Nhc2UgVzppZihlLmJ5dGVMZW5ndGghPXIuYnl0ZUxlbmd0aHx8ZS5ieXRlT2Zmc2V0IT1yLmJ5dGVPZmZzZXQpcmV0dXJuITE7ZT1lLmJ1ZmZlcixyPXIuYnVmZmVyO2Nhc2UgRjpyZXR1cm4hKGUuYnl0ZUxlbmd0aCE9ci5ieXRlTGVuZ3RofHwhYShuZXcgR2UoZSksbmV3IEdlKHIpKSk7Y2FzZSB2OmNhc2UgbTpjYXNlIHg6cmV0dXJuIEVpKCtlLCtyKTtjYXNlIHk6cmV0dXJuIGUubmFtZT09ci5uYW1lJiZlLm1lc3NhZ2U9PXIubWVzc2FnZTtjYXNlIE06Y2FzZSBDOnJldHVybiBlPT1yK1wiXCI7Y2FzZSBrOnZhciBsPW50O2Nhc2UgSTp2YXIgYz0xJm87aWYobHx8KGw9bHQpLGUuc2l6ZSE9ci5zaXplJiYhYylyZXR1cm4hMTt2YXIgcz1pLmdldChlKTtpZihzKXJldHVybiBzPT1yO298PTIsaS5zZXQoZSxyKTt2YXIgdT1KbihsKGUpLGwociksbyxuLGEsaSk7cmV0dXJuIGkuZGVsZXRlKGUpLHU7Y2FzZSBBOmlmKFR0KXJldHVybiBUdC5jYWxsKGUpPT1UdC5jYWxsKHIpfXJldHVybiExfShlLHIscyx0LG8sYSxpKTtpZighKDEmdCkpe3ZhciBnPWQmJnplLmNhbGwoZSxcIl9fd3JhcHBlZF9fXCIpLHc9ZiYmemUuY2FsbChyLFwiX193cmFwcGVkX19cIik7aWYoZ3x8dyl7dmFyIF89Zz9lLnZhbHVlKCk6ZSxTPXc/ci52YWx1ZSgpOnI7cmV0dXJuIGl8fChpPW5ldyBWdCksYShfLFMsdCxvLGkpfX1yZXR1cm4hIXAmJihpfHwoaT1uZXcgVnQpLGZ1bmN0aW9uKGUscix0LG8sYSxpKXt2YXIgbD0xJnQsYz1lYShlKSxzPWMubGVuZ3RoO2lmKHMhPWVhKHIpLmxlbmd0aCYmIWwpcmV0dXJuITE7Zm9yKHZhciB1PXM7dS0tOyl7dmFyIGQ9Y1t1XTtpZighKGw/ZCBpbiByOnplLmNhbGwocixkKSkpcmV0dXJuITF9dmFyIGY9aS5nZXQoZSkscD1pLmdldChyKTtpZihmJiZwKXJldHVybiBmPT1yJiZwPT1lO3ZhciBnPSEwO2kuc2V0KGUsciksaS5zZXQocixlKTtmb3IodmFyIGg9bDsrK3U8czspe3ZhciBiPWVbZD1jW3VdXSx2PXJbZF07aWYobyl2YXIgbT1sP28odixiLGQscixlLGkpOm8oYix2LGQsZSxyLGkpO2lmKCEobT09PW4/Yj09PXZ8fGEoYix2LHQsbyxpKTptKSl7Zz0hMTticmVha31ofHwoaD1cImNvbnN0cnVjdG9yXCI9PWQpfWlmKGcmJiFoKXt2YXIgeT1lLmNvbnN0cnVjdG9yLHc9ci5jb25zdHJ1Y3Rvcjt5PT13fHwhKFwiY29uc3RydWN0b3JcImluIGUpfHwhKFwiY29uc3RydWN0b3JcImluIHIpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB5JiZ5IGluc3RhbmNlb2YgeSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdyYmdyBpbnN0YW5jZW9mIHd8fChnPSExKX1yZXR1cm4gaS5kZWxldGUoZSksaS5kZWxldGUociksZ30oZSxyLHQsbyxhLGkpKX0oZSxyLHQsbyxBbyxhKSl9ZnVuY3Rpb24gT28oZSxyLHQsbyl7dmFyIGE9dC5sZW5ndGgsaT1hLGw9IW87aWYobnVsbD09ZSlyZXR1cm4haTtmb3IoZT1QZShlKTthLS07KXt2YXIgYz10W2FdO2lmKGwmJmNbMl0/Y1sxXSE9PWVbY1swXV06IShjWzBdaW4gZSkpcmV0dXJuITF9Zm9yKDsrK2E8aTspe3ZhciBzPShjPXRbYV0pWzBdLHU9ZVtzXSxkPWNbMV07aWYobCYmY1syXSl7aWYodT09PW4mJiEocyBpbiBlKSlyZXR1cm4hMX1lbHNle3ZhciBmPW5ldyBWdDtpZihvKXZhciBwPW8odSxkLHMsZSxyLGYpO2lmKCEocD09PW4/QW8oZCx1LDMsbyxmKTpwKSlyZXR1cm4hMX19cmV0dXJuITB9ZnVuY3Rpb24gRm8oZSl7cmV0dXJuISghSmkoZSl8fChyPWUsRGUmJkRlIGluIHIpKSYmKFppKGUpP2plOmhlKS50ZXN0KEJhKGUpKTt2YXIgcn1mdW5jdGlvbiBXbyhlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6bnVsbD09ZT9yYzpcIm9iamVjdFwiPT10eXBlb2YgZT9HaShlKT9SbyhlWzBdLGVbMV0pOkJvKGUpOnVjKGUpfWZ1bmN0aW9uIHpvKGUpe2lmKCF3YShlKSlyZXR1cm4gcHQoZSk7dmFyIHI9W107Zm9yKHZhciB0IGluIFBlKGUpKXplLmNhbGwoZSx0KSYmXCJjb25zdHJ1Y3RvclwiIT10JiZyLnB1c2godCk7cmV0dXJuIHJ9ZnVuY3Rpb24gVG8oZSxyKXtyZXR1cm4gZTxyfWZ1bmN0aW9uIERvKGUscil7dmFyIHQ9LTEsbj1VaShlKT9vKGUubGVuZ3RoKTpbXTtyZXR1cm4gY28oZSxmdW5jdGlvbihlLG8sYSl7blsrK3RdPXIoZSxvLGEpfSksbn1mdW5jdGlvbiBCbyhlKXt2YXIgcj1sYShlKTtyZXR1cm4gMT09ci5sZW5ndGgmJnJbMF1bMl0/a2EoclswXVswXSxyWzBdWzFdKTpmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV8fE9vKHQsZSxyKX19ZnVuY3Rpb24gUm8oZSxyKXtyZXR1cm4gdmEoZSkmJl9hKHIpP2thKERhKGUpLHIpOmZ1bmN0aW9uKHQpe3ZhciBvPVBsKHQsZSk7cmV0dXJuIG89PT1uJiZvPT09cj9TbCh0LGUpOkFvKHIsbywzKX19ZnVuY3Rpb24gRW8oZSxyLHQsbyxhKXtlIT09ciYmaG8ocixmdW5jdGlvbihpLGwpe2lmKGF8fChhPW5ldyBWdCksSmkoaSkpIWZ1bmN0aW9uKGUscix0LG8sYSxpLGwpe3ZhciBjPVNhKGUsdCkscz1TYShyLHQpLHU9bC5nZXQocyk7aWYodSlZdChlLHQsdSk7ZWxzZXt2YXIgZD1pP2koYyxzLHQrXCJcIixlLHIsbCk6bixmPWQ9PT1uO2lmKGYpe3ZhciBwPUdpKHMpLGc9IXAmJnFpKHMpLGg9IXAmJiFnJiZsbChzKTtkPXMscHx8Z3x8aD9HaShjKT9kPWM6VmkoYyk/ZD1NbihjKTpnPyhmPSExLGQ9d24ocywhMCkpOmg/KGY9ITEsZD1rbihzLCEwKSk6ZD1bXTp0bChzKXx8Tmkocyk/KGQ9YyxOaShjKT9kPWhsKGMpOkppKGMpJiYhWmkoYyl8fChkPXBhKHMpKSk6Zj0hMX1mJiYobC5zZXQocyxkKSxhKGQscyxvLGksbCksbC5kZWxldGUocykpLFl0KGUsdCxkKX19KGUscixsLHQsRW8sbyxhKTtlbHNle3ZhciBjPW8/byhTYShlLGwpLGksbCtcIlwiLGUscixhKTpuO2M9PT1uJiYoYz1pKSxZdChlLGwsYyl9fSxPbCl9ZnVuY3Rpb24gam8oZSxyKXt2YXIgdD1lLmxlbmd0aDtpZih0KXJldHVybiBoYShyKz1yPDA/dDowLHQpP2Vbcl06bn1mdW5jdGlvbiAkbyhlLHIsdCl7cj1yLmxlbmd0aD9GcihyLGZ1bmN0aW9uKGUpe3JldHVybiBHaShlKT9mdW5jdGlvbihyKXtyZXR1cm4gd28ociwxPT09ZS5sZW5ndGg/ZVswXTplKX06ZX0pOltyY107dmFyIG89LTE7cj1GcihyLFpyKGFhKCkpKTt2YXIgbj1EbyhlLGZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1GcihyLGZ1bmN0aW9uKHIpe3JldHVybiByKGUpfSk7cmV0dXJue2NyaXRlcmlhOmEsaW5kZXg6KytvLHZhbHVlOmV9fSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPWUubGVuZ3RoO2ZvcihlLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSxyLHQpe2Zvcih2YXIgbz0tMSxuPWUuY3JpdGVyaWEsYT1yLmNyaXRlcmlhLGk9bi5sZW5ndGgsbD10Lmxlbmd0aDsrK288aTspe3ZhciBjPXhuKG5bb10sYVtvXSk7aWYoYylyZXR1cm4gbz49bD9jOmMqKFwiZGVzY1wiPT10W29dPy0xOjEpfXJldHVybiBlLmluZGV4LXIuaW5kZXh9KGUscix0KX0pO3ItLTspZVtyXT1lW3JdLnZhbHVlO3JldHVybiBlfShuKX1mdW5jdGlvbiBObyhlLHIsdCl7Zm9yKHZhciBvPS0xLG49ci5sZW5ndGgsYT17fTsrK288bjspe3ZhciBpPXJbb10sbD13byhlLGkpO3QobCxpKSYmWm8oYSxibihpLGUpLGwpfXJldHVybiBhfWZ1bmN0aW9uIEdvKGUscix0LG8pe3ZhciBuPW8/JHI6anIsYT0tMSxpPXIubGVuZ3RoLGw9ZTtmb3IoZT09PXImJihyPU1uKHIpKSx0JiYobD1GcihlLFpyKHQpKSk7KythPGk7KWZvcih2YXIgYz0wLHM9clthXSx1PXQ/dChzKTpzOyhjPW4obCx1LGMsbykpPi0xOylsIT09ZSYmSGUuY2FsbChsLGMsMSksSGUuY2FsbChlLGMsMSk7cmV0dXJuIGV9ZnVuY3Rpb24gTG8oZSxyKXtmb3IodmFyIHQ9ZT9yLmxlbmd0aDowLG89dC0xO3QtLTspe3ZhciBuPXJbdF07aWYodD09b3x8biE9PWEpe3ZhciBhPW47aGEobik/SGUuY2FsbChlLG4sMSk6Y24oZSxuKX19cmV0dXJuIGV9ZnVuY3Rpb24gVW8oZSxyKXtyZXR1cm4gZStwcihtdCgpKihyLWUrMSkpfWZ1bmN0aW9uIFZvKGUscil7dmFyIHQ9XCJcIjtpZighZXx8cjwxfHxyPmQpcmV0dXJuIHQ7ZG97ciUyJiYodCs9ZSksKHI9cHIoci8yKSkmJihlKz1lKX13aGlsZShyKTtyZXR1cm4gdH1mdW5jdGlvbiBxbyhlLHIpe3JldHVybiBDYSh4YShlLHIscmMpLGUrXCJcIil9ZnVuY3Rpb24gSG8oZSl7cmV0dXJuIEh0KEVsKGUpKX1mdW5jdGlvbiBLbyhlLHIpe3ZhciB0PUVsKGUpO3JldHVybiBGYSh0LG9vKHIsMCx0Lmxlbmd0aCkpfWZ1bmN0aW9uIFpvKGUscix0LG8pe2lmKCFKaShlKSlyZXR1cm4gZTtmb3IodmFyIGE9LTEsaT0ocj1ibihyLGUpKS5sZW5ndGgsbD1pLTEsYz1lO251bGwhPWMmJisrYTxpOyl7dmFyIHM9RGEoclthXSksdT10O2lmKFwiX19wcm90b19fXCI9PT1zfHxcImNvbnN0cnVjdG9yXCI9PT1zfHxcInByb3RvdHlwZVwiPT09cylyZXR1cm4gZTtpZihhIT1sKXt2YXIgZD1jW3NdOyh1PW8/byhkLHMsYyk6bik9PT1uJiYodT1KaShkKT9kOmhhKHJbYSsxXSk/W106e30pfVF0KGMscyx1KSxjPWNbc119cmV0dXJuIGV9dmFyIFlvPU10P2Z1bmN0aW9uKGUscil7cmV0dXJuIE10LnNldChlLHIpLGV9OnJjLFFvPWVyP2Z1bmN0aW9uKGUscil7cmV0dXJuIGVyKGUsXCJ0b1N0cmluZ1wiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpKbChyKSx3cml0YWJsZTohMH0pfTpyYztmdW5jdGlvbiBKbyhlKXtyZXR1cm4gRmEoRWwoZSkpfWZ1bmN0aW9uIFhvKGUscix0KXt2YXIgbj0tMSxhPWUubGVuZ3RoO3I8MCYmKHI9LXI+YT8wOmErciksKHQ9dD5hP2E6dCk8MCYmKHQrPWEpLGE9cj50PzA6dC1yPj4+MCxyPj4+PTA7Zm9yKHZhciBpPW8oYSk7KytuPGE7KWlbbl09ZVtuK3JdO3JldHVybiBpfWZ1bmN0aW9uIGVuKGUscil7dmFyIHQ7cmV0dXJuIGNvKGUsZnVuY3Rpb24oZSxvLG4pe3JldHVybiEodD1yKGUsbyxuKSl9KSwhIXR9ZnVuY3Rpb24gcm4oZSxyLHQpe3ZhciBvPTAsbj1udWxsPT1lP286ZS5sZW5ndGg7aWYoXCJudW1iZXJcIj09dHlwZW9mIHImJnI9PXImJm48PTIxNDc0ODM2NDcpe2Zvcig7bzxuOyl7dmFyIGE9bytuPj4+MSxpPWVbYV07bnVsbCE9PWkmJiFpbChpKSYmKHQ/aTw9cjppPHIpP289YSsxOm49YX1yZXR1cm4gbn1yZXR1cm4gdG4oZSxyLHJjLHQpfWZ1bmN0aW9uIHRuKGUscix0LG8pe3ZhciBhPTAsaT1udWxsPT1lPzA6ZS5sZW5ndGg7aWYoMD09PWkpcmV0dXJuIDA7Zm9yKHZhciBsPShyPXQocikpIT1yLGM9bnVsbD09PXIscz1pbChyKSx1PXI9PT1uO2E8aTspe3ZhciBkPXByKChhK2kpLzIpLGY9dChlW2RdKSxwPWYhPT1uLGc9bnVsbD09PWYsaD1mPT1mLGI9aWwoZik7aWYobCl2YXIgdj1vfHxoO2Vsc2Ugdj11P2gmJihvfHxwKTpjP2gmJnAmJihvfHwhZyk6cz9oJiZwJiYhZyYmKG98fCFiKTohZyYmIWImJihvP2Y8PXI6ZjxyKTt2P2E9ZCsxOmk9ZH1yZXR1cm4gaHQoaSw0Mjk0OTY3Mjk0KX1mdW5jdGlvbiBvbihlLHIpe2Zvcih2YXIgdD0tMSxvPWUubGVuZ3RoLG49MCxhPVtdOysrdDxvOyl7dmFyIGk9ZVt0XSxsPXI/cihpKTppO2lmKCF0fHwhRWkobCxjKSl7dmFyIGM9bDthW24rK109MD09PWk/MDppfX1yZXR1cm4gYX1mdW5jdGlvbiBubihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9lOmlsKGUpP2Y6K2V9ZnVuY3Rpb24gYW4oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoR2koZSkpcmV0dXJuIEZyKGUsYW4pK1wiXCI7aWYoaWwoZSkpcmV0dXJuIER0P0R0LmNhbGwoZSk6XCJcIjt2YXIgcj1lK1wiXCI7cmV0dXJuXCIwXCI9PXImJjEvZT09LTEvMD9cIi0wXCI6cn1mdW5jdGlvbiBsbihlLHIsdCl7dmFyIG89LTEsbj1BcixhPWUubGVuZ3RoLGk9ITAsbD1bXSxjPWw7aWYodClpPSExLG49T3I7ZWxzZSBpZihhPj0yMDApe3ZhciBzPXI/bnVsbDpxbihlKTtpZihzKXJldHVybiBsdChzKTtpPSExLG49UXIsYz1uZXcgVXR9ZWxzZSBjPXI/W106bDtlOmZvcig7KytvPGE7KXt2YXIgdT1lW29dLGQ9cj9yKHUpOnU7aWYodT10fHwwIT09dT91OjAsaSYmZD09ZCl7Zm9yKHZhciBmPWMubGVuZ3RoO2YtLTspaWYoY1tmXT09PWQpY29udGludWUgZTtyJiZjLnB1c2goZCksbC5wdXNoKHUpfWVsc2UgbihjLGQsdCl8fChjIT09bCYmYy5wdXNoKGQpLGwucHVzaCh1KSl9cmV0dXJuIGx9ZnVuY3Rpb24gY24oZSxyKXtyZXR1cm4gbnVsbD09KGU9UGEoZSxyPWJuKHIsZSkpKXx8ZGVsZXRlIGVbRGEoS2EocikpXX1mdW5jdGlvbiBzbihlLHIsdCxvKXtyZXR1cm4gWm8oZSxyLHQod28oZSxyKSksbyl9ZnVuY3Rpb24gdW4oZSxyLHQsbyl7Zm9yKHZhciBuPWUubGVuZ3RoLGE9bz9uOi0xOyhvP2EtLTorK2E8bikmJnIoZVthXSxhLGUpOyk7cmV0dXJuIHQ/WG8oZSxvPzA6YSxvP2ErMTpuKTpYbyhlLG8/YSsxOjAsbz9uOmEpfWZ1bmN0aW9uIGRuKGUscil7dmFyIHQ9ZTtyZXR1cm4gdCBpbnN0YW5jZW9mICR0JiYodD10LnZhbHVlKCkpLHpyKHIsZnVuY3Rpb24oZSxyKXtyZXR1cm4gci5mdW5jLmFwcGx5KHIudGhpc0FyZyxXcihbZV0sci5hcmdzKSl9LHQpfWZ1bmN0aW9uIGZuKGUscix0KXt2YXIgbj1lLmxlbmd0aDtpZihuPDIpcmV0dXJuIG4/bG4oZVswXSk6W107Zm9yKHZhciBhPS0xLGk9byhuKTsrK2E8bjspZm9yKHZhciBsPWVbYV0sYz0tMTsrK2M8bjspYyE9YSYmKGlbYV09bG8oaVthXXx8bCxlW2NdLHIsdCkpO3JldHVybiBsbihnbyhpLDEpLHIsdCl9ZnVuY3Rpb24gcG4oZSxyLHQpe2Zvcih2YXIgbz0tMSxhPWUubGVuZ3RoLGk9ci5sZW5ndGgsbD17fTsrK288YTspe3ZhciBjPW88aT9yW29dOm47dChsLGVbb10sYyl9cmV0dXJuIGx9ZnVuY3Rpb24gZ24oZSl7cmV0dXJuIFZpKGUpP2U6W119ZnVuY3Rpb24gaG4oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOnJjfWZ1bmN0aW9uIGJuKGUscil7cmV0dXJuIEdpKGUpP2U6dmEoZSxyKT9bZV06VGEoYmwoZSkpfXZhciB2bj1xbztmdW5jdGlvbiBtbihlLHIsdCl7dmFyIG89ZS5sZW5ndGg7cmV0dXJuIHQ9dD09PW4/bzp0LCFyJiZ0Pj1vP2U6WG8oZSxyLHQpfXZhciB5bj1pcnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGRyLmNsZWFyVGltZW91dChlKX07ZnVuY3Rpb24gd24oZSxyKXtpZihyKXJldHVybiBlLnNsaWNlKCk7dmFyIHQ9ZS5sZW5ndGgsbz1MZT9MZSh0KTpuZXcgZS5jb25zdHJ1Y3Rvcih0KTtyZXR1cm4gZS5jb3B5KG8pLG99ZnVuY3Rpb24gX24oZSl7dmFyIHI9bmV3IGUuY29uc3RydWN0b3IoZS5ieXRlTGVuZ3RoKTtyZXR1cm4gbmV3IEdlKHIpLnNldChuZXcgR2UoZSkpLHJ9ZnVuY3Rpb24ga24oZSxyKXt2YXIgdD1yP19uKGUuYnVmZmVyKTplLmJ1ZmZlcjtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IodCxlLmJ5dGVPZmZzZXQsZS5sZW5ndGgpfWZ1bmN0aW9uIHhuKGUscil7aWYoZSE9PXIpe3ZhciB0PWUhPT1uLG89bnVsbD09PWUsYT1lPT1lLGk9aWwoZSksbD1yIT09bixjPW51bGw9PT1yLHM9cj09cix1PWlsKHIpO2lmKCFjJiYhdSYmIWkmJmU+cnx8aSYmbCYmcyYmIWMmJiF1fHxvJiZsJiZzfHwhdCYmc3x8IWEpcmV0dXJuIDE7aWYoIW8mJiFpJiYhdSYmZTxyfHx1JiZ0JiZhJiYhbyYmIWl8fGMmJnQmJmF8fCFsJiZhfHwhcylyZXR1cm4tMX1yZXR1cm4gMH1mdW5jdGlvbiBQbihlLHIsdCxuKXtmb3IodmFyIGE9LTEsaT1lLmxlbmd0aCxsPXQubGVuZ3RoLGM9LTEscz1yLmxlbmd0aCx1PWd0KGktbCwwKSxkPW8ocyt1KSxmPSFuOysrYzxzOylkW2NdPXJbY107Zm9yKDsrK2E8bDspKGZ8fGE8aSkmJihkW3RbYV1dPWVbYV0pO2Zvcig7dS0tOylkW2MrK109ZVthKytdO3JldHVybiBkfWZ1bmN0aW9uIFNuKGUscix0LG4pe2Zvcih2YXIgYT0tMSxpPWUubGVuZ3RoLGw9LTEsYz10Lmxlbmd0aCxzPS0xLHU9ci5sZW5ndGgsZD1ndChpLWMsMCksZj1vKGQrdSkscD0hbjsrK2E8ZDspZlthXT1lW2FdO2Zvcih2YXIgZz1hOysrczx1OylmW2crc109cltzXTtmb3IoOysrbDxjOykocHx8YTxpKSYmKGZbZyt0W2xdXT1lW2ErK10pO3JldHVybiBmfWZ1bmN0aW9uIE1uKGUscil7dmFyIHQ9LTEsbj1lLmxlbmd0aDtmb3Iocnx8KHI9byhuKSk7Kyt0PG47KXJbdF09ZVt0XTtyZXR1cm4gcn1mdW5jdGlvbiBJbihlLHIsdCxvKXt2YXIgYT0hdDt0fHwodD17fSk7Zm9yKHZhciBpPS0xLGw9ci5sZW5ndGg7KytpPGw7KXt2YXIgYz1yW2ldLHM9bz9vKHRbY10sZVtjXSxjLHQsZSk6bjtzPT09biYmKHM9ZVtjXSksYT9ybyh0LGMscyk6UXQodCxjLHMpfXJldHVybiB0fWZ1bmN0aW9uIENuKGUscil7cmV0dXJuIGZ1bmN0aW9uKHQsbyl7dmFyIG49R2kodCk/UHI6WHQsYT1yP3IoKTp7fTtyZXR1cm4gbih0LGUsYWEobywyKSxhKX19ZnVuY3Rpb24gQW4oZSl7cmV0dXJuIHFvKGZ1bmN0aW9uKHIsdCl7dmFyIG89LTEsYT10Lmxlbmd0aCxpPWE+MT90W2EtMV06bixsPWE+Mj90WzJdOm47Zm9yKGk9ZS5sZW5ndGg+MyYmXCJmdW5jdGlvblwiPT10eXBlb2YgaT8oYS0tLGkpOm4sbCYmYmEodFswXSx0WzFdLGwpJiYoaT1hPDM/bjppLGE9MSkscj1QZShyKTsrK288YTspe3ZhciBjPXRbb107YyYmZShyLGMsbyxpKX1yZXR1cm4gcn0pfWZ1bmN0aW9uIE9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKHQsbyl7aWYobnVsbD09dClyZXR1cm4gdDtpZighVWkodCkpcmV0dXJuIGUodCxvKTtmb3IodmFyIG49dC5sZW5ndGgsYT1yP246LTEsaT1QZSh0KTsocj9hLS06KythPG4pJiYhMSE9PW8oaVthXSxhLGkpOyk7cmV0dXJuIHR9fWZ1bmN0aW9uIEZuKGUpe3JldHVybiBmdW5jdGlvbihyLHQsbyl7Zm9yKHZhciBuPS0xLGE9UGUociksaT1vKHIpLGw9aS5sZW5ndGg7bC0tOyl7dmFyIGM9aVtlP2w6KytuXTtpZighMT09PXQoYVtjXSxjLGEpKWJyZWFrfXJldHVybiByfX1mdW5jdGlvbiBXbihlKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9b3Qocj1ibChyKSk/c3Qocik6bixvPXQ/dFswXTpyLmNoYXJBdCgwKSxhPXQ/bW4odCwxKS5qb2luKFwiXCIpOnIuc2xpY2UoMSk7cmV0dXJuIG9bZV0oKSthfX1mdW5jdGlvbiB6bihlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHpyKFpsKE5sKHIpLnJlcGxhY2UoWWUsXCJcIikpLGUsXCJcIil9fWZ1bmN0aW9uIFRuKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciByPWFyZ3VtZW50cztzd2l0Y2goci5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZShyWzBdKTtjYXNlIDI6cmV0dXJuIG5ldyBlKHJbMF0sclsxXSk7Y2FzZSAzOnJldHVybiBuZXcgZShyWzBdLHJbMV0sclsyXSk7Y2FzZSA0OnJldHVybiBuZXcgZShyWzBdLHJbMV0sclsyXSxyWzNdKTtjYXNlIDU6cmV0dXJuIG5ldyBlKHJbMF0sclsxXSxyWzJdLHJbM10scls0XSk7Y2FzZSA2OnJldHVybiBuZXcgZShyWzBdLHJbMV0sclsyXSxyWzNdLHJbNF0scls1XSk7Y2FzZSA3OnJldHVybiBuZXcgZShyWzBdLHJbMV0sclsyXSxyWzNdLHJbNF0scls1XSxyWzZdKX12YXIgdD1SdChlLnByb3RvdHlwZSksbz1lLmFwcGx5KHQscik7cmV0dXJuIEppKG8pP286dH19ZnVuY3Rpb24gRG4oZSl7cmV0dXJuIGZ1bmN0aW9uKHIsdCxvKXt2YXIgYT1QZShyKTtpZighVWkocikpe3ZhciBpPWFhKHQsMyk7cj1BbChyKSx0PWZ1bmN0aW9uKGUpe3JldHVybiBpKGFbZV0sZSxhKX19dmFyIGw9ZShyLHQsbyk7cmV0dXJuIGw+LTE/YVtpP3JbbF06bF06bn19ZnVuY3Rpb24gQm4oZSl7cmV0dXJuIFhuKGZ1bmN0aW9uKHIpe3ZhciB0PXIubGVuZ3RoLG89dCxpPWp0LnByb3RvdHlwZS50aHJ1O2ZvcihlJiZyLnJldmVyc2UoKTtvLS07KXt2YXIgbD1yW29dO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGwpdGhyb3cgbmV3IEllKGEpO2lmKGkmJiFjJiZcIndyYXBwZXJcIj09b2EobCkpdmFyIGM9bmV3IGp0KFtdLCEwKX1mb3Iobz1jP286dDsrK288dDspe3ZhciBzPW9hKGw9cltvXSksdT1cIndyYXBwZXJcIj09cz90YShsKTpuO2M9dSYmbWEodVswXSkmJjQyND09dVsxXSYmIXVbNF0ubGVuZ3RoJiYxPT11WzldP2Nbb2EodVswXSldLmFwcGx5KGMsdVszXSk6MT09bC5sZW5ndGgmJm1hKGwpP2Nbc10oKTpjLnRocnUobCl9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLG89ZVswXTtpZihjJiYxPT1lLmxlbmd0aCYmR2kobykpcmV0dXJuIGMucGxhbnQobykudmFsdWUoKTtmb3IodmFyIG49MCxhPXQ/cltuXS5hcHBseSh0aGlzLGUpOm87KytuPHQ7KWE9cltuXS5jYWxsKHRoaXMsYSk7cmV0dXJuIGF9fSl9ZnVuY3Rpb24gUm4oZSxyLHQsYSxpLGwsYyx1LGQsZil7dmFyIHA9ciZzLGc9MSZyLGg9MiZyLGI9MjQmcix2PTUxMiZyLG09aD9uOlRuKGUpO3JldHVybiBmdW5jdGlvbiBzKCl7Zm9yKHZhciB5PWFyZ3VtZW50cy5sZW5ndGgsdz1vKHkpLF89eTtfLS07KXdbX109YXJndW1lbnRzW19dO2lmKGIpdmFyIGs9bmEocykseD1mdW5jdGlvbihlLHIpe2Zvcih2YXIgdD1lLmxlbmd0aCxvPTA7dC0tOyllW3RdPT09ciYmKytvO3JldHVybiBvfSh3LGspO2lmKGEmJih3PVBuKHcsYSxpLGIpKSxsJiYodz1Tbih3LGwsYyxiKSkseS09eCxiJiZ5PGYpe3ZhciBQPWl0KHcsayk7cmV0dXJuIFVuKGUscixSbixzLnBsYWNlaG9sZGVyLHQsdyxQLHUsZCxmLXkpfXZhciBTPWc/dDp0aGlzLE09aD9TW2VdOmU7cmV0dXJuIHk9dy5sZW5ndGgsdT93PWZ1bmN0aW9uKGUscil7Zm9yKHZhciB0PWUubGVuZ3RoLG89aHQoci5sZW5ndGgsdCksYT1NbihlKTtvLS07KXt2YXIgaT1yW29dO2Vbb109aGEoaSx0KT9hW2ldOm59cmV0dXJuIGV9KHcsdSk6diYmeT4xJiZ3LnJldmVyc2UoKSxwJiZkPHkmJih3Lmxlbmd0aD1kKSx0aGlzJiZ0aGlzIT09ZHImJnRoaXMgaW5zdGFuY2VvZiBzJiYoTT1tfHxUbihNKSksTS5hcHBseShTLHcpfX1mdW5jdGlvbiBFbihlLHIpe3JldHVybiBmdW5jdGlvbih0LG8pe3JldHVybiBmdW5jdGlvbihlLHIsdCxvKXtyZXR1cm4gdm8oZSxmdW5jdGlvbihlLG4sYSl7cihvLHQoZSksbixhKX0pLG99KHQsZSxyKG8pLHt9KX19ZnVuY3Rpb24gam4oZSxyKXtyZXR1cm4gZnVuY3Rpb24odCxvKXt2YXIgYTtpZih0PT09biYmbz09PW4pcmV0dXJuIHI7aWYodCE9PW4mJihhPXQpLG8hPT1uKXtpZihhPT09bilyZXR1cm4gbztcInN0cmluZ1wiPT10eXBlb2YgdHx8XCJzdHJpbmdcIj09dHlwZW9mIG8/KHQ9YW4odCksbz1hbihvKSk6KHQ9bm4odCksbz1ubihvKSksYT1lKHQsbyl9cmV0dXJuIGF9fWZ1bmN0aW9uICRuKGUpe3JldHVybiBYbihmdW5jdGlvbihyKXtyZXR1cm4gcj1GcihyLFpyKGFhKCkpKSxxbyhmdW5jdGlvbih0KXt2YXIgbz10aGlzO3JldHVybiBlKHIsZnVuY3Rpb24oZSl7cmV0dXJuIHhyKGUsbyx0KX0pfSl9KX1mdW5jdGlvbiBObihlLHIpe3ZhciB0PShyPXI9PT1uP1wiIFwiOmFuKHIpKS5sZW5ndGg7aWYodDwyKXJldHVybiB0P1ZvKHIsZSk6cjt2YXIgbz1WbyhyLGZyKGUvY3QocikpKTtyZXR1cm4gb3Qocik/bW4oc3QobyksMCxlKS5qb2luKFwiXCIpOm8uc2xpY2UoMCxlKX1mdW5jdGlvbiBHbihlKXtyZXR1cm4gZnVuY3Rpb24ocix0LGEpe3JldHVybiBhJiZcIm51bWJlclwiIT10eXBlb2YgYSYmYmEocix0LGEpJiYodD1hPW4pLHI9ZGwociksdD09PW4/KHQ9cixyPTApOnQ9ZGwodCksZnVuY3Rpb24oZSxyLHQsbil7Zm9yKHZhciBhPS0xLGk9Z3QoZnIoKHItZSkvKHR8fDEpKSwwKSxsPW8oaSk7aS0tOylsW24/aTorK2FdPWUsZSs9dDtyZXR1cm4gbH0ocix0LGE9YT09PW4/cjx0PzE6LTE6ZGwoYSksZSl9fWZ1bmN0aW9uIExuKGUpe3JldHVybiBmdW5jdGlvbihyLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByJiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KHI9Z2wociksdD1nbCh0KSksZShyLHQpfX1mdW5jdGlvbiBVbihlLHIsdCxvLGEsaSxsLHMsdSxkKXt2YXIgZj04JnI7cnw9Zj9jOjY0LDQmKHImPX4oZj82NDpjKSl8fChyJj0tNCk7dmFyIHA9W2UscixhLGY/aTpuLGY/bDpuLGY/bjppLGY/bjpsLHMsdSxkXSxnPXQuYXBwbHkobixwKTtyZXR1cm4gbWEoZSkmJk1hKGcscCksZy5wbGFjZWhvbGRlcj1vLEFhKGcsZSxyKX1mdW5jdGlvbiBWbihlKXt2YXIgcj14ZVtlXTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZihlPWdsKGUpLCh0PW51bGw9PXQ/MDpodChmbCh0KSwyOTIpKSYmQnIoZSkpe3ZhciBvPShibChlKStcImVcIikuc3BsaXQoXCJlXCIpO3JldHVybisoKG89KGJsKHIob1swXStcImVcIisoK29bMV0rdCkpKStcImVcIikuc3BsaXQoXCJlXCIpKVswXStcImVcIisoK29bMV0tdCkpfXJldHVybiByKGUpfX12YXIgcW49eHQmJjEvbHQobmV3IHh0KFssLTBdKSlbMV09PXU/ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB4dChlKX06aWM7ZnVuY3Rpb24gSG4oZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciB0PWRhKHIpO3JldHVybiB0PT1rP250KHIpOnQ9PUk/ZnVuY3Rpb24oZSl7dmFyIHI9LTEsdD1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dFsrK3JdPVtlLGVdfSksdH0ocik6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gRnIocixmdW5jdGlvbihyKXtyZXR1cm5bcixlW3JdXX0pfShyLGUocikpfX1mdW5jdGlvbiBLbihlLHIsdCxpLHUsZCxmLHApe3ZhciBnPTImcjtpZighZyYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgSWUoYSk7dmFyIGg9aT9pLmxlbmd0aDowO2lmKGh8fChyJj0tOTcsaT11PW4pLGY9Zj09PW4/ZjpndChmbChmKSwwKSxwPXA9PT1uP3A6ZmwocCksaC09dT91Lmxlbmd0aDowLDY0JnIpe3ZhciBiPWksdj11O2k9dT1ufXZhciBtPWc/bjp0YShlKSx5PVtlLHIsdCxpLHUsYix2LGQsZixwXTtpZihtJiZmdW5jdGlvbihlLHIpe3ZhciB0PWVbMV0sbz1yWzFdLG49dHxvLGE9bjwxMzEsaT1vPT1zJiY4PT10fHxvPT1zJiYyNTY9PXQmJmVbN10ubGVuZ3RoPD1yWzhdfHwzODQ9PW8mJnJbN10ubGVuZ3RoPD1yWzhdJiY4PT10O2lmKCFhJiYhaSlyZXR1cm4gZTsxJm8mJihlWzJdPXJbMl0sbnw9MSZ0PzA6NCk7dmFyIGM9clszXTtpZihjKXt2YXIgdT1lWzNdO2VbM109dT9Qbih1LGMscls0XSk6YyxlWzRdPXU/aXQoZVszXSxsKTpyWzRdfShjPXJbNV0pJiYodT1lWzVdLGVbNV09dT9Tbih1LGMscls2XSk6YyxlWzZdPXU/aXQoZVs1XSxsKTpyWzZdKSwoYz1yWzddKSYmKGVbN109YyksbyZzJiYoZVs4XT1udWxsPT1lWzhdP3JbOF06aHQoZVs4XSxyWzhdKSksbnVsbD09ZVs5XSYmKGVbOV09cls5XSksZVswXT1yWzBdLGVbMV09bn0oeSxtKSxlPXlbMF0scj15WzFdLHQ9eVsyXSxpPXlbM10sdT15WzRdLCEocD15WzldPXlbOV09PT1uP2c/MDplLmxlbmd0aDpndCh5WzldLWgsMCkpJiYyNCZyJiYociY9LTI1KSxyJiYxIT1yKXc9OD09cnx8MTY9PXI/ZnVuY3Rpb24oZSxyLHQpe3ZhciBhPVRuKGUpO3JldHVybiBmdW5jdGlvbiBpKCl7Zm9yKHZhciBsPWFyZ3VtZW50cy5sZW5ndGgsYz1vKGwpLHM9bCx1PW5hKGkpO3MtLTspY1tzXT1hcmd1bWVudHNbc107dmFyIGQ9bDwzJiZjWzBdIT09dSYmY1tsLTFdIT09dT9bXTppdChjLHUpO3JldHVybihsLT1kLmxlbmd0aCk8dD9VbihlLHIsUm4saS5wbGFjZWhvbGRlcixuLGMsZCxuLG4sdC1sKTp4cih0aGlzJiZ0aGlzIT09ZHImJnRoaXMgaW5zdGFuY2VvZiBpP2E6ZSx0aGlzLGMpfX0oZSxyLHApOnIhPWMmJjMzIT1yfHx1Lmxlbmd0aD9Sbi5hcHBseShuLHkpOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBhPTEmcixpPVRuKGUpO3JldHVybiBmdW5jdGlvbiByKCl7Zm9yKHZhciBsPS0xLGM9YXJndW1lbnRzLmxlbmd0aCxzPS0xLHU9bi5sZW5ndGgsZD1vKHUrYyksZj10aGlzJiZ0aGlzIT09ZHImJnRoaXMgaW5zdGFuY2VvZiByP2k6ZTsrK3M8dTspZFtzXT1uW3NdO2Zvcig7Yy0tOylkW3MrK109YXJndW1lbnRzWysrbF07cmV0dXJuIHhyKGYsYT90OnRoaXMsZCl9fShlLHIsdCxpKTtlbHNlIHZhciB3PWZ1bmN0aW9uKGUscix0KXt2YXIgbz0xJnIsbj1UbihlKTtyZXR1cm4gZnVuY3Rpb24gcigpe3JldHVybih0aGlzJiZ0aGlzIT09ZHImJnRoaXMgaW5zdGFuY2VvZiByP246ZSkuYXBwbHkobz90OnRoaXMsYXJndW1lbnRzKX19KGUscix0KTtyZXR1cm4gQWEoKG0/WW86TWEpKHcseSksZSxyKX1mdW5jdGlvbiBabihlLHIsdCxvKXtyZXR1cm4gZT09PW58fEVpKGUsT2VbdF0pJiYhemUuY2FsbChvLHQpP3I6ZX1mdW5jdGlvbiBZbihlLHIsdCxvLGEsaSl7cmV0dXJuIEppKGUpJiZKaShyKSYmKGkuc2V0KHIsZSksRW8oZSxyLG4sWW4saSksaS5kZWxldGUocikpLGV9ZnVuY3Rpb24gUW4oZSl7cmV0dXJuIHRsKGUpP246ZX1mdW5jdGlvbiBKbihlLHIsdCxvLGEsaSl7dmFyIGw9MSZ0LGM9ZS5sZW5ndGgscz1yLmxlbmd0aDtpZihjIT1zJiYhKGwmJnM+YykpcmV0dXJuITE7dmFyIHU9aS5nZXQoZSksZD1pLmdldChyKTtpZih1JiZkKXJldHVybiB1PT1yJiZkPT1lO3ZhciBmPS0xLHA9ITAsZz0yJnQ/bmV3IFV0Om47Zm9yKGkuc2V0KGUsciksaS5zZXQocixlKTsrK2Y8Yzspe3ZhciBoPWVbZl0sYj1yW2ZdO2lmKG8pdmFyIHY9bD9vKGIsaCxmLHIsZSxpKTpvKGgsYixmLGUscixpKTtpZih2IT09bil7aWYodiljb250aW51ZTtwPSExO2JyZWFrfWlmKGcpe2lmKCFEcihyLGZ1bmN0aW9uKGUscil7aWYoIVFyKGcscikmJihoPT09ZXx8YShoLGUsdCxvLGkpKSlyZXR1cm4gZy5wdXNoKHIpfSkpe3A9ITE7YnJlYWt9fWVsc2UgaWYoaCE9PWImJiFhKGgsYix0LG8saSkpe3A9ITE7YnJlYWt9fXJldHVybiBpLmRlbGV0ZShlKSxpLmRlbGV0ZShyKSxwfWZ1bmN0aW9uIFhuKGUpe3JldHVybiBDYSh4YShlLG4sTGEpLGUrXCJcIil9ZnVuY3Rpb24gZWEoZSl7cmV0dXJuIF9vKGUsQWwsc2EpfWZ1bmN0aW9uIHJhKGUpe3JldHVybiBfbyhlLE9sLHVhKX12YXIgdGE9TXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIE10LmdldChlKX06aWM7ZnVuY3Rpb24gb2EoZSl7Zm9yKHZhciByPWUubmFtZStcIlwiLHQ9SXRbcl0sbz16ZS5jYWxsKEl0LHIpP3QubGVuZ3RoOjA7by0tOyl7dmFyIG49dFtvXSxhPW4uZnVuYztpZihudWxsPT1hfHxhPT1lKXJldHVybiBuLm5hbWV9cmV0dXJuIHJ9ZnVuY3Rpb24gbmEoZSl7cmV0dXJuKHplLmNhbGwoQnQsXCJwbGFjZWhvbGRlclwiKT9CdDplKS5wbGFjZWhvbGRlcn1mdW5jdGlvbiBhYSgpe3ZhciBlPUJ0Lml0ZXJhdGVlfHx0YztyZXR1cm4gZT1lPT09dGM/V286ZSxhcmd1bWVudHMubGVuZ3RoP2UoYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSk6ZX1mdW5jdGlvbiBpYShlLHIpe3ZhciB0LG8sbj1lLl9fZGF0YV9fO3JldHVybihcInN0cmluZ1wiPT0obz10eXBlb2YodD1yKSl8fFwibnVtYmVyXCI9PW98fFwic3ltYm9sXCI9PW98fFwiYm9vbGVhblwiPT1vP1wiX19wcm90b19fXCIhPT10Om51bGw9PT10KT9uW1wic3RyaW5nXCI9PXR5cGVvZiByP1wic3RyaW5nXCI6XCJoYXNoXCJdOm4ubWFwfWZ1bmN0aW9uIGxhKGUpe2Zvcih2YXIgcj1BbChlKSx0PXIubGVuZ3RoO3QtLTspe3ZhciBvPXJbdF0sbj1lW29dO3JbdF09W28sbixfYShuKV19cmV0dXJuIHJ9ZnVuY3Rpb24gY2EoZSxyKXt2YXIgdD1mdW5jdGlvbihlLHIpe3JldHVybiBudWxsPT1lP246ZVtyXX0oZSxyKTtyZXR1cm4gRm8odCk/dDpufXZhciBzYT1ocj9mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9bXTooZT1QZShlKSxDcihocihlKSxmdW5jdGlvbihyKXtyZXR1cm4gcWUuY2FsbChlLHIpfSkpfTpwYyx1YT1ocj9mdW5jdGlvbihlKXtmb3IodmFyIHI9W107ZTspV3IocixzYShlKSksZT1VZShlKTtyZXR1cm4gcn06cGMsZGE9a287ZnVuY3Rpb24gZmEoZSxyLHQpe2Zvcih2YXIgbz0tMSxuPShyPWJuKHIsZSkpLmxlbmd0aCxhPSExOysrbzxuOyl7dmFyIGk9RGEocltvXSk7aWYoIShhPW51bGwhPWUmJnQoZSxpKSkpYnJlYWs7ZT1lW2ldfXJldHVybiBhfHwrK28hPW4/YTohIShuPW51bGw9PWU/MDplLmxlbmd0aCkmJlFpKG4pJiZoYShpLG4pJiYoR2koZSl8fE5pKGUpKX1mdW5jdGlvbiBwYShlKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmNvbnN0cnVjdG9yfHx3YShlKT97fTpSdChVZShlKSl9ZnVuY3Rpb24gZ2EoZSl7cmV0dXJuIEdpKGUpfHxOaShlKXx8ISEoS2UmJmUmJmVbS2VdKX1mdW5jdGlvbiBoYShlLHIpe3ZhciB0PXR5cGVvZiBlO3JldHVybiEhKHI9bnVsbD09cj9kOnIpJiYoXCJudW1iZXJcIj09dHx8XCJzeW1ib2xcIiE9dCYmdmUudGVzdChlKSkmJmU+LTEmJmUlMT09MCYmZTxyfWZ1bmN0aW9uIGJhKGUscix0KXtpZighSmkodCkpcmV0dXJuITE7dmFyIG89dHlwZW9mIHI7cmV0dXJuISEoXCJudW1iZXJcIj09bz9VaSh0KSYmaGEocix0Lmxlbmd0aCk6XCJzdHJpbmdcIj09byYmciBpbiB0KSYmRWkodFtyXSxlKX1mdW5jdGlvbiB2YShlLHIpe2lmKEdpKGUpKXJldHVybiExO3ZhciB0PXR5cGVvZiBlO3JldHVybiEoXCJudW1iZXJcIiE9dCYmXCJzeW1ib2xcIiE9dCYmXCJib29sZWFuXCIhPXQmJm51bGwhPWUmJiFpbChlKSl8fFgudGVzdChlKXx8IUoudGVzdChlKXx8bnVsbCE9ciYmZSBpbiBQZShyKX1mdW5jdGlvbiBtYShlKXt2YXIgcj1vYShlKSx0PUJ0W3JdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fCEociBpbiAkdC5wcm90b3R5cGUpKXJldHVybiExO2lmKGU9PT10KXJldHVybiEwO3ZhciBvPXRhKHQpO3JldHVybiEhbyYmZT09PW9bMF19KHd0JiZkYShuZXcgd3QobmV3IEFycmF5QnVmZmVyKDEpKSkhPVd8fF90JiZkYShuZXcgX3QpIT1rfHxrdCYmZGEoa3QucmVzb2x2ZSgpKSE9U3x8eHQmJmRhKG5ldyB4dCkhPUl8fFB0JiZkYShuZXcgUHQpIT1PKSYmKGRhPWZ1bmN0aW9uKGUpe3ZhciByPWtvKGUpLHQ9cj09UD9lLmNvbnN0cnVjdG9yOm4sbz10P0JhKHQpOlwiXCI7aWYobylzd2l0Y2gobyl7Y2FzZSBDdDpyZXR1cm4gVztjYXNlIEF0OnJldHVybiBrO2Nhc2UgT3Q6cmV0dXJuIFM7Y2FzZSBGdDpyZXR1cm4gSTtjYXNlIFd0OnJldHVybiBPfXJldHVybiByfSk7dmFyIHlhPUZlP1ppOmdjO2Z1bmN0aW9uIHdhKGUpe3ZhciByPWUmJmUuY29uc3RydWN0b3I7cmV0dXJuIGU9PT0oXCJmdW5jdGlvblwiPT10eXBlb2YgciYmci5wcm90b3R5cGV8fE9lKX1mdW5jdGlvbiBfYShlKXtyZXR1cm4gZT09ZSYmIUppKGUpfWZ1bmN0aW9uIGthKGUscil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiZ0W2VdPT09ciYmKHIhPT1ufHxlIGluIFBlKHQpKX19ZnVuY3Rpb24geGEoZSxyLHQpe3JldHVybiByPWd0KHI9PT1uP2UubGVuZ3RoLTE6ciwwKSxmdW5jdGlvbigpe2Zvcih2YXIgbj1hcmd1bWVudHMsYT0tMSxpPWd0KG4ubGVuZ3RoLXIsMCksbD1vKGkpOysrYTxpOylsW2FdPW5bcithXTthPS0xO2Zvcih2YXIgYz1vKHIrMSk7KythPHI7KWNbYV09blthXTtyZXR1cm4gY1tyXT10KGwpLHhyKGUsdGhpcyxjKX19ZnVuY3Rpb24gUGEoZSxyKXtyZXR1cm4gci5sZW5ndGg8Mj9lOndvKGUsWG8ociwwLC0xKSl9ZnVuY3Rpb24gU2EoZSxyKXtpZigoXCJjb25zdHJ1Y3RvclwiIT09cnx8XCJmdW5jdGlvblwiIT10eXBlb2YgZVtyXSkmJlwiX19wcm90b19fXCIhPXIpcmV0dXJuIGVbcl19dmFyIE1hPU9hKFlvKSxJYT11cnx8ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZHIuc2V0VGltZW91dChlLHIpfSxDYT1PYShRbyk7ZnVuY3Rpb24gQWEoZSxyLHQpe3ZhciBvPXIrXCJcIjtyZXR1cm4gQ2EoZSxmdW5jdGlvbihlLHIpe3ZhciB0PXIubGVuZ3RoO2lmKCF0KXJldHVybiBlO3ZhciBvPXQtMTtyZXR1cm4gcltvXT0odD4xP1wiJiBcIjpcIlwiKStyW29dLHI9ci5qb2luKHQ+Mj9cIiwgXCI6XCIgXCIpLGUucmVwbGFjZShhZSxcIntcXG4vKiBbd3JhcHBlZCB3aXRoIFwiK3IrXCJdICovXFxuXCIpfShvLGZ1bmN0aW9uKGUscil7cmV0dXJuIFNyKGcsZnVuY3Rpb24odCl7dmFyIG89XCJfLlwiK3RbMF07ciZ0WzFdJiYhQXIoZSxvKSYmZS5wdXNoKG8pfSksZS5zb3J0KCl9KGZ1bmN0aW9uKGUpe3ZhciByPWUubWF0Y2goaWUpO3JldHVybiByP3JbMV0uc3BsaXQobGUpOltdfShvKSx0KSkpfWZ1bmN0aW9uIE9hKGUpe3ZhciByPTAsdD0wO3JldHVybiBmdW5jdGlvbigpe3ZhciBvPWJ0KCksYT0xNi0oby10KTtpZih0PW8sYT4wKXtpZigrK3I+PTgwMClyZXR1cm4gYXJndW1lbnRzWzBdfWVsc2Ugcj0wO3JldHVybiBlLmFwcGx5KG4sYXJndW1lbnRzKX19ZnVuY3Rpb24gRmEoZSxyKXt2YXIgdD0tMSxvPWUubGVuZ3RoLGE9by0xO2ZvcihyPXI9PT1uP286cjsrK3Q8cjspe3ZhciBpPVVvKHQsYSksbD1lW2ldO2VbaV09ZVt0XSxlW3RdPWx9cmV0dXJuIGUubGVuZ3RoPXIsZX12YXIgV2EsemEsVGE9KFdhPVdpKGZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiA0Nj09PWUuY2hhckNvZGVBdCgwKSYmci5wdXNoKFwiXCIpLGUucmVwbGFjZShlZSxmdW5jdGlvbihlLHQsbyxuKXtyLnB1c2gobz9uLnJlcGxhY2UodWUsXCIkMVwiKTp0fHxlKX0pLHJ9LGZ1bmN0aW9uKGUpe3JldHVybiA1MDA9PT16YS5zaXplJiZ6YS5jbGVhcigpLGV9KSx6YT1XYS5jYWNoZSxXYSk7ZnVuY3Rpb24gRGEoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGlsKGUpKXJldHVybiBlO3ZhciByPWUrXCJcIjtyZXR1cm5cIjBcIj09ciYmMS9lPT0tMS8wP1wiLTBcIjpyfWZ1bmN0aW9uIEJhKGUpe2lmKG51bGwhPWUpe3RyeXtyZXR1cm4gV2UuY2FsbChlKX1jYXRjaChlKXt9dHJ5e3JldHVybiBlK1wiXCJ9Y2F0Y2goZSl7fX1yZXR1cm5cIlwifWZ1bmN0aW9uIFJhKGUpe2lmKGUgaW5zdGFuY2VvZiAkdClyZXR1cm4gZS5jbG9uZSgpO3ZhciByPW5ldyBqdChlLl9fd3JhcHBlZF9fLGUuX19jaGFpbl9fKTtyZXR1cm4gci5fX2FjdGlvbnNfXz1NbihlLl9fYWN0aW9uc19fKSxyLl9faW5kZXhfXz1lLl9faW5kZXhfXyxyLl9fdmFsdWVzX189ZS5fX3ZhbHVlc19fLHJ9dmFyIEVhPXFvKGZ1bmN0aW9uKGUscil7cmV0dXJuIFZpKGUpP2xvKGUsZ28ociwxLFZpLCEwKSk6W119KSxqYT1xbyhmdW5jdGlvbihlLHIpe3ZhciB0PUthKHIpO3JldHVybiBWaSh0KSYmKHQ9biksVmkoZSk/bG8oZSxnbyhyLDEsVmksITApLGFhKHQsMikpOltdfSksJGE9cW8oZnVuY3Rpb24oZSxyKXt2YXIgdD1LYShyKTtyZXR1cm4gVmkodCkmJih0PW4pLFZpKGUpP2xvKGUsZ28ociwxLFZpLCEwKSxuLHQpOltdfSk7ZnVuY3Rpb24gTmEoZSxyLHQpe3ZhciBvPW51bGw9PWU/MDplLmxlbmd0aDtpZighbylyZXR1cm4tMTt2YXIgbj1udWxsPT10PzA6ZmwodCk7cmV0dXJuIG48MCYmKG49Z3QobytuLDApKSxFcihlLGFhKHIsMyksbil9ZnVuY3Rpb24gR2EoZSxyLHQpe3ZhciBvPW51bGw9PWU/MDplLmxlbmd0aDtpZighbylyZXR1cm4tMTt2YXIgYT1vLTE7cmV0dXJuIHQhPT1uJiYoYT1mbCh0KSxhPXQ8MD9ndChvK2EsMCk6aHQoYSxvLTEpKSxFcihlLGFhKHIsMyksYSwhMCl9ZnVuY3Rpb24gTGEoZSl7cmV0dXJuIG51bGwhPWUmJmUubGVuZ3RoP2dvKGUsMSk6W119ZnVuY3Rpb24gVWEoZSl7cmV0dXJuIGUmJmUubGVuZ3RoP2VbMF06bn12YXIgVmE9cW8oZnVuY3Rpb24oZSl7dmFyIHI9RnIoZSxnbik7cmV0dXJuIHIubGVuZ3RoJiZyWzBdPT09ZVswXT9NbyhyKTpbXX0pLHFhPXFvKGZ1bmN0aW9uKGUpe3ZhciByPUthKGUpLHQ9RnIoZSxnbik7cmV0dXJuIHI9PT1LYSh0KT9yPW46dC5wb3AoKSx0Lmxlbmd0aCYmdFswXT09PWVbMF0/TW8odCxhYShyLDIpKTpbXX0pLEhhPXFvKGZ1bmN0aW9uKGUpe3ZhciByPUthKGUpLHQ9RnIoZSxnbik7cmV0dXJuKHI9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOm4pJiZ0LnBvcCgpLHQubGVuZ3RoJiZ0WzBdPT09ZVswXT9Nbyh0LG4scik6W119KTtmdW5jdGlvbiBLYShlKXt2YXIgcj1udWxsPT1lPzA6ZS5sZW5ndGg7cmV0dXJuIHI/ZVtyLTFdOm59dmFyIFphPXFvKFlhKTtmdW5jdGlvbiBZYShlLHIpe3JldHVybiBlJiZlLmxlbmd0aCYmciYmci5sZW5ndGg/R28oZSxyKTplfXZhciBRYT1YbihmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/MDplLmxlbmd0aCxvPXRvKGUscik7cmV0dXJuIExvKGUsRnIocixmdW5jdGlvbihlKXtyZXR1cm4gaGEoZSx0KT8rZTplfSkuc29ydCh4bikpLG99KTtmdW5jdGlvbiBKYShlKXtyZXR1cm4gbnVsbD09ZT9lOnl0LmNhbGwoZSl9dmFyIFhhPXFvKGZ1bmN0aW9uKGUpe3JldHVybiBsbihnbyhlLDEsVmksITApKX0pLGVpPXFvKGZ1bmN0aW9uKGUpe3ZhciByPUthKGUpO3JldHVybiBWaShyKSYmKHI9biksbG4oZ28oZSwxLFZpLCEwKSxhYShyLDIpKX0pLHJpPXFvKGZ1bmN0aW9uKGUpe3ZhciByPUthKGUpO3JldHVybiByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cjpuLGxuKGdvKGUsMSxWaSwhMCksbixyKX0pO2Z1bmN0aW9uIHRpKGUpe2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuW107dmFyIHI9MDtyZXR1cm4gZT1DcihlLGZ1bmN0aW9uKGUpe2lmKFZpKGUpKXJldHVybiByPWd0KGUubGVuZ3RoLHIpLCEwfSksSHIocixmdW5jdGlvbihyKXtyZXR1cm4gRnIoZSxMcihyKSl9KX1mdW5jdGlvbiBvaShlLHIpe2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuW107dmFyIHQ9dGkoZSk7cmV0dXJuIG51bGw9PXI/dDpGcih0LGZ1bmN0aW9uKGUpe3JldHVybiB4cihyLG4sZSl9KX12YXIgbmk9cW8oZnVuY3Rpb24oZSxyKXtyZXR1cm4gVmkoZSk/bG8oZSxyKTpbXX0pLGFpPXFvKGZ1bmN0aW9uKGUpe3JldHVybiBmbihDcihlLFZpKSl9KSxpaT1xbyhmdW5jdGlvbihlKXt2YXIgcj1LYShlKTtyZXR1cm4gVmkocikmJihyPW4pLGZuKENyKGUsVmkpLGFhKHIsMikpfSksbGk9cW8oZnVuY3Rpb24oZSl7dmFyIHI9S2EoZSk7cmV0dXJuIHI9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOm4sZm4oQ3IoZSxWaSksbixyKX0pLGNpPXFvKHRpKSxzaT1xbyhmdW5jdGlvbihlKXt2YXIgcj1lLmxlbmd0aCx0PXI+MT9lW3ItMV06bjtyZXR1cm4gdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyhlLnBvcCgpLHQpOm4sb2koZSx0KX0pO2Z1bmN0aW9uIHVpKGUpe3ZhciByPUJ0KGUpO3JldHVybiByLl9fY2hhaW5fXz0hMCxyfWZ1bmN0aW9uIGRpKGUscil7cmV0dXJuIHIoZSl9dmFyIGZpPVhuKGZ1bmN0aW9uKGUpe3ZhciByPWUubGVuZ3RoLHQ9cj9lWzBdOjAsbz10aGlzLl9fd3JhcHBlZF9fLGE9ZnVuY3Rpb24ocil7cmV0dXJuIHRvKHIsZSl9O3JldHVybiEocj4xfHx0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkmJm8gaW5zdGFuY2VvZiAkdCYmaGEodCk/KChvPW8uc2xpY2UodCwrdCsocj8xOjApKSkuX19hY3Rpb25zX18ucHVzaCh7ZnVuYzpkaSxhcmdzOlthXSx0aGlzQXJnOm59KSxuZXcganQobyx0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihlKXtyZXR1cm4gciYmIWUubGVuZ3RoJiZlLnB1c2gobiksZX0pKTp0aGlzLnRocnUoYSl9KSxwaT1DbihmdW5jdGlvbihlLHIsdCl7emUuY2FsbChlLHQpPysrZVt0XTpybyhlLHQsMSl9KSxnaT1EbihOYSksaGk9RG4oR2EpO2Z1bmN0aW9uIGJpKGUscil7cmV0dXJuKEdpKGUpP1NyOmNvKShlLGFhKHIsMykpfWZ1bmN0aW9uIHZpKGUscil7cmV0dXJuKEdpKGUpP01yOnNvKShlLGFhKHIsMykpfXZhciBtaT1DbihmdW5jdGlvbihlLHIsdCl7emUuY2FsbChlLHQpP2VbdF0ucHVzaChyKTpybyhlLHQsW3JdKX0pLHlpPXFvKGZ1bmN0aW9uKGUscix0KXt2YXIgbj0tMSxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHIsaT1VaShlKT9vKGUubGVuZ3RoKTpbXTtyZXR1cm4gY28oZSxmdW5jdGlvbihlKXtpWysrbl09YT94cihyLGUsdCk6SW8oZSxyLHQpfSksaX0pLHdpPUNuKGZ1bmN0aW9uKGUscix0KXtybyhlLHQscil9KTtmdW5jdGlvbiBfaShlLHIpe3JldHVybihHaShlKT9GcjpEbykoZSxhYShyLDMpKX12YXIga2k9Q24oZnVuY3Rpb24oZSxyLHQpe2VbdD8wOjFdLnB1c2gocil9LGZ1bmN0aW9uKCl7cmV0dXJuW1tdLFtdXX0pLHhpPXFvKGZ1bmN0aW9uKGUscil7aWYobnVsbD09ZSlyZXR1cm5bXTt2YXIgdD1yLmxlbmd0aDtyZXR1cm4gdD4xJiZiYShlLHJbMF0sclsxXSk/cj1bXTp0PjImJmJhKHJbMF0sclsxXSxyWzJdKSYmKHI9W3JbMF1dKSwkbyhlLGdvKHIsMSksW10pfSksUGk9c3J8fGZ1bmN0aW9uKCl7cmV0dXJuIGRyLkRhdGUubm93KCl9O2Z1bmN0aW9uIFNpKGUscix0KXtyZXR1cm4gcj10P246cixyPWUmJm51bGw9PXI/ZS5sZW5ndGg6cixLbihlLHMsbixuLG4sbixyKX1mdW5jdGlvbiBNaShlLHIpe3ZhciB0O2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEllKGEpO3JldHVybiBlPWZsKGUpLGZ1bmN0aW9uKCl7cmV0dXJuLS1lPjAmJih0PXIuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxlPD0xJiYocj1uKSx0fX12YXIgSWk9cW8oZnVuY3Rpb24oZSxyLHQpe3ZhciBvPTE7aWYodC5sZW5ndGgpe3ZhciBuPWl0KHQsbmEoSWkpKTtvfD1jfXJldHVybiBLbihlLG8scix0LG4pfSksQ2k9cW8oZnVuY3Rpb24oZSxyLHQpe3ZhciBvPTM7aWYodC5sZW5ndGgpe3ZhciBuPWl0KHQsbmEoQ2kpKTtvfD1jfXJldHVybiBLbihyLG8sZSx0LG4pfSk7ZnVuY3Rpb24gQWkoZSxyLHQpe3ZhciBvLGksbCxjLHMsdSxkPTAsZj0hMSxwPSExLGc9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgSWUoYSk7ZnVuY3Rpb24gaChyKXt2YXIgdD1vLGE9aTtyZXR1cm4gbz1pPW4sZD1yLGM9ZS5hcHBseShhLHQpfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9ZS11O3JldHVybiB1PT09bnx8dD49cnx8dDwwfHxwJiZlLWQ+PWx9ZnVuY3Rpb24gdigpe3ZhciBlPVBpKCk7aWYoYihlKSlyZXR1cm4gbShlKTtzPUlhKHYsZnVuY3Rpb24oZSl7dmFyIHQ9ci0oZS11KTtyZXR1cm4gcD9odCh0LGwtKGUtZCkpOnR9KGUpKX1mdW5jdGlvbiBtKGUpe3JldHVybiBzPW4sZyYmbz9oKGUpOihvPWk9bixjKX1mdW5jdGlvbiB5KCl7dmFyIGU9UGkoKSx0PWIoZSk7aWYobz1hcmd1bWVudHMsaT10aGlzLHU9ZSx0KXtpZihzPT09bilyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGQ9ZSxzPUlhKHYsciksZj9oKGUpOmN9KHUpO2lmKHApcmV0dXJuIHluKHMpLHM9SWEodixyKSxoKHUpfXJldHVybiBzPT09biYmKHM9SWEodixyKSksY31yZXR1cm4gcj1nbChyKXx8MCxKaSh0KSYmKGY9ISF0LmxlYWRpbmcsbD0ocD1cIm1heFdhaXRcImluIHQpP2d0KGdsKHQubWF4V2FpdCl8fDAscik6bCxnPVwidHJhaWxpbmdcImluIHQ/ISF0LnRyYWlsaW5nOmcpLHkuY2FuY2VsPWZ1bmN0aW9uKCl7cyE9PW4mJnluKHMpLGQ9MCxvPXU9aT1zPW59LHkuZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gcz09PW4/YzptKFBpKCkpfSx5fXZhciBPaT1xbyhmdW5jdGlvbihlLHIpe3JldHVybiBpbyhlLDEscil9KSxGaT1xbyhmdW5jdGlvbihlLHIsdCl7cmV0dXJuIGlvKGUsZ2wocil8fDAsdCl9KTtmdW5jdGlvbiBXaShlLHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fG51bGwhPXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEllKGEpO3ZhciB0PWZ1bmN0aW9uKCl7dmFyIG89YXJndW1lbnRzLG49cj9yLmFwcGx5KHRoaXMsbyk6b1swXSxhPXQuY2FjaGU7aWYoYS5oYXMobikpcmV0dXJuIGEuZ2V0KG4pO3ZhciBpPWUuYXBwbHkodGhpcyxvKTtyZXR1cm4gdC5jYWNoZT1hLnNldChuLGkpfHxhLGl9O3JldHVybiB0LmNhY2hlPW5ldyhXaS5DYWNoZXx8THQpLHR9ZnVuY3Rpb24gemkoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgSWUoYSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9YXJndW1lbnRzO3N3aXRjaChyLmxlbmd0aCl7Y2FzZSAwOnJldHVybiFlLmNhbGwodGhpcyk7Y2FzZSAxOnJldHVybiFlLmNhbGwodGhpcyxyWzBdKTtjYXNlIDI6cmV0dXJuIWUuY2FsbCh0aGlzLHJbMF0sclsxXSk7Y2FzZSAzOnJldHVybiFlLmNhbGwodGhpcyxyWzBdLHJbMV0sclsyXSl9cmV0dXJuIWUuYXBwbHkodGhpcyxyKX19V2kuQ2FjaGU9THQ7dmFyIFRpPXZuKGZ1bmN0aW9uKGUscil7dmFyIHQ9KHI9MT09ci5sZW5ndGgmJkdpKHJbMF0pP0ZyKHJbMF0sWnIoYWEoKSkpOkZyKGdvKHIsMSksWnIoYWEoKSkpKS5sZW5ndGg7cmV0dXJuIHFvKGZ1bmN0aW9uKG8pe2Zvcih2YXIgbj0tMSxhPWh0KG8ubGVuZ3RoLHQpOysrbjxhOylvW25dPXJbbl0uY2FsbCh0aGlzLG9bbl0pO3JldHVybiB4cihlLHRoaXMsbyl9KX0pLERpPXFvKGZ1bmN0aW9uKGUscil7dmFyIHQ9aXQocixuYShEaSkpO3JldHVybiBLbihlLGMsbixyLHQpfSksQmk9cW8oZnVuY3Rpb24oZSxyKXt2YXIgdD1pdChyLG5hKEJpKSk7cmV0dXJuIEtuKGUsNjQsbixyLHQpfSksUmk9WG4oZnVuY3Rpb24oZSxyKXtyZXR1cm4gS24oZSwyNTYsbixuLG4scil9KTtmdW5jdGlvbiBFaShlLHIpe3JldHVybiBlPT09cnx8ZSE9ZSYmciE9cn12YXIgamk9TG4oeG8pLCRpPUxuKGZ1bmN0aW9uKGUscil7cmV0dXJuIGU+PXJ9KSxOaT1DbyhmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP0NvOmZ1bmN0aW9uKGUpe3JldHVybiBYaShlKSYmemUuY2FsbChlLFwiY2FsbGVlXCIpJiYhcWUuY2FsbChlLFwiY2FsbGVlXCIpfSxHaT1vLmlzQXJyYXksTGk9dnI/WnIodnIpOmZ1bmN0aW9uKGUpe3JldHVybiBYaShlKSYma28oZSk9PUZ9O2Z1bmN0aW9uIFVpKGUpe3JldHVybiBudWxsIT1lJiZRaShlLmxlbmd0aCkmJiFaaShlKX1mdW5jdGlvbiBWaShlKXtyZXR1cm4gWGkoZSkmJlVpKGUpfXZhciBxaT1icnx8Z2MsSGk9bXI/WnIobXIpOmZ1bmN0aW9uKGUpe3JldHVybiBYaShlKSYma28oZSk9PW19O2Z1bmN0aW9uIEtpKGUpe2lmKCFYaShlKSlyZXR1cm4hMTt2YXIgcj1rbyhlKTtyZXR1cm4gcj09eXx8XCJbb2JqZWN0IERPTUV4Y2VwdGlvbl1cIj09cnx8XCJzdHJpbmdcIj09dHlwZW9mIGUubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUubmFtZSYmIXRsKGUpfWZ1bmN0aW9uIFppKGUpe2lmKCFKaShlKSlyZXR1cm4hMTt2YXIgcj1rbyhlKTtyZXR1cm4gcj09d3x8cj09X3x8XCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXCI9PXJ8fFwiW29iamVjdCBQcm94eV1cIj09cn1mdW5jdGlvbiBZaShlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmZT09ZmwoZSl9ZnVuY3Rpb24gUWkoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+LTEmJmUlMT09MCYmZTw9ZH1mdW5jdGlvbiBKaShlKXt2YXIgcj10eXBlb2YgZTtyZXR1cm4gbnVsbCE9ZSYmKFwib2JqZWN0XCI9PXJ8fFwiZnVuY3Rpb25cIj09cil9ZnVuY3Rpb24gWGkoZSl7cmV0dXJuIG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfXZhciBlbD15cj9acih5cik6ZnVuY3Rpb24oZSl7cmV0dXJuIFhpKGUpJiZkYShlKT09a307ZnVuY3Rpb24gcmwoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV8fFhpKGUpJiZrbyhlKT09eH1mdW5jdGlvbiB0bChlKXtpZighWGkoZSl8fGtvKGUpIT1QKXJldHVybiExO3ZhciByPVVlKGUpO2lmKG51bGw9PT1yKXJldHVybiEwO3ZhciB0PXplLmNhbGwocixcImNvbnN0cnVjdG9yXCIpJiZyLmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQgaW5zdGFuY2VvZiB0JiZXZS5jYWxsKHQpPT1SZX12YXIgb2w9d3I/WnIod3IpOmZ1bmN0aW9uKGUpe3JldHVybiBYaShlKSYma28oZSk9PU19LG5sPV9yP1pyKF9yKTpmdW5jdGlvbihlKXtyZXR1cm4gWGkoZSkmJmRhKGUpPT1JfTtmdW5jdGlvbiBhbChlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8IUdpKGUpJiZYaShlKSYma28oZSk9PUN9ZnVuY3Rpb24gaWwoZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV8fFhpKGUpJiZrbyhlKT09QX12YXIgbGw9a3I/WnIoa3IpOmZ1bmN0aW9uKGUpe3JldHVybiBYaShlKSYmUWkoZS5sZW5ndGgpJiYhIW5yW2tvKGUpXX0sY2w9TG4oVG8pLHNsPUxuKGZ1bmN0aW9uKGUscil7cmV0dXJuIGU8PXJ9KTtmdW5jdGlvbiB1bChlKXtpZighZSlyZXR1cm5bXTtpZihVaShlKSlyZXR1cm4gYWwoZSk/c3QoZSk6TW4oZSk7aWYoWmUmJmVbWmVdKXJldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHIsdD1bXTshKHI9ZS5uZXh0KCkpLmRvbmU7KXQucHVzaChyLnZhbHVlKTtyZXR1cm4gdH0oZVtaZV0oKSk7dmFyIHI9ZGEoZSk7cmV0dXJuKHI9PWs/bnQ6cj09ST9sdDpFbCkoZSl9ZnVuY3Rpb24gZGwoZSl7cmV0dXJuIGU/KGU9Z2woZSkpPT09dXx8ZT09PS0xLzA/MTc5NzY5MzEzNDg2MjMxNTdlMjkyKihlPDA/LTE6MSk6ZT09ZT9lOjA6MD09PWU/ZTowfWZ1bmN0aW9uIGZsKGUpe3ZhciByPWRsKGUpLHQ9ciUxO3JldHVybiByPT1yP3Q/ci10OnI6MH1mdW5jdGlvbiBwbChlKXtyZXR1cm4gZT9vbyhmbChlKSwwLHApOjB9ZnVuY3Rpb24gZ2woZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoaWwoZSkpcmV0dXJuIGY7aWYoSmkoZSkpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZj9lLnZhbHVlT2YoKTplO2U9Smkocik/citcIlwiOnJ9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1LcihlKTt2YXIgdD1nZS50ZXN0KGUpO3JldHVybiB0fHxiZS50ZXN0KGUpP2NyKGUuc2xpY2UoMiksdD8yOjgpOnBlLnRlc3QoZSk/ZjorZX1mdW5jdGlvbiBobChlKXtyZXR1cm4gSW4oZSxPbChlKSl9ZnVuY3Rpb24gYmwoZSl7cmV0dXJuIG51bGw9PWU/XCJcIjphbihlKX12YXIgdmw9QW4oZnVuY3Rpb24oZSxyKXtpZih3YShyKXx8VWkocikpSW4ocixBbChyKSxlKTtlbHNlIGZvcih2YXIgdCBpbiByKXplLmNhbGwocix0KSYmUXQoZSx0LHJbdF0pfSksbWw9QW4oZnVuY3Rpb24oZSxyKXtJbihyLE9sKHIpLGUpfSkseWw9QW4oZnVuY3Rpb24oZSxyLHQsbyl7SW4ocixPbChyKSxlLG8pfSksd2w9QW4oZnVuY3Rpb24oZSxyLHQsbyl7SW4ocixBbChyKSxlLG8pfSksX2w9WG4odG8pLGtsPXFvKGZ1bmN0aW9uKGUscil7ZT1QZShlKTt2YXIgdD0tMSxvPXIubGVuZ3RoLGE9bz4yP3JbMl06bjtmb3IoYSYmYmEoclswXSxyWzFdLGEpJiYobz0xKTsrK3Q8bzspZm9yKHZhciBpPXJbdF0sbD1PbChpKSxjPS0xLHM9bC5sZW5ndGg7KytjPHM7KXt2YXIgdT1sW2NdLGQ9ZVt1XTsoZD09PW58fEVpKGQsT2VbdV0pJiYhemUuY2FsbChlLHUpKSYmKGVbdV09aVt1XSl9cmV0dXJuIGV9KSx4bD1xbyhmdW5jdGlvbihlKXtyZXR1cm4gZS5wdXNoKG4sWW4pLHhyKFdsLG4sZSl9KTtmdW5jdGlvbiBQbChlLHIsdCl7dmFyIG89bnVsbD09ZT9uOndvKGUscik7cmV0dXJuIG89PT1uP3Q6b31mdW5jdGlvbiBTbChlLHIpe3JldHVybiBudWxsIT1lJiZmYShlLHIsU28pfXZhciBNbD1FbihmdW5jdGlvbihlLHIsdCl7bnVsbCE9ciYmXCJmdW5jdGlvblwiIT10eXBlb2Ygci50b1N0cmluZyYmKHI9QmUuY2FsbChyKSksZVtyXT10fSxKbChyYykpLElsPUVuKGZ1bmN0aW9uKGUscix0KXtudWxsIT1yJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByLnRvU3RyaW5nJiYocj1CZS5jYWxsKHIpKSx6ZS5jYWxsKGUscik/ZVtyXS5wdXNoKHQpOmVbcl09W3RdfSxhYSksQ2w9cW8oSW8pO2Z1bmN0aW9uIEFsKGUpe3JldHVybiBVaShlKT9xdChlKTp6byhlKX1mdW5jdGlvbiBPbChlKXtyZXR1cm4gVWkoZSk/cXQoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIUppKGUpKXJldHVybiBmdW5jdGlvbihlKXt2YXIgcj1bXTtpZihudWxsIT1lKWZvcih2YXIgdCBpbiBQZShlKSlyLnB1c2godCk7cmV0dXJuIHJ9KGUpO3ZhciByPXdhKGUpLHQ9W107Zm9yKHZhciBvIGluIGUpKFwiY29uc3RydWN0b3JcIiE9b3x8IXImJnplLmNhbGwoZSxvKSkmJnQucHVzaChvKTtyZXR1cm4gdH0oZSl9dmFyIEZsPUFuKGZ1bmN0aW9uKGUscix0KXtFbyhlLHIsdCl9KSxXbD1BbihmdW5jdGlvbihlLHIsdCxvKXtFbyhlLHIsdCxvKX0pLHpsPVhuKGZ1bmN0aW9uKGUscil7dmFyIHQ9e307aWYobnVsbD09ZSlyZXR1cm4gdDt2YXIgbz0hMTtyPUZyKHIsZnVuY3Rpb24ocil7cmV0dXJuIHI9Ym4ocixlKSxvfHwobz1yLmxlbmd0aD4xKSxyfSksSW4oZSxyYShlKSx0KSxvJiYodD1ubyh0LDcsUW4pKTtmb3IodmFyIG49ci5sZW5ndGg7bi0tOyljbih0LHJbbl0pO3JldHVybiB0fSksVGw9WG4oZnVuY3Rpb24oZSxyKXtyZXR1cm4gbnVsbD09ZT97fTpmdW5jdGlvbihlLHIpe3JldHVybiBObyhlLHIsZnVuY3Rpb24ocix0KXtyZXR1cm4gU2woZSx0KX0pfShlLHIpfSk7ZnVuY3Rpb24gRGwoZSxyKXtpZihudWxsPT1lKXJldHVybnt9O3ZhciB0PUZyKHJhKGUpLGZ1bmN0aW9uKGUpe3JldHVybltlXX0pO3JldHVybiByPWFhKHIpLE5vKGUsdCxmdW5jdGlvbihlLHQpe3JldHVybiByKGUsdFswXSl9KX12YXIgQmw9SG4oQWwpLFJsPUhuKE9sKTtmdW5jdGlvbiBFbChlKXtyZXR1cm4gbnVsbD09ZT9bXTpZcihlLEFsKGUpKX12YXIgamw9em4oZnVuY3Rpb24oZSxyLHQpe3JldHVybiByPXIudG9Mb3dlckNhc2UoKSxlKyh0PyRsKHIpOnIpfSk7ZnVuY3Rpb24gJGwoZSl7cmV0dXJuIEtsKGJsKGUpLnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIE5sKGUpe3JldHVybihlPWJsKGUpKSYmZS5yZXBsYWNlKG1lLGV0KS5yZXBsYWNlKFFlLFwiXCIpfXZhciBHbD16bihmdW5jdGlvbihlLHIsdCl7cmV0dXJuIGUrKHQ/XCItXCI6XCJcIikrci50b0xvd2VyQ2FzZSgpfSksTGw9em4oZnVuY3Rpb24oZSxyLHQpe3JldHVybiBlKyh0P1wiIFwiOlwiXCIpK3IudG9Mb3dlckNhc2UoKX0pLFVsPVduKFwidG9Mb3dlckNhc2VcIiksVmw9em4oZnVuY3Rpb24oZSxyLHQpe3JldHVybiBlKyh0P1wiX1wiOlwiXCIpK3IudG9Mb3dlckNhc2UoKX0pLHFsPXpuKGZ1bmN0aW9uKGUscix0KXtyZXR1cm4gZSsodD9cIiBcIjpcIlwiKStLbChyKX0pLEhsPXpuKGZ1bmN0aW9uKGUscix0KXtyZXR1cm4gZSsodD9cIiBcIjpcIlwiKStyLnRvVXBwZXJDYXNlKCl9KSxLbD1XbihcInRvVXBwZXJDYXNlXCIpO2Z1bmN0aW9uIFpsKGUscix0KXtyZXR1cm4gZT1ibChlKSwocj10P246cik9PT1uP2Z1bmN0aW9uKGUpe3JldHVybiByci50ZXN0KGUpfShlKT9mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaChYZSl8fFtdfShlKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXRjaChjZSl8fFtdfShlKTplLm1hdGNoKHIpfHxbXX12YXIgWWw9cW8oZnVuY3Rpb24oZSxyKXt0cnl7cmV0dXJuIHhyKGUsbixyKX1jYXRjaChlKXtyZXR1cm4gS2koZSk/ZTpuZXcgX2UoZSl9fSksUWw9WG4oZnVuY3Rpb24oZSxyKXtyZXR1cm4gU3IocixmdW5jdGlvbihyKXtyPURhKHIpLHJvKGUscixJaShlW3JdLGUpKX0pLGV9KTtmdW5jdGlvbiBKbChlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19dmFyIFhsPUJuKCksZWM9Qm4oITApO2Z1bmN0aW9uIHJjKGUpe3JldHVybiBlfWZ1bmN0aW9uIHRjKGUpe3JldHVybiBXbyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6bm8oZSwxKSl9dmFyIG9jPXFvKGZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBJbyh0LGUscil9fSksbmM9cW8oZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIElvKGUsdCxyKX19KTtmdW5jdGlvbiBhYyhlLHIsdCl7dmFyIG89QWwociksbj15byhyLG8pO251bGwhPXR8fEppKHIpJiYobi5sZW5ndGh8fCFvLmxlbmd0aCl8fCh0PXIscj1lLGU9dGhpcyxuPXlvKHIsQWwocikpKTt2YXIgYT0hKEppKHQpJiZcImNoYWluXCJpbiB0JiYhdC5jaGFpbiksaT1aaShlKTtyZXR1cm4gU3IobixmdW5jdGlvbih0KXt2YXIgbz1yW3RdO2VbdF09byxpJiYoZS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgcj10aGlzLl9fY2hhaW5fXztpZihhfHxyKXt2YXIgdD1lKHRoaXMuX193cmFwcGVkX18pO3JldHVybih0Ll9fYWN0aW9uc19fPU1uKHRoaXMuX19hY3Rpb25zX18pKS5wdXNoKHtmdW5jOm8sYXJnczphcmd1bWVudHMsdGhpc0FyZzplfSksdC5fX2NoYWluX189cix0fXJldHVybiBvLmFwcGx5KGUsV3IoW3RoaXMudmFsdWUoKV0sYXJndW1lbnRzKSl9KX0pLGV9ZnVuY3Rpb24gaWMoKXt9dmFyIGxjPSRuKEZyKSxjYz0kbihJciksc2M9JG4oRHIpO2Z1bmN0aW9uIHVjKGUpe3JldHVybiB2YShlKT9McihEYShlKSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiB3byhyLGUpfX0oZSl9dmFyIGRjPUduKCksZmM9R24oITApO2Z1bmN0aW9uIHBjKCl7cmV0dXJuW119ZnVuY3Rpb24gZ2MoKXtyZXR1cm4hMX12YXIgaGMsYmM9am4oZnVuY3Rpb24oZSxyKXtyZXR1cm4gZStyfSwwKSx2Yz1WbihcImNlaWxcIiksbWM9am4oZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS9yfSwxKSx5Yz1WbihcImZsb29yXCIpLHdjPWpuKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUqcn0sMSksX2M9Vm4oXCJyb3VuZFwiKSxrYz1qbihmdW5jdGlvbihlLHIpe3JldHVybiBlLXJ9LDApO3JldHVybiBCdC5hZnRlcj1mdW5jdGlvbihlLHIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEllKGEpO3JldHVybiBlPWZsKGUpLGZ1bmN0aW9uKCl7aWYoLS1lPDEpcmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sQnQuYXJ5PVNpLEJ0LmFzc2lnbj12bCxCdC5hc3NpZ25Jbj1tbCxCdC5hc3NpZ25JbldpdGg9eWwsQnQuYXNzaWduV2l0aD13bCxCdC5hdD1fbCxCdC5iZWZvcmU9TWksQnQuYmluZD1JaSxCdC5iaW5kQWxsPVFsLEJ0LmJpbmRLZXk9Q2ksQnQuY2FzdEFycmF5PWZ1bmN0aW9uKCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuW107dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBHaShlKT9lOltlXX0sQnQuY2hhaW49dWksQnQuY2h1bms9ZnVuY3Rpb24oZSxyLHQpe3I9KHQ/YmEoZSxyLHQpOnI9PT1uKT8xOmd0KGZsKHIpLDApO3ZhciBhPW51bGw9PWU/MDplLmxlbmd0aDtpZighYXx8cjwxKXJldHVybltdO2Zvcih2YXIgaT0wLGw9MCxjPW8oZnIoYS9yKSk7aTxhOyljW2wrK109WG8oZSxpLGkrPXIpO3JldHVybiBjfSxCdC5jb21wYWN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0tMSx0PW51bGw9PWU/MDplLmxlbmd0aCxvPTAsbj1bXTsrK3I8dDspe3ZhciBhPWVbcl07YSYmKG5bbysrXT1hKX1yZXR1cm4gbn0sQnQuY29uY2F0PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZighZSlyZXR1cm5bXTtmb3IodmFyIHI9byhlLTEpLHQ9YXJndW1lbnRzWzBdLG49ZTtuLS07KXJbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIFdyKEdpKHQpP01uKHQpOlt0XSxnbyhyLDEpKX0sQnQuY29uZD1mdW5jdGlvbihlKXt2YXIgcj1udWxsPT1lPzA6ZS5sZW5ndGgsdD1hYSgpO3JldHVybiBlPXI/RnIoZSxmdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlWzFdKXRocm93IG5ldyBJZShhKTtyZXR1cm5bdChlWzBdKSxlWzFdXX0pOltdLHFvKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbz0tMTsrK288cjspe3ZhciBuPWVbb107aWYoeHIoblswXSx0aGlzLHQpKXJldHVybiB4cihuWzFdLHRoaXMsdCl9fSl9LEJ0LmNvbmZvcm1zPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj1BbChlKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGFvKHQsZSxyKX19KG5vKGUsMSkpfSxCdC5jb25zdGFudD1KbCxCdC5jb3VudEJ5PXBpLEJ0LmNyZWF0ZT1mdW5jdGlvbihlLHIpe3ZhciB0PVJ0KGUpO3JldHVybiBudWxsPT1yP3Q6ZW8odCxyKX0sQnQuY3Vycnk9ZnVuY3Rpb24gZShyLHQsbyl7dmFyIGE9S24ociw4LG4sbixuLG4sbix0PW8/bjp0KTtyZXR1cm4gYS5wbGFjZWhvbGRlcj1lLnBsYWNlaG9sZGVyLGF9LEJ0LmN1cnJ5UmlnaHQ9ZnVuY3Rpb24gZShyLHQsbyl7dmFyIGE9S24ociwxNixuLG4sbixuLG4sdD1vP246dCk7cmV0dXJuIGEucGxhY2Vob2xkZXI9ZS5wbGFjZWhvbGRlcixhfSxCdC5kZWJvdW5jZT1BaSxCdC5kZWZhdWx0cz1rbCxCdC5kZWZhdWx0c0RlZXA9eGwsQnQuZGVmZXI9T2ksQnQuZGVsYXk9RmksQnQuZGlmZmVyZW5jZT1FYSxCdC5kaWZmZXJlbmNlQnk9amEsQnQuZGlmZmVyZW5jZVdpdGg9JGEsQnQuZHJvcD1mdW5jdGlvbihlLHIsdCl7dmFyIG89bnVsbD09ZT8wOmUubGVuZ3RoO3JldHVybiBvP1hvKGUsKHI9dHx8cj09PW4/MTpmbChyKSk8MD8wOnIsbyk6W119LEJ0LmRyb3BSaWdodD1mdW5jdGlvbihlLHIsdCl7dmFyIG89bnVsbD09ZT8wOmUubGVuZ3RoO3JldHVybiBvP1hvKGUsMCwocj1vLShyPXR8fHI9PT1uPzE6ZmwocikpKTwwPzA6cik6W119LEJ0LmRyb3BSaWdodFdoaWxlPWZ1bmN0aW9uKGUscil7cmV0dXJuIGUmJmUubGVuZ3RoP3VuKGUsYWEociwzKSwhMCwhMCk6W119LEJ0LmRyb3BXaGlsZT1mdW5jdGlvbihlLHIpe3JldHVybiBlJiZlLmxlbmd0aD91bihlLGFhKHIsMyksITApOltdfSxCdC5maWxsPWZ1bmN0aW9uKGUscix0LG8pe3ZhciBhPW51bGw9PWU/MDplLmxlbmd0aDtyZXR1cm4gYT8odCYmXCJudW1iZXJcIiE9dHlwZW9mIHQmJmJhKGUscix0KSYmKHQ9MCxvPWEpLGZ1bmN0aW9uKGUscix0LG8pe3ZhciBhPWUubGVuZ3RoO2ZvcigodD1mbCh0KSk8MCYmKHQ9LXQ+YT8wOmErdCksKG89bz09PW58fG8+YT9hOmZsKG8pKTwwJiYobys9YSksbz10Pm8/MDpwbChvKTt0PG87KWVbdCsrXT1yO3JldHVybiBlfShlLHIsdCxvKSk6W119LEJ0LmZpbHRlcj1mdW5jdGlvbihlLHIpe3JldHVybihHaShlKT9DcjpwbykoZSxhYShyLDMpKX0sQnQuZmxhdE1hcD1mdW5jdGlvbihlLHIpe3JldHVybiBnbyhfaShlLHIpLDEpfSxCdC5mbGF0TWFwRGVlcD1mdW5jdGlvbihlLHIpe3JldHVybiBnbyhfaShlLHIpLHUpfSxCdC5mbGF0TWFwRGVwdGg9ZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0PXQ9PT1uPzE6ZmwodCksZ28oX2koZSxyKSx0KX0sQnQuZmxhdHRlbj1MYSxCdC5mbGF0dGVuRGVlcD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZS5sZW5ndGg/Z28oZSx1KTpbXX0sQnQuZmxhdHRlbkRlcHRoPWZ1bmN0aW9uKGUscil7cmV0dXJuIG51bGwhPWUmJmUubGVuZ3RoP2dvKGUscj1yPT09bj8xOmZsKHIpKTpbXX0sQnQuZmxpcD1mdW5jdGlvbihlKXtyZXR1cm4gS24oZSw1MTIpfSxCdC5mbG93PVhsLEJ0LmZsb3dSaWdodD1lYyxCdC5mcm9tUGFpcnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPS0xLHQ9bnVsbD09ZT8wOmUubGVuZ3RoLG89e307KytyPHQ7KXt2YXIgbj1lW3JdO29bblswXV09blsxXX1yZXR1cm4gb30sQnQuZnVuY3Rpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1tdOnlvKGUsQWwoZSkpfSxCdC5mdW5jdGlvbnNJbj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9bXTp5byhlLE9sKGUpKX0sQnQuZ3JvdXBCeT1taSxCdC5pbml0aWFsPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlLmxlbmd0aD9YbyhlLDAsLTEpOltdfSxCdC5pbnRlcnNlY3Rpb249VmEsQnQuaW50ZXJzZWN0aW9uQnk9cWEsQnQuaW50ZXJzZWN0aW9uV2l0aD1IYSxCdC5pbnZlcnQ9TWwsQnQuaW52ZXJ0Qnk9SWwsQnQuaW52b2tlTWFwPXlpLEJ0Lml0ZXJhdGVlPXRjLEJ0LmtleUJ5PXdpLEJ0LmtleXM9QWwsQnQua2V5c0luPU9sLEJ0Lm1hcD1faSxCdC5tYXBLZXlzPWZ1bmN0aW9uKGUscil7dmFyIHQ9e307cmV0dXJuIHI9YWEociwzKSx2byhlLGZ1bmN0aW9uKGUsbyxuKXtybyh0LHIoZSxvLG4pLGUpfSksdH0sQnQubWFwVmFsdWVzPWZ1bmN0aW9uKGUscil7dmFyIHQ9e307cmV0dXJuIHI9YWEociwzKSx2byhlLGZ1bmN0aW9uKGUsbyxuKXtybyh0LG8scihlLG8sbikpfSksdH0sQnQubWF0Y2hlcz1mdW5jdGlvbihlKXtyZXR1cm4gQm8obm8oZSwxKSl9LEJ0Lm1hdGNoZXNQcm9wZXJ0eT1mdW5jdGlvbihlLHIpe3JldHVybiBSbyhlLG5vKHIsMSkpfSxCdC5tZW1vaXplPVdpLEJ0Lm1lcmdlPUZsLEJ0Lm1lcmdlV2l0aD1XbCxCdC5tZXRob2Q9b2MsQnQubWV0aG9kT2Y9bmMsQnQubWl4aW49YWMsQnQubmVnYXRlPXppLEJ0Lm50aEFyZz1mdW5jdGlvbihlKXtyZXR1cm4gZT1mbChlKSxxbyhmdW5jdGlvbihyKXtyZXR1cm4gam8ocixlKX0pfSxCdC5vbWl0PXpsLEJ0Lm9taXRCeT1mdW5jdGlvbihlLHIpe3JldHVybiBEbChlLHppKGFhKHIpKSl9LEJ0Lm9uY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIE1pKDIsZSl9LEJ0Lm9yZGVyQnk9ZnVuY3Rpb24oZSxyLHQsbyl7cmV0dXJuIG51bGw9PWU/W106KEdpKHIpfHwocj1udWxsPT1yP1tdOltyXSksR2kodD1vP246dCl8fCh0PW51bGw9PXQ/W106W3RdKSwkbyhlLHIsdCkpfSxCdC5vdmVyPWxjLEJ0Lm92ZXJBcmdzPVRpLEJ0Lm92ZXJFdmVyeT1jYyxCdC5vdmVyU29tZT1zYyxCdC5wYXJ0aWFsPURpLEJ0LnBhcnRpYWxSaWdodD1CaSxCdC5wYXJ0aXRpb249a2ksQnQucGljaz1UbCxCdC5waWNrQnk9RGwsQnQucHJvcGVydHk9dWMsQnQucHJvcGVydHlPZj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG51bGw9PWU/bjp3byhlLHIpfX0sQnQucHVsbD1aYSxCdC5wdWxsQWxsPVlhLEJ0LnB1bGxBbGxCeT1mdW5jdGlvbihlLHIsdCl7cmV0dXJuIGUmJmUubGVuZ3RoJiZyJiZyLmxlbmd0aD9HbyhlLHIsYWEodCwyKSk6ZX0sQnQucHVsbEFsbFdpdGg9ZnVuY3Rpb24oZSxyLHQpe3JldHVybiBlJiZlLmxlbmd0aCYmciYmci5sZW5ndGg/R28oZSxyLG4sdCk6ZX0sQnQucHVsbEF0PVFhLEJ0LnJhbmdlPWRjLEJ0LnJhbmdlUmlnaHQ9ZmMsQnQucmVhcmc9UmksQnQucmVqZWN0PWZ1bmN0aW9uKGUscil7cmV0dXJuKEdpKGUpP0NyOnBvKShlLHppKGFhKHIsMykpKX0sQnQucmVtb3ZlPWZ1bmN0aW9uKGUscil7dmFyIHQ9W107aWYoIWV8fCFlLmxlbmd0aClyZXR1cm4gdDt2YXIgbz0tMSxuPVtdLGE9ZS5sZW5ndGg7Zm9yKHI9YWEociwzKTsrK288YTspe3ZhciBpPWVbb107cihpLG8sZSkmJih0LnB1c2goaSksbi5wdXNoKG8pKX1yZXR1cm4gTG8oZSxuKSx0fSxCdC5yZXN0PWZ1bmN0aW9uKGUscil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgSWUoYSk7cmV0dXJuIHFvKGUscj1yPT09bj9yOmZsKHIpKX0sQnQucmV2ZXJzZT1KYSxCdC5zYW1wbGVTaXplPWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gcj0odD9iYShlLHIsdCk6cj09PW4pPzE6ZmwociksKEdpKGUpP0t0OktvKShlLHIpfSxCdC5zZXQ9ZnVuY3Rpb24oZSxyLHQpe3JldHVybiBudWxsPT1lP2U6Wm8oZSxyLHQpfSxCdC5zZXRXaXRoPWZ1bmN0aW9uKGUscix0LG8pe3JldHVybiBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIG8/bzpuLG51bGw9PWU/ZTpabyhlLHIsdCxvKX0sQnQuc2h1ZmZsZT1mdW5jdGlvbihlKXtyZXR1cm4oR2koZSk/WnQ6Sm8pKGUpfSxCdC5zbGljZT1mdW5jdGlvbihlLHIsdCl7dmFyIG89bnVsbD09ZT8wOmUubGVuZ3RoO3JldHVybiBvPyh0JiZcIm51bWJlclwiIT10eXBlb2YgdCYmYmEoZSxyLHQpPyhyPTAsdD1vKToocj1udWxsPT1yPzA6ZmwociksdD10PT09bj9vOmZsKHQpKSxYbyhlLHIsdCkpOltdfSxCdC5zb3J0Qnk9eGksQnQuc29ydGVkVW5pcT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg/b24oZSk6W119LEJ0LnNvcnRlZFVuaXFCeT1mdW5jdGlvbihlLHIpe3JldHVybiBlJiZlLmxlbmd0aD9vbihlLGFhKHIsMikpOltdfSxCdC5zcGxpdD1mdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQmJlwibnVtYmVyXCIhPXR5cGVvZiB0JiZiYShlLHIsdCkmJihyPXQ9biksKHQ9dD09PW4/cDp0Pj4+MCk/KGU9YmwoZSkpJiYoXCJzdHJpbmdcIj09dHlwZW9mIHJ8fG51bGwhPXImJiFvbChyKSkmJiEocj1hbihyKSkmJm90KGUpP21uKHN0KGUpLDAsdCk6ZS5zcGxpdChyLHQpOltdfSxCdC5zcHJlYWQ9ZnVuY3Rpb24oZSxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBJZShhKTtyZXR1cm4gcj1udWxsPT1yPzA6Z3QoZmwociksMCkscW8oZnVuY3Rpb24odCl7dmFyIG89dFtyXSxuPW1uKHQsMCxyKTtyZXR1cm4gbyYmV3IobixvKSx4cihlLHRoaXMsbil9KX0sQnQudGFpbD1mdW5jdGlvbihlKXt2YXIgcj1udWxsPT1lPzA6ZS5sZW5ndGg7cmV0dXJuIHI/WG8oZSwxLHIpOltdfSxCdC50YWtlPWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gZSYmZS5sZW5ndGg/WG8oZSwwLChyPXR8fHI9PT1uPzE6ZmwocikpPDA/MDpyKTpbXX0sQnQudGFrZVJpZ2h0PWZ1bmN0aW9uKGUscix0KXt2YXIgbz1udWxsPT1lPzA6ZS5sZW5ndGg7cmV0dXJuIG8/WG8oZSwocj1vLShyPXR8fHI9PT1uPzE6ZmwocikpKTwwPzA6cixvKTpbXX0sQnQudGFrZVJpZ2h0V2hpbGU9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSYmZS5sZW5ndGg/dW4oZSxhYShyLDMpLCExLCEwKTpbXX0sQnQudGFrZVdoaWxlPWZ1bmN0aW9uKGUscil7cmV0dXJuIGUmJmUubGVuZ3RoP3VuKGUsYWEociwzKSk6W119LEJ0LnRhcD1mdW5jdGlvbihlLHIpe3JldHVybiByKGUpLGV9LEJ0LnRocm90dGxlPWZ1bmN0aW9uKGUscix0KXt2YXIgbz0hMCxuPSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEllKGEpO3JldHVybiBKaSh0KSYmKG89XCJsZWFkaW5nXCJpbiB0PyEhdC5sZWFkaW5nOm8sbj1cInRyYWlsaW5nXCJpbiB0PyEhdC50cmFpbGluZzpuKSxBaShlLHIse2xlYWRpbmc6byxtYXhXYWl0OnIsdHJhaWxpbmc6bn0pfSxCdC50aHJ1PWRpLEJ0LnRvQXJyYXk9dWwsQnQudG9QYWlycz1CbCxCdC50b1BhaXJzSW49UmwsQnQudG9QYXRoPWZ1bmN0aW9uKGUpe3JldHVybiBHaShlKT9GcihlLERhKTppbChlKT9bZV06TW4oVGEoYmwoZSkpKX0sQnQudG9QbGFpbk9iamVjdD1obCxCdC50cmFuc2Zvcm09ZnVuY3Rpb24oZSxyLHQpe3ZhciBvPUdpKGUpLG49b3x8cWkoZSl8fGxsKGUpO2lmKHI9YWEociw0KSxudWxsPT10KXt2YXIgYT1lJiZlLmNvbnN0cnVjdG9yO3Q9bj9vP25ldyBhOltdOkppKGUpJiZaaShhKT9SdChVZShlKSk6e319cmV0dXJuKG4/U3I6dm8pKGUsZnVuY3Rpb24oZSxvLG4pe3JldHVybiByKHQsZSxvLG4pfSksdH0sQnQudW5hcnk9ZnVuY3Rpb24oZSl7cmV0dXJuIFNpKGUsMSl9LEJ0LnVuaW9uPVhhLEJ0LnVuaW9uQnk9ZWksQnQudW5pb25XaXRoPXJpLEJ0LnVuaXE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoP2xuKGUpOltdfSxCdC51bmlxQnk9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSYmZS5sZW5ndGg/bG4oZSxhYShyLDIpKTpbXX0sQnQudW5pcVdpdGg9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3I6bixlJiZlLmxlbmd0aD9sbihlLG4scik6W119LEJ0LnVuc2V0PWZ1bmN0aW9uKGUscil7cmV0dXJuIG51bGw9PWV8fGNuKGUscil9LEJ0LnVuemlwPXRpLEJ0LnVuemlwV2l0aD1vaSxCdC51cGRhdGU9ZnVuY3Rpb24oZSxyLHQpe3JldHVybiBudWxsPT1lP2U6c24oZSxyLGhuKHQpKX0sQnQudXBkYXRlV2l0aD1mdW5jdGlvbihlLHIsdCxvKXtyZXR1cm4gbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBvP286bixudWxsPT1lP2U6c24oZSxyLGhuKHQpLG8pfSxCdC52YWx1ZXM9RWwsQnQudmFsdWVzSW49ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/W106WXIoZSxPbChlKSl9LEJ0LndpdGhvdXQ9bmksQnQud29yZHM9WmwsQnQud3JhcD1mdW5jdGlvbihlLHIpe3JldHVybiBEaShobihyKSxlKX0sQnQueG9yPWFpLEJ0LnhvckJ5PWlpLEJ0LnhvcldpdGg9bGksQnQuemlwPWNpLEJ0LnppcE9iamVjdD1mdW5jdGlvbihlLHIpe3JldHVybiBwbihlfHxbXSxyfHxbXSxRdCl9LEJ0LnppcE9iamVjdERlZXA9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gcG4oZXx8W10scnx8W10sWm8pfSxCdC56aXBXaXRoPXNpLEJ0LmVudHJpZXM9QmwsQnQuZW50cmllc0luPVJsLEJ0LmV4dGVuZD1tbCxCdC5leHRlbmRXaXRoPXlsLGFjKEJ0LEJ0KSxCdC5hZGQ9YmMsQnQuYXR0ZW1wdD1ZbCxCdC5jYW1lbENhc2U9amwsQnQuY2FwaXRhbGl6ZT0kbCxCdC5jZWlsPXZjLEJ0LmNsYW1wPWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gdD09PW4mJih0PXIscj1uKSx0IT09biYmKHQ9KHQ9Z2wodCkpPT10P3Q6MCksciE9PW4mJihyPShyPWdsKHIpKT09cj9yOjApLG9vKGdsKGUpLHIsdCl9LEJ0LmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiBubyhlLDQpfSxCdC5jbG9uZURlZXA9ZnVuY3Rpb24oZSl7cmV0dXJuIG5vKGUsNSl9LEJ0LmNsb25lRGVlcFdpdGg9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbm8oZSw1LHI9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOm4pfSxCdC5jbG9uZVdpdGg9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbm8oZSw0LHI9XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yOm4pfSxCdC5jb25mb3Jtc1RvPWZ1bmN0aW9uKGUscil7cmV0dXJuIG51bGw9PXJ8fGFvKGUscixBbChyKSl9LEJ0LmRlYnVycj1ObCxCdC5kZWZhdWx0VG89ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbnVsbD09ZXx8ZSE9ZT9yOmV9LEJ0LmRpdmlkZT1tYyxCdC5lbmRzV2l0aD1mdW5jdGlvbihlLHIsdCl7ZT1ibChlKSxyPWFuKHIpO3ZhciBvPWUubGVuZ3RoLGE9dD10PT09bj9vOm9vKGZsKHQpLDAsbyk7cmV0dXJuKHQtPXIubGVuZ3RoKT49MCYmZS5zbGljZSh0LGEpPT1yfSxCdC5lcT1FaSxCdC5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGU9YmwoZSkpJiZLLnRlc3QoZSk/ZS5yZXBsYWNlKHEscnQpOmV9LEJ0LmVzY2FwZVJlZ0V4cD1mdW5jdGlvbihlKXtyZXR1cm4oZT1ibChlKSkmJnRlLnRlc3QoZSk/ZS5yZXBsYWNlKHJlLFwiXFxcXCQmXCIpOmV9LEJ0LmV2ZXJ5PWZ1bmN0aW9uKGUscix0KXt2YXIgbz1HaShlKT9Jcjp1bztyZXR1cm4gdCYmYmEoZSxyLHQpJiYocj1uKSxvKGUsYWEociwzKSl9LEJ0LmZpbmQ9Z2ksQnQuZmluZEluZGV4PU5hLEJ0LmZpbmRLZXk9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gUnIoZSxhYShyLDMpLHZvKX0sQnQuZmluZExhc3Q9aGksQnQuZmluZExhc3RJbmRleD1HYSxCdC5maW5kTGFzdEtleT1mdW5jdGlvbihlLHIpe3JldHVybiBScihlLGFhKHIsMyksbW8pfSxCdC5mbG9vcj15YyxCdC5mb3JFYWNoPWJpLEJ0LmZvckVhY2hSaWdodD12aSxCdC5mb3JJbj1mdW5jdGlvbihlLHIpe3JldHVybiBudWxsPT1lP2U6aG8oZSxhYShyLDMpLE9sKX0sQnQuZm9ySW5SaWdodD1mdW5jdGlvbihlLHIpe3JldHVybiBudWxsPT1lP2U6Ym8oZSxhYShyLDMpLE9sKX0sQnQuZm9yT3duPWZ1bmN0aW9uKGUscil7cmV0dXJuIGUmJnZvKGUsYWEociwzKSl9LEJ0LmZvck93blJpZ2h0PWZ1bmN0aW9uKGUscil7cmV0dXJuIGUmJm1vKGUsYWEociwzKSl9LEJ0LmdldD1QbCxCdC5ndD1qaSxCdC5ndGU9JGksQnQuaGFzPWZ1bmN0aW9uKGUscil7cmV0dXJuIG51bGwhPWUmJmZhKGUscixQbyl9LEJ0Lmhhc0luPVNsLEJ0LmhlYWQ9VWEsQnQuaWRlbnRpdHk9cmMsQnQuaW5jbHVkZXM9ZnVuY3Rpb24oZSxyLHQsbyl7ZT1VaShlKT9lOkVsKGUpLHQ9dCYmIW8/ZmwodCk6MDt2YXIgbj1lLmxlbmd0aDtyZXR1cm4gdDwwJiYodD1ndChuK3QsMCkpLGFsKGUpP3Q8PW4mJmUuaW5kZXhPZihyLHQpPi0xOiEhbiYmanIoZSxyLHQpPi0xfSxCdC5pbmRleE9mPWZ1bmN0aW9uKGUscix0KXt2YXIgbz1udWxsPT1lPzA6ZS5sZW5ndGg7aWYoIW8pcmV0dXJuLTE7dmFyIG49bnVsbD09dD8wOmZsKHQpO3JldHVybiBuPDAmJihuPWd0KG8rbiwwKSksanIoZSxyLG4pfSxCdC5pblJhbmdlPWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gcj1kbChyKSx0PT09bj8odD1yLHI9MCk6dD1kbCh0KSxmdW5jdGlvbihlLHIsdCl7cmV0dXJuIGU+PWh0KHIsdCkmJmU8Z3Qocix0KX0oZT1nbChlKSxyLHQpfSxCdC5pbnZva2U9Q2wsQnQuaXNBcmd1bWVudHM9TmksQnQuaXNBcnJheT1HaSxCdC5pc0FycmF5QnVmZmVyPUxpLEJ0LmlzQXJyYXlMaWtlPVVpLEJ0LmlzQXJyYXlMaWtlT2JqZWN0PVZpLEJ0LmlzQm9vbGVhbj1mdW5jdGlvbihlKXtyZXR1cm4hMD09PWV8fCExPT09ZXx8WGkoZSkmJmtvKGUpPT12fSxCdC5pc0J1ZmZlcj1xaSxCdC5pc0RhdGU9SGksQnQuaXNFbGVtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBYaShlKSYmMT09PWUubm9kZVR5cGUmJiF0bChlKX0sQnQuaXNFbXB0eT1mdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiEwO2lmKFVpKGUpJiYoR2koZSl8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNwbGljZXx8cWkoZSl8fGxsKGUpfHxOaShlKSkpcmV0dXJuIWUubGVuZ3RoO3ZhciByPWRhKGUpO2lmKHI9PWt8fHI9PUkpcmV0dXJuIWUuc2l6ZTtpZih3YShlKSlyZXR1cm4hem8oZSkubGVuZ3RoO2Zvcih2YXIgdCBpbiBlKWlmKHplLmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0sQnQuaXNFcXVhbD1mdW5jdGlvbihlLHIpe3JldHVybiBBbyhlLHIpfSxCdC5pc0VxdWFsV2l0aD1mdW5jdGlvbihlLHIsdCl7dmFyIG89KHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om4pP3QoZSxyKTpuO3JldHVybiBvPT09bj9BbyhlLHIsbix0KTohIW99LEJ0LmlzRXJyb3I9S2ksQnQuaXNGaW5pdGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJkJyKGUpfSxCdC5pc0Z1bmN0aW9uPVppLEJ0LmlzSW50ZWdlcj1ZaSxCdC5pc0xlbmd0aD1RaSxCdC5pc01hcD1lbCxCdC5pc01hdGNoPWZ1bmN0aW9uKGUscil7cmV0dXJuIGU9PT1yfHxPbyhlLHIsbGEocikpfSxCdC5pc01hdGNoV2l0aD1mdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90Om4sT28oZSxyLGxhKHIpLHQpfSxCdC5pc05hTj1mdW5jdGlvbihlKXtyZXR1cm4gcmwoZSkmJmUhPStlfSxCdC5pc05hdGl2ZT1mdW5jdGlvbihlKXtpZih5YShlKSl0aHJvdyBuZXcgX2UoXCJVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC5cIik7cmV0dXJuIEZvKGUpfSxCdC5pc05pbD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZX0sQnQuaXNOdWxsPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZX0sQnQuaXNOdW1iZXI9cmwsQnQuaXNPYmplY3Q9SmksQnQuaXNPYmplY3RMaWtlPVhpLEJ0LmlzUGxhaW5PYmplY3Q9dGwsQnQuaXNSZWdFeHA9b2wsQnQuaXNTYWZlSW50ZWdlcj1mdW5jdGlvbihlKXtyZXR1cm4gWWkoZSkmJmU+PS05MDA3MTk5MjU0NzQwOTkxJiZlPD1kfSxCdC5pc1NldD1ubCxCdC5pc1N0cmluZz1hbCxCdC5pc1N5bWJvbD1pbCxCdC5pc1R5cGVkQXJyYXk9bGwsQnQuaXNVbmRlZmluZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1ufSxCdC5pc1dlYWtNYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIFhpKGUpJiZkYShlKT09T30sQnQuaXNXZWFrU2V0PWZ1bmN0aW9uKGUpe3JldHVybiBYaShlKSYmXCJbb2JqZWN0IFdlYWtTZXRdXCI9PWtvKGUpfSxCdC5qb2luPWZ1bmN0aW9uKGUscil7cmV0dXJuIG51bGw9PWU/XCJcIjpVci5jYWxsKGUscil9LEJ0LmtlYmFiQ2FzZT1HbCxCdC5sYXN0PUthLEJ0Lmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUscix0KXt2YXIgbz1udWxsPT1lPzA6ZS5sZW5ndGg7aWYoIW8pcmV0dXJuLTE7dmFyIGE9bztyZXR1cm4gdCE9PW4mJihhPShhPWZsKHQpKTwwP2d0KG8rYSwwKTpodChhLG8tMSkpLHI9PXI/ZnVuY3Rpb24oZSxyLHQpe2Zvcih2YXIgbz10KzE7by0tOylpZihlW29dPT09cilyZXR1cm4gbztyZXR1cm4gb30oZSxyLGEpOkVyKGUsTnIsYSwhMCl9LEJ0Lmxvd2VyQ2FzZT1MbCxCdC5sb3dlckZpcnN0PVVsLEJ0Lmx0PWNsLEJ0Lmx0ZT1zbCxCdC5tYXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoP2ZvKGUscmMseG8pOm59LEJ0Lm1heEJ5PWZ1bmN0aW9uKGUscil7cmV0dXJuIGUmJmUubGVuZ3RoP2ZvKGUsYWEociwyKSx4byk6bn0sQnQubWVhbj1mdW5jdGlvbihlKXtyZXR1cm4gR3IoZSxyYyl9LEJ0Lm1lYW5CeT1mdW5jdGlvbihlLHIpe3JldHVybiBHcihlLGFhKHIsMikpfSxCdC5taW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoP2ZvKGUscmMsVG8pOm59LEJ0Lm1pbkJ5PWZ1bmN0aW9uKGUscil7cmV0dXJuIGUmJmUubGVuZ3RoP2ZvKGUsYWEociwyKSxUbyk6bn0sQnQuc3R1YkFycmF5PXBjLEJ0LnN0dWJGYWxzZT1nYyxCdC5zdHViT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJue319LEJ0LnN0dWJTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlwifSxCdC5zdHViVHJ1ZT1mdW5jdGlvbigpe3JldHVybiEwfSxCdC5tdWx0aXBseT13YyxCdC5udGg9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSYmZS5sZW5ndGg/am8oZSxmbChyKSk6bn0sQnQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBkci5fPT09dGhpcyYmKGRyLl89RWUpLHRoaXN9LEJ0Lm5vb3A9aWMsQnQubm93PVBpLEJ0LnBhZD1mdW5jdGlvbihlLHIsdCl7ZT1ibChlKTt2YXIgbz0ocj1mbChyKSk/Y3QoZSk6MDtpZighcnx8bz49cilyZXR1cm4gZTt2YXIgbj0oci1vKS8yO3JldHVybiBObihwcihuKSx0KStlK05uKGZyKG4pLHQpfSxCdC5wYWRFbmQ9ZnVuY3Rpb24oZSxyLHQpe2U9YmwoZSk7dmFyIG89KHI9ZmwocikpP2N0KGUpOjA7cmV0dXJuIHImJm88cj9lK05uKHItbyx0KTplfSxCdC5wYWRTdGFydD1mdW5jdGlvbihlLHIsdCl7ZT1ibChlKTt2YXIgbz0ocj1mbChyKSk/Y3QoZSk6MDtyZXR1cm4gciYmbzxyP05uKHItbyx0KStlOmV9LEJ0LnBhcnNlSW50PWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gdHx8bnVsbD09cj9yPTA6ciYmKHI9K3IpLHZ0KGJsKGUpLnJlcGxhY2Uob2UsXCJcIikscnx8MCl9LEJ0LnJhbmRvbT1mdW5jdGlvbihlLHIsdCl7aWYodCYmXCJib29sZWFuXCIhPXR5cGVvZiB0JiZiYShlLHIsdCkmJihyPXQ9biksdD09PW4mJihcImJvb2xlYW5cIj09dHlwZW9mIHI/KHQ9cixyPW4pOlwiYm9vbGVhblwiPT10eXBlb2YgZSYmKHQ9ZSxlPW4pKSxlPT09biYmcj09PW4/KGU9MCxyPTEpOihlPWRsKGUpLHI9PT1uPyhyPWUsZT0wKTpyPWRsKHIpKSxlPnIpe3ZhciBvPWU7ZT1yLHI9b31pZih0fHxlJTF8fHIlMSl7dmFyIGE9bXQoKTtyZXR1cm4gaHQoZSthKihyLWUrbHIoXCIxZS1cIisoKGErXCJcIikubGVuZ3RoLTEpKSkscil9cmV0dXJuIFVvKGUscil9LEJ0LnJlZHVjZT1mdW5jdGlvbihlLHIsdCl7dmFyIG89R2koZSk/enI6VnIsbj1hcmd1bWVudHMubGVuZ3RoPDM7cmV0dXJuIG8oZSxhYShyLDQpLHQsbixjbyl9LEJ0LnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUscix0KXt2YXIgbz1HaShlKT9UcjpWcixuPWFyZ3VtZW50cy5sZW5ndGg8MztyZXR1cm4gbyhlLGFhKHIsNCksdCxuLHNvKX0sQnQucmVwZWF0PWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gcj0odD9iYShlLHIsdCk6cj09PW4pPzE6ZmwociksVm8oYmwoZSkscil9LEJ0LnJlcGxhY2U9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMscj1ibChlWzBdKTtyZXR1cm4gZS5sZW5ndGg8Mz9yOnIucmVwbGFjZShlWzFdLGVbMl0pfSxCdC5yZXN1bHQ9ZnVuY3Rpb24oZSxyLHQpe3ZhciBvPS0xLGE9KHI9Ym4ocixlKSkubGVuZ3RoO2ZvcihhfHwoYT0xLGU9bik7KytvPGE7KXt2YXIgaT1udWxsPT1lP246ZVtEYShyW29dKV07aT09PW4mJihvPWEsaT10KSxlPVppKGkpP2kuY2FsbChlKTppfXJldHVybiBlfSxCdC5yb3VuZD1fYyxCdC5ydW5JbkNvbnRleHQ9ZSxCdC5zYW1wbGU9ZnVuY3Rpb24oZSl7cmV0dXJuKEdpKGUpP0h0OkhvKShlKX0sQnQuc2l6ZT1mdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiAwO2lmKFVpKGUpKXJldHVybiBhbChlKT9jdChlKTplLmxlbmd0aDt2YXIgcj1kYShlKTtyZXR1cm4gcj09a3x8cj09ST9lLnNpemU6em8oZSkubGVuZ3RofSxCdC5zbmFrZUNhc2U9VmwsQnQuc29tZT1mdW5jdGlvbihlLHIsdCl7dmFyIG89R2koZSk/RHI6ZW47cmV0dXJuIHQmJmJhKGUscix0KSYmKHI9biksbyhlLGFhKHIsMykpfSxCdC5zb3J0ZWRJbmRleD1mdW5jdGlvbihlLHIpe3JldHVybiBybihlLHIpfSxCdC5zb3J0ZWRJbmRleEJ5PWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gdG4oZSxyLGFhKHQsMikpfSxCdC5zb3J0ZWRJbmRleE9mPWZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT8wOmUubGVuZ3RoO2lmKHQpe3ZhciBvPXJuKGUscik7aWYobzx0JiZFaShlW29dLHIpKXJldHVybiBvfXJldHVybi0xfSxCdC5zb3J0ZWRMYXN0SW5kZXg9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gcm4oZSxyLCEwKX0sQnQuc29ydGVkTGFzdEluZGV4Qnk9ZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0bihlLHIsYWEodCwyKSwhMCl9LEJ0LnNvcnRlZExhc3RJbmRleE9mPWZ1bmN0aW9uKGUscil7aWYobnVsbCE9ZSYmZS5sZW5ndGgpe3ZhciB0PXJuKGUsciwhMCktMTtpZihFaShlW3RdLHIpKXJldHVybiB0fXJldHVybi0xfSxCdC5zdGFydENhc2U9cWwsQnQuc3RhcnRzV2l0aD1mdW5jdGlvbihlLHIsdCl7cmV0dXJuIGU9YmwoZSksdD1udWxsPT10PzA6b28oZmwodCksMCxlLmxlbmd0aCkscj1hbihyKSxlLnNsaWNlKHQsdCtyLmxlbmd0aCk9PXJ9LEJ0LnN1YnRyYWN0PWtjLEJ0LnN1bT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg/cXIoZSxyYyk6MH0sQnQuc3VtQnk9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSYmZS5sZW5ndGg/cXIoZSxhYShyLDIpKTowfSxCdC50ZW1wbGF0ZT1mdW5jdGlvbihlLHIsdCl7dmFyIG89QnQudGVtcGxhdGVTZXR0aW5nczt0JiZiYShlLHIsdCkmJihyPW4pLGU9YmwoZSkscj15bCh7fSxyLG8sWm4pO3ZhciBhLGksbD15bCh7fSxyLmltcG9ydHMsby5pbXBvcnRzLFpuKSxjPUFsKGwpLHM9WXIobCxjKSx1PTAsZD1yLmludGVycG9sYXRlfHx5ZSxmPVwiX19wICs9ICdcIixwPVNlKChyLmVzY2FwZXx8eWUpLnNvdXJjZStcInxcIitkLnNvdXJjZStcInxcIisoZD09PVE/ZGU6eWUpLnNvdXJjZStcInxcIisoci5ldmFsdWF0ZXx8eWUpLnNvdXJjZStcInwkXCIsXCJnXCIpLGc9XCIvLyMgc291cmNlVVJMPVwiKyh6ZS5jYWxsKHIsXCJzb3VyY2VVUkxcIik/KHIuc291cmNlVVJMK1wiXCIpLnJlcGxhY2UoL1xccy9nLFwiIFwiKTpcImxvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbXCIrICsrb3IrXCJdXCIpK1wiXFxuXCI7ZS5yZXBsYWNlKHAsZnVuY3Rpb24ocix0LG8sbixsLGMpe3JldHVybiBvfHwobz1uKSxmKz1lLnNsaWNlKHUsYykucmVwbGFjZSh3ZSx0dCksdCYmKGE9ITAsZis9XCInICtcXG5fX2UoXCIrdCtcIikgK1xcbidcIiksbCYmKGk9ITAsZis9XCInO1xcblwiK2wrXCI7XFxuX19wICs9ICdcIiksbyYmKGYrPVwiJyArXFxuKChfX3QgPSAoXCIrbytcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIiksdT1jK3IubGVuZ3RoLHJ9KSxmKz1cIic7XFxuXCI7dmFyIGg9emUuY2FsbChyLFwidmFyaWFibGVcIikmJnIudmFyaWFibGU7aWYoaCl7aWYoc2UudGVzdChoKSl0aHJvdyBuZXcgX2UoXCJJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYFwiKX1lbHNlIGY9XCJ3aXRoIChvYmopIHtcXG5cIitmK1wiXFxufVxcblwiO2Y9KGk/Zi5yZXBsYWNlKEcsXCJcIik6ZikucmVwbGFjZShMLFwiJDFcIikucmVwbGFjZShVLFwiJDE7XCIpLGY9XCJmdW5jdGlvbihcIisoaHx8XCJvYmpcIikrXCIpIHtcXG5cIisoaD9cIlwiOlwib2JqIHx8IChvYmogPSB7fSk7XFxuXCIpK1widmFyIF9fdCwgX19wID0gJydcIisoYT9cIiwgX19lID0gXy5lc2NhcGVcIjpcIlwiKSsoaT9cIiwgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCI6XCI7XFxuXCIpK2YrXCJyZXR1cm4gX19wXFxufVwiO3ZhciBiPVlsKGZ1bmN0aW9uKCl7cmV0dXJuIGtlKGMsZytcInJldHVybiBcIitmKS5hcHBseShuLHMpfSk7aWYoYi5zb3VyY2U9ZixLaShiKSl0aHJvdyBiO3JldHVybiBifSxCdC50aW1lcz1mdW5jdGlvbihlLHIpe2lmKChlPWZsKGUpKTwxfHxlPmQpcmV0dXJuW107dmFyIHQ9cCxvPWh0KGUscCk7cj1hYShyKSxlLT1wO2Zvcih2YXIgbj1IcihvLHIpOysrdDxlOylyKHQpO3JldHVybiBufSxCdC50b0Zpbml0ZT1kbCxCdC50b0ludGVnZXI9ZmwsQnQudG9MZW5ndGg9cGwsQnQudG9Mb3dlcj1mdW5jdGlvbihlKXtyZXR1cm4gYmwoZSkudG9Mb3dlckNhc2UoKX0sQnQudG9OdW1iZXI9Z2wsQnQudG9TYWZlSW50ZWdlcj1mdW5jdGlvbihlKXtyZXR1cm4gZT9vbyhmbChlKSwtOTAwNzE5OTI1NDc0MDk5MSxkKTowPT09ZT9lOjB9LEJ0LnRvU3RyaW5nPWJsLEJ0LnRvVXBwZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGJsKGUpLnRvVXBwZXJDYXNlKCl9LEJ0LnRyaW09ZnVuY3Rpb24oZSxyLHQpe2lmKChlPWJsKGUpKSYmKHR8fHI9PT1uKSlyZXR1cm4gS3IoZSk7aWYoIWV8fCEocj1hbihyKSkpcmV0dXJuIGU7dmFyIG89c3QoZSksYT1zdChyKTtyZXR1cm4gbW4obyxKcihvLGEpLFhyKG8sYSkrMSkuam9pbihcIlwiKX0sQnQudHJpbUVuZD1mdW5jdGlvbihlLHIsdCl7aWYoKGU9YmwoZSkpJiYodHx8cj09PW4pKXJldHVybiBlLnNsaWNlKDAsdXQoZSkrMSk7aWYoIWV8fCEocj1hbihyKSkpcmV0dXJuIGU7dmFyIG89c3QoZSk7cmV0dXJuIG1uKG8sMCxYcihvLHN0KHIpKSsxKS5qb2luKFwiXCIpfSxCdC50cmltU3RhcnQ9ZnVuY3Rpb24oZSxyLHQpe2lmKChlPWJsKGUpKSYmKHR8fHI9PT1uKSlyZXR1cm4gZS5yZXBsYWNlKG9lLFwiXCIpO2lmKCFlfHwhKHI9YW4ocikpKXJldHVybiBlO3ZhciBvPXN0KGUpO3JldHVybiBtbihvLEpyKG8sc3QocikpKS5qb2luKFwiXCIpfSxCdC50cnVuY2F0ZT1mdW5jdGlvbihlLHIpe3ZhciB0PTMwLG89XCIuLi5cIjtpZihKaShyKSl7dmFyIGE9XCJzZXBhcmF0b3JcImluIHI/ci5zZXBhcmF0b3I6YTt0PVwibGVuZ3RoXCJpbiByP2ZsKHIubGVuZ3RoKTp0LG89XCJvbWlzc2lvblwiaW4gcj9hbihyLm9taXNzaW9uKTpvfXZhciBpPShlPWJsKGUpKS5sZW5ndGg7aWYob3QoZSkpe3ZhciBsPXN0KGUpO2k9bC5sZW5ndGh9aWYodD49aSlyZXR1cm4gZTt2YXIgYz10LWN0KG8pO2lmKGM8MSlyZXR1cm4gbzt2YXIgcz1sP21uKGwsMCxjKS5qb2luKFwiXCIpOmUuc2xpY2UoMCxjKTtpZihhPT09bilyZXR1cm4gcytvO2lmKGwmJihjKz1zLmxlbmd0aC1jKSxvbChhKSl7aWYoZS5zbGljZShjKS5zZWFyY2goYSkpe3ZhciB1LGQ9cztmb3IoYS5nbG9iYWx8fChhPVNlKGEuc291cmNlLGJsKGZlLmV4ZWMoYSkpK1wiZ1wiKSksYS5sYXN0SW5kZXg9MDt1PWEuZXhlYyhkKTspdmFyIGY9dS5pbmRleDtzPXMuc2xpY2UoMCxmPT09bj9jOmYpfX1lbHNlIGlmKGUuaW5kZXhPZihhbihhKSxjKSE9Yyl7dmFyIHA9cy5sYXN0SW5kZXhPZihhKTtwPi0xJiYocz1zLnNsaWNlKDAscCkpfXJldHVybiBzK299LEJ0LnVuZXNjYXBlPWZ1bmN0aW9uKGUpe3JldHVybihlPWJsKGUpKSYmSC50ZXN0KGUpP2UucmVwbGFjZShWLGR0KTplfSxCdC51bmlxdWVJZD1mdW5jdGlvbihlKXt2YXIgcj0rK1RlO3JldHVybiBibChlKStyfSxCdC51cHBlckNhc2U9SGwsQnQudXBwZXJGaXJzdD1LbCxCdC5lYWNoPWJpLEJ0LmVhY2hSaWdodD12aSxCdC5maXJzdD1VYSxhYyhCdCwoaGM9e30sdm8oQnQsZnVuY3Rpb24oZSxyKXt6ZS5jYWxsKEJ0LnByb3RvdHlwZSxyKXx8KGhjW3JdPWUpfSksaGMpLHtjaGFpbjohMX0pLEJ0LlZFUlNJT049XCI0LjE3LjIxXCIsU3IoW1wiYmluZFwiLFwiYmluZEtleVwiLFwiY3VycnlcIixcImN1cnJ5UmlnaHRcIixcInBhcnRpYWxcIixcInBhcnRpYWxSaWdodFwiXSxmdW5jdGlvbihlKXtCdFtlXS5wbGFjZWhvbGRlcj1CdH0pLFNyKFtcImRyb3BcIixcInRha2VcIl0sZnVuY3Rpb24oZSxyKXskdC5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCl7dD10PT09bj8xOmd0KGZsKHQpLDApO3ZhciBvPXRoaXMuX19maWx0ZXJlZF9fJiYhcj9uZXcgJHQodGhpcyk6dGhpcy5jbG9uZSgpO3JldHVybiBvLl9fZmlsdGVyZWRfXz9vLl9fdGFrZUNvdW50X189aHQodCxvLl9fdGFrZUNvdW50X18pOm8uX192aWV3c19fLnB1c2goe3NpemU6aHQodCxwKSx0eXBlOmUrKG8uX19kaXJfXzwwP1wiUmlnaHRcIjpcIlwiKX0pLG99LCR0LnByb3RvdHlwZVtlK1wiUmlnaHRcIl09ZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMucmV2ZXJzZSgpW2VdKHIpLnJldmVyc2UoKX19KSxTcihbXCJmaWx0ZXJcIixcIm1hcFwiLFwidGFrZVdoaWxlXCJdLGZ1bmN0aW9uKGUscil7dmFyIHQ9cisxLG89MT09dHx8Mz09dDskdC5wcm90b3R5cGVbZV09ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5jbG9uZSgpO3JldHVybiByLl9faXRlcmF0ZWVzX18ucHVzaCh7aXRlcmF0ZWU6YWEoZSwzKSx0eXBlOnR9KSxyLl9fZmlsdGVyZWRfXz1yLl9fZmlsdGVyZWRfX3x8byxyfX0pLFNyKFtcImhlYWRcIixcImxhc3RcIl0sZnVuY3Rpb24oZSxyKXt2YXIgdD1cInRha2VcIisocj9cIlJpZ2h0XCI6XCJcIik7JHQucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF0oMSkudmFsdWUoKVswXX19KSxTcihbXCJpbml0aWFsXCIsXCJ0YWlsXCJdLGZ1bmN0aW9uKGUscil7dmFyIHQ9XCJkcm9wXCIrKHI/XCJcIjpcIlJpZ2h0XCIpOyR0LnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZmlsdGVyZWRfXz9uZXcgJHQodGhpcyk6dGhpc1t0XSgxKX19KSwkdC5wcm90b3R5cGUuY29tcGFjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcihyYyl9LCR0LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZpbHRlcihlKS5oZWFkKCl9LCR0LnByb3RvdHlwZS5maW5kTGFzdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZChlKX0sJHQucHJvdG90eXBlLmludm9rZU1hcD1xbyhmdW5jdGlvbihlLHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/bmV3ICR0KHRoaXMpOnRoaXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBJbyh0LGUscil9KX0pLCR0LnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmlsdGVyKHppKGFhKGUpKSl9LCR0LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHIpe2U9ZmwoZSk7dmFyIHQ9dGhpcztyZXR1cm4gdC5fX2ZpbHRlcmVkX18mJihlPjB8fHI8MCk/bmV3ICR0KHQpOihlPDA/dD10LnRha2VSaWdodCgtZSk6ZSYmKHQ9dC5kcm9wKGUpKSxyIT09biYmKHQ9KHI9ZmwocikpPDA/dC5kcm9wUmlnaHQoLXIpOnQudGFrZShyLWUpKSx0KX0sJHQucHJvdG90eXBlLnRha2VSaWdodFdoaWxlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUoZSkucmV2ZXJzZSgpfSwkdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRha2UocCl9LHZvKCR0LnByb3RvdHlwZSxmdW5jdGlvbihlLHIpe3ZhciB0PS9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KHIpLG89L14oPzpoZWFkfGxhc3QpJC8udGVzdChyKSxhPUJ0W28/XCJ0YWtlXCIrKFwibGFzdFwiPT1yP1wiUmlnaHRcIjpcIlwiKTpyXSxpPW98fC9eZmluZC8udGVzdChyKTthJiYoQnQucHJvdG90eXBlW3JdPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5fX3dyYXBwZWRfXyxsPW8/WzFdOmFyZ3VtZW50cyxjPXIgaW5zdGFuY2VvZiAkdCxzPWxbMF0sdT1jfHxHaShyKSxkPWZ1bmN0aW9uKGUpe3ZhciByPWEuYXBwbHkoQnQsV3IoW2VdLGwpKTtyZXR1cm4gbyYmZj9yWzBdOnJ9O3UmJnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMmJjEhPXMubGVuZ3RoJiYoYz11PSExKTt2YXIgZj10aGlzLl9fY2hhaW5fXyxwPSEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsZz1pJiYhZixoPWMmJiFwO2lmKCFpJiZ1KXtyPWg/cjpuZXcgJHQodGhpcyk7dmFyIGI9ZS5hcHBseShyLGwpO3JldHVybiBiLl9fYWN0aW9uc19fLnB1c2goe2Z1bmM6ZGksYXJnczpbZF0sdGhpc0FyZzpufSksbmV3IGp0KGIsZil9cmV0dXJuIGcmJmg/ZS5hcHBseSh0aGlzLGwpOihiPXRoaXMudGhydShkKSxnP28/Yi52YWx1ZSgpWzBdOmIudmFsdWUoKTpiKX0pfSksU3IoW1wicG9wXCIsXCJwdXNoXCIsXCJzaGlmdFwiLFwic29ydFwiLFwic3BsaWNlXCIsXCJ1bnNoaWZ0XCJdLGZ1bmN0aW9uKGUpe3ZhciByPUNlW2VdLHQ9L14oPzpwdXNofHNvcnR8dW5zaGlmdCkkLy50ZXN0KGUpP1widGFwXCI6XCJ0aHJ1XCIsbz0vXig/OnBvcHxzaGlmdCkkLy50ZXN0KGUpO0J0LnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztpZihvJiYhdGhpcy5fX2NoYWluX18pe3ZhciBuPXRoaXMudmFsdWUoKTtyZXR1cm4gci5hcHBseShHaShuKT9uOltdLGUpfXJldHVybiB0aGlzW3RdKGZ1bmN0aW9uKHQpe3JldHVybiByLmFwcGx5KEdpKHQpP3Q6W10sZSl9KX19KSx2bygkdC5wcm90b3R5cGUsZnVuY3Rpb24oZSxyKXt2YXIgdD1CdFtyXTtpZih0KXt2YXIgbz10Lm5hbWUrXCJcIjt6ZS5jYWxsKEl0LG8pfHwoSXRbb109W10pLEl0W29dLnB1c2goe25hbWU6cixmdW5jOnR9KX19KSxJdFtSbihuLDIpLm5hbWVdPVt7bmFtZTpcIndyYXBwZXJcIixmdW5jOm59XSwkdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgJHQodGhpcy5fX3dyYXBwZWRfXyk7cmV0dXJuIGUuX19hY3Rpb25zX189TW4odGhpcy5fX2FjdGlvbnNfXyksZS5fX2Rpcl9fPXRoaXMuX19kaXJfXyxlLl9fZmlsdGVyZWRfXz10aGlzLl9fZmlsdGVyZWRfXyxlLl9faXRlcmF0ZWVzX189TW4odGhpcy5fX2l0ZXJhdGVlc19fKSxlLl9fdGFrZUNvdW50X189dGhpcy5fX3Rha2VDb3VudF9fLGUuX192aWV3c19fPU1uKHRoaXMuX192aWV3c19fKSxlfSwkdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2lmKHRoaXMuX19maWx0ZXJlZF9fKXt2YXIgZT1uZXcgJHQodGhpcyk7ZS5fX2Rpcl9fPS0xLGUuX19maWx0ZXJlZF9fPSEwfWVsc2UoZT10aGlzLmNsb25lKCkpLl9fZGlyX18qPS0xO3JldHVybiBlfSwkdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCkscj10aGlzLl9fZGlyX18sdD1HaShlKSxvPXI8MCxuPXQ/ZS5sZW5ndGg6MCxhPWZ1bmN0aW9uKGUscix0KXtmb3IodmFyIG89LTEsbj10Lmxlbmd0aDsrK288bjspe3ZhciBhPXRbb10saT1hLnNpemU7c3dpdGNoKGEudHlwZSl7Y2FzZVwiZHJvcFwiOmUrPWk7YnJlYWs7Y2FzZVwiZHJvcFJpZ2h0XCI6ci09aTticmVhaztjYXNlXCJ0YWtlXCI6cj1odChyLGUraSk7YnJlYWs7Y2FzZVwidGFrZVJpZ2h0XCI6ZT1ndChlLHItaSl9fXJldHVybntzdGFydDplLGVuZDpyfX0oMCxuLHRoaXMuX192aWV3c19fKSxpPWEuc3RhcnQsbD1hLmVuZCxjPWwtaSxzPW8/bDppLTEsdT10aGlzLl9faXRlcmF0ZWVzX18sZD11Lmxlbmd0aCxmPTAscD1odChjLHRoaXMuX190YWtlQ291bnRfXyk7aWYoIXR8fCFvJiZuPT1jJiZwPT1jKXJldHVybiBkbihlLHRoaXMuX19hY3Rpb25zX18pO3ZhciBnPVtdO2U6Zm9yKDtjLS0mJmY8cDspe2Zvcih2YXIgaD0tMSxiPWVbcys9cl07KytoPGQ7KXt2YXIgdj11W2hdLG09di5pdGVyYXRlZSx5PXYudHlwZSx3PW0oYik7aWYoMj09eSliPXc7ZWxzZSBpZighdyl7aWYoMT09eSljb250aW51ZSBlO2JyZWFrIGV9fWdbZisrXT1ifXJldHVybiBnfSxCdC5wcm90b3R5cGUuYXQ9ZmksQnQucHJvdG90eXBlLmNoYWluPWZ1bmN0aW9uKCl7cmV0dXJuIHVpKHRoaXMpfSxCdC5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBqdCh0aGlzLnZhbHVlKCksdGhpcy5fX2NoYWluX18pfSxCdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3RoaXMuX192YWx1ZXNfXz09PW4mJih0aGlzLl9fdmFsdWVzX189dWwodGhpcy52YWx1ZSgpKSk7dmFyIGU9dGhpcy5fX2luZGV4X18+PXRoaXMuX192YWx1ZXNfXy5sZW5ndGg7cmV0dXJue2RvbmU6ZSx2YWx1ZTplP246dGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdfX0sQnQucHJvdG90eXBlLnBsYW50PWZ1bmN0aW9uKGUpe2Zvcih2YXIgcix0PXRoaXM7dCBpbnN0YW5jZW9mIEV0Oyl7dmFyIG89UmEodCk7by5fX2luZGV4X189MCxvLl9fdmFsdWVzX189bixyP2EuX193cmFwcGVkX189bzpyPW87dmFyIGE9bzt0PXQuX193cmFwcGVkX199cmV0dXJuIGEuX193cmFwcGVkX189ZSxyfSxCdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX193cmFwcGVkX187aWYoZSBpbnN0YW5jZW9mICR0KXt2YXIgcj1lO3JldHVybiB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCYmKHI9bmV3ICR0KHRoaXMpKSwocj1yLnJldmVyc2UoKSkuX19hY3Rpb25zX18ucHVzaCh7ZnVuYzpkaSxhcmdzOltKYV0sdGhpc0FyZzpufSksbmV3IGp0KHIsdGhpcy5fX2NoYWluX18pfXJldHVybiB0aGlzLnRocnUoSmEpfSxCdC5wcm90b3R5cGUudG9KU09OPUJ0LnByb3RvdHlwZS52YWx1ZU9mPUJ0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiBkbih0aGlzLl9fd3JhcHBlZF9fLHRoaXMuX19hY3Rpb25zX18pfSxCdC5wcm90b3R5cGUuZmlyc3Q9QnQucHJvdG90eXBlLmhlYWQsWmUmJihCdC5wcm90b3R5cGVbWmVdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxCdH0oKTtkci5fPWZ0LChvPWZ1bmN0aW9uKCl7cmV0dXJuIGZ0fS5jYWxsKHIsdCxyLGUpKT09PW58fChlLmV4cG9ydHM9byl9LmNhbGwodGhpcyl9LDI1NTI6KGUscix0KT0+e3ZhciBvPXQoMTg3Myksbj10KDY1OSksYT10KDkzNTApLGk9bz9vLnRvU3RyaW5nVGFnOnZvaWQgMDtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/dm9pZCAwPT09ZT9cIltvYmplY3QgVW5kZWZpbmVkXVwiOlwiW29iamVjdCBOdWxsXVwiOmkmJmkgaW4gT2JqZWN0KGUpP24oZSk6YShlKX19LDI2NTE6KGUscix0KT0+e3ZhciBvPXQoNDIxOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5fX2RhdGFfXztyZXR1cm4gbyhyKT90W1wic3RyaW5nXCI9PXR5cGVvZiByP1wic3RyaW5nXCI6XCJoYXNoXCJdOnQubWFwfX0sMjc0OTooZSxyLHQpPT57dmFyIG89dCgxMDQyKSxuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMuX19kYXRhX187cmV0dXJuIG8/dm9pZCAwIT09cltlXTpuLmNhbGwocixlKX19LDI4MjQ6KGUscix0KT0+e3ZhciBvPXQoNzgwNSksbj10KDMyOTApLGE9dCgxOTYxKSxpPXQoMzAwNyksbD10KDU1MjkpLGM9dCgyNDI4KSxzPXQoNjQ0OSksdT10KDM2OTMpLGQ9dCgzNjU2KSxmPXQoMTg4MikscD10KDM4MDUpLGc9dCgxMzMxKSxoPXQoNzE2NyksYj10KDQ5NzQpLHY9dCg5ODg0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyLHQsbSx5LHcsXyl7dmFyIGs9YihlLHQpLHg9YihyLHQpLFA9Xy5nZXQoeCk7aWYoUClvKGUsdCxQKTtlbHNle3ZhciBTPXc/dyhrLHgsdCtcIlwiLGUscixfKTp2b2lkIDAsTT12b2lkIDA9PT1TO2lmKE0pe3ZhciBJPXMoeCksQz0hSSYmZCh4KSxBPSFJJiYhQyYmaCh4KTtTPXgsSXx8Q3x8QT9zKGspP1M9azp1KGspP1M9aShrKTpDPyhNPSExLFM9bih4LCEwKSk6QT8oTT0hMSxTPWEoeCwhMCkpOlM9W106Zyh4KXx8Yyh4KT8oUz1rLGMoayk/Uz12KGspOnAoaykmJiFmKGspfHwoUz1sKHgpKSk6TT0hMX1NJiYoXy5zZXQoeCxTKSx5KFMseCxtLHcsXyksXy5kZWxldGUoeCkpLG8oZSx0LFMpfX19LDI4NjU6KGUscix0KT0+e3ZhciBvPXQoOTU3MCksbj10KDE4MTEpKG8pO2UuZXhwb3J0cz1ufSwyOTAzOihlLHIsdCk9Pnt2YXIgbz10KDM4MDUpLG49dCg1NTI3KSxhPXQoMTgxKSxpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFvKGUpKXJldHVybiBhKGUpO3ZhciByPW4oZSksdD1bXTtmb3IodmFyIGwgaW4gZSkoXCJjb25zdHJ1Y3RvclwiIT1sfHwhciYmaS5jYWxsKGUsbCkpJiZ0LnB1c2gobCk7cmV0dXJuIHR9fSwyOTQ5OihlLHIsdCk9Pnt2YXIgbz10KDI2NTEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe3ZhciB0PW8odGhpcyxlKSxuPXQuc2l6ZTtyZXR1cm4gdC5zZXQoZSxyKSx0aGlzLnNpemUrPXQuc2l6ZT09bj8wOjEsdGhpc319LDMwMDc6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe3ZhciB0PS0xLG89ZS5sZW5ndGg7Zm9yKHJ8fChyPUFycmF5KG8pKTsrK3Q8bzspclt0XT1lW3RdO3JldHVybiByfX0sMzA0MDooZSxyLHQpPT57dmFyIG89dCgxNTQ5KSxuPXQoNzkpLGE9dCg4MjIzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBvLG1hcDpuZXcoYXx8biksc3RyaW5nOm5ldyBvfX19LDMyMjE6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocix0LG8pe2Zvcih2YXIgbj0tMSxhPU9iamVjdChyKSxpPW8ociksbD1pLmxlbmd0aDtsLS07KXt2YXIgYz1pW2U/bDorK25dO2lmKCExPT09dChhW2NdLGMsYSkpYnJlYWt9cmV0dXJuIHJ9fX0sMzI0MzooZSxyLHQpPT57dmFyIG89dCg2MTEwKSxuPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW8oT2JqZWN0LFwiZGVmaW5lUHJvcGVydHlcIik7cmV0dXJuIGUoe30sXCJcIix7fSksZX1jYXRjaChlKXt9fSgpO2UuZXhwb3J0cz1ufSwzMjkwOihlLHIsdCk9PntlPXQubm1kKGUpO3ZhciBvPXQoOTMyNSksbj1yJiYhci5ub2RlVHlwZSYmcixhPW4mJmUmJiFlLm5vZGVUeXBlJiZlLGk9YSYmYS5leHBvcnRzPT09bj9vLkJ1ZmZlcjp2b2lkIDAsbD1pP2kuYWxsb2NVbnNhZmU6dm9pZCAwO2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe2lmKHIpcmV0dXJuIGUuc2xpY2UoKTt2YXIgdD1lLmxlbmd0aCxvPWw/bCh0KTpuZXcgZS5jb25zdHJ1Y3Rvcih0KTtyZXR1cm4gZS5jb3B5KG8pLG99fSwzMzYwOihlLHIsdCk9Pnt2YXIgbz10KDMyNDMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHIsdCl7XCJfX3Byb3RvX19cIj09ciYmbz9vKGUscix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6dCx3cml0YWJsZTohMH0pOmVbcl09dH19LDM0ODg6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZX19LDM2MDU6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoZSl9fSwzNjU2OihlLHIsdCk9PntlPXQubm1kKGUpO3ZhciBvPXQoOTMyNSksbj10KDk5MzUpLGE9ciYmIXIubm9kZVR5cGUmJnIsaT1hJiZlJiYhZS5ub2RlVHlwZSYmZSxsPWkmJmkuZXhwb3J0cz09PWE/by5CdWZmZXI6dm9pZCAwLGM9KGw/bC5pc0J1ZmZlcjp2b2lkIDApfHxuO2UuZXhwb3J0cz1jfSwzNjYxOihlLHIsdCk9Pnt2YXIgbz10KDMwNDApLG49dCg3NjcwKSxhPXQoMjg5KSxpPXQoNDUwOSksbD10KDI5NDkpO2Z1bmN0aW9uIGMoZSl7dmFyIHI9LTEsdD1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3I8dDspe3ZhciBvPWVbcl07dGhpcy5zZXQob1swXSxvWzFdKX19Yy5wcm90b3R5cGUuY2xlYXI9byxjLnByb3RvdHlwZS5kZWxldGU9bixjLnByb3RvdHlwZS5nZXQ9YSxjLnByb3RvdHlwZS5oYXM9aSxjLnByb3RvdHlwZS5zZXQ9bCxlLmV4cG9ydHM9Y30sMzY5MzooZSxyLHQpPT57dmFyIG89dCg0ODk0KSxuPXQoMzQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSkmJm8oZSl9fSwzNzAyOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPVtdLHRoaXMuc2l6ZT0wfX0sMzgwNTplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPXR5cGVvZiBlO3JldHVybiBudWxsIT1lJiYoXCJvYmplY3RcIj09cnx8XCJmdW5jdGlvblwiPT1yKX19LDM4NjI6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj10aGlzLmhhcyhlKSYmZGVsZXRlIHRoaXMuX19kYXRhX19bZV07cmV0dXJuIHRoaXMuc2l6ZS09cj8xOjAscn19LDQyMTg6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj10eXBlb2YgZTtyZXR1cm5cInN0cmluZ1wiPT1yfHxcIm51bWJlclwiPT1yfHxcInN5bWJvbFwiPT1yfHxcImJvb2xlYW5cIj09cj9cIl9fcHJvdG9fX1wiIT09ZTpudWxsPT09ZX19LDQzMzU6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZShyKHQpKX19fSw0NTA5OihlLHIsdCk9Pnt2YXIgbz10KDI2NTEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyh0aGlzLGUpLmhhcyhlKX19LDQ3Mzk6KGUscix0KT0+e3ZhciBvPXQoNjAyNSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMuX19kYXRhX18sdD1vKHIsZSk7cmV0dXJuIHQ8MD92b2lkIDA6clt0XVsxXX19LDQ4NDA6KGUscix0KT0+e3ZhciBvPVwib2JqZWN0XCI9PXR5cGVvZiB0LmcmJnQuZyYmdC5nLk9iamVjdD09PU9iamVjdCYmdC5nO2UuZXhwb3J0cz1vfSw0ODk0OihlLHIsdCk9Pnt2YXIgbz10KDE4ODIpLG49dCgyOTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmbihlLmxlbmd0aCkmJiFvKGUpfX0sNDkwMTooZSxyLHQpPT57dmFyIG89dCgyNTUyKSxuPXQoMjk0KSxhPXQoMzQ2KSxpPXt9O2lbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09aVtcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1pW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPWlbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPWlbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPWlbXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCJdPWlbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT1pW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09aVtcIltvYmplY3QgVWludDMyQXJyYXldXCJdPSEwLGlbXCJbb2JqZWN0IEFyZ3VtZW50c11cIl09aVtcIltvYmplY3QgQXJyYXldXCJdPWlbXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiXT1pW1wiW29iamVjdCBCb29sZWFuXVwiXT1pW1wiW29iamVjdCBEYXRhVmlld11cIl09aVtcIltvYmplY3QgRGF0ZV1cIl09aVtcIltvYmplY3QgRXJyb3JdXCJdPWlbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT1pW1wiW29iamVjdCBNYXBdXCJdPWlbXCJbb2JqZWN0IE51bWJlcl1cIl09aVtcIltvYmplY3QgT2JqZWN0XVwiXT1pW1wiW29iamVjdCBSZWdFeHBdXCJdPWlbXCJbb2JqZWN0IFNldF1cIl09aVtcIltvYmplY3QgU3RyaW5nXVwiXT1pW1wiW29iamVjdCBXZWFrTWFwXVwiXT0hMSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSkmJm4oZS5sZW5ndGgpJiYhIWlbbyhlKV19fSw0OTc0OmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXtpZigoXCJjb25zdHJ1Y3RvclwiIT09cnx8XCJmdW5jdGlvblwiIT10eXBlb2YgZVtyXSkmJlwiX19wcm90b19fXCIhPXIpcmV0dXJuIGVbcl19fSw1MDgzOihlLHIsdCk9Pnt2YXIgbz10KDE4ODIpLG49dCg3Mjk2KSxhPXQoMzgwNSksaT10KDc0NzMpLGw9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyxjPUZ1bmN0aW9uLnByb3RvdHlwZSxzPU9iamVjdC5wcm90b3R5cGUsdT1jLnRvU3RyaW5nLGQ9cy5oYXNPd25Qcm9wZXJ0eSxmPVJlZ0V4cChcIl5cIit1LmNhbGwoZCkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuISghYShlKXx8bihlKSkmJihvKGUpP2Y6bCkudGVzdChpKGUpKX19LDUyNTA6KGUscix0KT0+e3ZhciBvPXQoNzIxNyksbj10KDc4MDUpLGE9dCg2NjQ5KSxpPXQoMjgyNCksbD10KDM4MDUpLGM9dCg3MjQxKSxzPXQoNDk3NCk7ZS5leHBvcnRzPWZ1bmN0aW9uIGUocix0LHUsZCxmKXtyIT09dCYmYSh0LGZ1bmN0aW9uKGEsYyl7aWYoZnx8KGY9bmV3IG8pLGwoYSkpaShyLHQsYyx1LGUsZCxmKTtlbHNle3ZhciBwPWQ/ZChzKHIsYyksYSxjK1wiXCIscix0LGYpOnZvaWQgMDt2b2lkIDA9PT1wJiYocD1hKSxuKHIsYyxwKX19LGMpfX0sNTI4ODplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7cmV0dXJuIGU9PT1yfHxlIT1lJiZyIT1yfX0sNTM2NDooZSxyLHQpPT57dmFyIG89dCg1MjUwKSxuPXQoOTk5KShmdW5jdGlvbihlLHIsdCl7byhlLHIsdCl9KTtlLmV4cG9ydHM9bn0sNTQ4MTooZSxyLHQpPT57dmFyIG89dCg5MzI1KVtcIl9fY29yZS1qc19zaGFyZWRfX1wiXTtlLmV4cG9ydHM9b30sNTUyNzplPT57dmFyIHI9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZT09PShcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LnByb3RvdHlwZXx8cil9fSw1NTI5OihlLHIsdCk9Pnt2YXIgbz10KDkzNDQpLG49dCg4ODc5KSxhPXQoNTUyNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuY29uc3RydWN0b3J8fGEoZSk/e306byhuKGUpKX19LDU3NDk6KGUscix0KT0+e3ZhciBvPXQoMTA0Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7dmFyIHQ9dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyhlKT8wOjEsdFtlXT1vJiZ2b2lkIDA9PT1yP1wiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiOnIsdGhpc319LDYwMDk6KGUscix0KT0+e2U9dC5ubWQoZSk7dmFyIG89dCg0ODQwKSxuPXImJiFyLm5vZGVUeXBlJiZyLGE9biYmZSYmIWUubm9kZVR5cGUmJmUsaT1hJiZhLmV4cG9ydHM9PT1uJiZvLnByb2Nlc3MsbD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gYSYmYS5yZXF1aXJlJiZhLnJlcXVpcmUoXCJ1dGlsXCIpLnR5cGVzfHxpJiZpLmJpbmRpbmcmJmkuYmluZGluZyhcInV0aWxcIil9Y2F0Y2goZSl7fX0oKTtlLmV4cG9ydHM9bH0sNjAyNTooZSxyLHQpPT57dmFyIG89dCg1Mjg4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOylpZihvKGVbdF1bMF0scikpcmV0dXJuIHQ7cmV0dXJuLTF9fSw2MTEwOihlLHIsdCk9Pnt2YXIgbz10KDUwODMpLG49dCgzOTIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe3ZhciB0PW4oZSxyKTtyZXR1cm4gbyh0KT90OnZvaWQgMH19LDY0NDk6ZT0+e3ZhciByPUFycmF5LmlzQXJyYXk7ZS5leHBvcnRzPXJ9LDY1NDc6KGUscix0KT0+e3ZhciBvPXQoMzM2MCksbj10KDUyODgpLGE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyLHQpe3ZhciBpPWVbcl07YS5jYWxsKGUscikmJm4oaSx0KSYmKHZvaWQgMCE9PXR8fHIgaW4gZSl8fG8oZSxyLHQpfX0sNjY0OTooZSxyLHQpPT57dmFyIG89dCgzMjIxKSgpO2UuZXhwb3J0cz1vfSw2NzIxOihlLHIsdCk9Pnt2YXIgbz10KDEwNDIpLG49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcy5fX2RhdGFfXztpZihvKXt2YXIgdD1yW2VdO3JldHVyblwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiPT09dD92b2lkIDA6dH1yZXR1cm4gbi5jYWxsKHIsZSk/cltlXTp2b2lkIDB9fSw2NzU3OihlLHIsdCk9Pnt2YXIgbz10KDEwMzMpLG49TWF0aC5tYXg7ZS5leHBvcnRzPWZ1bmN0aW9uKGUscix0KXtyZXR1cm4gcj1uKHZvaWQgMD09PXI/ZS5sZW5ndGgtMTpyLDApLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPWFyZ3VtZW50cyxpPS0xLGw9bihhLmxlbmd0aC1yLDApLGM9QXJyYXkobCk7KytpPGw7KWNbaV09YVtyK2ldO2k9LTE7Zm9yKHZhciBzPUFycmF5KHIrMSk7KytpPHI7KXNbaV09YVtpXTtyZXR1cm4gc1tyXT10KGMpLG8oZSx0aGlzLHMpfX19LDY4MDA6KGUscix0KT0+e3ZhciBvPXQoNTI4OCksbj10KDQ4OTQpLGE9dCgzNjEpLGk9dCgzODA1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyLHQpe2lmKCFpKHQpKXJldHVybiExO3ZhciBsPXR5cGVvZiByO3JldHVybiEhKFwibnVtYmVyXCI9PWw/bih0KSYmYShyLHQubGVuZ3RoKTpcInN0cmluZ1wiPT1sJiZyIGluIHQpJiZvKHRbcl0sZSl9fSw3MTY3OihlLHIsdCk9Pnt2YXIgbz10KDQ5MDEpLG49dCg3MzAxKSxhPXQoNjAwOSksaT1hJiZhLmlzVHlwZWRBcnJheSxsPWk/bihpKTpvO2UuZXhwb3J0cz1sfSw3MjE3OihlLHIsdCk9Pnt2YXIgbz10KDc5KSxuPXQoMTQyMCksYT10KDkzOCksaT10KDM2MDUpLGw9dCg5ODE3KSxjPXQoOTQ1KTtmdW5jdGlvbiBzKGUpe3ZhciByPXRoaXMuX19kYXRhX189bmV3IG8oZSk7dGhpcy5zaXplPXIuc2l6ZX1zLnByb3RvdHlwZS5jbGVhcj1uLHMucHJvdG90eXBlLmRlbGV0ZT1hLHMucHJvdG90eXBlLmdldD1pLHMucHJvdG90eXBlLmhhcz1sLHMucHJvdG90eXBlLnNldD1jLGUuZXhwb3J0cz1zfSw3MjQxOihlLHIsdCk9Pnt2YXIgbz10KDY5NSksbj10KDI5MDMpLGE9dCg0ODk0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSk/byhlLCEwKTpuKGUpfX0sNzI5NjooZSxyLHQpPT57dmFyIG8sbj10KDU0ODEpLGE9KG89L1teLl0rJC8uZXhlYyhuJiZuLmtleXMmJm4ua2V5cy5JRV9QUk9UT3x8XCJcIikpP1wiU3ltYm9sKHNyYylfMS5cIitvOlwiXCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiEhYSYmYSBpbiBlfX0sNzMwMTplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZShyKX19fSw3MzM0OmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fX0sNzQ3MzplPT57dmFyIHI9RnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihudWxsIT1lKXt0cnl7cmV0dXJuIHIuY2FsbChlKX1jYXRjaChlKXt9dHJ5e3JldHVybiBlK1wiXCJ9Y2F0Y2goZSl7fX1yZXR1cm5cIlwifX0sNzUzNDooZSxyLHQpPT57dmFyIG89dCgyNTUyKSxuPXQoMzQ2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSkmJlwiW29iamVjdCBBcmd1bWVudHNdXCI9PW8oZSl9fSw3NjcwOihlLHIsdCk9Pnt2YXIgbz10KDI2NTEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgcj1vKHRoaXMsZSkuZGVsZXRlKGUpO3JldHVybiB0aGlzLnNpemUtPXI/MTowLHJ9fSw3ODA1OihlLHIsdCk9Pnt2YXIgbz10KDMzNjApLG49dCg1Mjg4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyLHQpeyh2b2lkIDAhPT10JiYhbihlW3JdLHQpfHx2b2lkIDA9PT10JiYhKHIgaW4gZSkpJiZvKGUscix0KX19LDc4Mjg6KGUscix0KT0+e3ZhciBvPXQoOTMyNSkuVWludDhBcnJheTtlLmV4cG9ydHM9b30sODA5NjplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUscil7Zm9yKHZhciB0PS0xLG89QXJyYXkoZSk7Kyt0PGU7KW9bdF09cih0KTtyZXR1cm4gb319LDgyMjM6KGUscix0KT0+e3ZhciBvPXQoNjExMCkodCg5MzI1KSxcIk1hcFwiKTtlLmV4cG9ydHM9b30sODY1NTooZSxyLHQpPT57dmFyIG89dCg2MDI1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcy5fX2RhdGFfXyxlKT4tMX19LDg4Nzk6KGUscix0KT0+e3ZhciBvPXQoNDMzNSkoT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCk7ZS5leHBvcnRzPW99LDkzMDI6KGUscix0KT0+e3ZhciBvPXQoMzQ4OCksbj10KDY3NTcpLGE9dCgyODY1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gYShuKGUscixvKSxlK1wiXCIpfX0sOTMyNTooZSxyLHQpPT57dmFyIG89dCg0ODQwKSxuPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixhPW98fG58fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtlLmV4cG9ydHM9YX0sOTM0NDooZSxyLHQpPT57dmFyIG89dCgzODA1KSxuPU9iamVjdC5jcmVhdGUsYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKCFvKHIpKXJldHVybnt9O2lmKG4pcmV0dXJuIG4ocik7ZS5wcm90b3R5cGU9cjt2YXIgdD1uZXcgZTtyZXR1cm4gZS5wcm90b3R5cGU9dm9pZCAwLHR9fSgpO2UuZXhwb3J0cz1hfSw5MzUwOmU9Pnt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gci5jYWxsKGUpfX0sOTU3MDooZSxyLHQpPT57dmFyIG89dCg3MzM0KSxuPXQoMzI0MyksYT10KDM0ODgpLGk9bj9mdW5jdGlvbihlLHIpe3JldHVybiBuKGUsXCJ0b1N0cmluZ1wiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpvKHIpLHdyaXRhYmxlOiEwfSl9OmE7ZS5leHBvcnRzPWl9LDk2NTM6KGUscix0KT0+e3ZhciBvPXQoNzgyOCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciByPW5ldyBlLmNvbnN0cnVjdG9yKGUuYnl0ZUxlbmd0aCk7cmV0dXJuIG5ldyBvKHIpLnNldChuZXcgbyhlKSkscn19LDk4MTc6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoZSl9fSw5ODg0OihlLHIsdCk9Pnt2YXIgbz10KDE3OTEpLG49dCg3MjQxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSxuKGUpKX19LDk5MzU6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiExfX19LGc9e307ZnVuY3Rpb24gaChlKXt2YXIgcj1nW2VdO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHIuZXhwb3J0czt2YXIgdD1nW2VdPXtpZDplLGxvYWRlZDohMSxleHBvcnRzOnt9fTtyZXR1cm4gcFtlXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyxoKSx0LmxvYWRlZD0hMCx0LmV4cG9ydHN9aC5uPWU9Pnt2YXIgcj1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gaC5kKHIse2E6cn0pLHJ9LGguZD0oZSxyKT0+e2Zvcih2YXIgdCBpbiByKWgubyhyLHQpJiYhaC5vKGUsdCkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJbdF19KX0saC5nPWZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cpcmV0dXJuIHdpbmRvd319KCksaC5vPShlLHIpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSxoLm5tZD1lPT4oZS5wYXRocz1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksZSk7dmFyIGI9aCg1MzY0KTtoLm4oYik7SlNPTi5wYXJzZSgne1wiYnJhbmRcIjp7XCJiYXNlXCI6e1wiZGFya1wiOlwicmdiYSgyMCwgNiwgMTcsIDEpXCIsXCJsaWdodFwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwifSxcImFjY2VudFwiOntcImRhcmtcIjpcInJnYmEoMjU1LCAyMTQsIDIxMCwgMSlcIixcImxpZ2h0XCI6XCJyZ2JhKDEwMCwgMzAsIDg1LCAxKVwifX0sXCJpY29uXCI6e1wic3ltYm9sXCI6XCJcIixcIndvcmRtYXJrXCI6XCJcIn0sXCJjb2xvclwiOntcInJvbGVcIjp7XCJmb2N1c1JpbmdcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjUwfVwiLFwib3ZlcmxheVwiOlwicmdiYSgwLCAwLCAwLCAwLjc1KVwiLFwiYmFja2dyb3VuZFwiOntcIjFcIjpcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuMX1cIixcIjJcIjpcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuMn1cIixcIjNcIjpcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuM31cIixcIjRcIjpcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuNH1cIixcIjVcIjpcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuNX1cIixcIjZcIjpcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuNn1cIixcImJhc2VcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMX1cIixcImludmVyc2VcIjpcIntjb2xvci5nZW5lcmF0ZWQuZm9yZWdyb3VuZC5iYXNlfVwiLFwiYWNjZW50XCI6e1wic3Ryb25nZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuYWNjZW50LnN0cm9uZ2VyfVwiLFwic3Ryb25nXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5zdHJvbmd9XCIsXCJiYXNlXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5hY2NlbnQuc29mdH1cIixcInNvZnRlclwiOlwie2NvbG9yLmdlbmVyYXRlZC5hY2NlbnQuc29mdGVyfVwiLFwic29mdGVzdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5hY2NlbnQuc29mdGVzdH1cIn0sXCJwb3NpdGl2ZVwiOntcInN0cm9uZ1wiOlwie2NvbG9yLmdlbmVyYXRlZC5wb3NpdGl2ZS5zdHJvbmd9XCIsXCJiYXNlXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLnBvc2l0aXZlLmJhc2V9XCIsXCJzb2Z0XCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLnBvc2l0aXZlLnNvZnR9XCIsXCJzdHJvbmdlclwiOlwie2NvbG9yLmdlbmVyYXRlZC5wb3NpdGl2ZS5zdHJvbmdlcn1cIixcInNvZnRlclwiOlwie2NvbG9yLmdlbmVyYXRlZC5wb3NpdGl2ZS5zb2Z0ZXJ9XCIsXCJzb2Z0ZXN0XCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLnBvc2l0aXZlLnNvZnRlc3R9XCJ9LFwid2FybmluZ1wiOntcInN0cm9uZ1wiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnN0cm9uZ31cIixcImJhc2VcIjpcIntjb2xvci5nZW5lcmF0ZWQud2FybmluZy5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnNvZnR9XCIsXCJzdHJvbmdlclwiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnN0cm9uZ2VyfVwiLFwic29mdGVyXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLndhcm5pbmcuc29mdGVyfVwiLFwic29mdGVzdFwiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnNvZnRlc3R9XCJ9LFwiY3JpdGljYWxcIjp7XCJzdHJvbmdcIjpcIntjb2xvci5nZW5lcmF0ZWQuY3JpdGljYWwuc3Ryb25nfVwiLFwiYmFzZVwiOlwie2NvbG9yLmdlbmVyYXRlZC5jcml0aWNhbC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5jcml0aWNhbC5zb2Z0fVwiLFwic3Ryb25nZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuY3JpdGljYWwuc3Ryb25nZXJ9XCIsXCJzb2Z0ZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuY3JpdGljYWwuc29mdGVyfVwiLFwic29mdGVzdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5jcml0aWNhbC5zb2Z0ZXN0fVwifSxcImluZm9ybWF0aXZlXCI6e1wic3Ryb25nXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmluZm9ybWF0aXZlLnN0cm9uZ31cIixcImJhc2VcIjpcIntjb2xvci5nZW5lcmF0ZWQuaW5mb3JtYXRpdmUuYmFzZX1cIixcInNvZnRcIjpcIntjb2xvci5nZW5lcmF0ZWQuaW5mb3JtYXRpdmUuc29mdH1cIixcInN0cm9uZ2VyXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmluZm9ybWF0aXZlLnN0cm9uZ2VyfVwiLFwic29mdGVyXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmluZm9ybWF0aXZlLnNvZnRlcn1cIixcInNvZnRlc3RcIjpcIntjb2xvci5nZW5lcmF0ZWQuaW5mb3JtYXRpdmUuc29mdGVzdH1cIn19LFwiZm9yZWdyb3VuZFwiOntcImJhc2VcIjpcIntjb2xvci5nZW5lcmF0ZWQuZm9yZWdyb3VuZC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJzb2Z0ZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuZm9yZWdyb3VuZC5zb2Z0ZXJ9XCIsXCJvblByaW1hcnlcIjpcIntjb2xvci5nZW5lcmF0ZWQuYmFja2dyb3VuZC5iYXNlfVwiLFwiaW52ZXJzZVwiOlwie2NvbG9yLmdlbmVyYXRlZC5iYWNrZ3JvdW5kLmJhc2V9XCIsXCJuZXV0cmFsXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmZvcmVncm91bmQuYmFzZX1cIixcInBvc2l0aXZlXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLnBvc2l0aXZlLmJhc2V9XCIsXCJ3YXJuaW5nXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLndhcm5pbmcuYmFzZX1cIixcImNyaXRpY2FsXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmNyaXRpY2FsLmJhc2V9XCIsXCJhY2NlbnRcIjp7XCJzdHJvbmdlclwiOlwie2NvbG9yLmdlbmVyYXRlZC5hY2NlbnQuc3Ryb25nZXJ9XCIsXCJzdHJvbmdcIjpcIntjb2xvci5nZW5lcmF0ZWQuYWNjZW50LnN0cm9uZ31cIixcImJhc2VcIjpcIntjb2xvci5nZW5lcmF0ZWQuYWNjZW50LmJhc2V9XCIsXCJzb2Z0XCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5zb2Z0fVwiLFwic29mdGVyXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5zb2Z0ZXJ9XCIsXCJzb2Z0ZXN0XCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5zb2Z0ZXN0fVwifSxcImluZm9ybWF0aXZlXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmluZm9ybWF0aXZlLmJhc2V9XCJ9LFwiYm9yZGVyXCI6e1wiMVwiOlwie2NvbG9yLmdlbmVyYXRlZC5zY2FsZS4xfVwiLFwiMlwiOlwie2NvbG9yLmdlbmVyYXRlZC5zY2FsZS4yfVwiLFwiM1wiOlwie2NvbG9yLmdlbmVyYXRlZC5zY2FsZS4zfVwiLFwiNFwiOlwie2NvbG9yLmdlbmVyYXRlZC5zY2FsZS40fVwiLFwiNVwiOlwie2NvbG9yLmdlbmVyYXRlZC5zY2FsZS41fVwiLFwiNlwiOlwie2NvbG9yLmdlbmVyYXRlZC5zY2FsZS42fVwiLFwiYmFzZVwiOlwie2NvbG9yLmdlbmVyYXRlZC5zY2FsZS41fVwiLFwiYWNjZW50XCI6e1wic3Ryb25nZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuYWNjZW50LnN0cm9uZ2VyfVwiLFwic3Ryb25nXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5zdHJvbmd9XCIsXCJiYXNlXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5hY2NlbnQuc29mdH1cIixcInNvZnRlclwiOlwie2NvbG9yLmdlbmVyYXRlZC5hY2NlbnQuc29mdGVyfVwiLFwic29mdGVzdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5hY2NlbnQuc29mdGVzdH1cIn0sXCJwb3NpdGl2ZVwiOntcInN0cm9uZ1wiOlwie2NvbG9yLmdlbmVyYXRlZC5wb3NpdGl2ZS5zdHJvbmd9XCIsXCJiYXNlXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLnBvc2l0aXZlLmJhc2V9XCIsXCJzb2Z0XCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLnBvc2l0aXZlLnNvZnR9XCIsXCJzdHJvbmdlclwiOlwie2NvbG9yLmdlbmVyYXRlZC5wb3NpdGl2ZS5zdHJvbmdlcn1cIixcInNvZnRlclwiOlwie2NvbG9yLmdlbmVyYXRlZC5wb3NpdGl2ZS5zb2Z0ZXJ9XCIsXCJzb2Z0ZXN0XCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLnBvc2l0aXZlLnNvZnRlc3R9XCJ9LFwid2FybmluZ1wiOntcInN0cm9uZ1wiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnN0cm9uZ31cIixcImJhc2VcIjpcIntjb2xvci5nZW5lcmF0ZWQud2FybmluZy5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnNvZnR9XCIsXCJzdHJvbmdlclwiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnN0cm9uZ2VyfVwiLFwic29mdGVyXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLndhcm5pbmcuc29mdGVyfVwiLFwic29mdGVzdFwiOlwie2NvbG9yLmdlbmVyYXRlZC53YXJuaW5nLnNvZnRlc3R9XCJ9LFwiY3JpdGljYWxcIjp7XCJzdHJvbmdcIjpcIntjb2xvci5nZW5lcmF0ZWQuY3JpdGljYWwuc3Ryb25nfVwiLFwiYmFzZVwiOlwie2NvbG9yLmdlbmVyYXRlZC5jcml0aWNhbC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5jcml0aWNhbC5zb2Z0fVwiLFwic3Ryb25nZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuY3JpdGljYWwuc3Ryb25nZXJ9XCIsXCJzb2Z0ZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuY3JpdGljYWwuc29mdGVyfVwiLFwic29mdGVzdFwiOlwie2NvbG9yLmdlbmVyYXRlZC5jcml0aWNhbC5zb2Z0ZXN0fVwifX0sXCJpZGVudGlmaWVyXCI6e1wiYmx1ZVwiOlwie2NvbG9yLmdlbmVyYXRlZC5pZGVudGlmaWVyLmJsdWV9XCIsXCJwaW5rXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmlkZW50aWZpZXIucGlua31cIixcImluZGlnb1wiOlwie2NvbG9yLmdlbmVyYXRlZC5pZGVudGlmaWVyLmluZGlnb31cIixcInRlYWxcIjpcIntjb2xvci5nZW5lcmF0ZWQuaWRlbnRpZmllci50ZWFsfVwiLFwiZ3JlZW5cIjpcIntjb2xvci5nZW5lcmF0ZWQuaWRlbnRpZmllci5ncmVlbn1cIixcIm9yYW5nZVwiOlwie2NvbG9yLmdlbmVyYXRlZC5pZGVudGlmaWVyLm9yYW5nZX1cIixcInJlZFwiOlwie2NvbG9yLmdlbmVyYXRlZC5pZGVudGlmaWVyLnJlZH1cIixcInllbGxvd1wiOlwie2NvbG9yLmdlbmVyYXRlZC5pZGVudGlmaWVyLnllbGxvd31cIixcImdyYXlcIjpcIntjb2xvci5nZW5lcmF0ZWQuaWRlbnRpZmllci5ncmF5fVwifSxcImxpbmtcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmFjY2VudC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5nZW5lcmF0ZWQuYWNjZW50LnN0cm9uZ2VyfVwifSxcInRyYW5zcGFyZW50XCI6e1wiMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjAuMDAxfV19LFwiMTJcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowLjEyfV19LFwiMThcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowLjE4fV19LFwiMzJcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowLjMyfV19LFwiNTBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowLjV9XX19fSxcImdlbmVyYXRlZFwiOntcInNjYWxlXCI6e1wiMVwiOlwie2NvbG9yLmdlbmVyYXRlZC5iYWNrZ3JvdW5kLmJhc2V9XCIsXCIyXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuMX1cIix7XCJjb2xvclwiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJhbHBoYVwiOjAuMDZ9XX0sXCIzXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuMX1cIix7XCJjb2xvclwiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJhbHBoYVwiOjAuMTJ9XX0sXCI0XCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuMX1cIix7XCJjb2xvclwiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJhbHBoYVwiOjAuMTh9XX0sXCI1XCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuMX1cIix7XCJjb2xvclwiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJhbHBoYVwiOjAuMjR9XX0sXCI2XCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5nZW5lcmF0ZWQuc2NhbGUuMX1cIix7XCJjb2xvclwiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJhbHBoYVwiOjAuM31dfX0sXCJmb3JlZ3JvdW5kXCI6e1wic29mdFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3IuZ2VuZXJhdGVkLmJhY2tncm91bmQuYmFzZX1cIix7XCJjb2xvclwiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJhbHBoYVwiOjAuNzV9XX0sXCJzb2Z0ZXJcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLmdlbmVyYXRlZC5iYWNrZ3JvdW5kLmJhc2V9XCIse1wiY29sb3JcIjpcIntjb2xvci5nZW5lcmF0ZWQuZm9yZWdyb3VuZC5iYXNlfVwiLFwiYWxwaGFcIjowLjZ9XX19fSxcImVudGVycHJpc2VcIjp7XCJjb250ZXh0TWVudVwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYmFzZX1cIixcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCJ9LFwiY29udGV4dE1lbnVJdGVtXCI6e1wiZGl2aWRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLjN9XCIsXCJoZWFkaW5nXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJkZWZhdWx0XCI6e1wiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJmb2N1c1wiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwifSxcInRleHRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJmb2N1c1wiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcImljb25cIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJmb2N1c1wiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifX0sXCJjcml0aWNhbFwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuY3JpdGljYWwuc29mdGVzdH1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5jcml0aWNhbC5zb2Z0ZXN0fVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuY3JpdGljYWwuc29mdGVzdH1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5jcml0aWNhbH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmNyaXRpY2FsfVwiLFwiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmNyaXRpY2FsfVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuY3JpdGljYWx9XCJ9LFwiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuY3JpdGljYWx9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5jcml0aWNhbH1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5jcml0aWNhbH1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmNyaXRpY2FsfVwifX19LFwidmlld1wiOntcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCJ9LFwidmlld1NwbGl0dGVyXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjZ9XCJ9LFwid2luZG93XCI6e1wiYmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5iYXNlfVwiLFwiYm9yZGVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYmFzZX1cIixcInRleHRcIjp7XCJiYXNlXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJzb2Z0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCJ9fSxcInRvcENocm9tZVwiOntcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCJ9LFwidG9wVGFiXCI6e1wiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmFjY2VudC5iYXNlfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYWNjZW50LmJhc2V9XCJ9LFwidGV4dFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcIm92ZXJmbG93XCI6e1wic3RhcnRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3IuZW50ZXJwcmlzZS50b3BUYWIuYmFja2dyb3VuZC5kZWZhdWx0fVwiLFwiaG92ZXJcIjpcIntjb2xvci5lbnRlcnByaXNlLnRvcFRhYi5iYWNrZ3JvdW5kLmhvdmVyfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5lbnRlcnByaXNlLnRvcFRhYi5iYWNrZ3JvdW5kLnNlbGVjdGVkfVwifSxcIm1pZGRsZVwiOntcImRlZmF1bHRcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLmVudGVycHJpc2UudG9wVGFiLm92ZXJmbG93LnN0YXJ0LmRlZmF1bHR9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjAuNX1dfSxcImhvdmVyXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnRvcFRhYi5vdmVyZmxvdy5zdGFydC5ob3Zlcn1cIl0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJhbHBoYVwiLFwiYW1vdW50XCI6MC41fV19LFwic2VsZWN0ZWRcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLmVudGVycHJpc2UudG9wVGFiLm92ZXJmbG93LnN0YXJ0LnNlbGVjdGVkfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowLjV9XX19LFwiZW5kXCI6e1wiZGVmYXVsdFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3IuZW50ZXJwcmlzZS50b3BUYWIub3ZlcmZsb3cuc3RhcnQuZGVmYXVsdH1cIl0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJhbHBoYVwiLFwiYW1vdW50XCI6MH1dfSxcImhvdmVyXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnRvcFRhYi5vdmVyZmxvdy5zdGFydC5ob3Zlcn1cIl0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJhbHBoYVwiLFwiYW1vdW50XCI6MH1dfSxcInNlbGVjdGVkXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnRvcFRhYi5vdmVyZmxvdy5zdGFydC5zZWxlY3RlZH1cIl0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJhbHBoYVwiLFwiYW1vdW50XCI6MH1dfX19LFwidW5zYXZlZEljb25cIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImxvYWRlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcInZpZXdUYWJcIjp7XCJib3JkZXJcIjp7XCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiZHJhZ2dpbmdcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJpY29uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaW5hY3RpdmVcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwib3ZlcmZsb3dcIjp7XCJzdGFydFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5lbnRlcnByaXNlLnZpZXdUYWIuYmFja2dyb3VuZC5kZWZhdWx0fVwiLFwiaG92ZXJcIjpcIntjb2xvci5lbnRlcnByaXNlLnZpZXdUYWIuYmFja2dyb3VuZC5ob3Zlcn1cIixcImFjdGl2ZVwiOlwie2NvbG9yLmVudGVycHJpc2Uudmlld1RhYi5iYWNrZ3JvdW5kLmFjdGl2ZX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3IuZW50ZXJwcmlzZS52aWV3VGFiLmJhY2tncm91bmQuc2VsZWN0ZWR9XCJ9LFwibWlkZGxlXCI6e1wiZGVmYXVsdFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3IuZW50ZXJwcmlzZS52aWV3VGFiLm92ZXJmbG93LnN0YXJ0LmRlZmF1bHR9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjAuNX1dfSxcImhvdmVyXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnZpZXdUYWIub3ZlcmZsb3cuc3RhcnQuaG92ZXJ9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjAuNX1dfSxcInNlbGVjdGVkXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnZpZXdUYWIub3ZlcmZsb3cuc3RhcnQuc2VsZWN0ZWR9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjAuNX1dfX0sXCJlbmRcIjp7XCJkZWZhdWx0XCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnZpZXdUYWIub3ZlcmZsb3cuc3RhcnQuZGVmYXVsdH1cIl0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJhbHBoYVwiLFwiYW1vdW50XCI6MH1dfSxcImhvdmVyXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnZpZXdUYWIub3ZlcmZsb3cuc3RhcnQuaG92ZXJ9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjB9XX0sXCJzZWxlY3RlZFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3IuZW50ZXJwcmlzZS52aWV3VGFiLm92ZXJmbG93LnN0YXJ0LnNlbGVjdGVkfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowfV19fX0sXCJsb2FkZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJjb21tYW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCJ9LFwic2hvcnRjdXRLZXlcIjp7XCJiYWNrZ3JvdW5kXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCIsXCJpY29uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwic2VhcmNoQmFyXCI6e1wiYm9yZGVyXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLjZ9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmJvcmRlci42fVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmJvcmRlci5zdHJvbmd9XCJ9LFwiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJ2YWx1ZVwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJmaWxsZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJvdmVyZmxvd1wiOntcInN0YXJ0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLmVudGVycHJpc2Uuc2VhcmNoQmFyLmJhY2tncm91bmQuZGVmYXVsdH1cIixcImhvdmVyXCI6XCJ7Y29sb3IuZW50ZXJwcmlzZS5zZWFyY2hCYXIuYmFja2dyb3VuZC5ob3Zlcn1cIn0sXCJtaWRkbGVcIjp7XCJkZWZhdWx0XCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnNlYXJjaEJhci5vdmVyZmxvdy5zdGFydC5kZWZhdWx0fVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowLjV9XX0sXCJob3ZlclwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3IuZW50ZXJwcmlzZS5zZWFyY2hCYXIub3ZlcmZsb3cuc3RhcnQuaG92ZXJ9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjAuNX1dfX0sXCJlbmRcIjp7XCJkZWZhdWx0XCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnNlYXJjaEJhci5vdmVyZmxvdy5zdGFydC5kZWZhdWx0fVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowfV19LFwiaG92ZXJcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLmVudGVycHJpc2Uuc2VhcmNoQmFyLm92ZXJmbG93LnN0YXJ0LmhvdmVyfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowfV19fX19LFwic2VhcmNoTWVudVwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYmFzZX1cIixcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJjb21tYW5kQmFyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjJ9XCIsXCJiYW5uZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMn1cIixcInRleHRcIjp7XCJiYXNlXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJzb2Z0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCJ9fSxcInNlYXJjaFJlc3VsdFwiOntcImljb25cIjpcIntjb2xvci5zaGFyZWQuaWNvbi5hY2NlbnR9XCIsXCJpY29uQmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4yfVwiLFwiaGVhZGluZ1wiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwidGl0bGVcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImRlc2NyaXB0aW9uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJsaW5rXCI6XCJ7Y29sb3Iucm9sZS5saW5rLmRlZmF1bHR9XCIsXCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC40fVwifX0sXCJwcm9ncmVzc0luZGljYXRvclwiOntcImNvbnRhaW5lclwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMTh9XCIsXCJmaWxsXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmFjY2VudC5iYXNlfVwifSxcInNpZGVQYW5lbFwiOntcImJhY2tncm91bmRcIjp7XCJfdmFsdWVcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYmFzZX1cIixcInRyYW5zcGFyZW50XCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5lbnRlcnByaXNlLnNpZGVQYW5lbC5iYWNrZ3JvdW5kfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowfV19fSxcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJpY29uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJ0ZXh0XCI6e1wiYmFzZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwic29mdGVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnRlcn1cIn19LFwibGlzdEl0ZW1cIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCJ9LFwidGV4dFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwiaWNvbkJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwifX0sXCJwcm9tcHRcIjp7XCJ0ZXh0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJpY29uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJpY29uQmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5iYXNlfVwiLFwiZWRpdEJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIn19LFwiY29tcG9zZXJcIjp7XCJiYWNrZ3JvdW5kXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjJ9XCIsXCJib3JkZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci5iYXNlfVwiLFwicGxhY2Vob2xkZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcInRleHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJza2VsZXRvbkxvYWRlclwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuM31cIixcInRlbXBsYXRlXCI6e1wic3RhcnRcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowfV19LFwibWlkZGxlXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCIsXCJlbmRcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiXSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImFscGhhXCIsXCJhbW91bnRcIjowfV19fX0sXCJzZWFyY2hGaWx0ZXJcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc29mdGVyfVwiLFwic2VsZWN0ZWRIb3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc29mdH1cIn0sXCJib3JkZXJcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuM31cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuM31cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYWNjZW50LmJhc2V9XCIsXCJzZWxlY3RlZEhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYWNjZW50LmJhc2V9XCJ9LFwiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuYmFzZX1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwifX0sXCJzZWFyY2hUYWJcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIn0sXCJpY29uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwifSxcInRleHRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJpbmRpY2F0b3JcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuYmFzZX1cIn19LFwiZmVhdHVyZWRDb250ZW50SXRlbVwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjJ9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC40fVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifX19LFwic2hhcmVkXCI6e1wib3ZlcmxheVwiOlwie2NvbG9yLnJvbGUub3ZlcmxheX1cIixcImZvY3VzUmluZ1wiOlwie2NvbG9yLnJvbGUuZm9jdXNSaW5nfVwiLFwid2F0ZXJtYXJrXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC41MH1cIixcImJhbm5lclwiOntcInBvc2l0aXZlXCI6e1wiYmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5wb3NpdGl2ZS5zb2Z0fVwiLFwiYm9yZGVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIucG9zaXRpdmUuYmFzZX1cIixcInRleHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImljb25cIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQucG9zaXRpdmV9XCJ9LFwid2FybmluZ1wiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQud2FybmluZy5zdHJvbmd9XCIsXCJib3JkZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci53YXJuaW5nLmJhc2V9XCIsXCJ0ZXh0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmludmVyc2V9XCIsXCJpY29uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLndhcm5pbmd9XCJ9LFwiY3JpdGljYWxcIjp7XCJiYWNrZ3JvdW5kXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmNyaXRpY2FsLnNvZnR9XCIsXCJib3JkZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci5jcml0aWNhbC5iYXNlfVwiLFwidGV4dFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaWNvblwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5jcml0aWNhbH1cIn19LFwiYnV0dG9uXCI6e1wiZGVmYXVsdFwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjEyfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LnNvZnRlcn1cIixcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjE4fVwifSxcImJvcmRlclwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJvcmRlci5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci5iYXNlfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmFjY2VudC5iYXNlfVwifSxcImljb25cIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYWNjZW50LmJhc2V9XCJ9LFwidGV4dFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5hY2NlbnQuYmFzZX1cIn0sXCJmb2N1c1JpbmdcIjpcIntjb2xvci5yb2xlLmZvY3VzUmluZ31cIn0sXCJwcmltYXJ5XCI6e1wiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LmJhc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc3Ryb25nfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc3Ryb25nZXJ9XCJ9LFwiYm9yZGVyXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIn0sXCJpY29uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5vblByaW1hcnl9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5vblByaW1hcnl9XCIsXCJwcmVzc2VkXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLm9uUHJpbWFyeX1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5vblByaW1hcnl9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5vblByaW1hcnl9XCJ9LFwiZm9jdXNSaW5nXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5zb2Z0fVwifSxcInN1YnRsZVwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjEyfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMTh9XCJ9LFwiYm9yZGVyXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIn0sXCJpY29uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn19LFwiY3JpdGljYWxcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5jcml0aWNhbC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuY3JpdGljYWwuc3Ryb25nfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5jcml0aWNhbC5zdHJvbmdlcn1cIn0sXCJib3JkZXJcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJwcmVzc2VkXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwifSxcImljb25cIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmludmVyc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5pbnZlcnNlfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5pbnZlcnNlfVwifSxcInRleHRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmludmVyc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5pbnZlcnNlfVwifSxcImZvY3VzUmluZ1wiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5jcml0aWNhbC5zb2Z0fVwifSxcImdob3N0XCI6e1wiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LnN0cm9uZ31cIn0sXCJiYWNrZ3JvdW5kXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwifX0sXCJpY29uQnV0dG9uXCI6e1wiZ2hvc3RcIjp7XCJpY29uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCJ9LFwicHJpbWFyeVwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LnN0cm9uZ31cIn0sXCJib3JkZXJcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJwcmVzc2VkXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwifSxcImljb25cIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLm9uUHJpbWFyeX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLm9uUHJpbWFyeX1cIixcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQub25QcmltYXJ5fVwifSxcImZvY3VzUmluZ1wiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc29mdH1cIn0sXCJzdWJ0bGVcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4xMn1cIixcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjE4fVwifSxcImJvcmRlclwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCJ9LFwiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJwcmVzc2VkXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCJ9fSxcImRlZmF1bHRcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4xMn1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5zb2Z0ZXJ9XCIsXCJwcmVzc2VkXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4xOH1cIn0sXCJib3JkZXJcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYmFzZX1cIixcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLmJvcmRlci5iYXNlfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmJvcmRlci5hY2NlbnQuYmFzZX1cIn0sXCJpY29uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmFjY2VudC5iYXNlfVwifSxcImZvY3VzUmluZ1wiOlwie2NvbG9yLnJvbGUuZm9jdXNSaW5nfVwifX0sXCJpY29uXCI6e1wiYmFzZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiZXJyb3JcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuY3JpdGljYWx9XCIsXCJiYWNrZ3JvdW5kM1wiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiYmFja2dyb3VuZDFcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMX1cIixcImFjY2VudFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5hY2NlbnQuYmFzZX1cIixcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiYWNjZW50VHJhbnNwYXJlbnRcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yLnNoYXJlZC5pY29uLmFjY2VudH1cIl0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJhbHBoYVwiLFwiYW1vdW50XCI6MC4xNn1dfX0sXCJkb2NrXCI6e1wiYmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5iYXNlfVwiLFwiZHJhZ0luZGljYXRvclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiYm9yZGVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYmFzZX1cIn0sXCJpbmRpY2F0b3JcIjp7XCJ0ZXh0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmludmVyc2V9XCIsXCJiYWNrZ3JvdW5kXCI6e1wiYmx1ZVwiOlwie2NvbG9yLnJvbGUuaWRlbnRpZmllci5ibHVlfVwiLFwib3JhbmdlXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLm9yYW5nZX1cIixcImluZGlnb1wiOlwie2NvbG9yLnJvbGUuaWRlbnRpZmllci5pbmRpZ299XCIsXCJwaW5rXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLnBpbmt9XCIsXCJ5ZWxsb3dcIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIueWVsbG93fVwiLFwiZ3JlZW5cIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIuZ3JlZW59XCIsXCJ0ZWFsXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLnRlYWx9XCIsXCJyZWRcIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIucmVkfVwiLFwiZXhwaXJlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC42fVwiLFwidHJhbnNwYXJlbnRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCJ9fSxcIm5vdGlmaWNhdGlvblwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuM31cIixcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJ0ZXh0XCI6e1wiYmFzZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwifX0sXCJwbGFjZW1lbnRPcHRpb25cIjp7XCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcImJhY2tkcm9wXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjJ9XCIsXCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC42fVwifSxcInByZXZpZXdPYmplY3RcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjV9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuYmFzZX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwifX0sXCJwbGF0Zm9ybVNlbGVjdG9yXCI6e1widW5kZXJsaW5lXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYmFzZX1cIn0sXCJub3RpZmljYXRpb25DZW50ZXJcIjp7XCJiYWNrZ3JvdW5kXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmJhc2V9XCIsXCJib3JkZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci5iYXNlfVwiLFwidGV4dFwiOntcImJhc2VcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNvZnRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIn0sXCJpY29uXCI6e1wiYmFzZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic29mdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwifX0sXCJ0b2dnbGVcIjp7XCJ0cmFja1wiOntcIm9mZlwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMzJ9XCIsXCJvblwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuYmFzZX1cIn0sXCJ0aHVtYlwiOntcIm9mZlwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwib25cIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQub25QcmltYXJ5fVwifX0sXCJjb2xvckNoYW5uZWxcIjp7XCJibHVlXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLmJsdWV9XCIsXCJwaW5rXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLnBpbmt9XCIsXCJpbmRpZ29cIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIuaW5kaWdvfVwiLFwidGVhbFwiOlwie2NvbG9yLnJvbGUuaWRlbnRpZmllci50ZWFsfVwiLFwiZ3JlZW5cIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIuZ3JlZW59XCIsXCJvcmFuZ2VcIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIub3JhbmdlfVwiLFwicmVkXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLnJlZH1cIixcInllbGxvd1wiOlwie2NvbG9yLnJvbGUuaWRlbnRpZmllci55ZWxsb3d9XCIsXCJncmF5XCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLmdyYXl9XCIsXCJ1bmxpbmtcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmJhc2V9XCJ9LFwiZHJvcHpvbmVcIjp7XCJib3JkZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LmJhc2V9XCIsXCJiYWNrZ3JvdW5kXCI6e1wiX2lucHV0c1wiOltcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LmJhc2V9XCJdLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiYWxwaGFcIixcImFtb3VudFwiOjAuMjV9XX19LFwiZm9ybVwiOntcImxhYmVsXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJoZWxwSWNvblwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwib3B0aW9uYWxEb3RcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuY3JpdGljYWx9XCIsXCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJmaWxsZWRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJlcnJvclwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwifSxcImJvcmRlclwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJvcmRlci5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci42fVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmJvcmRlci5hY2NlbnQuYmFzZX1cIixcImZpbGxlZFwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJlcnJvclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmNyaXRpY2FsLmJhc2V9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmFjY2VudC5iYXNlfVwifSxcInBsYWNlaG9sZGVyXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCJ9LFwiaWNvblwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5vblByaW1hcnl9XCJ9LFwidmFsdWVcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0fVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImZpbGxlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcImVycm9yTWVzc2FnZVwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuY3JpdGljYWwuc29mdGVzdH1cIixcInRleHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImljb25cIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuY3JpdGljYWx9XCJ9LFwiZm9jdXNSaW5nXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYWNjZW50LnNvZnR9XCIsXCJoaW50XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnRlcn1cIn0sXCJzY3JvbGxCYXJcIjp7XCJhcmVhXCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC41MH1cIixcImJhclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5iYXNlfVwifX0sXCJjb3JldWlcIjp7XCJob21lXCI6e1wiYmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4yfVwiLFwiYm9yZGVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuNH1cIn0sXCJob21lSW5wdXRcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC40fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC40fVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIn0sXCJ2YWx1ZVwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImZpbGxlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcImJvcmRlclwiOntcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCIsXCJmb2N1c1wiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCJ9fSxcImhvbWVSZXN1bHRcIjp7XCJpY29uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC42fVwiLFwibGF1bmNoaW5nXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjZ9XCJ9LFwidGl0bGVcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwic2VsZWN0ZWRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImxhdW5jaGluZ1wiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcImRlc2NyaXB0aW9uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJsYXVuY2hpbmdcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn19LFwiaG9tZVRlbXBsYXRlXCI6e1wiYmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiaWNvblwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwidGV4dFwiOntcImJhc2VcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNvZnRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIn19LFwiaG9tZUNhcmRcIjp7XCJiYWNrZ3JvdW5kXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCJ9LFwiaG9tZUhvdGtleVwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNn1cIixcImljb25cIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInRleHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJob21lVGV4dFwiOntcImJhc2VcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNvZnRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIn0sXCJzdG9yZVwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMn1cIn0sXCJzdG9yZUJhbm5lclwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LmJhc2V9XCIsXCJidXR0b25cIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYmFzZX1cIn0sXCJ0ZXh0XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5hY2NlbnQuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwifSxcImljb25cIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LmJhc2V9XCJ9fSxcImhlYWRlclwiOntcInRpdGxlXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLm9uUHJpbWFyeX1cIixcImRlc2NyaXB0aW9uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLm9uUHJpbWFyeX1cIn19LFwic3RvcmVJbnB1dFwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC40fVwiLFwiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCIsXCJmaWxsZWRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIixcImVycm9yXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCJ9LFwiYm9yZGVyXCI6e1wiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYmFzZX1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYmFzZX1cIixcImVycm9yXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuY3JpdGljYWwuYmFzZX1cIn0sXCJ2YWx1ZVwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImZpbGxlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiZXJyb3JcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuY3JpdGljYWx9XCJ9LFwiaWNvblwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcInN0b3JlU2lkZWJhclwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuM31cIixcImhlYWRlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifSxcInN0b3JlQ2FyZFwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIn0sXCJ0aXRsZVwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwiZGVzY3JpcHRpb25cIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwifX0sXCJzdG9yZU1lbnVJdGVtXCI6e1widGV4dFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwifSxcImNhdGVnb3J5XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCJ9LFwic3RvcmVGb290ZXJcIjp7XCJsaW5rXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn0sXCJ0YWdsaW5lXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJpY29uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwiYnJvd3NlclwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMX1cIixcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCJ9LFwiYnJvd3NlclRvcEJhclwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMn1cIixcImJvcmRlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLmJhc2V9XCJ9LFwiYnJvd3NlclRvb2xiYXJJY29uXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLm9uUHJpbWFyeX1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuYmFzZX1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUudHJhbnNwYXJlbnQuMH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjR9XCJ9fSxcImJyb3dzZXJWaWV3U3BsaXR0ZXJcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjF9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwifSxcImJyb3dzZXJQYWdlVGFiXCI6e1widGV4dFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmJhc2V9XCJ9LFwiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwifSxcImljb25cIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5vblByaW1hcnl9XCJ9fSxcImJyb3dzZXJWaWV3VGFiXCI6e1wiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLnRyYW5zcGFyZW50LjB9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjJ9XCIsXCJmb2N1c1wiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4yfVwifSxcInRleHRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwiYm9yZGVyXCI6e1wiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuNX1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuNX1cIn0sXCJpY29uXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLmJhc2V9XCJ9LFwiYnJvd3NlclZpZXdcIjp7XCJib3JkZXJcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS50cmFuc3BhcmVudC4wfVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmJvcmRlci5iYXNlfVwiLFwiZ3JlZW5cIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIuZ3JlZW59XCIsXCJwdXJwbGVcIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIuaW5kaWdvfVwiLFwib3JhbmdlXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLm9yYW5nZX1cIixcInJlZFwiOlwie2NvbG9yLnJvbGUuaWRlbnRpZmllci5yZWR9XCIsXCJwaW5rXCI6XCJ7Y29sb3Iucm9sZS5pZGVudGlmaWVyLnBpbmt9XCIsXCJ5ZWxsb3dcIjpcIntjb2xvci5yb2xlLmlkZW50aWZpZXIueWVsbG93fVwifSxcImljb25cIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuYmFzZX1cIn19LFwiYWRtaW5cIjp7XCIxXCI6XCIjZmZmZmZmXCIsXCJjb2xvclwiOlwiI2ZmZmZmZlwiLFwiY29sb3IyXCI6XCIjZmZmZmZmXCJ9LFwiX3V0aWxpdGllc1wiOntcImdyZWVuXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLnBvc2l0aXZlLmJhc2V9XCIsXCJyZWRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuY3JpdGljYWwuYmFzZX1cIixcImFwcEJhY2tncm91bmQxXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjF9XCIsXCJsb2FkZXJcIjpcIiNlM2UxZTIwMFwiLFwiZGF0YVZpelwiOntcImxpbmVQbG90XCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuYWNjZW50LmJhc2V9XCJ9LFwidGVhbXNQcm9maWxlc1wiOntcInRleHRcIjp7XCJyZWRcIjpcIiM3NjIxM2VcIixcImdyZWVuXCI6XCIjMTY0MjI5XCIsXCJ5ZWxsb3dcIjpcIiM4MDVkMGJcIixcIm9yYW5nZVwiOlwiIzU2MzkyYlwiLFwicHVycGxlXCI6XCIjMjgyMTU1XCIsXCJibHVlXCI6XCIjMGYzMTU3XCJ9LFwiYmFja2dyb3VuZFwiOntcInJlZFwiOlwiI2Y1ZDRkZlwiLFwiZ3JlZW5cIjpcIiNjZmUwZDZcIixcInllbGxvd1wiOlwiI2ZkZWZjYVwiLFwib3JhbmdlXCI6XCIjZThkZGQ5XCIsXCJwdXJwbGVcIjpcIiNkNmQ0ZTlcIixcImJsdWVcIjpcIiNjZGRhZWFcIn19LFwiYXBwQmFja2dyb3VuZDJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMn1cIixcImFwcEJhY2tncm91bmQzXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCJ9fSxcImNvbG9yUHJpbWl0aXZlc1wiOntcImdyZWVuXCI6e1wiNTBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmVlbi41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KVwifV19LFwiMTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JlZW4uNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOClcIn1dfSxcIjIwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLmdyZWVuLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpXCJ9XX0sXCIzMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmVlbi41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KVwifV19LFwiNDAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JlZW4uNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMilcIn1dfSxcIjUwMFwiOlwie2NvbG9yUHJpbWl0aXZlcy5ncmVlbi5iYXNlfVwiLFwiNjAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JlZW4uNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMilcIn1dfSxcIjcwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLmdyZWVuLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjQpXCJ9XX0sXCI4MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmVlbi41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC42KVwifV19LFwiOTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JlZW4uNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuOClcIn1dfX0sXCJibHVlXCI6e1wiNTBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpXCJ9XX0sXCIxMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpXCJ9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpXCJ9XX0sXCIzMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpXCJ9XX0sXCI0MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCJ9XX0sXCI1MDBcIjpcIntjb2xvclByaW1pdGl2ZXMuYmx1ZS5iYXNlfVwiLFwiNjAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuYmx1ZS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC4yKVwifV19LFwiNzAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuYmx1ZS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC40KVwifV19LFwiODAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuYmx1ZS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC42KVwifV19LFwiOTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuYmx1ZS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC44KVwifV19fSxcImluZGlnb1wiOntcIjUwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuaW5kaWdvLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpXCJ9XX0sXCIxMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5pbmRpZ28uNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOClcIn1dfSxcIjIwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLmluZGlnby41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC42KVwifV19LFwiMzAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuaW5kaWdvLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpXCJ9XX0sXCI0MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5pbmRpZ28uNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMilcIn1dfSxcIjUwMFwiOlwie2NvbG9yUHJpbWl0aXZlcy5pbmRpZ28uYmFzZX1cIixcIjYwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLmluZGlnby41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC4yKVwifV19LFwiNzAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuaW5kaWdvLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjQpXCJ9XX0sXCI4MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5pbmRpZ28uNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuNilcIn1dfSxcIjkwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLmluZGlnby41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC44KVwifV19fSxcInBpbmtcIjp7XCI1MFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnBpbmsuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSlcIn1dfSxcIjEwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnBpbmsuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOClcIn1dfSxcIjIwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnBpbmsuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNilcIn1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnBpbmsuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNClcIn1dfSxcIjQwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnBpbmsuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMilcIn1dfSxcIjUwMFwiOlwie2NvbG9yUHJpbWl0aXZlcy5waW5rLmJhc2V9XCIsXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5waW5rLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjIpXCJ9XX0sXCI3MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5waW5rLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjQpXCJ9XX0sXCI4MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5waW5rLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjYpXCJ9XX0sXCI5MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5waW5rLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjgpXCJ9XX19LFwib3JhbmdlXCI6e1wiNTBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5vcmFuZ2UuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSlcIn1dfSxcIjEwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLm9yYW5nZS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KVwifV19LFwiMjAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMub3JhbmdlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpXCJ9XX0sXCIzMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5vcmFuZ2UuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNClcIn1dfSxcIjQwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLm9yYW5nZS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKVwifV19LFwiNTAwXCI6XCJ7Y29sb3JQcmltaXRpdmVzLm9yYW5nZS5iYXNlfVwiLFwiNjAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMub3JhbmdlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjIpXCJ9XX0sXCI3MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5vcmFuZ2UuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuNClcIn1dfSxcIjgwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLm9yYW5nZS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC42KVwifV19LFwiOTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMub3JhbmdlLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjgpXCJ9XX19LFwidGVhbFwiOntcIjUwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMudGVhbC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KVwifV19LFwiMTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMudGVhbC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KVwifV19LFwiMjAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMudGVhbC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC42KVwifV19LFwiMzAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMudGVhbC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KVwifV19LFwiNDAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMudGVhbC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKVwifV19LFwiNTAwXCI6XCJ7Y29sb3JQcmltaXRpdmVzLnRlYWwuYmFzZX1cIixcIjYwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnRlYWwuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMilcIn1dfSxcIjcwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnRlYWwuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuNClcIn1dfSxcIjgwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnRlYWwuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuNilcIn1dfSxcIjkwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnRlYWwuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuOClcIn1dfX0sXCJyZWRcIjp7XCI1MFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnJlZC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KVwifV19LFwiMTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMucmVkLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpXCJ9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5yZWQuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNilcIn1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnJlZC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KVwifV19LFwiNDAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMucmVkLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCJ9XX0sXCI1MDBcIjpcIntjb2xvclByaW1pdGl2ZXMucmVkLmJhc2V9XCIsXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5yZWQuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMilcIn1dfSxcIjcwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnJlZC41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC40KVwifV19LFwiODAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMucmVkLjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjYpXCJ9XX0sXCI5MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5yZWQuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuOClcIn1dfX0sXCJ5ZWxsb3dcIjp7XCI1MFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnllbGxvdy41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KVwifV19LFwiMTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMueWVsbG93LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpXCJ9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy55ZWxsb3cuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNilcIn1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnllbGxvdy41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KVwifV19LFwiNDAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMueWVsbG93LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCJ9XX0sXCI1MDBcIjpcIntjb2xvclByaW1pdGl2ZXMueWVsbG93LmJhc2V9XCIsXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy55ZWxsb3cuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuMilcIn1dfSxcIjcwMFwiOntcIl9pbnB1dHNcIjpbXCJ7Y29sb3JQcmltaXRpdmVzLnllbGxvdy41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC40KVwifV19LFwiODAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMueWVsbG93LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgwLCAwLCAwLCAwLjYpXCJ9XX0sXCI5MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy55ZWxsb3cuNTAwfVwiLHtcImNvbG9yXCI6XCJyZ2JhKDAsIDAsIDAsIDAuOClcIn1dfX0sXCJncmF5XCI6e1wiNTBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmF5LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkpXCJ9XX0sXCIxMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmF5LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpXCJ9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmF5LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpXCJ9XX0sXCIzMDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmF5LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpXCJ9XX0sXCI0MDBcIjp7XCJfaW5wdXRzXCI6W1wie2NvbG9yUHJpbWl0aXZlcy5ncmF5LjUwMH1cIix7XCJjb2xvclwiOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCJ9XX0sXCI1MDBcIjpcIntjb2xvclByaW1pdGl2ZXMuZ3JheS5iYXNlfVwiLFwiNjAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JheS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC4yKVwifV19LFwiNzAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JheS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC40KVwifV19LFwiODAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JheS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC42KVwifV19LFwiOTAwXCI6e1wiX2lucHV0c1wiOltcIntjb2xvclByaW1pdGl2ZXMuZ3JheS41MDB9XCIse1wiY29sb3JcIjpcInJnYmEoMCwgMCwgMCwgMC44KVwifV19fX19JyksSlNPTi5wYXJzZSgne1wiY29sb3JQcmltaXRpdmVzXCI6e1wiZ3JlZW5cIjp7XCJiYXNlXCI6XCJyZ2JhKDMsIDIyNywgMTU2LCAxKVwifSxcImJsdWVcIjp7XCJiYXNlXCI6XCJyZ2JhKDMxLCAxNjksIDI1NSwgMSlcIn0sXCJpbmRpZ29cIjp7XCJiYXNlXCI6XCJyZ2JhKDE0NywgMTMzLCAyNTUsIDEpXCJ9LFwicGlua1wiOntcImJhc2VcIjpcInJnYmEoMjQwLCAxNjMsIDIyMiwgMSlcIn0sXCJvcmFuZ2VcIjp7XCJiYXNlXCI6XCJyZ2JhKDI1NCwgMTU5LCAxMDgsIDEpXCJ9LFwidGVhbFwiOntcImJhc2VcIjpcInJnYmEoNzIsIDIyNCwgMjI0LCAxKVwifSxcInJlZFwiOntcImJhc2VcIjpcInJnYmEoMjUwLCAxMDIsIDEwNSwgMSlcIn0sXCJ5ZWxsb3dcIjp7XCJiYXNlXCI6XCJyZ2JhKDI1MCwgMjE0LCAxMjcsIDEpXCJ9LFwiZ3JheVwiOntcImJhc2VcIjpcInJnYmEoMTU2LCAxNjAsIDE2MCwgMSlcIn19LFwiYnJhbmRcIjp7XCJhY2NlbnRcIjp7XCIxMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLmFjY2VudC5kYXJrfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjh9XSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImRhcmtlblwiLFwiYW1vdW50XCI6MC4xfSx7XCJ0eXBlXCI6XCJzYXR1cmF0ZVwiLFwiYW1vdW50XCI6MC4xfV19LFwiMjAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5hY2NlbnQuZGFya31cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UuZGFya31cIixcImFscGhhXCI6MC43fV0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJkYXJrZW5cIixcImFtb3VudFwiOjAuMX0se1widHlwZVwiOlwic2F0dXJhdGVcIixcImFtb3VudFwiOjAuMX1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuYWNjZW50LmRhcmt9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuNn1dLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwiZGFya2VuXCIsXCJhbW91bnRcIjowLjF9LHtcInR5cGVcIjpcInNhdHVyYXRlXCIsXCJhbW91bnRcIjowLjF9XX0sXCI0MDBcIjpcInticmFuZC5hY2NlbnQuZGFya31cIixcIjUwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuYWNjZW50LmRhcmt9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjR9XX0sXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLmFjY2VudC5kYXJrfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5saWdodH1cIixcImFscGhhXCI6MC42fV19fSxcInN0YXR1c1wiOntcInBvc2l0aXZlXCI6e1wiMTAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMucG9zaXRpdmUuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjl9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuOH1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLnBvc2l0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UuZGFya31cIixcImFscGhhXCI6MC43fV19LFwiNDAwXCI6XCJ7Y29sb3JQcmltaXRpdmVzLmdyZWVuLjUwMH1cIixcIjUwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLnBvc2l0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuNH1dfSxcIjYwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLnBvc2l0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuNn1dfX0sXCJ3YXJuaW5nXCI6e1wiMTAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMud2FybmluZy40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuOX1dfSxcIjIwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLndhcm5pbmcuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjh9XX0sXCIzMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy53YXJuaW5nLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UuZGFya31cIixcImFscGhhXCI6MC43fV19LFwiNDAwXCI6XCJ7Y29sb3JQcmltaXRpdmVzLnllbGxvdy41MDB9XCIsXCI1MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy53YXJuaW5nLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuNH1dfSxcIjYwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLndhcm5pbmcuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5saWdodH1cIixcImFscGhhXCI6MC42fV19fSxcImNyaXRpY2FsXCI6e1wiMTAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMuY3JpdGljYWwuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjl9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5jcml0aWNhbC40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuOH1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmNyaXRpY2FsLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UuZGFya31cIixcImFscGhhXCI6MC43fV19LFwiNDAwXCI6XCJ7Y29sb3JQcmltaXRpdmVzLnJlZC41MDB9XCIsXCI1MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5jcml0aWNhbC40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjR9XX0sXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5jcml0aWNhbC40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjZ9XX19LFwiaW5mb3JtYXRpdmVcIjp7XCIxMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5pbmZvcm1hdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuOX1dfSxcIjIwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UuZGFya31cIixcImFscGhhXCI6MC44fV19LFwiMzAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMuaW5mb3JtYXRpdmUuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjd9XX0sXCI0MDBcIjpcIntjb2xvclByaW1pdGl2ZXMuYmx1ZS41MDB9XCIsXCI1MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5pbmZvcm1hdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjR9XX0sXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5pbmZvcm1hdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjZ9XX19fX0sXCJjb2xvclwiOntcImdlbmVyYXRlZFwiOntcImFjY2VudFwiOntcInN0cm9uZ2VyXCI6XCJ7YnJhbmQuYWNjZW50LjYwMH1cIixcInN0cm9uZ1wiOlwie2JyYW5kLmFjY2VudC41MDB9XCIsXCJiYXNlXCI6XCJ7YnJhbmQuYWNjZW50LjQwMH1cIixcInNvZnRcIjpcInticmFuZC5hY2NlbnQuMzAwfVwiLFwic29mdGVyXCI6XCJ7YnJhbmQuYWNjZW50LjIwMH1cIixcInNvZnRlc3RcIjpcInticmFuZC5hY2NlbnQuMTAwfVwifSxcImJhY2tncm91bmRcIjp7XCJiYXNlXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwifSxcImZvcmVncm91bmRcIjp7XCJiYXNlXCI6XCJ7YnJhbmQuYmFzZS5saWdodH1cIn0sXCJpZGVudGlmaWVyXCI6e1wiYmx1ZVwiOlwie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIixcInBpbmtcIjpcIntjb2xvclByaW1pdGl2ZXMucGluay41MDB9XCIsXCJpbmRpZ29cIjpcIntjb2xvclByaW1pdGl2ZXMuaW5kaWdvLjUwMH1cIixcInRlYWxcIjpcIntjb2xvclByaW1pdGl2ZXMudGVhbC41MDB9XCIsXCJncmVlblwiOlwie2NvbG9yUHJpbWl0aXZlcy5ncmVlbi41MDB9XCIsXCJvcmFuZ2VcIjpcIntjb2xvclByaW1pdGl2ZXMub3JhbmdlLjUwMH1cIixcInJlZFwiOlwie2NvbG9yUHJpbWl0aXZlcy5yZWQuNTAwfVwiLFwieWVsbG93XCI6XCJ7Y29sb3JQcmltaXRpdmVzLnllbGxvdy41MDB9XCIsXCJncmF5XCI6XCJ7Y29sb3JQcmltaXRpdmVzLmdyYXkuNTAwfVwifSxcInBvc2l0aXZlXCI6e1wic3Ryb25nXCI6XCJ7YnJhbmQuc3RhdHVzLnBvc2l0aXZlLjUwMH1cIixcImJhc2VcIjpcInticmFuZC5zdGF0dXMucG9zaXRpdmUuNDAwfVwiLFwic29mdFwiOlwie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS4zMDB9XCIsXCJzdHJvbmdlclwiOlwie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS42MDB9XCIsXCJzb2Z0ZXJcIjpcInticmFuZC5zdGF0dXMucG9zaXRpdmUuMjAwfVwiLFwic29mdGVzdFwiOlwie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS4xMDB9XCJ9LFwid2FybmluZ1wiOntcInN0cm9uZ1wiOlwie2JyYW5kLnN0YXR1cy53YXJuaW5nLjUwMH1cIixcImJhc2VcIjpcInticmFuZC5zdGF0dXMud2FybmluZy40MDB9XCIsXCJzb2Z0XCI6XCJ7YnJhbmQuc3RhdHVzLndhcm5pbmcuMzAwfVwiLFwic3Ryb25nZXJcIjpcInticmFuZC5zdGF0dXMud2FybmluZy42MDB9XCIsXCJzb2Z0ZXJcIjpcInticmFuZC5zdGF0dXMud2FybmluZy4yMDB9XCIsXCJzb2Z0ZXN0XCI6XCJ7YnJhbmQuc3RhdHVzLndhcm5pbmcuMTAwfVwifSxcImNyaXRpY2FsXCI6e1wic3Ryb25nXCI6XCJ7YnJhbmQuc3RhdHVzLmNyaXRpY2FsLjUwMH1cIixcImJhc2VcIjpcInticmFuZC5zdGF0dXMuY3JpdGljYWwuNDAwfVwiLFwic29mdFwiOlwie2JyYW5kLnN0YXR1cy5jcml0aWNhbC4zMDB9XCIsXCJzdHJvbmdlclwiOlwie2JyYW5kLnN0YXR1cy5jcml0aWNhbC42MDB9XCIsXCJzb2Z0ZXJcIjpcInticmFuZC5zdGF0dXMuY3JpdGljYWwuMjAwfVwiLFwic29mdGVzdFwiOlwie2JyYW5kLnN0YXR1cy5jcml0aWNhbC4xMDB9XCJ9LFwiaW5mb3JtYXRpdmVcIjp7XCJzdHJvbmdcIjpcInticmFuZC5zdGF0dXMuaW5mb3JtYXRpdmUuNTAwfVwiLFwiYmFzZVwiOlwie2JyYW5kLnN0YXR1cy5pbmZvcm1hdGl2ZS40MDB9XCIsXCJzb2Z0XCI6XCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjMwMH1cIixcInN0cm9uZ2VyXCI6XCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjYwMH1cIixcInNvZnRlclwiOlwie2JyYW5kLnN0YXR1cy5pbmZvcm1hdGl2ZS4yMDB9XCIsXCJzb2Z0ZXN0XCI6XCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjEwMH1cIn19LFwic2hhcmVkXCI6e1wiYnV0dG9uXCI6e1wiZ2hvc3RcIjp7XCJpY29uXCI6e1wiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LmJhc2V9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LnN0cm9uZ31cIn0sXCJ0ZXh0XCI6e1wicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc3Ryb25nfVwifX19LFwiaWNvbkJ1dHRvblwiOntcImdob3N0XCI6e1wiaWNvblwiOntcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5iYXNlfVwiLFwicHJlc3NlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc3Ryb25nfVwifX19fSxcImNvcmV1aVwiOntcImhvbWVJbnB1dFwiOntcImJvcmRlclwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJvcmRlci42fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci42fVwifX0sXCJzdG9yZUlucHV0XCI6e1wiYm9yZGVyXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLjR9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYm9yZGVyLjR9XCJ9fX0sXCJyb2xlXCI6e1wiYm9yZGVyXCI6e1wic3Ryb25nZXJcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcInN0cm9uZ1wiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0ZXJ9XCJ9fSxcImVudGVycHJpc2VcIjp7XCJjb250ZXh0TWVudUl0ZW1cIjp7XCJkZWZhdWx0XCI6e1wiaGludFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdH1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5mb3JlZ3JvdW5kLnNvZnR9XCJ9fX0sXCJ2aWV3XCI6e1wiYmFja2dyb3VuZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwifSxcInRvcENocm9tZVwiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYmFzZX1cIn0sXCJsb2dvXCI6e1wiYmFja2dyb3VuZFwiOlwie2JyYW5kLmFjY2VudC5kYXJrfVwiLFwiZm9yZWdyb3VuZFwiOlwie2JyYW5kLmFjY2VudC5saWdodH1cIn0sXCJ0b3BUYWJcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5iYXNlfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuM31cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJkcmFnZ2luZ1wiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwifX0sXCJ2aWV3VGFiXCI6e1wiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuM31cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjV9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNX1cIixcInNlbGVjdGVkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjV9XCIsXCJkcmFnZ2luZ1wiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC41fVwifX0sXCJzZWFyY2hCYXJcIjp7XCJiYWNrZ3JvdW5kXCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuNH1cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuM31cIn19fX19JyksSlNPTi5wYXJzZSgne1wiY29sb3JQcmltaXRpdmVzXCI6e1wiZ3JlZW5cIjp7XCJiYXNlXCI6XCJyZ2JhKDEsIDEyNiwgODYsIDEpXCJ9LFwiYmx1ZVwiOntcImJhc2VcIjpcInJnYmEoMCwgMTEzLCAxODQsIDEpXCJ9LFwiaW5kaWdvXCI6e1wiYmFzZVwiOlwicmdiYSg4MywgNjEsIDI1NSwgMSlcIn0sXCJwaW5rXCI6e1wiYmFzZVwiOlwicmdiYSgyMTUsIDE1LCAxNjcsIDEpXCJ9LFwib3JhbmdlXCI6e1wiYmFzZVwiOlwicmdiYSgyMDgsIDc0LCAxLCAxKVwifSxcInRlYWxcIjp7XCJiYXNlXCI6XCJyZ2JhKDIyLCAxMzEsIDEzMSwgMSlcIn0sXCJyZWRcIjp7XCJiYXNlXCI6XCJyZ2JhKDIwNiwgOCwgMTAsIDEpXCJ9LFwieWVsbG93XCI6e1wiYmFzZVwiOlwicmdiYSgxNTUsIDExMSwgMywgMSlcIn0sXCJncmF5XCI6e1wiYmFzZVwiOlwicmdiYSgxMDQsIDEwOSwgMTEwLCAxKVwifX0sXCJicmFuZFwiOntcImFjY2VudFwiOntcIjEwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuYWNjZW50LmxpZ2h0fVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5saWdodH1cIixcImFscGhhXCI6MC42fV0sXCJfdHJhbnNmb3Jtc1wiOlt7XCJ0eXBlXCI6XCJsaWdodGVuXCIsXCJhbW91bnRcIjowLjJ9LHtcInR5cGVcIjpcInNhdHVyYXRlXCIsXCJhbW91bnRcIjowLjF9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLmFjY2VudC5saWdodH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuNX1dLFwiX3RyYW5zZm9ybXNcIjpbe1widHlwZVwiOlwibGlnaHRlblwiLFwiYW1vdW50XCI6MC4yfSx7XCJ0eXBlXCI6XCJzYXR1cmF0ZVwiLFwiYW1vdW50XCI6MC4xfV19LFwiMzAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5hY2NlbnQubGlnaHR9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjZ9XSxcIl90cmFuc2Zvcm1zXCI6W3tcInR5cGVcIjpcImRhcmtlblwiLFwiYW1vdW50XCI6MC4xfSx7XCJ0eXBlXCI6XCJzYXR1cmF0ZVwiLFwiYW1vdW50XCI6MC4xfV19LFwiNDAwXCI6XCJ7YnJhbmQuYWNjZW50LmxpZ2h0fVwiLFwiNTAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5hY2NlbnQubGlnaHR9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuNH1dfSxcIjYwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuYWNjZW50LmxpZ2h0fVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjZ9XX19LFwic3RhdHVzXCI6e1wicG9zaXRpdmVcIjp7XCIxMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjl9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjh9XX0sXCIzMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjd9XX0sXCI0MDBcIjpcIntjb2xvclByaW1pdGl2ZXMuZ3JlZW4uNTAwfVwiLFwiNTAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMucG9zaXRpdmUuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjR9XX0sXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuNn1dfX0sXCJ3YXJuaW5nXCI6e1wiMTAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMud2FybmluZy40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmxpZ2h0fVwiLFwiYWxwaGFcIjowLjl9XX0sXCIyMDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy53YXJuaW5nLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuOH1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLndhcm5pbmcuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5saWdodH1cIixcImFscGhhXCI6MC43fV19LFwiNDAwXCI6XCJ7Y29sb3JQcmltaXRpdmVzLnllbGxvdy41MDB9XCIsXCI1MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy53YXJuaW5nLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UuZGFya31cIixcImFscGhhXCI6MC40fV19LFwiNjAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMud2FybmluZy40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuNn1dfX0sXCJjcml0aWNhbFwiOntcIjEwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmNyaXRpY2FsLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuOX1dfSxcIjIwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmNyaXRpY2FsLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuOH1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmNyaXRpY2FsLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuN31dfSxcIjQwMFwiOlwie2NvbG9yUHJpbWl0aXZlcy5yZWQuNTAwfVwiLFwiNTAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMuY3JpdGljYWwuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjR9XX0sXCI2MDBcIjp7XCJfaW5wdXRzXCI6W1wie2JyYW5kLnN0YXR1cy5jcml0aWNhbC40MDB9XCIse1wiY29sb3JcIjpcInticmFuZC5iYXNlLmRhcmt9XCIsXCJhbHBoYVwiOjAuNn1dfX0sXCJpbmZvcm1hdGl2ZVwiOntcIjEwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuOX1dfSxcIjIwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuOH1dfSxcIjMwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UubGlnaHR9XCIsXCJhbHBoYVwiOjAuN31dfSxcIjQwMFwiOlwie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIixcIjUwMFwiOntcIl9pbnB1dHNcIjpbXCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjQwMH1cIix7XCJjb2xvclwiOlwie2JyYW5kLmJhc2UuZGFya31cIixcImFscGhhXCI6MC40fV19LFwiNjAwXCI6e1wiX2lucHV0c1wiOltcInticmFuZC5zdGF0dXMuaW5mb3JtYXRpdmUuNDAwfVwiLHtcImNvbG9yXCI6XCJ7YnJhbmQuYmFzZS5kYXJrfVwiLFwiYWxwaGFcIjowLjZ9XX19fX0sXCJjb2xvclwiOntcImdlbmVyYXRlZFwiOntcImFjY2VudFwiOntcInN0cm9uZ2VyXCI6XCJ7YnJhbmQuYWNjZW50LjYwMH1cIixcInN0cm9uZ1wiOlwie2JyYW5kLmFjY2VudC41MDB9XCIsXCJiYXNlXCI6XCJ7YnJhbmQuYWNjZW50LjQwMH1cIixcInNvZnRcIjpcInticmFuZC5hY2NlbnQuMzAwfVwiLFwic29mdGVyXCI6XCJ7YnJhbmQuYWNjZW50LjIwMH1cIixcInNvZnRlc3RcIjpcInticmFuZC5hY2NlbnQuMTAwfVwifSxcImJhY2tncm91bmRcIjp7XCJiYXNlXCI6XCJ7YnJhbmQuYmFzZS5saWdodH1cIn0sXCJmb3JlZ3JvdW5kXCI6e1wiYmFzZVwiOlwie2JyYW5kLmJhc2UuZGFya31cIn0sXCJpZGVudGlmaWVyXCI6e1wiYmx1ZVwiOlwie2NvbG9yUHJpbWl0aXZlcy5ibHVlLjUwMH1cIixcInBpbmtcIjpcIntjb2xvclByaW1pdGl2ZXMucGluay41MDB9XCIsXCJpbmRpZ29cIjpcIntjb2xvclByaW1pdGl2ZXMuaW5kaWdvLjUwMH1cIixcInRlYWxcIjpcIntjb2xvclByaW1pdGl2ZXMudGVhbC41MDB9XCIsXCJncmVlblwiOlwie2NvbG9yUHJpbWl0aXZlcy5ncmVlbi41MDB9XCIsXCJvcmFuZ2VcIjpcIntjb2xvclByaW1pdGl2ZXMub3JhbmdlLjUwMH1cIixcInJlZFwiOlwie2NvbG9yUHJpbWl0aXZlcy5yZWQuNTAwfVwiLFwieWVsbG93XCI6XCJ7Y29sb3JQcmltaXRpdmVzLnllbGxvdy40MDB9XCIsXCJncmF5XCI6XCJ7Y29sb3JQcmltaXRpdmVzLmdyYXkuNTAwfVwifSxcInBvc2l0aXZlXCI6e1wic3Ryb25nXCI6XCJ7YnJhbmQuc3RhdHVzLnBvc2l0aXZlLjUwMH1cIixcImJhc2VcIjpcInticmFuZC5zdGF0dXMucG9zaXRpdmUuNDAwfVwiLFwic29mdFwiOlwie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS4zMDB9XCIsXCJzdHJvbmdlclwiOlwie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS42MDB9XCIsXCJzb2Z0ZXJcIjpcInticmFuZC5zdGF0dXMucG9zaXRpdmUuMjAwfVwiLFwic29mdGVzdFwiOlwie2JyYW5kLnN0YXR1cy5wb3NpdGl2ZS4xMDB9XCJ9LFwid2FybmluZ1wiOntcInN0cm9uZ1wiOlwie2JyYW5kLnN0YXR1cy53YXJuaW5nLjUwMH1cIixcImJhc2VcIjpcInticmFuZC5zdGF0dXMud2FybmluZy40MDB9XCIsXCJzb2Z0XCI6XCJ7YnJhbmQuc3RhdHVzLndhcm5pbmcuMzAwfVwiLFwic3Ryb25nZXJcIjpcInticmFuZC5zdGF0dXMud2FybmluZy42MDB9XCIsXCJzb2Z0ZXJcIjpcInticmFuZC5zdGF0dXMud2FybmluZy4yMDB9XCIsXCJzb2Z0ZXN0XCI6XCJ7YnJhbmQuc3RhdHVzLndhcm5pbmcuMTAwfVwifSxcImNyaXRpY2FsXCI6e1wic3Ryb25nXCI6XCJ7YnJhbmQuc3RhdHVzLmNyaXRpY2FsLjUwMH1cIixcImJhc2VcIjpcInticmFuZC5zdGF0dXMuY3JpdGljYWwuNDAwfVwiLFwic29mdFwiOlwie2JyYW5kLnN0YXR1cy5jcml0aWNhbC4zMDB9XCIsXCJzdHJvbmdlclwiOlwie2JyYW5kLnN0YXR1cy5jcml0aWNhbC42MDB9XCIsXCJzb2Z0ZXJcIjpcInticmFuZC5zdGF0dXMuY3JpdGljYWwuMjAwfVwiLFwic29mdGVzdFwiOlwie2JyYW5kLnN0YXR1cy5jcml0aWNhbC4xMDB9XCJ9LFwiaW5mb3JtYXRpdmVcIjp7XCJzdHJvbmdcIjpcInticmFuZC5zdGF0dXMuaW5mb3JtYXRpdmUuNTAwfVwiLFwiYmFzZVwiOlwie2JyYW5kLnN0YXR1cy5pbmZvcm1hdGl2ZS40MDB9XCIsXCJzb2Z0XCI6XCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjMwMH1cIixcInN0cm9uZ2VyXCI6XCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjYwMH1cIixcInNvZnRlclwiOlwie2JyYW5kLnN0YXR1cy5pbmZvcm1hdGl2ZS4yMDB9XCIsXCJzb2Z0ZXN0XCI6XCJ7YnJhbmQuc3RhdHVzLmluZm9ybWF0aXZlLjEwMH1cIn19LFwic2hhcmVkXCI6e1wiYnV0dG9uXCI6e1wiZ2hvc3RcIjp7XCJpY29uXCI6e1wiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LnN0cm9uZ31cIixcImFjdGl2ZVwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC5hY2NlbnQuc3Ryb25nZXJ9XCJ9LFwidGV4dFwiOntcInByZXNzZWRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYWNjZW50LnN0cm9uZ2VyfVwifX19LFwiaWNvbkJ1dHRvblwiOntcImdob3N0XCI6e1wiaWNvblwiOntcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5zdHJvbmd9XCIsXCJwcmVzc2VkXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmFjY2VudC5zdHJvbmdlcn1cIn19fX0sXCJjb3JldWlcIjp7XCJob21lSW5wdXRcIjp7XCJib3JkZXJcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuNH1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5ib3JkZXIuNH1cIn19LFwic3RvcmVJbnB1dFwiOntcImJvcmRlclwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJvcmRlci42fVwiLFwiaG92ZXJcIjpcIntjb2xvci5yb2xlLmJvcmRlci42fVwifX19LFwicm9sZVwiOntcImJvcmRlclwiOntcInN0cm9uZ2VyXCI6XCJ7Y29sb3IuZ2VuZXJhdGVkLmZvcmVncm91bmQuc29mdH1cIixcInN0cm9uZ1wiOlwie2NvbG9yLmdlbmVyYXRlZC5mb3JlZ3JvdW5kLnNvZnRlcn1cIn19LFwiZW50ZXJwcmlzZVwiOntcImNvbnRleHRNZW51SXRlbVwiOntcImRlZmF1bHRcIjp7XCJoaW50XCI6e1wiZGVmYXVsdFwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0ZXJ9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuZm9yZWdyb3VuZC5zb2Z0ZXJ9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdGVyfVwiLFwiZm9jdXNcIjpcIntjb2xvci5yb2xlLmZvcmVncm91bmQuc29mdGVyfVwifX19LFwidmlld1wiOntcImJhY2tncm91bmRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMX1cIn0sXCJ0b3BDaHJvbWVcIjp7XCJiYWNrZ3JvdW5kXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjJ9XCJ9LFwidG9wVGFiXCI6e1wiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMn1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjF9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4xfVwiLFwiZHJhZ2dpbmdcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuMX1cIn19LFwibG9nb1wiOntcImJhY2tncm91bmRcIjpcInticmFuZC5hY2NlbnQubGlnaHR9XCIsXCJmb3JlZ3JvdW5kXCI6XCJ7YnJhbmQuYWNjZW50LmRhcmt9XCJ9LFwidmlld1RhYlwiOntcImJhY2tncm91bmRcIjp7XCJkZWZhdWx0XCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjF9XCIsXCJob3ZlclwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiYWN0aXZlXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJzZWxlY3RlZFwiOlwie2NvbG9yLnJvbGUuYmFja2dyb3VuZC4zfVwiLFwiZHJhZ2dpbmdcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuM31cIn19LFwic2VhcmNoQmFyXCI6e1wiYmFja2dyb3VuZFwiOntcImRlZmF1bHRcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYmFzZX1cIixcImhvdmVyXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLjN9XCIsXCJhY3RpdmVcIjpcIntjb2xvci5yb2xlLmJhY2tncm91bmQuYmFzZX1cIixcImZvY3VzXCI6XCJ7Y29sb3Iucm9sZS5iYWNrZ3JvdW5kLmJhc2V9XCJ9fX19fScpO3ZhciB2PWgoMjU0Myk7aC5uKHYpO2NvbnN0IG09KGUscik9PntpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gMz09PXI/e21vZGU6XCJyZ2JcIixyOihlPj44JjE1fGU+PjQmMjQwKS8yNTUsZzooZT4+NCYxNXwyNDAmZSkvMjU1LGI6KDE1JmV8ZTw8NCYyNDApLzI1NX06ND09PXI/e21vZGU6XCJyZ2JcIixyOihlPj4xMiYxNXxlPj44JjI0MCkvMjU1LGc6KGU+PjgmMTV8ZT4+NCYyNDApLzI1NSxiOihlPj40JjE1fDI0MCZlKS8yNTUsYWxwaGE6KDE1JmV8ZTw8NCYyNDApLzI1NX06Nj09PXI/e21vZGU6XCJyZ2JcIixyOihlPj4xNiYyNTUpLzI1NSxnOihlPj44JjI1NSkvMjU1LGI6KDI1NSZlKS8yNTV9Ojg9PT1yP3ttb2RlOlwicmdiXCIscjooZT4+MjQmMjU1KS8yNTUsZzooZT4+MTYmMjU1KS8yNTUsYjooZT4+OCYyNTUpLzI1NSxhbHBoYTooMjU1JmUpLzI1NX06dm9pZCAwfSx5PXthbGljZWJsdWU6MTU3OTIzODMsYW50aXF1ZXdoaXRlOjE2NDQ0Mzc1LGFxdWE6NjU1MzUsYXF1YW1hcmluZTo4Mzg4NTY0LGF6dXJlOjE1Nzk0MTc1LGJlaWdlOjE2MTE5MjYwLGJpc3F1ZToxNjc3MDI0NCxibGFjazowLGJsYW5jaGVkYWxtb25kOjE2NzcyMDQ1LGJsdWU6MjU1LGJsdWV2aW9sZXQ6OTA1NTIwMixicm93bjoxMDgyNDIzNCxidXJseXdvb2Q6MTQ1OTYyMzEsY2FkZXRibHVlOjYyNjY1MjgsY2hhcnRyZXVzZTo4Mzg4MzUyLGNob2NvbGF0ZToxMzc4OTQ3MCxjb3JhbDoxNjc0NDI3Mixjb3JuZmxvd2VyYmx1ZTo2NTkxOTgxLGNvcm5zaWxrOjE2Nzc1Mzg4LGNyaW1zb246MTQ0MjMxMDAsY3lhbjo2NTUzNSxkYXJrYmx1ZToxMzksZGFya2N5YW46MzU3MjMsZGFya2dvbGRlbnJvZDoxMjA5MjkzOSxkYXJrZ3JheToxMTExOTAxNyxkYXJrZ3JlZW46MjU2MDAsZGFya2dyZXk6MTExMTkwMTcsZGFya2toYWtpOjEyNDMzMjU5LGRhcmttYWdlbnRhOjkxMDk2NDMsZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMDQ5NSxkYXJrc2xhdGVncmV5OjMxMDA0OTUsZGFya3R1cnF1b2lzZTo1Mjk0NSxkYXJrdmlvbGV0Ojk2OTk1MzksZGVlcHBpbms6MTY3MTY5NDcsZGVlcHNreWJsdWU6NDkxNTEsZGltZ3JheTo2OTA4MjY1LGRpbWdyZXk6NjkwODI2NSxkb2RnZXJibHVlOjIwMDMxOTksZmlyZWJyaWNrOjExNjc0MTQ2LGZsb3JhbHdoaXRlOjE2Nzc1OTIwLGZvcmVzdGdyZWVuOjIyNjM4NDIsZnVjaHNpYToxNjcxMTkzNSxnYWluc2Jvcm86MTQ0NzQ0NjAsZ2hvc3R3aGl0ZToxNjMxNjY3MSxnb2xkOjE2NzY2NzIwLGdvbGRlbnJvZDoxNDMyOTEyMCxncmF5Ojg0MjE1MDQsZ3JlZW46MzI3NjgsZ3JlZW55ZWxsb3c6MTE0MDMwNTUsZ3JleTo4NDIxNTA0LGhvbmV5ZGV3OjE1Nzk0MTYwLGhvdHBpbms6MTY3Mzg3NDAsaW5kaWFucmVkOjEzNDU4NTI0LGluZGlnbzo0OTE1MzMwLGl2b3J5OjE2Nzc3MjAwLGtoYWtpOjE1Nzg3NjYwLGxhdmVuZGVyOjE1MTMyNDEwLGxhdmVuZGVyYmx1c2g6MTY3NzMzNjUsbGF3bmdyZWVuOjgxOTA5NzYsbGVtb25jaGlmZm9uOjE2Nzc1ODg1LGxpZ2h0Ymx1ZToxMTM5MzI1NCxsaWdodGNvcmFsOjE1NzYxNTM2LGxpZ2h0Y3lhbjoxNDc0NTU5OSxsaWdodGdvbGRlbnJvZHllbGxvdzoxNjQ0ODIxMCxsaWdodGdyYXk6MTM4ODIzMjMsbGlnaHRncmVlbjo5NDk4MjU2LGxpZ2h0Z3JleToxMzg4MjMyMyxsaWdodHBpbms6MTY3NTg0NjUsbGlnaHRzYWxtb246MTY3NTI3NjIsbGlnaHRzZWFncmVlbjoyMTQyODkwLGxpZ2h0c2t5Ymx1ZTo4OTAwMzQ2LGxpZ2h0c2xhdGVncmF5Ojc4MzM3NTMsbGlnaHRzbGF0ZWdyZXk6NzgzMzc1MyxsaWdodHN0ZWVsYmx1ZToxMTU4NDczNCxsaWdodHllbGxvdzoxNjc3NzE4NCxsaW1lOjY1MjgwLGxpbWVncmVlbjozMzI5MzMwLGxpbmVuOjE2NDQ1NjcwLG1hZ2VudGE6MTY3MTE5MzUsbWFyb29uOjgzODg2MDgsbWVkaXVtYXF1YW1hcmluZTo2NzM3MzIyLG1lZGl1bWJsdWU6MjA1LG1lZGl1bW9yY2hpZDoxMjIxMTY2NyxtZWRpdW1wdXJwbGU6OTY2MjY4MyxtZWRpdW1zZWFncmVlbjozOTc4MDk3LG1lZGl1bXNsYXRlYmx1ZTo4MDg3NzkwLG1lZGl1bXNwcmluZ2dyZWVuOjY0MTU0LG1lZGl1bXR1cnF1b2lzZTo0NzcyMzAwLG1lZGl1bXZpb2xldHJlZDoxMzA0NzE3MyxtaWRuaWdodGJsdWU6MTY0NDkxMixtaW50Y3JlYW06MTYxMjE4NTAsbWlzdHlyb3NlOjE2NzcwMjczLG1vY2Nhc2luOjE2NzcwMjI5LG5hdmFqb3doaXRlOjE2NzY4Njg1LG5hdnk6MTI4LG9sZGxhY2U6MTY2NDM1NTgsb2xpdmU6ODQyMTM3NixvbGl2ZWRyYWI6NzA0ODczOSxvcmFuZ2U6MTY3NTM5MjAsb3JhbmdlcmVkOjE2NzI5MzQ0LG9yY2hpZDoxNDMxNTczNCxwYWxlZ29sZGVucm9kOjE1NjU3MTMwLHBhbGVncmVlbjoxMDAyNTg4MCxwYWxldHVycXVvaXNlOjExNTI5OTY2LHBhbGV2aW9sZXRyZWQ6MTQzODEyMDMscGFwYXlhd2hpcDoxNjc3MzA3NyxwZWFjaHB1ZmY6MTY3Njc2NzMscGVydToxMzQ2ODk5MSxwaW5rOjE2NzYxMDM1LHBsdW06MTQ1MjQ2MzcscG93ZGVyYmx1ZToxMTU5MTkxMCxwdXJwbGU6ODM4ODczNixyZWJlY2NhcHVycGxlOjY2OTc4ODEscmVkOjE2NzExNjgwLHJvc3licm93bjoxMjM1NzUxOSxyb3lhbGJsdWU6NDI4Njk0NSxzYWRkbGVicm93bjo5MTI3MTg3LHNhbG1vbjoxNjQxNjg4MixzYW5keWJyb3duOjE2MDMyODY0LHNlYWdyZWVuOjMwNTAzMjcsc2Vhc2hlbGw6MTY3NzQ2Mzgsc2llbm5hOjEwNTA2Nzk3LHNpbHZlcjoxMjYzMjI1Nixza3libHVlOjg5MDAzMzEsc2xhdGVibHVlOjY5NzAwNjEsc2xhdGVncmF5OjczNzI5NDQsc2xhdGVncmV5OjczNzI5NDQsc25vdzoxNjc3NTkzMCxzcHJpbmdncmVlbjo2NTQwNyxzdGVlbGJsdWU6NDYyMDk4MCx0YW46MTM4MDg3ODAsdGVhbDozMjg5Nix0aGlzdGxlOjE0MjA0ODg4LHRvbWF0bzoxNjczNzA5NSx0dXJxdW9pc2U6NDI1MTg1Nix2aW9sZXQ6MTU2MzEwODYsd2hlYXQ6MTYxMTMzMzEsd2hpdGU6MTY3NzcyMTUsd2hpdGVzbW9rZToxNjExOTI4NSx5ZWxsb3c6MTY3NzY5NjAseWVsbG93Z3JlZW46MTAxNDUwNzR9LHc9L14jPyhbMC05YS1mXXs4fXxbMC05YS1mXXs2fXxbMC05YS1mXXs0fXxbMC05YS1mXXszfSkkL2ksXz1cIihbKy1dP1xcXFxkKlxcXFwuP1xcXFxkKyg/OltlRV1bKy1dP1xcXFxkKyk/KVwiLGs9YCR7X30lYCx4PWAoPzoke199JXwke199KWAsUD1gKD86JHtffShkZWd8Z3JhZHxyYWR8dHVybil8JHtffSlgLFM9XCJcXFxccyosXFxcXHMqXCIsTT0obmV3IFJlZ0V4cChgXig/OiR7X30lfCR7X318bm9uZSkkYCksbmV3IFJlZ0V4cChgXnJnYmE/XFxcXChcXFxccyoke199JHtTfSR7X30ke1N9JHtffVxcXFxzKig/OixcXFxccyoke3h9XFxcXHMqKT9cXFxcKSRgKSksST1uZXcgUmVnRXhwKGBecmdiYT9cXFxcKFxcXFxzKiR7a30ke1N9JHtrfSR7U30ke2t9XFxcXHMqKD86LFxcXFxzKiR7eH1cXFxccyopP1xcXFwpJGApLEM9KGU9XCJyZ2JcIik9PnI9PnZvaWQgMCE9PShyPSgoZSxyKT0+dm9pZCAwPT09ZT92b2lkIDA6XCJvYmplY3RcIiE9dHlwZW9mIGU/cmUoZSk6dm9pZCAwIT09ZS5tb2RlP2U6cj97Li4uZSxtb2RlOnJ9OnZvaWQgMCkocixlKSk/ci5tb2RlPT09ZT9yOkFbci5tb2RlXVtlXT9BW3IubW9kZV1bZV0ocik6XCJyZ2JcIj09PWU/QVtyLm1vZGVdLnJnYihyKTpBLnJnYltlXShBW3IubW9kZV0ucmdiKHIpKTp2b2lkIDAsQT17fSxPPXt9LEY9W10sVz17fSx6PWU9PmUsVD1lPT4oQVtlLm1vZGVdPXsuLi5BW2UubW9kZV0sLi4uZS50b01vZGV9LE9iamVjdC5rZXlzKGUuZnJvbU1vZGV8fHt9KS5mb3JFYWNoKHI9PntBW3JdfHwoQVtyXT17fSksQVtyXVtlLm1vZGVdPWUuZnJvbU1vZGVbcl19KSxlLnJhbmdlc3x8KGUucmFuZ2VzPXt9KSxlLmRpZmZlcmVuY2V8fChlLmRpZmZlcmVuY2U9e30pLGUuY2hhbm5lbHMuZm9yRWFjaChyPT57aWYodm9pZCAwPT09ZS5yYW5nZXNbcl0mJihlLnJhbmdlc1tyXT1bMCwxXSksIWUuaW50ZXJwb2xhdGVbcl0pdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGludGVycG9sYXRvciBmb3I6ICR7cn1gKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmludGVycG9sYXRlW3JdJiYoZS5pbnRlcnBvbGF0ZVtyXT17dXNlOmUuaW50ZXJwb2xhdGVbcl19KSxlLmludGVycG9sYXRlW3JdLmZpeHVwfHwoZS5pbnRlcnBvbGF0ZVtyXS5maXh1cD16KX0pLE9bZS5tb2RlXT1lLChlLnBhcnNlfHxbXSkuZm9yRWFjaChyPT57QihyLGUubW9kZSl9KSxDKGUubW9kZSkpLEQ9ZT0+T1tlXSxCPShlLHIpPT57aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2lmKCFyKXRocm93IG5ldyBFcnJvcihcIidtb2RlJyByZXF1aXJlZCB3aGVuICdwYXJzZXInIGlzIGEgc3RyaW5nXCIpO1dbZV09cn1lbHNlXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmRi5pbmRleE9mKGUpPDAmJkYucHVzaChlKX0sUj0vW15cXHgwMC1cXHg3Rl18W2EtekEtWl9dLyxFPS9bXlxceDAwLVxceDdGXXxbLVxcd10vLGo9XCJmdW5jdGlvblwiLCQ9XCJpZGVudFwiLE49XCJudW1iZXJcIixHPVwicGVyY2VudGFnZVwiLEw9XCJub25lXCIsVT1cImh1ZVwiLFY9XCJhbHBoYVwiO2xldCBxPTA7ZnVuY3Rpb24gSChlKXtsZXQgcj1lW3FdLHQ9ZVtxKzFdO3JldHVyblwiLVwiPT09cnx8XCIrXCI9PT1yPy9cXGQvLnRlc3QodCl8fFwiLlwiPT09dCYmL1xcZC8udGVzdChlW3ErMl0pOi9cXGQvLnRlc3QoXCIuXCI9PT1yP3Q6cil9ZnVuY3Rpb24gSyhlKXtpZihxPj1lLmxlbmd0aClyZXR1cm4hMTtsZXQgcj1lW3FdO2lmKFIudGVzdChyKSlyZXR1cm4hMDtpZihcIi1cIj09PXIpe2lmKGUubGVuZ3RoLXE8MilyZXR1cm4hMTtsZXQgcj1lW3ErMV07cmV0dXJuIShcIi1cIiE9PXImJiFSLnRlc3QocikpfXJldHVybiExfWNvbnN0IFo9e2RlZzoxLHJhZDoxODAvTWF0aC5QSSxncmFkOi45LHR1cm46MzYwfTtmdW5jdGlvbiBZKGUpe2xldCByPVwiXCI7aWYoXCItXCIhPT1lW3FdJiZcIitcIiE9PWVbcV18fChyKz1lW3ErK10pLHIrPVEoZSksXCIuXCI9PT1lW3FdJiYvXFxkLy50ZXN0KGVbcSsxXSkmJihyKz1lW3ErK10rUShlKSksXCJlXCIhPT1lW3FdJiZcIkVcIiE9PWVbcV18fChcIi1cIiE9PWVbcSsxXSYmXCIrXCIhPT1lW3ErMV18fCEvXFxkLy50ZXN0KGVbcSsyXSk/L1xcZC8udGVzdChlW3ErMV0pJiYocis9ZVtxKytdK1EoZSkpOnIrPWVbcSsrXStlW3ErK10rUShlKSksSyhlKSl7bGV0IHQ9SihlKTtyZXR1cm5cImRlZ1wiPT09dHx8XCJyYWRcIj09PXR8fFwidHVyblwiPT09dHx8XCJncmFkXCI9PT10P3t0eXBlOlUsdmFsdWU6cipaW3RdfTp2b2lkIDB9cmV0dXJuXCIlXCI9PT1lW3FdPyhxKysse3R5cGU6Ryx2YWx1ZTorcn0pOnt0eXBlOk4sdmFsdWU6K3J9fWZ1bmN0aW9uIFEoZSl7bGV0IHI9XCJcIjtmb3IoOy9cXGQvLnRlc3QoZVtxXSk7KXIrPWVbcSsrXTtyZXR1cm4gcn1mdW5jdGlvbiBKKGUpe2xldCByPVwiXCI7Zm9yKDtxPGUubGVuZ3RoJiZFLnRlc3QoZVtxXSk7KXIrPWVbcSsrXTtyZXR1cm4gcn1mdW5jdGlvbiBYKGUpe2xldCByPUooZSk7cmV0dXJuXCIoXCI9PT1lW3FdPyhxKysse3R5cGU6aix2YWx1ZTpyfSk6XCJub25lXCI9PT1yP3t0eXBlOkwsdmFsdWU6dm9pZCAwfTp7dHlwZTokLHZhbHVlOnJ9fWZ1bmN0aW9uIGVlKGUscil7Y29uc3QgdD1bXTtsZXQgbztmb3IoO2UuX2k8ZS5sZW5ndGg7KWlmKG89ZVtlLl9pKytdLG8udHlwZT09PUx8fG8udHlwZT09PU58fG8udHlwZT09PVZ8fG8udHlwZT09PUd8fHImJm8udHlwZT09PVUpdC5wdXNoKG8pO2Vsc2V7aWYoXCIpXCIhPT1vLnR5cGUpcmV0dXJuO2lmKGUuX2k8ZS5sZW5ndGgpcmV0dXJufWlmKCEodC5sZW5ndGg8M3x8dC5sZW5ndGg+NCkpe2lmKDQ9PT10Lmxlbmd0aCl7aWYodFszXS50eXBlIT09VilyZXR1cm47dFszXT10WzNdLnZhbHVlfXJldHVybiAzPT09dC5sZW5ndGgmJnQucHVzaCh7dHlwZTpMLHZhbHVlOnZvaWQgMH0pLHQuZXZlcnkoZT0+ZS50eXBlIT09Vik/dDp2b2lkIDB9fWNvbnN0IHJlPWU9PntpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm47Y29uc3Qgcj1mdW5jdGlvbihlPVwiXCIpe2xldCByLHQ9ZS50cmltKCksbz1bXTtmb3IocT0wO3E8dC5sZW5ndGg7KWlmKHI9dFtxKytdLFwiXFxuXCIhPT1yJiZcIlxcdFwiIT09ciYmXCIgXCIhPT1yKXtpZihcIixcIj09PXIpcmV0dXJuO2lmKFwiKVwiIT09cil7aWYoXCIrXCI9PT1yKXtpZihxLS0sSCh0KSl7by5wdXNoKFkodCkpO2NvbnRpbnVlfXJldHVybn1pZihcIi1cIj09PXIpe2lmKHEtLSxIKHQpKXtvLnB1c2goWSh0KSk7Y29udGludWV9aWYoSyh0KSl7by5wdXNoKHt0eXBlOiQsdmFsdWU6Sih0KX0pO2NvbnRpbnVlfXJldHVybn1pZihcIi5cIj09PXIpe2lmKHEtLSxIKHQpKXtvLnB1c2goWSh0KSk7Y29udGludWV9cmV0dXJufWlmKFwiL1wiPT09cil7Zm9yKDtxPHQubGVuZ3RoJiYoXCJcXG5cIj09PXRbcV18fFwiXFx0XCI9PT10W3FdfHxcIiBcIj09PXRbcV0pOylxKys7bGV0IGU7aWYoSCh0KSYmKGU9WSh0KSxlLnR5cGUhPT1VKSl7by5wdXNoKHt0eXBlOlYsdmFsdWU6ZX0pO2NvbnRpbnVlfWlmKEsodCkmJlwibm9uZVwiPT09Sih0KSl7by5wdXNoKHt0eXBlOlYsdmFsdWU6e3R5cGU6TCx2YWx1ZTp2b2lkIDB9fSk7Y29udGludWV9cmV0dXJufWlmKC9cXGQvLnRlc3QocikpcS0tLG8ucHVzaChZKHQpKTtlbHNle2lmKCFSLnRlc3QocikpcmV0dXJuO3EtLSxvLnB1c2goWCh0KSl9fWVsc2Ugby5wdXNoKHt0eXBlOlwiKVwifSl9ZWxzZSBmb3IoO3E8dC5sZW5ndGgmJihcIlxcblwiPT09dFtxXXx8XCJcXHRcIj09PXRbcV18fFwiIFwiPT09dFtxXSk7KXErKztyZXR1cm4gb30oZSksdD1yP2Z1bmN0aW9uKGUpe2UuX2k9MDtsZXQgcj1lW2UuX2krK107aWYoIXJ8fHIudHlwZSE9PWopcmV0dXJuO2xldCB0PWVlKGUsITApO3JldHVybiB0Pyh0LnVuc2hpZnQoci52YWx1ZSksdCk6dm9pZCAwfShyKTp2b2lkIDA7bGV0IG8sbj0wLGE9Ri5sZW5ndGg7Zm9yKDtuPGE7KWlmKHZvaWQgMCE9PShvPUZbbisrXShlLHQpKSlyZXR1cm4gbztyZXR1cm4gcj9mdW5jdGlvbihlKXtlLl9pPTA7bGV0IHI9ZVtlLl9pKytdO2lmKCFyfHxyLnR5cGUhPT1qfHxcImNvbG9yXCIhPT1yLnZhbHVlKXJldHVybjtpZihyPWVbZS5faSsrXSxyLnR5cGUhPT0kKXJldHVybjtjb25zdCB0PVdbci52YWx1ZV07aWYoIXQpcmV0dXJuO2NvbnN0IG89e21vZGU6dH0sbj1lZShlLCExKTtpZighbilyZXR1cm47Y29uc3QgYT1EKHQpLmNoYW5uZWxzO2ZvcihsZXQgZSxyLHQ9MDt0PGEubGVuZ3RoO3QrKyllPW5bdF0scj1hW3RdLGUudHlwZSE9PUwmJihvW3JdPWUudHlwZT09PU4/ZS52YWx1ZTplLnZhbHVlLzEwMCxcImFscGhhXCI9PT1yJiYob1tyXT1NYXRoLm1heCgwLE1hdGgubWluKDEsb1tyXSkpKSk7cmV0dXJuIG99KHIpOnZvaWQgMH0sdGU9KG9lPShlLHIsdCk9PmUrdCooci1lKSxlPT57bGV0IHI9KGU9PntsZXQgcj1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKXtsZXQgbz1lW3RdLG49ZVt0KzFdO3ZvaWQgMD09PW8mJnZvaWQgMD09PW4/ci5wdXNoKHZvaWQgMCk6dm9pZCAwIT09byYmdm9pZCAwIT09bj9yLnB1c2goW28sbl0pOnIucHVzaCh2b2lkIDAhPT1vP1tvLG9dOltuLG5dKX1yZXR1cm4gcn0pKGUpO3JldHVybiBlPT57bGV0IHQ9ZSpyLmxlbmd0aCxvPWU+PTE/ci5sZW5ndGgtMTpNYXRoLm1heChNYXRoLmZsb29yKHQpLDApLG49cltvXTtyZXR1cm4gdm9pZCAwPT09bj92b2lkIDA6b2UoblswXSxuWzFdLHQtbyl9fSk7dmFyIG9lO2NvbnN0IG5lPWU9PntsZXQgcj0hMSx0PWUubWFwKGU9PnZvaWQgMCE9PWU/KHI9ITAsZSk6MSk7cmV0dXJuIHI/dDplfSxhZT17bW9kZTpcInJnYlwiLGNoYW5uZWxzOltcInJcIixcImdcIixcImJcIixcImFscGhhXCJdLHBhcnNlOltmdW5jdGlvbihlLHIpe2lmKCFyfHxcInJnYlwiIT09clswXSYmXCJyZ2JhXCIhPT1yWzBdKXJldHVybjtjb25zdCB0PXttb2RlOlwicmdiXCJ9LFssbyxuLGEsaV09cjtyZXR1cm4gby50eXBlIT09VSYmbi50eXBlIT09VSYmYS50eXBlIT09VT8oby50eXBlIT09TCYmKHQucj1vLnR5cGU9PT1OP28udmFsdWUvMjU1Om8udmFsdWUvMTAwKSxuLnR5cGUhPT1MJiYodC5nPW4udHlwZT09PU4/bi52YWx1ZS8yNTU6bi52YWx1ZS8xMDApLGEudHlwZSE9PUwmJih0LmI9YS50eXBlPT09Tj9hLnZhbHVlLzI1NTphLnZhbHVlLzEwMCksaS50eXBlIT09TCYmKHQuYWxwaGE9TWF0aC5taW4oMSxNYXRoLm1heCgwLGkudHlwZT09PU4/aS52YWx1ZTppLnZhbHVlLzEwMCkpKSx0KTp2b2lkIDB9LGU9PntsZXQgcjtyZXR1cm4ocj1lLm1hdGNoKHcpKT9tKHBhcnNlSW50KHJbMV0sMTYpLHJbMV0ubGVuZ3RoKTp2b2lkIDB9LGU9PntsZXQgcix0PXttb2RlOlwicmdiXCJ9O2lmKHI9ZS5tYXRjaChNKSl2b2lkIDAhPT1yWzFdJiYodC5yPXJbMV0vMjU1KSx2b2lkIDAhPT1yWzJdJiYodC5nPXJbMl0vMjU1KSx2b2lkIDAhPT1yWzNdJiYodC5iPXJbM10vMjU1KTtlbHNle2lmKCEocj1lLm1hdGNoKEkpKSlyZXR1cm47dm9pZCAwIT09clsxXSYmKHQucj1yWzFdLzEwMCksdm9pZCAwIT09clsyXSYmKHQuZz1yWzJdLzEwMCksdm9pZCAwIT09clszXSYmKHQuYj1yWzNdLzEwMCl9cmV0dXJuIHZvaWQgMCE9PXJbNF0/dC5hbHBoYT1NYXRoLm1heCgwLE1hdGgubWluKDEscls0XS8xMDApKTp2b2lkIDAhPT1yWzVdJiYodC5hbHBoYT1NYXRoLm1heCgwLE1hdGgubWluKDEsK3JbNV0pKSksdH0sZT0+bSh5W2UudG9Mb3dlckNhc2UoKV0sNiksZT0+XCJ0cmFuc3BhcmVudFwiPT09ZT97bW9kZTpcInJnYlwiLHI6MCxnOjAsYjowLGFscGhhOjB9OnZvaWQgMCxcInNyZ2JcIl0sc2VyaWFsaXplOlwic3JnYlwiLGludGVycG9sYXRlOntyOnRlLGc6dGUsYjp0ZSxhbHBoYTp7dXNlOnRlLGZpeHVwOm5lfX0sZ2FtdXQ6ITAsd2hpdGU6e3I6MSxnOjEsYjoxfSxibGFjazp7cjowLGc6MCxiOjB9fSxpZT0oZT0wKT0+TWF0aC5wb3coTWF0aC5hYnMoZSksNTYzLzI1NikqTWF0aC5zaWduKGUpLGxlPWU9PntsZXQgcj1pZShlLnIpLHQ9aWUoZS5nKSxvPWllKGUuYiksbj17bW9kZTpcInh5ejY1XCIseDouNTc2NjY5MDQyOTEwMTMwNSpyKy4xODU1NTgyMzc5MDY1NDYzKnQrLjE4ODIyODY0NjIzNDk5NDcqbyx5Oi4yOTczNDQ5NzUyNTA1MzYqcisuNjI3MzYzNTY2MjU1NDY2MSp0Ky4wNzUyOTE0NTg0OTM5OTc5Km8sejouMDI3MDMxMzYxMzg2NDEyMypyKy4wNzA2ODg4NTI1MzU4MjcyKnQrLjk5MTMzNzUzNjgzNzYzODYqb307cmV0dXJuIHZvaWQgMCE9PWUuYWxwaGEmJihuLmFscGhhPWUuYWxwaGEpLG59LGNlPWU9Pk1hdGgucG93KE1hdGguYWJzKGUpLDI1Ni81NjMpKk1hdGguc2lnbihlKSxzZT0oe3g6ZSx5OnIsejp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPXttb2RlOlwiYTk4XCIscjpjZSgyLjA0MTU4NzkwMzgxMDc0NjUqZS0uNTY1MDA2OTc0Mjc4ODU5NypyLS4zNDQ3MzEzNTA3NzgzMjk3KnQpLGc6Y2UoLS45NjkyNDM2MzYyODA4Nzk4KmUrMS44NzU5Njc1MDE1MDc3MjA2KnIrLjA0MTU1NTA1NzQwNzE3NTYqdCksYjpjZSguMDEzNDQ0MjgwNjMyMDMxMiplLS4xMTgzNjIzOTIyMzEwMTg0KnIrMS4wMTUxNzQ5OTQzOTEyMDU4KnQpfTtyZXR1cm4gdm9pZCAwIT09byYmKG4uYWxwaGE9byksbn0sdWU9KGU9MCk9Pntjb25zdCByPU1hdGguYWJzKGUpO3JldHVybiByPD0uMDQwNDU/ZS8xMi45MjooTWF0aC5zaWduKGUpfHwxKSpNYXRoLnBvdygocisuMDU1KS8xLjA1NSwyLjQpfSxkZT0oe3I6ZSxnOnIsYjp0LGFscGhhOm99KT0+e2xldCBuPXttb2RlOlwibHJnYlwiLHI6dWUoZSksZzp1ZShyKSxiOnVlKHQpfTtyZXR1cm4gdm9pZCAwIT09byYmKG4uYWxwaGE9byksbn0sZmU9ZT0+e2xldHtyLGc6dCxiOm8sYWxwaGE6bn09ZGUoZSksYT17bW9kZTpcInh5ejY1XCIseDouNDEyMzkwNzk5MjY1OTU5MypyKy4zNTc1ODQzMzkzODM4NzgqdCsuMTgwNDgwNzg4NDAxODM0MypvLHk6LjIxMjYzOTAwNTg3MTUxMDIqcisuNzE1MTY4Njc4NzY3NzU2KnQrLjA3MjE5MjMxNTM2MDczMzcqbyx6Oi4wMTkzMzA4MTg3MTU1OTE4KnIrLjExOTE5NDc3OTc5NDYyNip0Ky45NTA1MzIxNTIyNDk2NjA3Km99O3JldHVybiB2b2lkIDAhPT1uJiYoYS5hbHBoYT1uKSxhfSxwZT0oZT0wKT0+e2NvbnN0IHI9TWF0aC5hYnMoZSk7cmV0dXJuIHI+LjAwMzEzMDg/KE1hdGguc2lnbihlKXx8MSkqKDEuMDU1Kk1hdGgucG93KHIsMS8yLjQpLS4wNTUpOjEyLjkyKmV9LGdlPSh7cjplLGc6cixiOnQsYWxwaGE6b30sbj1cInJnYlwiKT0+e2xldCBhPXttb2RlOm4scjpwZShlKSxnOnBlKHIpLGI6cGUodCl9O3JldHVybiB2b2lkIDAhPT1vJiYoYS5hbHBoYT1vKSxhfSxoZT0oe3g6ZSx5OnIsejp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPWdlKHtyOjMuMjQwOTY5OTQxOTA0NTIyNiplLTEuNTM3MzgzMTc3NTcwMDk0KnItLjQ5ODYxMDc2MDI5MzAwMzQqdCxnOi0uOTY5MjQzNjM2MjgwODc5NiplKzEuODc1OTY3NTAxNTA3NzIwNCpyKy4wNDE1NTUwNTc0MDcxNzU2KnQsYjouMDU1NjMwMDc5Njk2OTkzNiplLS4yMDM5NzY5NTg4ODg5NzY1KnIrMS4wNTY5NzE1MTQyNDI4Nzg0KnR9KTtyZXR1cm4gdm9pZCAwIT09byYmKG4uYWxwaGE9byksbn0sYmU9ey4uLmFlLG1vZGU6XCJhOThcIixwYXJzZTpbXCJhOTgtcmdiXCJdLHNlcmlhbGl6ZTpcImE5OC1yZ2JcIixmcm9tTW9kZTp7cmdiOmU9PnNlKGZlKGUpKSx4eXo2NTpzZX0sdG9Nb2RlOntyZ2I6ZT0+aGUobGUoZSkpLHh5ejY1OmxlfX0sdmU9ZT0+KGUlPTM2MCk8MD9lKzM2MDplLG1lPWU9PihlPT5lLm1hcCgocix0LG8pPT57aWYodm9pZCAwPT09cilyZXR1cm4gcjtsZXQgbj12ZShyKTtyZXR1cm4gMD09PXR8fHZvaWQgMD09PWVbdC0xXT9uOihlPT5NYXRoLmFicyhlKTw9MTgwP2U6ZS0zNjAqTWF0aC5zaWduKGUpKShuLXZlKG9bdC0xXSkpfSkucmVkdWNlKChlLHIpPT5lLmxlbmd0aCYmdm9pZCAwIT09ciYmdm9pZCAwIT09ZVtlLmxlbmd0aC0xXT8oZS5wdXNoKHIrZVtlLmxlbmd0aC0xXSksZSk6KGUucHVzaChyKSxlKSxbXSkpKGUpLHllPVstLjE0ODYxLDEuNzgyNzcsLS4yOTIyNywtLjkwNjQ5LDEuOTcyOTQsMF0sd2U9TWF0aC5QSS8xODAsX2U9MTgwL01hdGguUEk7bGV0IGtlPXllWzNdKnllWzRdLHhlPXllWzFdKnllWzRdLFBlPXllWzFdKnllWzJdLXllWzBdKnllWzNdO2NvbnN0IFNlPShlLHIpPT57aWYodm9pZCAwPT09ZS5ofHx2b2lkIDA9PT1yLmh8fCFlLnN8fCFyLnMpcmV0dXJuIDA7bGV0IHQ9dmUoZS5oKSxvPXZlKHIuaCksbj1NYXRoLnNpbigoby10KzM2MCkvMipNYXRoLlBJLzE4MCk7cmV0dXJuIDIqTWF0aC5zcXJ0KGUucypyLnMpKm59LE1lPShlLHIpPT57aWYodm9pZCAwPT09ZS5ofHx2b2lkIDA9PT1yLmh8fCFlLmN8fCFyLmMpcmV0dXJuIDA7bGV0IHQ9dmUoZS5oKSxvPXZlKHIuaCksbj1NYXRoLnNpbigoby10KzM2MCkvMipNYXRoLlBJLzE4MCk7cmV0dXJuIDIqTWF0aC5zcXJ0KGUuYypyLmMpKm59LEllPWU9PntsZXQgcj1lLnJlZHVjZSgoZSxyKT0+e2lmKHZvaWQgMCE9PXIpe2xldCB0PXIqTWF0aC5QSS8xODA7ZS5zaW4rPU1hdGguc2luKHQpLGUuY29zKz1NYXRoLmNvcyh0KX1yZXR1cm4gZX0se3NpbjowLGNvczowfSksdD0xODAqTWF0aC5hdGFuMihyLnNpbixyLmNvcykvTWF0aC5QSTtyZXR1cm4gdDwwPzM2MCt0OnR9LENlPXttb2RlOlwiY3ViZWhlbGl4XCIsY2hhbm5lbHM6W1wiaFwiLFwic1wiLFwibFwiLFwiYWxwaGFcIl0scGFyc2U6W1wiLS1jdWJlaGVsaXhcIl0sc2VyaWFsaXplOlwiLS1jdWJlaGVsaXhcIixyYW5nZXM6e2g6WzAsMzYwXSxzOlswLDQuNjE0XSxsOlswLDFdfSxmcm9tTW9kZTp7cmdiOih7cjplLGc6cixiOnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49KFBlKnQrZSprZS1yKnhlKS8oUGUra2UteGUpLGE9dC1uLGk9KHllWzRdKihyLW4pLXllWzJdKmEpL3llWzNdLGw9e21vZGU6XCJjdWJlaGVsaXhcIixsOm4sczowPT09bnx8MT09PW4/dm9pZCAwOk1hdGguc3FydChhKmEraSppKS8oeWVbNF0qbiooMS1uKSl9O3JldHVybiBsLnMmJihsLmg9TWF0aC5hdGFuMihpLGEpKl9lLTEyMCksdm9pZCAwIT09byYmKGwuYWxwaGE9byksbH19LHRvTW9kZTp7cmdiOih7aDplLHM6cixsOnQsYWxwaGE6b30pPT57bGV0IG49e21vZGU6XCJyZ2JcIn07ZT0odm9pZCAwPT09ZT8wOmUrMTIwKSp3ZSx2b2lkIDA9PT10JiYodD0wKTtsZXQgYT12b2lkIDA9PT1yPzA6cip0KigxLXQpLGk9TWF0aC5jb3MoZSksbD1NYXRoLnNpbihlKTtyZXR1cm4gbi5yPXQrYSooeWVbMF0qaSt5ZVsxXSpsKSxuLmc9dCthKih5ZVsyXSppK3llWzNdKmwpLG4uYj10K2EqKHllWzRdKmkreWVbNV0qbCksdm9pZCAwIT09byYmKG4uYWxwaGE9byksbn19LGludGVycG9sYXRlOntoOnt1c2U6dGUsZml4dXA6bWV9LHM6dGUsbDp0ZSxhbHBoYTp7dXNlOnRlLGZpeHVwOm5lfX0sZGlmZmVyZW5jZTp7aDpTZX0sYXZlcmFnZTp7aDpJZX19LEFlPSh7bDplLGE6cixiOnQsYWxwaGE6b30sbj1cImxjaFwiKT0+e3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBhPU1hdGguc3FydChyKnIrdCp0KSxpPXttb2RlOm4sbDplLGM6YX07cmV0dXJuIGEmJihpLmg9dmUoMTgwKk1hdGguYXRhbjIodCxyKS9NYXRoLlBJKSksdm9pZCAwIT09byYmKGkuYWxwaGE9byksaX0sT2U9KHtsOmUsYzpyLGg6dCxhbHBoYTpvfSxuPVwibGFiXCIpPT57dm9pZCAwPT09dCYmKHQ9MCk7bGV0IGE9e21vZGU6bixsOmUsYTpyP3IqTWF0aC5jb3ModC8xODAqTWF0aC5QSSk6MCxiOnI/cipNYXRoLnNpbih0LzE4MCpNYXRoLlBJKTowfTtyZXR1cm4gdm9pZCAwIT09byYmKGEuYWxwaGE9byksYX0sRmU9TWF0aC5wb3coMjksMykvTWF0aC5wb3coMywzKSxXZT1NYXRoLnBvdyg2LDMpL01hdGgucG93KDI5LDMpLHplPS4zNDU3Ly4zNTg1LFRlPS4yOTU4Ly4zNTg1LERlPS4zMTI3Ly4zMjksQmU9LjM1ODMvLjMyOTtNYXRoLnBvdygyOSwzKSxNYXRoLnBvdygzLDMpLE1hdGgucG93KDYsMyksTWF0aC5wb3coMjksMyk7bGV0IFJlPWU9Pk1hdGgucG93KGUsMyk+V2U/TWF0aC5wb3coZSwzKTooMTE2KmUtMTYpL0ZlO2NvbnN0IEVlPSh7bDplLGE6cixiOnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49KGUrMTYpLzExNixhPW4tdC8yMDAsaT17bW9kZTpcInh5ejY1XCIseDpSZShyLzUwMCtuKSpEZSx5OjEqUmUobiksejpSZShhKSpCZX07cmV0dXJuIHZvaWQgMCE9PW8mJihpLmFscGhhPW8pLGl9LGplPWU9PmhlKEVlKGUpKSwkZT1lPT5lPldlP01hdGguY2JydChlKTooRmUqZSsxNikvMTE2LE5lPSh7eDplLHk6cix6OnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49JGUoZS9EZSksYT0kZShyLzEpLGk9e21vZGU6XCJsYWI2NVwiLGw6MTE2KmEtMTYsYTo1MDAqKG4tYSksYjoyMDAqKGEtJGUodC9CZSkpfTtyZXR1cm4gdm9pZCAwIT09byYmKGkuYWxwaGE9byksaX0sR2U9ZT0+e2xldCByPU5lKGZlKGUpKTtyZXR1cm4gZS5yPT09ZS5iJiZlLmI9PT1lLmcmJihyLmE9ci5iPTApLHJ9LExlPTI2LzE4MCpNYXRoLlBJLFVlPU1hdGguY29zKExlKSxWZT1NYXRoLnNpbihMZSkscWU9MTAwL01hdGgubG9nKDEuMzkpLEhlPSh7bDplLGM6cixoOnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49e21vZGU6XCJsYWI2NVwiLGw6KE1hdGguZXhwKDEqZS9xZSktMSkvLjAwMzl9LGE9KE1hdGguZXhwKC4wNDM1KnIqMSoxKS0xKS8uMDc1LGk9YSpNYXRoLmNvcyh0LzE4MCpNYXRoLlBJLUxlKSxsPWEqTWF0aC5zaW4odC8xODAqTWF0aC5QSS1MZSk7cmV0dXJuIG4uYT1pKlVlLWwvLjgzKlZlLG4uYj1pKlZlK2wvLjgzKlVlLHZvaWQgMCE9PW8mJihuLmFscGhhPW8pLG59LEtlPSh7bDplLGE6cixiOnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49cipVZSt0KlZlLGE9LjgzKih0KlVlLXIqVmUpLGk9TWF0aC5zcXJ0KG4qbithKmEpLGw9e21vZGU6XCJkbGNoXCIsbDpxZS8xKk1hdGgubG9nKDErLjAwMzkqZSksYzpNYXRoLmxvZygxKy4wNzUqaSkvLjA0MzV9O3JldHVybiBsLmMmJihsLmg9dmUoKE1hdGguYXRhbjIoYSxuKStMZSkvTWF0aC5QSSoxODApKSx2b2lkIDAhPT1vJiYobC5hbHBoYT1vKSxsfSxaZT1lPT5IZShBZShlLFwiZGxjaFwiKSksWWU9ZT0+T2UoS2UoZSksXCJkbGFiXCIpLFFlPXttb2RlOlwiZGxhYlwiLHBhcnNlOltcIi0tZGluOTlvLWxhYlwiXSxzZXJpYWxpemU6XCItLWRpbjk5by1sYWJcIix0b01vZGU6e2xhYjY1OlplLHJnYjplPT5qZShaZShlKSl9LGZyb21Nb2RlOntsYWI2NTpZZSxyZ2I6ZT0+WWUoR2UoZSkpfSxjaGFubmVsczpbXCJsXCIsXCJhXCIsXCJiXCIsXCJhbHBoYVwiXSxyYW5nZXM6e2w6WzAsMTAwXSxhOlstNDAuMDksNDUuNTAxXSxiOlstNDAuNDY5LDQ0LjM0NF19LGludGVycG9sYXRlOntsOnRlLGE6dGUsYjp0ZSxhbHBoYTp7dXNlOnRlLGZpeHVwOm5lfX19LEplPVFlLFhlPXttb2RlOlwiZGxjaFwiLHBhcnNlOltcIi0tZGluOTlvLWxjaFwiXSxzZXJpYWxpemU6XCItLWRpbjk5by1sY2hcIix0b01vZGU6e2xhYjY1OkhlLGRsYWI6ZT0+T2UoZSxcImRsYWJcIikscmdiOmU9PmplKEhlKGUpKX0sZnJvbU1vZGU6e2xhYjY1OktlLGRsYWI6ZT0+QWUoZSxcImRsY2hcIikscmdiOmU9PktlKEdlKGUpKX0sY2hhbm5lbHM6W1wibFwiLFwiY1wiLFwiaFwiLFwiYWxwaGFcIl0scmFuZ2VzOntsOlswLDEwMF0sYzpbMCw1MS40ODRdLGg6WzAsMzYwXX0saW50ZXJwb2xhdGU6e2w6dGUsYzp0ZSxoOnt1c2U6dGUsZml4dXA6bWV9LGFscGhhOnt1c2U6dGUsZml4dXA6bmV9fSxkaWZmZXJlbmNlOntoOk1lfSxhdmVyYWdlOntoOkllfX0sZXI9WGUscnI9e21vZGU6XCJoc2lcIix0b01vZGU6e3JnYjpmdW5jdGlvbih7aDplLHM6cixpOnQsYWxwaGE6b30pe2U9dmUodm9pZCAwIT09ZT9lOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuLGE9TWF0aC5hYnMoZS82MCUyLTEpO3N3aXRjaChNYXRoLmZsb29yKGUvNjApKXtjYXNlIDA6bj17cjp0KigxK3IqKDMvKDItYSktMSkpLGc6dCooMStyKigzKigxLWEpLygyLWEpLTEpKSxiOnQqKDEtcil9O2JyZWFrO2Nhc2UgMTpuPXtyOnQqKDErciooMyooMS1hKS8oMi1hKS0xKSksZzp0KigxK3IqKDMvKDItYSktMSkpLGI6dCooMS1yKX07YnJlYWs7Y2FzZSAyOm49e3I6dCooMS1yKSxnOnQqKDErciooMy8oMi1hKS0xKSksYjp0KigxK3IqKDMqKDEtYSkvKDItYSktMSkpfTticmVhaztjYXNlIDM6bj17cjp0KigxLXIpLGc6dCooMStyKigzKigxLWEpLygyLWEpLTEpKSxiOnQqKDErciooMy8oMi1hKS0xKSl9O2JyZWFrO2Nhc2UgNDpuPXtyOnQqKDErciooMyooMS1hKS8oMi1hKS0xKSksZzp0KigxLXIpLGI6dCooMStyKigzLygyLWEpLTEpKX07YnJlYWs7Y2FzZSA1Om49e3I6dCooMStyKigzLygyLWEpLTEpKSxnOnQqKDEtciksYjp0KigxK3IqKDMqKDEtYSkvKDItYSktMSkpfTticmVhaztkZWZhdWx0Om49e3I6dCooMS1yKSxnOnQqKDEtciksYjp0KigxLXIpfX1yZXR1cm4gbi5tb2RlPVwicmdiXCIsdm9pZCAwIT09byYmKG4uYWxwaGE9byksbn19LHBhcnNlOltcIi0taHNpXCJdLHNlcmlhbGl6ZTpcIi0taHNpXCIsZnJvbU1vZGU6e3JnYjpmdW5jdGlvbih7cjplLGc6cixiOnQsYWxwaGE6b30pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPU1hdGgubWF4KGUscix0KSxhPU1hdGgubWluKGUscix0KSxpPXttb2RlOlwiaHNpXCIsczplK3IrdD09PTA/MDoxLTMqYS8oZStyK3QpLGk6KGUrcit0KS8zfTtyZXR1cm4gbi1hIT09MCYmKGkuaD02MCoobj09PWU/KHItdCkvKG4tYSkrNioocjx0KTpuPT09cj8odC1lKS8obi1hKSsyOihlLXIpLyhuLWEpKzQpKSx2b2lkIDAhPT1vJiYoaS5hbHBoYT1vKSxpfX0sY2hhbm5lbHM6W1wiaFwiLFwic1wiLFwiaVwiLFwiYWxwaGFcIl0scmFuZ2VzOntoOlswLDM2MF19LGdhbXV0OlwicmdiXCIsaW50ZXJwb2xhdGU6e2g6e3VzZTp0ZSxmaXh1cDptZX0sczp0ZSxpOnRlLGFscGhhOnt1c2U6dGUsZml4dXA6bmV9fSxkaWZmZXJlbmNlOntoOlNlfSxhdmVyYWdlOntoOkllfX0sdHI9cnIsb3I9bmV3IFJlZ0V4cChgXmhzbGE/XFxcXChcXFxccyoke1B9JHtTfSR7a30ke1N9JHtrfVxcXFxzKig/OixcXFxccyoke3h9XFxcXHMqKT9cXFxcKSRgKSxucj17bW9kZTpcImhzbFwiLHRvTW9kZTp7cmdiOmZ1bmN0aW9uKHtoOmUsczpyLGw6dCxhbHBoYTpvfSl7ZT12ZSh2b2lkIDAhPT1lP2U6MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG4sYT10K3IqKHQ8LjU/dDoxLXQpLGk9YS0yKihhLXQpKk1hdGguYWJzKGUvNjAlMi0xKTtzd2l0Y2goTWF0aC5mbG9vcihlLzYwKSl7Y2FzZSAwOm49e3I6YSxnOmksYjoyKnQtYX07YnJlYWs7Y2FzZSAxOm49e3I6aSxnOmEsYjoyKnQtYX07YnJlYWs7Y2FzZSAyOm49e3I6Mip0LWEsZzphLGI6aX07YnJlYWs7Y2FzZSAzOm49e3I6Mip0LWEsZzppLGI6YX07YnJlYWs7Y2FzZSA0Om49e3I6aSxnOjIqdC1hLGI6YX07YnJlYWs7Y2FzZSA1Om49e3I6YSxnOjIqdC1hLGI6aX07YnJlYWs7ZGVmYXVsdDpuPXtyOjIqdC1hLGc6Mip0LWEsYjoyKnQtYX19cmV0dXJuIG4ubW9kZT1cInJnYlwiLHZvaWQgMCE9PW8mJihuLmFscGhhPW8pLG59fSxmcm9tTW9kZTp7cmdiOmZ1bmN0aW9uKHtyOmUsZzpyLGI6dCxhbHBoYTpvfSl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49TWF0aC5tYXgoZSxyLHQpLGE9TWF0aC5taW4oZSxyLHQpLGk9e21vZGU6XCJoc2xcIixzOm49PT1hPzA6KG4tYSkvKDEtTWF0aC5hYnMobithLTEpKSxsOi41KihuK2EpfTtyZXR1cm4gbi1hIT09MCYmKGkuaD02MCoobj09PWU/KHItdCkvKG4tYSkrNioocjx0KTpuPT09cj8odC1lKS8obi1hKSsyOihlLXIpLyhuLWEpKzQpKSx2b2lkIDAhPT1vJiYoaS5hbHBoYT1vKSxpfX0sY2hhbm5lbHM6W1wiaFwiLFwic1wiLFwibFwiLFwiYWxwaGFcIl0scmFuZ2VzOntoOlswLDM2MF19LGdhbXV0OlwicmdiXCIscGFyc2U6W2Z1bmN0aW9uKGUscil7aWYoIXJ8fFwiaHNsXCIhPT1yWzBdJiZcImhzbGFcIiE9PXJbMF0pcmV0dXJuO2NvbnN0IHQ9e21vZGU6XCJoc2xcIn0sWyxvLG4sYSxpXT1yO2lmKG8udHlwZSE9PUwpe2lmKG8udHlwZT09PUcpcmV0dXJuO3QuaD1vLnZhbHVlfWlmKG4udHlwZSE9PUwpe2lmKG4udHlwZT09PVUpcmV0dXJuO3Qucz1uLnZhbHVlLzEwMH1pZihhLnR5cGUhPT1MKXtpZihhLnR5cGU9PT1VKXJldHVybjt0Lmw9YS52YWx1ZS8xMDB9cmV0dXJuIGkudHlwZSE9PUwmJih0LmFscGhhPU1hdGgubWluKDEsTWF0aC5tYXgoMCxpLnR5cGU9PT1OP2kudmFsdWU6aS52YWx1ZS8xMDApKSksdH0sZT0+e2xldCByPWUubWF0Y2gob3IpO2lmKCFyKXJldHVybjtsZXQgdD17bW9kZTpcImhzbFwifTtyZXR1cm4gdm9pZCAwIT09clszXT90Lmg9K3JbM106dm9pZCAwIT09clsxXSYmdm9pZCAwIT09clsyXSYmKHQuaD0oKGUscik9Pntzd2l0Y2gocil7Y2FzZVwiZGVnXCI6cmV0dXJuK2U7Y2FzZVwicmFkXCI6cmV0dXJuIGUvTWF0aC5QSSoxODA7Y2FzZVwiZ3JhZFwiOnJldHVybiBlLzEwKjk7Y2FzZVwidHVyblwiOnJldHVybiAzNjAqZX19KShyWzFdLHJbMl0pKSx2b2lkIDAhPT1yWzRdJiYodC5zPU1hdGgubWluKE1hdGgubWF4KDAscls0XS8xMDApLDEpKSx2b2lkIDAhPT1yWzVdJiYodC5sPU1hdGgubWluKE1hdGgubWF4KDAscls1XS8xMDApLDEpKSx2b2lkIDAhPT1yWzZdP3QuYWxwaGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHJbNl0vMTAwKSk6dm9pZCAwIT09cls3XSYmKHQuYWxwaGE9TWF0aC5tYXgoMCxNYXRoLm1pbigxLCtyWzddKSkpLHR9XSxzZXJpYWxpemU6ZT0+YGhzbCgke3ZvaWQgMCE9PWUuaD9lLmg6XCJub25lXCJ9ICR7dm9pZCAwIT09ZS5zPzEwMCplLnMrXCIlXCI6XCJub25lXCJ9ICR7dm9pZCAwIT09ZS5sPzEwMCplLmwrXCIlXCI6XCJub25lXCJ9JHtlLmFscGhhPDE/YCAvICR7ZS5hbHBoYX1gOlwiXCJ9KWAsaW50ZXJwb2xhdGU6e2g6e3VzZTp0ZSxmaXh1cDptZX0sczp0ZSxsOnRlLGFscGhhOnt1c2U6dGUsZml4dXA6bmV9fSxkaWZmZXJlbmNlOntoOlNlfSxhdmVyYWdlOntoOkllfX0sYXI9bnI7ZnVuY3Rpb24gaXIoe2g6ZSxzOnIsdjp0LGFscGhhOm99KXtlPXZlKHZvaWQgMCE9PWU/ZTowKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT10JiYodD0wKTtsZXQgbixhPU1hdGguYWJzKGUvNjAlMi0xKTtzd2l0Y2goTWF0aC5mbG9vcihlLzYwKSl7Y2FzZSAwOm49e3I6dCxnOnQqKDEtciphKSxiOnQqKDEtcil9O2JyZWFrO2Nhc2UgMTpuPXtyOnQqKDEtciphKSxnOnQsYjp0KigxLXIpfTticmVhaztjYXNlIDI6bj17cjp0KigxLXIpLGc6dCxiOnQqKDEtciphKX07YnJlYWs7Y2FzZSAzOm49e3I6dCooMS1yKSxnOnQqKDEtciphKSxiOnR9O2JyZWFrO2Nhc2UgNDpuPXtyOnQqKDEtciphKSxnOnQqKDEtciksYjp0fTticmVhaztjYXNlIDU6bj17cjp0LGc6dCooMS1yKSxiOnQqKDEtciphKX07YnJlYWs7ZGVmYXVsdDpuPXtyOnQqKDEtciksZzp0KigxLXIpLGI6dCooMS1yKX19cmV0dXJuIG4ubW9kZT1cInJnYlwiLHZvaWQgMCE9PW8mJihuLmFscGhhPW8pLG59ZnVuY3Rpb24gbHIoe3I6ZSxnOnIsYjp0LGFscGhhOm99KXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT10JiYodD0wKTtsZXQgbj1NYXRoLm1heChlLHIsdCksYT1NYXRoLm1pbihlLHIsdCksaT17bW9kZTpcImhzdlwiLHM6MD09PW4/MDoxLWEvbix2Om59O3JldHVybiBuLWEhPT0wJiYoaS5oPTYwKihuPT09ZT8oci10KS8obi1hKSs2KihyPHQpOm49PT1yPyh0LWUpLyhuLWEpKzI6KGUtcikvKG4tYSkrNCkpLHZvaWQgMCE9PW8mJihpLmFscGhhPW8pLGl9Y29uc3QgY3I9e21vZGU6XCJoc3ZcIix0b01vZGU6e3JnYjppcn0scGFyc2U6W1wiLS1oc3ZcIl0sc2VyaWFsaXplOlwiLS1oc3ZcIixmcm9tTW9kZTp7cmdiOmxyfSxjaGFubmVsczpbXCJoXCIsXCJzXCIsXCJ2XCIsXCJhbHBoYVwiXSxyYW5nZXM6e2g6WzAsMzYwXX0sZ2FtdXQ6XCJyZ2JcIixpbnRlcnBvbGF0ZTp7aDp7dXNlOnRlLGZpeHVwOm1lfSxzOnRlLHY6dGUsYWxwaGE6e3VzZTp0ZSxmaXh1cDpuZX19LGRpZmZlcmVuY2U6e2g6U2V9LGF2ZXJhZ2U6e2g6SWV9fSxzcj17bW9kZTpcImh3YlwiLHRvTW9kZTp7cmdiOmZ1bmN0aW9uKHtoOmUsdzpyLGI6dCxhbHBoYTpvfSl7aWYodm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCkscit0PjEpe2xldCBlPXIrdDtyLz1lLHQvPWV9cmV0dXJuIGlyKHtoOmUsczoxPT09dD8xOjEtci8oMS10KSx2OjEtdCxhbHBoYTpvfSl9fSxmcm9tTW9kZTp7cmdiOmZ1bmN0aW9uKGUpe2xldCByPWxyKGUpO2lmKHZvaWQgMD09PXIpcmV0dXJuO2xldCB0PXZvaWQgMCE9PXIucz9yLnM6MCxvPXZvaWQgMCE9PXIudj9yLnY6MCxuPXttb2RlOlwiaHdiXCIsdzooMS10KSpvLGI6MS1vfTtyZXR1cm4gdm9pZCAwIT09ci5oJiYobi5oPXIuaCksdm9pZCAwIT09ci5hbHBoYSYmKG4uYWxwaGE9ci5hbHBoYSksbn19LGNoYW5uZWxzOltcImhcIixcIndcIixcImJcIixcImFscGhhXCJdLHJhbmdlczp7aDpbMCwzNjBdfSxnYW11dDpcInJnYlwiLHBhcnNlOltmdW5jdGlvbihlLHIpe2lmKCFyfHxcImh3YlwiIT09clswXSlyZXR1cm47Y29uc3QgdD17bW9kZTpcImh3YlwifSxbLG8sbixhLGldPXI7aWYoby50eXBlIT09TCl7aWYoby50eXBlPT09RylyZXR1cm47dC5oPW8udmFsdWV9aWYobi50eXBlIT09TCl7aWYobi50eXBlPT09VSlyZXR1cm47dC53PW4udmFsdWUvMTAwfWlmKGEudHlwZSE9PUwpe2lmKGEudHlwZT09PVUpcmV0dXJuO3QuYj1hLnZhbHVlLzEwMH1yZXR1cm4gaS50eXBlIT09TCYmKHQuYWxwaGE9TWF0aC5taW4oMSxNYXRoLm1heCgwLGkudHlwZT09PU4/aS52YWx1ZTppLnZhbHVlLzEwMCkpKSx0fV0sc2VyaWFsaXplOmU9PmBod2IoJHt2b2lkIDAhPT1lLmg/ZS5oOlwibm9uZVwifSAke3ZvaWQgMCE9PWUudz8xMDAqZS53K1wiJVwiOlwibm9uZVwifSAke3ZvaWQgMCE9PWUuYj8xMDAqZS5iK1wiJVwiOlwibm9uZVwifSR7ZS5hbHBoYTwxP2AgLyAke2UuYWxwaGF9YDpcIlwifSlgLGludGVycG9sYXRlOntoOnt1c2U6dGUsZml4dXA6bWV9LHc6dGUsYjp0ZSxhbHBoYTp7dXNlOnRlLGZpeHVwOm5lfX0sZGlmZmVyZW5jZTp7aDooZSxyKT0+e2lmKHZvaWQgMD09PWUuaHx8dm9pZCAwPT09ci5oKXJldHVybiAwO2xldCB0PXZlKGUuaCksbz12ZShyLmgpO3JldHVybiBNYXRoLmFicyhvLXQpPjE4MD90LShvLTM2MCpNYXRoLnNpZ24oby10KSk6by10fX0sYXZlcmFnZTp7aDpJZX19LHVyPXNyLGRyPS4xNTkzMDE3NTc4MTI1LGZyPTc4Ljg0Mzc1LHByPS44MzU5Mzc1LGdyPTE4Ljg1MTU2MjUsaHI9MTguNjg3NTtmdW5jdGlvbiBicihlKXtpZihlPDApcmV0dXJuIDA7Y29uc3Qgcj1NYXRoLnBvdyhlLDEvZnIpO3JldHVybiAxZTQqTWF0aC5wb3coTWF0aC5tYXgoMCxyLXByKS8oZ3ItaHIqciksMS9kcil9ZnVuY3Rpb24gdnIoZSl7aWYoZTwwKXJldHVybiAwO2NvbnN0IHI9TWF0aC5wb3coZS8xZTQsZHIpO3JldHVybiBNYXRoLnBvdygocHIrZ3IqcikvKDEraHIqciksZnIpfWNvbnN0IG1yPWU9Pk1hdGgubWF4KGUvMjAzLDApLHlyPSh7aTplLHQ6cixwOnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7Y29uc3Qgbj1icihlKy4wMDg2MDkwMzcwMzc5MzI3NjEqcisuMTExMDI5NjI1MDAzMDI1OTMqdCksYT1icihlLS4wMDg2MDkwMzcwMzc5MzI3NSpyLS4xMTEwMjk2MjUwMDMwMjU5OSp0KSxpPWJyKGUrLjU2MDAzMTMzNTcxMDY3OTEqci0uMzIwNjI3MTc0OTg3MzE4ODUqdCksbD17bW9kZTpcInh5ejY1XCIseDptcigyLjA3MDE1MjIxODM4OTQyMipuLTEuMzI2MzQ3MzM4OTY3MTU1NiphKy4yMDY2NTEwNDc2Mjk0MDUxKmkpLHk6bXIoLjM2NDczODUyMDk3NDgwNzQqbisuNjgwNTY2MDI0OTQ3MjI3KmEtLjA0NTMwNDU0NTkyMjAzNDYqaSksejptcigtLjA0OTc0NzIwNzUzNTgxMipuLS4wNDkyNjA5NjY2OTY2MTM4KmErMS4xODgwNjU5MjQ5OTIzMDQyKmkpfTtyZXR1cm4gdm9pZCAwIT09byYmKGwuYWxwaGE9byksbH0sd3I9KGU9MCk9Pk1hdGgubWF4KDIwMyplLDApLF9yPSh7eDplLHk6cix6OnQsYWxwaGE6b30pPT57Y29uc3Qgbj13cihlKSxhPXdyKHIpLGk9d3IodCksbD12ciguMzU5MjgzMjU5MDEyMTIxNypuKy42OTc2MDUxMTQ3Nzc5NTAyKmEtLjAzNTg5MTU5MzIzMjAyODkqaSksYz12cigtLjE5MjA4MDg0NjM3MDQ5OTUqbisxLjEwMDQ3Njc5NzAzNzQzMjMqYSsuMDc1Mzc0ODY1ODUxOTExOCppKSxzPXZyKC4wMDcwNzk3ODQ0NjA3NDc3Km4rLjA3NDgzOTY2NjIxODYzNjYqYSsuODQzMzI2NTQ1Mzg5ODc2NSppKSx1PXttb2RlOlwiaXRwXCIsaTouNSpsKy41KmMsdDoxLjYxMzc2OTUzMTI1KmwtMy4zMjM0ODYzMjgxMjUqYysxLjcwOTcxNjc5Njg3NSpzLHA6NC4zNzgxNzM4MjgxMjUqbC00LjI0NTYwNTQ2ODc1KmMtLjEzMjU2ODM1OTM3NSpzfTtyZXR1cm4gdm9pZCAwIT09byYmKHUuYWxwaGE9byksdX0sa3I9e21vZGU6XCJpdHBcIixjaGFubmVsczpbXCJpXCIsXCJ0XCIsXCJwXCIsXCJhbHBoYVwiXSxwYXJzZTpbXCItLWljdGNwXCJdLHNlcmlhbGl6ZTpcIi0taWN0Y3BcIix0b01vZGU6e3h5ejY1OnlyLHJnYjplPT5oZSh5cihlKSl9LGZyb21Nb2RlOnt4eXo2NTpfcixyZ2I6ZT0+X3IoZmUoZSkpfSxyYW5nZXM6e2k6WzAsLjU4MV0sdDpbLS4zNjksLjI3Ml0scDpbLS4xNjQsLjMzMV19LGludGVycG9sYXRlOntpOnRlLHQ6dGUscDp0ZSxhbHBoYTp7dXNlOnRlLGZpeHVwOm5lfX19LHhyPWU9PntpZihlPDApcmV0dXJuIDA7bGV0IHI9TWF0aC5wb3coZS8xZTQsZHIpO3JldHVybiBNYXRoLnBvdygocHIrZ3IqcikvKDEraHIqciksMTM0LjAzNDM3NDk5OTk5OTk4KX0sUHI9KGU9MCk9Pk1hdGgubWF4KDIwMyplLDApLFNyPSh7eDplLHk6cix6OnQsYWxwaGE6b30pPT57ZT1QcihlKSxyPVByKHIpO2xldCBuPTEuMTUqZS0uMTUqKHQ9UHIodCkpLGE9LjY2KnIrLjM0KmUsaT14ciguNDE0Nzg5NzIqbisuNTc5OTk5KmErLjAxNDY0OCp0KSxsPXhyKC0uMjAxNTEqbisxLjEyMDY0OSphKy4wNTMxMDA4KnQpLGM9eHIoLS4wMTY2MDA4Km4rLjI2NDgqYSsuNjY4NDc5OSp0KSxzPShpK2wpLzIsdT17bW9kZTpcImphYlwiLGo6LjQ0KnMvKDEtLjU2KnMpLTE2Mjk1NDk5NTMyODIxNTY1ZS0yNyxhOjMuNTI0KmktNC4wNjY3MDgqbCsuNTQyNzA4KmMsYjouMTk5MDc2KmkrMS4wOTY3OTkqbC0xLjI5NTg3NSpjfTtyZXR1cm4gdm9pZCAwIT09byYmKHUuYWxwaGE9byksdX0sTXI9MTYyOTU0OTk1MzI4MjE1NjVlLTI3LElyPWU9PntpZihlPDApcmV0dXJuIDA7bGV0IHI9TWF0aC5wb3coZSwuMDA3NDYwNzcyNjU2MjY4MjE2KTtyZXR1cm4gMWU0Kk1hdGgucG93KChwci1yKS8oaHIqci1nciksMS9kcil9LENyPWU9PmUvMjAzLEFyPSh7ajplLGE6cixiOnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49KGUrTXIpLyguNDQrLjU2KihlK01yKSksYT1JcihuKy4xMzg2MDUwNCpyKy4wNTgwNDczMTYqdCksaT1JcihuLS4xMzg2MDUwNCpyLS4wNTgwNDczMTYqdCksbD1JcihuLS4wOTYwMTkyNDIqci0uODExODkxOSp0KSxjPXttb2RlOlwieHl6NjVcIix4OkNyKDEuNjYxMzczMDI0NjUyMTc0KmEtLjkxNDUyMzA4MTMwNDM0OCppKy4yMzEzNjIwODE3MzkxMzA0NSpsKSx5OkNyKC0uMzI1MDc1ODYxMTg0NDUzMyphKzEuNTcxODQ3MDI2NzMyNTQzKmktLjIxODI1MzgzNDUzMjI3OTI4KmwpLHo6Q3IoLS4wOTA5ODI4MTEqYS0uMzEyNzI4MjkqaSsxLjUyMjc2NjYqbCl9O3JldHVybiB2b2lkIDAhPT1vJiYoYy5hbHBoYT1vKSxjfSxPcj1lPT57bGV0IHI9U3IoZmUoZSkpO3JldHVybiBlLnI9PT1lLmImJmUuYj09PWUuZyYmKHIuYT1yLmI9MCkscn0sRnI9ZT0+aGUoQXIoZSkpLFdyPXttb2RlOlwiamFiXCIsY2hhbm5lbHM6W1wialwiLFwiYVwiLFwiYlwiLFwiYWxwaGFcIl0scGFyc2U6W1wiLS1qemF6YnpcIl0sc2VyaWFsaXplOlwiLS1qemF6YnpcIixmcm9tTW9kZTp7cmdiOk9yLHh5ejY1OlNyfSx0b01vZGU6e3JnYjpGcix4eXo2NTpBcn0scmFuZ2VzOntqOlswLC4yMjJdLGE6Wy0uMTA5LC4xMjldLGI6Wy0uMTg1LC4xMzRdfSxpbnRlcnBvbGF0ZTp7ajp0ZSxhOnRlLGI6dGUsYWxwaGE6e3VzZTp0ZSxmaXh1cDpuZX19fSx6cj0oe2o6ZSxhOnIsYjp0LGFscGhhOm99KT0+e3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPU1hdGguc3FydChyKnIrdCp0KSxhPXttb2RlOlwiamNoXCIsajplLGM6bn07cmV0dXJuIG4mJihhLmg9dmUoMTgwKk1hdGguYXRhbjIodCxyKS9NYXRoLlBJKSksdm9pZCAwIT09byYmKGEuYWxwaGE9byksYX0sVHI9KHtqOmUsYzpyLGg6dCxhbHBoYTpvfSk9Pnt2b2lkIDA9PT10JiYodD0wKTtsZXQgbj17bW9kZTpcImphYlwiLGo6ZSxhOnI/cipNYXRoLmNvcyh0LzE4MCpNYXRoLlBJKTowLGI6cj9yKk1hdGguc2luKHQvMTgwKk1hdGguUEkpOjB9O3JldHVybiB2b2lkIDAhPT1vJiYobi5hbHBoYT1vKSxufSxEcj17bW9kZTpcImpjaFwiLHBhcnNlOltcIi0tanpjemh6XCJdLHNlcmlhbGl6ZTpcIi0tanpjemh6XCIsdG9Nb2RlOntqYWI6VHIscmdiOmU9PkZyKFRyKGUpKX0sZnJvbU1vZGU6e3JnYjplPT56cihPcihlKSksamFiOnpyfSxjaGFubmVsczpbXCJqXCIsXCJjXCIsXCJoXCIsXCJhbHBoYVwiXSxyYW5nZXM6e2o6WzAsLjIyMV0sYzpbMCwuMTldLGg6WzAsMzYwXX0saW50ZXJwb2xhdGU6e2g6e3VzZTp0ZSxmaXh1cDptZX0sYzp0ZSxqOnRlLGFscGhhOnt1c2U6dGUsZml4dXA6bmV9fSxkaWZmZXJlbmNlOntoOk1lfSxhdmVyYWdlOntoOkllfX0sQnI9RHIsUnI9TWF0aC5wb3coMjksMykvTWF0aC5wb3coMywzKSxFcj1NYXRoLnBvdyg2LDMpL01hdGgucG93KDI5LDMpO2xldCBqcj1lPT5NYXRoLnBvdyhlLDMpPkVyP01hdGgucG93KGUsMyk6KDExNiplLTE2KS9Scjtjb25zdCAkcj0oe2w6ZSxhOnIsYjp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPShlKzE2KS8xMTYsYT1uLXQvMjAwLGk9e21vZGU6XCJ4eXo1MFwiLHg6anIoci81MDArbikqemUseToxKmpyKG4pLHo6anIoYSkqVGV9O3JldHVybiB2b2lkIDAhPT1vJiYoaS5hbHBoYT1vKSxpfSxOcj0oe3g6ZSx5OnIsejp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPWdlKHtyOjMuMTM0MTM1OTU2OTk1ODcwNyplLTEuNjE3Mzg2MzMyMTYxMjUzOCpyLS40OTA2NjE5NDYwMDgzNTMyKnQsZzotLjk3ODc5NTUwMjkxMjA4OSplKzEuOTE2MjU0NTY3MjU5NTI0KnIrLjAzMzQ0MjczMTE2MTMxOTQ5KnQsYjouMDcxOTU1Mzc5ODg0MTE2NzcqZS0uMjI4OTc2ODI2NDE1ODMyMipyKzEuNDA1Mzg2MDU4MzI0MTI1KnR9KTtyZXR1cm4gdm9pZCAwIT09byYmKG4uYWxwaGE9byksbn0sR3I9ZT0+TnIoJHIoZSkpLExyPWU9PntsZXR7cixnOnQsYjpvLGFscGhhOm59PWRlKGUpLGE9e21vZGU6XCJ4eXo1MFwiLHg6LjQzNjA2NTc0MjgyNDgxMSpyKy4zODUxNTE0Njg4MzM3OTEyKnQrLjE0MzA3ODQ1NDQyMjY0MTk3Km8seTouMjIyNDkzMTkxNzU2MjM3MDIqcisuNzE2ODg3MDUzODIzODgyMyp0Ky4wNjA2MTk3OTA1MzYxNjUzNypvLHo6LjAxMzkyMzkwNDUwMDk0MzQ2NSpyKy4wOTcwODEyODU2NjU3NDYzNCp0Ky43MTQwOTkzNTg0MDA1MTU1Km99O3JldHVybiB2b2lkIDAhPT1uJiYoYS5hbHBoYT1uKSxhfSxVcj1lPT5lPkVyP01hdGguY2JydChlKTooUnIqZSsxNikvMTE2LFZyPSh7eDplLHk6cix6OnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49VXIoZS96ZSksYT1VcihyLzEpLGk9e21vZGU6XCJsYWJcIixsOjExNiphLTE2LGE6NTAwKihuLWEpLGI6MjAwKihhLVVyKHQvVGUpKX07cmV0dXJuIHZvaWQgMCE9PW8mJihpLmFscGhhPW8pLGl9LHFyPWU9PntsZXQgcj1WcihMcihlKSk7cmV0dXJuIGUucj09PWUuYiYmZS5iPT09ZS5nJiYoci5hPXIuYj0wKSxyfSxIcj17bW9kZTpcImxhYlwiLHRvTW9kZTp7eHl6NTA6JHIscmdiOkdyfSxmcm9tTW9kZTp7eHl6NTA6VnIscmdiOnFyfSxjaGFubmVsczpbXCJsXCIsXCJhXCIsXCJiXCIsXCJhbHBoYVwiXSxyYW5nZXM6e2w6WzAsMTAwXSxhOlstMTI1LDEyNV0sYjpbLTEyNSwxMjVdfSxwYXJzZTpbZnVuY3Rpb24oZSxyKXtpZighcnx8XCJsYWJcIiE9PXJbMF0pcmV0dXJuO2NvbnN0IHQ9e21vZGU6XCJsYWJcIn0sWyxvLG4sYSxpXT1yO3JldHVybiBvLnR5cGUhPT1VJiZuLnR5cGUhPT1VJiZhLnR5cGUhPT1VPyhvLnR5cGUhPT1MJiYodC5sPU1hdGgubWluKE1hdGgubWF4KDAsby52YWx1ZSksMTAwKSksbi50eXBlIT09TCYmKHQuYT1uLnR5cGU9PT1OP24udmFsdWU6MTI1Km4udmFsdWUvMTAwKSxhLnR5cGUhPT1MJiYodC5iPWEudHlwZT09PU4/YS52YWx1ZToxMjUqYS52YWx1ZS8xMDApLGkudHlwZSE9PUwmJih0LmFscGhhPU1hdGgubWluKDEsTWF0aC5tYXgoMCxpLnR5cGU9PT1OP2kudmFsdWU6aS52YWx1ZS8xMDApKSksdCk6dm9pZCAwfV0sc2VyaWFsaXplOmU9PmBsYWIoJHt2b2lkIDAhPT1lLmw/ZS5sOlwibm9uZVwifSAke3ZvaWQgMCE9PWUuYT9lLmE6XCJub25lXCJ9ICR7dm9pZCAwIT09ZS5iP2UuYjpcIm5vbmVcIn0ke2UuYWxwaGE8MT9gIC8gJHtlLmFscGhhfWA6XCJcIn0pYCxpbnRlcnBvbGF0ZTp7bDp0ZSxhOnRlLGI6dGUsYWxwaGE6e3VzZTp0ZSxmaXh1cDpuZX19fSxLcj1Icixacj17Li4uS3IsbW9kZTpcImxhYjY1XCIscGFyc2U6W1wiLS1sYWItZDY1XCJdLHNlcmlhbGl6ZTpcIi0tbGFiLWQ2NVwiLHRvTW9kZTp7eHl6NjU6RWUscmdiOmplfSxmcm9tTW9kZTp7eHl6NjU6TmUscmdiOkdlfSxyYW5nZXM6e2w6WzAsMTAwXSxhOlstMTI1LDEyNV0sYjpbLTEyNSwxMjVdfX0sWXI9e21vZGU6XCJsY2hcIix0b01vZGU6e2xhYjpPZSxyZ2I6ZT0+R3IoT2UoZSkpfSxmcm9tTW9kZTp7cmdiOmU9PkFlKHFyKGUpKSxsYWI6QWV9LGNoYW5uZWxzOltcImxcIixcImNcIixcImhcIixcImFscGhhXCJdLHJhbmdlczp7bDpbMCwxMDBdLGM6WzAsMTUwXSxoOlswLDM2MF19LHBhcnNlOltmdW5jdGlvbihlLHIpe2lmKCFyfHxcImxjaFwiIT09clswXSlyZXR1cm47Y29uc3QgdD17bW9kZTpcImxjaFwifSxbLG8sbixhLGldPXI7aWYoby50eXBlIT09TCl7aWYoby50eXBlPT09VSlyZXR1cm47dC5sPU1hdGgubWluKE1hdGgubWF4KDAsby52YWx1ZSksMTAwKX1pZihuLnR5cGUhPT1MJiYodC5jPU1hdGgubWF4KDAsbi50eXBlPT09Tj9uLnZhbHVlOjE1MCpuLnZhbHVlLzEwMCkpLGEudHlwZSE9PUwpe2lmKGEudHlwZT09PUcpcmV0dXJuO3QuaD1hLnZhbHVlfXJldHVybiBpLnR5cGUhPT1MJiYodC5hbHBoYT1NYXRoLm1pbigxLE1hdGgubWF4KDAsaS50eXBlPT09Tj9pLnZhbHVlOmkudmFsdWUvMTAwKSkpLHR9XSxzZXJpYWxpemU6ZT0+YGxjaCgke3ZvaWQgMCE9PWUubD9lLmw6XCJub25lXCJ9ICR7dm9pZCAwIT09ZS5jP2UuYzpcIm5vbmVcIn0gJHt2b2lkIDAhPT1lLmg/ZS5oOlwibm9uZVwifSR7ZS5hbHBoYTwxP2AgLyAke2UuYWxwaGF9YDpcIlwifSlgLGludGVycG9sYXRlOntoOnt1c2U6dGUsZml4dXA6bWV9LGM6dGUsbDp0ZSxhbHBoYTp7dXNlOnRlLGZpeHVwOm5lfX0sZGlmZmVyZW5jZTp7aDpNZX0sYXZlcmFnZTp7aDpJZX19LFFyPVlyLEpyPXsuLi5Rcixtb2RlOlwibGNoNjVcIixwYXJzZTpbXCItLWxjaC1kNjVcIl0sc2VyaWFsaXplOlwiLS1sY2gtZDY1XCIsdG9Nb2RlOntsYWI2NTplPT5PZShlLFwibGFiNjVcIikscmdiOmU9PmplKE9lKGUsXCJsYWI2NVwiKSl9LGZyb21Nb2RlOntyZ2I6ZT0+QWUoR2UoZSksXCJsY2g2NVwiKSxsYWI2NTplPT5BZShlLFwibGNoNjVcIil9LHJhbmdlczp7bDpbMCwxMDBdLGM6WzAsMTUwXSxoOlswLDM2MF19fSxYcj1KcixldD0oe2w6ZSx1OnIsdjp0LGFscGhhOm99KT0+e3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPU1hdGguc3FydChyKnIrdCp0KSxhPXttb2RlOlwibGNodXZcIixsOmUsYzpufTtyZXR1cm4gbiYmKGEuaD12ZSgxODAqTWF0aC5hdGFuMih0LHIpL01hdGguUEkpKSx2b2lkIDAhPT1vJiYoYS5hbHBoYT1vKSxhfSxydD0oe2w6ZSxjOnIsaDp0LGFscGhhOm99KT0+e3ZvaWQgMD09PXQmJih0PTApO2xldCBuPXttb2RlOlwibHV2XCIsbDplLHU6cj9yKk1hdGguY29zKHQvMTgwKk1hdGguUEkpOjAsdjpyP3IqTWF0aC5zaW4odC8xODAqTWF0aC5QSSk6MH07cmV0dXJuIHZvaWQgMCE9PW8mJihuLmFscGhhPW8pLG59LHR0PShlLHIsdCk9PjQqZS8oZSsxNSpyKzMqdCksb3Q9KGUscix0KT0+OSpyLyhlKzE1KnIrMyp0KSxudD10dCh6ZSwxLFRlKSxhdD1vdCh6ZSwxLFRlKSxpdD0oe3g6ZSx5OnIsejp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPShhPXIvMSk8PUVyP1JyKmE6MTE2Kk1hdGguY2JydChhKS0xNjt2YXIgYTtsZXQgaT10dChlLHIsdCksbD1vdChlLHIsdCk7aXNGaW5pdGUoaSkmJmlzRmluaXRlKGwpPyhpPTEzKm4qKGktbnQpLGw9MTMqbioobC1hdCkpOm49aT1sPTA7bGV0IGM9e21vZGU6XCJsdXZcIixsOm4sdTppLHY6bH07cmV0dXJuIHZvaWQgMCE9PW8mJihjLmFscGhhPW8pLGN9LGx0PTQqKGN0PXplKS8oY3QrMTUrMypUZSk7dmFyIGN0O2NvbnN0IHN0PSh7bDplLHU6cix2OnQsYWxwaGE6b30pPT57aWYodm9pZCAwPT09ZSYmKGU9MCksMD09PWUpcmV0dXJue21vZGU6XCJ4eXo1MFwiLHg6MCx5OjAsejowfTt2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT10JiYodD0wKTtsZXQgbj1yLygxMyplKStsdCxhPXQvKDEzKmUpKy40ODgwNzk3NTA3MDM0MTU3LGk9MSooZTw9OD9lL1JyOk1hdGgucG93KChlKzE2KS8xMTYsMykpLGw9e21vZGU6XCJ4eXo1MFwiLHg6aSooOSpuKS8oNCphKSx5OmksejppKigxMi0zKm4tMjAqYSkvKDQqYSl9O3JldHVybiB2b2lkIDAhPT1vJiYobC5hbHBoYT1vKSxsfSx1dD17bW9kZTpcImxjaHV2XCIsdG9Nb2RlOntsdXY6cnQscmdiOmU9Pk5yKHN0KHJ0KGUpKSl9LGZyb21Nb2RlOntyZ2I6ZT0+ZXQoaXQoTHIoZSkpKSxsdXY6ZXR9LGNoYW5uZWxzOltcImxcIixcImNcIixcImhcIixcImFscGhhXCJdLHBhcnNlOltcIi0tbGNodXZcIl0sc2VyaWFsaXplOlwiLS1sY2h1dlwiLHJhbmdlczp7bDpbMCwxMDBdLGM6WzAsMTc2Ljk1Nl0saDpbMCwzNjBdfSxpbnRlcnBvbGF0ZTp7aDp7dXNlOnRlLGZpeHVwOm1lfSxjOnRlLGw6dGUsYWxwaGE6e3VzZTp0ZSxmaXh1cDpuZX19LGRpZmZlcmVuY2U6e2g6TWV9LGF2ZXJhZ2U6e2g6SWV9fSxkdD11dCxmdD17Li4uYWUsbW9kZTpcImxyZ2JcIix0b01vZGU6e3JnYjpnZX0sZnJvbU1vZGU6e3JnYjpkZX0scGFyc2U6W1wic3JnYi1saW5lYXJcIl0sc2VyaWFsaXplOlwic3JnYi1saW5lYXJcIn0scHQ9e21vZGU6XCJsdXZcIix0b01vZGU6e3h5ejUwOnN0LHJnYjplPT5OcihzdChlKSl9LGZyb21Nb2RlOnt4eXo1MDppdCxyZ2I6ZT0+aXQoTHIoZSkpfSxjaGFubmVsczpbXCJsXCIsXCJ1XCIsXCJ2XCIsXCJhbHBoYVwiXSxwYXJzZTpbXCItLWx1dlwiXSxzZXJpYWxpemU6XCItLWx1dlwiLHJhbmdlczp7bDpbMCwxMDBdLHU6Wy04NC45MzYsMTc1LjA0Ml0sdjpbLTEyNS44ODIsODcuMjQzXX0saW50ZXJwb2xhdGU6e2w6dGUsdTp0ZSx2OnRlLGFscGhhOnt1c2U6dGUsZml4dXA6bmV9fX0sZ3Q9cHQsaHQ9KHtyOmUsZzpyLGI6dCxhbHBoYTpvfSk9Pnt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT10JiYodD0wKTtsZXQgbj1NYXRoLmNicnQoLjQxMjIyMTQ2OTQ3MDc2MyplKy41MzYzMzI1MzcyNjE3MzQ4KnIrLjA1MTQ0NTk5MzI2NzUwMjIqdCksYT1NYXRoLmNicnQoLjIxMTkwMzQ5NTgxNzgyNTIqZSsuNjgwNjk5NTUwNjQ1MjM0NCpyKy4xMDczOTY5NTM1MzY5NDA2KnQpLGk9TWF0aC5jYnJ0KC4wODgzMDI0NTkxOTAwNTY0KmUrLjI4MTcxODgzOTEzNjEyMTUqcisuNjI5OTc4NzAxNjczODIyMip0KSxsPXttb2RlOlwib2tsYWJcIixsOi4yMTA0NTQyNjgzMDkzMTQqbisuNzkzNjE3Nzc0NzAyMzA1NCphLS4wMDQwNzIwNDMwMTE2MTkzKmksYToxLjk3Nzk5ODUzMjQzMTE2ODQqbi0yLjQyODU5MjI0MjA0ODU4KmErLjQ1MDU5MzcwOTYxNzQxMSppLGI6LjAyNTkwNDA0MjQ2NTU0NzgqbisuNzgyNzcxNzEyNDU3NTI5NiphLS44MDg2NzU3NTQ5MjMwNzc0Kml9O3JldHVybiB2b2lkIDAhPT1vJiYobC5hbHBoYT1vKSxsfSxidD1lPT57bGV0IHI9aHQoZGUoZSkpO3JldHVybiBlLnI9PT1lLmImJmUuYj09PWUuZyYmKHIuYT1yLmI9MCkscn0sdnQ9KHtsOmUsYTpyLGI6dCxhbHBoYTpvfSk9Pnt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT10JiYodD0wKTtsZXQgbj1NYXRoLnBvdyhlKy4zOTYzMzc3NzczNzYxNzQ5KnIrLjIxNTgwMzc1NzMwOTkxMzYqdCwzKSxhPU1hdGgucG93KGUtLjEwNTU2MTM0NTgxNTY1ODYqci0uMDYzODU0MTcyODI1ODEzMyp0LDMpLGk9TWF0aC5wb3coZS0uMDg5NDg0MTc3NTI5ODExOSpyLTEuMjkxNDg1NTQ4MDE5NDA5Mip0LDMpLGw9e21vZGU6XCJscmdiXCIscjo0LjA3Njc0MTYzNjA3NTk1NypuLTMuMzA3NzExNTM5MjU4MDYxNiphKy4yMzA5Njk5MDMxODIxMDQ0KmksZzotMS4yNjg0Mzc5NzMyODUwMzE3Km4rMi42MDk3NTczNDkyODc2ODg3KmEtLjM0MTMxOTM3NjAwMjY1NzMqaSxiOi0uMDA0MTk2MDc2MTM4Njc1NipuLS43MDM0MTg2MTc5MzU5MzYyKmErMS43MDc2MTQ2OTQwNzQ2MTE3Kml9O3JldHVybiB2b2lkIDAhPT1vJiYobC5hbHBoYT1vKSxsfSxtdD1lPT5nZSh2dChlKSk7ZnVuY3Rpb24geXQoZSl7Y29uc3Qgcj0uMjA2LHQ9MS4yMDYvMS4wMztyZXR1cm4uNSoodCplLXIrTWF0aC5zcXJ0KCh0KmUtcikqKHQqZS1yKSsuMTIqdCplKSl9ZnVuY3Rpb24gd3QoZSl7cmV0dXJuKGUqZSsuMjA2KmUpLygxLjIwNi8xLjAzKihlKy4wMykpfWZ1bmN0aW9uIF90KGUscil7bGV0IHQ9ZnVuY3Rpb24oZSxyKXtsZXQgdCxvLG4sYSxpLGwsYyxzOy0xLjg4MTcwMzI4KmUtLjgwOTM2NDkzKnI+MT8odD0xLjE5MDg2Mjc3LG89MS43NjU3NjcyOCxuPS41OTY2MjY0MSxhPS43NTUxNTE5NyxpPS41Njc3MTI0NSxsPTQuMDc2NzQxNjYyMSxjPS0zLjMwNzcxMTU5MTMscz0uMjMwOTY5OTI5Mik6MS44MTQ0NDEwNCplLTEuMTk0NDUyNzYqcj4xPyh0PS43Mzk1NjUxNSxvPS0uNDU5NTQ0MDQsbj0uMDgyODU0MjcsYT0uMTI1NDEwNyxpPS4xNDUwMzIwNCxsPS0xLjI2ODQzODAwNDYsYz0yLjYwOTc1NzQwMTEscz0tLjM0MTMxOTM5NjUpOih0PTEuMzU3MzM2NTIsbz0tLjAwOTE1Nzk5LG49LTEuMTUxMzAyMSxhPS0uNTA1NTk2MDYsaT0uMDA2OTIxNjcsbD0tLjAwNDE5NjA4NjMsYz0tLjcwMzQxODYxNDcscz0xLjcwNzYxNDcwMSk7bGV0IHU9dCtvKmUrbipyK2EqZSplK2kqZSpyLGQ9LjM5NjMzNzc3NzQqZSsuMjE1ODAzNzU3MypyLGY9LS4xMDU1NjEzNDU4KmUtLjA2Mzg1NDE3MjgqcixwPS0uMDg5NDg0MTc3NSplLTEuMjkxNDg1NTQ4KnI7e2xldCBlPTErdSpkLHI9MSt1KmYsdD0xK3UqcCxvPWwqKGUqZSplKStjKihyKnIqcikrcyoodCp0KnQpLG49bCooMypkKmUqZSkrYyooMypmKnIqcikrcyooMypwKnQqdCk7dS09bypuLyhuKm4tLjUqbyoobCooNipkKmQqZSkrYyooNipmKmYqcikrcyooNipwKnAqdCkpKX1yZXR1cm4gdX0oZSxyKSxvPXZ0KHtsOjEsYTp0KmUsYjp0KnJ9KSxuPU1hdGguY2JydCgxL01hdGgubWF4KG8ucixvLmcsby5iKSk7cmV0dXJuW24sbip0XX1mdW5jdGlvbiBrdChlLHIsdD1udWxsKXt0fHwodD1fdChlLHIpKTtsZXQgbz10WzBdLG49dFsxXTtyZXR1cm5bbi9vLG4vKDEtbyldfWZ1bmN0aW9uIHh0KGUscix0KXtsZXQgbz1fdChyLHQpLG49ZnVuY3Rpb24oZSxyLHQsbyxuLGE9bnVsbCl7bGV0IGk7aWYoYXx8KGE9X3QoZSxyKSksKHQtbikqYVsxXS0oYVswXS1uKSpvPD0wKWk9YVsxXSpuLyhvKmFbMF0rYVsxXSoobi10KSk7ZWxzZXtpPWFbMV0qKG4tMSkvKG8qKGFbMF0tMSkrYVsxXSoobi10KSk7e2xldCBhPXQtbixsPS4zOTYzMzc3Nzc0KmUrLjIxNTgwMzc1NzMqcixjPS0uMTA1NTYxMzQ1OCplLS4wNjM4NTQxNzI4KnIscz0tLjA4OTQ4NDE3NzUqZS0xLjI5MTQ4NTU0OCpyLHU9YStvKmwsZD1hK28qYyxmPWErbypzO3tsZXQgZT1uKigxLWkpK2kqdCxyPWkqbyxhPWUrcipsLHA9ZStyKmMsZz1lK3IqcyxoPWEqYSphLGI9cCpwKnAsdj1nKmcqZyxtPTMqdSphKmEseT0zKmQqcCpwLHc9MypmKmcqZyxfPTYqdSp1KmEsaz02KmQqZCpwLHg9NipmKmYqZyxQPTQuMDc2NzQxNjYyMSpoLTMuMzA3NzExNTkxMypiKy4yMzA5Njk5MjkyKnYtMSxTPTQuMDc2NzQxNjYyMSptLTMuMzA3NzExNTkxMyp5Ky4yMzA5Njk5MjkyKncsTT1TLyhTKlMtLjUqUCooNC4wNzY3NDE2NjIxKl8tMy4zMDc3MTE1OTEzKmsrLjIzMDk2OTkyOTIqeCkpLEk9LVAqTSxDPS0xLjI2ODQzODAwNDYqaCsyLjYwOTc1NzQwMTEqYi0uMzQxMzE5Mzk2NSp2LTEsQT0tMS4yNjg0MzgwMDQ2Km0rMi42MDk3NTc0MDExKnktLjM0MTMxOTM5NjUqdyxPPUEvKEEqQS0uNSpDKigtMS4yNjg0MzgwMDQ2Kl8rMi42MDk3NTc0MDExKmstLjM0MTMxOTM5NjUqeCkpLEY9LUMqTyxXPS0uMDA0MTk2MDg2MypoLS43MDM0MTg2MTQ3KmIrMS43MDc2MTQ3MDEqdi0xLHo9LS4wMDQxOTYwODYzKm0tLjcwMzQxODYxNDcqeSsxLjcwNzYxNDcwMSp3LFQ9ei8oeip6LS41KlcqKC0uMDA0MTk2MDg2MypfLS43MDM0MTg2MTQ3KmsrMS43MDc2MTQ3MDEqeCkpLEQ9LVcqVDtJPU0+PTA/SToxZTYsRj1PPj0wP0Y6MWU2LEQ9VD49MD9EOjFlNixpKz1NYXRoLm1pbihJLE1hdGgubWluKEYsRCkpfX19cmV0dXJuIGl9KHIsdCxlLDEsZSxvKSxhPWt0KHIsdCxvKSxpPWUqKC4xMTUxNjk5MysxLyg3LjQ0Nzc4OTcrNC4xNTkwMTI0KnQrciooMS43NTE5ODQwMSp0LTIuMTk1NTczNDcrciooLTIuMTM3MDQ5NDgtMTAuMDIzMDEwNDMqdCtyKig1LjM4NzcwODE5KnQtNC4yNDg5NDU2MSs0LjY5ODkxMDEzKnIpKSkpKSxsPSgxLWUpKiguMTEyMzk2NDIrMS8oMS42MTMyMDMyLS42ODEyNDM3OSp0K3IqKC40MDM3MDYxMisuOTAxNDgxMjMqdCtyKiguNjEyMjM5OSp0LS4yNzA4Nzk0MytyKiguMDAyOTkyMTUtLjQ1Mzk5NTY4KnQtLjE0NjYxODcyKnIpKSkpKSxjPW4vTWF0aC5taW4oZSphWzBdLCgxLWUpKmFbMV0pKi45Kk1hdGguc3FydChNYXRoLnNxcnQoMS8oMS8oaSppKmkqaSkrMS8obCpsKmwqbCkpKSk7cmV0dXJuIGk9LjQqZSxsPS44KigxLWUpLFtNYXRoLnNxcnQoMS8oMS8oaSppKSsxLyhsKmwpKSksYyxuXX1mdW5jdGlvbiBQdChlKXtjb25zdCByPXZvaWQgMCE9PWUubD9lLmw6MCx0PXZvaWQgMCE9PWUuYT9lLmE6MCxvPXZvaWQgMCE9PWUuYj9lLmI6MCxuPXttb2RlOlwib2toc2xcIixsOnl0KHIpfTt2b2lkIDAhPT1lLmFscGhhJiYobi5hbHBoYT1lLmFscGhhKTtsZXQgYT1NYXRoLnNxcnQodCp0K28qbyk7aWYoIWEpcmV0dXJuIG4ucz0wLG47bGV0IGksW2wsYyxzXT14dChyLHQvYSxvL2EpO2lmKGE8Yyl7bGV0IGU9MCxyPS44Kmw7aT0oYS1lKS8ocisoMS1yL2MpKihhLWUpKSouOH1lbHNle2xldCBlPS4yKmMqYyoxLjI1KjEuMjUvbDtpPS44KyhhLWMpLyhlKygxLWUvKHMtYykpKihhLWMpKSouMn1yZXR1cm4gaSYmKG4ucz1pLG4uaD12ZSgxODAqTWF0aC5hdGFuMihvLHQpL01hdGguUEkpKSxufWZ1bmN0aW9uIFN0KGUpe2xldCByPXZvaWQgMCE9PWUuaD9lLmg6MCx0PXZvaWQgMCE9PWUucz9lLnM6MCxvPXZvaWQgMCE9PWUubD9lLmw6MDtjb25zdCBuPXttb2RlOlwib2tsYWJcIixsOnd0KG8pfTtpZih2b2lkIDAhPT1lLmFscGhhJiYobi5hbHBoYT1lLmFscGhhKSwhdHx8MT09PW8pcmV0dXJuIG4uYT1uLmI9MCxuO2xldCBhLGksbCxjLHM9TWF0aC5jb3Moci8xODAqTWF0aC5QSSksdT1NYXRoLnNpbihyLzE4MCpNYXRoLlBJKSxbZCxmLHBdPXh0KG4ubCxzLHUpO3Q8Ljg/KGE9MS4yNSp0LGk9MCxsPS44KmQsYz0xLWwvZik6KGE9NSoodC0uOCksaT1mLGw9LjIqZipmKjEuMjUqMS4yNS9kLGM9MS1sLyhwLWYpKTtsZXQgZz1pK2EqbC8oMS1jKmEpO3JldHVybiBuLmE9ZypzLG4uYj1nKnUsbn1jb25zdCBNdD17Li4uYXIsbW9kZTpcIm9raHNsXCIsY2hhbm5lbHM6W1wiaFwiLFwic1wiLFwibFwiLFwiYWxwaGFcIl0scGFyc2U6W1wiLS1va2hzbFwiXSxzZXJpYWxpemU6XCItLW9raHNsXCIsZnJvbU1vZGU6e29rbGFiOlB0LHJnYjplPT5QdChidChlKSl9LHRvTW9kZTp7b2tsYWI6U3QscmdiOmU9Pm10KFN0KGUpKX19LEl0PU10O2Z1bmN0aW9uIEN0KGUpe2xldCByPXZvaWQgMCE9PWUubD9lLmw6MCx0PXZvaWQgMCE9PWUuYT9lLmE6MCxvPXZvaWQgMCE9PWUuYj9lLmI6MCxuPU1hdGguc3FydCh0KnQrbypvKSxhPW4/dC9uOjEsaT1uP28vbjoxLFtsLGNdPWt0KGEsaSkscz0xLS41L2wsdT1jLyhuK3IqYyksZD11KnIsZj11Km4scD13dChkKSxnPWYqcC9kLGg9dnQoe2w6cCxhOmEqZyxiOmkqZ30pLGI9TWF0aC5jYnJ0KDEvTWF0aC5tYXgoaC5yLGguZyxoLmIsMCkpO3IvPWIsbj1uL2IqeXQocikvcixyPXl0KHIpO2NvbnN0IHY9e21vZGU6XCJva2hzdlwiLHM6bj8oLjUrYykqZi8oLjUqYytjKnMqZik6MCx2OnI/ci9kOjB9O3JldHVybiB2LnMmJih2Lmg9dmUoMTgwKk1hdGguYXRhbjIobyx0KS9NYXRoLlBJKSksdm9pZCAwIT09ZS5hbHBoYSYmKHYuYWxwaGE9ZS5hbHBoYSksdn1mdW5jdGlvbiBBdChlKXtjb25zdCByPXttb2RlOlwib2tsYWJcIn07dm9pZCAwIT09ZS5hbHBoYSYmKHIuYWxwaGE9ZS5hbHBoYSk7Y29uc3QgdD12b2lkIDAhPT1lLmg/ZS5oOjAsbz12b2lkIDAhPT1lLnM/ZS5zOjAsbj12b2lkIDAhPT1lLnY/ZS52OjAsYT1NYXRoLmNvcyh0LzE4MCpNYXRoLlBJKSxpPU1hdGguc2luKHQvMTgwKk1hdGguUEkpLFtsLGNdPWt0KGEsaSkscz0uNSx1PTEtcy9sLGQ9MS1vKnMvKHMrYy1jKnUqbyksZj1vKmMqcy8ocytjLWMqdSpvKSxwPXd0KGQpLGc9ZipwL2QsaD12dCh7bDpwLGE6YSpnLGI6aSpnfSksYj1NYXRoLmNicnQoMS9NYXRoLm1heChoLnIsaC5nLGguYiwwKSksdj13dChuKmQpLG09Zip2L2Q7cmV0dXJuIHIubD12KmIsci5hPW0qYSpiLHIuYj1tKmkqYixyfWNvbnN0IE90PXsuLi5jcixtb2RlOlwib2toc3ZcIixjaGFubmVsczpbXCJoXCIsXCJzXCIsXCJ2XCIsXCJhbHBoYVwiXSxwYXJzZTpbXCItLW9raHN2XCJdLHNlcmlhbGl6ZTpcIi0tb2toc3ZcIixmcm9tTW9kZTp7b2tsYWI6Q3QscmdiOmU9PkN0KGJ0KGUpKX0sdG9Nb2RlOntva2xhYjpBdCxyZ2I6ZT0+bXQoQXQoZSkpfX0sRnQ9T3QsV3Q9ey4uLktyLG1vZGU6XCJva2xhYlwiLHRvTW9kZTp7bHJnYjp2dCxyZ2I6bXR9LGZyb21Nb2RlOntscmdiOmh0LHJnYjpidH0scmFuZ2VzOntsOlswLDFdLGE6Wy0uNCwuNF0sYjpbLS40LC40XX0scGFyc2U6W2Z1bmN0aW9uKGUscil7aWYoIXJ8fFwib2tsYWJcIiE9PXJbMF0pcmV0dXJuO2NvbnN0IHQ9e21vZGU6XCJva2xhYlwifSxbLG8sbixhLGldPXI7cmV0dXJuIG8udHlwZSE9PVUmJm4udHlwZSE9PVUmJmEudHlwZSE9PVU/KG8udHlwZSE9PUwmJih0Lmw9TWF0aC5taW4oTWF0aC5tYXgoMCxvLnR5cGU9PT1OP28udmFsdWU6by52YWx1ZS8xMDApLDEpKSxuLnR5cGUhPT1MJiYodC5hPW4udHlwZT09PU4/bi52YWx1ZTouNCpuLnZhbHVlLzEwMCksYS50eXBlIT09TCYmKHQuYj1hLnR5cGU9PT1OP2EudmFsdWU6LjQqYS52YWx1ZS8xMDApLGkudHlwZSE9PUwmJih0LmFscGhhPU1hdGgubWluKDEsTWF0aC5tYXgoMCxpLnR5cGU9PT1OP2kudmFsdWU6aS52YWx1ZS8xMDApKSksdCk6dm9pZCAwfV0sc2VyaWFsaXplOmU9PmBva2xhYigke3ZvaWQgMCE9PWUubD9lLmw6XCJub25lXCJ9ICR7dm9pZCAwIT09ZS5hP2UuYTpcIm5vbmVcIn0gJHt2b2lkIDAhPT1lLmI/ZS5iOlwibm9uZVwifSR7ZS5hbHBoYTwxP2AgLyAke2UuYWxwaGF9YDpcIlwifSlgfSx6dD1XdCxUdD17Li4uUXIsbW9kZTpcIm9rbGNoXCIsdG9Nb2RlOntva2xhYjplPT5PZShlLFwib2tsYWJcIikscmdiOmU9Pm10KE9lKGUsXCJva2xhYlwiKSl9LGZyb21Nb2RlOntyZ2I6ZT0+QWUoYnQoZSksXCJva2xjaFwiKSxva2xhYjplPT5BZShlLFwib2tsY2hcIil9LHBhcnNlOltmdW5jdGlvbihlLHIpe2lmKCFyfHxcIm9rbGNoXCIhPT1yWzBdKXJldHVybjtjb25zdCB0PXttb2RlOlwib2tsY2hcIn0sWyxvLG4sYSxpXT1yO2lmKG8udHlwZSE9PUwpe2lmKG8udHlwZT09PVUpcmV0dXJuO3QubD1NYXRoLm1pbihNYXRoLm1heCgwLG8udHlwZT09PU4/by52YWx1ZTpvLnZhbHVlLzEwMCksMSl9aWYobi50eXBlIT09TCYmKHQuYz1NYXRoLm1heCgwLG4udHlwZT09PU4/bi52YWx1ZTouNCpuLnZhbHVlLzEwMCkpLGEudHlwZSE9PUwpe2lmKGEudHlwZT09PUcpcmV0dXJuO3QuaD1hLnZhbHVlfXJldHVybiBpLnR5cGUhPT1MJiYodC5hbHBoYT1NYXRoLm1pbigxLE1hdGgubWF4KDAsaS50eXBlPT09Tj9pLnZhbHVlOmkudmFsdWUvMTAwKSkpLHR9XSxzZXJpYWxpemU6ZT0+YG9rbGNoKCR7dm9pZCAwIT09ZS5sP2UubDpcIm5vbmVcIn0gJHt2b2lkIDAhPT1lLmM/ZS5jOlwibm9uZVwifSAke3ZvaWQgMCE9PWUuaD9lLmg6XCJub25lXCJ9JHtlLmFscGhhPDE/YCAvICR7ZS5hbHBoYX1gOlwiXCJ9KWAscmFuZ2VzOntsOlswLDFdLGM6WzAsLjRdLGg6WzAsMzYwXX19LER0PVR0LEJ0PWU9PntsZXR7cixnOnQsYjpvLGFscGhhOm59PWRlKGUpLGE9e21vZGU6XCJ4eXo2NVwiLHg6LjQ4NjU3MDk0ODY0ODIxNipyKy4yNjU2Njc2OTMxNjkwOTMqdCsuMTk4MjE3Mjg1MjM0MzYyNSpvLHk6LjIyODk3NDU2NDA2OTc0ODcqcisuNjkxNzM4NTIxODM2NTA2Mip0Ky4wNzkyODY5MTQwOTM3NDUqbyx6OjAqcisuMDQ1MTEzMzgxODU4OTAyNip0KzEuMDQzOTQ0MzY4OTAwOTc2Km99O3JldHVybiB2b2lkIDAhPT1uJiYoYS5hbHBoYT1uKSxhfSxSdD0oe3g6ZSx5OnIsejp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2xldCBuPWdlKHtyOjIuNDkzNDk2OTExOTQxNDI2MyplLS45MzEzODM2MTc5MTkxMjQyKnItLjQwMjcxMDc4NDQ1MDcxNyp0LGc6LS44Mjk0ODg5Njk1NjE1NzQ5KmUrMS43NjI2NjQwNjAzMTgzNDY1KnIrLjAyMzYyNDY4NTg0MTk0MzYqdCxiOi4wMzU4NDU4MzAyNDM3ODQ1KmUtLjA3NjE3MjM4OTI2ODA0MTgqcisuOTU2ODg0NTI0MDA3Njg3MSp0fSxcInAzXCIpO3JldHVybiB2b2lkIDAhPT1vJiYobi5hbHBoYT1vKSxufSxFdD17Li4uYWUsbW9kZTpcInAzXCIscGFyc2U6W1wiZGlzcGxheS1wM1wiXSxzZXJpYWxpemU6XCJkaXNwbGF5LXAzXCIsZnJvbU1vZGU6e3JnYjplPT5SdChmZShlKSkseHl6NjU6UnR9LHRvTW9kZTp7cmdiOmU9PmhlKEJ0KGUpKSx4eXo2NTpCdH19LGp0PWU9PntsZXQgcj1NYXRoLmFicyhlKTtyZXR1cm4gcj49MS81MTI/TWF0aC5zaWduKGUpKk1hdGgucG93KHIsMS8xLjgpOjE2KmV9LCR0PSh7eDplLHk6cix6OnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7bGV0IG49e21vZGU6XCJwcm9waG90b1wiLHI6anQoMS4zNDU3ODY4ODE2NDcxNTg1KmUtLjI1NTU3MjA4NzM3OTc5NDYqci0uMDUxMTAxODY0OTc1NTQ1Myp0KSxnOmp0KC0uNTQ0NjMwNzA1MTI0OTAxOSplKzEuNTA4MjQ3NzQyODQ1MTQ2NipyKy4wMjA1Mjc0NDc0MzY0MjE0KnQpLGI6anQoMCplKzAqcisxLjIxMTk2NzU0NTYzODk0NTIqdCl9O3JldHVybiB2b2lkIDAhPT1vJiYobi5hbHBoYT1vKSxufSxOdD0oZT0wKT0+e2xldCByPU1hdGguYWJzKGUpO3JldHVybiByPj0xNi81MTI/TWF0aC5zaWduKGUpKk1hdGgucG93KHIsMS44KTplLzE2fSxHdD1lPT57bGV0IHI9TnQoZS5yKSx0PU50KGUuZyksbz1OdChlLmIpLG49e21vZGU6XCJ4eXo1MFwiLHg6Ljc5Nzc2NjY0NDkwMDY0MjMqcisuMTM1MTgxMjk3NDAwNTMzMSp0Ky4wMzEzNDc3MzQxMjgzOTIyKm8seTouMjg4MDc0ODI4ODE5NDAxMypyKy43MTE4MzUyMzQyNDE4NzMxKnQrODk5MzY5Mzg3MjU2ZS0xNipvLHo6MCpyKzAqdCsuODI1MTA0NjAyNTEwNDYwMipvfTtyZXR1cm4gdm9pZCAwIT09ZS5hbHBoYSYmKG4uYWxwaGE9ZS5hbHBoYSksbn0sTHQ9ey4uLmFlLG1vZGU6XCJwcm9waG90b1wiLHBhcnNlOltcInByb3Bob3RvLXJnYlwiXSxzZXJpYWxpemU6XCJwcm9waG90by1yZ2JcIixmcm9tTW9kZTp7eHl6NTA6JHQscmdiOmU9PiR0KExyKGUpKX0sdG9Nb2RlOnt4eXo1MDpHdCxyZ2I6ZT0+TnIoR3QoZSkpfX0sVXQ9MS4wOTkyOTY4MjY4MDk0NCxWdD1lPT57Y29uc3Qgcj1NYXRoLmFicyhlKTtyZXR1cm4gcj4uMDE4MDUzOTY4NTEwODA3PyhNYXRoLnNpZ24oZSl8fDEpKihVdCpNYXRoLnBvdyhyLC40NSktKFV0LTEpKTo0LjUqZX0scXQ9KHt4OmUseTpyLHo6dCxhbHBoYTpvfSk9Pnt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT10JiYodD0wKTtsZXQgbj17bW9kZTpcInJlYzIwMjBcIixyOlZ0KDEuNzE2NjUxMTg3OTcxMjY4MyplLS4zNTU2NzA3ODM3NzYzOTI1KnItLjI1MzM2NjI4MTM3MzY1OTkqdCksZzpWdCgtLjY2NjY4NDM1MTgzMjQ4OTMqZSsxLjYxNjQ4MTIzNjYzNDkzOTUqcisuMDE1NzY4NTQ1ODEzOTExMSp0KSxiOlZ0KC4wMTc2Mzk4NTc0NDUzMTA4KmUtLjA0Mjc3MDYxMzI1NzgwODUqcisuOTQyMTAzMTIxMjM1NDczOSp0KX07cmV0dXJuIHZvaWQgMCE9PW8mJihuLmFscGhhPW8pLG59LEh0PTEuMDk5Mjk2ODI2ODA5NDQsS3Q9KGU9MCk9PntsZXQgcj1NYXRoLmFicyhlKTtyZXR1cm4gcjwuMDgxMjQyODU4Mjk4NjMxNTE/ZS80LjU6KE1hdGguc2lnbihlKXx8MSkqTWF0aC5wb3coKHIrSHQtMSkvSHQsMS8uNDUpfSxadD1lPT57bGV0IHI9S3QoZS5yKSx0PUt0KGUuZyksbz1LdChlLmIpLG49e21vZGU6XCJ4eXo2NVwiLHg6LjYzNjk1ODA0ODMwMTI5MTEqcisuMTQ0NjE2OTAzNTg2MjA4Myp0Ky4xNjg4ODA5NzUxNjQxNzIxKm8seTouMjYyNzAwMjEyMDExMjY3KnIrLjY3Nzk5ODA3MTUxODg3MDgqdCsuMDU5MzAxNzE2NDY5ODYyKm8sejowKnIrLjAyODA3MjY5MzA0OTA4NzQqdCsxLjA2MDk4NTA1NzcxMDc5MDkqb307cmV0dXJuIHZvaWQgMCE9PWUuYWxwaGEmJihuLmFscGhhPWUuYWxwaGEpLG59LFl0PXsuLi5hZSxtb2RlOlwicmVjMjAyMFwiLGZyb21Nb2RlOnt4eXo2NTpxdCxyZ2I6ZT0+cXQoZmUoZSkpfSx0b01vZGU6e3h5ejY1Olp0LHJnYjplPT5oZShadChlKSl9LHBhcnNlOltcInJlYzIwMjBcIl0sc2VyaWFsaXplOlwicmVjMjAyMFwifSxRdD0uMDAzNzkzMDczMjU1Mjc1NDQ5MyxKdD1NYXRoLmNicnQoUXQpLFh0PWU9Pk1hdGguY2JydChlKS1KdCxlbz1lPT5NYXRoLnBvdyhlK0p0LDMpLHJvPXttb2RlOlwieHliXCIsY2hhbm5lbHM6W1wieFwiLFwieVwiLFwiYlwiLFwiYWxwaGFcIl0scGFyc2U6W1wiLS14eWJcIl0sc2VyaWFsaXplOlwiLS14eWJcIix0b01vZGU6e3JnYjooe3g6ZSx5OnIsYjp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2NvbnN0IG49ZW8oZStyKS1RdCxhPWVvKHItZSktUXQsaT1lbyh0K3IpLVF0LGw9Z2Uoe3I6MTEuMDMxNTY2OTA0NjM5ODYxKm4tOS44NjY5NDM5MDgxMzE1NjIqYS0uMTY0NjIyOTk2NTA4Mjk5MzQqaSxnOi0zLjI1NDE0NzM4MTA3NDQyMzcqbis0LjQxODc3MDM3NzU4MjcyMyphLS4xNjQ2MjI5OTY1MDgyOTkzNCppLGI6LTMuNjU4ODUxMjg2NzEzNjgxNSpuKzIuNzEyOTIzMDQ1OTM2MDkyMiphKzEuOTQ1OTI4MjQwNzc3NTg5NSppfSk7cmV0dXJuIHZvaWQgMCE9PW8mJihsLmFscGhhPW8pLGx9fSxmcm9tTW9kZTp7cmdiOmU9Pntjb25zdHtyLGc6dCxiOm8sYWxwaGE6bn09ZGUoZSksYT1YdCguMypyKy42MjIqdCsuMDc4Km8rUXQpLGk9WHQoLjIzKnIrLjY5Mip0Ky4wNzgqbytRdCksbD17bW9kZTpcInh5YlwiLHg6KGEtaSkvMix5OihhK2kpLzIsYjpYdCguMjQzNDIyNjg5MjQ1NDc4MipyKy4yMDQ3Njc0NDQyNDQ5NjgyKnQrLjU1MTgwOTg2NjUwOTU1MzUqbytRdCktKGEraSkvMn07cmV0dXJuIHZvaWQgMCE9PW4mJihsLmFscGhhPW4pLGx9fSxyYW5nZXM6e3g6Wy0uMDE1NCwuMDI4MV0seTpbMCwuODQ1M10sYjpbLS4yNzc4LC4zODhdfSxpbnRlcnBvbGF0ZTp7eDp0ZSx5OnRlLGI6dGUsYWxwaGE6e3VzZTp0ZSxmaXh1cDpuZX19fSx0bz17bW9kZTpcInh5ejUwXCIscGFyc2U6W1wieHl6LWQ1MFwiXSxzZXJpYWxpemU6XCJ4eXotZDUwXCIsdG9Nb2RlOntyZ2I6TnIsbGFiOlZyfSxmcm9tTW9kZTp7cmdiOkxyLGxhYjokcn0sY2hhbm5lbHM6W1wieFwiLFwieVwiLFwielwiLFwiYWxwaGFcIl0scmFuZ2VzOnt4OlswLC45NjRdLHk6WzAsLjk5OV0sejpbMCwuODI1XX0saW50ZXJwb2xhdGU6e3g6dGUseTp0ZSx6OnRlLGFscGhhOnt1c2U6dGUsZml4dXA6bmV9fX0sb289e21vZGU6XCJ4eXo2NVwiLHRvTW9kZTp7cmdiOmhlLHh5ejUwOmU9PntsZXR7eDpyLHk6dCx6Om8sYWxwaGE6bn09ZTt2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1vJiYobz0wKTtsZXQgYT17bW9kZTpcInh5ejUwXCIseDoxLjA0NzkyOTgyMDg0MDU0ODgqcisuMDIyOTQ2NzkzMzQxMDE5MSp0LS4wNTAxOTIyMjk1NDMxMzU2Km8seTouMDI5NjI3ODE1Njg4MTU5MypyKy45OTA0MzQ0ODQ1NzMyNDkqdC0uMDE3MDczODI1MDI5Mzg1MSpvLHo6LS4wMDkyNDMwNTgxNTI1OTEyKnIrLjAxNTA1NTE0NDg5NjU3NzkqdCsuNzUxODc0Mjg5OTU4MDAwOCpvfTtyZXR1cm4gdm9pZCAwIT09biYmKGEuYWxwaGE9biksYX19LGZyb21Nb2RlOntyZ2I6ZmUseHl6NTA6ZT0+e2xldHt4OnIseTp0LHo6byxhbHBoYTpufT1lO3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PW8mJihvPTApO2xldCBhPXttb2RlOlwieHl6NjVcIix4Oi45NTU0NzM0NTI3MDQyMTgyKnItLjAyMzA5ODUzNjg3NDI2MTQqdCsuMDYzMjU5MzA4NjYxMDIxNypvLHk6LS4wMjgzNjk3MDY5NjMyMDgxKnIrMS4wMDk5OTU0NTgwMDU4MjI2KnQrLjAyMTA0MTM5ODk2Njk0MypvLHo6LjAxMjMxNDAwMTY4ODMxOTkqci0uMDIwNTA3Njk2NDMzNDc3OSp0KzEuMzMwMzY1OTM2NjA4MDc1MypvfTtyZXR1cm4gdm9pZCAwIT09biYmKGEuYWxwaGE9biksYX19LHJhbmdlczp7eDpbMCwuOTVdLHk6WzAsMV0sejpbMCwxLjA4OF19LGNoYW5uZWxzOltcInhcIixcInlcIixcInpcIixcImFscGhhXCJdLHBhcnNlOltcInh5elwiLFwieHl6LWQ2NVwiXSxzZXJpYWxpemU6XCJ4eXotZDY1XCIsaW50ZXJwb2xhdGU6e3g6dGUseTp0ZSx6OnRlLGFscGhhOnt1c2U6dGUsZml4dXA6bmV9fX0sbm89e21vZGU6XCJ5aXFcIix0b01vZGU6e3JnYjooe3k6ZSxpOnIscTp0LGFscGhhOm99KT0+e3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PXQmJih0PTApO2NvbnN0IG49e21vZGU6XCJyZ2JcIixyOmUrLjk1NjA4NDQ1KnIrLjYyMDg4ODUqdCxnOmUtLjI3MTM3NjY0KnItLjY0ODYwNTkqdCxiOmUtMS4xMDU2MTcyNCpyKzEuNzAyNTAxMjYqdH07cmV0dXJuIHZvaWQgMCE9PW8mJihuLmFscGhhPW8pLG59fSxmcm9tTW9kZTp7cmdiOih7cjplLGc6cixiOnQsYWxwaGE6b30pPT57dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09dCYmKHQ9MCk7Y29uc3Qgbj17bW9kZTpcInlpcVwiLHk6LjI5ODg5NTMxKmUrLjU4NjYyMjQ3KnIrLjExNDQ4MjIzKnQsaTouNTk1OTc3OTkqZS0uMjc0MTc2MSpyLS4zMjE4MDE4OSp0LHE6LjIxMTQ3MDE3KmUtLjUyMjYxNzExKnIrLjMxMTE0Njk0KnR9O3JldHVybiB2b2lkIDAhPT1vJiYobi5hbHBoYT1vKSxufX0sY2hhbm5lbHM6W1wieVwiLFwiaVwiLFwicVwiLFwiYWxwaGFcIl0scGFyc2U6W1wiLS15aXFcIl0sc2VyaWFsaXplOlwiLS15aXFcIixyYW5nZXM6e2k6Wy0uNTk1LC41OTVdLHE6Wy0uNTIyLC41MjJdfSxpbnRlcnBvbGF0ZTp7eTp0ZSxpOnRlLHE6dGUsYWxwaGE6e3VzZTp0ZSxmaXh1cDpuZX19fTtsZXQgYW89KChlPTQpPT5yPT5cIm51bWJlclwiPT10eXBlb2Ygcj8oKGUscik9Pk1hdGgucm91bmQoZSoocj1NYXRoLnBvdygxMCxyKSkpL3IpKHIsZSk6cikoMik7Y29uc3QgaW89ZT0+TWF0aC5tYXgoMCxNYXRoLm1pbigxLGV8fDApKSxsbz1lPT5NYXRoLnJvdW5kKDI1NSppbyhlKSksY289QyhcInJnYlwiKTtDKFwiaHNsXCIpLFQoYmUpLFQoQ2UpLFQoSmUpLFQoZXIpLFQodHIpLFQoYXIpLFQoY3IpLFQodXIpLFQoa3IpLFQoV3IpLFQoQnIpLFQoS3IpLFQoWnIpLFQoUXIpLFQoWHIpLFQoZHQpLFQoZnQpLFQoZ3QpLFQoSXQpLFQoRnQpLFQoenQpLFQoRHQpLFQoRXQpLFQoTHQpLFQoWXQpLFQoYWUpLFQocm8pLFQodG8pLFQob28pLFQobm8pLEMoXCJyZ2JcIik7QyhcInJnYlwiKTt0KDE4MCk7bmV3IGNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvdmlkZXJTdG9yYWdlPWUsdGhpcy5zZXRXb3Jrc3BhY2VTdG9yYWdlUHJveHk9ZT0+e3RoaXMud29ya3NwYWNlU3RvcmFnZT1lfSx0aGlzLnRyeVN5bmNocm9uaXplV29ya3NwYWNlU3RvcmFnZT1hc3luYygpPT57aWYodGhpcy53b3Jrc3BhY2VTdG9yYWdlKXtjb25zdCBlPXRoaXMuZ2V0U2NoZW1lKCk7dGhpcy5oYXNVc2VyUHJlZmVyZW5jZSgpJiZ0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShhLkEuU2VsZWN0ZWRDb2xvclNjaGVtZSxlKSx0aGlzLmdlbmVyYXRlZFBhbGV0dGVzJiYodGhpcy50aGVtZVBhbGV0dGVTaGVldD0oMCxuLnYzKSh0aGlzLmdlbmVyYXRlZFBhbGV0dGVzKSx0aGlzLndvcmtzcGFjZVN0b3JhZ2Uuc2V0SXRlbShhLkEuVGhlbWVQYWxldHRlU2hlZXQsdGhpcy50aGVtZVBhbGV0dGVTaGVldCkpO2NvbnN0IHI9ZnVuY3Rpb24oZSl7Y29uc3Qgcj1lPT09Yy5xVC5TeXN0ZW0/XCJzeXN0ZW1cIjplPT09Yy5xVC5MaWdodD9cImxpZ2h0XCI6XCJkYXJrXCIsdD1cImRhcmtcIj09PXI7cmV0dXJue2luRm9yY2VkQ29sb3JzTW9kZTohMSxwcmVmZXJzUmVkdWNlZFRyYW5zcGFyZW5jeTohMSxzaG91bGRVc2VEYXJrQ29sb3JzOnQsc2hvdWxkVXNlRGFya0NvbG9yc0ZvclN5c3RlbUludGVncmF0ZWRVSTp0LHNob3VsZFVzZUhpZ2hDb250cmFzdENvbG9yczohMSxzaG91bGRVc2VJbnZlcnRlZENvbG9yU2NoZW1lOiExLHRoZW1lU291cmNlOnJ9fShlKTt0cnl7YXdhaXQgZmluLlN5c3RlbS5zZXRUaGVtZVByZWZlcmVuY2VzKHIpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gc2V0IG5hdGl2ZSB0aGVtZSBwcmVmZXJlbmNlczogXCIsZSl9fX0sdGhpcy5zZXRMZWdhY3lQYWxldHRlcz1hc3luYyh7bGlnaHQ6ZSxkYXJrOnJ9LHQpPT57dGhpcy5saWdodFBhbGV0dGVWYXJzPXUoey4uLmUsLi4uZihlLFwibGlnaHRcIix0KX0pLHRoaXMuZGFya1BhbGV0dGVWYXJzPXUoey4uLnIsLi4uZihyLFwiZGFya1wiLHQpfSl9LHRoaXMuc2V0UGFsZXR0ZXM9YXN5bmMoe2xpZ2h0OmUsZGFyazpyfSk9Pnt0aGlzLmxpZ2h0UGFsZXR0ZVZhcnM9ZSx0aGlzLmRhcmtQYWxldHRlVmFycz1yfX1oYXNVc2VyUHJlZmVyZW5jZSgpe3JldHVybiBudWxsIT09dGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShhLkEuU2VsZWN0ZWRDb2xvclNjaGVtZSl9c2V0U2NoZW1lKGUpe3RoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0oYS5BLlNlbGVjdGVkQ29sb3JTY2hlbWUsZSl9c2V0VGhlbWVEZWZhdWx0U2NoZW1lKGUpe2NvbnN0IHI9T2JqZWN0LnZhbHVlcyhjLnFUKTtyLmluY2x1ZGVzKGUpP3RoaXMucHJvdmlkZXJTdG9yYWdlLnNldEl0ZW0oYS5BLlRoZW1lUGFsZXR0ZURlZmF1bHRTY2hlbWUsZSk6Y29uc29sZS53YXJuKGBJbnZhbGlkIHRoZW1lIGRlZmF1bHQgc2NoZW1lICcke2V9Jy4gTXVzdCBiZSBvbmUgb2Y6ICR7ci5qb2luKFwiLCBcIil9LiBJZ25vcmluZyBkZWZhdWx0LmApfXNldEdlbmVyYXRlZFBhbGV0dGVzKGUpe3RoaXMuZ2VuZXJhdGVkUGFsZXR0ZXM9ZX1nZXRTY2hlbWUoKXtjb25zdCBlPXRoaXMucHJvdmlkZXJTdG9yYWdlLmdldEl0ZW0oYS5BLlNlbGVjdGVkQ29sb3JTY2hlbWUpLHI9dGhpcy5wcm92aWRlclN0b3JhZ2UuZ2V0SXRlbShhLkEuVGhlbWVQYWxldHRlRGVmYXVsdFNjaGVtZSk7cmV0dXJuIG51bGwhPT1lP2U6cj8/c31nZXRUaGVtZVBhbGV0dGVTaGVldCgpe3JldHVybiB0aGlzLnRoZW1lUGFsZXR0ZVNoZWV0fWdldFRoZW1lUGFsZXR0ZSgpe3JldHVybntsaWdodDp0aGlzLmxpZ2h0UGFsZXR0ZVZhcnMsZGFyazp0aGlzLmRhcmtQYWxldHRlVmFyc319fShvKX0sMTgwOihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0LmQocix7TkE6KCk9Pm59KTt0KDcwKSx0KDMyNiksdCg3OCksdCg2OTUpO3ZhciBvPXQoNzkpO3QoOTI3KTtjb25zdCBuPWU9Pih7Z2V0VGhlbWVzOmFzeW5jKCk9Pihhd2FpdCgwLG8uTikoZSkpLmRpc3BhdGNoKG8uT0YuR2V0VGhlbWVzLHZvaWQgMCksZ2V0R2VuZXJhdGVkUGFsZXR0ZXM6YXN5bmMoKT0+KGF3YWl0KDAsby5OKShlKSkuZGlzcGF0Y2goby5PRi5HZXRHZW5lcmF0ZWRQYWxldHRlcyx2b2lkIDApLGdldFRoZW1lUGFsZXR0ZVNoZWV0OmFzeW5jKCk9Pihhd2FpdCgwLG8uTikoZSkpLmRpc3BhdGNoKG8uT0YuR2V0VGhlbWVQYWxldHRlU2hlZXQsdm9pZCAwKSxzZXRTZWxlY3RlZFNjaGVtZTphc3luYyByPT4oYXdhaXQoMCxvLk4pKGUpKS5kaXNwYXRjaChvLk9GLlNldFNlbGVjdGVkU2NoZW1lLHIpLGdldFNlbGVjdGVkU2NoZW1lOmFzeW5jKCk9Pihhd2FpdCgwLG8uTikoZSkpLmRpc3BhdGNoKG8uT0YuR2V0U2VsZWN0ZWRTY2hlbWUsdm9pZCAwKSxnZXROb3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnNJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxvLk4pKGUpKS5kaXNwYXRjaChvLk9GLkdldE5vdGlmaWNhdGlvbkluZGljYXRvckNvbG9yc0ludGVybmFsLHZvaWQgMCl9KX0sNzMyOihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0LmQocix7TnQ6KCk9PndlLEFnOigpPT55ZX0pO3ZhciBvPXQoNjc1KSxuPXQoNzIzKSxhPXQoMTgxKTthc3luYyBmdW5jdGlvbiBpKCl7Y29uc3QgZT1cImdldE1hbmlmZXN0T3ZlcnJpZGVzXCIse21hbmlmZXN0OnIsaW5pdGlhbE9wdGlvbnM6dH09YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0SW5mbygpO3JldHVybiByPy5wbGF0Zm9ybS53b3Jrc3BhY2V8fHI/LnBsYXRmb3JtLmhvbWV8fHQ/LndvcmtzcGFjZXx8dD8uaG9tZXx8Y29uc29sZS53YXJuKGAke2V9OiBNaXNzaW5nIEhvbWUgZGV2ZWxvcG1lbnQgbWFuaWZlc3Qgb3ZlcnJpZGVzLCB1c2luZyBEZXNrdG9wIE93bmVyIFNldHRpbmdzLmApLHI/LnBsYXRmb3JtLndvcmtzcGFjZT8oSlNPTi5zdHJpbmdpZnkocj8ucGxhdGZvcm0ud29ya3NwYWNlKSxyPy5wbGF0Zm9ybS53b3Jrc3BhY2UpOnI/LnBsYXRmb3JtLmhvbWU/KEpTT04uc3RyaW5naWZ5KHI/LnBsYXRmb3JtLmhvbWUpLHI/LnBsYXRmb3JtLmhvbWUpOnQ/LndvcmtzcGFjZT8oSlNPTi5zdHJpbmdpZnkodD8ud29ya3NwYWNlKSx0Py53b3Jrc3BhY2UpOnQ/LmhvbWU/KEpTT04uc3RyaW5naWZ5KHQ/LmhvbWUpLHQ/LmhvbWUpOnt9fWNvbnN0IGw9ZT0+ZmluLlN5c3RlbS5nZXRTeXN0ZW1BcHBDb25maWcoZSk7YXN5bmMgZnVuY3Rpb24gYygpe2NvbnN0IGU9XCJnZXRET1NPdmVycmlkZXNcIjtpZighbi5jSSlyZXR1cm4gY29uc29sZS53YXJuKGAke2V9OiB0aGUgZmluIEFQSSB3YXMgbm90IGF2YWlsYWJsZSwgcmV0dXJuaW5nIG5vIHJlc3VsdGApLHt9O3RyeXtsZXQgZT1hd2FpdCBsKFwid29ya3NwYWNlXCIpLmNhdGNoKGU9Pnt9KTtyZXR1cm4gZXx8KGU9YXdhaXQgbChcImhvbWVcIikpLEpTT04uc3RyaW5naWZ5KGUpLGV9Y2F0Y2gocil7aWYoIW4uSGQpcmV0dXJue307aWYoIShyIGluc3RhbmNlb2YgRXJyb3IpKXRocm93IHI7Y29uc29sZS53YXJuKGAke2V9OiBNaXNzaW5nIFdvcmtzcGFjZSBEZXNrdG9wIE93bmVyIFNldHRpbmdzIGNvbmZpZ3VyYXRpb24sIHVzaW5nIGRlZmF1bHRzLiAke3I/Lm1lc3NhZ2V9YCl9cmV0dXJue319bGV0IHMsdTtjb25zdCBkPWU9PmUucmVwbGFjZSgvXFwvJC8sXCJcIik7YXN5bmMgZnVuY3Rpb24gZigpe2NvbnN0IGU9KGF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7aWYocylyZXR1cm4gcztjb25zdCBlPVwiZ2V0T3ZlcnJpZGVzXCI7aWYoIW4uY0kpcmV0dXJuIG4uWVkmJmNvbnNvbGUud2FybihgJHtlfTogVGhlIEZpbiBBUEkgd2FzIG5vdCBhdmFpbGFibGUuIFJldHVybmluZyBhbiBlbXB0eSByZXN1bHQuYCkse307Y29uc3Rbcix0XT1hd2FpdCBQcm9taXNlLmFsbChbYygpLGkoKV0pO3JldHVybiBzPXsuLi50LC4uLnIsZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9uOnQuZGlzYWJsZVJ1bnRpbWVWYWxpZGF0aW9ufHxyLmRpc2FibGVSdW50aW1lVmFsaWRhdGlvbn0sc30oKSkuYnJvd3NlckJhc2VVcmw7aWYoZSl0cnl7Y29uc3Qgcj1uZXcgVVJMKGUpO2lmKHIucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpKXIucGF0aG5hbWU9ZChyLnBhdGhuYW1lKTtlbHNle2lmKFwiL3dvcmtzcGFjZVwiPT09ci5wYXRobmFtZSlyZXR1cm4gci5wYXRobmFtZSs9YC8ke24uZXR9YCxyLnRvU3RyaW5nKCk7Y29uc29sZS53YXJuKGBAb3BlbmZpbi93b3Jrc3BhY2UtcGxhdGZvcm06IGJyb3dzZXJPdmVycmlkZUJhc2VVcmwgbXVzdCBiZSBhIHZhbGlkIHVybCwgd2l0aCBwYXRoOiAvd29ya3NwYWNlLiBFeHBlY3RlZCA8cHJvdG9jb2w+Oi8vPG9wdGlvbmFsIHN1YmRvbWFpbj4uPGRvbWFpbj4vd29ya3NwYWNlIGJ1dCBnb3QgJHtlfWApfX1jYXRjaChyKXtjb25zb2xlLndhcm4oYEBvcGVuZmluL3dvcmtzcGFjZS1wbGF0Zm9ybTogYnJvd3Nlck92ZXJyaWRlQmFzZVVybCBtdXN0IGJlIGEgdmFsaWQgdXJsLiBFeHBlY3RlZCA8cHJvdG9jb2w+Oi8vPG9wdGlvbmFsIHN1YmRvbWFpbj4uPGRvbWFpbj4vd29ya3NwYWNlIGJ1dCBnb3QgJHtlfWApfXJldHVybiB1Pz9uLmJEfWFzeW5jIGZ1bmN0aW9uIHAoZT0hMSl7Y29uc3Qgcj1hd2FpdCBmKCkrYS5BeS5FbnRlcnByaXNlQnJvd3NlcjtyZXR1cm4gZT9yOmQocil9dCg4MjIpO3ZhciBnPXQoNzApO2NvbnN0IGg9KGUscik9Pntjb25zdCB0PWU7cmV0dXJuIHQud29ya3NwYWNlUGxhdGZvcm18fCh0LndvcmtzcGFjZVBsYXRmb3JtPXt9KSx0LndvcmtzcGFjZVBsYXRmb3JtLl9pbnRlcm5hbERlZmVyU2hvd09wdGlvbnM9e3NldEFzRm9yZWdyb3VuZDohIXIsZGVmZXJTaG93RW5hYmxlZDohMCxhdXRvU2hvdzp0LndvcmtzcGFjZVBsYXRmb3JtPy5faW50ZXJuYWxBdXRvU2hvd3x8dC53b3Jrc3BhY2VQbGF0Zm9ybT8uX2ludGVybmFsRGVmZXJTaG93T3B0aW9ucz8uYXV0b1Nob3d8fHZvaWQgMD09PXQuYXV0b1Nob3d8fHQuYXV0b1Nob3d9LHQuYXV0b1Nob3c9ITEsdH07dmFyIGIsdjshZnVuY3Rpb24oZSl7ZS5SZWxhdGl2ZVRvUGFyZW50V2luZG93PVwicmVsYXRpdmUtdG8tcGFyZW50LXdpbmRvd1wiLGUuUmVsYXRpdmVUb01vbml0b3I9XCJyZWxhdGl2ZS10by1tb25pdG9yXCJ9KGJ8fChiPXt9KSksZnVuY3Rpb24oZSl7ZS5Ub3A9XCJ0b3BcIixlLkJlbG93PVwiYmVsb3dcIn0odnx8KHY9e30pKTtjb25zdCBtPWFzeW5jIGU9Pntjb25zdCByPWUmJmF3YWl0KDAsZy5JcSkoZSkuZ2V0Qm91bmRzKCksdD1lP2F3YWl0KDAsZy5qeikocik6KGF3YWl0IGZpbi5TeXN0ZW0uZ2V0TW9uaXRvckluZm8oKSkucHJpbWFyeU1vbml0b3I7cmV0dXJuKDAsZy5WRSkodC5hdmFpbGFibGVSZWN0KX07dmFyIHk9dCgyNzUpO2Z1bmN0aW9uIHcoKXtsZXQgZSxyO3JldHVybntwcm9taXNlOm5ldyBQcm9taXNlKCh0LG8pPT57ZT10LHI9b30pLHJlc29sdmU6ZSxyZWplY3Q6cn19Y29uc3QgXz1cImRvY2szXCIsaz1yZXF1aXJlKFwiZGV4aWVcIik7dmFyIHg9dCgxODkpLFA9dCgxNDEpO2NvbnN0IFM9ZT0+ZStcIi1cIitmaW4ubWUudXVpZCxNPShlLHIpPT57Y29uc3QgdD1uLkFUJiZuLmNJJiZuZXcgay5EZXhpZShlKTtyZXR1cm4gdCYmdC52ZXJzaW9uKC4xKS5zdG9yZXMoe1tyXTpcIlwifSksdH0sST0oZSxyKT0+e2NvbnN0IHQ9TShTKGUpLHIpLG89TShlLHIpO2lmKCF0fHwhbyl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbWlncmF0ZSBzdG9yZSAtIEluZGV4REIgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4oYXN5bmMoZSxyLHQpPT57aWYoIWVbdF0pcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKGBMZWdhY3kgc3RvcmUgJHt0fSBub3QgZm91bmQsIHNraXBwaW5nIG1pZ3JhdGlvbmApO2NvbnN0IG89eC5nZXRJdGVtKFAuQS5IYXNNb3ZlZFN0b3JlKSxuPW8/SlNPTi5wYXJzZShvKTp7fTtpZihuJiZuW3RdKXJldHVybjtpZihuW3RdPSEwLHguc2V0SXRlbShQLkEuSGFzTW92ZWRTdG9yZSxKU09OLnN0cmluZ2lmeShuKSksIWVbdF18fCFyW3RdKXJldHVybjtjb25zdCBhPWF3YWl0IGVbdF0udG9BcnJheSgpO2F3YWl0IHJbdF0uYnVsa1B1dChhKX0pKG8sdCxlKSx0fSxDPVwiZG9jazMtcHJvdmlkZXItY29uZmlnXCIsQT1uLkFUJiZuLmNJJiZuZXcgay5EZXhpZShTKFwiZG9jazMtcHJvdmlkZXItY29uZmlnXCIpKTtBJiZBLnZlcnNpb24oLjEpLnN0b3Jlcyh7W0NdOlwiXCJ9KTt2YXIgTyxGLFcseixUPWZ1bmN0aW9uKGUscix0LG8sbil7aWYoXCJtXCI9PT1vKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7aWYoXCJhXCI9PT1vJiYhbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ZSE9PXJ8fCFuOiFyLmhhcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJhXCI9PT1vP24uY2FsbChlLHQpOm4/bi52YWx1ZT10OnIuc2V0KGUsdCksdH0sRD1mdW5jdGlvbihlLHIsdCxvKXtpZihcImFcIj09PXQmJiFvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcj9lIT09cnx8IW86IXIuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJtXCI9PT10P286XCJhXCI9PT10P28uY2FsbChlKTpvP28udmFsdWU6ci5nZXQoZSl9O2NsYXNzIEJ7c3RhdGljIGdldE92ZXJyaWRlQ29uc3RydWN0b3IoLi4uZSl7cmV0dXJuIGNsYXNzIGV4dGVuZHMgQntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmUpfX19Y29uc3RydWN0b3IoZSxyKXtpZihPLnNldCh0aGlzLHZvaWQgMCksRi5zZXQodGhpcyx2b2lkIDApLFcuc2V0KHRoaXMsbnVsbCksei5zZXQodGhpcyx3KCkpLEIuaW5zdGFuY2UpdGhyb3cgbmV3IEVycm9yKFwiRG9jazNQcm92aWRlciBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkLlwiKTtCLmluc3RhbmNlPXRoaXMsVCh0aGlzLE8sZSxcImZcIiksVCh0aGlzLEYscixcImZcIiksdGhpcy5yZWdpc3RlckNoYW5uZWxBY3Rpb25zKCl9YXN5bmMgbGF1bmNoRW50cnkoZSl7fWdldCByZWFkeSgpe3JldHVybiBEKHRoaXMseixcImZcIikucHJvbWlzZX1hc3luYyBib29rbWFya0NvbnRlbnRNZW51RW50cnkoZSl7fWFzeW5jIG1vcmVNZW51Q3VzdG9tT3B0aW9uQ2xpY2tlZChlKXt9Z2V0IGNvbmZpZygpe3JldHVybiBEKHRoaXMsTyxcImZcIil9c2V0IGNvbmZpZyhlKXtUKHRoaXMsTyxlLFwiZlwiKX1hc3luYyB1cGRhdGVDb25maWcoZSl7VCh0aGlzLE8sZSxcImZcIiksYXdhaXQgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoZSl9YXN5bmMgc2h1dGRvd24oKXthd2FpdCBQcm9taXNlLmFsbChbRCh0aGlzLEYsXCJmXCIpLmRlc3Ryb3koKSx0aGlzLmdldFdpbmRvd1N5bmMoKS5jbG9zZSghMCldKSxCLmluc3RhbmNlPW51bGx9YXN5bmMgc2F2ZUNvbmZpZyh7Y29uZmlnOmV9KXtUKHRoaXMsTyxlLFwiZlwiKSxhd2FpdCBhc3luYyBmdW5jdGlvbihlKXtpZighQSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gc2F2ZSBEb2NrIHByb3ZpZGVyIGNvbmZpZyAtIEluZGV4ZWREYiBub3Qgc3VwcG9ydGVkXCIpO2F3YWl0IEFbQ10ucHV0KGUsXCJsYXRlc3RcIil9KGUpfWFzeW5jIGhhbmRsZUNvbmZpZ0NoYW5nZShlKXtEKHRoaXMsVyxcImZcIikmJmF3YWl0IEQodGhpcyxGLFwiZlwiKS5kaXNwYXRjaChEKHRoaXMsVyxcImZcIiksXCJoYW5kbGUtZG9jay1jb25maWctdXBkYXRlZFwiLGUpfWFzeW5jIGxvYWRDb25maWcoKXtjb25zdCBlPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKCl7aWYoIUEpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBEb2NrIHByb3ZpZGVyIGNvbmZpZyAtIEluZGV4ZWREQiBub3Qgc3VwcG9ydGVkXCIpO3RyeXtyZXR1cm4gYXdhaXQgQVtDXS5nZXQoXCJsYXRlc3RcIil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHJldHJpZXZlIERvY2sgcHJvdmlkZXIgY29uZmlnIGZyb20gSW5kZXhlZERCXCIsZSl9fSgpO3JldHVybiBlJiZUKHRoaXMsTyxlLFwiZlwiKSxEKHRoaXMsTyxcImZcIil9Z2V0V2luZG93U3luYygpe3JldHVybiBmaW4uV2luZG93LndyYXBTeW5jKHt1dWlkOmZpbi5tZS5pZGVudGl0eS51dWlkLG5hbWU6X30pfXJlZ2lzdGVyQ2hhbm5lbEFjdGlvbnMoKXtEKHRoaXMsRixcImZcIikucmVnaXN0ZXIoXCJsYXVuY2gtZW50cnlcIixhc3luYyBlPT57XCJmb2xkZXJcIj09PWUuZW50cnkudHlwZSYmZS5lbnRyeS5pZCYmRCh0aGlzLFcsXCJmXCIpJiZhd2FpdCBEKHRoaXMsRixcImZcIikuZGlzcGF0Y2goRCh0aGlzLFcsXCJmXCIpLFwibmF2aWdhdGUtY29udGVudC1tZW51XCIse3RhcmdldElkOmUuZW50cnkuaWR9KSxhd2FpdCB0aGlzLmxhdW5jaEVudHJ5KGUpfSksRCh0aGlzLEYsXCJmXCIpLnJlZ2lzdGVyKFwic2F2ZS1jb25maWdcIix0aGlzLnNhdmVDb25maWcuYmluZCh0aGlzKSksRCh0aGlzLEYsXCJmXCIpLnJlZ2lzdGVyKFwiYm9va21hcmstY29udGVudC1tZW51LWVudHJ5XCIsdGhpcy5ib29rbWFya0NvbnRlbnRNZW51RW50cnkuYmluZCh0aGlzKSksRCh0aGlzLEYsXCJmXCIpLnJlZ2lzdGVyKFwibW9yZS1tZW51LWN1c3RvbS1vcHRpb24tY2xpY2tlZFwiLHRoaXMubW9yZU1lbnVDdXN0b21PcHRpb25DbGlja2VkLmJpbmQodGhpcykpLEQodGhpcyxGLFwiZlwiKS5vbkNvbm5lY3Rpb24oZT0+e2UubmFtZT09PV8mJlQodGhpcyxXLGUsXCJmXCIpfSksRCh0aGlzLEYsXCJmXCIpLnJlZ2lzdGVyKFwicmVhZHlcIixhc3luYyhlLHIpPT57aWYoRCh0aGlzLFcsXCJmXCIpPy5lbmRwb2ludElkIT09ci5lbmRwb2ludElkKXRocm93IG5ldyBFcnJvcihgRG9jazNQcm92aWRlcjogJ3JlYWR5JyBhY3Rpb24gcmVjZWl2ZWQgZnJvbSB1bmV4cGVjdGVkIGNsaWVudCAke3IubmFtZX0gKCR7ci51dWlkfSlgKTtEKHRoaXMseixcImZcIikucmVzb2x2ZSgpfSksRCh0aGlzLEYsXCJmXCIpLm9uRGlzY29ubmVjdGlvbihlPT57RCh0aGlzLFcsXCJmXCIpPy5lbmRwb2ludElkPT09ZS5lbmRwb2ludElkJiYoVCh0aGlzLFcsbnVsbCxcImZcIiksVCh0aGlzLHosdygpLFwiZlwiKSl9KX19Tz1uZXcgV2Vha01hcCxGPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsej1uZXcgV2Vha01hcCxCLmluc3RhbmNlPW51bGw7Y29uc3QgUj1hc3luYyBlPT57Y29uc3Qgcj1lP2Zpbi5XaW5kb3cud3JhcFN5bmMoZSk6ZmluLldpbmRvdy5nZXRDdXJyZW50U3luYygpLHQ9YXdhaXQgci5nZXRPcHRpb25zKCk7cmV0dXJuIHQud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUmJlwiZW50ZXJwcmlzZVwiPT09dC53b3Jrc3BhY2VQbGF0Zm9ybS53aW5kb3dUeXBlfTtsZXQgRTt0KDI3Nyk7dmFyIGo9dCg0MzgpO2NvbnN0ICQ9cmVxdWlyZShcImxvZGFzaC5kZWJvdW5jZVwiKTt2YXIgTj10Lm4oJCk7ZnVuY3Rpb24gRygpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShQLkEuTWFjaGluZU5hbWUpPz9cInVua25vd25cIn1sZXQgTDthc3luYyBmdW5jdGlvbiBVKCl7cmV0dXJuIEx8fChMPWF3YWl0IGZpbi5TeXN0ZW0uZ2V0TWFjaGluZUlkKCkpLEx9dmFyIFY9dCgzMzMpO2NvbnN0IHE9YXN5bmMgZT0+KHsuLi5lLGxheW91dERldGFpbHM6e21hY2hpbmVJZDphd2FpdCBVKCksbWFjaGluZU5hbWU6RygpfX0pLEg9YXN5bmMgZT0+e2NvbnN0IHI9YXdhaXQoYXN5bmMoZSxyKT0+KHtwYWdlSWQ6KDAsVi5OKSgpLHRpdGxlOmUsbGF5b3V0OmF3YWl0IHEociksaXNSZWFkT25seTohMX0pKShlLnRpdGxlLHhlKGUubGF5b3V0KSk7cmV0dXJuIGUucGFuZWxzJiYoci5wYW5lbHM9ZS5wYW5lbHMubWFwKGU9Pih7Li4uZSx2aWV3T3B0aW9uczprZShlLnZpZXdPcHRpb25zKX0pKSksey4uLmUsLi4ucn19O3ZhciBLPXQoNzkpLFo9dCg3ODYpO3ZhciBZPXQoMzI2KSxRPXQoMTAyKTtjb25zdCBKPSgwLFEuQSkoYCR7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZpbiYmZmluPy5tZS5pZGVudGl0eS51dWlkfS1lbnRlcnByaXNlLWJvb2ttYXJrc2ApLFg9ZT0+KHtpZGVudGl0eTplLG9wZW5maW5XaW5kb3c6ZmluLldpbmRvdy53cmFwU3luYyhlKSxfYm9va21hcmtzOntfY3JlYXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgSigpKS5kaXNwYXRjaChZLkhjLkNyZWF0ZUJvb2ttYXJrTm9kZSxlKSkoZSksX2dldEJvb2ttYXJrTm9kZTphc3luYyBlPT4oYXN5bmMgZT0+KGF3YWl0IEooKSkuZGlzcGF0Y2goWS5IYy5HZXRCb29rbWFya05vZGUsZSkpKGUpLF9zZWFyY2hCb29rbWFya05vZGVzOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgSigpKS5kaXNwYXRjaChZLkhjLlNlYXJjaEJvb2ttYXJrTm9kZXMsZSkpKGUpLF91cGRhdGVCb29rbWFya05vZGU6YXN5bmMgZT0+KGFzeW5jIGU9Pihhd2FpdCBKKCkpLmRpc3BhdGNoKFkuSGMuVXBkYXRlQm9va21hcmtOb2RlLGUpKShlKSxfZGVsZXRlQm9va21hcmtOb2RlOmFzeW5jIGU9Pihhc3luYyBlPT4oYXdhaXQgSigpKS5kaXNwYXRjaChZLkhjLkRlbGV0ZUJvb2ttYXJrTm9kZSxlKSkoZSl9LGdldFBhZ2VzOmFzeW5jKCk9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLkdldFBhZ2VzRm9yV2luZG93LGUpLGdldFBhZ2U6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuR2V0UGFnZUZvcldpbmRvdyx7aWRlbnRpdHk6ZSxwYWdlSWQ6cn0pLGFkZFBhZ2U6YXN5bmMgcj0+d2UoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9hZGRQYWdlKHIpLF9hZGRQYWdlOmFzeW5jKHIsdCk9Pntjb25zdCBvPWF3YWl0KDAsSy5iVykoZSksbj17aWRlbnRpdHk6ZSxwYWdlOnIsaW5zZXJ0aW9uSW5kZXg6dD8uaW5kZXgsbXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcjp0Py5tdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yfTtyZXR1cm4gby5kaXNwYXRjaChLLk9GLkFkZFBhZ2Usbil9LF9hZGRQYWdlczphc3luYyhyLHQpPT57Y29uc3Qgbz1hd2FpdCgwLEsuYlcpKGUpLG49ci5tYXAoKHtwYWdlOmUsb3B0czpyfSk9Pih7Li4uZSxtdWx0aUluc3RhbmNlVmlld0JlaGF2aW9yOnI/Lm11bHRpSW5zdGFuY2VWaWV3QmVoYXZpb3J8fFwiZHVwbGljYXRlXCJ9KSksYT17aWRlbnRpdHk6ZSxwYWdlczpuLC4uLnR9O3JldHVybiBvLmRpc3BhdGNoKEsuT0YuQXR0YWNoUGFnZXNUb1dpbmRvdyxhKX0scmVtb3ZlUGFnZTphc3luYyByPT4oYXdhaXQoMCxLLmJXKShlKSkuZGlzcGF0Y2goSy5PRi5EZXRhY2hQYWdlc0Zyb21XaW5kb3cse2lkZW50aXR5OmUscGFnZUlkczpbcl19KSxyZXBhcmVudFBhZ2U6YXN5bmMgcj0+d2UoKS5Ccm93c2VyLndyYXBTeW5jKGUpLl9yZXBhcmVudFBhZ2UociksX3JlcGFyZW50UGFnZTphc3luYyByPT57Y29uc3R7cGFnZUlkOnR9PXIsbz1hd2FpdCgwLEsuYlcpKGUpLG49KGF3YWl0IG8uZGlzcGF0Y2goSy5PRi5HZXRBbGxBdHRhY2hlZFBhZ2VzLHZvaWQgMCkpLmZpbmQoKHtwYWdlSWQ6ZX0pPT5lPT09dCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBSZXBhcmVudCBQYWdlIEVycm9yOiBUYXJnZXQgcGFnZSB3aXRoIHBhZ2VJZCAke3R9IG5vdCBmb3VuZGApO24ubXVsdGlJbnN0YW5jZVZpZXdCZWhhdmlvcj1cInJlcGFyZW50XCI7Y29uc3QgYT17aWRlbnRpdHk6ZSxwYWdlczpbbl0saW5zZXJ0aW9uSW5kZXg6ci5pbmRleH07cmV0dXJuIG8uZGlzcGF0Y2goSy5PRi5BdHRhY2hQYWdlc1RvV2luZG93LGEpfSxzZXRBY3RpdmVQYWdlOmFzeW5jIHI9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLlNldEFjdGl2ZVBhZ2Use2lkZW50aXR5OmUscGFnZUlkOnJ9KSx1cGRhdGVQYWdlOmFzeW5jIHI9Pntjb25zdCB0PWF3YWl0KDAsSy5iVykoZSk7cmV0dXJuIHIuaWRlbnRpdHk9ZSx0LmRpc3BhdGNoKEsuT0YuVXBkYXRlUGFnZUZvcldpbmRvdyxyKX0scmVvcmRlclBhZ2VzOmFzeW5jIHI9Pntjb25zdCB0PWF3YWl0KDAsSy5iVykoZSk7cmV0dXJuIHIuaWRlbnRpdHk9ZSx0LmRpc3BhdGNoKEsuT0YuUmVvcmRlclBhZ2VzRm9yV2luZG93LHIpfSxfb3Blbkdsb2JhbENvbnRleHRNZW51OmFzeW5jIHI9Pntjb25zdCB0PWF3YWl0KDAsSy5iVykoZSk7cmV0dXJuIHIuaWRlbnRpdHk9ZSx0LmRpc3BhdGNoKEsuT0YuT3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWwscil9LHJlcGxhY2VUb29sYmFyT3B0aW9uczphc3luYyByPT57YXdhaXQoMCxLLmJXKShlKTtjb25zdCB0PWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgdC51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7dG9vbGJhck9wdGlvbnM6cn19KX0scmVwbGFjZVdpbmRvd1N0YXRlQnV0dG9uT3B0aW9uczphc3luYyByPT57YXdhaXQoMCxLLmJXKShlKTtjb25zdCB0PWZpbi5XaW5kb3cud3JhcFN5bmMoZSk7YXdhaXQgdC51cGRhdGVPcHRpb25zKHt3b3Jrc3BhY2VQbGF0Zm9ybTp7d2luZG93U3RhdGVCdXR0b25PcHRpb25zOnJ9fSl9LHVwZGF0ZUJyb3dzZXJXaW5kb3dUaXRsZTphc3luYyByPT57Y29uc3QgdD1maW4uV2luZG93LndyYXBTeW5jKGUpO1wic3RyaW5nXCIhPXR5cGVvZiByP2F3YWl0IHQudXBkYXRlT3B0aW9ucyh7d29ya3NwYWNlUGxhdGZvcm06e3RpdGxlOnJ9fSk6Y29uc29sZS53YXJuKFwiVHlwZSBzdHJpbmcgZm9yIHdpbmRvdyB0aXRsZSBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFdpbmRvd1RpdGxlIHR5cGUgaW5zdGVhZFwiLHIpfSxfb3BlblZpZXdUYWJDb250ZXh0TWVudTphc3luYyByPT57Y29uc3QgdD1hd2FpdCgwLEsuYlcpKGUpO3JldHVybiByLmlkZW50aXR5PWUsdC5kaXNwYXRjaChLLk9GLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbCxyKX0sX29wZW5QYWdlVGFiQ29udGV4dE1lbnU6YXN5bmMgcj0+e2NvbnN0IHQ9YXdhaXQoMCxLLmJXKShlKTtyZXR1cm4gci5pZGVudGl0eT1lLHQuZGlzcGF0Y2goSy5PRi5PcGVuUGFnZVRhYkNvbnRleHRNZW51SW50ZXJuYWwscil9LF9vcGVuU2F2ZU1vZGFsOmFzeW5jIHI9Pnthd2FpdCgwLEsuYlcpKGUpO3JldHVybihhd2FpdCgwLFkucDQpKGUpKS5kaXNwYXRjaChZLmFRLk9wZW5TYXZlTW9kYWxJbnRlcm5hbCxyKX0sX2dldExheW91dHNXaXRoU2VsZWN0ZWRWaWV3czphc3luYygpPT4oYXdhaXQoMCxZLnA0KShlKSkuZGlzcGF0Y2goWS5hUS5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbCxlKSxfb3BlblNhdmVCdXR0b25Db250ZXh0TWVudTphc3luYyByPT57Y29uc3QgdD1hd2FpdCgwLEsuYlcpKGUpO3JldHVybiByLmlkZW50aXR5PWUsdC5kaXNwYXRjaChLLk9GLk9wZW5TYXZlQnV0dG9uQ29udGV4dE1lbnVJbnRlcm5hbCxyKX0sX2FkZERlZmF1bHRQYWdlOmFzeW5jIHI9Pntjb25zdCB0PWF3YWl0KDAsSy5iVykoZSk7cmV0dXJuIHIuaWRlbnRpdHk9ZSx0LmRpc3BhdGNoKEsuT0YuQWRkRGVmYXVsdFBhZ2Uscil9LF90cmFja1JlbW92ZWRUYWI6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuVHJhY2tSZW1vdmVkVGFiSW50ZXJuYWwsciksX3Jlc3RvcmVSZW1vdmVkVGFiOmFzeW5jIHI9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLlJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWwsciksX3RyYWNrVmlzaXRlZFNpdGU6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuVHJhY2tWaXNpdGVkU2l0ZUludGVybmFsLHIpLF9nZXRSZWNlbnRseVZpc2l0ZWRTaXRlczphc3luYyByPT4oYXdhaXQoMCxLLmJXKShlKSkuZGlzcGF0Y2goSy5PRi5HZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsLHIpLF9nZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzOmFzeW5jIHI9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLkdldEZyZXF1ZW50bHlWaXNpdGVkU2l0ZXNJbnRlcm5hbCxyKSxfc2VhcmNoU2l0ZXM6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuU2VhcmNoU2l0ZXNJbnRlcm5hbCx7aWRlbnRpdHk6ZSxyZXE6cn0pLF9nZXRTZWFyY2hQcm92aWRlcnM6YXN5bmMoKT0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuR2V0U2VhcmNoUHJvdmlkZXJzSW50ZXJuYWwse2lkZW50aXR5OmV9KSxfZ2V0Q3VyYXRlZENvbnRlbnQ6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuR2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbCx7aWRlbnRpdHk6ZSxyZXE6cn0pLF9oYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbjphc3luYyByPT4oYXdhaXQoMCxLLmJXKShlKSkuZGlzcGF0Y2goSy5PRi5IYW5kbGVSZXF1ZXN0TmF2aWdhdGlvbkludGVybmFsLHIpLF9zZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2U6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuU2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlSW50ZXJuYWwscil9KSxlZT1lPT57Y29uc3Qgcj1maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSk7cmV0dXJue3dyYXBTeW5jOmU9PlgoZSksY3JlYXRlV2luZG93OmFzeW5jIHQ9Pntjb25zdCBvPSgoKT0+e2NvbnN0IGU9YGJyb3dzZXItd2luZG93LXN0YXJ0dXAtJHsoMCxWLk4pKCl9YDtyZXR1cm4gWi5BLm1hcmtTdGFydChlKSxlfSkoKTsoZT0+e2Zpbi5BcHBsaWNhdGlvbi53cmFwU3luYyh7dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZH0pLm9uY2UoXCJ3aW5kb3ctc2hvd25cIiwoKT0+e1ouQS5tYXJrQW5kTWVhc3VyZShcImJyb3dzZXItd2luZG93LXNob3duXCIsZSl9KX0pKG8pLGF3YWl0KDAsSy5iVykoZSk7Y29uc3Qgbj1hd2FpdCByLmNyZWF0ZVdpbmRvdyh0KTtyZXR1cm4oZT0+e1ouQS5tYXJrQW5kTWVhc3VyZShcImJyb3dzZXItd2luZG93LXN0YXJ0ZWRcIixlKX0pKG8pLFgobi5pZGVudGl0eSl9LGdldEFsbEF0dGFjaGVkUGFnZXM6YXN5bmMoKT0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuR2V0QWxsQXR0YWNoZWRQYWdlcyx2b2lkIDApLGdldEFsbFdpbmRvd3M6YXN5bmMoKT0+e2F3YWl0KDAsSy5iVykoZSk7cmV0dXJuKGF3YWl0KDAsZy5JbykoKSkubWFwKGU9PlgoZS5pZGVudGl0eSkpfSxnZXRVbmlxdWVQYWdlVGl0bGU6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuR2V0VW5pcXVlUGFnZVRpdGxlLHIpLGdldExhc3RGb2N1c2VkV2luZG93OmFzeW5jKCk9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdyx2b2lkIDApLGdldFBhZ2VCeVZpZXdJZGVudGl0eTphc3luYyByPT4oYXdhaXQoMCxLLmJXKShlKSkuZGlzcGF0Y2goSy5PRi5HZXRQYWdlQnlWaWV3SWRlbnRpdHkscil9fSxyZT0oZSxyPTApPT57bGV0IHQsbyxuPSExO2NvbnN0IGE9YXN5bmMgbz0+e2NvbnN0IGk9YXdhaXQgZSguLi5vKTtpZihuKXthd2FpdCBuZXcgUHJvbWlzZShlPT5zZXRUaW1lb3V0KGUscikpO2NvbnN0IGU9dDtyZXR1cm4gdD12b2lkIDAsbj0hMSxhKGUpfXJldHVybiBpfTtyZXR1cm4oLi4uZSk9PihvPyhuPSEwLHQ9ZSk6bz1hKGUpLmNhdGNoKGU9Pnt0aHJvdyBjb25zb2xlLmVycm9yKFwibWFrZURlYm91bmNlZEZ1bmNcIixlKSxlfSkuZmluYWxseSgoKT0+e289dm9pZCAwfSksbyl9O3ZhciB0ZT10KDUyMyk7ZnVuY3Rpb24gb2UoZSxyKXtyZXR1cm4gYXN5bmModCwuLi5vKT0+e2UuaGFzKHQpJiZlLmdldCh0KS5mb3JFYWNoKGU9PmUoLi4ubykpLHImJmF3YWl0IHIoe2V2ZW50OnQscGF5bG9hZDpvfSl9fWZ1bmN0aW9uIG5lKGUscil7cmV0dXJuIHImJnIocj0+e2NvbnN0e2V2ZW50OnQscGF5bG9hZDpvfT1yO2UuaGFzKHQpJiZlLmdldCh0KS5mb3JFYWNoKGU9PmUoLi4ubykpfSksKHIsdCk9PntlLmhhcyhyKXx8ZS5zZXQocixuZXcgU2V0KSxlLmdldChyKS5hZGQodCl9fWZ1bmN0aW9uIGFlKGUpe3JldHVybihyLHQpPT57ZS5oYXMocil8fGUuc2V0KHIsbmV3IFNldCk7Y29uc3Qgbz1lLmdldChyKSxuPSguLi5lKT0+e3QoLi4uZSksby5kZWxldGUobil9O28uYWRkKG4pfX1mdW5jdGlvbiBpZShlKXtyZXR1cm4ocix0KT0+e2UuaGFzKHIpJiZlLmdldChyKS5kZWxldGUodCl9fWNvbnN0IGxlPXtuYW1lOmcuUS5Ccm93c2VyTWVudSxhbHdheXNPblRvcDohMCxhdXRvU2hvdzohMCxmcmFtZTohMSxyZXNpemFibGU6ITEsYmFja2dyb3VuZENvbG9yOlwiIzJmMzEzNlwiLHNtYWxsV2luZG93OiEwLHNob3dUYXNrYmFySWNvbjohMSxiYWNrZ3JvdW5kVGhyb3R0bGluZzohMSxzYXZlV2luZG93U3RhdGU6ITF9O2Z1bmN0aW9uIGNlKGUpe2NvbnN0IHI9ey4uLmxlLC4uLmV9O3JldHVybiByLnVybD0oMCx0ZS5UdCkoci51cmw/P1wiXCIpLHJ9Y29uc3Qgc2U9ZnVuY3Rpb24oZSl7Y29uc3Qgcj1uZXcgTWFwO3JldHVybntlbWl0Om9lKHIscj0+bi5jSSYmZmluLkludGVyQXBwbGljYXRpb25CdXMucHVibGlzaChlLHIpKSxhZGRMaXN0ZW5lcjpuZShyLHI9Pm4uY0kmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDpmaW4ubWUudXVpZH0sZSxyKSksYWRkTGlzdGVuZXJXaXRoVVVJRDp0PT5uZShyLHI9Pm4uY0kmJmZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLnN1YnNjcmliZSh7dXVpZDp0fSxlLHIpKSxyZW1vdmVMaXN0ZW5lcjppZShyKSxvbmNlOmFlKHIpfX0oXCJ3aW5kb3cubWVudVwiKSx1ZT0oZSxyKT0+ZmluLldpbmRvdy53cmFwU3luYyhlKS51cGRhdGVPcHRpb25zKHtvcGFjaXR5OnJ9KSxkZT1lPT5zZS5lbWl0KFwicmVzcG9uc2VcIixlKSxmZT1yZSgoKT0+KDAsai52MSkoKS5nZXRDaGlsZFdpbmRvd3MoKSw1MDApO2NvbnN0IHBlPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gZ2UoZSxyLHQpe2NvbnN0IG89Y2UoZSk7aWYoby5iYWNrZ3JvdW5kQ29sb3I9YXdhaXQoMCx5LlB3KShmaW4ubWUuaWRlbnRpdHkpLCFwZS5oYXMoby5uYW1lKSl7cmV0dXJuIG5ldyBQcm9taXNlKG49PntzZS5vbmNlKFwicmVhZHlcIixhc3luYyBlPT57aWYoZS5uYW1lPT09by5uYW1lKXtjb25zdCByPWF3YWl0IHBlLmdldChvLm5hbWUpO28ucHJldmVudEJsdXJ8fHIub25jZShcImJsdXJyZWRcIixhc3luYygpPT57fSksc2V0VGltZW91dChhc3luYygpPT57YXdhaXQgdWUoZSwxKTsxIT09KGF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoZSkuZ2V0T3B0aW9ucygpKS5vcGFjaXR5JiZ1ZShlLDEpfSksbihyKX19KTtjb25zdCBhPShhc3luYygpPT57Y29uc3Qgbj1hd2FpdCBmaW4uUGxhdGZvcm0uZ2V0Q3VycmVudFN5bmMoKS5jcmVhdGVXaW5kb3coaCh7Li4ubyxvcGFjaXR5OjAsdXJsOnJ8fG8udXJsLGRlZmF1bHRMZWZ0OnQ/LmxlZnQsZGVmYXVsdFRvcDp0Py50b3AsZGVmYXVsdFdpZHRoOnQ/LndpZHRoLGRlZmF1bHRIZWlnaHQ6dD8uaGVpZ2h0LHdvcmtzcGFjZVBsYXRmb3JtOntwcmV2ZW50Qmx1cjplLnByZXZlbnRCbHVyfX0sITApKTtyZXR1cm4gbi5vbmNlKFwiY2xvc2VkXCIsKCk9PntwZS5kZWxldGUoby5uYW1lKX0pLG59KSgpO3BlLnNldChvLm5hbWUsYSl9KX1yZXR1cm4gcGUuZ2V0KG8ubmFtZSl9YXN5bmMgZnVuY3Rpb24gaGUoZSxyKXtjb25zdCB0PWNlKGUpLG89e3RvcDp0LnRvcCxsZWZ0OnQubGVmdCx3aWR0aDp0LmRlZmF1bHRXaWR0aHx8dC53aWR0aCxoZWlnaHQ6dC5kZWZhdWx0SGVpZ2h0fHx0LmhlaWdodH07cmV0dXJuIHIuc2V0KFwicGFyZW50TmFtZVwiLGZpbi5XaW5kb3cuZ2V0Q3VycmVudFN5bmMoKS5pZGVudGl0eS5uYW1lKSx7bmFtZTp0Lm5hbWUsYm91bmRzOm8scm91dGU6YCR7dC51cmx9IyR7ci50b1N0cmluZygpfWB9fWFzeW5jIGZ1bmN0aW9uIGJlKHtvcHRpb25zOmUscGFyYW1ldGVyczpyfSl7KDAsZy5fWSkoe25hbWU6ZS5uYW1lLHV1aWQ6ZmluLm1lLmlkZW50aXR5LnV1aWR9KSYmc2UuZW1pdChcIm1vZGFsLW9wZW5lZFwiLGUubmFtZSk7Y29uc3QgdD1yPz9uZXcgVVJMU2VhcmNoUGFyYW1zLG89Y2UoZSkse25hbWU6bixtb2RhbFBhcmVudElkZW50aXR5OmF9PW87aWYoIXQuaGFzKFwiaXNFbnRlcnByaXNlXCIpKXtjb25zdCBlPWAke2F3YWl0KGFzeW5jIGU9PihFfHwoRT1hd2FpdCBSKGUpKSxFKSkoYSl9YDt0LnNldChcImlzRW50ZXJwcmlzZVwiLGUpfWxldCBpPWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybihhd2FpdCBmZSgpKS5maW5kKHI9PnIuaWRlbnRpdHkubmFtZT09PWUpfShuKTtpZihpKWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUscil7Y29uc3R7bmFtZTp0LGJvdW5kczpvLHJvdXRlOm59PWF3YWl0IGhlKGUsciksYT17dXVpZDpmaW4ubWUuaWRlbnRpdHkudXVpZCxuYW1lOnR9LGk9ZmluLldpbmRvdy53cmFwU3luYyhhKTthd2FpdCBQcm9taXNlLmFsbChbaS5oaWRlKCksdWUoYSwwKSxpLnNldEJvdW5kcyhvKV0pLGUucHJldmVudEJsdXJ8fGkub25jZShcImJsdXJyZWRcIiwoKT0+e30pLHNlLmVtaXQoXCJ1cGRhdGVcIix0LG8sbiksYXdhaXQgZGUoe25hbWU6dCxkYXRhOnthY3Rpb25OYW1lOlwiQ2FuY2VsXCJ9fSl9KG8sdCk7ZWxzZXtjb25zdHtyb3V0ZTpyLGJvdW5kczpufT1hd2FpdCBoZShlLHQpO2k9YXdhaXQgZ2Uoey4uLm99LHIsbil9cmV0dXJuIGl9Y29uc3QgdmU9ZT0+KHtjcmVhdGVQYWdlOmFzeW5jIHI9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLkNyZWF0ZVNhdmVkUGFnZUludGVybmFsLHIpLGRlbGV0ZVBhZ2U6YXN5bmMgcj0+KGF3YWl0KDAsSy5iVykoZSkpLmRpc3BhdGNoKEsuT0YuRGVsZXRlU2F2ZWRQYWdlSW50ZXJuYWwsciksdXBkYXRlUGFnZTphc3luYyByPT4oYXdhaXQoMCxLLmJXKShlKSkuZGlzcGF0Y2goSy5PRi5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbCxyKSxnZXRQYWdlOmFzeW5jIHI9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLkdldFNhdmVkUGFnZSxyKSxnZXRQYWdlczphc3luYyByPT4oYXdhaXQoMCxLLmJXKShlKSkuZGlzcGF0Y2goSy5PRi5HZXRTYXZlZFBhZ2VzLHIpLHNhdmVQYWdlOmFzeW5jIHI9Pihhd2FpdCgwLEsuYlcpKGUpKS5kaXNwYXRjaChLLk9GLlNhdmVQYWdlLHIpLGNyZWF0ZVdvcmtzcGFjZTphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkNyZWF0ZVNhdmVkV29ya3NwYWNlLHIpLGRlbGV0ZVdvcmtzcGFjZTphc3luYyByPT57Y29uc3QgdD13ZSgpLG89YXdhaXQgdC5nZXRDdXJyZW50V29ya3NwYWNlKCk7aWYoby53b3Jrc3BhY2VJZD09PXIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZGVsZXRlIGN1cnJlbnQgYWN0aXZlIHdvcmtzcGFjZSAke28udGl0bGV9YCk7cmV0dXJuKGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5EZWxldGVTYXZlZFdvcmtzcGFjZSxyKX0sdXBkYXRlV29ya3NwYWNlOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuVXBkYXRlU2F2ZWRXb3Jrc3BhY2UsciksZ2V0V29ya3NwYWNlOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuR2V0U2F2ZWRXb3Jrc3BhY2UsciksZ2V0V29ya3NwYWNlczphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkdldFNhdmVkV29ya3NwYWNlcyxyKSxnZXRXb3Jrc3BhY2VzTWV0YWRhdGE6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5HZXRTYXZlZFdvcmtzcGFjZXNNZXRhZGF0YSxyKSxzYXZlV29ya3NwYWNlOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuU2F2ZVdvcmtzcGFjZSxyKSxnZXREb2NrUHJvdmlkZXJDb25maWc6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5HZXREb2NrUHJvdmlkZXJDb25maWcsciksc2F2ZURvY2tQcm92aWRlckNvbmZpZzphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLlNhdmVEb2NrUHJvdmlkZXJDb25maWcscil9KTt2YXIgbWU9dCgxODApO2NvbnN0IHllPWU9Pntjb25zdCByPWZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKTtsZXQgdDtyZXR1cm4gT2JqZWN0LmFzc2lnbihyLHthcHBseVNuYXBzaG90OmFzeW5jKHIsdCk9PntpZihcInN0cmluZ1wiIT10eXBlb2YgciYmIXI/LndpbmRvd3MpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgYnJvd3NlciBzbmFwc2hvdFwiKTtyZXR1cm4gZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmFwcGx5U25hcHNob3Qocix0KX0sZ2V0U25hcHNob3Q6KCk9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRTbmFwc2hvdCgpLnRoZW4oZT0+ZSksZ2V0Vmlld1NuYXBzaG90OnI9PmZpbi5QbGF0Zm9ybS53cmFwU3luYyhlKS5nZXRWaWV3U25hcHNob3QociksY3JlYXRlVmlldzoocix0LG8pPT5maW4uUGxhdGZvcm0ud3JhcFN5bmMoZSkuY3JlYXRlVmlldyhyLHQsbyksbGF1bmNoQXBwOmFzeW5jIHI9Pntjb25zb2xlLndhcm4oXCJsYXVuY2hBcHAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSBjcmVhdGVWaWV3IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNhZGQtYS12aWV3LXRvLWFuLWV4aXN0aW5nLXdpbmRvdyBvciAgY3JlYXRlV2luZG93IC0gaHR0cHM6Ly9kZXZlbG9wZXJzLm9wZW5maW4uY28vb2YtZG9jcy9kb2NzL3BsYXRmb3JtLWdldHRpbmctc3RhcnRlZCNjcmVhdGUtYS1wbGF0Zm9ybS13aW5kb3cgaW5zdGVhZC5cIiksci50YXJnZXR8fChyLnRhcmdldD17dXVpZDpuLiRoLG5hbWU6bi52TCxlbnRpdHlUeXBlOm4uZlR8fFwidW5rbm93blwifSk7cmV0dXJuKGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5MYXVuY2hBcHAscil9LF9pbnZva2VDdXN0b21BY3Rpb246YXN5bmMocix0KT0+e2NvbnN0IG49YXdhaXQoMCxLLk4pKGUpLGE9e2FjdGlvbklkOnIscGF5bG9hZDp7Li4udCxjYWxsZXJUeXBlOnQuY2FsbGVyVHlwZXx8by52Yy5BUEl9fTtyZXR1cm4gbi5kaXNwYXRjaChLLk9GLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsLGEpfSxfcmVxdWVzdFF1aXRQbGF0Zm9ybURpYWxvZzphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbCxyKSxfc2hvd1VwZGF0ZVZlcnNpb25Nb2RhbDphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLlNob3dVcGRhdGVWZXJzaW9uTW9kYWxJbnRlcm5hbCxyKSxnZXRDdXJyZW50V29ya3NwYWNlOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuR2V0Q3VycmVudFdvcmtzcGFjZSxyKSxhcHBseVdvcmtzcGFjZTphc3luYyhyLHQpPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkFwcGx5V29ya3NwYWNlLHsuLi5yLG9wdGlvbnM6dH0pLHJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2U6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5SZXN0b3JlTGFzdFNhdmVkV29ya3NwYWNlSW50ZXJuYWwsciksc2V0QWN0aXZlV29ya3NwYWNlOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuU2V0QWN0aXZlV29ya3NwYWNlLHIpLGdldExhbmd1YWdlOmFzeW5jKCk9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuR2V0TGFuZ3VhZ2UpLF9nZXRMYW5ndWFnZVJlc291cmNlczphc3luYygpPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWwpLHNldExhbmd1YWdlOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuU2V0TGFuZ3VhZ2UsciksX3JhaXNlQW5hbHl0aWNzOmFzeW5jIHI9PntpZih0fHwodD1hd2FpdCgwLEsuS1opKGUpKSxcIm9iamVjdFwiPT10eXBlb2YgdCYmdD8uYW5hbHl0aWNzPy5pc1N1cHBvcnRlZCl7cmV0dXJuKGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5BbmFseXRpY3Mscil9ZS51dWlkfSxnZXROb3RpZmljYXRpb25zQ29uZmlnOmFzeW5jKCk9Pntjb25zb2xlLndhcm4oXCJOb3RpZmljYXRpb25zIGNvbmZpZyBpcyBub3cgcGFydCBvZiB0aGUgcGxhdGZvcm0gbWFuaWZlc3QgYW5kIGlzIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZWQgYnkgdGhlIG5vdGlmaWNhdGlvbnMgQVBJLiBEbyBOT1QgdXNlIGdldE5vdGlmaWNhdGlvbnNDb25maWcgbWV0aG9kIGFzIGl0IHdpbGwgbm90IHJldHVybiB0aGUgY29ycmVjdCBjb25maWd1cmF0aW9uLlwiKX0sX3JlZnJlc2hCb29rbWFya3NJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbCksX2xhdW5jaEJvb2ttYXJrSW50ZXJuYWw6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5MYXVuY2hCb29rbWFya0ludGVybmFsLHIpLF91cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWwsciksX3VwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5VcGRhdGVDb250ZW50TWVudUludGVybmFsLHIpLF9sYXVuY2hEb2NrRW50cnlJbnRlcm5hbDphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkxhdW5jaERvY2tFbnRyeUludGVybmFsLHIpLF9zZXREb2NrRmF2b3JpdGVzSW50ZXJuYWw6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbCxyKSxfc2V0RGVmYXVsdERvY2tCdXR0b25zT3JkZXJJbnRlcm5hbDphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWwsciksX3JlbW92ZURvY2tGYXZvcml0ZUludGVybmFsOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuUmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWwsciksX2FkZERvY2tGYXZvcml0ZUludGVybmFsOmFzeW5jIHI9Pihhd2FpdCgwLEsuTikoZSkpLmRpc3BhdGNoKEsuT0YuQWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWwsciksX25hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbDphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLk5hdmlnYXRlQ29udGVudE1lbnVJbnRlcm5hbCxyKSxfb3BlbkRvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkdldERvY2tXb3Jrc3BhY2VzQ29udGV4dE1lbnVJbnRlcm5hbCksX2hhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5IYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsLHIpLF9yZWZyZXNoRG9ja0NvbGxlY3Rpb25NZW51SW50ZXJuYWw6YXN5bmMgcj0+KGF3YWl0KDAsSy5OKShlKSkuZGlzcGF0Y2goSy5PRi5SZWZyZXNoRG9ja0NvbGxlY3Rpb25NZW51SW50ZXJuYWwsciksX2xhdW5jaENvbGxlY3Rpb25JbnRlcm5hbDphc3luYyByPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkxhdW5jaENvbGxlY3Rpb25JbnRlcm5hbCxyKSxfZm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbDphc3luYygpPT4oYXdhaXQoMCxLLk4pKGUpKS5kaXNwYXRjaChLLk9GLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWwpLF9zaG93QWJvdXRQYWdlUG9wdXA6YXN5bmMgZT0+KGFzeW5jIGU9Pntjb25zdCByPW5ldyBVUkxTZWFyY2hQYXJhbXMoey4uLmUsdGl0bGU6XCJBYm91dFwifSksdD1hd2FpdCBtKGZpbi5tZS5pZGVudGl0eSksbz1lLmNvcHlyaWdodE1lc3NhZ2U/MzIwOjI4NixuPSgwLGcuWHEpKHQse2hlaWdodDpvLHdpZHRoOjM2MH0pO3JldHVybiBiZSh7b3B0aW9uczp7ZnJhbWU6ITAsc21hbGxXaW5kb3c6ITAsc2F2ZVdpbmRvd1N0YXRlOiExLHNob3dUYXNrYmFySWNvbjohMCxpbmNsdWRlSW5TbmFwc2hvdHM6ITEsd29ya3NwYWNlUGxhdGZvcm06e3dpbmRvd1R5cGU6XCJlbnRlcnByaXNlXCJ9LHJlc2l6YWJsZTohMSxuYW1lOmcuUS5BYm91dFBhZ2VXaW5kb3csdXJsOmF3YWl0IHAoKSthLkF5LkVudGVycHJpc2VBYm91dFBhZ2UsZGVmYXVsdFdpZHRoOjM2MCxkZWZhdWx0SGVpZ2h0Om8scHJldmVudEJsdXI6ITAsLi4ubn0scGFyYW1ldGVyczpyfSl9KShlKSxUaGVtZTooMCxtZS5OQSkoZSksQnJvd3NlcjplZShlKSxTdG9yYWdlOnZlKGUpfSl9LHdlPSgpPT55ZShmaW4ubWUuaWRlbnRpdHkpO2NvbnN0IF9lPShlLHIpPT5lLmNvbnRlbnQ/ey4uLmUsY29udGVudDplLmNvbnRlbnQubWFwKGU9Pl9lKGUscikpfTp7Li4uZSxjb21wb25lbnRTdGF0ZTpyKGUuY29tcG9uZW50U3RhdGUpfSxrZT1lPT4oey4uLmUsbmFtZTp2b2lkIDB9KSx4ZT1lPT57Y29uc3Qgcj17Li4uZX07cmV0dXJuIF9lKHIsa2UpfSxQZT1lPT57Y29uc3Qgcj1bXTtyZXR1cm4oZSYmQXJyYXkuaXNBcnJheShlKT9lOltdKS5mb3JFYWNoKGU9PntpZihcImNvbXBvbmVudFwiPT09ZS50eXBlKXJldHVybiByLnB1c2goZS5jb21wb25lbnRTdGF0ZSk7Y29uc3QgdD1QZShlLmNvbnRlbnQpO3IucHVzaCguLi50KX0pLHJ9O25ldyBNYXAsbmV3IE1hcCxuZXcgTWFwO2NvbnN0IFNlPWFzeW5jKGUscik9Pntjb25zdCB0PShlPT57Y29uc3Qgcj1maW4uUGxhdGZvcm0uTGF5b3V0LndyYXBTeW5jKGUpO3JldHVybntzaG93OmFzeW5jKCk9Pntjb25zdCB0PWF3YWl0IHIuZ2V0Q29uZmlnKCkse3NldHRpbmdzOm8sZGltZW5zaW9uczpufT10LGE9YXdhaXQgUihlKTthd2FpdCByLnJlcGxhY2Uoey4uLnQsc2V0dGluZ3M6ey4uLm8saGFzSGVhZGVyczohMCxyZW9yZGVyRW5hYmxlZDohMH0sZGltZW5zaW9uczp7Li4ubixoZWFkZXJIZWlnaHQ6YT8yODozMH19KX0saGlkZTphc3luYyBlPT57Y29uc3QgdD1hd2FpdCByLmdldENvbmZpZygpLHtzZXR0aW5nczpvLGRpbWVuc2lvbnM6bn09YXdhaXQgdDthd2FpdCByLnJlcGxhY2Uoey4uLnQsc2V0dGluZ3M6ey4uLm8saGFzSGVhZGVyczohMSxyZW9yZGVyRW5hYmxlZDplPy5zZXR0aW5ncz8ucmVvcmRlckVuYWJsZWQ/PyExfSxkaW1lbnNpb25zOnsuLi5uLGhlYWRlckhlaWdodDowfX0pfSxpc1Nob3dpbmdUYWJzOmFzeW5jKCk9Pnt0cnl7Y29uc3QgZT1hd2FpdCByLmdldENvbmZpZygpLHtzZXR0aW5nczp0fT1hd2FpdCBlO3JldHVybiB0Lmhhc0hlYWRlcnN9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJmYWlsZWQgdG8gZ2V0IGxheW91dCBjb25maWc6IFwiLGUpLCEwfX19fSkoey4uLmcuJHAsbGF5b3V0TmFtZTplLmxheW91dENvbnRhaW5lcktleX0pLG89YXdhaXQgdC5pc1Nob3dpbmdUYWJzKCk7cj4xP298fGF3YWl0IHQuc2hvdygpOjE9PT1yJiZvJiZhd2FpdCB0LmhpZGUoe3NldHRpbmdzOntyZW9yZGVyRW5hYmxlZDohMH19KX0sTWU9KE4oKShhc3luYyBlPT57dHJ5e2lmKCFlfHwhZS5sYXlvdXRDb250YWluZXJLZXkpcmV0dXJuO2NvbnN0IHI9YXdhaXQoYXN5bmMgZT0+ZmluLlBsYXRmb3JtLkxheW91dC53cmFwU3luYyh7Li4uZmluLm1lLmlkZW50aXR5LGxheW91dE5hbWU6ZX0pLmdldENvbmZpZygpKShlLmxheW91dENvbnRhaW5lcktleSksdD1yLmNvbnRlbnQ/UGUoci5jb250ZW50KTpbXSxvPXQubGVuZ3RoO28+MT8oYXN5bmMgZT0+e2lmKFwibXVsdGlWaWV3XCIhPT1lLmF0dGFjaGVkUGFnZVR5cGUpe2NvbnN0IHI9YXdhaXQgd2UoKS5Ccm93c2VyLmdldFVuaXF1ZVBhZ2VUaXRsZSgpO3dlKCkuQnJvd3Nlci53cmFwU3luYyhnLiRwKS51cGRhdGVQYWdlKHtwYWdlSWQ6ZS5wYWdlSWQscGFnZTp7dGl0bGU6ZS50aXRsZT8/cixzaW5nbGVWaWV3TmFtZTpudWxsLGF0dGFjaGVkUGFnZVR5cGU6XCJtdWx0aVZpZXdcIn19KX19KShlKToxPT09byYmKGFzeW5jKGUscik9Pntjb25zdCB0PXdlKCkuQnJvd3Nlci53cmFwU3luYyhnLiRwKTtpZihcInNpbmdsZVZpZXdcIiE9PWUuYXR0YWNoZWRQYWdlVHlwZSl7Y29uc3Qgbz1hd2FpdCBIKGUpO2RlbGV0ZSBvLmxheW91dCxkZWxldGUgby5wYWdlSWQ7Y29uc3Qgbj1maW4uVmlldy53cmFwU3luYyh7dXVpZDpnLiRwLnV1aWQsbmFtZTpyfSksYT1hd2FpdCBuLmdldEluZm8oKSxpPXsuLi5vLHRpdGxlOm51bGwsc2luZ2xlVmlld05hbWU6cixoYXNVbnNhdmVkQ2hhbmdlczohMSxhdHRhY2hlZFBhZ2VUeXBlOlwic2luZ2xlVmlld1wiLHBhZ2VJY29uOmEuZmF2aWNvbnNbMF19O2F3YWl0IHQudXBkYXRlUGFnZSh7cGFnZUlkOmUucGFnZUlkLHBhZ2U6aX0pfX0pKGUsdFswXS5uYW1lKSxhd2FpdCBTZShlLG8pfWNhdGNoKGUpe319LDUwLHtsZWFkaW5nOiExLHRyYWlsaW5nOiEwfSkscmVxdWlyZShcInJlYWN0LWkxOG5leHRcIikscmVxdWlyZShcImkxOG5leHRcIikpO3QubihNZSkoKS50O25ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMucXVldWU9W10sdGhpcy5sb2NrZWQ9ITF9bG9jaygpe3JldHVybiBuZXcgUHJvbWlzZShlPT57dGhpcy5sb2NrZWQ/dGhpcy5xdWV1ZS5wdXNoKGUpOih0aGlzLmxvY2tlZD0hMCxlKCkpfSl9dW5sb2NrKCl7aWYodGhpcy5xdWV1ZS5sZW5ndGg+MCl7Y29uc3QgZT10aGlzLnF1ZXVlLnNoaWZ0KCk7ZSYmZSgpfWVsc2UgdGhpcy5sb2NrZWQ9ITF9fTtuZXcgTWFwO2NvbnN0IEllPWgoe2Fsd2F5c09uVG9wOiEwLGF1dG9TaG93OiExLGZyYW1lOiExLHJlc2l6YWJsZTohMSxzaG93VGFza2Jhckljb246ITF9KTshZnVuY3Rpb24oZT1JZSl7Y29uc3Qgcj1uZXcgTWFwfSgpO3QoOTI3KTtuZXcgTWFwO0RhdGUubm93KCk7TigpKGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IGZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLkFwcGxpY2F0aW9uLmdldENoaWxkV2luZG93cygpO2xldCByLHQ9ITE7Zm9yKGNvbnN0IG8gb2YgZSlpZihvLmlkZW50aXR5Lm5hbWU9PT1nLlEuQnJvd3Nlck1lbnV8fG8uaWRlbnRpdHkubmFtZT09PWcuUS5Ccm93c2VyU2F2ZU1lbnU/cj1vOmF3YWl0KDAsZy5oYikoby5pZGVudGl0eSkmJih0PSEwKSx0KWJyZWFrOyF0JiZyJiZyLmNsb3NlKCl9LDEwMCx7bGVhZGluZzohMSx0cmFpbGluZzohMH0pO3ZhciBDZSxBZTshZnVuY3Rpb24oZSl7ZS5TYXZlPVwiU2F2ZVwiLGUuU2F2ZUFzPVwiU2F2ZUFzXCJ9KENlfHwoQ2U9e30pKSxmdW5jdGlvbihlKXtlLkdsb2JhbE1lbnU9XCJnbG9iYWwtbWVudVwiLGUuQ29udGV4dE1lbnU9XCJjb250ZXh0LW1lbnVcIixlLlJlbmFtZVN1cGVydGFiPVwicmVuYW1lLXN1cGVydGFiXCIsZS5BZGRFZGl0Qm9va21hcms9XCJhZGQtZWRpdC1ib29rbWFya1wiLGUuRHJvcGRvd25NZW51PVwiZHJvcGRvd24tbWVudVwiLGUuWm9vbUNvbnRyb2xzPVwiem9vbS1jb250cm9sc1wifShBZXx8KEFlPXt9KSk7Y29uc3QgT2U9XCJ2aXNpdGVkLXNpdGVzXCIsRmU9XCJyZW1vdmVkLXRhYi1zdGFja1wiLFdlPShuLkFUJiZuLmNJJiZJKFwib3BlbmZpbi1ob21lLXBhZ2VzXCIsXCJwYWdlc1wiKSxuLkFUJiZuLmNJJiZuZXcgay5EZXhpZShTKFwib3BlbmZpbi1lbnRlcnByaXNlLXNpdGUtaGlzdG9yeVwiKSkpO1dlJiZXZS52ZXJzaW9uKC4xKS5zdG9yZXMoe1tPZV06XCJpZCwgdXJsXCJ9KTtjb25zdCB6ZT1uLkFUJiZuLmNJJiZuZXcgay5EZXhpZShTKFwib3BlbmZpbi1lbnRlcnByaXNlLXRhYi1oaXN0b3J5XCIpKTt6ZSYmemUudmVyc2lvbiguMSkuc3RvcmVzKHtbRmVdOlwiXCJ9KTt2YXIgVGU7IWZ1bmN0aW9uKGUpe2UuTGFiZWw9XCJub3JtYWxcIixlLlNlcGFyYXRvcj1cInNlcGFyYXRvclwiLGUuU3VibWVudT1cInN1Ym1lbnVcIixlLkNoZWNrYm94PVwiY2hlY2tib3hcIn0oVGV8fChUZT17fSkpO1RlLlNlcGFyYXRvcjt0KDk5NSk7bmV3IE1hcChbW1wiYmx1ZVwiLHtuYW1lOlwiQmx1ZVwiLGNvbG9yOlwiIzAwOTFFQlwifV0sW1wiaW5kaWdvXCIse25hbWU6XCJJbmRpZ29cIixjb2xvcjpcIiM2NDUwRkZcIn1dLFtcInBpbmtcIix7bmFtZTpcIlBpbmtcIixjb2xvcjpcIiNFODc4Q0ZcIn1dLFtcInRlYWxcIix7bmFtZTpcIlRlYWxcIixjb2xvcjpcIiMyNEQxRDFcIn1dLFtcImdyZWVuXCIse25hbWU6XCJHcmVlblwiLGNvbG9yOlwiIzAwQUY3OFwifV0sW1wib3JhbmdlXCIse25hbWU6XCJPcmFuZ2VcIixjb2xvcjpcIiNGRjdEMzdcIn1dLFtcInJlZFwiLHtuYW1lOlwiUmVkXCIsY29sb3I6XCIjRjk0MTQ0XCJ9XSxbXCJ5ZWxsb3dcIix7bmFtZTpcIlllbGxvd1wiLGNvbG9yOlwiI0Y5Qzc0RlwifV0sW1wiZ3JheVwiLHtuYW1lOlwiR3JheVwiLGNvbG9yOlwiIzgyODc4OFwifV1dKTt2YXIgRGU7IWZ1bmN0aW9uKGUpe2VbZS5Ub3BMZWZ0PTBdPVwiVG9wTGVmdFwiLGVbZS5Ub3BSaWdodD0xXT1cIlRvcFJpZ2h0XCIsZVtlLkJvdHRvbUxlZnQ9Ml09XCJCb3R0b21MZWZ0XCIsZVtlLkJvdHRvbVJpZ2h0PTNdPVwiQm90dG9tUmlnaHRcIixlW2UuQ2VudGVyPTRdPVwiQ2VudGVyXCJ9KERlfHwoRGU9e30pKTsoMCxRLkEpKGAke1widW5kZWZpbmVkXCIhPXR5cGVvZiBmaW4mJmZpbj8ubWUuaWRlbnRpdHkudXVpZH0tZW50ZXJwcmlzZS1kb2NrYCk7Y29uc3QgQmU9XCJkb2NrLXByb3ZpZGVyLWNvbmZpZ3NcIixSZT1uLkFUJiZuLmNJJiZuZXcgay5EZXhpZShTKFwiZG9jay1wcm92aWRlci1jb25maWdzXCIpKTtSZSYmUmUudmVyc2lvbiguMSkuc3RvcmVzKHtbQmVdOlwiXCJ9KTtjb25zdCBFZT1cIndvcmtzcGFjZXNcIjtuLkFUJiZuLmNJJiZJKFwib3BlbmZpbi13b3Jrc3BhY2UtcGxhdGZvcm0td29ya3NwYWNlc1wiLEVlKTt0KDI1MCk7dCgxNzkpfSw2NzU6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3QuZChyLHtxVDooKT0+YSx2YzooKT0+cH0pO3ZhciBvLG4sYSxpLGwsYyxzLHUsZCxmLHA7dCgxNzkpLHQoMjUwKTshZnVuY3Rpb24oZSl7ZS5VcmxDaGFuZ2U9XCJVUkxfQ0hBTkdFXCIsZS5WaWV3QWRkZWQ9XCJWSUVXX0FEREVEXCIsZS5WaWV3UmVtb3ZlZD1cIlZJRVdfUkVNT1ZFRFwiLGUuUGFnZUNvbnRleHRBZGRlZD1cIlBBR0VfQ09OVEVYVF9BRERFRFwiLGUuUGFnZUNvbnRleHRSZW1vdmVkPVwiUEFHRV9DT05URVhUX1JFTU9WRURcIn0ob3x8KG89e30pKSxmdW5jdGlvbihlKXtlLk5ld1dpbmRvdz1cIk5ld1dpbmRvd1wiLGUuTmV3UGFnZT1cIk5ld1BhZ2VcIixlLlNhdmVQYWdlPVwiU2F2ZVBhZ2VcIixlLlNhdmVQYWdlQXM9XCJTYXZlUGFnZUFzXCIsZS5QcmludD1cIlByaW50XCIsZS5QcmludEFsbD1cIlByaW50QWxsXCIsZS5QcmludFNjcmVlbj1cIlByaW50U2NyZWVuXCIsZS5DbG9zZVdpbmRvdz1cIkNsb3NlV2luZG93XCIsZS5SZXN0b3JlQ2hhbmdlcz1cIlJlc3RvcmVDaGFuZ2VzXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZW5hbWVXb3Jrc3BhY2U9XCJSZW5hbWVXb3Jrc3BhY2VcIixlLlN3aXRjaFdvcmtzcGFjZT1cIlN3aXRjaFdvcmtzcGFjZVwiLGUuRGVsZXRlV29ya3NwYWNlPVwiRGVsZXRlV29ya3NwYWNlXCIsZS5Eb3dubG9hZHM9XCJEb3dubG9hZHNcIixlLk9wZW5TdG9yZWZyb250PVwiT3BlblN0b3JlZnJvbnRcIixlLk1hbmFnZURlc2t0b3BTaWduYWxzPVwiTWFuYWdlRGVza3RvcFNpZ25hbHNcIixlLkZpbmRJblBhZ2U9XCJGaW5kSW5QYWdlXCIsZS5BcHBlYXJhbmNlPVwiQXBwZWFyYW5jZVwiLGUuUXVpdD1cIlF1aXRcIixlLkN1c3RvbT1cIkN1c3RvbVwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuTGlnaHQ9XCJsaWdodFwiLGUuRGFyaz1cImRhcmtcIixlLlN5c3RlbT1cInN5c3RlbVwifShhfHwoYT17fSkpLGZ1bmN0aW9uKGUpe2UuQ2xvc2U9XCJDbG9zZVwiLGUuRHVwbGljYXRlPVwiRHVwbGljYXRlXCIsZS5SZW5hbWU9XCJSZW5hbWVcIixlLlNhdmU9XCJTYXZlXCIsZS5TYXZlQXM9XCJTYXZlIEFzXCIsZS5OZXdQYWdlPVwiTmV3IFBhZ2VcIixlLkRlbGV0ZVBhZ2U9XCJEZWxldGUgUGFnZVwiLGUuU2F2ZVdvcmtzcGFjZUFzPVwiU2F2ZVdvcmtzcGFjZUFzXCIsZS5SZWZyZXNoPVwiUmVmcmVzaFwiLGUuQ2xvc2VPdGhlcnM9XCJDbG9zZSBvdGhlcnNcIixlLkRlbGV0ZT1cIkRlbGV0ZVwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUHJpbnRBbGw9XCJQcmludEFsbFwiLGUuUHJpbnRTY3JlZW49XCJQcmludFNjcmVlblwiLGUuTWFuYWdlRGVza3RvcFNpZ25hbHM9XCJNYW5hZ2VEZXNrdG9wU2lnbmFsc1wiLGUuQWRkVG9DaGFubmVsPVwiQWRkVG9DaGFubmVsXCIsZS5DdXN0b209XCJDdXN0b21cIn0oaXx8KGk9e30pKSxmdW5jdGlvbihlKXtlLkxvY2s9XCJMb2NrXCIsZS5TaG93SGlkZVRhYnM9XCJTaG93SGlkZVRhYnNcIixlLkFkZFRvQ2hhbmVsPVwiQWRkVG9DaGFubmVsXCIsZS5NYW5hZ2VEZXNrdG9wU2lnbmFscz1cIk1hbmFnZURlc2t0b3BTaWduYWxzXCIsZS5GaW5kSW5QYWdlPVwiRmluZEluUGFnZVwiLGUuUHJpbnQ9XCJQcmludFwiLGUuUGluPVwiUGluXCJ9KGx8fChsPXt9KSksZnVuY3Rpb24oZSl7ZS5FZGl0TmFtZT1cIkVkaXQgTmFtZVwiLGUuTW92ZT1cIk1vdmVcIixlLkRlbGV0ZT1cIkRlbGV0ZVwifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuTmV3Vmlldz1cIk5ld1ZpZXdcIixlLkR1cGxpY2F0ZVZpZXdzPVwiRHVwbGljYXRlVmlld1wiLGUuT3BlbldpdGhEZWZhdWx0QnJvd3Nlcj1cIk9wZW5XaXRoRGVmYXVsdEJyb3dzZXJcIixlLlJlbG9hZFZpZXdzPVwiUmVsb2FkVGFiXCIsZS5DbG9zZVZpZXdzPVwiQ2xvc2VUYWJcIixlLkFkZFRvQ2hhbm5lbD1cIkFkZFRvQ2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJSZW1vdmVGcm9tQ2hhbm5lbFwiLGUuQmFjaz1cIkJhY2tcIixlLkZvcndhcmQ9XCJGb3J3YXJkXCIsZS5QcmludD1cIlByaW50XCIsZS5QcmludEFsbD1cIlByaW50QWxsXCIsZS5QcmludFNjcmVlbj1cIlByaW50U2NyZWVuXCIsZS5DdXN0b209XCJDdXN0b21cIn0oc3x8KHM9e30pKSxmdW5jdGlvbihlKXtlLlNob3dIaWRlVGFicz1cIlNob3dIaWRlVGFic1wiLGUuQ29sb3JMaW5raW5nPVwiQ29sb3JMaW5raW5nXCIsZS5QcmVzZXRMYXlvdXRzPVwiUHJlc2V0TGF5b3V0c1wiLGUuTG9ja1VubG9ja1BhZ2U9XCJMb2NrVW5sb2NrUGFnZVwiLGUuU2F2ZU1lbnU9XCJTYXZlTWVudVwiLGUuU2F2ZVBhZ2U9XCJTYXZlUGFnZVwiLGUuRG93bmxvYWQ9XCJEb3dubG9hZFwiLGUuTWluaW1pc2U9XCJNaW5pbWlzZVwiLGUuTWF4aW1pc2U9XCJNYXhpbWlzZVwiLGUuQ2xvc2U9XCJDbG9zZVwiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KHV8fCh1PXt9KSksZnVuY3Rpb24oZSl7ZS5TYXZlUGFnZT1cIlNhdmVQYWdlXCIsZS5TYXZlV29ya3NwYWNlPVwiU2F2ZVdvcmtzcGFjZVwiLGUuU2F2ZVBhZ2VBcz1cIlNhdmVQYWdlQXNcIixlLlNhdmVXb3Jrc3BhY2VBcz1cIlNhdmVXb3Jrc3BhY2VBc1wiLGUuQ3VzdG9tPVwiQ3VzdG9tXCJ9KGR8fChkPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiYnJvd3NlclwiLGUuUGxhdGZvcm09XCJwbGF0Zm9ybVwifShmfHwoZj17fSkpLGZ1bmN0aW9uKGUpe2UuQ3VzdG9tQnV0dG9uPVwiQ3VzdG9tQnV0dG9uXCIsZS5TdG9yZUN1c3RvbUJ1dHRvbj1cIlN0b3JlQ3VzdG9tQnV0dG9uXCIsZS5DdXN0b21Ecm9wZG93bkl0ZW09XCJDdXN0b21Ecm9wZG93bkl0ZW1cIixlLkdsb2JhbENvbnRleHRNZW51PVwiR2xvYmFsQ29udGV4dE1lbnVcIixlLlZpZXdUYWJDb250ZXh0TWVudT1cIlZpZXdUYWJDb250ZXh0TWVudVwiLGUuUGFnZVRhYkNvbnRleHRNZW51PVwiUGFnZVRhYkNvbnRleHRNZW51XCIsZS5TYXZlQnV0dG9uQ29udGV4dE1lbnU9XCJTYXZlQnV0dG9uQ29udGV4dE1lbnVcIixlLkFQST1cIkFQSVwifShwfHwocD17fSkpO3ZhciBnOyFmdW5jdGlvbihlKXtlLlNBVkVfUEFHRT1cIlNBVkVfUEFHRVwiLGUuU0FWRV9XT1JLU1BBQ0U9XCJTQVZFX1dPUktTUEFDRVwiLGUuU0FWRV9QQUdFX0FTPVwiU0FWRV9QQUdFX0FTXCIsZS5TQVZFX1dPUktTUEFDRV9BUz1cIlNBVkVfV09SS1NQQUNFX0FTXCIsZS5SRU5BTUVfUEFHRT1cIlJFTkFNRV9QQUdFXCIsZS5SRU5BTUVfV09SS1NQQUNFPVwiUkVOQU1FX1dPUktTUEFDRVwifShnfHwoZz17fSkpfSwxMjk6KCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZSxyLHQ7IWZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0oZXx8KGU9e30pKSxmdW5jdGlvbihlKXtlLlVzZXJBY3Rpb249XCJ1c2VyLWFjdGlvblwiLGUuRm9jdXNDaGFuZ2U9XCJmb2N1cy1jaGFuZ2VcIixlLlJlbG9hZD1cInJlbG9hZFwifShyfHwocj17fSkpLGZ1bmN0aW9uKGUpe2UuQWN0aXZlPVwiYWN0aXZlXCIsZS5EZWZhdWx0PVwiZGVmYXVsdFwifSh0fHwodD17fSkpfSw2MDA6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3ZhciBvOyFmdW5jdGlvbihlKXtlLkFjdGlvbkJ1dHRvbj1cIkFjdGlvbkJ1dHRvblwiLGUuRHJvcGRvd25CdXR0b249XCJEcm9wZG93bkJ1dHRvblwifShvfHwobz17fSkpfSw4NzI6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3ZhciBvLG4sYTshZnVuY3Rpb24oZSl7ZS5TdWdnZXN0aW9uPVwic3VnZ2VzdGlvblwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuQ29udGFjdD1cIkNvbnRhY3RcIixlLkN1c3RvbT1cIkN1c3RvbVwiLGUuTGlzdD1cIkxpc3RcIixlLlBsYWluPVwiUGxhaW5cIixlLlNpbXBsZVRleHQ9XCJTaW1wbGVUZXh0XCIsZS5Mb2FkaW5nPVwiTG9hZGluZ1wiLGUuRXJyb3I9XCJFcnJvclwifShufHwobj17fSkpLGZ1bmN0aW9uKGUpe2UuTXVsdGlTZWxlY3Q9XCJNdWx0aVNlbGVjdFwifShhfHwoYT17fSkpfSwxNzk6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3QoMTI5KSx0KDg3MiksdCg3MTApLHQoMTg0KSx0KDYwMCl9LDcxMDooZSxyLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG8sbjshZnVuY3Rpb24oZSl7ZS5TbmFwc2hvdD1cInNuYXBzaG90XCIsZS5NYW5pZmVzdD1cIm1hbmlmZXN0XCIsZS5WaWV3PVwidmlld1wiLGUuRXh0ZXJuYWw9XCJleHRlcm5hbFwifShvfHwobz17fSkpLGZ1bmN0aW9uKGUpe2UuTGFuZGluZ1BhZ2U9XCJsYW5kaW5nUGFnZVwiLGUuQXBwR3JpZD1cImFwcEdyaWRcIn0obnx8KG49e30pKX0sMTg0OihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt2YXIgbzshZnVuY3Rpb24oZSl7ZS5QcmltYXJ5PVwicHJpbWFyeVwiLGUuU2Vjb25kYXJ5PVwic2Vjb25kYXJ5XCIsZS5UZXh0T25seT1cInRleHRPbmx5XCJ9KG98fChvPXt9KSl9LDI1MDooZSxyLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG87IWZ1bmN0aW9uKGUpe2UuTGVmdD1cIkxlZnRcIixlLlJpZ2h0PVwiUmlnaHRcIixlLlRvcD1cIlRvcFwiLGUuQm90dG9tPVwiQm90dG9tXCJ9KG98fChvPXt9KSl9LDMyNjooZSxyLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dC5kKHIse0hjOigpPT51LGFROigpPT5wLHA0OigpPT5pfSk7dmFyIG89dCgxMDIpO3QoNzApO2NvbnN0IG49KGUscik9PnI/YCR7cn0tJHtlLnV1aWR9LSR7ZS5uYW1lfWA6YF9fYnJvd3Nlcl93aW5kb3dfXy0ke2UudXVpZH0tJHtlLm5hbWV9YCxhPW5ldyBNYXAsaT0oZSxyKT0+e2NvbnN0IHQ9bihlLHIpO3JldHVybiBpPXQsYS5oYXMoaSl8fGEuc2V0KGksKDAsby5BKShpKSksYS5nZXQoaSkoKTt2YXIgaX07dmFyIGwsYyxzLHUsZCxmOyFmdW5jdGlvbihlKXtlLkNsb3NlQnJvd3NlcldpbmRvdz1cImNsb3NlLWJyb3dzZXItd2luZG93XCIsZS5RdWl0UGxhdGZvcm09XCJxdWl0LXBsYXRmb3JtXCIsZS5DbG9zZVBhZ2U9XCJjbG9zZS1wYWdlXCIsZS5BZGRUb0NoYW5uZWw9XCJhZGQtdG8tY2hhbm5lbFwiLGUuUmVtb3ZlRnJvbUNoYW5uZWw9XCJyZW1vdmUtZnJvbS1jaGFubmVsXCIsZS5PcGVuU2F2ZU1vZGFsSW50ZXJuYWw9XCJvcGVuLXNhdmUtbW9kYWwtaW50ZXJuYWxcIixlLkR1cGxpY2F0ZVBhZ2U9XCJkdXBsaWNhdGUtcGFnZVwiLGUuU2V0U2VsZWN0ZWRTY2hlbWU9XCJzZXQtc2VsZWN0ZWQtc2NoZW1lXCIsZS5TaG93QnJvd3NlckluZGljYXRvcj1cInNob3ctYnJvd3Nlci1pbmRpY2F0b3JcIixlLlNldFNlbGVjdGVkTGFuZ3VhZ2U9XCJzZXQtc2VsZWN0ZWQtbGFuZ3VhZ2VcIixlLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD1cInJlZnJlc2gtYm9va21hcmtzXCIsZS5HZXRMYXlvdXRzV2l0aFNlbGVjdGVkVmlld3NJbnRlcm5hbD1cImdldC1sYXlvdXRzLXdpdGgtc2VsZWN0ZWQtdmlld3NcIixlLkZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWw9XCJmb2N1cy1hbmQtZXhwYW5kLXNlYXJjaFwifShsfHwobD17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0UGFnZXM9XCJnZXQtcGFnZXNcIixlLkdldEFjdGl2ZVBhZ2VGb3JXaW5kb3c9XCJnZXQtYWN0aXZlLXBhZ2UtZm9yLXdpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaC1wYWdlcy10by13aW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaC1wYWdlcy1mcm9tLXdpbmRvd1wiLGUuU2V0QWN0aXZlUGFnZUZvcldpbmRvdz1cInNldC1hY3RpdmUtcGFnZS1mb3Itd2luZG93XCIsZS5SZW5hbWVQYWdlPVwicmVuYW1lLXBhZ2VcIixlLlJlb3JkZXJQYWdlc0ZvcldpbmRvdz1cInJlb3JkZXItcGFnZXMtZm9yLXdpbmRvd1wiLGUuVXBkYXRlUGFnZUZvcldpbmRvdz1cInVwZGF0ZS1wYWdlLWZvci13aW5kb3dcIixlLlVwZGF0ZVBhZ2VzV2luZG93T3B0aW9ucz1cInVwZGF0ZS1wYWdlcy13aW5kb3ctb3B0aW9uc1wiLGUuSXNEZXRhY2hpbmdQYWdlcz1cImlzLWRldGFjaGluZy1wYWdlc1wiLGUuSXNBY3RpdmVQYWdlQ2hhbmdpbmc9XCJpcy1hY3RpdmUtcGFnZS1jaGFuZ2luZ1wifShjfHwoYz17fSkpLGZ1bmN0aW9uKGUpe2UuR2V0QXBwcz1cImdldC1hcHBzXCIsZS5HZXRDdXJhdGVkQ29udGVudD1cImdldC1jdXJhdGVkLWNvbnRlbnRcIixlLkdldFJlY2VudGx5VmlzaXRlZD1cImdldC1yZWNlbnRseS12aXNpdGVkXCIsZS5HZXRTZWFyY2hQcm92aWRlcnM9XCJnZXQtc2VhcmNoLXByb3ZpZGVyc1wifShzfHwocz17fSkpLGZ1bmN0aW9uKGUpe2UuQ3JlYXRlQm9va21hcmtOb2RlPVwiY3JlYXRlLWJvb2ttYXJrLW5vZGVcIixlLkdldEJvb2ttYXJrTm9kZT1cImdldC1ib29rbWFyay1ub2RlXCIsZS5TZWFyY2hCb29rbWFya05vZGVzPVwic2VhcmNoLWJvb2ttYXJrLW5vZGVzXCIsZS5VcGRhdGVCb29rbWFya05vZGU9XCJ1cGRhdGUtYm9va21hcmstbm9kZVwiLGUuRGVsZXRlQm9va21hcmtOb2RlPVwiZGVsZXRlLWJvb2ttYXJrLW5vZGVcIn0odXx8KHU9e30pKSxmdW5jdGlvbihlKXtlLlVwZGF0ZUZhdm9yaXRlRW50cmllcz1cInVwZGF0ZS1mYXZvcml0ZS1lbnRyaWVzXCIsZS5VcGRhdGVDb250ZW50TWVudT1cInVwZGF0ZS1jb250ZW50LW1lbnVcIixlLk5hdmlnYXRlQ29udGVudE1lbnU9XCJuYXZpZ2F0ZS1jb250ZW50LW1lbnVcIixlLk1vcmVNZW51Q3VzdG9tT3B0aW9uQ2xpY2tlZD1cIm1vcmUtbWVudS1jdXN0b20tb3B0aW9uLWNsaWNrZWRcIixlLlJlZnJlc2hEb2NrQ29sbGVjdGlvbk1lbnU9XCJyZWZyZXNoLWRvY2stY29sbGVjdGlvbi1tZW51XCJ9KGR8fChkPXt9KSksZnVuY3Rpb24oZSl7ZS5TZW5kVXBkYXRlVmVyc2lvbk1vZGFsUmVzcG9uc2U9XCJzZW5kLXVwZGF0ZS12ZXJzaW9uLW1vZGFsLXJlc3BvbnNlXCIsZS5TZW5kSW50ZW50UmVzb2x2ZXJNb2RhbFJlc3BvbnNlPVwic2VuZC1pbnRlbnQtcmVzb2x2ZXItbW9kYWwtcmVzcG9uc2VcIn0oZnx8KGY9e30pKTtjb25zdCBwPXsuLi5sLC4uLmMsLi4uZH19LDc4OihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0LmQocix7WEk6KCk9Pm4sa3o6KCk9Pml9KTt0KDEwMik7dmFyIG89dCg3MCk7Y29uc3Qgbj1cIm9mLXdvcmtzcGFjZS1ub3RpZmljYXRpb25zLXN5bmNcIjt2YXIgYTthc3luYyBmdW5jdGlvbiBpKCl7Y29uc3QgZT1hd2FpdCBhc3luYyBmdW5jdGlvbigpe3RyeXtjb25zdCBlPWF3YWl0IGZpbi5BcHBsaWNhdGlvbi5nZXRDdXJyZW50U3luYygpLmdldE1hbmlmZXN0KCkscj1lPy5ub3RpZmljYXRpb25zPy5jdXN0b21NYW5pZmVzdD8ubWFuaWZlc3RVdWlkO3JldHVybiByfHxvLmN0LnV1aWR9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBnZXQgbWFuaWZlc3Qgb3B0aW9ucyBmb3Igbm90aWZpY2F0aW9ucywgZGVmYXVsdGluZyB0byBzdGFuZGFyZCBub3RpZmljYXRpb24gY2VudGVyIHV1aWQuXCIsZSksby5jdC51dWlkfX0oKTtyZXR1cm4gZSE9PW8uY3QudXVpZD9gJHtlfS0ke259YDpufSFmdW5jdGlvbihlKXtlLlVwZGF0ZVBsYXRmb3JtVGhlbWVTY2hlbWU9XCJ1cGRhdGUtcGxhdGZvcm0tdGhlbWUtc2NoZW1lXCJ9KGF8fChhPXt9KSl9LDc5OihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt2YXIgbzt0LmQocix7S1o6KCk9PmEsTjooKT0+aSxPRjooKT0+byxiVzooKT0+bH0pLGZ1bmN0aW9uKGUpe2UuTGF1bmNoQXBwPVwibGF1bmNoQXBwXCIsZS5TYXZlUGFnZT1cInNhdmVQYWdlXCIsZS5HZXRTYXZlZFBhZ2U9XCJnZXRTYXZlZFBhZ2VcIixlLkNyZWF0ZVNhdmVkUGFnZT1cImNyZWF0ZVNhdmVkUGFnZVwiLGUuVXBkYXRlU2F2ZWRQYWdlPVwidXBkYXRlU2F2ZWRQYWdlXCIsZS5EZWxldGVTYXZlZFBhZ2U9XCJkZWxldGVTYXZlZFBhZ2VcIixlLkdldFNhdmVkUGFnZXM9XCJnZXRTYXZlZFBhZ2VzXCIsZS5DcmVhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cImNyZWF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVTYXZlZFBhZ2VJbnRlcm5hbD1cInVwZGF0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5EZWxldGVTYXZlZFBhZ2VJbnRlcm5hbD1cImRlbGV0ZVNhdmVkUGFnZUludGVybmFsXCIsZS5VcGRhdGVQYWdlRm9yV2luZG93PVwidXBkYXRlUGFnZUZvcldpbmRvd1wiLGUuQXR0YWNoUGFnZXNUb1dpbmRvdz1cImF0dGFjaFBhZ2VzVG9XaW5kb3dcIixlLkRldGFjaFBhZ2VzRnJvbVdpbmRvdz1cImRldGFjaFBhZ2VzRnJvbVdpbmRvd1wiLGUuUmVvcmRlclBhZ2VzRm9yV2luZG93PVwicmVvcmRlclBhZ2VzRm9yV2luZG93XCIsZS5TZXRBY3RpdmVQYWdlPVwic2V0QWN0aXZlUGFnZVwiLGUuQWRkUGFnZT1cImFkZFBhZ2VcIixlLkFkZERlZmF1bHRQYWdlPVwiYWRkRGVmYXVsdFBhZ2VcIixlLkdldEFsbEF0dGFjaGVkUGFnZXM9XCJnZXRBbGxBdHRhY2hlZFBhZ2VzXCIsZS5HZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3c9XCJnZXRBY3RpdmVQYWdlSWRGb3JXaW5kb3dcIixlLkdldFBhZ2VzRm9yV2luZG93PVwiZ2V0UGFnZXNGb3JXaW5kb3dcIixlLkdldFBhZ2VGb3JXaW5kb3c9XCJnZXRQYWdlRm9yV2luZG93XCIsZS5HZXRTYXZlZFBhZ2VNZXRhZGF0YT1cImdldFNhdmVkUGFnZU1ldGFkYXRhXCIsZS5HZXRVbmlxdWVQYWdlVGl0bGU9XCJnZXRVbmlxdWVQYWdlVGl0bGVcIixlLkdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvdz1cImdldExhc3RGb2N1c2VkQnJvd3NlcldpbmRvd1wiLGUuR2V0UGFnZUJ5Vmlld0lkZW50aXR5PVwiZ2V0UGFnZUJ5Vmlld0lkZW50aXR5XCIsZS5HZXRUaGVtZXM9XCJnZXRUaGVtZXNcIixlLkdldEdlbmVyYXRlZFBhbGV0dGVzPVwiZ2V0R2VuZXJhdGVkUGFsZXR0ZXNcIixlLkdldFRoZW1lUGFsZXR0ZVNoZWV0PVwiZ2V0VGhlbWVQYWxldHRlU2hlZXRcIixlLkdldFNlbGVjdGVkU2NoZW1lPVwiZ2V0U2VsZWN0ZWRTY2hlbWVcIixlLlNldFNlbGVjdGVkU2NoZW1lPVwic2V0U2VsZWN0ZWRTY2hlbWVcIixlLk9wZW5HbG9iYWxDb250ZXh0TWVudUludGVybmFsPVwib3Blbkdsb2JhbENvbnRleHRNZW51SW50ZXJuYWxcIixlLk9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbD1cIm9wZW5WaWV3VGFiQ29udGV4dE1lbnVJbnRlcm5hbFwiLGUuT3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsPVwib3BlblBhZ2VUYWJDb250ZXh0TWVudUludGVybmFsXCIsZS5PcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWw9XCJvcGVuU2F2ZUJ1dHRvbkNvbnRleHRNZW51SW50ZXJuYWxcIixlLkludm9rZUN1c3RvbUFjdGlvbkludGVybmFsPVwiaW52b2tlQ3VzdG9tQWN0aW9uSW50ZXJuYWxcIixlLlJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbD1cInJlcXVlc3RRdWl0UGxhdGZvcm1EaWFsb2dJbnRlcm5hbFwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2U9XCJnZXRTYXZlZFdvcmtzcGFjZVwiLGUuQ3JlYXRlU2F2ZWRXb3Jrc3BhY2U9XCJjcmVhdGVTYXZlZFdvcmtzcGFjZVwiLGUuVXBkYXRlU2F2ZWRXb3Jrc3BhY2U9XCJ1cGRhdGVTYXZlZFdvcmtzcGFjZVwiLGUuRGVsZXRlU2F2ZWRXb3Jrc3BhY2U9XCJkZWxldGVTYXZlZFdvcmtzcGFjZVwiLGUuR2V0U2F2ZWRXb3Jrc3BhY2VzPVwiZ2V0U2F2ZWRXb3Jrc3BhY2VzXCIsZS5HZXRTYXZlZFdvcmtzcGFjZXNNZXRhZGF0YT1cImdldFNhdmVkV29ya3NwYWNlc01ldGFkYXRhXCIsZS5TYXZlV29ya3NwYWNlPVwic2F2ZVdvcmtzcGFjZVwiLGUuR2V0Q3VycmVudFdvcmtzcGFjZT1cImdldEN1cnJlbnRXb3Jrc3BhY2VcIixlLkFwcGx5V29ya3NwYWNlPVwiYXBwbHlXb3Jrc3BhY2VcIixlLlJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbD1cInJlc3RvcmVMYXN0U2F2ZWRXb3Jrc3BhY2VJbnRlcm5hbFwiLGUuU2V0QWN0aXZlV29ya3NwYWNlPVwic2V0QWN0aXZlV29ya3NwYWNlXCIsZS5Jc0Jyb3dzZXJJbml0aWFsaXplZD1cImlzQnJvd3NlckluaXRpYWxpemVkXCIsZS5BbmFseXRpY3M9XCJhbmFseXRpY3NJbnRlcm5hbFwiLGUuR2V0TGFuZ3VhZ2U9XCJnZXRMYW5ndWFnZVwiLGUuR2V0TGFuZ3VhZ2VSZXNvdXJjZXNJbnRlcm5hbD1cImdldExhbmd1YWdlUmVzb3VyY2VzSW50ZXJuYWxcIixlLlNldExhbmd1YWdlPVwic2V0TGFuZ3VhZ2VcIixlLkdldERvY2tQcm92aWRlckNvbmZpZz1cImdldERvY2tQcm92aWRlckNvbmZpZ1wiLGUuU2F2ZURvY2tQcm92aWRlckNvbmZpZz1cInNhdmVEb2NrUHJvdmlkZXJDb25maWdcIixlLkhhbmRsZVNhdmVNb2RhbE9uUGFnZUNsb3NlPVwiaGFuZGxlU2F2ZU1vZGFsT25QYWdlQ2xvc2VcIixlLlNob3VsZFBhZ2VDbG9zZT1cInNob3VsZFBhZ2VDbG9zZVwiLGUuU2hvdWxkV2luZG93Q2xvc2U9XCJzaG91bGRXaW5kb3dDbG9zZVwiLGUuQ29weVBhZ2U9XCJjb3B5UGFnZVwiLGUuSGFuZGxlUGFnZUNoYW5nZXM9XCJoYW5kbGVQYWdlQ2hhbmdlc1wiLGUuTWFya1Vuc2F2ZWRQYWdlc0FzU2F2ZWRJbnRlcm5hbD1cIm1hcmtVbnNhdmVkUGFnZXNBc1NhdmVkSW50ZXJuYWxcIixlLlRyYWNrUmVtb3ZlZFRhYkludGVybmFsPVwidHJhY2tSZW1vdmVkVGFiSW50ZXJuYWxcIixlLlJlc3RvcmVSZW1vdmVkVGFiSW50ZXJuYWw9XCJyZXN0b3JlUmVtb3ZlZFRhYkludGVybmFsXCIsZS5UcmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWw9XCJ0cmFja1Zpc2l0ZWRTaXRlSW50ZXJuYWxcIixlLkdldFJlY2VudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRSZWNlbnRseVZpc2l0ZWRTaXRlc0ludGVybmFsXCIsZS5HZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWw9XCJnZXRGcmVxdWVudGx5VmlzaXRlZFNpdGVzSW50ZXJuYWxcIixlLlNlYXJjaFNpdGVzSW50ZXJuYWw9XCJzZWFyY2hTaXRlc0ludGVybmFsXCIsZS5HZXRTZWFyY2hQcm92aWRlcnNJbnRlcm5hbD1cImdldFNlYXJjaFByb3ZpZGVyc0ludGVybmFsXCIsZS5HZXRDdXJhdGVkQ29udGVudEludGVybmFsPVwiZ2V0Q3VyYXRlZENvbnRlbnRJbnRlcm5hbFwiLGUuSGFuZGxlUmVxdWVzdE5hdmlnYXRpb25JbnRlcm5hbD1cImhhbmRsZVJlcXVlc3ROYXZpZ2F0aW9uSW50ZXJuYWxcIixlLlJlZnJlc2hCb29rbWFya3NJbnRlcm5hbD1cInJlZnJlc2hCb29rbWFya3NJbnRlcm5hbFwiLGUuTGF1bmNoQm9va21hcmtJbnRlcm5hbD1cImxhdW5jaEJvb2ttYXJrSW50ZXJuYWxcIixlLkdldE5vdGlmaWNhdGlvbnNDb25maWc9XCJnZXROb3RpZmljYXRpb25zQ29uZmlnXCIsZS5VcGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWw9XCJ1cGRhdGVEb2NrRmF2b3JpdGVzSW50ZXJuYWxcIixlLlVwZGF0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJ1cGRhdGVDb250ZW50TWVudUludGVybmFsXCIsZS5MYXVuY2hEb2NrRW50cnlJbnRlcm5hbD1cImxhdW5jaERvY2tFbnRyeUludGVybmFsXCIsZS5TZXREb2NrRmF2b3JpdGVzT3JkZXJJbnRlcm5hbD1cInNldERvY2tGYXZvcml0ZXNPcmRlckludGVybmFsXCIsZS5OYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWw9XCJuYXZpZ2F0ZUNvbnRlbnRNZW51SW50ZXJuYWxcIixlLlNldERlZmF1bHREb2NrQnV0dG9uc09yZGVySW50ZXJuYWw9XCJzZXREZWZhdWx0RG9ja0J1dHRvbnNPcmRlckludGVybmFsXCIsZS5HZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWw9XCJnZXREb2NrV29ya3NwYWNlc0NvbnRleHRNZW51SW50ZXJuYWxcIixlLkhhbmRsZURvY2tXb3Jrc3BhY2VzTWVudVJlc3BvbnNlSW50ZXJuYWw9XCJoYW5kbGVEb2NrV29ya3NwYWNlc01lbnVSZXNwb25zZUludGVybmFsXCIsZS5SZWZyZXNoRG9ja0NvbGxlY3Rpb25NZW51SW50ZXJuYWw9XCJyZWZyZXNoRG9ja0NvbGxlY3Rpb25NZW51SW50ZXJuYWxcIixlLkxhdW5jaENvbGxlY3Rpb25JbnRlcm5hbD1cImxhdW5jaENvbGxlY3Rpb25JbnRlcm5hbFwiLGUuUmVtb3ZlRG9ja0Zhdm9yaXRlSW50ZXJuYWw9XCJyZW1vdmVEb2NrRmF2b3JpdGVJbnRlcm5hbFwiLGUuQWRkRG9ja0Zhdm9yaXRlSW50ZXJuYWw9XCJhZGREb2NrRmF2b3JpdGVJbnRlcm5hbFwiLGUuRm9jdXNBbmRFeHBhbmRTZWFyY2hJbnRlcm5hbD1cImZvY3VzQW5kRXhwYW5kU2VhcmNoSW50ZXJuYWxcIixlLlNlbmRVcGRhdGVWZXJzaW9uTW9kYWxSZXNwb25zZUludGVybmFsPVwic2VuZFVwZGF0ZVZlcnNpb25Nb2RhbFJlc3BvbnNlSW50ZXJuYWxcIixlLlNob3dVcGRhdGVWZXJzaW9uTW9kYWxJbnRlcm5hbD1cInNob3dVcGRhdGVWZXJzaW9uTW9kYWxJbnRlcm5hbFwiLGUuR2V0Tm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzSW50ZXJuYWw9XCJnZXROb3RpZmljYXRpb25JbmRpY2F0b3JDb2xvcnNJbnRlcm5hbFwifShvfHwobz17fSkpO2NvbnN0IG49YXN5bmMgZT0+ZmluLlBsYXRmb3JtLndyYXBTeW5jKGUpLmdldENsaWVudCgpLGE9YXN5bmMgZT0+e2NvbnN0IHI9YXdhaXQgbihlKSx0PVwiVGFyZ2V0IGlzIG5vdCBhIFdvcmtzcGFjZSBQbGF0Zm9ybS4gVGFyZ2V0IG11c3QgY2FsbCBXb3Jrc3BhY2VQbGF0Zm9ybS5pbml0XCI7bGV0IG87dHJ5e289YXdhaXQgci5kaXNwYXRjaChcImlzV29ya3NwYWNlUGxhdGZvcm1cIil9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKHQpfWlmKFwiYm9vbGVhblwiPT10eXBlb2YgbyYmbylyZXR1cm4gY29uc29sZS53YXJuKFwiWW91IGFyZSB1c2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSB3b3Jrc3BhY2UgcGxhdGZvcm0uIFBsZWFzZSB1cGRhdGUgeW91ciB3b3Jrc3BhY2UgcGxhdGZvcm0uXCIpLG87aWYoXCJvYmplY3RcIj09dHlwZW9mIG8mJm8uaXNXb3Jrc3BhY2VQbGF0Zm9ybSlyZXR1cm4gbzt0aHJvdyBuZXcgRXJyb3IodCl9LGk9YXN5bmMgZT0+KGF3YWl0IGEoZSksbihlKSksbD1hc3luYyBlPT57Y29uc3Qgcj1hd2FpdCBhKGUpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiByJiYhMCE9PXI/LmlzQnJvd3NlckluaXRpYWxpemVkKXRocm93IG5ldyBFcnJvcihcIlRhcmdldCBpcyBub3QgYSBCcm93c2VyLWVuYWJsZWQgV29ya3NwYWNlIFBsYXRmb3JtLlwiKTtyZXR1cm4gbihlKX19LDY5NTooZSxyLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIG89dCgxMDIpLG49KHQoNzIzKSx0KDcwKSx0KDkwNSkpO3QoOTI3KSx0KDE4MCk7KDAsby5BKShcIl9fb2Zfd29ya3NwYWNlX3Byb3RvY29sX19cIiksKDAsby5BKShuLkJUKX0sOTA1OihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0LmQocix7QlQ6KCk9Pm99KTtjb25zdCBvPVwiX19zZWFyY2gtb3BlbmZpbi1icm93c2VyLWhvbWUtdG9waWNfX1wiO3ZhciBuLGE7IWZ1bmN0aW9uKGUpe2UuRmV0Y2hpbmc9XCJmZXRjaGluZ1wiLGUuRmV0Y2hlZD1cImZldGNoZWRcIixlLkNvbXBsZXRlPVwiY29tcGxldGVcIn0obnx8KG49e30pKSxmdW5jdGlvbihlKXtlW2UuSW5pdGlhbD0wXT1cIkluaXRpYWxcIixlW2UuT3Blbj0xXT1cIk9wZW5cIixlW2UuQ2xvc2U9Ml09XCJDbG9zZVwifShhfHwoYT17fSkpfSwyNzU6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3QuZChyLHtQdzooKT0+ZixxcTooKT0+ZCx2MzooKT0+cH0pO3ZhciBvPXQoNTE2KSxuPXQoNzApLGE9dCg3MzIpLGk9dCg2NzUpLGw9KHQoNjk1KSx0KDc5KSk7Y29uc3QgYz17W28uUGFsZXR0ZS5icmFuZFByaW1hcnldOlwiIzBBNzZEM1wiLFtvLlBhbGV0dGUuYnJhbmRQcmltYXJ5QWN0aXZlXTpcIiMwQTcxQzlcIixbby5QYWxldHRlLmJyYW5kUHJpbWFyeUhvdmVyXTpcIiMwQjg0RUJcIixbby5QYWxldHRlLmJyYW5kUHJpbWFyeUZvY3VzZWRdOm8uQ29sb3Iud2hpdGUsW28uUGFsZXR0ZS5icmFuZFByaW1hcnlUZXh0XTpvLkNvbG9yLndoaXRlLFtvLlBhbGV0dGUuc3RhdHVzU3VjY2Vzc106by5Db2xvci5mdW5jdGlvbmFsMSxbby5QYWxldHRlLnN0YXR1c1dhcm5pbmddOm8uQ29sb3IuZnVuY3Rpb25hbDEwLFtvLlBhbGV0dGUuc3RhdHVzQ3JpdGljYWxdOm8uQ29sb3IuZnVuY3Rpb25hbDcsW28uUGFsZXR0ZS5zdGF0dXNBY3RpdmVdOm8uQ29sb3IuZnVuY3Rpb25hbDMsW28uUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDFdOlwiIzBBNzZEM1wiLFtvLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQyXTpcIiMwMDAwMDBcIixbby5QYWxldHRlLmNvbnRlbnRCYWNrZ3JvdW5kM106XCIjMDAwMDAwXCIsW28uUGFsZXR0ZS5jb250ZW50QmFja2dyb3VuZDRdOlwiIzAwMDAwMFwiLFtvLlBhbGV0dGUuY29udGVudEJhY2tncm91bmQ1XTpcIiMwMDAwMDBcIixbby5QYWxldHRlLmJvcmRlck5ldXRyYWxdOm8uQ29sb3Iuc2lsdmVyR3JheX0scz17Li4uYyxbby5QYWxldHRlLmJhY2tncm91bmQxXTpvLkNvbG9yLndoaXRlLFtvLlBhbGV0dGUuYmFja2dyb3VuZDJdOm8uQ29sb3IubGlnaHRHcmF5MSxbby5QYWxldHRlLmJhY2tncm91bmQzXTpvLkNvbG9yLmxpZ2h0R3JheTIsW28uUGFsZXR0ZS5iYWNrZ3JvdW5kNF06by5Db2xvci5saWdodEdyYXkzLFtvLlBhbGV0dGUuYmFja2dyb3VuZDVdOm8uQ29sb3IubGlnaHRHcmF5NCxbby5QYWxldHRlLmJhY2tncm91bmQ2XTpvLkNvbG9yLmxpZ2h0R3JheTUsW28uUGFsZXR0ZS5icmFuZFNlY29uZGFyeV06by5Db2xvci5saWdodEdyYXk0LFtvLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlBY3RpdmVdOm8uQ29sb3IubGlnaHRHcmF5NEFjdGl2ZSxbby5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5SG92ZXJdOm8uQ29sb3IubGlnaHRHcmF5NEhvdmVyLFtvLlBhbGV0dGUuYnJhbmRTZWNvbmRhcnlGb2N1c2VkXTpvLkNvbG9yLmRhcmtHcmF5NSxbby5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5VGV4dF06by5Db2xvci5kYXJrR3JheTUsW28uUGFsZXR0ZS5pbnB1dEJhY2tncm91bmRdOm8uQ29sb3IubGlnaHRHcmF5Myxbby5QYWxldHRlLmlucHV0Q29sb3JdOm8uQ29sb3IuZGFya0dyYXk1LFtvLlBhbGV0dGUuaW5wdXRQbGFjZWhvbGRlcl06by5Db2xvci5kYXJrR3JheTIsW28uUGFsZXR0ZS5pbnB1dERpc2FibGVkXTpvLkNvbG9yLm5ldXRyYWxHcmF5LFtvLlBhbGV0dGUuaW5wdXRGb2N1c2VkXTpvLkNvbG9yLmxpZ2h0R3JheTUsW28uUGFsZXR0ZS5pbnB1dEJvcmRlcl06by5Db2xvci5uZXV0cmFsR3JheSxbby5QYWxldHRlLnRleHREZWZhdWx0XTpvLkNvbG9yLmRhcmtHcmF5NSxbby5QYWxldHRlLnRleHRIZWxwXTpvLkNvbG9yLmRhcmtHcmF5Myxbby5QYWxldHRlLnRleHRJbmFjdGl2ZV06by5Db2xvci5uZXV0cmFsR3JheX0sdT17Li4uYyxbby5QYWxldHRlLmJhY2tncm91bmQxXTpvLkNvbG9yLmRhcmtHcmF5Nixbby5QYWxldHRlLmJhY2tncm91bmQyXTpvLkNvbG9yLmRhcmtHcmF5NSxbby5QYWxldHRlLmJhY2tncm91bmQzXTpvLkNvbG9yLmRhcmtHcmF5NCxbby5QYWxldHRlLmJhY2tncm91bmQ0XTpvLkNvbG9yLmRhcmtHcmF5Myxbby5QYWxldHRlLmJhY2tncm91bmQ1XTpvLkNvbG9yLmRhcmtHcmF5Mixbby5QYWxldHRlLmJhY2tncm91bmQ2XTpvLkNvbG9yLmRhcmtHcmF5MSxbby5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5XTpvLkNvbG9yLmRhcmtHcmF5Mixbby5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5QWN0aXZlXTpvLkNvbG9yLmRhcmtHcmF5MkFjdGl2ZSxbby5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5SG92ZXJdOm8uQ29sb3IuZGFya0dyYXkySG92ZXIsW28uUGFsZXR0ZS5icmFuZFNlY29uZGFyeUZvY3VzZWRdOm8uQ29sb3Iud2hpdGUsW28uUGFsZXR0ZS5icmFuZFNlY29uZGFyeVRleHRdOm8uQ29sb3Iud2hpdGUsW28uUGFsZXR0ZS5pbnB1dEJhY2tncm91bmRdOm8uQ29sb3IuZGFya0dyYXkxLFtvLlBhbGV0dGUuaW5wdXRDb2xvcl06by5Db2xvci53aGl0ZSxbby5QYWxldHRlLmlucHV0UGxhY2Vob2xkZXJdOm8uQ29sb3IubGlnaHRHcmF5NSxbby5QYWxldHRlLmlucHV0RGlzYWJsZWRdOm8uQ29sb3IubmV1dHJhbEdyYXksW28uUGFsZXR0ZS5pbnB1dEZvY3VzZWRdOm8uQ29sb3IubGlnaHRHcmF5NSxbby5QYWxldHRlLmlucHV0Qm9yZGVyXTpvLkNvbG9yLm5ldXRyYWxHcmF5LFtvLlBhbGV0dGUudGV4dERlZmF1bHRdOm8uQ29sb3Iud2hpdGUsW28uUGFsZXR0ZS50ZXh0SGVscF06by5Db2xvci5saWdodEdyYXk1LFtvLlBhbGV0dGUudGV4dEluYWN0aXZlXTpvLkNvbG9yLm5ldXRyYWxHcmF5fSxkPShvLkNvbG9yLmRhcmtHcmF5NSxvLkNvbG9yLmRhcmtHcmF5NSxhc3luYyBlPT57Y29uc3R7dGhlbWVzOnIsc2VsZWN0ZWRTY2hlbWU6dH09YXdhaXQoYXN5bmMgZT0+e2NvbnN0IHI9ZmluPy5fX2ludGVybmFsXz8uaW5pdGlhbE9wdGlvbnM/LndvcmtzcGFjZVBsYXRmb3JtPy5fdGhlbWVEYXRhO2lmKCFyfHxlLnV1aWQhPT1uLiRwLnV1aWQpcmV0dXJue3RoZW1lczphd2FpdCgwLGEuQWcpKGUpLlRoZW1lLmdldEdlbmVyYXRlZFBhbGV0dGVzKCksc2VsZWN0ZWRTY2hlbWU6YXdhaXQoMCxhLkFnKShlKS5UaGVtZS5nZXRTZWxlY3RlZFNjaGVtZSgpfTtyZXR1cm4gcn0pKGUpO3JldHVybnt0aGVtZTpyLGRlZmF1bHRTY2hlbWU6dH19KSxmPWFzeW5jIGU9Pntjb25zdCByPWF3YWl0KDAsYS5BZykoZSkuVGhlbWUuZ2V0R2VuZXJhdGVkUGFsZXR0ZXMoKSx0PWF3YWl0KGFzeW5jIGU9Pntjb25zdCByPWF3YWl0KDAsbC5OKShlfHxmaW4ubWUuaWRlbnRpdHkpLHQ9YXdhaXQgci5kaXNwYXRjaChsLk9GLkdldFNlbGVjdGVkU2NoZW1lLHZvaWQgMCk7cmV0dXJuIHQ9PT1pLnFULlN5c3RlbT93aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcz9cImRhcmtcIjpcImxpZ2h0XCI6dH0pKGUpLG89ci5kYXJrW1wiY29sb3Iucm9sZS5iYWNrZ3JvdW5kLjFcIl0sbj1yLmxpZ2h0W1wiY29sb3Iucm9sZS5iYWNrZ3JvdW5kLjFcIl07cmV0dXJuIHQ9PT1pLnFULkRhcms/bzpufSxwPWU9Pntjb25zdCByPWUubGlnaHQudG9DU1MoKSx0PWUuZGFyay50b0NTUygpO3JldHVybmA6cm9vdHske3J9fVxcbiAgICAgICAgICAgICAgICBbZGF0YS1zY2hlbWU9XCJkYXJrXCJdIHtcXG4gICAgICAgICAgICAgICAgICAgICR7dH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XFxuICAgICAgICAgICAgICAgICAgICBbZGF0YS1zY2hlbWU9XCJzeXN0ZW1cIl0geyR7dH0gfVxcbiAgICAgICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgICAgIEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KSB7XFxuICAgICAgICAgICAgICAgICAgICBbZGF0YS1zY2hlbWU9XCJzeXN0ZW1cIl0geyR7cn0gfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgYH19LDQzODooZSxyLHQpPT57XCJ1c2Ugc3RyaWN0XCI7dC5kKHIse01XOigpPT5vLHYxOigpPT5jfSk7dmFyIG8sbixhPXQoNzIzKTshZnVuY3Rpb24oZSl7ZS5Xb3Jrc3BhY2U9XCJvcGVuZmluLXdvcmtzcGFjZVwiLGUuT2xkV29ya3NwYWNlPVwib3BlbmZpbi1icm93c2VyXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5GaW5Qcm90b2NvbD1cImZpbi1wcm90b2NvbFwifShufHwobj17fSkpO2NvbnN0IGk9e3V1aWQ6YS4kaH0sbD0oby5Xb3Jrc3BhY2UsZT0+e2lmKCFhLmNJKXRocm93IG5ldyBFcnJvcihcImdldEFwcGxpY2F0aW9uIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uIE9wZW5GaW4gZW52LiBBdm9pZCB1c2luZyB0aGlzIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gZmluLkFwcGxpY2F0aW9uLndyYXBTeW5jKGUpfSksYz0oKT0+bChpKX0sMTAyOihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0LmQocix7QTooKT0+YX0pO3ZhciBvPXQoNzIzKTtjb25zdCBuPW8uWVkmJlwiY29tcGxldGVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGUmJm5ldyBQcm9taXNlKGU9PmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsKCk9PntcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZlKCl9KSk7ZnVuY3Rpb24gYShlKXtsZXQgcjtjb25zdCB0PW5ldyBTZXQ7cmV0dXJuKCk9PntpZighby5jSSl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGFubmVsQ2xpZW50IGNhbm5vdCBiZSB1c2VkIG91dHNpZGUgYW4gT3BlbkZpbiBlbnYuIEF2b2lkIHVzaW5nIHRoaXMgbWV0aG9kIGR1cmluZyBwcmUtcmVuZGVyaW5nLlwiKTtyZXR1cm4gcnx8KHI9KGFzeW5jKCk9Pnthd2FpdCBuO2NvbnN0IGE9e2NsaWVudEFQSVZlcnNpb246by5ldH0saT1hd2FpdCBmaW4uSW50ZXJBcHBsaWNhdGlvbkJ1cy5DaGFubmVsLmNvbm5lY3QoZSx7cGF5bG9hZDphfSk7cmV0dXJuIGkub25EaXNjb25uZWN0aW9uKGFzeW5jKCk9Pnt0LmZvckVhY2goZT0+ZSgpKSx0LmNsZWFyKCksY29uc29sZS53YXJuKGBkaXNjb25uZWN0ZWQgZnJvbSBjaGFubmVsIHByb3ZpZGVyICR7ZX1gKSxyPXZvaWQgMH0pLGl9KSgpLnRoZW4oZT0+KGUuYWRkRGlzY29ubmVjdGlvbkxpc3RlbmVyPWU9Pnt0LmFkZChlKX0sZSkpLmNhdGNoKHQ9Pnt0aHJvdyByPXZvaWQgMCxuZXcgRXJyb3IoYGZhaWxlZCB0byBjb25uZWN0IHRvIGNoYW5uZWwgcHJvdmlkZXIgJHtlfTogJHt0fWApfSkpLHJ9fX0sNzIzOihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt2YXIgbzt0LmQocix7JGg6KCk9PmMsQVQ6KCk9PmksSGQ6KCk9PmQsWVk6KCk9PmEsYkQ6KCk9PnAsY0k6KCk9Pm4sZXQ6KCk9PmcsZlQ6KCk9PnUsdkw6KCk9PnN9KSxmdW5jdGlvbihlKXtlLkxvY2FsPVwibG9jYWxcIixlLkRldj1cImRldlwiLGUuU3RhZ2luZz1cInN0YWdpbmdcIixlLlByb2Q9XCJwcm9kXCJ9KG98fChvPXt9KSk7Y29uc3Qgbj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmluLGE9KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBwcm9jZXNzfHxwcm9jZXNzLmVudixcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KSxpPWEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbmRleGVkREIsbD1hP3dpbmRvdy5vcmlnaW46by5Mb2NhbCxjPW4mJmZpbi5tZS51dWlkLHM9biYmZmluLm1lLm5hbWUsdT1uJiZmaW4ubWUuZW50aXR5VHlwZSxkPShvLkxvY2FsLG8uRGV2LG8uU3RhZ2luZyxcInByb2RcIj09PW8uUHJvZCksZj1lPT5lLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpfHxlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKT9lOmwrZSxwPShmKFwiaHR0cHM6Ly93b3Jrc3BhY2Uub3BlbmZpbi5jby93b3Jrc3BhY2UvMjMuMS4zXCIpLGYoXCJodHRwczovL3dvcmtzcGFjZS5vcGVuZmluLmNvL3dvcmtzcGFjZS8yMy4xLjNcIikpLGc9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXT1JLU1BBQ0VfRE9DU19QTEFURk9STV9VUkwmJmYoV09SS1NQQUNFX0RPQ1NfUExBVEZPUk1fVVJMKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0RPQ1NfQ0xJRU5UX1VSTCYmZihXT1JLU1BBQ0VfRE9DU19DTElFTlRfVVJMKSxcIjIzLjEuM1wiKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgV09SS1NQQUNFX0JVSUxEX1NIQSYmV09SS1NQQUNFX0JVSUxEX1NIQX0sMTQxOihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt2YXIgbzt0LmQocix7QTooKT0+bn0pLGZ1bmN0aW9uKGUpe2UuQ3VycmVudFdvcmtzcGFjZUlkPVwiY3VycmVudFdvcmtzcGFjZUlkXCIsZS5MYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3c9XCJsYXN0Rm9jdXNlZEJyb3dzZXJXaW5kb3dcIixlLk1hY2hpbmVOYW1lPVwibWFjaGluZU5hbWVcIixlLk5ld1RhYlBhZ2VMYXlvdXQ9XCJOZXdUYWJQYWdlTGF5b3V0XCIsZS5OZXdUYWJQYWdlU29ydD1cIk5ld1RhYlBhZ2VTb3J0XCIsZS5Eb2NrUG9zaXRpb249XCJEb2NrUG9zaXRpb25cIixlLlNlbGVjdGVkQ29sb3JTY2hlbWU9XCJTZWxlY3RlZENvbG9yU2NoZW1lXCIsZS5UaGVtZVBhbGV0dGVTaGVldD1cIlRoZW1lUGFsZXR0ZVNoZWV0XCIsZS5IYXNNb3ZlZFN0b3JlPVwiSGFzTW92ZWRTdG9yZVwiLGUuUGFnZURyYWdTdGF0ZT1cIkJyb3dzZXJQYWdlRHJhZ1N0YXRlXCIsZS5UaGVtZVBhbGV0dGVEZWZhdWx0U2NoZW1lPVwiVGhlbWVQYWxldHRlRGVmYXVsdFNjaGVtZVwifShvfHwobz17fSkpO2NvbnN0IG49b30sODIyOihlLHIsdCk9PntcInVzZSBzdHJpY3RcIn0sMTg5OihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0LnIociksdC5kKHIse2NyZWF0ZU5hbWVzcGFjZWRMb2NhbFN0b3JhZ2U6KCk9PmwsZ2V0SXRlbTooKT0+YSxyZW1vdmVJdGVtOigpPT5pLHNldEl0ZW06KCk9Pm59KTt2YXIgbz10KDcyMyk7Y29uc3Qgbj0oZSxyKT0+e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGAke28uJGh9LSR7ZX1gLHIpfSxhPWU9PmxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke28uJGh9LSR7ZX1gKSxpPWU9PmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGAke28uJGh9LSR7ZX1gKSxsPWU9Pih7c2V0SXRlbToocix0KT0+e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGAke2V9LSR7cn1gLHQpfSxnZXRJdGVtOnI9PmxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke2V9LSR7cn1gKSxyZW1vdmVJdGVtOnI9PmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGAke2V9LSR7cn1gKX0pfSw3ODY6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3QuZChyLHtBOigpPT5ufSk7Y29uc3Qgbz1cIm9mLXdvcmtzcGFjZS1cIjtjb25zdCBuPW5ldyBjbGFzc3ttYXJrKGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7b30ke2V9YCl9bWFya1N0YXJ0KGUpe3BlcmZvcm1hbmNlLm1hcmsoYCR7b30ke2V9LXN0YXJ0YCl9bWFya0VuZChlKXtwZXJmb3JtYW5jZS5tYXJrKGAke299JHtlfS1lbmRgKX1tYXJrRW5kQW5kTWVhc3VyZShlKXtwZXJmb3JtYW5jZS5tYXJrKGAke299JHtlfS1lbmRgKTt0cnl7cmV0dXJuIHBlcmZvcm1hbmNlLm1lYXN1cmUoYCR7b30ke2V9YCxgJHtvfSR7ZX0tc3RhcnRgLGAke299JHtlfS1lbmRgKX1jYXRjaChlKXswfX1tYXJrQW5kTWVhc3VyZShlLHIpe3BlcmZvcm1hbmNlLm1hcmsoYCR7b30ke2V9YCk7dHJ5e3JldHVybiBwZXJmb3JtYW5jZS5tZWFzdXJlKGAke299JHtlfS1tZWFzdXJlYCxgJHtvfSR7cn0tc3RhcnRgLGAke299JHtlfWApfWNhdGNoKGUpezB9fXJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlRW50cmllcygpe3JldHVybiBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibWVhc3VyZVwiKS5maWx0ZXIoZT0+ZS5uYW1lLnN0YXJ0c1dpdGgobykpfXJlcG9ydFdvcmtzcGFjZVBlcmZvcm1hbmNlKCl7cmV0dXJuIHRoaXMucmVwb3J0V29ya3NwYWNlUGVyZm9ybWFuY2VFbnRyaWVzKCkubWFwKGU9Pih7bmFtZTplLm5hbWUucmVwbGFjZShgJHtvfWAsXCJcIikucmVwbGFjZShcIi1tZWFzdXJlXCIsXCJcIiksZHVyYXRpb246ZS5kdXJhdGlvbn0pKX19fSwxODE6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3ZhciBvLG47dC5kKHIse0F5OigpPT5sfSksZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWUvXCIsZS5Ib21lU2VhcmNoPVwiL2hvbWUvP2RlZXBsaW5rPXNlYXJjaFwiLGUuSG9tZVBhZ2VzUmVuYW1lPVwiL2hvbWUvcGFnZXMvcmVuYW1lL1wiLGUuRG9jaz1cIi9kb2NrL1wiLGUuRG9jcz1cIi9wcm92aWRlci9kb2NzL1wiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250L1wiLGUuRGVwcmVjYXRlZEFsZXJ0PVwiL3Byb3ZpZGVyL2RlcHJlY2F0ZWQtYWxlcnQvXCIsZS5BbmFseXRpY3M9XCIvcHJvdmlkZXIvYW5hbHl0aWNzL1wiLGUuUHJvdmlkZXI9XCIvcHJvdmlkZXIvXCJ9KG98fChvPXt9KSksZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiL2Jyb3dzZXIvXCIsZS5Ccm93c2VyUG9wdXBNZW51PVwiL3BvcHVwLW1lbnUvXCIsZS5Ccm93c2VyUG9wdXBNZW51U2F2ZU1vZGFsPVwiL3BvcHVwLW1lbnUvc2F2ZS1tb2RhbC9cIixlLkJyb3dzZXJQb3B1cE1lbnVMYXlvdXRzPVwiL3BvcHVwLW1lbnUvbGF5b3V0cy9sYXlvdXRzL1wiLGUuQnJvd3NlclBvcHVwTWVudUNvbG9yTGlua2luZz1cIi9wb3B1cC1tZW51L2NvbG9yLWxpbmtpbmcvY29sb3ItbGlua2luZy9cIixlLkJyb3dzZXJJbmRpY2F0b3I9XCIvaW5kaWNhdG9yL1wiLGUuQnJvd3NlclBvcHVwTWVudUFkZHJlc3NTZWFyY2hSZXN1bHRzVmlldz1cIi9wb3B1cC1tZW51L2FkZHJlc3Mtc2VhcmNoLXJlc3VsdHMtdmlldy9cIixlLlJlc3BvbnNlTW9kYWw9XCIvcG9wdXAtbWVudS9yZXNwb25zZS1tb2RhbC9cIixlLkNsb3NlQ29uZmlybWF0aW9uTW9kYWw9XCIvcG9wdXAtbWVudS9jbG9zZS1jb25maXJtYXRpb24tbW9kYWwvXCIsZS5FbnRlcnByaXNlQnJvd3Nlcj1cIi9lbnRlcnByaXNlL1wiLGUuRW50ZXJwcmlzZUxhbmRpbmdQYWdlPVwiL2VudGVycHJpc2UvbGFuZGluZy9cIixlLkVudGVycHJpc2VDb250ZXh0TWVudT1cIi9jb250ZXh0LW1lbnUvXCIsZS5FbnRlcnByaXNlQm9va21hcmtEaWFsb2c9XCIvYm9va21hcmstZGlhbG9nL1wiLGUuRW50ZXJwcmlzZUFib3V0UGFnZT1cIi9wb3B1cC1tZW51L2Fib3V0L1wiLGUuU3RvcmFnZVByb3h5PVwiL2Jyb3dzZXIvc3RvcmFnZS1wcm94eVwiLGUuRHJvcGRvd25NZW51PVwiL2Ryb3Bkb3duLW1lbnUvXCIsZS5FbnRlcnByaXNlRG9jaz1cIi9kb2NrL1wiLGUuWm9vbUNvbnRyb2xzRGlhbG9nPVwiL3pvb20tY29udHJvbHMtZGlhbG9nL1wiLGUuRGVza3RvcFNpZ25hbHNNb2RhbD1cIi9wb3B1cC1tZW51L2Rlc2t0b3Atc2lnbmFscy1tb2RhbC9cIixlLkludGVudHNSZXNvbHZlck1vZGFsPVwiL3BvcHVwLW1lbnUvaW50ZW50cy1yZXNvbHZlci1tb2RhbC9cIixlLkZpbmRJblBhZ2VNb2RhbD1cIi9wb3B1cC1tZW51L2ZpbmQtaW4tcGFnZS1tb2RhbC9cIn0obnx8KG49e30pKTtjb25zdCBhPXsuLi5vLC4uLm59O3ZhciBpOyFmdW5jdGlvbihlKXtlLlNlYXJjaD1cInNlYXJjaFwifShpfHwoaT17fSkpO2NvbnN0IGw9YX0sNTIzOihlLHIsdCk9PntcInVzZSBzdHJpY3RcIjt0LmQocix7VHQ6KCk9PmF9KTt2YXIgbyxuPXQoNzIzKTshZnVuY3Rpb24oZSl7ZS5Ib21lPVwiL2hvbWVcIixlLkJyb3dzZXI9XCIvYnJvd3NlclwiLGUuRW50ZXJwcmlzZT1cIi9lbnRlcnByaXNlXCIsZS5Qcm92aWRlcj1cIi9wcm92aWRlclwiLGUuU3RvcmVmcm9udD1cIi9zdG9yZWZyb250XCIsZS5Eb2NrPVwiL2RvY2tcIn0ob3x8KG89e30pKTtmdW5jdGlvbiBhKGUscil7aWYoIW4uWVkpdGhyb3cgbmV3IEVycm9yKFwicmVzb2x2ZUFic29sdXRlUGF0aCBjYW4gb25seSBiZSB1c2VkIGluIGEgd2luZG93XCIpO2NvbnN0IHQ9cj8/d2luZG93LmxvY2F0aW9uO2lmKC9eKD86W2Etel0rOik/XFwvXFwvL2kudGVzdChlKSlyZXR1cm4gZTtjb25zdCBvPWAke3QucHJvdG9jb2x9Ly8ke3QuaG9zdG5hbWV9YDtyZXR1cm4gbmV3IFVSTChlLG8pLmhyZWZ9fSwyNzc6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3QuZChyLHtvczooKT0+aX0pO3ZhciBvLG49dCg3MjMpO3QoNzApLHQoNzMyKTshZnVuY3Rpb24oZSl7ZS5Ccm93c2VyPVwiQnJvd3NlclwiLGUuRG9jaz1cIkRvY2tcIixlLkVudGVycHJpc2VEb2NrPVwiRW50ZXJwcmlzZURvY2tcIixlLkhvbWU9XCJIb21lXCIsZS5Ob3RpZmljYXRpb249XCJOb3RpZmljYXRpb25cIixlLlN0b3JlZnJvbnQ9XCJTdG9yZWZyb250XCIsZS5QbGF0Zm9ybT1cIlBsYXRmb3JtXCIsZS5UaGVtaW5nPVwiVGhlbWluZ1wiLGUuTWljcm9mbG93PVwiTWljcm9mbG93XCJ9KG98fChvPXt9KSk7Y29uc3QgYT1hc3luYyhlLHIsdD1cIndvcmtzcGFjZS1saWNlbnNpbmdcIik9Pntjb25zdCBvPXthcGlWZXJzaW9uOnIuYXBpVmVyc2lvbnx8bi5ldCxjb21wb25lbnROYW1lOmUsY29tcG9uZW50VmVyc2lvbjpyLmNvbXBvbmVudFZlcnNpb258fG4uZXQsYWxsb3dlZDpyLmFsbG93ZWQscmVqZWN0aW9uQ29kZTpyLnJlamVjdGlvbkNvZGV9O2Zpbi5TeXN0ZW0ucmVnaXN0ZXJVc2FnZSh7dHlwZTp0LGRhdGE6b30pfTtjb25zdCBpPWU9PnthKG8uTm90aWZpY2F0aW9uLGUpfTtuZXcgTWFwfSwzMzM6KGUscix0KT0+e1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oKXtyZXR1cm4gdm9pZCAwIT09dHlwZW9mIGNyeXB0byYmXCJyYW5kb21VVUlEXCJpbiBjcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNyeXB0by5yYW5kb21VVUlEP2NyeXB0by5yYW5kb21VVUlEKCk6XCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKC9bMDE4XS9nLGU9PihlXmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJjE1Pj5lLzQpLnRvU3RyaW5nKDE2KSl9dC5kKHIse046KCk9Pm99KX0sNzA6KGUscix0KT0+e1widXNlIHN0cmljdFwiO3QuZChyLHskcDooKT0+cyxJbzooKT0+cCxJcTooKT0+YyxROigpPT5vLFZFOigpPT5pLFhxOigpPT5sLF9ZOigpPT5mLGN0OigpPT51LGhiOigpPT5kLGp6OigpPT5nfSk7dCg3OCk7dmFyIG8sbj10KDQzOCksYT10KDcyMyk7IWZ1bmN0aW9uKGUpe2UuSG9tZT1cIm9wZW5maW4taG9tZVwiLGUuRG9jaz1cIm9wZW5maW4tZG9ja1wiLGUuU3RvcmVmcm9udD1cIm9wZW5maW4tc3RvcmVmcm9udFwiLGUuSG9tZUludGVybmFsPVwib3BlbmZpbi1ob21lLWludGVybmFsXCIsZS5Ccm93c2VySW5kaWNhdG9yPVwib3BlbmZpbi1icm93c2VyLWluZGljYXRvclwiLGUuQnJvd3NlcldpbmRvdz1cImludGVybmFsLWdlbmVyYXRlZC13aW5kb3dcIixlLkNsYXNzaWNXaW5kb3c9XCJpbnRlcm5hbC1nZW5lcmF0ZWQtY2xhc3NpYy13aW5kb3dcIixlLkJyb3dzZXJBZGRyZXNzU2VhcmNoUHJlZml4PVwib3BlbmZpbi1icm93c2VyLW1lbnUtYWRkcmVzcy1zZWFyY2gtXCIsZS5Eb2NrQ29tcGFuaW9uPVwib3BlbmZpbi1kb2NrLWNvbXBhbmlvblwiLGUuQUlDb21wYW5pb25QcmVmaXg9XCJvcGVuZmluLWFpLWNvbXBhbmlvbi1cIixlLkFib3V0UGFnZVdpbmRvdz1cImhlcmUtYWJvdXQtcGFnZVwiLGUuRmluZEluUGFnZVZpZXdQcmVmaXg9XCJoZXJlLWZpbmQtaW4tcGFnZS12aWV3LVwiLGUuQnJvd3Nlck1lbnU9XCJvcGVuZmluLWJyb3dzZXItbWVudVwiLGUuQnJvd3NlclNhdmVNZW51PVwib3BlbmZpbi1icm93c2VyLXNhdmUtbWVudVwiLGUuRG9ja1NhdmVXb3Jrc3BhY2VNZW51PVwib3BlbmZpbi1kb2NrMy1zYXZlLXdvcmtzcGFjZS1tZW51XCIsZS5Ecm9wZG93bk1lbnU9XCJvcGVuZmluLWVudGVycHJpc2UtZHJvcGRvd24tbWVudVwiLGUuRW50ZXJwcmlzZUNvbnRleHRNZW51PVwib3BlbmZpbi1lbnRlcnByaXNlLWNvbnRleHQtbWVudVwiLGUuRW50ZXJwcmlzZUJvb2ttYXJrRGlhbG9nV2luZG93PVwib3BlbmZpbi1lbnRlcnByaXNlLWJvb2ttYXJrLWRpYWxvZ1wiLGUuWm9vbUNvbnRyb2xzRGlhbG9nPVwiaGVyZS16b29tLWNvbnRyb2xzLWRpYWxvZ1wiLGUuVXBkYXRlVmVyc2lvbk1vZGFsPVwiaGVyZS11cGRhdGUtdmVyc2lvbi1tb2RhbFwiLGUuRGVza3RvcFNpZ25hbHNNb2RhbD1cImhlcmUtZGVza3RvcC1zaWduYWxzLW1vZGFsXCIsZS5JbnRlbnRzUmVzb2x2ZXJNb2RhbD1cImhlcmUtaW50ZW50cy1yZXNvbHZlci1tb2RhbFwifShvfHwobz17fSkpO2NvbnN0IGk9ZT0+KHtsZWZ0OihlLmxlZnQrZS5yaWdodCkvMix0b3A6KGUudG9wK2UuYm90dG9tKS8yfSksbD0oZSxyKT0+e2NvbnN0IHQ9ci53aWR0aC8yLG89ci5oZWlnaHQvMjtyZXR1cm57bGVmdDpNYXRoLnJvdW5kKGUubGVmdC10KSx0b3A6TWF0aC5yb3VuZChlLnRvcC1vKSx3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH19O2Z1bmN0aW9uIGMoZSl7aWYoIWEuY0kpdGhyb3cgbmV3IEVycm9yKFwiZ2V0T0ZXaW5kb3cgY2FuIG9ubHkgYmUgdXNlZCBpbiBhbiBPcGVuRmluIGVudi4gQXZvaWQgY2FsbGluZyB0aGlzIG1ldGhvZCBkdXJpbmcgcHJlLXJlbmRlcmluZy5cIik7cmV0dXJuIGZpbi5XaW5kb3cud3JhcFN5bmMoZSl9Y29uc3Qgcz17bmFtZTphLnZMLHV1aWQ6YS4kaH07by5Ib21lLG4uTVcuV29ya3NwYWNlLG8uRG9jayxuLk1XLldvcmtzcGFjZTtjb25zdCB1PXtuYW1lOlwiTm90aWZpY2F0aW9uLUNlbnRlclwiLHV1aWQ6XCJub3RpZmljYXRpb25zLXNlcnZpY2VcIn07by5TdG9yZWZyb250LG4uTVcuV29ya3NwYWNlLG4uTVcuV29ya3NwYWNlLG4uTVcuV29ya3NwYWNlO2NvbnN0IGQ9YXN5bmMgZT0+e3RyeXtjb25zdCByPWF3YWl0IGZpbi5XaW5kb3cud3JhcFN5bmMoe25hbWU6ZS5uYW1lLHV1aWQ6ZS51dWlkPz9maW4ubWUudXVpZH0pLmdldE9wdGlvbnMoKTtyZXR1cm4oXCJicm93c2VyXCI9PT1yLndvcmtzcGFjZVBsYXRmb3JtPy53aW5kb3dUeXBlfHxcImVudGVycHJpc2VcIj09PXIud29ya3NwYWNlUGxhdGZvcm0/LndpbmRvd1R5cGUpJiZyLndvcmtzcGFjZVBsYXRmb3JtPy5wYWdlc31jYXRjaChlKXtyZXR1cm4gY29uc29sZS53YXJuKFwiaXNCcm93c2VyV2luZG93IGVycm9yOiBcIixlKSwhMX19LGY9ZT0+IWUubmFtZS5zdGFydHNXaXRoKG8uQnJvd3NlckFkZHJlc3NTZWFyY2hQcmVmaXgpJiZlLm5hbWUhPT1vLlpvb21Db250cm9sc0RpYWxvZyYmW1wibWVudVwiLFwibW9kYWxcIixcImRpYWxvZ1wiXS5zb21lKHI9PmUubmFtZS5pbmNsdWRlcyhyKSk7YXN5bmMgZnVuY3Rpb24gcCgpe2NvbnN0IGU9YXdhaXQgZmluLkFwcGxpY2F0aW9uLmdldEN1cnJlbnRTeW5jKCkuZ2V0Q2hpbGRXaW5kb3dzKCkscj1hd2FpdCBQcm9taXNlLmFsbChlLm1hcChhc3luYyBlPT5kKGUuaWRlbnRpdHkpKSk7cmV0dXJuIGUuZmlsdGVyKChlLHQpPT5yW3RdKX1hc3luYyBmdW5jdGlvbiBnKGUpe2NvbnN0IHI9YXdhaXQgZmluLlN5c3RlbS5nZXRNb25pdG9ySW5mbygpO3JldHVybltyLnByaW1hcnlNb25pdG9yLC4uLnIubm9uUHJpbWFyeU1vbml0b3JzXS5yZWR1Y2UoKHIsdCk9Pntjb25zdCBvPWZ1bmN0aW9uKGUscil7Y29uc3QgdD1lLnRvcCxvPWUubGVmdCxuPWUudG9wK2UuaGVpZ2h0LGE9ZS5sZWZ0K2Uud2lkdGgsaT1yLm1vbml0b3JSZWN0LnRvcCxsPXIubW9uaXRvclJlY3QubGVmdCxjPXIubW9uaXRvclJlY3QuYm90dG9tLHM9ci5tb25pdG9yUmVjdC5yaWdodDtpZih0PmN8fG48aXx8bz5zfHxhPGwpcmV0dXJuIDA7Y29uc3QgdT1NYXRoLm1heCh0LGkpLGQ9TWF0aC5tYXgobyxsKTtyZXR1cm4oTWF0aC5taW4obixjKS11KSooTWF0aC5taW4oYSxzKS1kKS8oZS5oZWlnaHQqZS53aWR0aCl9KGUsdCk7cmV0dXJuIG8+ci5wZXJjZW50YWdlP3twZXJjZW50YWdlOm8sbW9uaXRvcjp0fTpyfSx7cGVyY2VudGFnZTowLG1vbml0b3I6ci5wcmltYXJ5TW9uaXRvcn0pLm1vbml0b3J9fSw1MTY6KGUscik9Pnt2YXIgdD17OTAzNzpmdW5jdGlvbihlLHIsdCl7dmFyIG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci50b1JnYmFDb2xvcj1yLmdldE1vc3RSZWFkYWJsZT1yLmRhcmtlbkNvbG9yPXIubGlnaHRlbkNvbG9yPXZvaWQgMDtjb25zdCBuPW8odCg1ODg4KSksYT0oZSxyLHQpPT57aWYodCYmKHQ8MHx8dD4xMDApKXRocm93IG5ldyBFcnJvcihgJHt0fSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwYCk7cmV0dXJuKDAsbi5kZWZhdWx0KShlKVtyXSh0KS50b1N0cmluZygpfTtyLmxpZ2h0ZW5Db2xvcj0oZSxyKT0+YShlLFwibGlnaHRlblwiLHIpLHIuZGFya2VuQ29sb3I9KGUscik9PmEoZSxcImRhcmtlblwiLHIpLHIuZ2V0TW9zdFJlYWRhYmxlPShlLHIpPT5uLmRlZmF1bHQubW9zdFJlYWRhYmxlKGUscikudG9IZXhTdHJpbmcoKSxyLnRvUmdiYUNvbG9yPShlLHI9MSk9PigwLG4uZGVmYXVsdCkoZSkuc2V0QWxwaGEocikudG9SZ2JTdHJpbmcoKX0sNTgyMDooZSxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuSWNvblNpemU9ci5UcmFuc2l0aW9uPXIuTGluZUhlaWdodD1yLkZvbnRXZWlnaHQ9ci5Gb250U2l6ZT1yLkZvbnRGYW1pbHk9ci5TaGFkb3c9ci5SYWRpdXM9ci5Vbml0UHg9ci5Vbml0PXIuU2l6ZU5hbWU9ci5TaXplPXIuQ29sb3I9dm9pZCAwLHIuQ29sb3I9e3doaXRlOlwiI0ZGRkZGRlwiLGxpZ2h0R3JheTE6XCIjRkFGQkZFXCIsbGlnaHRHcmF5MjpcIiNGM0Y1RjhcIixsaWdodEdyYXkzOlwiI0VDRUVGMVwiLGxpZ2h0R3JheTQ6XCIjRERERkU0XCIsbGlnaHRHcmF5NTpcIiNDOUNCRDJcIixuZXV0cmFsR3JheTpcIiM3RDgwOEFcIixuZXV0cmFsR3JheTgwOlwicmdiYSgxMjUsMTI4LDEzOCwwLjgpXCIsc2lsdmVyR3JheTpcIiNDMEMxQzJcIixkYXJrR3JheTE6XCIjNTM1NjVGXCIsZGFya0dyYXkyOlwiIzM4M0E0MFwiLGRhcmtHcmF5MzpcIiMyRjMxMzZcIixkYXJrR3JheTQ6XCIjMjQyNjJCXCIsZGFya0dyYXk1OlwiIzFFMUYyM1wiLGRhcmtHcmF5NjpcIiMxMTEyMTRcIixvcGVuRmluRGFya2VzdDpcIiMzRDM5Q0RcIixvcGVuRmluRGFya2VyOlwiIzQ2NDJFMFwiLG9wZW5GaW46XCIjNTA0Q0ZGXCIsb3BlbkZpbkxpZ2h0OlwiIzUyNTRGQlwiLG9wZW5GaW5MaWdodGVyOlwiIzVDNUVGRVwiLG9wZW5GaW5MaWdodGVzdDpcIiM2ODY0RkZcIixmdW5jdGlvbmFsMTpcIiMyMDc3MzVcIixmdW5jdGlvbmFsMjpcIiM0NkM4RjFcIixmdW5jdGlvbmFsMzpcIiMwQTc2RDNcIixmdW5jdGlvbmFsNDpcIiM2Q0FERTVcIixmdW5jdGlvbmFsNTpcIiMwQTc2RDNcIixmdW5jdGlvbmFsNjpcIiM4ODJCRkVcIixmdW5jdGlvbmFsNzpcIiNGMzE4MThcIixmdW5jdGlvbmFsODpcIiNDOTM0MDBcIixmdW5jdGlvbmFsOTpcIiNGRjVFNjBcIixmdW5jdGlvbmFsMTA6XCIjRjQ4RjAwXCIscHVycGxlOlwidmFyKC0tY29sb3ItcHJpbWl0aXZlcy1pbmRpZ28tNTAwKVwiLGxpZ2h0Ymx1ZTpcInZhcigtLWNvbG9yLXByaW1pdGl2ZXMtYmx1ZS01MDApXCIsYXF1YTpcInZhcigtLWNvbG9yLXByaW1pdGl2ZXMtdGVhbC01MDApXCIseWVsbG93OlwidmFyKC0tY29sb3ItcHJpbWl0aXZlcy15ZWxsb3ctNTAwKVwiLHNhbG1vbjpcInZhcigtLWNvbG9yLXByaW1pdGl2ZXMtb3JhbmdlLTUwMClcIixwaW5rOlwidmFyKC0tY29sb3ItcHJpbWl0aXZlcy1waW5rLTUwMClcIixsaWdodHBpbms6XCJ2YXIoLS1jb2xvci1wcmltaXRpdmVzLXBpbmstNTAwKVwiLHdoaXRlMDA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMClcIix3aGl0ZTEwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjEpXCIsd2hpdGUyMDpcInJnYmEoMjU1LDI1NSwyNTUsMC4yKVwiLHdoaXRlMzA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuMylcIix3aGl0ZTQwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjQpXCIsd2hpdGU1MDpcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiLHdoaXRlNjA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNilcIix3aGl0ZTcwOlwicmdiYSgyNTUsMjU1LDI1NSwwLjcpXCIsd2hpdGU4MDpcInJnYmEoMjU1LDI1NSwyNTUsMC44KVwiLHdoaXRlOTA6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIixibGFjazAwOlwicmdiYSgwLDAsMCwwLjApXCIsYmxhY2sxMDpcInJnYmEoMCwwLDAsMC4xKVwiLGJsYWNrMjA6XCJyZ2JhKDAsMCwwLDAuMilcIixibGFjazMwOlwicmdiYSgwLDAsMCwwLjMpXCIsYmxhY2s0MDpcInJnYmEoMCwwLDAsMC40KVwiLGJsYWNrNTA6XCJyZ2JhKDAsMCwwLDAuNSlcIixibGFjazYwOlwicmdiYSgwLDAsMCwwLjYpXCIsYmxhY2s3MDpcInJnYmEoMCwwLDAsMC43KVwiLGJsYWNrODA6XCJyZ2JhKDAsMCwwLDAuOClcIixibGFjazkwOlwicmdiYSgwLDAsMCwwLjkpXCIsdHJhbnNwYXJlbnQ6XCJ0cmFuc3BhcmVudFwiLG9wZW5GaW5BY3RpdmU6XCIjNDY0MkZGXCIsb3BlbkZpbkhvdmVyOlwiIzY5NjVGRlwiLGxpZ2h0R3JheTRBY3RpdmU6XCIjRDdEQURGXCIsbGlnaHRHcmF5NEhvdmVyOlwiI0VCRUNFRlwiLGRhcmtHcmF5MkFjdGl2ZTpcIiMzMzM1M0JcIixkYXJrR3JheTJIb3ZlcjpcIiM0NDQ2NEVcIn0sci5TaXplPXt4c21hbGw6XCJ4c21hbGxcIixzbWFsbDpcInNtYWxsXCIsYmFzZTpcImJhc2VcIixsYXJnZTpcImxhcmdlXCIseGxhcmdlOlwieGxhcmdlXCIseHhsYXJnZTpcInh4bGFyZ2VcIix4eHhsYXJnZTpcInh4eGxhcmdlXCIseHh4eGxhcmdlOlwieHh4eGxhcmdlXCJ9LHIuU2l6ZU5hbWU9e1tyLlNpemUueHNtYWxsXTpcIkV4dHJhIFNtYWxsXCIsW3IuU2l6ZS5zbWFsbF06XCJTbWFsbFwiLFtyLlNpemUuYmFzZV06XCJCYXNlXCIsW3IuU2l6ZS5sYXJnZV06XCJMYXJnZVwiLFtyLlNpemUueGxhcmdlXTpcIkV4dHJhIExhcmdlXCIsW3IuU2l6ZS54eGxhcmdlXTpcIjJYIExhcmdlXCIsW3IuU2l6ZS54eHhsYXJnZV06XCIzWCBMYXJnZVwiLFtyLlNpemUueHh4eGxhcmdlXTpcIjRYIExhcmdlXCJ9LHIuVW5pdD17W3IuU2l6ZS54c21hbGxdOjQsW3IuU2l6ZS5zbWFsbF06OCxbci5TaXplLmJhc2VdOjEyLFtyLlNpemUubGFyZ2VdOjE2LFtyLlNpemUueGxhcmdlXToyMCxbci5TaXplLnh4bGFyZ2VdOjI0LFtyLlNpemUueHh4bGFyZ2VdOjMyLFtyLlNpemUueHh4eGxhcmdlXTo0OH0sci5Vbml0UHg9e1tyLlNpemUueHNtYWxsXTpcIjRweFwiLFtyLlNpemUuc21hbGxdOlwiOHB4XCIsW3IuU2l6ZS5iYXNlXTpcIjEycHhcIixbci5TaXplLmxhcmdlXTpcIjE2cHhcIixbci5TaXplLnhsYXJnZV06XCIyMHB4XCIsW3IuU2l6ZS54eGxhcmdlXTpcIjI0cHhcIixbci5TaXplLnh4eGxhcmdlXTpcIjMycHhcIixbci5TaXplLnh4eHhsYXJnZV06XCI0OHB4XCJ9LHIuUmFkaXVzPXtbci5TaXplLnhzbWFsbF06XCIycHhcIixbci5TaXplLnNtYWxsXTpcIjRweFwiLFtyLlNpemUuYmFzZV06XCI4cHhcIixbci5TaXplLmxhcmdlXTpcIjI0cHhcIixwaWxsOlwiMTAwdmhcIixyb3VuZDpcIjUwJVwiLG5vbmU6XCIwXCJ9LHIuU2hhZG93PXtbci5TaXplLmJhc2VdOlwiMCA0cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSlcIn0sci5Gb250RmFtaWx5PVtcIkludGVyXCIsXCJzeXN0ZW0tdWlcIixcIkJsaW5rTWFjU3lzdGVtRm9udFwiLFwiU2Vnb2UgVUlcIixcIlJvYm90b1wiLFwiT3h5Z2VuLVNhbnNcIixcIlVidW50dVwiLFwiQ2FudGFyZWxsXCIsXCJIZWx2ZXRpY2EgTmV1ZVwiLFwic2Fucy1zZXJpZlwiXS5qb2luKFwiLFwiKSxyLkZvbnRTaXplPXtbci5TaXplLnhzbWFsbF06XCI4cHhcIixbci5TaXplLnNtYWxsXTpcIjEwcHhcIixbci5TaXplLmJhc2VdOlwiMTJweFwiLFtyLlNpemUubGFyZ2VdOlwiMTRweFwiLFtyLlNpemUueGxhcmdlXTpcIjE2cHhcIixbci5TaXplLnh4bGFyZ2VdOlwiMThweFwiLFtyLlNpemUueHh4bGFyZ2VdOlwiMjBweFwiLFtyLlNpemUueHh4eGxhcmdlXTpcIjQwcHhcIn0sci5Gb250V2VpZ2h0PXtub3JtYWw6NDAwLGJvbGQ6NjAwfSxyLkxpbmVIZWlnaHQ9e3VpOjEsaGVhZGluZzoxLjIsdGV4dDoxLjV9LHIuVHJhbnNpdGlvbj17YmFzZTpcIjIwMG1zIGN1YmljLWJlemllcigwLjE2LCAxLCAwLjMsIDEpXCIsbm9uZTpcIjBtc1wifSxyLkljb25TaXplPXtbci5TaXplLnhzbWFsbF06ci5Vbml0UHguc21hbGwsW3IuU2l6ZS5zbWFsbF06ci5Vbml0UHguYmFzZSxbci5TaXplLmJhc2VdOlwiMTVweFwiLFtyLlNpemUubGFyZ2VdOnIuVW5pdFB4LnhsYXJnZSxbci5TaXplLnhsYXJnZV06ci5Vbml0UHgueHhsYXJnZSxbci5TaXplLnh4bGFyZ2VdOnIuVW5pdFB4Lnh4eGxhcmdlLFtyLlNpemUueHh4bGFyZ2VdOnIuVW5pdFB4Lnh4eHhsYXJnZX19LDE4NDg6KGUscix0KT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHIuY3JlYXRlVGhlbWU9dm9pZCAwO2NvbnN0IG89dCg1ODIwKSxuPXQoOTAzNyksYT10KDQ1MDIpLGk9e2ZvbnRGYW1pbHk6by5Gb250RmFtaWx5LGZvbnRTaXplOm8uRm9udFNpemUsZm9udFdlaWdodDpvLkZvbnRXZWlnaHQsbGluZUhlaWdodDpvLkxpbmVIZWlnaHQsaWNvblNpemU6by5JY29uU2l6ZSxyYWRpdXM6by5SYWRpdXMsc2hhZG93Om8uU2hhZG93LHRyYW5zaXRpb246by5UcmFuc2l0aW9uLHVuaXQ6by5Vbml0LHB4Om8uVW5pdFB4fSxsPShlLHIpPT4oe1tgJHtlfUFjdGl2ZWBdOigwLG4uZGFya2VuQ29sb3IpKHIsMiksW2Ake2V9SG92ZXJgXTooMCxuLmxpZ2h0ZW5Db2xvcikociw1KSxbYCR7ZX1Gb2N1c2VkYF06KDAsbi5nZXRNb3N0UmVhZGFibGUpKHIsW28uQ29sb3Iud2hpdGUsby5Db2xvci5kYXJrR3JheTVdKSxbYCR7ZX1UZXh0YF06KDAsbi5nZXRNb3N0UmVhZGFibGUpKHIsW28uQ29sb3Iud2hpdGUsby5Db2xvci5kYXJrR3JheTVdKX0pO3IuY3JlYXRlVGhlbWU9ZT0+T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtwYWxldHRlOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGwoYS5QYWxldHRlLmJyYW5kUHJpbWFyeSxlLmJyYW5kUHJpbWFyeSkpLGwoYS5QYWxldHRlLmJyYW5kU2Vjb25kYXJ5LGUuYnJhbmRTZWNvbmRhcnkpKSxlKX0pfSw0NTAyOihlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksci5QYWxldHRlPXZvaWQgMCxyLlBhbGV0dGU9e2JhY2tncm91bmQxOlwiYmFja2dyb3VuZDFcIixiYWNrZ3JvdW5kMjpcImJhY2tncm91bmQyXCIsYmFja2dyb3VuZDM6XCJiYWNrZ3JvdW5kM1wiLGJhY2tncm91bmQ0OlwiYmFja2dyb3VuZDRcIixiYWNrZ3JvdW5kNTpcImJhY2tncm91bmQ1XCIsYmFja2dyb3VuZDY6XCJiYWNrZ3JvdW5kNlwiLGJyYW5kUHJpbWFyeTpcImJyYW5kUHJpbWFyeVwiLGJyYW5kU2Vjb25kYXJ5OlwiYnJhbmRTZWNvbmRhcnlcIixicmFuZFByaW1hcnlBY3RpdmU6XCJicmFuZFByaW1hcnlBY3RpdmVcIixicmFuZFByaW1hcnlIb3ZlcjpcImJyYW5kUHJpbWFyeUhvdmVyXCIsYnJhbmRQcmltYXJ5Rm9jdXNlZDpcImJyYW5kUHJpbWFyeUZvY3VzZWRcIixicmFuZFByaW1hcnlUZXh0OlwiYnJhbmRQcmltYXJ5VGV4dFwiLGJyYW5kU2Vjb25kYXJ5QWN0aXZlOlwiYnJhbmRTZWNvbmRhcnlBY3RpdmVcIixicmFuZFNlY29uZGFyeUhvdmVyOlwiYnJhbmRTZWNvbmRhcnlIb3ZlclwiLGJyYW5kU2Vjb25kYXJ5Rm9jdXNlZDpcImJyYW5kU2Vjb25kYXJ5Rm9jdXNlZFwiLGJyYW5kU2Vjb25kYXJ5VGV4dDpcImJyYW5kU2Vjb25kYXJ5VGV4dFwiLGlucHV0QmFja2dyb3VuZDpcImlucHV0QmFja2dyb3VuZFwiLGlucHV0Q29sb3I6XCJpbnB1dENvbG9yXCIsaW5wdXRQbGFjZWhvbGRlcjpcImlucHV0UGxhY2Vob2xkZXJcIixpbnB1dERpc2FibGVkOlwiaW5wdXREaXNhYmxlZFwiLGlucHV0Rm9jdXNlZDpcImlucHV0Rm9jdXNlZFwiLGlucHV0Qm9yZGVyOlwiaW5wdXRCb3JkZXJcIixzdGF0dXNTdWNjZXNzOlwic3RhdHVzU3VjY2Vzc1wiLHN0YXR1c1dhcm5pbmc6XCJzdGF0dXNXYXJuaW5nXCIsc3RhdHVzQ3JpdGljYWw6XCJzdGF0dXNDcml0aWNhbFwiLHN0YXR1c0FjdGl2ZTpcInN0YXR1c0FjdGl2ZVwiLHRleHREZWZhdWx0OlwidGV4dERlZmF1bHRcIix0ZXh0SGVscDpcInRleHRIZWxwXCIsdGV4dEluYWN0aXZlOlwidGV4dEluYWN0aXZlXCIsYm9yZGVyTmV1dHJhbDpcImJvcmRlck5ldXRyYWxcIixjb250ZW50QmFja2dyb3VuZDE6XCJjb250ZW50QmFja2dyb3VuZDFcIixjb250ZW50QmFja2dyb3VuZDI6XCJjb250ZW50QmFja2dyb3VuZDJcIixjb250ZW50QmFja2dyb3VuZDM6XCJjb250ZW50QmFja2dyb3VuZDNcIixjb250ZW50QmFja2dyb3VuZDQ6XCJjb250ZW50QmFja2dyb3VuZDRcIixjb250ZW50QmFja2dyb3VuZDU6XCJjb250ZW50QmFja2dyb3VuZDVcIixsaW5rRGVmYXVsdDpcImxpbmtEZWZhdWx0XCIsbGlua0hvdmVyOlwibGlua0hvdmVyXCJ9fSw1ODg4OmZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUocil7cmV0dXJuKGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKHIpfXZhciByPS9eXFxzKy8sdD0vXFxzKyQvO2Z1bmN0aW9uIG8obixhKXtpZihhPWF8fHt9LChuPW58fFwiXCIpaW5zdGFuY2VvZiBvKXJldHVybiBuO2lmKCEodGhpcyBpbnN0YW5jZW9mIG8pKXJldHVybiBuZXcgbyhuLGEpO3ZhciBpPWZ1bmN0aW9uKG8pe3ZhciBuLGEsaSxsPXtyOjAsZzowLGI6MH0sYz0xLHM9bnVsbCx1PW51bGwsZD1udWxsLGY9ITEscD0hMTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgbyYmKG89ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UocixcIlwiKS5yZXBsYWNlKHQsXCJcIikudG9Mb3dlckNhc2UoKTt2YXIgbyxuPSExO2lmKHdbZV0pZT13W2VdLG49ITA7ZWxzZSBpZihcInRyYW5zcGFyZW50XCI9PWUpcmV0dXJue3I6MCxnOjAsYjowLGE6MCxmb3JtYXQ6XCJuYW1lXCJ9O3JldHVybihvPXoucmdiLmV4ZWMoZSkpP3tyOm9bMV0sZzpvWzJdLGI6b1szXX06KG89ei5yZ2JhLmV4ZWMoZSkpP3tyOm9bMV0sZzpvWzJdLGI6b1szXSxhOm9bNF19OihvPXouaHNsLmV4ZWMoZSkpP3toOm9bMV0sczpvWzJdLGw6b1szXX06KG89ei5oc2xhLmV4ZWMoZSkpP3toOm9bMV0sczpvWzJdLGw6b1szXSxhOm9bNF19OihvPXouaHN2LmV4ZWMoZSkpP3toOm9bMV0sczpvWzJdLHY6b1szXX06KG89ei5oc3ZhLmV4ZWMoZSkpP3toOm9bMV0sczpvWzJdLHY6b1szXSxhOm9bNF19OihvPXouaGV4OC5leGVjKGUpKT97cjpTKG9bMV0pLGc6UyhvWzJdKSxiOlMob1szXSksYTpBKG9bNF0pLGZvcm1hdDpuP1wibmFtZVwiOlwiaGV4OFwifToobz16LmhleDYuZXhlYyhlKSk/e3I6UyhvWzFdKSxnOlMob1syXSksYjpTKG9bM10pLGZvcm1hdDpuP1wibmFtZVwiOlwiaGV4XCJ9OihvPXouaGV4NC5leGVjKGUpKT97cjpTKG9bMV0rXCJcIitvWzFdKSxnOlMob1syXStcIlwiK29bMl0pLGI6UyhvWzNdK1wiXCIrb1szXSksYTpBKG9bNF0rXCJcIitvWzRdKSxmb3JtYXQ6bj9cIm5hbWVcIjpcImhleDhcIn06ISEobz16LmhleDMuZXhlYyhlKSkmJntyOlMob1sxXStcIlwiK29bMV0pLGc6UyhvWzJdK1wiXCIrb1syXSksYjpTKG9bM10rXCJcIitvWzNdKSxmb3JtYXQ6bj9cIm5hbWVcIjpcImhleFwifX0obykpLFwib2JqZWN0XCI9PWUobykmJihUKG8ucikmJlQoby5nKSYmVChvLmIpPyhuPW8ucixhPW8uZyxpPW8uYixsPXtyOjI1NSp4KG4sMjU1KSxnOjI1NSp4KGEsMjU1KSxiOjI1NSp4KGksMjU1KX0sZj0hMCxwPVwiJVwiPT09U3RyaW5nKG8ucikuc3Vic3RyKC0xKT9cInByZ2JcIjpcInJnYlwiKTpUKG8uaCkmJlQoby5zKSYmVChvLnYpPyhzPUkoby5zKSx1PUkoby52KSxsPWZ1bmN0aW9uKGUscix0KXtlPTYqeChlLDM2MCkscj14KHIsMTAwKSx0PXgodCwxMDApO3ZhciBvPU1hdGguZmxvb3IoZSksbj1lLW8sYT10KigxLXIpLGk9dCooMS1uKnIpLGw9dCooMS0oMS1uKSpyKSxjPW8lNjtyZXR1cm57cjoyNTUqW3QsaSxhLGEsbCx0XVtjXSxnOjI1NSpbbCx0LHQsaSxhLGFdW2NdLGI6MjU1KlthLGEsbCx0LHQsaV1bY119fShvLmgscyx1KSxmPSEwLHA9XCJoc3ZcIik6VChvLmgpJiZUKG8ucykmJlQoby5sKSYmKHM9SShvLnMpLGQ9SShvLmwpLGw9ZnVuY3Rpb24oZSxyLHQpe3ZhciBvLG4sYTtmdW5jdGlvbiBpKGUscix0KXtyZXR1cm4gdDwwJiYodCs9MSksdD4xJiYodC09MSksdDwxLzY/ZSs2KihyLWUpKnQ6dDwuNT9yOnQ8Mi8zP2UrKHItZSkqKDIvMy10KSo2OmV9aWYoZT14KGUsMzYwKSxyPXgociwxMDApLHQ9eCh0LDEwMCksMD09PXIpbz1uPWE9dDtlbHNle3ZhciBsPXQ8LjU/dCooMStyKTp0K3ItdCpyLGM9Mip0LWw7bz1pKGMsbCxlKzEvMyksbj1pKGMsbCxlKSxhPWkoYyxsLGUtMS8zKX1yZXR1cm57cjoyNTUqbyxnOjI1NSpuLGI6MjU1KmF9fShvLmgscyxkKSxmPSEwLHA9XCJoc2xcIiksby5oYXNPd25Qcm9wZXJ0eShcImFcIikmJihjPW8uYSkpLGM9ayhjKSx7b2s6Zixmb3JtYXQ6by5mb3JtYXR8fHAscjpNYXRoLm1pbigyNTUsTWF0aC5tYXgobC5yLDApKSxnOk1hdGgubWluKDI1NSxNYXRoLm1heChsLmcsMCkpLGI6TWF0aC5taW4oMjU1LE1hdGgubWF4KGwuYiwwKSksYTpjfX0obik7dGhpcy5fb3JpZ2luYWxJbnB1dD1uLHRoaXMuX3I9aS5yLHRoaXMuX2c9aS5nLHRoaXMuX2I9aS5iLHRoaXMuX2E9aS5hLHRoaXMuX3JvdW5kQT1NYXRoLnJvdW5kKDEwMCp0aGlzLl9hKS8xMDAsdGhpcy5fZm9ybWF0PWEuZm9ybWF0fHxpLmZvcm1hdCx0aGlzLl9ncmFkaWVudFR5cGU9YS5ncmFkaWVudFR5cGUsdGhpcy5fcjwxJiYodGhpcy5fcj1NYXRoLnJvdW5kKHRoaXMuX3IpKSx0aGlzLl9nPDEmJih0aGlzLl9nPU1hdGgucm91bmQodGhpcy5fZykpLHRoaXMuX2I8MSYmKHRoaXMuX2I9TWF0aC5yb3VuZCh0aGlzLl9iKSksdGhpcy5fb2s9aS5va31mdW5jdGlvbiBuKGUscix0KXtlPXgoZSwyNTUpLHI9eChyLDI1NSksdD14KHQsMjU1KTt2YXIgbyxuLGE9TWF0aC5tYXgoZSxyLHQpLGk9TWF0aC5taW4oZSxyLHQpLGw9KGEraSkvMjtpZihhPT1pKW89bj0wO2Vsc2V7dmFyIGM9YS1pO3N3aXRjaChuPWw+LjU/Yy8oMi1hLWkpOmMvKGEraSksYSl7Y2FzZSBlOm89KHItdCkvYysocjx0PzY6MCk7YnJlYWs7Y2FzZSByOm89KHQtZSkvYysyO2JyZWFrO2Nhc2UgdDpvPShlLXIpL2MrNH1vLz02fXJldHVybntoOm8sczpuLGx9fWZ1bmN0aW9uIGEoZSxyLHQpe2U9eChlLDI1NSkscj14KHIsMjU1KSx0PXgodCwyNTUpO3ZhciBvLG4sYT1NYXRoLm1heChlLHIsdCksaT1NYXRoLm1pbihlLHIsdCksbD1hLGM9YS1pO2lmKG49MD09PWE/MDpjL2EsYT09aSlvPTA7ZWxzZXtzd2l0Y2goYSl7Y2FzZSBlOm89KHItdCkvYysocjx0PzY6MCk7YnJlYWs7Y2FzZSByOm89KHQtZSkvYysyO2JyZWFrO2Nhc2UgdDpvPShlLXIpL2MrNH1vLz02fXJldHVybntoOm8sczpuLHY6bH19ZnVuY3Rpb24gaShlLHIsdCxvKXt2YXIgbj1bTShNYXRoLnJvdW5kKGUpLnRvU3RyaW5nKDE2KSksTShNYXRoLnJvdW5kKHIpLnRvU3RyaW5nKDE2KSksTShNYXRoLnJvdW5kKHQpLnRvU3RyaW5nKDE2KSldO3JldHVybiBvJiZuWzBdLmNoYXJBdCgwKT09blswXS5jaGFyQXQoMSkmJm5bMV0uY2hhckF0KDApPT1uWzFdLmNoYXJBdCgxKSYmblsyXS5jaGFyQXQoMCk9PW5bMl0uY2hhckF0KDEpP25bMF0uY2hhckF0KDApK25bMV0uY2hhckF0KDApK25bMl0uY2hhckF0KDApOm4uam9pbihcIlwiKX1mdW5jdGlvbiBsKGUscix0LG8pe3JldHVybltNKEMobykpLE0oTWF0aC5yb3VuZChlKS50b1N0cmluZygxNikpLE0oTWF0aC5yb3VuZChyKS50b1N0cmluZygxNikpLE0oTWF0aC5yb3VuZCh0KS50b1N0cmluZygxNikpXS5qb2luKFwiXCIpfWZ1bmN0aW9uIGMoZSxyKXtyPTA9PT1yPzA6cnx8MTA7dmFyIHQ9byhlKS50b0hzbCgpO3JldHVybiB0LnMtPXIvMTAwLHQucz1QKHQucyksbyh0KX1mdW5jdGlvbiBzKGUscil7cj0wPT09cj8wOnJ8fDEwO3ZhciB0PW8oZSkudG9Ic2woKTtyZXR1cm4gdC5zKz1yLzEwMCx0LnM9UCh0LnMpLG8odCl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gbyhlKS5kZXNhdHVyYXRlKDEwMCl9ZnVuY3Rpb24gZChlLHIpe3I9MD09PXI/MDpyfHwxMDt2YXIgdD1vKGUpLnRvSHNsKCk7cmV0dXJuIHQubCs9ci8xMDAsdC5sPVAodC5sKSxvKHQpfWZ1bmN0aW9uIGYoZSxyKXtyPTA9PT1yPzA6cnx8MTA7dmFyIHQ9byhlKS50b1JnYigpO3JldHVybiB0LnI9TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsdC5yLU1hdGgucm91bmQoLXIvMTAwKjI1NSkpKSx0Lmc9TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsdC5nLU1hdGgucm91bmQoLXIvMTAwKjI1NSkpKSx0LmI9TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsdC5iLU1hdGgucm91bmQoLXIvMTAwKjI1NSkpKSxvKHQpfWZ1bmN0aW9uIHAoZSxyKXtyPTA9PT1yPzA6cnx8MTA7dmFyIHQ9byhlKS50b0hzbCgpO3JldHVybiB0LmwtPXIvMTAwLHQubD1QKHQubCksbyh0KX1mdW5jdGlvbiBnKGUscil7dmFyIHQ9byhlKS50b0hzbCgpLG49KHQuaCtyKSUzNjA7cmV0dXJuIHQuaD1uPDA/MzYwK246bixvKHQpfWZ1bmN0aW9uIGgoZSl7dmFyIHI9byhlKS50b0hzbCgpO3JldHVybiByLmg9KHIuaCsxODApJTM2MCxvKHIpfWZ1bmN0aW9uIGIoZSxyKXtpZihpc05hTihyKXx8cjw9MCl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCB0byBwb2x5YWQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtmb3IodmFyIHQ9byhlKS50b0hzbCgpLG49W28oZSldLGE9MzYwL3IsaT0xO2k8cjtpKyspbi5wdXNoKG8oe2g6KHQuaCtpKmEpJTM2MCxzOnQucyxsOnQubH0pKTtyZXR1cm4gbn1mdW5jdGlvbiB2KGUpe3ZhciByPW8oZSkudG9Ic2woKSx0PXIuaDtyZXR1cm5bbyhlKSxvKHtoOih0KzcyKSUzNjAsczpyLnMsbDpyLmx9KSxvKHtoOih0KzIxNiklMzYwLHM6ci5zLGw6ci5sfSldfWZ1bmN0aW9uIG0oZSxyLHQpe3I9cnx8Nix0PXR8fDMwO3ZhciBuPW8oZSkudG9Ic2woKSxhPTM2MC90LGk9W28oZSldO2ZvcihuLmg9KG4uaC0oYSpyPj4xKSs3MjApJTM2MDstLXI7KW4uaD0obi5oK2EpJTM2MCxpLnB1c2gobyhuKSk7cmV0dXJuIGl9ZnVuY3Rpb24geShlLHIpe3I9cnx8Njtmb3IodmFyIHQ9byhlKS50b0hzdigpLG49dC5oLGE9dC5zLGk9dC52LGw9W10sYz0xL3I7ci0tOylsLnB1c2gobyh7aDpuLHM6YSx2Oml9KSksaT0oaStjKSUxO3JldHVybiBsfW8ucHJvdG90eXBlPXtpc0Rhcms6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCcmlnaHRuZXNzKCk8MTI4fSxpc0xpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNEYXJrKCl9LGlzVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2t9LGdldE9yaWdpbmFsSW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZ2luYWxJbnB1dH0sZ2V0Rm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvcm1hdH0sZ2V0QWxwaGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYX0sZ2V0QnJpZ2h0bmVzczpmdW5jdGlvbigpe3ZhciBlPXRoaXMudG9SZ2IoKTtyZXR1cm4oMjk5KmUucis1ODcqZS5nKzExNCplLmIpLzFlM30sZ2V0THVtaW5hbmNlOmZ1bmN0aW9uKCl7dmFyIGUscix0LG89dGhpcy50b1JnYigpO3JldHVybiBlPW8uci8yNTUscj1vLmcvMjU1LHQ9by5iLzI1NSwuMjEyNiooZTw9LjAzOTI4P2UvMTIuOTI6TWF0aC5wb3coKGUrLjA1NSkvMS4wNTUsMi40KSkrLjcxNTIqKHI8PS4wMzkyOD9yLzEyLjkyOk1hdGgucG93KChyKy4wNTUpLzEuMDU1LDIuNCkpKy4wNzIyKih0PD0uMDM5Mjg/dC8xMi45MjpNYXRoLnBvdygodCsuMDU1KS8xLjA1NSwyLjQpKX0sc2V0QWxwaGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2E9ayhlKSx0aGlzLl9yb3VuZEE9TWF0aC5yb3VuZCgxMDAqdGhpcy5fYSkvMTAwLHRoaXN9LHRvSHN2OmZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYik7cmV0dXJue2g6MzYwKmUuaCxzOmUucyx2OmUudixhOnRoaXMuX2F9fSx0b0hzdlN0cmluZzpmdW5jdGlvbigpe3ZhciBlPWEodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpLHI9TWF0aC5yb3VuZCgzNjAqZS5oKSx0PU1hdGgucm91bmQoMTAwKmUucyksbz1NYXRoLnJvdW5kKDEwMCplLnYpO3JldHVybiAxPT10aGlzLl9hP1wiaHN2KFwiK3IrXCIsIFwiK3QrXCIlLCBcIitvK1wiJSlcIjpcImhzdmEoXCIrcitcIiwgXCIrdCtcIiUsIFwiK28rXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvSHNsOmZ1bmN0aW9uKCl7dmFyIGU9bih0aGlzLl9yLHRoaXMuX2csdGhpcy5fYik7cmV0dXJue2g6MzYwKmUuaCxzOmUucyxsOmUubCxhOnRoaXMuX2F9fSx0b0hzbFN0cmluZzpmdW5jdGlvbigpe3ZhciBlPW4odGhpcy5fcix0aGlzLl9nLHRoaXMuX2IpLHI9TWF0aC5yb3VuZCgzNjAqZS5oKSx0PU1hdGgucm91bmQoMTAwKmUucyksbz1NYXRoLnJvdW5kKDEwMCplLmwpO3JldHVybiAxPT10aGlzLl9hP1wiaHNsKFwiK3IrXCIsIFwiK3QrXCIlLCBcIitvK1wiJSlcIjpcImhzbGEoXCIrcitcIiwgXCIrdCtcIiUsIFwiK28rXCIlLCBcIit0aGlzLl9yb3VuZEErXCIpXCJ9LHRvSGV4OmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMuX3IsdGhpcy5fZyx0aGlzLl9iLGUpfSx0b0hleFN0cmluZzpmdW5jdGlvbihlKXtyZXR1cm5cIiNcIit0aGlzLnRvSGV4KGUpfSx0b0hleDg6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUscix0LG8sbil7dmFyIGE9W00oTWF0aC5yb3VuZChlKS50b1N0cmluZygxNikpLE0oTWF0aC5yb3VuZChyKS50b1N0cmluZygxNikpLE0oTWF0aC5yb3VuZCh0KS50b1N0cmluZygxNikpLE0oQyhvKSldO3JldHVybiBuJiZhWzBdLmNoYXJBdCgwKT09YVswXS5jaGFyQXQoMSkmJmFbMV0uY2hhckF0KDApPT1hWzFdLmNoYXJBdCgxKSYmYVsyXS5jaGFyQXQoMCk9PWFbMl0uY2hhckF0KDEpJiZhWzNdLmNoYXJBdCgwKT09YVszXS5jaGFyQXQoMSk/YVswXS5jaGFyQXQoMCkrYVsxXS5jaGFyQXQoMCkrYVsyXS5jaGFyQXQoMCkrYVszXS5jaGFyQXQoMCk6YS5qb2luKFwiXCIpfSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYix0aGlzLl9hLGUpfSx0b0hleDhTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuXCIjXCIrdGhpcy50b0hleDgoZSl9LHRvUmdiOmZ1bmN0aW9uKCl7cmV0dXJue3I6TWF0aC5yb3VuZCh0aGlzLl9yKSxnOk1hdGgucm91bmQodGhpcy5fZyksYjpNYXRoLnJvdW5kKHRoaXMuX2IpLGE6dGhpcy5fYX19LHRvUmdiU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PXRoaXMuX2E/XCJyZ2IoXCIrTWF0aC5yb3VuZCh0aGlzLl9yKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9nKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9iKStcIilcIjpcInJnYmEoXCIrTWF0aC5yb3VuZCh0aGlzLl9yKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9nKStcIiwgXCIrTWF0aC5yb3VuZCh0aGlzLl9iKStcIiwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b1BlcmNlbnRhZ2VSZ2I6ZnVuY3Rpb24oKXtyZXR1cm57cjpNYXRoLnJvdW5kKDEwMCp4KHRoaXMuX3IsMjU1KSkrXCIlXCIsZzpNYXRoLnJvdW5kKDEwMCp4KHRoaXMuX2csMjU1KSkrXCIlXCIsYjpNYXRoLnJvdW5kKDEwMCp4KHRoaXMuX2IsMjU1KSkrXCIlXCIsYTp0aGlzLl9hfX0sdG9QZXJjZW50YWdlUmdiU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PXRoaXMuX2E/XCJyZ2IoXCIrTWF0aC5yb3VuZCgxMDAqeCh0aGlzLl9yLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqeCh0aGlzLl9nLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqeCh0aGlzLl9iLDI1NSkpK1wiJSlcIjpcInJnYmEoXCIrTWF0aC5yb3VuZCgxMDAqeCh0aGlzLl9yLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqeCh0aGlzLl9nLDI1NSkpK1wiJSwgXCIrTWF0aC5yb3VuZCgxMDAqeCh0aGlzLl9iLDI1NSkpK1wiJSwgXCIrdGhpcy5fcm91bmRBK1wiKVwifSx0b05hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX2E/XCJ0cmFuc3BhcmVudFwiOiEodGhpcy5fYTwxKSYmKF9baSh0aGlzLl9yLHRoaXMuX2csdGhpcy5fYiwhMCldfHwhMSl9LHRvRmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciByPVwiI1wiK2wodGhpcy5fcix0aGlzLl9nLHRoaXMuX2IsdGhpcy5fYSksdD1yLG49dGhpcy5fZ3JhZGllbnRUeXBlP1wiR3JhZGllbnRUeXBlID0gMSwgXCI6XCJcIjtpZihlKXt2YXIgYT1vKGUpO3Q9XCIjXCIrbChhLl9yLGEuX2csYS5fYixhLl9hKX1yZXR1cm5cInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChcIituK1wic3RhcnRDb2xvcnN0cj1cIityK1wiLGVuZENvbG9yc3RyPVwiK3QrXCIpXCJ9LHRvU3RyaW5nOmZ1bmN0aW9uKGUpe3ZhciByPSEhZTtlPWV8fHRoaXMuX2Zvcm1hdDt2YXIgdD0hMSxvPXRoaXMuX2E8MSYmdGhpcy5fYT49MDtyZXR1cm4gcnx8IW98fFwiaGV4XCIhPT1lJiZcImhleDZcIiE9PWUmJlwiaGV4M1wiIT09ZSYmXCJoZXg0XCIhPT1lJiZcImhleDhcIiE9PWUmJlwibmFtZVwiIT09ZT8oXCJyZ2JcIj09PWUmJih0PXRoaXMudG9SZ2JTdHJpbmcoKSksXCJwcmdiXCI9PT1lJiYodD10aGlzLnRvUGVyY2VudGFnZVJnYlN0cmluZygpKSxcImhleFwiIT09ZSYmXCJoZXg2XCIhPT1lfHwodD10aGlzLnRvSGV4U3RyaW5nKCkpLFwiaGV4M1wiPT09ZSYmKHQ9dGhpcy50b0hleFN0cmluZyghMCkpLFwiaGV4NFwiPT09ZSYmKHQ9dGhpcy50b0hleDhTdHJpbmcoITApKSxcImhleDhcIj09PWUmJih0PXRoaXMudG9IZXg4U3RyaW5nKCkpLFwibmFtZVwiPT09ZSYmKHQ9dGhpcy50b05hbWUoKSksXCJoc2xcIj09PWUmJih0PXRoaXMudG9Ic2xTdHJpbmcoKSksXCJoc3ZcIj09PWUmJih0PXRoaXMudG9Ic3ZTdHJpbmcoKSksdHx8dGhpcy50b0hleFN0cmluZygpKTpcIm5hbWVcIj09PWUmJjA9PT10aGlzLl9hP3RoaXMudG9OYW1lKCk6dGhpcy50b1JnYlN0cmluZygpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBvKHRoaXMudG9TdHJpbmcoKSl9LF9hcHBseU1vZGlmaWNhdGlvbjpmdW5jdGlvbihlLHIpe3ZhciB0PWUuYXBwbHkobnVsbCxbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwocikpKTtyZXR1cm4gdGhpcy5fcj10Ll9yLHRoaXMuX2c9dC5fZyx0aGlzLl9iPXQuX2IsdGhpcy5zZXRBbHBoYSh0Ll9hKSx0aGlzfSxsaWdodGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGQsYXJndW1lbnRzKX0sYnJpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZixhcmd1bWVudHMpfSxkYXJrZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24ocCxhcmd1bWVudHMpfSxkZXNhdHVyYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGMsYXJndW1lbnRzKX0sc2F0dXJhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24ocyxhcmd1bWVudHMpfSxncmV5c2NhbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24odSxhcmd1bWVudHMpfSxzcGluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGcsYXJndW1lbnRzKX0sX2FwcGx5Q29tYmluYXRpb246ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5hcHBseShudWxsLFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbChyKSkpfSxhbmFsb2dvdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihtLGFyZ3VtZW50cyl9LGNvbXBsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihoLGFyZ3VtZW50cyl9LG1vbm9jaHJvbWF0aWM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbih5LGFyZ3VtZW50cyl9LHNwbGl0Y29tcGxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHYsYXJndW1lbnRzKX0sdHJpYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbihiLFszXSl9LHRldHJhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGIsWzRdKX19LG8uZnJvbVJhdGlvPWZ1bmN0aW9uKHIsdCl7aWYoXCJvYmplY3RcIj09ZShyKSl7dmFyIG49e307Zm9yKHZhciBhIGluIHIpci5oYXNPd25Qcm9wZXJ0eShhKSYmKG5bYV09XCJhXCI9PT1hP3JbYV06SShyW2FdKSk7cj1ufXJldHVybiBvKHIsdCl9LG8uZXF1YWxzPWZ1bmN0aW9uKGUscil7cmV0dXJuISghZXx8IXIpJiZvKGUpLnRvUmdiU3RyaW5nKCk9PW8ocikudG9SZ2JTdHJpbmcoKX0sby5yYW5kb209ZnVuY3Rpb24oKXtyZXR1cm4gby5mcm9tUmF0aW8oe3I6TWF0aC5yYW5kb20oKSxnOk1hdGgucmFuZG9tKCksYjpNYXRoLnJhbmRvbSgpfSl9LG8ubWl4PWZ1bmN0aW9uKGUscix0KXt0PTA9PT10PzA6dHx8NTA7dmFyIG49byhlKS50b1JnYigpLGE9byhyKS50b1JnYigpLGk9dC8xMDA7cmV0dXJuIG8oe3I6KGEuci1uLnIpKmkrbi5yLGc6KGEuZy1uLmcpKmkrbi5nLGI6KGEuYi1uLmIpKmkrbi5iLGE6KGEuYS1uLmEpKmkrbi5hfSl9LG8ucmVhZGFiaWxpdHk9ZnVuY3Rpb24oZSxyKXt2YXIgdD1vKGUpLG49byhyKTtyZXR1cm4oTWF0aC5tYXgodC5nZXRMdW1pbmFuY2UoKSxuLmdldEx1bWluYW5jZSgpKSsuMDUpLyhNYXRoLm1pbih0LmdldEx1bWluYW5jZSgpLG4uZ2V0THVtaW5hbmNlKCkpKy4wNSl9LG8uaXNSZWFkYWJsZT1mdW5jdGlvbihlLHIsdCl7dmFyIG4sYSxpLGwsYyxzPW8ucmVhZGFiaWxpdHkoZSxyKTtzd2l0Y2goYT0hMSwoaT10LFwiQUFcIiE9PShsPSgoaT1pfHx7bGV2ZWw6XCJBQVwiLHNpemU6XCJzbWFsbFwifSkubGV2ZWx8fFwiQUFcIikudG9VcHBlckNhc2UoKSkmJlwiQUFBXCIhPT1sJiYobD1cIkFBXCIpLFwic21hbGxcIiE9PShjPShpLnNpemV8fFwic21hbGxcIikudG9Mb3dlckNhc2UoKSkmJlwibGFyZ2VcIiE9PWMmJihjPVwic21hbGxcIiksbj17bGV2ZWw6bCxzaXplOmN9KS5sZXZlbCtuLnNpemUpe2Nhc2VcIkFBc21hbGxcIjpjYXNlXCJBQUFsYXJnZVwiOmE9cz49NC41O2JyZWFrO2Nhc2VcIkFBbGFyZ2VcIjphPXM+PTM7YnJlYWs7Y2FzZVwiQUFBc21hbGxcIjphPXM+PTd9cmV0dXJuIGF9LG8ubW9zdFJlYWRhYmxlPWZ1bmN0aW9uKGUscix0KXt2YXIgbixhLGksbCxjPW51bGwscz0wO2E9KHQ9dHx8e30pLmluY2x1ZGVGYWxsYmFja0NvbG9ycyxpPXQubGV2ZWwsbD10LnNpemU7Zm9yKHZhciB1PTA7dTxyLmxlbmd0aDt1KyspKG49by5yZWFkYWJpbGl0eShlLHJbdV0pKT5zJiYocz1uLGM9byhyW3VdKSk7cmV0dXJuIG8uaXNSZWFkYWJsZShlLGMse2xldmVsOmksc2l6ZTpsfSl8fCFhP2M6KHQuaW5jbHVkZUZhbGxiYWNrQ29sb3JzPSExLG8ubW9zdFJlYWRhYmxlKGUsW1wiI2ZmZlwiLFwiIzAwMFwiXSx0KSl9O3ZhciB3PW8ubmFtZXM9e2FsaWNlYmx1ZTpcImYwZjhmZlwiLGFudGlxdWV3aGl0ZTpcImZhZWJkN1wiLGFxdWE6XCIwZmZcIixhcXVhbWFyaW5lOlwiN2ZmZmQ0XCIsYXp1cmU6XCJmMGZmZmZcIixiZWlnZTpcImY1ZjVkY1wiLGJpc3F1ZTpcImZmZTRjNFwiLGJsYWNrOlwiMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCJmZmViY2RcIixibHVlOlwiMDBmXCIsYmx1ZXZpb2xldDpcIjhhMmJlMlwiLGJyb3duOlwiYTUyYTJhXCIsYnVybHl3b29kOlwiZGViODg3XCIsYnVybnRzaWVubmE6XCJlYTdlNWRcIixjYWRldGJsdWU6XCI1ZjllYTBcIixjaGFydHJldXNlOlwiN2ZmZjAwXCIsY2hvY29sYXRlOlwiZDI2OTFlXCIsY29yYWw6XCJmZjdmNTBcIixjb3JuZmxvd2VyYmx1ZTpcIjY0OTVlZFwiLGNvcm5zaWxrOlwiZmZmOGRjXCIsY3JpbXNvbjpcImRjMTQzY1wiLGN5YW46XCIwZmZcIixkYXJrYmx1ZTpcIjAwMDA4YlwiLGRhcmtjeWFuOlwiMDA4YjhiXCIsZGFya2dvbGRlbnJvZDpcImI4ODYwYlwiLGRhcmtncmF5OlwiYTlhOWE5XCIsZGFya2dyZWVuOlwiMDA2NDAwXCIsZGFya2dyZXk6XCJhOWE5YTlcIixkYXJra2hha2k6XCJiZGI3NmJcIixkYXJrbWFnZW50YTpcIjhiMDA4YlwiLGRhcmtvbGl2ZWdyZWVuOlwiNTU2YjJmXCIsZGFya29yYW5nZTpcImZmOGMwMFwiLGRhcmtvcmNoaWQ6XCI5OTMyY2NcIixkYXJrcmVkOlwiOGIwMDAwXCIsZGFya3NhbG1vbjpcImU5OTY3YVwiLGRhcmtzZWFncmVlbjpcIjhmYmM4ZlwiLGRhcmtzbGF0ZWJsdWU6XCI0ODNkOGJcIixkYXJrc2xhdGVncmF5OlwiMmY0ZjRmXCIsZGFya3NsYXRlZ3JleTpcIjJmNGY0ZlwiLGRhcmt0dXJxdW9pc2U6XCIwMGNlZDFcIixkYXJrdmlvbGV0OlwiOTQwMGQzXCIsZGVlcHBpbms6XCJmZjE0OTNcIixkZWVwc2t5Ymx1ZTpcIjAwYmZmZlwiLGRpbWdyYXk6XCI2OTY5NjlcIixkaW1ncmV5OlwiNjk2OTY5XCIsZG9kZ2VyYmx1ZTpcIjFlOTBmZlwiLGZpcmVicmljazpcImIyMjIyMlwiLGZsb3JhbHdoaXRlOlwiZmZmYWYwXCIsZm9yZXN0Z3JlZW46XCIyMjhiMjJcIixmdWNoc2lhOlwiZjBmXCIsZ2FpbnNib3JvOlwiZGNkY2RjXCIsZ2hvc3R3aGl0ZTpcImY4ZjhmZlwiLGdvbGQ6XCJmZmQ3MDBcIixnb2xkZW5yb2Q6XCJkYWE1MjBcIixncmF5OlwiODA4MDgwXCIsZ3JlZW46XCIwMDgwMDBcIixncmVlbnllbGxvdzpcImFkZmYyZlwiLGdyZXk6XCI4MDgwODBcIixob25leWRldzpcImYwZmZmMFwiLGhvdHBpbms6XCJmZjY5YjRcIixpbmRpYW5yZWQ6XCJjZDVjNWNcIixpbmRpZ286XCI0YjAwODJcIixpdm9yeTpcImZmZmZmMFwiLGtoYWtpOlwiZjBlNjhjXCIsbGF2ZW5kZXI6XCJlNmU2ZmFcIixsYXZlbmRlcmJsdXNoOlwiZmZmMGY1XCIsbGF3bmdyZWVuOlwiN2NmYzAwXCIsbGVtb25jaGlmZm9uOlwiZmZmYWNkXCIsbGlnaHRibHVlOlwiYWRkOGU2XCIsbGlnaHRjb3JhbDpcImYwODA4MFwiLGxpZ2h0Y3lhbjpcImUwZmZmZlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiZmFmYWQyXCIsbGlnaHRncmF5OlwiZDNkM2QzXCIsbGlnaHRncmVlbjpcIjkwZWU5MFwiLGxpZ2h0Z3JleTpcImQzZDNkM1wiLGxpZ2h0cGluazpcImZmYjZjMVwiLGxpZ2h0c2FsbW9uOlwiZmZhMDdhXCIsbGlnaHRzZWFncmVlbjpcIjIwYjJhYVwiLGxpZ2h0c2t5Ymx1ZTpcIjg3Y2VmYVwiLGxpZ2h0c2xhdGVncmF5OlwiNzg5XCIsbGlnaHRzbGF0ZWdyZXk6XCI3ODlcIixsaWdodHN0ZWVsYmx1ZTpcImIwYzRkZVwiLGxpZ2h0eWVsbG93OlwiZmZmZmUwXCIsbGltZTpcIjBmMFwiLGxpbWVncmVlbjpcIjMyY2QzMlwiLGxpbmVuOlwiZmFmMGU2XCIsbWFnZW50YTpcImYwZlwiLG1hcm9vbjpcIjgwMDAwMFwiLG1lZGl1bWFxdWFtYXJpbmU6XCI2NmNkYWFcIixtZWRpdW1ibHVlOlwiMDAwMGNkXCIsbWVkaXVtb3JjaGlkOlwiYmE1NWQzXCIsbWVkaXVtcHVycGxlOlwiOTM3MGRiXCIsbWVkaXVtc2VhZ3JlZW46XCIzY2IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCI3YjY4ZWVcIixtZWRpdW1zcHJpbmdncmVlbjpcIjAwZmE5YVwiLG1lZGl1bXR1cnF1b2lzZTpcIjQ4ZDFjY1wiLG1lZGl1bXZpb2xldHJlZDpcImM3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIjE5MTk3MFwiLG1pbnRjcmVhbTpcImY1ZmZmYVwiLG1pc3R5cm9zZTpcImZmZTRlMVwiLG1vY2Nhc2luOlwiZmZlNGI1XCIsbmF2YWpvd2hpdGU6XCJmZmRlYWRcIixuYXZ5OlwiMDAwMDgwXCIsb2xkbGFjZTpcImZkZjVlNlwiLG9saXZlOlwiODA4MDAwXCIsb2xpdmVkcmFiOlwiNmI4ZTIzXCIsb3JhbmdlOlwiZmZhNTAwXCIsb3JhbmdlcmVkOlwiZmY0NTAwXCIsb3JjaGlkOlwiZGE3MGQ2XCIscGFsZWdvbGRlbnJvZDpcImVlZThhYVwiLHBhbGVncmVlbjpcIjk4ZmI5OFwiLHBhbGV0dXJxdW9pc2U6XCJhZmVlZWVcIixwYWxldmlvbGV0cmVkOlwiZGI3MDkzXCIscGFwYXlhd2hpcDpcImZmZWZkNVwiLHBlYWNocHVmZjpcImZmZGFiOVwiLHBlcnU6XCJjZDg1M2ZcIixwaW5rOlwiZmZjMGNiXCIscGx1bTpcImRkYTBkZFwiLHBvd2RlcmJsdWU6XCJiMGUwZTZcIixwdXJwbGU6XCI4MDAwODBcIixyZWJlY2NhcHVycGxlOlwiNjYzMzk5XCIscmVkOlwiZjAwXCIscm9zeWJyb3duOlwiYmM4ZjhmXCIscm95YWxibHVlOlwiNDE2OWUxXCIsc2FkZGxlYnJvd246XCI4YjQ1MTNcIixzYWxtb246XCJmYTgwNzJcIixzYW5keWJyb3duOlwiZjRhNDYwXCIsc2VhZ3JlZW46XCIyZThiNTdcIixzZWFzaGVsbDpcImZmZjVlZVwiLHNpZW5uYTpcImEwNTIyZFwiLHNpbHZlcjpcImMwYzBjMFwiLHNreWJsdWU6XCI4N2NlZWJcIixzbGF0ZWJsdWU6XCI2YTVhY2RcIixzbGF0ZWdyYXk6XCI3MDgwOTBcIixzbGF0ZWdyZXk6XCI3MDgwOTBcIixzbm93OlwiZmZmYWZhXCIsc3ByaW5nZ3JlZW46XCIwMGZmN2ZcIixzdGVlbGJsdWU6XCI0NjgyYjRcIix0YW46XCJkMmI0OGNcIix0ZWFsOlwiMDA4MDgwXCIsdGhpc3RsZTpcImQ4YmZkOFwiLHRvbWF0bzpcImZmNjM0N1wiLHR1cnF1b2lzZTpcIjQwZTBkMFwiLHZpb2xldDpcImVlODJlZVwiLHdoZWF0OlwiZjVkZWIzXCIsd2hpdGU6XCJmZmZcIix3aGl0ZXNtb2tlOlwiZjVmNWY1XCIseWVsbG93OlwiZmYwXCIseWVsbG93Z3JlZW46XCI5YWNkMzJcIn0sXz1vLmhleE5hbWVzPWZ1bmN0aW9uKGUpe3ZhciByPXt9O2Zvcih2YXIgdCBpbiBlKWUuaGFzT3duUHJvcGVydHkodCkmJihyW2VbdF1dPXQpO3JldHVybiByfSh3KTtmdW5jdGlvbiBrKGUpe3JldHVybiBlPXBhcnNlRmxvYXQoZSksKGlzTmFOKGUpfHxlPDB8fGU+MSkmJihlPTEpLGV9ZnVuY3Rpb24geChlLHIpeyhmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPWUuaW5kZXhPZihcIi5cIikmJjE9PT1wYXJzZUZsb2F0KGUpfSkoZSkmJihlPVwiMTAwJVwiKTt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPWUuaW5kZXhPZihcIiVcIil9KGUpO3JldHVybiBlPU1hdGgubWluKHIsTWF0aC5tYXgoMCxwYXJzZUZsb2F0KGUpKSksdCYmKGU9cGFyc2VJbnQoZSpyLDEwKS8xMDApLE1hdGguYWJzKGUtcik8MWUtNj8xOmUlci9wYXJzZUZsb2F0KHIpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIE1hdGgubWluKDEsTWF0aC5tYXgoMCxlKSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNil9ZnVuY3Rpb24gTShlKXtyZXR1cm4gMT09ZS5sZW5ndGg/XCIwXCIrZTpcIlwiK2V9ZnVuY3Rpb24gSShlKXtyZXR1cm4gZTw9MSYmKGU9MTAwKmUrXCIlXCIpLGV9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gTWF0aC5yb3VuZCgyNTUqcGFyc2VGbG9hdChlKSkudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIFMoZSkvMjU1fXZhciBPLEYsVyx6PShGPVwiW1xcXFxzfFxcXFwoXSsoXCIrKE89XCIoPzpbLVxcXFwrXT9cXFxcZCpcXFxcLlxcXFxkKyU/KXwoPzpbLVxcXFwrXT9cXFxcZCslPylcIikrXCIpWyx8XFxcXHNdKyhcIitPK1wiKVssfFxcXFxzXSsoXCIrTytcIilcXFxccypcXFxcKT9cIixXPVwiW1xcXFxzfFxcXFwoXSsoXCIrTytcIilbLHxcXFxcc10rKFwiK08rXCIpWyx8XFxcXHNdKyhcIitPK1wiKVssfFxcXFxzXSsoXCIrTytcIilcXFxccypcXFxcKT9cIix7Q1NTX1VOSVQ6bmV3IFJlZ0V4cChPKSxyZ2I6bmV3IFJlZ0V4cChcInJnYlwiK0YpLHJnYmE6bmV3IFJlZ0V4cChcInJnYmFcIitXKSxoc2w6bmV3IFJlZ0V4cChcImhzbFwiK0YpLGhzbGE6bmV3IFJlZ0V4cChcImhzbGFcIitXKSxoc3Y6bmV3IFJlZ0V4cChcImhzdlwiK0YpLGhzdmE6bmV3IFJlZ0V4cChcImhzdmFcIitXKSxoZXgzOi9eIz8oWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLyxoZXg2Oi9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxoZXg0Oi9eIz8oWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC8saGV4ODovXiM/KFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KSQvfSk7ZnVuY3Rpb24gVChlKXtyZXR1cm4hIXouQ1NTX1VOSVQuZXhlYyhlKX1yZXR1cm4gb30oKX19LG89e307ZnVuY3Rpb24gbihlKXt2YXIgcj1vW2VdO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHIuZXhwb3J0czt2YXIgYT1vW2VdPXtleHBvcnRzOnt9fTtyZXR1cm4gdFtlXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxuKSxhLmV4cG9ydHN9dmFyIGE9e307KCgpPT57dmFyIGU9YTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmNyZWF0ZVRoZW1lPWUuUGFsZXR0ZT1lLkNvbG9yPXZvaWQgMDt2YXIgcj1uKDU4MjApO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiQ29sb3JcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5Db2xvcn19KTt2YXIgdD1uKDQ1MDIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiUGFsZXR0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LlBhbGV0dGV9fSk7dmFyIG89bigxODQ4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImNyZWF0ZVRoZW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uY3JlYXRlVGhlbWV9fSl9KSgpO3ZhciBpPXI7Zm9yKHZhciBsIGluIGEpaVtsXT1hW2xdO2EuX19lc01vZHVsZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LDgxMjplPT57XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXJlcXVpcmUoXCJAb3BlbmZpbi9ub3RpZmljYXRpb25zXCIpfSw5OTU6ZT0+e1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1yZXF1aXJlKFwidGl0bGUtY2FzZVwiKX19LHI9e307ZnVuY3Rpb24gdChvKXt2YXIgbj1yW29dO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG4uZXhwb3J0czt2YXIgYT1yW29dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtvXShhLGEuZXhwb3J0cyx0KSxhLmV4cG9ydHN9dC5uPWU9Pnt2YXIgcj1lJiZlLl9fZXNNb2R1bGU/KCk9PmUuZGVmYXVsdDooKT0+ZTtyZXR1cm4gdC5kKHIse2E6cn0pLHJ9LHQuZD0oZSxyKT0+e2Zvcih2YXIgbyBpbiByKXQubyhyLG8pJiYhdC5vKGUsbykmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8se2VudW1lcmFibGU6ITAsZ2V0OnJbb119KX0sdC5vPShlLHIpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSx0LnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciBvPXt9OygoKT0+e1widXNlIHN0cmljdFwiO3QucihvKSx0LmQobyx7ZGVyZWdpc3RlcjooKT0+ZyxyZWdpc3RlcjooKT0+cH0pO3ZhciBlPXQoMjc3KSxyPXQoNzgpLG49dCgyNzUpLGE9dCg3MzIpLGk9dCg4MTIpLGw9e307Zm9yKGNvbnN0IGUgaW4gaSlbXCJkZWZhdWx0XCIsXCJyZWdpc3RlclwiLFwiZGVyZWdpc3RlclwiXS5pbmRleE9mKGUpPDAmJihsW2VdPSgpPT5pW2VdKTt0LmQobyxsKTtjb25zdCBjPWFzeW5jIGU9PntpZihlIGluc3RhbmNlb2YgRXJyb3Ipe2xldCByPWUubWVzc2FnZTtpZihlLm1lc3NhZ2UuaW5jbHVkZXMoXCJyZWdpc3Rlci1ub3RpZmljYXRpb25zLXBsYXRmb3JtXCIpKXtpZihyPVwiTm90aWZpY2F0aW9ucyBwbGF0Zm9ybXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdmVyc2lvbnMgYmVsb3cgMS4xMy4wLCB0cnkgdXBkYXRpbmcgeW91ciBub3RpZmljYXRpb25zLXNlcnZpY2UuXCIsaT8ucHJvdmlkZXI/LmdldFN0YXR1cyl7Y29uc3R7dmVyc2lvbjplfT1hd2FpdCBpLnByb3ZpZGVyLmdldFN0YXR1cygpO3IrPWAgWW91ciB2ZXJzaW9uIGlzOiAke2V9YH1yZXR1cm4gcn1yZXR1cm4gZS5tZXNzYWdlfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2U6XCJ1bmtub3duIGVycm9yIHJlZ2lzdGVyaW5nIE5vdGlmaWNhdGlvbnNcIn0scz1hc3luYyBlPT57aWYoZSBpbnN0YW5jZW9mIEVycm9yJiZlLm1lc3NhZ2UuaW5jbHVkZXMoXCJyZWdpc3Rlci1ub3RpZmljYXRpb25zLXBsYXRmb3JtXCIpKXRocm93IG5ldyBFcnJvcihhd2FpdCBjKGUpKTt0aHJvdyBlfSx1PVwib2Ytbm90aWZpY2F0aW9ucy1zZXJ2aWNlLXYxXCIsZD17Y2hhbm5lbE5hbWU6ci5YSX0sZj1hc3luYyhlLHIsdD0hMSk9Pntjb25zdCBvPXIubm90aWZpY2F0aW9uc1ZlcnNpb24uc3RhcnRzV2l0aChcIjJcIik/ZC5jaGFubmVsTmFtZTp1LG49YXdhaXQgZmluLkludGVyQXBwbGljYXRpb25CdXMuQ2hhbm5lbC5jb25uZWN0KG8se3dhaXQ6dH0pLGE9ci5ub3RpZmljYXRpb25zVmVyc2lvbi5zdGFydHNXaXRoKFwiMlwiKT9cInJlZ2lzdGVyLXBsYXRmb3JtXCI6XCJyZWdpc3Rlci1ub3RpZmljYXRpb25zLXBsYXRmb3JtXCI7YXdhaXQgbi5kaXNwYXRjaChhLGUpfTthc3luYyBmdW5jdGlvbiBwKHQpe3RyeXtjb25zdCBvPWF3YWl0KDAsci5reikoKSxsPXQmJlwibm90aWZpY2F0aW9uc0N1c3RvbU1hbmlmZXN0XCJpbiB0P3tjdXN0b21NYW5pZmVzdDp0Lm5vdGlmaWNhdGlvbnNDdXN0b21NYW5pZmVzdH06dm9pZCAwO2xldCBjPSExO28hPT1yLlhJPyhkLmNoYW5uZWxOYW1lPW8sYz0hMCk6bCYmbC5jdXN0b21NYW5pZmVzdD8ubWFuaWZlc3RVdWlkJiYoZC5jaGFubmVsTmFtZT1gJHtsLmN1c3RvbU1hbmlmZXN0Lm1hbmlmZXN0VXVpZH0tJHtyLlhJfWAsY29uc29sZS53YXJuKFwiVXNpbmcgJ25vdGlmaWNhdGlvbnNDdXN0b21NYW5pZmVzdCcgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIGluY2x1ZGUgY3VzdG9tIG1hbmlmZXN0IGluIHBsYXRmb3JtIG1hbmlmZXN0LlwiKSk7Y29uc3Qgcz1hd2FpdCBpLnJlZ2lzdGVyKGwpLHU9KDAsYS5OdCkoKSxwPWF3YWl0IHUuVGhlbWUuZ2V0VGhlbWVQYWxldHRlU2hlZXQoKSxnPWF3YWl0IHUuVGhlbWUuZ2V0Tm90aWZpY2F0aW9uSW5kaWNhdG9yQ29sb3JzSW50ZXJuYWwoKTtpZih0KXtjb25zdCBlPWF3YWl0KDAsbi5xcSkoZmluLm1lLmlkZW50aXR5KSxyPVwibm90aWZpY2F0aW9uc1BsYXRmb3JtT3B0aW9uc1wiaW4gdD90Lm5vdGlmaWNhdGlvbnNQbGF0Zm9ybU9wdGlvbnM6dDthd2FpdCBmKHt0aGVtZTpwLG5vdGlmaWNhdGlvbnNJbmRpY2F0b3JDb2xvcnM6ZyxzY2hlbWU6ZS5kZWZhdWx0U2NoZW1lLC4uLnIsd29ya3NwYWNlUGxhdGZvcm06e2lkZW50aXR5OmZpbi5QbGF0Zm9ybS5nZXRDdXJyZW50U3luYygpLmlkZW50aXR5LGFuYWx5dGljczp7aXNTdXBwb3J0ZWQ6ITB9fX0se25vdGlmaWNhdGlvbnNWZXJzaW9uOnMubm90aWZpY2F0aW9uc1ZlcnNpb259LGMpfXJldHVybigwLGUub3MpKHthbGxvd2VkOiEwLGFwaVZlcnNpb246aS5WRVJTSU9OLGNvbXBvbmVudFZlcnNpb246cy5ub3RpZmljYXRpb25zVmVyc2lvbn0pLHN9Y2F0Y2gocil7KDAsZS5vcykoe2FsbG93ZWQ6ITEscmVqZWN0aW9uQ29kZTphd2FpdCBjKHIpLGFwaVZlcnNpb246aS5WRVJTSU9OfSksYXdhaXQgcyhyKX19Y29uc3QgZz1hc3luYyBlPT57dHJ5e2NvbnN0e3ZlcnNpb246cn09YXdhaXQgaS5wcm92aWRlci5nZXRTdGF0dXMoKTtpZihudWxsPT09cil0aHJvdyBuZXcgRXJyb3IoXCJOb3RpZmljYXRpb25zIHNlcnZpY2UgaXMgbm90IGN1cnJlbnRseSBydW5uaW5nLlwiKTthd2FpdChhc3luYyhlLHIpPT57Y29uc3QgdD1yLm5vdGlmaWNhdGlvbnNWZXJzaW9uLnN0YXJ0c1dpdGgoXCIyXCIpP2QuY2hhbm5lbE5hbWU6dSxvPWF3YWl0IGZpbi5JbnRlckFwcGxpY2F0aW9uQnVzLkNoYW5uZWwuY29ubmVjdCh0LHt3YWl0OiExfSksbj1yLm5vdGlmaWNhdGlvbnNWZXJzaW9uLnN0YXJ0c1dpdGgoXCIyXCIpP1wiZGVyZWdpc3Rlci1wbGF0Zm9ybVwiOlwiZGVyZWdpc3Rlci1ub3RpZmljYXRpb25zLXBsYXRmb3JtXCI7YXdhaXQgby5kaXNwYXRjaChuLGUpfSkoe2lkOmV9LHtub3RpZmljYXRpb25zVmVyc2lvbjpyfSl9Y2F0Y2goZSl7YXdhaXQgcyhlKX19fSkoKSxtb2R1bGUuZXhwb3J0cz1vfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdGlmaWNhdGlvbnMuanMubWFwIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLyogZXNsaW50LWRpc2FibGUgbGluZWJyZWFrLXN0eWxlICovXG5pbXBvcnQgKiBhcyBOb3RpZmljYXRpb25zIGZyb20gXCJAb3BlbmZpbi93b3Jrc3BhY2Uvbm90aWZpY2F0aW9uc1wiO1xuXG5jb25zdCBOT1RJRklDQVRJT05fU09VTkRfVVJMID0gXCJodHRwOi8vbG9jYWxob3N0OjUwNTAvYXNzZXRzL25vdGlmaWNhdGlvbi5tcDNcIjtcblxuLy8gS2VlcCB0cmFjayBvZiBub3RpZmljYXRpb25zIHdlIGFyZSB1cGRhdGluZ1xuY29uc3QgdXBkYXRhYmxlTm90aWZpY2F0aW9uczoge1xuXHRbaWQ6IHN0cmluZ106IE5vdGlmaWNhdGlvbnMuVGVtcGxhdGVNYXJrZG93biAmIHsgY3VzdG9tRGF0YTogeyBjb3VudDogbnVtYmVyIH0gfTtcbn0gPSB7fTtcbmxldCB1cGRhdGFibGVOb3RpZmljYXRpb25UaW1lcjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG5sZXQgbG9nZ2luZ0VsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbDtcbmxldCBjb2RlRWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudCB8IG51bGw7XG5cbmxldCBjb25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBjb25uZWN0ZWRWZXJzaW9uOiBzdHJpbmcgfCBudWxsO1xubGV0IHN0YXR1c0ludGVydmFsSWQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbmxldCBsYXN0Q29ubmVjdGlvblN0YXR1czogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgYXN5bmMgKCkgPT4ge1xuXHR0cnkge1xuXHRcdGF3YWl0IGluaXREb20oKTtcblx0XHRhd2FpdCBpbml0aWFsaXplTm90aWZpY2F0aW9ucygpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXHR9XG59KTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgRE9NIGVsZW1lbnRzIGFuZCBzZXRzIHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgVUkgY29udHJvbHMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGluaXREb20oKTogUHJvbWlzZTx2b2lkPiB7XG5cdGxvZ2dpbmdFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dnaW5nXCIpO1xuXHRjb2RlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29kZVwiKTtcblx0Y29uc3QgbG9nZ2luZ0NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dnaW5nLWNvbnRhaW5lclwiKTtcblx0Y29uc3QgY29kZUNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb2RlLWNvbnRhaW5lclwiKTtcblxuXHRpZiAoIWNvZGVFbGVtZW50IHx8ICFsb2dnaW5nRWxlbWVudCB8fCAhbG9nZ2luZ0NvbnRhaW5lciB8fCAhY29kZUNvbnRhaW5lcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGxvZ2dpbmdBZGRFbnRyeShgTGlicmFyeSBWZXJzaW9uOiAke05vdGlmaWNhdGlvbnMuVkVSU0lPTn1gKTtcblxuXHRjb25zdCBidG5Mb2dnaW5nQ2xlYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bkxvZ2dpbmdDbGVhclwiKTtcblx0aWYgKGJ0bkxvZ2dpbmdDbGVhcikge1xuXHRcdGJ0bkxvZ2dpbmdDbGVhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdFx0aWYgKGxvZ2dpbmdFbGVtZW50KSB7XG5cdFx0XHRcdGxvZ2dpbmdFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGNvbnN0IGJ0bkNvZGVDb3B5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Db2RlQ29weVwiKTtcblx0aWYgKGJ0bkNvZGVDb3B5KSB7XG5cdFx0YnRuQ29kZUNvcHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcblx0XHRcdGlmIChjb2RlRWxlbWVudCkge1xuXHRcdFx0XHRhd2FpdCBmaW4uQ2xpcGJvYXJkLndyaXRlVGV4dCh7IGRhdGE6IGNvZGVFbGVtZW50LnZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Y29uc3QgYnRuQ29kZU5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuQ29kZU5vdGlmaWNhdGlvblwiKTtcblx0aWYgKGJ0bkNvZGVOb3RpZmljYXRpb24pIHtcblx0XHRidG5Db2RlTm90aWZpY2F0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoY29kZUVsZW1lbnQpIHtcblx0XHRcdFx0XHRjb25zdCBub3RpZmljYXRpb25PcHRpb25zOiBOb3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbk9wdGlvbnMgPSBKU09OLnBhcnNlKGNvZGVFbGVtZW50LnZhbHVlKTtcblx0XHRcdFx0XHRub3RpZmljYXRpb25PcHRpb25zLmlkID0gcmFuZG9tVVVJRCgpO1xuXHRcdFx0XHRcdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb25PcHRpb25zKTtcblx0XHRcdFx0XHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb25PcHRpb25zKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCB7fVxuXHRcdH0pO1xuXHR9XG5cblx0Y29kZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcblx0XHRpZiAoY29kZUVsZW1lbnQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdEpTT04ucGFyc2UoY29kZUVsZW1lbnQudmFsdWUpO1xuXHRcdFx0XHRjb2RlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0Y29kZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0Y29kZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cblx0aWYgKGxvZ2dpbmdDb250YWluZXIpIHtcblx0XHRsb2dnaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblx0fVxuXG5cdGNvbnN0IGJ0blZpZXdMb2dnaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5WaWV3TG9nZ2luZ1wiKTtcblx0aWYgKGJ0blZpZXdMb2dnaW5nKSB7XG5cdFx0YnRuVmlld0xvZ2dpbmcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdGxvZ2dpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuXHRcdFx0Y29kZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0fSk7XG5cdH1cblxuXHRjb25zdCBidG5WaWV3Q29kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuVmlld0NvZGVcIik7XG5cdGlmIChidG5WaWV3Q29kZSkge1xuXHRcdGJ0blZpZXdDb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0XHRsb2dnaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdGNvZGVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuXHRcdH0pO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uU2ltcGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Ob3RpZmljYXRpb25TaW1wbGVcIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25TaW1wbGUpIHtcblx0XHRidG5Ob3RpZmljYXRpb25TaW1wbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHNob3dTaW1wbGVOb3RpZmljYXRpb24oKSk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25Cb2R5RGlzbWlzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uQm9keURpc21pc3NcIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25Cb2R5RGlzbWlzcykge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiBzaG93U2ltcGxlTm90aWZpY2F0aW9uQm9keURpc21pc3MoKSk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25Cb2R5RGlzbWlzc0FjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uQm9keURpc21pc3NBY3Rpb25cIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25Cb2R5RGlzbWlzc0FjdGlvbikge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzQWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PlxuXHRcdFx0c2hvd1NpbXBsZU5vdGlmaWNhdGlvbkJvZHlEaXNtaXNzQWN0aW9uKClcblx0XHQpO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uQWN0aW9uYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uQWN0aW9uYWJsZVwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbkFjdGlvbmFibGUpIHtcblx0XHRidG5Ob3RpZmljYXRpb25BY3Rpb25hYmxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiBzaG93QWN0aW9uYWJsZU5vdGlmaWNhdGlvbigpKTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbkZvcm1cIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25Gb3JtKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uRm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4gc2hvd0Zvcm1Ob3RpZmljYXRpb24oKSk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25Gb3JtQWR2YW5jZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbkZvcm1BZHZhbmNlZFwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbkZvcm1BZHZhbmNlZCkge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbkZvcm1BZHZhbmNlZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4gc2hvd0Zvcm1BZHZhbmNlZE5vdGlmaWNhdGlvbigpKTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvblVwZGF0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnRuTm90aWZpY2F0aW9uVXBkYXRhYmxlXCIpO1xuXHRpZiAoYnRuTm90aWZpY2F0aW9uVXBkYXRhYmxlKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uVXBkYXRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiBzaG93VXBkYXRhYmxlTm90aWZpY2F0aW9uKCkpO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uQ3VzdG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Ob3RpZmljYXRpb25DdXN0b21cIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25DdXN0b20pIHtcblx0XHRidG5Ob3RpZmljYXRpb25DdXN0b20uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHNob3dDdXN0b21Ob3RpZmljYXRpb24oKSk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25XaXRoU291bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbldpdGhTb3VuZFwiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbldpdGhTb3VuZCkge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbldpdGhTb3VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT5cblx0XHRcdHNob3dTb3VuZE5vdGlmaWNhdGlvbihOT1RJRklDQVRJT05fU09VTkRfVVJMKVxuXHRcdCk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25DZW50ZXJVc2VyU2V0dGluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbkNlbnRlclVzZXJTZXR0aW5nc1wiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbkNlbnRlclVzZXJTZXR0aW5ncykge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbkNlbnRlclVzZXJTZXR0aW5ncy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT5cblx0XHRcdGdldE5vdGlmaWNhdGlvbkNlbnRlclVzZXJTZXR0aW5ncygpXG5cdFx0KTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbldpdGhJbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbldpdGhJbmRpY2F0b3JcIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25XaXRoSW5kaWNhdG9yKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uV2l0aEluZGljYXRvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4gc2hvd0luZGljYXRvck5vdGlmaWNhdGlvbigpKTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbldpdGhDdXN0b21JbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2J0bk5vdGlmaWNhdGlvbldpdGhDdXN0b21JbmRpY2F0b3JcIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25XaXRoQ3VzdG9tSW5kaWNhdG9yKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uV2l0aEN1c3RvbUluZGljYXRvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT5cblx0XHRcdHNob3dDdXN0b21JbmRpY2F0b3JOb3RpZmljYXRpb24oKVxuXHRcdCk7XG5cdH1cblxuXHRjb25zdCBidG5Ob3RpZmljYXRpb25zQ2VudGVyU2hvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bk5vdGlmaWNhdGlvbnNDZW50ZXJTaG93XCIpO1xuXHRpZiAoYnRuTm90aWZpY2F0aW9uc0NlbnRlclNob3cpIHtcblx0XHRidG5Ob3RpZmljYXRpb25zQ2VudGVyU2hvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YnRuTm90aWZpY2F0aW9uc0NlbnRlclNob3cuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0XHRhd2FpdCBOb3RpZmljYXRpb25zLnNob3coKTtcblx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRsb2dnaW5nQWRkRW50cnkoYCR7ZXJyfWApO1xuXHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0YnRuTm90aWZpY2F0aW9uc0NlbnRlclNob3cuZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJIaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oXCIjYnRuTm90aWZpY2F0aW9uc0NlbnRlckhpZGVcIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25zQ2VudGVySGlkZSkge1xuXHRcdGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJIaWRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRidG5Ob3RpZmljYXRpb25zQ2VudGVySGlkZS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRcdGF3YWl0IE5vdGlmaWNhdGlvbnMuaGlkZSgpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGxvZ2dpbmdBZGRFbnRyeShgJHtlcnJ9YCk7XG5cdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRidG5Ob3RpZmljYXRpb25zQ2VudGVySGlkZS5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Y29uc3QgYnRuTm90aWZpY2F0aW9uU3R1ZGlvT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFwiI2J0bk5vdGlmaWNhdGlvblN0dWRpb09wZW5cIik7XG5cdGlmIChidG5Ob3RpZmljYXRpb25TdHVkaW9PcGVuKSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uU3R1ZGlvT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YnRuTm90aWZpY2F0aW9uU3R1ZGlvT3Blbi5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRcdGF3YWl0IGZpbi5BcHBsaWNhdGlvbi5zdGFydEZyb21NYW5pZmVzdChcImh0dHBzOi8vY2RuLm9wZW5maW4uY28vc3R1ZGlvL25vdGlmaWNhdGlvbi9hcHAuanNvblwiKTtcblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGJ0bk5vdGlmaWNhdGlvblN0dWRpb09wZW4uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBub3RpZmljYXRpb25zIGJ5IHJlZ2lzdGVyaW5nIGFuZCBsb2dnaW5nIHRoZSBjb3VudC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZU5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMucmVnaXN0ZXIoKTtcblx0YXdhaXQgaW5pdGlhbGl6ZUxpc3RlbmVycygpO1xuXHRjb25zb2xlLmxvZyhcIk51bWJlciBvZiBub3RpZmljYXRpb25zOlwiLCBhd2FpdCBOb3RpZmljYXRpb25zLmdldE5vdGlmaWNhdGlvbnNDb3VudCgpKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBsaXN0ZW5lcnMgZm9yIHRoZSBldmVudHMgZnJvbSB0aGUgbm90aWZpY2F0aW9uIGNlbnRlci5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUxpc3RlbmVycygpOiBQcm9taXNlPHZvaWQ+IHtcblx0Ly8gTGlzdGVuIGZvciBuZXcgbm90aWZpY2F0aW9ucyBiZWluZyBjcmVhdGVkXG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm5vdGlmaWNhdGlvbi1jcmVhdGVkXCIsIChldmVudCkgPT4ge1xuXHRcdGxvZ2dpbmdBZGRFbnRyeShgQ3JlYXRlZDogJHtldmVudC5ub3RpZmljYXRpb24uaWR9YCk7XG5cdH0pO1xuXG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm5vdGlmaWNhdGlvbi1jbG9zZWRcIiwgKGV2ZW50KSA9PiB7XG5cdFx0bG9nZ2luZ0FkZEVudHJ5KGBDbG9zZWQ6ICR7ZXZlbnQubm90aWZpY2F0aW9uLmlkfWApO1xuXG5cdFx0aWYgKHVwZGF0YWJsZU5vdGlmaWNhdGlvbnNbZXZlbnQubm90aWZpY2F0aW9uLmlkXSkge1xuXHRcdFx0ZGVsZXRlIHVwZGF0YWJsZU5vdGlmaWNhdGlvbnNbZXZlbnQubm90aWZpY2F0aW9uLmlkXTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyh1cGRhdGFibGVOb3RpZmljYXRpb25zKS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0d2luZG93LmNsZWFySW50ZXJ2YWwodXBkYXRhYmxlTm90aWZpY2F0aW9uVGltZXIpO1xuXHRcdFx0XHR1cGRhdGFibGVOb3RpZmljYXRpb25UaW1lciA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm5vdGlmaWNhdGlvbi1hY3Rpb25cIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0aWYgKGV2ZW50Py5yZXN1bHQ/LmFjdGlvbklkID09PSBcIm9wZW4td2ViLXNpdGVcIikge1xuXHRcdFx0YXdhaXQgZmluLlN5c3RlbS5vcGVuVXJsV2l0aEJyb3dzZXIoZXZlbnQ/LnJlc3VsdD8udXJsIGFzIHN0cmluZyk7XG5cdFx0fSBlbHNlIGlmIChldmVudD8ucmVzdWx0Py5CT0RZX0NMSUNLID09PSBcImRpc21pc3NfZXZlbnRcIikge1xuXHRcdFx0aWYgKGV2ZW50Lm5vdGlmaWNhdGlvbj8uY3VzdG9tRGF0YT8uYWN0aW9uKSB7XG5cdFx0XHRcdGxvZ2dpbmdBZGRFbnRyeShcblx0XHRcdFx0XHRgXFx0RGF0YTogJHtcblx0XHRcdFx0XHRcdGV2ZW50Py5ub3RpZmljYXRpb24/LmN1c3RvbURhdGEgPyBKU09OLnN0cmluZ2lmeShldmVudC5ub3RpZmljYXRpb24uY3VzdG9tRGF0YSkgOiBcIk5vbmVcIlxuXHRcdFx0XHRcdH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2dnaW5nQWRkRW50cnkoXCJcXHRObyBhY3Rpb25cIik7XG5cdFx0XHR9XG5cdFx0XHRsb2dnaW5nQWRkRW50cnkoXCJcXHRCb2R5IGNsaWNrIGRpc21pc3NcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvZ2dpbmdBZGRFbnRyeShcblx0XHRcdFx0YFxcdERhdGE6ICR7ZXZlbnQ/LnJlc3VsdD8uY3VzdG9tRGF0YSA/IEpTT04uc3RyaW5naWZ5KGV2ZW50LnJlc3VsdC5jdXN0b21EYXRhKSA6IFwiTm9uZVwifWBcblx0XHRcdCk7XG5cdFx0XHRsb2dnaW5nQWRkRW50cnkoYFxcdFRhc2s6ICR7ZXZlbnQ/LnJlc3VsdD8udGFzayA/PyBcIk5vbmVcIn1gKTtcblx0XHRcdGxvZ2dpbmdBZGRFbnRyeShgQWN0aW9uOiAke2V2ZW50Lm5vdGlmaWNhdGlvbi5pZH1gKTtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdH0pO1xuXG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm5vdGlmaWNhdGlvbi10b2FzdC1kaXNtaXNzZWRcIiwgKGV2ZW50KSA9PiB7XG5cdFx0bG9nZ2luZ0FkZEVudHJ5KGBUb2FzdCBEaXNtaXNzZWQ6ICR7ZXZlbnQubm90aWZpY2F0aW9uLmlkfWApO1xuXHR9KTtcblxuXHRhd2FpdCBOb3RpZmljYXRpb25zLmFkZEV2ZW50TGlzdGVuZXIoXCJub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWRcIiwgKGV2ZW50KSA9PiB7XG5cdFx0bG9nZ2luZ0FkZEVudHJ5KGBcXHREYXRhOiAke2V2ZW50Py5mb3JtID8gSlNPTi5zdHJpbmdpZnkoZXZlbnQuZm9ybSkgOiBcIk5vbmVcIn1gKTtcblx0XHRsb2dnaW5nQWRkRW50cnkoYEZvcm06ICR7ZXZlbnQubm90aWZpY2F0aW9uLmlkfWApO1xuXHRcdGNvbnNvbGUubG9nKGV2ZW50KTtcblx0fSk7XG5cblx0YXdhaXQgTm90aWZpY2F0aW9ucy5hZGRFdmVudExpc3RlbmVyKFwibm90aWZpY2F0aW9ucy1jb3VudC1jaGFuZ2VkXCIsIChldmVudCkgPT4ge1xuXHRcdHNob3dOb3RpZmljYXRpb25Db3VudChldmVudC5jb3VudCk7XG5cdH0pO1xuXG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcihcIm5vdGlmaWNhdGlvbi1zb3VuZC10b2dnbGVkXCIsIChldmVudCkgPT4ge1xuXHRcdGxvZ2dpbmdBZGRFbnRyeShgU291bmQgRW5hYmxlZDogJHtldmVudC5ub3RpZmljYXRpb25Tb3VuZEVuYWJsZWR9YCk7XG5cdH0pO1xuXG5cdGFkZENvbm5lY3Rpb25DaGFuZ2VkRXZlbnRMaXN0ZW5lcigoc3RhdHVzKSA9PiB7XG5cdFx0aWYgKHN0YXR1cy5jb25uZWN0ZWQgIT09IGNvbm5lY3RlZCkge1xuXHRcdFx0Y29ubmVjdGVkID0gc3RhdHVzLmNvbm5lY3RlZDtcblx0XHRcdGNvbm5lY3RlZFZlcnNpb24gPSBzdGF0dXMudmVyc2lvbjtcblx0XHRcdHVwZGF0ZUNvbm5lY3RlZFN0YXRlKCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gVVVJRCBzdHJpbmcuXG4gKiBAcmV0dXJucyBBIHJhbmRvbWx5IGdlbmVyYXRlZCBVVUlELlxuICovXG5mdW5jdGlvbiByYW5kb21VVUlEKCk6IHN0cmluZyB7XG5cdGlmIChcInJhbmRvbVVVSURcIiBpbiB3aW5kb3cuY3J5cHRvKSB7XG5cdFx0Ly8gSWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgd2luZG93LmNyeXB0by5yYW5kb21VVUlELCB1c2UgaXRcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcblx0XHRyZXR1cm4gd2luZG93LmNyeXB0by5yYW5kb21VVUlEKCk7XG5cdH1cblx0Ly8gUG9seWZpbGwgdGhlIHdpbmRvdy5jcnlwdG8ucmFuZG9tVVVJRCBpZiB3ZSBhcmUgcnVubmluZyBpbiBhIG5vbiBzZWN1cmUgY29udGV4dCB0aGF0IGRvZXNuJ3QgaGF2ZSBpdFxuXHQvLyB3ZSBhcmUgc3RpbGwgdXNpbmcgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMgd2hpY2ggaXMgYWx3YXlzIGF2YWlsYWJsZVxuXHQvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyMy8yODAwMjE4XG5cdC8qKlxuXHQgKiBHZXQgcmFuZG9tIGhleCB2YWx1ZS5cblx0ICogQHBhcmFtIGMgVGhlIG51bWJlciB0byBiYXNlIHRoZSByYW5kb20gdmFsdWUgb24uXG5cdCAqIEByZXR1cm5zIFRoZSByYW5kb20gdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRSYW5kb21IZXgoYzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuXHRcdGNvbnN0IHJuZCA9IHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmICgxNSA+PiAoTnVtYmVyKGMpIC8gNCkpO1xuXHRcdHJldHVybiAoXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuXHRcdFx0KE51bWJlcihjKSBeIHJuZCkudG9TdHJpbmcoMTYpXG5cdFx0KTtcblx0fVxuXHRyZXR1cm4gXCIxMDAwMDAwMC0xMDAwLTQwMDAtODAwMC0xMDAwMDAwMDAwMDBcIi5yZXBsYWNlKC9bMDE4XS9nLCBnZXRSYW5kb21IZXgpO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBlbnRyeSBpbiB0byB0aGUgbG9nZ2luZyB3aW5kb3cuXG4gKiBAcGFyYW0gZW50cnkgVGhlIGVudHJ5IHRvIGFkZC5cbiAqL1xuZnVuY3Rpb24gbG9nZ2luZ0FkZEVudHJ5KGVudHJ5OiBzdHJpbmcpOiB2b2lkIHtcblx0aWYgKGxvZ2dpbmdFbGVtZW50KSB7XG5cdFx0bG9nZ2luZ0VsZW1lbnQudGV4dENvbnRlbnQgPSBgJHtlbnRyeX1cXG5cXG4ke2xvZ2dpbmdFbGVtZW50LnRleHRDb250ZW50fWA7XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGNvZGUgZXhhbXBsZSB3aXRoIHRoZSBub3RpZmljYXRpb24uXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uT3B0aW9ucyBUaGUgb3B0aW9ucyB0byBzaG93IGluIHRoZSBjb2RlIGV4YW1wbGUuXG4gKi9cbmZ1bmN0aW9uIGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb25PcHRpb25zOiBOb3RpZmljYXRpb25PcHRpb25zKTogdm9pZCB7XG5cdGlmIChjb2RlRWxlbWVudCkge1xuXHRcdGNvZGVFbGVtZW50LnZhbHVlID0gSlNPTi5zdHJpbmdpZnkobm90aWZpY2F0aW9uT3B0aW9ucywgdW5kZWZpbmVkLCBcIiAgXCIpO1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBjb25uZWN0ZWQgc3RhdGUgb24gdGhlIHZpZXcuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUNvbm5lY3RlZFN0YXRlKCk6IHZvaWQge1xuXHRsb2dnaW5nQWRkRW50cnkoYElzIENvbm5lY3RlZDogJHtjb25uZWN0ZWR9YCk7XG5cdGlmIChjb25uZWN0ZWQpIHtcblx0XHRsb2dnaW5nQWRkRW50cnkoYENvbm5lY3RlZCBWZXJzaW9uOiAke2Nvbm5lY3RlZFZlcnNpb259YCk7XG5cdH1cblxuXHRjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImJ1dHRvblwiKTtcblx0Zm9yIChjb25zdCBidXR0b24gb2YgYnV0dG9ucykge1xuXHRcdGJ1dHRvbi5kaXNhYmxlZCA9ICFjb25uZWN0ZWQ7XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIG5vdGlmaWNhdGlvbiBjb3VudCBvbiB0aGUgdmlldy5cbiAqIEBwYXJhbSBjb3VudCBUaGUgbmV3IGNvdW50IHRvIGRpc3BsYXkuXG4gKi9cbmZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb25Db3VudChjb3VudDogbnVtYmVyKTogdm9pZCB7XG5cdGNvbnN0IGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG5Ob3RpZmljYXRpb25zQ2VudGVyU2hvd1wiKTtcblx0aWYgKGJ0bk5vdGlmaWNhdGlvbnNDZW50ZXJTaG93KSB7XG5cdFx0YnRuTm90aWZpY2F0aW9uc0NlbnRlclNob3cudGV4dENvbnRlbnQgPSBgU2hvdyBbJHtjb3VudH1dYDtcblx0fVxufVxuXG4vKipcbiAqIERpc3BsYXkgYSB2ZXJ5IGJhc2ljIHNpbXBsZSBub3RpZmljYXRpb24uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNob3dTaW1wbGVOb3RpZmljYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIlNpbXBsZSBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYSBzaW1wbGUgbm90aWZpY2F0aW9uXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0aWQ6IHJhbmRvbVVVSUQoKSxcblx0XHRzb3VuZE9wdGlvbnM6IHtcblx0XHRcdG1vZGU6IFwic2lsZW50XCJcblx0XHR9XG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogU2hvdyBhIG5vdGlmaWNhdGlvbiB3aGljaCBjYW4gYmUgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIG9uIHRoZSBib2R5LlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93U2ltcGxlTm90aWZpY2F0aW9uQm9keURpc21pc3MoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIlNpbXBsZSBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYSBzaW1wbGUgbm90aWZpY2F0aW9uIHRoYXQgYmUgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIHRoZSBib2R5XCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0aWQ6IHJhbmRvbVVVSUQoKSxcblx0XHRvblNlbGVjdDogeyBCT0RZX0NMSUNLOiBOb3RpZmljYXRpb25zLkFjdGlvbkJvZHlDbGlja1R5cGUuRElTTUlTU19FVkVOVCB9XG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogU2hvdyBhIG5vdGlmaWNhdGlvbiB3aGljaCBjYW4gYmUgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIG9uIHRoZSBib2R5IGFuZCB0aGVuIHRyaWdnZXIgYSBjdXN0b20gYWN0aW9uLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93U2ltcGxlTm90aWZpY2F0aW9uQm9keURpc21pc3NBY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIlNpbXBsZSBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYSBzaW1wbGUgbm90aWZpY2F0aW9uIHRoYXQgYmUgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIHRoZSBib2R5IGFuZCB0cmlnZ2VyIGN1c3RvbSBhY3Rpb25cIixcblx0XHR0b2FzdDogXCJ0cmFuc2llbnRcIixcblx0XHRjYXRlZ29yeTogXCJkZWZhdWx0XCIsXG5cdFx0dGVtcGxhdGU6IFwibWFya2Rvd25cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdG9uU2VsZWN0OiB7IEJPRFlfQ0xJQ0s6IE5vdGlmaWNhdGlvbnMuQWN0aW9uQm9keUNsaWNrVHlwZS5ESVNNSVNTX0VWRU5UIH0sXG5cdFx0Y3VzdG9tRGF0YToge1xuXHRcdFx0YWN0aW9uOiBcImN1c3RvbS1hY3Rpb25cIixcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bWVzc2FnZTogXCJCb2R5IGNsaWNrIGN1c3RvbSBhY3Rpb25cIlxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRjb2RlU2hvd0V4YW1wbGUobm90aWZpY2F0aW9uKTtcblx0YXdhaXQgTm90aWZpY2F0aW9ucy5jcmVhdGUobm90aWZpY2F0aW9uKTtcbn1cblxuLyoqXG4gKiBTaG93IGEgbm90aWZpY2F0aW9uIHdoaWNoIGhhcyBhY3Rpb24gYnV0dG9ucywgdGhlIGV2ZW50cyByZXR1cm5lZCB3aWxsXG4gKiBiZSBoYW5kbGVkIHRoZSB0aGUgbm90aWZpY2F0aW9uLWFjdGlvbiBsaXN0ZW5lci5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd0FjdGlvbmFibGVOb3RpZmljYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIkFjdGlvbmFibGUgTm90aWZpY2F0aW9uXCIsXG5cdFx0Ym9keTogXCJUaGlzIGlzIGEgbm90aWZpY2F0aW9uIHRoYXQgaGFzIGFuIGFjdGlvblwiLFxuXHRcdHRvYXN0OiBcInRyYW5zaWVudFwiLFxuXHRcdGNhdGVnb3J5OiBcImRlZmF1bHRcIixcblx0XHR0ZW1wbGF0ZTogXCJtYXJrZG93blwiLFxuXHRcdGlkOiByYW5kb21VVUlEKCksXG5cdFx0YnV0dG9uczogW1xuXHRcdFx0e1xuXHRcdFx0XHR0aXRsZTogXCJBY2tub3dsZWRnZWRcIixcblx0XHRcdFx0dHlwZTogXCJidXR0b25cIixcblx0XHRcdFx0Y3RhOiB0cnVlLFxuXHRcdFx0XHRvbkNsaWNrOiB7XG5cdFx0XHRcdFx0dGFzazogXCJhY2tub3dsZWRnZS10YXNrXCIsXG5cdFx0XHRcdFx0Y3VzdG9tRGF0YToge1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogXCJUaGlzIGlzIHRoZSByZXNwb25zZSBkYXRhXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiBcIkNhbmNlbFwiLFxuXHRcdFx0XHR0eXBlOiBcImJ1dHRvblwiXG5cdFx0XHR9XG5cdFx0XVxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gd2hpY2ggaGFzIGZvcm0gZmllbGRzLCB0aGUgZGF0YSBmcm9tIHRoZSBmb3JtIHdpbGxcbiAqIGJlIHJldHVybmVkIHRvIHRoZSBub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWQgbGlzdGVuZXIuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNob3dGb3JtTm90aWZpY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJGb3JtIE5vdGlmaWNhdGlvblwiLFxuXHRcdGJvZHk6IFwiVGhpcyBpcyBhIG5vdGlmaWNhdGlvbiB0aGF0IGhhcyBmb3JtIGRhdGFcIixcblx0XHR0b2FzdDogXCJ0cmFuc2llbnRcIixcblx0XHRjYXRlZ29yeTogXCJkZWZhdWx0XCIsXG5cdFx0dGVtcGxhdGU6IFwibWFya2Rvd25cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdGZvcm06IFtcblx0XHRcdHtcblx0XHRcdFx0a2V5OiBcImFtb3VudFwiLFxuXHRcdFx0XHRsYWJlbDogXCJBbW91bnRcIixcblx0XHRcdFx0dHlwZTogXCJudW1iZXJcIixcblx0XHRcdFx0d2lkZ2V0OiB7XG5cdFx0XHRcdFx0dHlwZTogXCJOdW1iZXJcIixcblx0XHRcdFx0XHRtYXg6IDEwMCxcblx0XHRcdFx0XHRtaW46IDFcblx0XHRcdFx0fSxcblx0XHRcdFx0dmFsaWRhdGlvbjoge1xuXHRcdFx0XHRcdG1pbjoge1xuXHRcdFx0XHRcdFx0YXJnOiAxLFxuXHRcdFx0XHRcdFx0aW52YWxpZE1lc3NhZ2U6IFwiTXVzdCBiZSBhdCBsZWFzdCAxXCJcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG1heDoge1xuXHRcdFx0XHRcdFx0YXJnOiAxMDAsXG5cdFx0XHRcdFx0XHRpbnZhbGlkTWVzc2FnZTogXCJDYW5ub3QgYmUgbW9yZSB0aGFuIDEwMFwiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRyZXF1aXJlZDoge1xuXHRcdFx0XHRcdFx0YXJnOiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XSxcblx0XHRidXR0b25zOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiBcIlNhdmVcIixcblx0XHRcdFx0dHlwZTogXCJidXR0b25cIixcblx0XHRcdFx0Y3RhOiB0cnVlLFxuXHRcdFx0XHRzdWJtaXQ6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiBcIkNhbmNlbFwiLFxuXHRcdFx0XHR0eXBlOiBcImJ1dHRvblwiXG5cdFx0XHR9XG5cdFx0XVxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gd2hpY2ggaGFzIGZvcm0gZmllbGRzLCB0aGUgZGF0YSBmcm9tIHRoZSBmb3JtIHdpbGxcbiAqIGJlIHJldHVybmVkIHRvIHRoZSBub3RpZmljYXRpb24tZm9ybS1zdWJtaXR0ZWQgbGlzdGVuZXIuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNob3dGb3JtQWR2YW5jZWROb3RpZmljYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIkZvcm0gQWR2YW5jZWQgTm90aWZpY2F0aW9uXCIsXG5cdFx0Ym9keTogXCJUaGlzIGlzIGEgbm90aWZpY2F0aW9uIHRoYXQgaGFzIGZvcm0gZGF0YVwiLFxuXHRcdHRvYXN0OiBcInRyYW5zaWVudFwiLFxuXHRcdGNhdGVnb3J5OiBcImRlZmF1bHRcIixcblx0XHR0ZW1wbGF0ZTogXCJtYXJrZG93blwiLFxuXHRcdGlkOiByYW5kb21VVUlEKCksXG5cdFx0Zm9ybTogW1xuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdFx0XHRrZXk6IFwiYm9va1wiLFxuXHRcdFx0XHRsYWJlbDogXCJCb29rXCIsXG5cdFx0XHRcdGhlbHBlclRleHQ6IFwiVGhpcyBpcyB1c2VkIHRvIGxvb2sgdXAgZm9yIGJvb2tcIixcblx0XHRcdFx0d2lkZ2V0OiB7XG5cdFx0XHRcdFx0dHlwZTogXCJUZXh0XCIsXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI6IFwiQm9vayBuYW1lXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0dmFsaWRhdGlvbjoge1xuXHRcdFx0XHRcdG1pbjoge1xuXHRcdFx0XHRcdFx0YXJnOiA3LFxuXHRcdFx0XHRcdFx0aW52YWxpZE1lc3NhZ2U6IFwiTXVzdCBiZSBhdCBsZWFzdCA3IGNoYXJzIGxvbmdcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bWF4OiB7XG5cdFx0XHRcdFx0XHRhcmc6IDksXG5cdFx0XHRcdFx0XHRpbnZhbGlkTWVzc2FnZTogXCJNdXN0IGJlIGF0IG1vc3QgOSBjaGFycyBsb25nXCJcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJlcXVpcmVkOiB7XG5cdFx0XHRcdFx0XHRhcmc6IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHZhbHVlOiBcIjEyMzQ1NTRcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogXCJ0aW1lXCIsXG5cdFx0XHRcdGtleTogXCJ3aGF0X3RpbWVcIixcblx0XHRcdFx0bGFiZWw6IFwiQ2hvc2UgdGltZT9cIixcblx0XHRcdFx0aGVscGVyVGV4dDogXCJTb21lIHRpbWUgY2hvb3NpbmcgaGVscGVyIHRleHRcIixcblx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRob3VyOiAxMlxuXHRcdFx0XHR9LFxuXHRcdFx0XHR2YWxpZGF0aW9uOiB7XG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHtcblx0XHRcdFx0XHRcdGFyZzogdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0d2lkZ2V0OiB7XG5cdFx0XHRcdFx0dHlwZTogXCJUaW1lXCJcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogXCJkYXRlXCIsXG5cdFx0XHRcdGtleTogXCJkYXRlX3BpY2t1cFwiLFxuXHRcdFx0XHRsYWJlbDogXCJXaGVuIHRvIHBpY2sgdXA/XCIsXG5cdFx0XHRcdGhlbHBlclRleHQ6IFwiU29tZSBkYXRlIGNob29zaW5nIGhlbHBlciB0ZXh0XCIsXG5cdFx0XHRcdHZhbGlkYXRpb246IHtcblx0XHRcdFx0XHRyZXF1aXJlZDoge1xuXHRcdFx0XHRcdFx0YXJnOiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3aWRnZXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcIkRhdGVcIlxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdFx0XHRrZXk6IFwiYm9vazJcIixcblx0XHRcdFx0bGFiZWw6IFwiQm9vayBUeXBlXCIsXG5cdFx0XHRcdGhlbHBlclRleHQ6IFwiVGhpcyBpcyB1c2VkIHRvIGxvb2sgdXAgZm9yIGJvb2tcIixcblx0XHRcdFx0dmFsaWRhdGlvbjoge1xuXHRcdFx0XHRcdHJlcXVpcmVkOiB7XG5cdFx0XHRcdFx0XHRhcmc6IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHdpZGdldDoge1xuXHRcdFx0XHRcdHR5cGU6IFwiRHJvcGRvd25cIixcblx0XHRcdFx0XHRvcHRpb25zOiBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBcImJvb2sxXCIsXG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBcIkJvb2sgMVwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJib29rMlwiLFxuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJCb29rIDJcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwiYm9vazNcIixcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiQm9vayAzXCJcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRdXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwicmFkaW9Hcm91cFwiLFxuXHRcdFx0XHRrZXk6IFwicmFkaW9Hcm91cERlbW9cIixcblx0XHRcdFx0bGFiZWw6IFwiQ2hvc2Ugb25lXCIsXG5cdFx0XHRcdGhlbHBlclRleHQ6IFwiU29tZSByYWRpbyBjaG9vc2luZyBoZWxwZXIgdGV4dFwiLFxuXHRcdFx0XHR2YWx1ZTogXCJvcHRpb25fMVwiLFxuXHRcdFx0XHR2YWxpZGF0aW9uOiB7XG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHtcblx0XHRcdFx0XHRcdGFyZzogdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0d2lkZ2V0OiB7XG5cdFx0XHRcdFx0dHlwZTogXCJSYWRpb0dyb3VwXCIsXG5cdFx0XHRcdFx0Z3JvdXA6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiT3B0aW9uIDFcIixcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwib3B0aW9uXzFcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiT3B0aW9uIDJcIixcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwib3B0aW9uXzJcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0bGFiZWw6IFwiT3B0aW9uIDNcIixcblx0XHRcdFx0XHRcdFx0dmFsdWU6IFwib3B0aW9uXzNcIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogXCJjaGVja2JveEdyb3VwXCIsXG5cdFx0XHRcdGtleTogXCJjaGVja2JveEdyb3VwRGVtb1wiLFxuXHRcdFx0XHRsYWJlbDogXCJDaG9zZSBNdWx0aXBsZVwiLFxuXHRcdFx0XHRoZWxwZXJUZXh0OiBcIlNvbWUgY2hlY2tib3ggY2hvb3NpbmcgaGVscGVyIHRleHRcIixcblx0XHRcdFx0dmFsdWU6IFtcIm9wdGlvbl8xXCIsIFwib3B0aW9uXzJcIl0sXG5cdFx0XHRcdHZhbGlkYXRpb246IHtcblx0XHRcdFx0XHRyZXF1aXJlZDoge1xuXHRcdFx0XHRcdFx0YXJnOiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR3aWRnZXQ6IHtcblx0XHRcdFx0XHR0eXBlOiBcIkNoZWNrYm94R3JvdXBcIixcblx0XHRcdFx0XHRncm91cDogW1xuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcHRpb24gMVwiLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJvcHRpb25fMVwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcHRpb24gMlwiLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJvcHRpb25fMlwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRsYWJlbDogXCJPcHRpb24gM1wiLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJvcHRpb25fM1wiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcInN0cmluZ1wiLFxuXHRcdFx0XHRrZXk6IFwiZGVzY3JpcHRpb25cIixcblx0XHRcdFx0bGFiZWw6IFwiRGVzY3JpcHRpb25cIixcblx0XHRcdFx0dmFsdWU6IFwidmVyeSBsb25nIHRleHQuLi4uXCIsXG5cdFx0XHRcdGhlbHBlclRleHQ6IFwiVGhpcyBpcyB1c2VkIHRvIGxvb2sgdXAgZm9yIGJvb2tcIixcblx0XHRcdFx0d2lkZ2V0OiB7XG5cdFx0XHRcdFx0dHlwZTogXCJUZXh0XCIsXG5cdFx0XHRcdFx0bXVsdGlsaW5lOiB0cnVlLFxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyOiBcIldyaXRlIGRlc2NyaXB0aW9uXCIsXG5cdFx0XHRcdFx0cm93czogNVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiBcIm51bWJlclwiLFxuXHRcdFx0XHRrZXk6IFwiYWdlXCIsXG5cdFx0XHRcdGxhYmVsOiBcIkFnZVwiLFxuXHRcdFx0XHRoZWxwZXJUZXh0OiBcIlRoaXMgaXMgdXNlZCB0byBsb29rIHVwIGZvciBib29rXCIsXG5cdFx0XHRcdHdpZGdldDoge1xuXHRcdFx0XHRcdHR5cGU6IFwiTnVtYmVyXCIsXG5cdFx0XHRcdFx0cGxhY2Vob2xkZXI6IFwiRW50ZXIgYWdlXCIsXG5cdFx0XHRcdFx0bWluOiAxLFxuXHRcdFx0XHRcdG1heDogOFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR2YWxpZGF0aW9uOiB7XG5cdFx0XHRcdFx0bWluOiB7XG5cdFx0XHRcdFx0XHRhcmc6IDBcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG1heDoge1xuXHRcdFx0XHRcdFx0YXJnOiA5XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRyZXF1aXJlZDoge1xuXHRcdFx0XHRcdFx0YXJnOiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XSxcblx0XHRidXR0b25zOiBbXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiBcIlNhdmVcIixcblx0XHRcdFx0dHlwZTogXCJidXR0b25cIixcblx0XHRcdFx0Y3RhOiB0cnVlLFxuXHRcdFx0XHRzdWJtaXQ6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdHRpdGxlOiBcIkNhbmNlbFwiLFxuXHRcdFx0XHR0eXBlOiBcImJ1dHRvblwiXG5cdFx0XHR9XG5cdFx0XVxuXHR9O1xuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gdGhhdCBjYW4gYmUgdXBkYXRlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd1VwZGF0YWJsZU5vdGlmaWNhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgaWQgPSByYW5kb21VVUlEKCk7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zICYgeyBjdXN0b21EYXRhOiB7IGNvdW50OiBudW1iZXIgfSB9ID0ge1xuXHRcdHRpdGxlOiBcIlVwZGF0YWJsZSBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYW4gdXBkYXRhYmxlIG5vdGlmaWNhdGlvblwiLFxuXHRcdHRvYXN0OiBcInRyYW5zaWVudFwiLFxuXHRcdGNhdGVnb3J5OiBcImRlZmF1bHRcIixcblx0XHR0ZW1wbGF0ZTogXCJtYXJrZG93blwiLFxuXHRcdGN1c3RvbURhdGE6IHtcblx0XHRcdGNvdW50OiAwXG5cdFx0fSxcblx0XHRpZFxuXHR9O1xuXG5cdGlmIChPYmplY3Qua2V5cyh1cGRhdGFibGVOb3RpZmljYXRpb25zKS5sZW5ndGggPT09IDApIHtcblx0XHR1cGRhdGFibGVOb3RpZmljYXRpb25UaW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG5cdFx0XHRmb3IgKGNvbnN0IG5vdGlmaWNhdGlvbklkIGluIHVwZGF0YWJsZU5vdGlmaWNhdGlvbnMpIHtcblx0XHRcdFx0dXBkYXRhYmxlTm90aWZpY2F0aW9uc1tub3RpZmljYXRpb25JZF0uY3VzdG9tRGF0YS5jb3VudCsrO1xuXHRcdFx0XHRjb25zdCBub3RpZmljYXRpb25VcGRhdGU6IE5vdGlmaWNhdGlvbnMuVXBkYXRhYmxlTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHRcdFx0XHR0ZW1wbGF0ZTogXCJtYXJrZG93blwiLFxuXHRcdFx0XHRcdGJvZHk6IGBUaGlzIGlzIGFuIHVwZGF0YWJsZSBub3RpZmljYXRpb24gJHt1cGRhdGFibGVOb3RpZmljYXRpb25zW25vdGlmaWNhdGlvbklkXS5jdXN0b21EYXRhLmNvdW50fWAsXG5cdFx0XHRcdFx0aWQ6IG5vdGlmaWNhdGlvbklkXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0YXdhaXQgTm90aWZpY2F0aW9ucy51cGRhdGUobm90aWZpY2F0aW9uVXBkYXRlKTtcblx0XHRcdH1cblx0XHR9LCAxMDAwKTtcblx0fVxuXG5cdGNvZGVTaG93RXhhbXBsZShub3RpZmljYXRpb24pO1xuXHRhd2FpdCBOb3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb24pO1xuXG5cdHVwZGF0YWJsZU5vdGlmaWNhdGlvbnNbaWRdID0gbm90aWZpY2F0aW9uO1xufVxuXG4vKipcbiAqIFNob3cgYSBub3RpZmljYXRpb24gd2l0aCBjdXN0b20gY29udGVudC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd0N1c3RvbU5vdGlmaWNhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3Qgbm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbk9wdGlvbnMgPSB7XG5cdFx0dGl0bGU6IFwiQ3VzdG9tIE5vdGlmaWNhdGlvblwiLFxuXHRcdHRvYXN0OiBcInRyYW5zaWVudFwiLFxuXHRcdGNhdGVnb3J5OiBcImRlZmF1bHRcIixcblx0XHR0ZW1wbGF0ZTogXCJjdXN0b21cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHRlbXBsYXRlT3B0aW9uczoge1xuXHRcdFx0Ym9keToge1xuXHRcdFx0XHRjb21wb3NpdGlvbnM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRtaW5UZW1wbGF0ZUFQSVZlcnNpb246IFwiMVwiLFxuXHRcdFx0XHRcdFx0bGF5b3V0OiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiY29udGFpbmVyXCIsXG5cdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0XHRcdFx0XHRcdFx0ZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcblx0XHRcdFx0XHRcdFx0XHRnYXA6IFwiMTBweFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcInN1YlRpdGxlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxMnB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRXZWlnaHQ6IFwiYm9sZFwiXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvbnRhaW5lclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogXCIxMHB4XCJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogW1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJmaXJzdFZhbHVlVGl0bGVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTJweFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJmaXJzdFZhbHVlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjE0cHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiBcInJlZFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvbnRhaW5lclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogXCIxMHB4XCJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogW1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJzZWNvbmRWYWx1ZVRpdGxlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEycHhcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwic2Vjb25kVmFsdWVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTRweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I6IFwiYmx1ZVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImltYWdlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImV4YW1wbGVJbWFnZVVybFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjEwMHB4XCJcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWN0aW9uYWJsZVRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiYWN0aW9uYWJsZVVybFRpdGxlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHR0b29sdGlwS2V5OiBcImFjdGlvbmFibGVVcmxUb29sdGlwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGlvbklkOiBcIm9wZW4td2ViLXNpdGVcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dXJsOiBcImh0dHBzOi8vaGVyZS5pb1wiXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImNvbnRhaW5lclwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJncmlkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMWZyIDFmciAxZnJcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3ZlcmZsb3c6IFwiYXV0b1wiXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IFtcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiYzBcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6IFwiM3B4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFdlaWdodDogXCJib2xkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IFwiZ3JlZW5cIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiYzFcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6IFwiM3B4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFdlaWdodDogXCJib2xkXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IFwicmVkXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImMyXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogXCIxMHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYWRkaW5nOiBcIjNweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpdGVTcGFjZTogXCJub3dyYXBcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yOiBcImJsdWVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiZDAwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6IFwiM3B4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJkMDFcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFkZGluZzogXCIzcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaXRlU3BhY2U6IFwibm93cmFwXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImQwMlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxMHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYWRkaW5nOiBcIjNweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpdGVTcGFjZTogXCJub3dyYXBcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiZDEwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvbnRTaXplOiBcIjEwcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhZGRpbmc6IFwiM3B4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YUtleTogXCJkMTFcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9udFNpemU6IFwiMTBweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFkZGluZzogXCIzcHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdoaXRlU3BhY2U6IFwibm93cmFwXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImQxMlwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmb250U2l6ZTogXCIxMHB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYWRkaW5nOiBcIjNweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpdGVTcGFjZTogXCJub3dyYXBcIlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGVtcGxhdGVEYXRhOiB7XG5cdFx0XHRzdWJUaXRsZTogXCJTdWIgVGl0bGUg8J+agFwiLFxuXHRcdFx0Zmlyc3RWYWx1ZVRpdGxlOiBcIkZpcnN0IFZhbHVlXCIsXG5cdFx0XHRmaXJzdFZhbHVlOiBcIjEwMFwiLFxuXHRcdFx0c2Vjb25kVmFsdWVUaXRsZTogXCJTZWNvbmQgVmFsdWVcIixcblx0XHRcdHNlY29uZFZhbHVlOiBcIjIwMFwiLFxuXHRcdFx0YzA6IFwiQ29sIDFcIixcblx0XHRcdGMxOiBcIkNvbCAyXCIsXG5cdFx0XHRjMjogXCJDb2wgM1wiLFxuXHRcdFx0ZDAwOiBcIjUwXCIsXG5cdFx0XHRkMDE6IFwiMTUwXCIsXG5cdFx0XHRkMDI6IFwiMjUwXCIsXG5cdFx0XHRkMTA6IFwiNTUwXCIsXG5cdFx0XHRkMTE6IFwiNjUwXCIsXG5cdFx0XHRkMTI6IFwiNzUwXCIsXG5cdFx0XHRleGFtcGxlSW1hZ2VVcmw6IFwiaHR0cDovL2xvY2FsaG9zdDo1MDUwL2ltYWdlcy9leGFtcGxlLnBuZ1wiLFxuXHRcdFx0YWN0aW9uYWJsZVVybFRpdGxlOiBcIkhFUkUgV2Vic2l0ZVwiLFxuXHRcdFx0YWN0aW9uYWJsZVVybFRvb2x0aXA6IFwiaHR0cDovL3d3dy5oZXJlLmlvXCJcblx0XHR9XG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogU2hvdyBhIG5vdGlmaWNhdGlvbiBhbmQgcGxheSBhIHNvdW5kIHdpdGggaXQuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uU291bmRVcmwgVGhlIHVybCBvZiB0aGUgc291bmRzIGZpbGUgdG8gcGxheS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2hvd1NvdW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvblNvdW5kVXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0Ly8gd2UgZGlzYWJsZSB0aGUgc291bmQgaWYgaXQgaXMgZW5hYmxlZCBhdCB0aGUgTm90aWZpY2F0aW9uIENlbnRlciBsZXZlbFxuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJTb3VuZCBOb3RpZmljYXRpb25cIixcblx0XHRib2R5OiBcIlRoaXMgaXMgYSBub3RpZmljYXRpb24gd2l0aCBzb3VuZCDwn5SJXCIsXG5cdFx0dG9hc3Q6IFwidHJhbnNpZW50XCIsXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcIm1hcmtkb3duXCIsXG5cdFx0c291bmRPcHRpb25zOiB7IG1vZGU6IFwic2lsZW50XCIgfSxcblx0XHRpZDogcmFuZG9tVVVJRCgpXG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IHBsYXlOb3RpZmljYXRpb24obm90aWZpY2F0aW9uU291bmRVcmwpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgdXNlciBzZXR0aW5ncyBmb3IgdGhlIG5vdGlmaWNhdGlvbiBjZW50ZXIuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvbkNlbnRlclVzZXJTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3Qgc3RhdHVzID0gYXdhaXQgTm90aWZpY2F0aW9ucy5nZXRVc2VyU2V0dGluZ1N0YXR1cyhOb3RpZmljYXRpb25zLlVzZXJTZXR0aW5ncy5TT1VORF9FTkFCTEVEKTtcblx0bG9nZ2luZ0FkZEVudHJ5KGBTb3VuZCBFbmFibGVkOiAke3N0YXR1c31gKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgbm90aWZpY2F0aW9uIHRoYXQgaGFzIGFuIGluZGljYXRvciBiYXIgb24gdGhlIGxlZnQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNob3dJbmRpY2F0b3JOb3RpZmljYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25PcHRpb25zID0ge1xuXHRcdHRpdGxlOiBcIkluZGljYXRvciBOb3RpZmljYXRpb25cIixcblx0XHR0b2FzdDogXCJ0cmFuc2llbnRcIixcblx0XHRpbmRpY2F0b3I6IHtcblx0XHRcdHRleHQ6IFwiTGltaXRcIlxuXHRcdH0sXG5cdFx0Y2F0ZWdvcnk6IFwiZGVmYXVsdFwiLFxuXHRcdHRlbXBsYXRlOiBcImN1c3RvbVwiLFxuXHRcdGlkOiByYW5kb21VVUlEKCksXG5cdFx0dGVtcGxhdGVPcHRpb25zOiB7XG5cdFx0XHRib2R5OiB7XG5cdFx0XHRcdGNvbXBvc2l0aW9uczogW1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdG1pblRlbXBsYXRlQVBJVmVyc2lvbjogXCIxXCIsXG5cdFx0XHRcdFx0XHRsYXlvdXQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogXCJjb250YWluZXJcIixcblx0XHRcdFx0XHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0XHRcdFx0XHRkaXNwbGF5OiBcImZsZXhcIixcblx0XHRcdFx0XHRcdFx0XHRmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuXHRcdFx0XHRcdFx0XHRcdGdhcDogXCIxMHB4XCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IFtcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInRleHRcIixcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFLZXk6IFwiY29udGVudFwiXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRdXG5cdFx0XHR9LFxuXHRcdFx0aW5kaWNhdG9yOiB7XG5cdFx0XHRcdGFsaWduOiBcImxlZnRcIixcblx0XHRcdFx0Y29sb3I6IE5vdGlmaWNhdGlvbnMuSW5kaWNhdG9yQ29sb3IuUkVEXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0ZW1wbGF0ZURhdGE6IHtcblx0XHRcdGNvbnRlbnQ6IFwiVGhpcyBpcyBhIGN1c3RvbSBub3RpZmljYXRpb24gd2l0aCBhIHJlZCBpbmRpY2F0b3Igc2hvd2luZyB0byB0aGUgbGVmdCBvZiB0aGUgdG9hc3RcIlxuXHRcdH1cblx0fTtcblxuXHRjb2RlU2hvd0V4YW1wbGUobm90aWZpY2F0aW9uKTtcblx0YXdhaXQgTm90aWZpY2F0aW9ucy5jcmVhdGUobm90aWZpY2F0aW9uKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgbm90aWZpY2F0aW9uIHRoYXQgaGFzIGFuIGN1c3RvbSBpbmRpY2F0b3IgYmFyIGNvbG9yIHRoZW1lLlxuICovXG5hc3luYyBmdW5jdGlvbiBzaG93Q3VzdG9tSW5kaWNhdG9yTm90aWZpY2F0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuXHRjb25zdCBub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uT3B0aW9ucyA9IHtcblx0XHR0aXRsZTogXCJDdXN0b20gSW5kaWNhdG9yIE5vdGlmaWNhdGlvblwiLFxuXHRcdHRvYXN0OiBcInRyYW5zaWVudFwiLFxuXHRcdGNhdGVnb3J5OiBcImRlZmF1bHRcIixcblx0XHR0ZW1wbGF0ZTogXCJjdXN0b21cIixcblx0XHRpZDogcmFuZG9tVVVJRCgpLFxuXHRcdHRlbXBsYXRlT3B0aW9uczoge1xuXHRcdFx0Ym9keToge1xuXHRcdFx0XHRjb21wb3NpdGlvbnM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRtaW5UZW1wbGF0ZUFQSVZlcnNpb246IFwiMVwiLFxuXHRcdFx0XHRcdFx0bGF5b3V0OiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IFwiY29udGFpbmVyXCIsXG5cdFx0XHRcdFx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdFx0XHRcdFx0ZGlzcGxheTogXCJmbGV4XCIsXG5cdFx0XHRcdFx0XHRcdFx0ZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcblx0XHRcdFx0XHRcdFx0XHRnYXA6IFwiMTBweFwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhS2V5OiBcImNvbnRlbnRcIlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XVxuXHRcdFx0fSxcblx0XHRcdGluZGljYXRvcjoge1xuXHRcdFx0XHRhbGlnbjogXCJyaWdodFwiXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRpbmRpY2F0b3I6IHtcblx0XHRcdGNvbG9yOiBcImN1c3RvbS1pbmRpY2F0b3JcIixcblx0XHRcdGZhbGxiYWNrOiBOb3RpZmljYXRpb25zLkluZGljYXRvckNvbG9yLlJFRCxcblx0XHRcdHRleHQ6IFwiQUxFUlQhISFcIlxuXHRcdH0sXG5cdFx0dGVtcGxhdGVEYXRhOiB7XG5cdFx0XHRjb250ZW50OiBcIlRoaXMgaXMgYSBjdXN0b20gbm90aWZpY2F0aW9uIHdpdGggY3VzdG9tIGluZGljYXRvciBzdHlsaW5nXCJcblx0XHR9XG5cdH07XG5cblx0Y29kZVNob3dFeGFtcGxlKG5vdGlmaWNhdGlvbik7XG5cdGF3YWl0IE5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbik7XG59XG5cbi8qKlxuICogUGxheSBhIHNvdW5kLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvblNvdW5kVXJsIFRoZSB1cmwgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBwbGF5LlxuICovXG5hc3luYyBmdW5jdGlvbiBwbGF5Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvblNvdW5kVXJsOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgYXVkaW8gPSBuZXcgQXVkaW8obm90aWZpY2F0aW9uU291bmRVcmwpO1xuXHRhd2FpdCBhdWRpby5wbGF5KCk7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgd2hpY2ggY2hlY2tzIGZvciB0aGUgY29ubmVjdGlvbiBjaGFuZ2VkIGV2ZW50LlxuICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW4gdGhlIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gYWRkQ29ubmVjdGlvbkNoYW5nZWRFdmVudExpc3RlbmVyKFxuXHRjYWxsYmFjazogKHN0YXR1czogTm90aWZpY2F0aW9ucy5wcm92aWRlci5Qcm92aWRlclN0YXR1cykgPT4gdm9pZFxuKTogdm9pZCB7XG5cdGlmIChzdGF0dXNJbnRlcnZhbElkID09PSB1bmRlZmluZWQpIHtcblx0XHRzdGF0dXNJbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IHN0YXR1cyA9IGF3YWl0IE5vdGlmaWNhdGlvbnMucHJvdmlkZXIuZ2V0U3RhdHVzKCk7XG5cdFx0XHRpZiAoc3RhdHVzLmNvbm5lY3RlZCAhPT0gbGFzdENvbm5lY3Rpb25TdGF0dXMpIHtcblx0XHRcdFx0bGFzdENvbm5lY3Rpb25TdGF0dXMgPSBzdGF0dXMuY29ubmVjdGVkO1xuXHRcdFx0XHRjYWxsYmFjayhzdGF0dXMpO1xuXHRcdFx0fVxuXHRcdH0sIDEwMDApO1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9